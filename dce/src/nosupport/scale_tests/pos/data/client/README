
			DCEATOM


DCEATOM is a DCE performance test suite that has a server and a client. These 
programs can be run on  the same machine or on different machines. A cell has to
be configured and a rgy_edit command "kta -p cell_admin -pw -dce-" needs to 
be issued on all of the DCE machines. The directory which holds the results
contains files with extensions *.out and *.rpt. The *.out files shows the
the output of the command and timing info. The *.rpt is generated by an awk 
script.

The DCEATOM rexx scripts work fine on aix, but some environmental variables
that are needed for the scripts to run don't get set properly in a rexx script,
so the shell script, doit, is used to start dceatom.aix and other rexx scripts.


1 - Copy DCEATOM directory structures to a directory node of your choice.

        # YOURSERVER=/u/server
	# cd /afs/dce/u/tboes
	# cp -r server $YOURSERVER

        # YOURCLIENT=/u/client
	# cd /afs/dce/u/tboes
	# cp -r server $YOURCLIENT

2 - Copy REXX files to the /usr/bin and /usr/lib.

/afs/dce/u/tboes/rexx/aixqapi   /usr/bin
/afs/dce/u/tboes/rexx/aixwatch   /usr/bin
/afs/dce/u/tboes/rexx/librexx.a   /usr/lib
/afs/dce/u/tboes/rexx/rexx   /usr/bin
/afs/dce/u/tboes/rexx/rxqpull   /usr/bin
/afs/dce/u/tboes/rexx/rxqpush   /usr/bin
/afs/dce/u/tboes/rexx/rxqueue   /usr/bin



3 - Run dceatom  with the DCE core daemons up and running.

    Start the server program with DCE core up and running.

	# cd $YOURSERVER
	# dce_login cell_admin -dce-
	# doit -o 24KDCE -b              /* Run server with DCE core up, output
					    directory is 24KDCE, both tcp and
                                            udp protocals. */

    Start the client program with DCE core up and running.

	# cd $YOURCLIENT
	# dce_login cell_admin -dce-
	# doit -a -o 24KDCE -b           
                                          /* Run client with DCE core up, output
                                            directory is 24KDCE, both tcp and 
					    udp protocals. */

	NOTE: Answers to the prompts in [] from dceatom.aix.

'Have you logged on as an administrator?  If not, press Ctrl+Break'
'to end this test now.  Otherwise....'
[Enter]  
  
'Enter the name of the CDS clearinghouse (or press Enter to skip API test)...'
[tboes_ch]
  

'Enter the net id of the server that DCE has been started on.'
'RPC benchmarks must be running on the server (mstsrv1 or mstsrv).'
[129.35.69.251]
 
'You will be asked 4 questions that pertain to the hardware and software'
'environment that the measurements will be running in.  The answers to'
'these questions will be stored at the end of each report file.'

'Enter the build level of DCE that you have installed'
[24KDCE]

'Enter the level of ' OSYS' that you have installed'
[324]

'Enter a description of the client machine'
'ex:  Mod 80 client 25 Mh'
[520]

'Enter a description of the server machine'
'ex:  Mod 95 server 33 Mh'
[520]


4 - Run dceatom  with RPC daemon up only.

    Start the server program with RPC running only.             
        # rc.dce rpcd                      /* start rpc deamon  */
	# host tboes			   /* Get the netid of server machine */
	tboes.austin.ibm.com is 129.35.69.251
	# cd $YOURSERVER
	# doit -o 24KNODCE -O -b          /* Run server with RPC running, output
					    directory is 24KNODCE, both tcp and
                                            udp protocals. */

    Start the client program with RPC running only.             

	# cd $YOURCLIENT
	# mkdir 24KNODCE
	# mstcli1.cmd 129.35.69.251  0 24KNODCE 
					 /* Run client with RPC running, output
                                            directory is 24KNODCE, both tcp and 
					    udp protocals, netid of server is
 				            129.35.69.251 */

   NOTE: Since the rexx script parses everything in uppercase, the output and
         source directories should be in uppercase. You can change this by
         editing the parse statements in dceatom.aix. 

CR Number                     : 12521
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 12311
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : file
Short Description             : README update needed
Reported Date                 : 10/5/94
Found in Baseline             : 1.1b20
Found Date                    : 10/5/94
Severity                      : B
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b21
Affected File(s)              : src/test/systest/file/README.RWALL
Sensitivity                   : public

[10/5/94 public]

The README.RWALL should include a note that if the test is to be run
for > 10h, which requires the default ticket lifetime in the registry
to be set to > 10h, ALL the machine "self" principals should be given
max certificate lifetimes of 10h. If you do NOT do this, DCE performance
in the cell degrades as the credential caches grow (see CR 12311).

[10/6/94 public]
Submitted.



CR Number                     : 12512
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 12388
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcesergy
Short Description             : dcesergy failing alot
Reported Date                 : 10/5/94
Found in Baseline             : 1.1b20
Found Date                    : 10/5/94
Severity                      : B
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b20
Affected File(s)              : test/systest/security/sec.rgy.7/decesergy.data
Sensitivity                   : public

[10/5/94 public]

During a 18CHO run with bl-20, the dcesergy test (sec.rgy.7) recorded
the following number of pass/fails:
        pass = 21, fail = 34

This needs to be further investigated since it was expected that the
test would run better this baseline due to test fixes and DCE 
performance improvements.

[10/5/94 public]

The test would have run better if I had submitted both files associated with 
CR 12388.  I neglected to submit the dcesergy.data file.  The result was 
that the test server was not waiting any time at all before accepting client
requests.



CR Number                     : 12487
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : HYP:DCDREL003 may need changes
Reported Date                 : 10/4/94
Found in Baseline             : 1.1b20
Found Date                    : 10/4/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b21
Affected File(s)              : DCDREL003*
Sensitivity                   : public

[10/4/94 public]

DCDREL003 has not been fully executed due to incomplete setup. Once
that problem is fixed it may require additional changes to reflect
dced design decisions that were made after the test was written.

[10/5/94 public]

Rick did this work and submitted...



CR Number                     : 12486
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : HYP: DCDREL002 changes needed due to dced design decisions
Reported Date                 : 10/4/94
Found in Baseline             : 1.1b20
Found Date                    : 10/4/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b21
Affected File(s)              : dcdrel002.tcl,dcd_st_utils.tcl
Sensitivity                   : public

[10/4/94 public]

Operation of the "server ping" command and "server auto restart" was 
unclear in some situations. This needs to be clarified, and the 
test may need modifications to reflect the decisions made.

[10/5/94 public]

Modified the test to avoid using "server ping" to check status of
an automatic server.



CR Number                     : 12484
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : HYP:DCDREL002 doesn't use the portable form of "rsh"
Reported Date                 : 10/4/94
Found in Baseline             : 1.1b20
Found Date                    : 10/4/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b21
Affected File(s)              : dcdrel.functions
Sensitivity                   : public

[10/4/94 public]

DCDREL002 uses "rsh" directly in several places rather than "${RSH_COMM}",
and thus fails when run from an HP-UX system. (It works fine with an HP-UX
system as the target, run from an OSF system). (It doesn't use rshsp 
because its running Tcl scripts rather than ksh scripts.) The fix is to 
modify the offending routines in dced/ts/lib/dcdrel.functions.

[10/5/94 public]

Turned out that rshsp can be used with Tcl scripts, so I changed the rsh's
to rshsp's.



CR Number                     : 12440
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : I18N
Short Description             : HYP: tests need minor corrections to run
Reported Date                 : 9/30/94
Found in Baseline             : 1.1b20
Found Date                    : 9/30/94
Severity                      : C
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b20
Affected File(s)              : src/test/systest/I18N/README
		 src/test/systest/I18N/lib/test_common.tcl
		 src/test/systest/I18N/ts/I8NSAN001
Sensitivity                   : public

[9/30/94 public]

The I8NSAN001 tests need some minor corrections.  The path to dcecp,
the syntax to link create, and acl edit of non-PCS objects need to
be addressed.

[10/3/94 public]
On hypercritical list.

[9/30/94 public]

Submitted changes.



CR Number                     : 12396
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : Submit dlgcfg002 test
Reported Date                 : 9/28/94
Found in Baseline             : 1.1
Found Date                    : 9/28/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b20
Affected File(s)              : Makefile
Sensitivity                   : public

[9/28/94 public]


Submit the dlgcfg002 test.    
This test will test delegation backward compatibility
and delegation acl entries.

[9/29/94 public]

Typo, I meant dlgcfg002 not dlgcfg001.
dlgcfg001 is already submitted.

[10/05/94 public]

Test fixed in 1.1unintegrated functionality

[10/05/94 public]

Really fixed in 1.1b20



CR Number                     : 12347
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : security
Short Description             : SEC tests failing with 'rgy_edit -update hung'
Reported Date                 : 9/26/94
Found in Baseline             : 1.1b18
Found Date                    : 9/26/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b20
Affected File(s)              : dceseacl.data,dceseact.data,dcesepol.data,dcesestr.data
Sensitivity                   : public

[9/26/94 public]

Approximately 10% of the time the security system tests are failing with the error
that 'rgy_edit -update is hung' when run in a busy cell.  This is due to the fact
that the tests run rgy_edit in the background and only give it RGY_WAIT seconds to
complete before declaring it hung and killing it.  The current val is 120; this is
no longer sufficient and must be increased.

[9/28/94 public]
Submitted fix to increase RGY_WAIT to 180.



CR Number                     : 12265
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : sec
Short Description             : dceseacl test is failing
Reported Date                 : 9/20/94
Found in Baseline             : 1.1b18
Found Date                    : 9/20/94
Severity                      : B
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b19
Affected File(s)              : test/systest/security/sec.functions
Sensitivity                   : public

[9/20/94 public]

The dceseacl test is failing consistently.  I'm assigning this to myself
until I figure out exactly where the test is failing.

Here's the abbreviated error list from the sanity test run:

 There were 5 ERRORs and/or FAILures total in
                        the 1 failed iterations.  Here's the breakdown:
                           1 - DCE_ERROR
                           1 - ERROR: in change_mgmt()
                           1 - ERROR: in changing organization management info
                           1 - ERROR: seaclclibrandy0org's management info was c
hanged unexpectedly                             in change_neg_org_management_inf
o
                           1 - ERROR: seaclclibrandy0org's management info was n
ot changed as expected                          in change_org_management_info

[9/20/94 public]
The failure is due to the ERA mods being backed out of rgy_edit
on 9/9.  We need to undo the mods we made to sec.functions when
these were originally put in.



CR Number                     : 12264
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : sec
Short Description             : dcesepol test is failing
Reported Date                 : 9/20/94
Found in Baseline             : 1.1b18
Found Date                    : 9/20/94
Severity                      : B
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b19
Affected File(s)              : test/systest/security/sec.functions
Sensitivity                   : public

[9/20/94 public]

The dcesepol tests are failing.  I'm assigning this to myself until I figure
out where the test is failing, but I don't want to lose track of it.

One of the problems is that the test expires accounts, but the account is still
able to login.  I know there have been a number of changes to passwd modules 
recently. 

Here's the short breakdown from a sanity test run:

                        There were 34 ERRORs and/or FAILures total in
                        the 1 failed iterations.  Here's the breakdown:
                           1 - ERROR: STATUS=0, CURRENT_SECS = 64157, PLS_VALID_
SECS = 64096
                           1 - ERROR: STATUS=0, CURRENT_SECS = 64173, ALS_VALID_
SECS = 64113
                           1 - ERROR: Some users were able to login UNEXPECTEDLY
 or warning messages did not appear
                           1 - ERROR: Unable to complete all remote logins
                           1 - ERROR: sepolbrandy1p passed login test UNEXPECTED
LY, password should be expired
                           1 - ERROR: sepolbrandy3p passed login test UNEXPECTED
LY, account should be expired
                           2 - FAIL
                           1 - Final Logins: Pass = 106, Fail = 2, Total = 108
                           1 - Logins: Pass = 106, Fail = 2, Total = 108
                           1 - Logins: Pass = 18, Fail = 0, Total = 18
                           1 - Logins: Pass = 27, Fail = 0, Total = 27
                           1 - Logins: Pass = 36, Fail = 0, Total = 36
                           1 - Logins: Pass = 45, Fail = 0, Total = 45
                           1 - Logins: Pass = 54, Fail = 0, Total = 54
                           1 - Logins: Pass = 63, Fail = 0, Total = 63
                           1 - Logins: Pass = 72, Fail = 0, Total = 72
                           1 - Logins: Pass = 81, Fail = 0, Total = 81
                           1 - Logins: Pass = 9, Fail = 0, Total = 9
                           1 - Logins: Pass = 90, Fail = 0, Total = 90
                           1 - Logins: Pass = 99, Fail = 0, Total = 99
                          13 - Sorry. Password Validation Failure. - Invalid pas
sword. (dce / sec)

[9/20/94 public]
The failure is due to the ERA mods being backed out of rgy_edit
on 9/9.  We need to undo the mods we made to sec.functions when
these were originally put in.



CR Number                     : 12084
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : i486
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : svc
Short Description             : svc test thinks secd svc debug not working
Reported Date                 : 9/7/94
Found in Baseline             : 1.1b16
Found Date                    : 9/7/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b19
Affected File(s)              : security/server/rs/rs_main.c
Sensitivity                   : public

[9/7/94 public]

On the 486 w/ osf/1 using bl-16.3, secd debug routing specifications have
no effect.  Works fine on HPUX.  This is demonstrated by systests
svccfg005 and svccfg006.  By hand, do the following:

update /etc/rc.dce to put these 2 lines before the startup of secd

	SVC_SEC_DBG=sec:*.2:FILE:/tmp/sec.debug
	export SVC_SEC_DBG

or, using the default routing file, add the following line to
/opt/dcelocal/var/svc/routing

	sec:general.2:FILE:/tmp/sec.file.debug

The debug files never get created.

[ sekhar 9/8/94 public ]

The debug files are not created unless a SVC debug message 
is logged. 

And currently there are no SVC debug messages logged
for the "sec" component ( except in sec_login_pvt.c - but I
submitted those changes just yesterday  and should not be in bl16.3
which you are running ). 

So  the behaviour on OSF/1 seems to be correct.

You said it "Works fine on HPUX" . If a debug file is being
created , then it is not right.

I just configured a cell, shut down secd, added the following
line to /opt/dcelocal/var/svc/routing 

   sec:*.9:TEXTFILE:/opt/dcelocal/var/security/sec_debug.log

and restarted secd . And the file sec_debug.log was not created.

[9/8/94 public]
Can you check to see if the debug file (on HPUX ) was 
possibly created as a result of non sec debug messages being
logged to the same debug file ?

[9/8/94 public]
That was not the case.  Different components were using different files.
Sometimes I just get a zero length file on HP, depending on the dbg level,
but I always at least get the file.  If the level is *.1 I get the following
msgs:
prop_driver: attempt get rep binding

prop_driver: attempt get rep binding auth info

prop_driver: rep binding, get auth handle succeeded

prop_driver: rep binding succeeded

[9/8/94 public]
Turns out that the dbg code was getting hit on the HP because a replica
was configured in that cell.  Hitting the debug message created the
file regardless of debug level.  So the problem is that the test
expects to find the debug file, but if no debug statements are hit
it won't get created.  At this point in time, not many sec debug
calls have been converted to use SVC.  So the test should be updated
to deal with this, i.e. not report an error, at least until more debug
calls use svc.

[ sekhar 9/9/94 public ]

FYI, I just submitted a change so that a debug message is logged 
on secd startup and shutdown ( using sec_admin/dcecp )
to create a debug file for testing purposes.



CR Number                     : 11993
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : tools
Short Description             : gdsDump not exported
Reported Date                 : 9/1/94
Found in Baseline             : 1.1b16
Found Date                    : 9/1/94
Severity                      : B
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b16
Affected File(s)              : /src/test/systest/tools/Makefile
Sensitivity                   : public

[9/1/94 public]

The gds system test tool gdsDump is not being exported.

[9/7/94 public]

Submitted makefile with change.  Re-installed $TET_ROOT/system/tools with
dcetest_config, gdsDump gets installed.



CR Number                     : 11964
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : 
Short Description             : dcesestr fails on a 1.1 HPUX
client when having been executed on a 1.0.3 client
Reported Date                 : 8/30/94
Found in Baseline             : 1.1b16
Found Date                    : 8/30/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b17
Affected File(s)              : test/systest/security/resestr
Sensitivity                   : public

[8/30/94 public]

As part of the compatibility testing, a 1.0.3 client is routinely
configured on a 1.1 cell. We expect all the 1.0.3 sytstem tests
to pass as they did by the end of 1.0.3.

The command to run the test is:

run.sec -t 15 -m "soldier trinidad dce3 barbados west" dcesestr

where "west" is an HPUX. The test fails on west and the log says:

520|0 1 30516 9 1|ERROR: RESESTR failed on west.
520|0 1 30516 9 2|Remote journal from west follows as info lines:
520|0 1 30516 9 3|      west    User: root (0) TCC Start, Command Line: tcc
-e -j /tmp/resestr.wes
t.940830131241 system/security resestr
520|0 1 30516 9 4|      west    Config Start
520|0 1 30516 9 5|      west    TET_VERSION=1.10
520|0 1 30516 9 6|      west    TET_OUTPUT_CAPTURE=False
520|0 1 30516 9 7|      west    TET_RESCODES_FILE=tet_code
520|0 1 30516 9 8|      west    TET_EXEC_IN_PLACE=False
520|0 1 30516 9 9|      west    TET_NSIG=31
520|0 1 30516 9 10|     west    TET_SIG_IGN=26
520|0 1 30516 9 11|     west    Config End
520|0 1 30516 9 12|     west    "Starting RESESTR Test Suite"
520|0 1 30516 9 13|     west    TC Start, scenario ref 102-1
520|0 1 30516 9 14|     west    TCM Start
520|0 1 30516 9 15|     west    Starting RESESTR on west
520|0 1 30516 9 16|     west    IC Start
520|0 1 30516 9 17|     west    TP Start
520|0 1 30516 9 18|     west    Starting iteration 1
520|0 1 30516 9 19|     west    Attempting to log in as sestrlesoldier0p
520|0 1 30516 9 20|     west    Successfully logged in as
sestrlesoldierwest0p testpw
520|0 1 30516 9 21|     west    Attempting to change home directory of
person sestrlesoldierwest0p
520|0 1 30516 9 22|     west    Was able to change home directory for
sestrlesoldierwest0p
520|0 1 30516 9 23|     west    Attempting to change shell of person
sestrlesoldierwest0p
520|0 1 30516 9 26|     west    Was able to change sestrlesoldierwest0p
password from testpw to ne
wtestpw
520|0 1 30516 9 27|     west    NORESULT
520|0 1 30516 9 28|     west    IC End
520|0 1 30516 9 29|     west    TC End
520|0 1 30516 9 30|     west    "Completed RESESTR Test Suite"
520|0 1 30516 9 31|     west    TCC End
520|0 1 30516 9 32|End of remote journal from west.

[8/30/94 public]
This is another case of the problem we saw before where the remote
test (the 1.1 version in this case) is attempting to check the 
value of USE_ERA.  The fix for the all-1.1 case was to set the
value in the env of the remote shell call.  The remote test will
have to be updated to have a default value of NO for the 1.0.3/1.1
case.



CR Number                     : 11832
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : hcells
Short Description             : No system tests are in place for hierarchical cells
Reported Date                 : 8/23/94
Found in Baseline             : 1.1b14
Found Date                    : 8/23/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b20
Affected File(s)              : hclcfg001,hclrel001
Sensitivity                   : public

[8/23/94 public]

The existing system tests don't lend themselves readily to 
testing of hierarchical cells. To avoid interfering with stable
existing dce system tests, separate tests should be created.

[10/5/94 public]

HCLCFG001 and HCLREL001 are now in place as initial tests
for use in intercell and hierarchical cell testing.



CR Number                     : 11720
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : DCDREL tests not installed by dcetest_config
Reported Date                 : 8/16/94
Found in Baseline             : 1.1b14
Found Date                    : 8/16/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b19
Affected File(s)              : dcetest_config
Sensitivity                   : public

[8/16/94 public]

The test installation program needs to be modified to install
the DCDREL system tests.

[9/27/94 public]

Done



CR Number                     : 11716
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : multi machine smoketest
Short Description             : ERROR:   rgy_edit - adding CDS Server principals
Reported Date                 : 8/16/94
Found in Baseline             : 1.1
Found Date                    : 8/16/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b15
Affected File(s)              : dce_config
Sensitivity                   : public

[8/16/94 public]

 ERROR:   rgy_edit - adding CDS Serv

MACHINE:	RIOS 
OS:		AIX
HOSTNAME:	mudslide

CONFIGURATION: 	multi machine cell test
		sif = sec and cds master, dts server
		budapest = sec replica, cds replica, dts server, dfs server
		mudslide = sec replica, cds replica, dfs client

CORE FILES PLATFORM HP          = none found
		    AT486	= none found
		    RIOS	= none found


DAEMONS RUNNING:    HP		= secd,cdsd,dtsd,dced,sec_clientd,cdsadv
		    AT486	= secd,cdsd,dtsd,dced,sec_clientd,cdsadv
                    RIOS        = secd,dtsd,dced,sec_clientd,cdsadv

SUBMISSION LOG:

Submission Log *****

  Submitted by Ajay Bhatnagar; User name: ajayb
  Date: 8/15/94; Time: 11:23
  Number of files: 1; Defect number: 11661.
  Set name: ajayb_dcecp1_1; Sandbox: dcecp1_1
  List of files and revisions:
./admin/dcecp/rgy.h     1.1.4.32        1.1.4.31

  Detailed description:

[ ./admin/dcecp/rgy.h ]
Changed type of randompwd from char* to boolean32.
[13:53:30  ajayb]

  Submitted by Julie Salamone; User name: salamone
  Date: 8/15/94; Time: 13:28
  Number of files: 4; Defect number: 11636.
  Set name: salamone_dcp; Sandbox: dcp
  List of files and revisions:
./admin/dcecp/rgy_sa_tclif.c    1.1.2.15        1.1.2.14
./admin/dcecp/rgy_sa_replist.c  1.1.2.15        1.1.2.14
./test/admin/dcecp/ts/rgy/registry_catalog_N.tcl        1.1.2.2 1.1.2.1
./test/admin/dcecp/ts/rgy/registry_catalog_P.tcl        1.1.2.2 1.1.2.1
  Detailed description:

[ ./admin/dcecp/rgy_sa_tclif.c ]
CR11651: Generate errors with bad option or bad argument.
[17:26:30  salamone]

CR11636: Allow registry catalog to take an argument.
[16:19:39  salamone]
[ ./admin/dcecp/rgy_sa_replist.c ]
CR11636: Allow registry catalog to take an argument.
[16:19:39  salamone]
[ ./admin/dcecp/rgy_sa_replist.c ]
CR11636: Allow registry catalog to take an argument.
CR11651: Generate errors with bad option or bad argument.
[17:24:08  salamone]
[ ./test/admin/dcecp/ts/rgy/registry_catalog_N.tcl ]
CR11636: Allow registry catalog to take an argument.
[17:22:51  salamone]
[ ./test/admin/dcecp/ts/rgy/registry_catalog_P.tcl ]
CR11636: Allow registry catalog to take an argument.
[17:23:14  salamone]
  Submitted by Ajay Bhatnagar; User name: ajayb
  Date: 8/15/94; Time: 14:19
  Number of files: 2; Defect number: 9691.
  Set name: ajayb_dcecp1_1; Sandbox: dcecp1_1
  List of files and revisions:
./admin/dcecp/dcp.sams  1.1.8.25        1.1.8.24
./admin/dcecp/rgy.c     1.1.4.41        1.1.4.40
 Detailed description:

[ ./admin/dcecp/dcp.sams ]
Improve explanation for dcp_s_rgy_invalid_pwd_val_type.
[18:17:57  ajayb]

Add entry for dcp_s_rgy_invalid_pwd_val_type
[15:15:04  ajayb]
[ ./admin/dcecp/rgy.c ]
rgy_account_create/modify():

- Match the sequence for initializing arg_table[].dst with the rest
  of the fields in the table. A mismatch in this sequence was causing
  dcecp to coredump when using the random password generation
  functionality.

- Use 'user-select' semantics for a pwd_val_type of 'none', i.e.
  pre-1.1 behavior.

- Return an error if the pwd_val_type is of an unrecognized type.
[14:39:51  ajayb]

  Detailed description:

[ ./admin/dcecp/dcp.sams ]
Improve explanation for dcp_s_rgy_invalid_pwd_val_type.
[18:17:57  ajayb]

Add entry for dcp_s_rgy_invalid_pwd_val_type
[15:15:04  ajayb]
[ ./admin/dcecp/rgy.c ]
rgy_account_create/modify():

- Match the sequence for initializing arg_table[].dst with the rest
  of the fields in the table. A mismatch in this sequence was causing







output from mudslide:/usr/rrizzo/do_test.dfs.log

S:****** Starting cdsadv...
        Modifying acls on /.:/sec/replist ...
        Modifying acls on /.:/subsys/dce/sec ...
        Modifying acls on /.:/sec ...
ERROR: no update sites for this acl operation (dce / sec)
        Modifying acls on /.: ...
        Modifying acls on /.:/cell-profile ...
                start slave security server (secd) ...


S:****** Configuring CDS Client...
ERROR:   rgy_edit - adding CDS Server principals.
  Message from rgy_edit:
  Current site is: registry server at /.../sif_cell/subsys/dce/sec/master
Domain changed to: principal
?(rgy_edit) Unable to add principal "hosts/mudslide/cds-server" - Principal already exists (\
Registry Edit Kernel)
 (dce / sad)
?(rgy_edit) Unable to add principal "hosts/mudslide/gda" - Principal already exists (Registr\
y Edit Kernel)
 (dce / sad)
Domain changed to: account
?(rgy_edit) Unable to add "hosts/mudslide/cds-server" - Specified object already exists (Reg\
istry Edit Kernel)
 (dce / sad)
?(rgy_edit) Unable to add "hosts/mudslide/gda" - Specified object already exists (Registry E\
dit Kernel)
 (dce / sad)
?(rgy_edit) Unable to add key - Specified key already exists in key store (dce / sec)
?(rgy_edit) Unable to add key - Specified key already exists in key store (dce / sec)
bye.
        Press <RETURN> to continue, CTRL-C to exit: ERROR:   cdsadv is already running.
        Press <RETURN> to continue, CTRL-C to exit: S:****** Configuring DTS Local Server


output from mudslide:/tmp/dce)config.log


DEBUG:     Executing: err_exit(rgy_edit - adding CDS Server principals.
  Message from rgy_edit:
  Current site is: registry server at /.../sif_cell/subsys/dce/sec/master 
Domain changed to: principal
?(rgy_edit) Unable to add principal "hosts/mudslide/cds-server" - Principal already exists (Registry Edit Kernel)
 (dce / sad)
?(rgy_edit) Unable to add principal "hosts/mudslide/gda" - Principal already exists (Registry Edit Kernel)
 (dce / sad)
Domain changed to: account
?(rgy_edit) Unable to add "hosts/mudslide/cds-server" - Specified object already exists (Registry Edit Kernel)
 (dce / sad)
?(rgy_edit) Unable to add "hosts/mudslide/gda" - Specified object already exists (Registry Edit Kernel)
 (dce / sad)
?(rgy_edit) Unable to add key - Specified key already exists in key store (dce / sec)
?(rgy_edit) Unable to add key - Specified key already exists in key store (dce / sec)
bye.)
ERROR:   rgy_edit - adding CDS Server principals.
  Message from rgy_edit:
  Current site is: registry server at /.../sif_cell/subsys/dce/sec/master 
Domain changed to: principal
?(rgy_edit) Unable to add principal "hosts/mudslide/cds-server" - Principal already exists (Registry Edit Kernel)

[8/16/94 public]
Cuased by changing of the smoketest scripts to config a security
replica and then trying to do a CDS client.  Fixed up dce_config
so config_cdsclient() wont be called more than once.



CR Number                     : 11701
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : audit systests using kill -9 auditd
Reported Date                 : 8/15/94
Found in Baseline             : 1.1b14
Found Date                    : 8/15/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b14
Affected File(s)              : audrel001.c, audstr001
Sensitivity                   : public

[8/15/94 public]


The audit system tests are using kill -9 auditd,
Need to fix so the tests do not kill -9 auditd.



CR Number                     : 11670
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dlgcfg001
Short Description             : errors installing dlgcfg001 tests
Reported Date                 : 8/12/94
Found in Baseline             : 1.1b14
Found Date                    : 8/12/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b15
Affected File(s)              : dcetest_config
Sensitivity                   : public

[8/12/94 public]

dcetest_config fails installing the dlgcfg001 test. 

                installing test/tet/system/security ...
chmod: /dcetest/dcelocal/test/tet/system/security/ts/dlgcfg001/dlg_client:
Not a directory
chmod: /dcetest/dcelocal/test/tet/system/security/ts/dlgcfg001/dlg_intermediary:
Not a directory
chmod: /dcetest/dcelocal/test/tet/system/security/ts/dlgcfg001/acl_server:
Not a directory
                installing test/tet/system/threads ...


Before submitting changes to dcetest_config, make sure the changes 
work.

[8/12/94 public]

dctest_config not checking whether dlgcfg001 directory
exists or not.  If the directory doesn't exist it creates it.
Made the change to dcetest_config. Fixed.



CR Number                     : 11655
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : security/dcesestr
Short Description             : dcesestr test not deleting registry objects
Reported Date                 : 8/11/94
Found in Baseline             : 1.1b14
Found Date                    : 8/11/94
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b16
Affected File(s)              : test/systest/security/dcesestr
Sensitivity                   : public

[8/11/94 public]

The del_obj function in the dcesestr test is never deleting the
registry objects since it performs a loop over $SEC_MACHINE
where it should be $SEC_MACHINES.  This has had the effect of
bypassing the tests for deleting regi objs...

[9/7/94 public]

Fixed by submission of revision 1.1.10.4 with ERA updates.



CR Number                     : 11647
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : dcetest_config work to copy the installed delegation functional tests for system test purposes
Reported Date                 : 8/10/94
Found in Baseline             : 1.1b13
Found Date                    : 8/10/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b14
Affected File(s)              : audrel001.c, audstr001
Sensitivity                   : public

[8/10/94 public]

Need to copy over the dlg_client, dlg_intermediary
and acl_server from the security functional test area.
into the system test area for use by dlgcfg001



CR Number                     : 11565
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dlg
Short Description             : dlg_client needs to bind to master
Reported Date                 : 8/4/94
Found in Baseline             : 1.1b13
Found Date                    : 8/4/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b16
Affected File(s)              : test/security/api/moretests/dlg_client.c
Sensitivity                   : public

[8/4/94 public]

The dlg_client needs to bind to the master security replica in 
order to make updates.  It works fine as is if you don't have a 
read-only replica running in the cell, if it does you get the
following (sometimes):
pomerol /dcetest/dcelocal/test/tet/system/security/ts/dlgcfg001 K# ./dlg_client -la
Error from sec_rgy_attr_update: Replica is not the master (dce / sec)
Num_returned: 4823624, Num_left: -1540070320, Failure_index: 1075951736

Fix is to add sec_rgy_site_open_update call before sec_rgy_attr_update

[9/7/94 public]
Fixed by submission (which subsequently got overwritten and then
put back in) of: 
revision 1.1.3.6
date: 1994/08/04 22:28:27;  author: hester;  state: Exp;  lines: +18 -2
        added sec_rgy_site_open_update call to get master rgy
        [1994/08/04  22:21:53  hester]



CR Number                     : 11534
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcesestr
Short Description             : dcesestr fails to execute from
an OSF1 or RIOS machine to others
Reported Date                 : 8/2/94
Found in Baseline             : 1.1b13
Found Date                    : 8/2/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b14
Affected File(s)              : test/systest/security/dcesestr
Sensitivity                   : public

[8/2/94 public]

Well, this took me a while to figure out. I first blamed it on
my 1.0.3 to 1.1 testing but it turns out to be the 1.1 version
of the test that has the problem.

The current version of dcesestr fails when started on a
RIOS or OSF1 and remotely executes on an HPUX or OSF1.

The test fails in the remote_test() procedure. The "rshp .. tcc.."
command fails to complete. 

The failure on the RIOS is different, prints a different error.

The test succeeds when going from an HPUX to an OSF1. I have
not looked for other successful combinations.

[8/3/94 public]
Fix submitted to set USE_ERA in env of remote shell, to prevent 
check of unset variable.



CR Number                     : 11511
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : DCDREL002 can't find included .tcl file
Reported Date                 : 8/1/94
Found in Baseline             : 1.1b13
Found Date                    : 8/1/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b21
Affected File(s)              : dcdrel002.tcl
Sensitivity                   : public

[8/1/94 public]

When DCDREL002 is run on a remote node, it cannot find the 
included file dcd_st_utils.tcl. The path used needs to be fixed
to match up to the path used in the other .tcl files.

[10/05/94 public]

Modified file to use environment variable defining location of
the tests.



CR Number                     : 11509
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : HYP: Acl management portion of dcdrel003 reports "acl object not found"
Reported Date                 : 8/1/94
Found in Baseline             : 1.1b13
Found Date                    : 8/1/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b21
Affected File(s)              : DCDREL003*
Sensitivity                   : public

[8/1/94 public]

The acl management test portion of DCDREL003 requires setup which has not 
yet been incorporated into the test.

[8/2/94 public]
The script ./test/systest/admin/dced/ts/lib/run_setup.sh can be run to
do the neccesary setup.  It invokes (as root/self) a TCL script to
set ACL's and add CDS directories.

[10/4/94 public]
This work is needed to make this test useful before final code freeze.
Raised priority.

[10/4/94 public]
Rick fixed this, marking as such.



CR Number                     : 11486
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : audrel001 killing auditd before dcecp
Reported Date                 : 7/29/94
Found in Baseline             : 1.1b13
Found Date                    : 7/29/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b14
Affected File(s)              : audrel001.c
Sensitivity                   : public

[7/29/94 public]


Audit daemon is being killed in audstr001 before
dcecp gets a chance to examine the trail.

[8/22/94 public]

Closed, also use this particular CR to test out
OT's updating ability after today's reboot.



CR Number                     : 11428
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : test
Short Description             : cleanup dlg_client
Reported Date                 : 7/25/94
Found in Baseline             : 1.1
Found Date                    : 7/25/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b14
Affected File(s)              : dlg_client.c, README
Sensitivity                   : public

[7/25/94 public]


Cleanup the dlg_client test in src/security/api/moretests

- Add README file for functional test
- Describe negative tests in README
- Differentiate return codes between nbi and dis
- Add negative testcase acl setup script
- code changes such that negative
testcases that run correctly (ie. access is denied)
report PASSED because this is the expect result. 
- Correct messages from -dt i and <no option> runs of dlg_client

[8/01/94 public]

Fixed, built and run  on a nightly build successfully.

[8/04/94 public]

I noticed that the Negative delegation test wasn't checking
the value of the return code from dlg_test_access.
I'll make the fix to dlg_client.c

[8/24/94 public]

Test update



CR Number                     : 11407
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : 
Short Description             : DCDREL001 test client gets rpc_s_unknown_stub_rtl_if_vers error
Reported Date                 : 7/23/94
Found in Baseline             : 1.1b13
Found Date                    : 7/23/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b14
Affected File(s)              : unknown
Sensitivity                   : public

[7/23/94 public]

When DCDREL001 is run on an HPUX platform the test client aborts
with a Signal 6 after reporting the following: 

Exception: interface's stub/runtime version is unknown (dce / rpc)

The same sources compile and run without this problem on the OSF/1
platform. The problem is believed to be related to compilation 
warnings which occur when the test is built on the HP platform.

[8/22/94 public]

This error went away in BL14. I had believed it to be a problem
in the test, but now thinks its more likely to have actually 
been due to some underlying problem in dce which was fixed. 
Since it hasn't recurred in BL14.x or Bl15, I'm closing it.



CR Number                     : 11403
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : Please don't link with libdceutils
Reported Date                 : 7/23/94
Found in Baseline             : 1.1
Found Date                    : 7/23/94
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 1.1b17
Affected File(s)              : dcdrel001/Makefile
Sensitivity                   : public

[7/23/94 public]
libdceutils is in libdce, please don't link with both. This extra
link has prevented me not building libdceutils.a.

[8/30/94 public]
Modified Makefile as requested.



CR Number                     : 11385
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : era
Short Description             : HYP: need ERA systests
Reported Date                 : 7/21/94
Found in Baseline             : 1.1
Found Date                    : 7/21/94
Severity                      : B
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b21
Affected File(s)              : test/systest/security/dceseacl,era.functions,sec.functions,era.data
Sensitivity                   : public

[7/21/94 public]

Need to add ERA systests to dce1.1 tree.  The first submission will
cover tests in current state - written and debugged to the point of
not using any of the dcecp schema functionality (not in b-11 which
they were last run against). Future submissions needed to verify
behavior.

[8/25/94 public]
Updates need to be made to test to reflect name change to xattrschema
and to use real output as it has become implemented.

[9/7/94 public]
Updated priority to show we need some more udpates for 1.1, mostly
to catch up with final changes to dcecp syntax/output and fine tuning
test run once all blocking bugs are passed.

[10/3/94 public]
changed priority to 0 to indicate should be done for 1.1 release

[10/3/94 public]

On hypercritical list...



CR Number                     : 11273
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 9133
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : sec.rgy.7
Short Description             : 'duration' not initialized in sec.rgy.7/secrgy_client.c
Reported Date                 : 7/13/94
Found in Baseline             : 1.0.3
Found Date                    : 7/13/94
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b16
Affected File(s)              : secrgy_client.c
Sensitivity                   : public

[7/13/94 public]
This may explain the first part of CR 9133.

Full Description:
        'duration' is used, but not initialized in secrgy_client.c, when
        -t option is not specified for the test.
 
        This may cause the client(s) to run for an indeterminate
        amount of time, when -t option on the test is not used. 

Repeat By:

Proposed Solution:
        In the function main()

        #ifdef _FTX
        unsigned32           duration=0;
        #else
        unsigned32           duration;
        #endif

[7/19/94 public]

Fixed submitted. Tested on HPUX. Before closing this CR,
sec.rgy.7 will be tested on other platforms.

[8/24/94 public]

This has been fixed for a while and has been working.



CR Number                     : 11220
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : Need to dce_login before running audstr001
Reported Date                 : 7/8/94
Found in Baseline             : 1.1
Found Date                    : 7/8/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b14
Affected File(s)              : audrel001.c, audstr001
Sensitivity                   : public

[7/8/94 public]


Need to dce_login before running audstr001 test.
This shouldn't be necessary.



CR Number                     : 11210
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 10091
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcerpper
Short Description             : dcerpper fails to run successfully on all platforms
Reported Date                 : 7/8/94
Found in Baseline             : 1.1
Found Date                    : 7/8/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b17
Affected File(s)              : dcerpper
Sensitivity                   : public

[7/8/94 public]

dcerpper tests do not run successfully on all platforms.  There appears
to be a problem with the parameters passed to one of the tests.

[7/8/94 public]

Is this problem different than the one in OT 10091?

[7/8/94 public]

Test was not designed to be run on multiple clients.  Increased sleep
time between client startup to minimize errors reported.



CR Number                     : 11152
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : Submit dlgcfg001
Reported Date                 : 6/30/94
Found in Baseline             : 1.1
Found Date                    : 6/30/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b16
Affected File(s)              : dlgcfg001
Sensitivity                   : public

[6/30/94 public]


Submit dlgcfg001

[8/30/94 public]

Test update



CR Number                     : 11099
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : systest
Subcomponent Name             : dced/ts/rel/dcdre101/dcdrel101-client.c
Short Description             : Undeclared identifier failed
Reported Date                 : 6/27/94
Found in Baseline             : 1.1
Found Date                    : 6/27/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b11
Affected File(s)              : dcd_st_utils.h
Sensitivity                   : public

[6/27/94 public]

8248:"/project/dce/build/dce1.1-snap/src/test/systest/dced/ts/rel/dcdrel01/dcdrel01_client.c", line 204.134: 1506-045 (S) Undeclared identifier failed.
8276:*** Error code 1

[6/29/94 public]

Fixed the name of an argument in two macros which was treated as 
ambiguous by the RIOS C compiler.



CR Number                     : 11091
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : Incorrect install directory in
REL* tests.
Reported Date                 : 6/27/94
Found in Baseline             : 1.1
Found Date                    : 6/27/94
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b20
Affected File(s)              : Makefile
Sensitivity                   : public

[6/27/94 public]

The REL002 & REL003 are using a different install directory path than
REL001.  Change for consistency.

[6/27/94 [ublic]

Done.



CR Number                     : 11077
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : DCED Rel test module names must be
renamed to have duoble 0's for consistency with other systests.
Reported Date                 : 6/24/94
Found in Baseline             : 1.1
Found Date                    : 6/24/94
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b13
Affected File(s)              : dcdrel003_ktb.tcl
Sensitivity                   : public

[6/24/94 public]

The DCED rel test modules need to be renamed to have '00' instead
of '0 'in their names.

[6/27/93 public]

Done.

[7/21/94 public]

Submitted DCDREL001 modules and defuncted DCDREL01 modules.



CR Number                     : 10879
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : systest/tools/remoteopen.c
Short Description             : Compiler warnings
Reported Date                 : 6/7/94
Found in Baseline             : 1.0.3
Found Date                    : 6/7/94
Severity                      : D
Priority                      : 4
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.2
Fixed In Baseline             : 1.1b11
Affected File(s)              : nosupport/test/systest/tools/remoteopen.c
Sensitivity                   : public

[6/7/94 public]


Note, this file has been moved to unsupported area 
(nosupport/test/systest/tools/remoteope) since 1.0.3 release.

Approximately line 400
----------------------

   * of the of the given command plus the length of the suffix plus 1 for the
   * EOS character.
   */
<       buflen = strlen(cmdmsg->command) + strlen(suffix) + 1;
---
>       buflen = strlen((char *)cmdmsg->command) + strlen(suffix) + 1;
        buf = allocateMemory( buflen );

cmdmsg->command is defined in idl file as char array, which transfers to
idl_char, which is an unsigned char.


Approximately line 480
-----------------------

                                  (unsigned32*)&st);
        if (st != rpc_s_ok)
        {

<              dce_error_inq_text( st, error_string, &errst );
---
>              dce_error_inq_text( st, (unsigned char *)error_string, &errst );
               fprintf( stderr, "%s\n", error_string );
               exit(errno);
        }

dce_error_inq_text expects the 2nd parameter's type tobe unsigned char *.

[7/7/94 public]
above fixes submitted.



CR Number                     : 10822
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : audrel001
Short Description             : audrel001 fails with unexpected signal
Reported Date                 : 6/1/94
Found in Baseline             : 1.1
Found Date                    : 6/1/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : audrel001.c
Sensitivity                   : public

[6/1/94 public]

The audrel001 system test fails with the following errors:

AIX	- unexpected signal 34 (unknown signal) received

OSF/1	- unexpected signal 26 (unknown signal) received

HP-UX	- unexpected signal 20 (unknown signal) received



CR Number                     : 10813
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : systest
Subcomponent Name             : test/systest/dced/ts/lib
Short Description             : Syntax error
Reported Date                 : 5/31/94
Found in Baseline             : 1.1
Found Date                    : 5/31/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : /systest/Makefile /systest/dced/ts/rel/Makefile
Sensitivity                   : public

[5/31/94 public]

See related OT # 10805.

"/project/dce/build/dce1.1-snap/src/test/systest/dced/ts/lib/dcd_st_utils.c",\
 line 56.112: 1506-046 (S) Syntax error.
"/project/dce/build/dce1.1-snap/src/test/systest/dced/ts/lib/dcd_st_utils.c",\
 line 56.183: 1506-046 (S) Syntax error.
"/project/dce/build/dce1.1-snap/src/test/systest/dced/ts/lib/dcd_st_utils.c",\
 line 59.112: 1506-046 (S) Syntax error.
"/project/dce/build/dce1.1-snap/src/test/systest/dced/ts/lib/dcd_st_utils.c",\
 line 59.193: 1506-046 (S) Syntax error.

Etc.

[05/31/94 public]
Fix submitted.

[06/06/94 public]
This was fixed by changing the makefile to not build the dced system tests.



CR Number                     : 10805
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa,rs6000
S/W Ref Platform              : hpux,aix
Component Name                : systest
Subcomponent Name             : test/systest/ts/rel/dcdrel01
Short Description             : Unsatisfied symbols
Reported Date                 : 5/31/94
Found in Baseline             : 1.1
Found Date                    : 5/31/94
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b11
Affected File(s)              : test/systest/dced/ts/rel/dcdrel01/Makefile
Sensitivity                   : public

[5/31/94 public]

[ /test/systest/dced/ts/rel/dcdrel01 at 01:32 (AM) Tuesday ]

c89   -g   -z -Wl,-Bimmediate,-Bnonfatal,-a,default,+b,/lib:/usr/lib    -L. \
 -L/u3/devobj/sb/nb_ux/src/test/systest/dced/ts/rel/dcdrel01 \
 -L/project/dce/build/dce1.1-snap/src/test/systest/dced/ts/rel/dcdrel01 \
 -L../../lib -L/u3/devobj/sb/nb_ux/src/test/systest/dced/ts/lib \
 -L/project/dce/build/dce1.1-snap/src/test/systest/dced/ts/lib \
 -L../../../lib -L/u3/devobj/sb/nb_ux/src/test/systest/dced/lib \
 -L/project/dce/build/dce1.1-snap/src/test/systest/dced/lib \
 -L/u3/devobj/sb/nb_ux/export/hp800/usr/shlib \
 -L/project/dce/build/dce1.1-snap/export/hp800/usr/shlib -L/usr/shlib \
 -L/u3/devobj/sb/nb_ux/export/hp800/usr/lib \
 -L/project/dce/build/dce1.1-snap/export/hp800/usr/lib \
 -o dcdrel_server.X dcdrel_server.o dcdrel01_smgr.o dcdrel01a_sstub.o \
 -ldceutils -ldcetst -ldce -ldcdtst  -ltet_dummy
/bin/ld: Unsatisfied symbols:
   rpc_binding_reset (code)
   rpc_server_use_all_protseqs (code)
   rpc_ns_binding_unexport (code)
   rpc_ns_binding_export (code)
   rpc_binding_set_object (code)
   rpc_ns_group_mbr_add (code)
   rpc_mgmt_set_authorization_fn (code)
   rpc_server_register_if (code)
   rpc_binding_copy (code)
*** Error code 1

Etc.

[5/31/94 public]

Corrected platforms field: errors occurred on HP and RIOS.

[05/31/94 public]
Fix submitted.

[06/22/94 public]
Re-opened with lower priority (we worked around it by not having build
visit that directory) and moved responsibilities.

[06/27/94 public]
Flipped library sequence in the link.



CR Number                     : 10791
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : submit dced system tests
Reported Date                 : 5/26/94
Found in Baseline             : 1.1
Found Date                    : 5/26/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b13
Affected File(s)              : test/systest/dced/*
Sensitivity                   : public

[5/26/94 public]

Submit dced system tests.

[6/24 public]

Submitted working set of files so that REL001 is now operational.
Additional functionality is required however before the test 
is complete.

[6/27/94 public]

Submitted REL003 (complete) and REL002 (completion awaiting functionality
from DCED)

[7/21/94 public]

Submitted extensive modifications to REL001, removing use of 
TET stubs, improving error reporting, and adding a second
server on each node to test out the dced endpoint registration
API call (once it's defined and implemented.) Further changes
to REL001 should be entered via new CR's.



CR Number                     : 10721
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : Add dcecp to audrel001 system test
Reported Date                 : 5/20/94
Found in Baseline             : 1.1
Found Date                    : 5/20/94
Severity                      : C
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : Makefile, audrel001.c
Sensitivity                   : public

[5/20/94 public]


The audrel001 system test was using auditcp instead of dcecp
to check the audit logs.  Change the test to use dcecp instead



CR Number                     : 10711
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcesepol
Short Description             : dcesepol failure caused by rgy_edit message changes
Reported Date                 : 5/20/94
Found in Baseline             : 1.1
Found Date                    : 5/20/94
Severity                      : A
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : sec.functions
Sensitivity                   : public

[5/20/94 public]

Changes in rgy_edit messages cause dcesepol to fail.

[05/23/94 public]
Fix submitted.

[05/23/94 public]
Closed.



CR Number                     : 10643
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcetest_config
Short Description             : Update for TETized GDS FVT
Reported Date                 : 5/15/94
Found in Baseline             : 1.1
Found Date                    : 5/15/94
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1beta
Fixed In Baseline             : 1.1b10
Affected File(s)              : test/systest/dcetest_config
Sensitivity                   : public

[5/15/94 public]
dcetest_config must install the new TETized GDS and XDS functional tests
instead of the old versions.

The function install_f_gds now looks like:

#------------------------------------------------------
# install_f_gds()
#
# Install GDS functional tests
#------------------------------------------------------
install_f_gds()
{
	install test/directory/gds/mavrostest
	install test/tet/functional/directory/gds
	install test/tet/functional/directory/xds
}



CR Number                     : 10634
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : svc
Short Description             : Need SVC system tests
Reported Date                 : 5/13/94
Found in Baseline             : 1.1
Found Date                    : 5/13/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b19
Affected File(s)              : test/systest/svc/*
Sensitivity                   : public

[5/13/94 public]
Need to add Serviceability system tests to dce1.1 tree

[7/12/94 public]
Initial versions of svccfg001 - 6 were submitted, subsequently
followed by updates to dcetest_config and a new run.svc.
Tests need to be updated to remove reference to rc.dts, use
dce_shutdown, check for new msgs emitted from rc.dce, and add 
capability to save svc logs.

[7/22/94 public]
Need to update svc.functions for svccfg005 to add xxx component to
debug specification (see CR 10639).  Also save rc_file if
SAVE_LOGS specified and don't send uwanted output to stdout.
Also update README to clarify how tests are run and remove svcrel001
from tet_scen (test being deferred, shouldn't have gotten in there
in the first place).

[7/26/94 public]
Need to add changes for svccfg test to run on svr4.  Port work was
done by Abby O'Hara.

[7/28/94 public]
The svccfg tests must be run as root.  A check should be added to
the beginning of each one to make sure the user is root or else
quit.

[7/28/94 public]
Tests which set debug routing should not use '*' to specify all 
subcomponents (at least for rpc).  Switch to use 'general' subcomponent
instead.

[9/7/94 public]
Updated priority to show we need some more udpates for 1.1, mostly
to catch up with final changes to components just enabling svc and fine 
tuning test run once all blocking bugs are passed.

[9/28/94 public]
Final updates were submitted on 9/08/94.



CR Number                     : 10610
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : I18N
Short Description             : Place holder for new I18N
test scripts.
Reported Date                 : 5/11/94
Found in Baseline             : 1.1
Found Date                    : 5/11/94
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : I8NSAN001, I8NSAN002
Sensitivity                   : public

[5/11/94 public]

This OT is to be referenced during the submition of the I18N 
tests developed test DCE connectivity in an I18N environment. The 
tests, developed as dcecp scripts, focus on CDS and Security only.



CR Number                     : 10590
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : threads
Short Description             : File dcethrp1 should be deleted
Reported Date                 : 5/9/94
Found in Baseline             : 1.1
Found Date                    : 5/9/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : dcethrp1
Sensitivity                   : public

[5/9/94 public]
The files ./test/systest/threads/{dcethrp1,thd.acf,thd.idl} are not used and
should be deleted.

[05/09/94 public]
Only dcethrp1 should be deleted, thd.acf and thd.idl are used by dcethrpc.

[05/11/94 public]
Fixed and closed.



CR Number                     : 10586
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : admin
Short Description             : New admin checklists.
Reported Date                 : 5/9/94
Found in Baseline             : 1.1
Found Date                    : 5/9/94
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : DCPSAN001, DCPSAN002,
DCPSAN003, DCPSAN004
Sensitivity                   : public

[5/9/94 public]

This OT will serve as a place holder to track the submition of 
the new admin checklists.
They are:
DCPSAN001 - CH backup and restore
DCPSAN002 - CH backup
DCPSAN003 - CH restore
DCPSAN004 - backup and restore of the security database



CR Number                     : 10565
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcetest_config
Short Description             : Installation menu returns to
wrong place
Reported Date                 : 5/6/94
Found in Baseline             : 1.1
Found Date                    : 5/6/94
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b9
Affected File(s)              : src/test/systest/dcetest_config
Sensitivity                   : public

[5/6/94 public]
The installation menu in dcetest_config (which allows you to select between
functional tests, system tests, and TET) returns to the highest level menu.
Therefore, if you want to install more than one thing you have to go
through the menu that prompts you for the location of the binary files.

Instead, this menu option should cycle back to the menu until the user
explicitly selects 98.

[5/6/94 public]
Fix submitted.

Solution was to stick most of the code in install_menu() into a
non-terminating while loop.



CR Number                     : 10395
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : audrel001
Short Description             : audrel001 fails on HP-UX
Reported Date                 : 4/19/94
Found in Baseline             : 1.1
Found Date                    : 4/19/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : ./test/systest/audit/ts/audrel001.c
Sensitivity                   : public

[4/19/94 public]

In the audrel001 system test, "/bin/auditd" needs to be changed to
"/usr/bin/auditd" or "/opt/dcelocal/bin/auditd", which is used in
audstr001, for the system test to work on HP-UX.



CR Number                     : 10384
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcetest_config
Short Description             : dctest_config needs to install
aud FVT
Reported Date                 : 4/18/94
Found in Baseline             : 1.1
Found Date                    : 4/18/94
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b8
Affected File(s)              : test/systest/dcetest_config
Sensitivity                   : public

[4/18/94 public]
dcetest_config should install audit FVTs.

This requires changes to the following procedures:

	print_install_f_test_menu()
	install_functional_test_menu()

and the creation of:

	install_f_aud()

[4/18/94 public]
Also had to modify install_f_all()

Fix submitted.

[4/19/94 public]
Closed.



CR Number                     : 10315
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc.runtime.1
Short Description             : rpc.runtime.1 ignores protocol switch
Reported Date                 : 4/7/94
Found in Baseline             : 1.1
Found Date                    : 4/7/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : dcerpcrun, dcerpcrun.data
Sensitivity                   : public

[4/7/94 public]

The rpc.runtime.1 system test uses PROTOCOL instead of PROTO which causes
the protocol switch in run.rpc to be ignored.

[04/27/94 public]
Fix submitted.

[05/05/94 public]
Closed.



CR Number                     : 10307
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : tet
Short Description             : Running audrel001 in a window with < 80 chars caused the test to fail.
Reported Date                 : 4/6/94
Found in Baseline             : 1.1
Found Date                    : 4/6/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : audrel001.c
Sensitivity                   : public

[4/6/94 public]



When I run the audrel001 test on an OSF1 machine in a window size
which is < 80 characters the test aborts right after
the auditd is started.  I get the following message:


daemon_identity file open ok
1994-04-06-13:01:47.455-04:00I----- audd NOTICE_VERBOSE aud general 0x004c3c48 daemon is ready to listen to its interfaces
/usr/users/dcetest/test/tet/tet_tmp_dir/8324a/ts/audrel001: TET_TMPRESFD not set in environment

[4/6/94 public]

This happens on OSF1 because OSF1 truncates the results of ps command.
I have filed a bug on OSF1 (10781).
In the meantime I have changed the startup command to the audit
daemon so the ps command on OSF1 can find it in a regular sized window (80x24).

[5/2/94 public]
You should look at src/config/dce_com_env for the definition of POSIX_PS
and PSARGS.  For those platforms (OSF/1 and AIX at least) that support the
POSIX syntax of ps, you can tailor the output to be exactly what you want.
On those platforms, dce_config does just a pid and command column.

[05/11/94 public]
Closed.



CR Number                     : 10302
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : audit
Short Description             : don't know how to make run.aud
Reported Date                 : 4/6/94
Found in Baseline             : 1.1
Found Date                    : 4/6/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : test/tet/system/audit/ts/systest
Sensitivity                   : public

[4/6/94 public]
In [ /test/systest/audit/ts at 04:26 (AM) Wednesday ], under
test/tet/system/audit/ts/systest, this message was produced:
	make: don't know how to make run.aud (continuing

NOTE: the Component Name is really "systest" but the ot program won't let
      me enter it.

[4/8/94 public]

It appears that upon submission, the permissions of the rcs file were
set to 400 (-r- --- ---) so this file was in effect invisible.  I've
changed the permissions to 444 and will try another snap of the tree
to ensure that it works.  I will send a message upon a successful 
snap of this file.  At this time one of you should change the CR to
"fix".



CR Number                     : 10260
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcerpbnk_auth
Short Description             : dcerpbnk_auth does not work
Reported Date                 : 3/31/94
Found in Baseline             : 1.1
Found Date                    : 3/31/94
Severity                      : A
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : ./dcerpbnk
Sensitivity                   : public

[3/31/94 public]

The system test dcerpbnk_auth does not work, Martha D. is working on it.

[04/27/94 public]
Fixed and closed by Martha.



CR Number                     : 10227
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcetest_config
Short Description             : dcetest_config uses 'clear' and 'more'
Reported Date                 : 3/25/94
Found in Baseline             : 1.1
Found Date                    : 3/25/94
Severity                      : D
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b9
Affected File(s)              : src/test/systest/dcetest_config
Sensitivity                   : public

[3/25/94 public]
Please don't use 'clear' and 'more' in dcetest_config.  These are only used
for cosmetic reasons and, I think, tend to get in the way more than they
help.

[5/6/94 public]
Solution was to remove calls to clear_screen from the print_menu*
functions.  (I didn't touch other areas of dcetest_config.)  Also, changed
how menus are printed.

Instead of using 'more <<== EOF ==' to print entire screens, used a
line-by-line 'echo'.



CR Number                     : 10192
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : test/systest/audit/ts
Short Description             : Can't find library for -ldcetst
Reported Date                 : 3/21/94
Found in Baseline             : 1.1
Found Date                    : 3/21/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : src/test/Makefile
Sensitivity                   : public

[3/21/94 public]

Fixed Makefile at the top of src/test

[3/21/94 public]

[ /test/systest/audit/ts at 00:50 (AM) Sunday ]

c89 -z  -Wl,-Bimmediate,-Bnonfatal,-a,default,+b,/lib:\
  /usr/lib-L/u3/devobj/sb/nb_ux/export/hp800/usr/shlib \
  -L/project/dce/build/dce1.1-snap/export/hp800/usr/shlib -L/usr/shlib \
  -L/u3/devobj/sb/nb_ux/export/hp800/usr/lib \
  -L/project/dce/build/dce1.1-snap/export/hp800/usr/lib -o try_logins.X \
  try_logins.o -ldcetst -ldce
/bin/ld: Can't find library for -ldcetst
*** Error code 1
c89 -z -Wl,-Bimmediate,-Bnonfatal,-a,default,+b,/lib:/usr/lib\
  -L/u3/devobj/sb/nb_ux/export/hp800/usr/shlib \
  -L/project/dce/build/dce1.1-snap/export/hp800/usr/shlib -L/usr/shlib \
  -L/u3/devobj/sb/nb_ux/export/hp800/usr/lib \
  -L/project/dce/build/dce1.1-snap/export/hp800/usr/lib -o rel001.X rel001.o \
  -ltettcm -ltetapi -laudit -ldce
mv rel001.X rel001
`build_all' not remade because of errors.
*** Error code 1
`build_all' not remade because of errors.
*** Error code 1

[05/11/94 public]
Closed.



CR Number                     : 10184
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcegdshd
Short Description             : dcegdshd - several errors in test
Reported Date                 : 3/18/94
Found in Baseline             : 1.1
Found Date                    : 3/18/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : dcegdshd, sTest.gds
Sensitivity                   : public

[3/18/94 public]
There are several errors in the dcegdshd system test.

[03/18/94 public]
Fix submitted.

[03/24/94 public]
Closed.



CR Number                     : 10172
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : 
Short Description             : Submit audit system tests
Reported Date                 : 3/17/94
Found in Baseline             : 1.1
Found Date                    : 3/17/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : Makefile
Sensitivity                   : public

[3/17/94 public]


Submit the following audit system tests:

Test Name: AUSTR001

	- Test many users logging in simultaneously
	  Procedure:
	   - Start auditd
	   - Add AUDIT_ACCTS DCE users to the registry
	   - Fork off AUDIT_ACCTS processes
	   - AUDIT_ACCTS processes wait on a shared variable
	   - When shared variable reaches AUDIT_ACCTS all process login simultaneously
	   - Verify there are AUDIT_ACCTS log entries with with auditcp
	   - Stop auditd

	   Note: AUDIT_ACCTS is an integer configuration variable read in 
	      from the tetexec.cfg file.  The default value is 5.

Test Name: AUDREL001


	- Have client(s) sending events to the same log
	   Procedure:

	   This test will make use of an application
	   which will have the following defineable parameters

	   AUDIT_DURATION	"How long to run the test"	(minutes)
	   AUDIT_EVENT_DELAY	"Period for issuing events"	(seconds)
	   AUDIT_NUM_OF_CLIENTS    "Number of clients to run"	(whole number)

	   AUDIT_DURATION will have the default 60 minutes and
	   AUDIT_EVENT_DELAY will have the default 5 seconds
	   AUDIT_NUM_OF_CLIENTS will have the default 1

	    - Start the auditd using auditcp
	    - Start AUDIT_NUM_OF_CLIENTS 
	    - Emit an event every AUDIT_EVENT_DELAY from each of the 1 clients
	    - Use auditcp to verify that there are 
	      1*[60*AUDIT_DURATION] / AUDIT_EVENT_DELAY events which are logged

	     Note: Currently only a single client is supported for this test.
		   Values of AUDIT_NUM_OF_CLIENTS other than 1 are ignored.



CR Number                     : 10136
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : other
S/W Ref Platform              : sinix
Component Name                : systest
Subcomponent Name             : rpc/rpc.cds.3
Short Description             : rpc.cds.3_cli gets bus error on "id (debug)" statement
Reported Date                 : 3/15/94
Found in Baseline             : 1.0.3
Found Date                    : 3/15/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : rpc.cds.3_cmain.c
Sensitivity                   : public

[3/15/94 public]

The test rpc.cds.3 gets bus error due to incorrectly declared variable.
The file rpc.cds.3_cmain.c declares debug as short. The maintain_id.c
declares it as 'extern int'. Out mips compiler that aligns int to
4 byte address boundary gets bus error in trying to access debug
variable.

All other instances and use of debug variable suggest that it should
be declared consistently as an int. By declaring debug as an int in
file rpc.cds.3_cmain.c fixes this problem.

[05/05/94 public]
Fix submitted.

[05/11/94 public]
Closed.



CR Number                     : 10128
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcerpbnk
Short Description             : dcerpbnk can not alternate protocols
Reported Date                 : 3/11/94
Found in Baseline             : 1.1
Found Date                    : 3/11/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : dcerpbnk
Sensitivity                   : public

[3/11/94 public]

The dcerpbnk system test can not be executed with alternating RPC
protocols.

[03/11/94 public]
Fix submitted.

[03/14/94 public]
Reopened, my fix does not seem to work as well as it looked in testing it.

[05/11/94 public]
Fix submitted.

[05/17/94 public]
Closed.



CR Number                     : 10119
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dceseacl
Short Description             : dceseacl always says PASS no matter what it does
Reported Date                 : 3/10/94
Found in Baseline             : 1.1
Found Date                    : 3/10/94
Severity                      : A
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : ./test/systest/security/dceseacl
Sensitivity                   : public

[3/10/94 public]

The dceseacl system test always says PASS no matter what.

[03/10/94 public]
Fix submitted.

[03/14/94 public]
Closed.



CR Number                     : 10091
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 9819
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : systest
Subcomponent Name             : dcerpper system test
Short Description             : systest dcerpper fp test dumps core
Reported Date                 : 3/8/94
Found in Baseline             : 1.1
Found Date                    : 3/8/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.2.1
Affected File(s)              : system_tests
Sensitivity                   : public

[3/8/94 public]

The dcerpper floating point test (#6) consistently dumps core on an AIX machine.

[03/08/94 public]
More information:

EXAMPLE #1 (TCP)

SERVER

root@soldier> perf_server 10 ncacn_ip_tcp
Got binding: ncacn_ip_tcp:130.105.202.6[2001]
+ Listening...
+ perf_init: called from ncacn_ip_tcp:130.105.202.6[3878] 

CLIENT

root@soldier> perf_client 06 ncacn_ip_tcp:130.105.202.6[2001] 3 100 y n
Floating point test [6]
    passes: 3; calls/pass: 100; verification: on; idempotent: no
Segmentation fault(coredump)

EXAMPLE #2 (UDP)

SERVER

root@soldier> perf_server 10 ncadg_ip_udp
Got binding: ncadg_ip_udp:130.105.202.6[2001]
+ Listening...
+ perf_init: called from ncadg_ip_udp:130.105.202.6[2713] 
+ perf_init: called from ncadg_ip_udp:130.105.202.6[2715] 

CLIENT

root@soldier> perf_client 06 ncadg_ip_udp:130.105.202.6[2001] 3 100 y n
Floating point test [6]
    passes: 3; calls/pass: 100; verification: on; idempotent: no
Segmentation fault(coredump)
root@soldier> perf_client 06 ncadg_ip_udp:130.105.202.6[2001] 3 100 y n
Floating point test [6]
    passes: 3; calls/pass: 100; verification: on; idempotent: no
Segmentation fault(coredump)

[3/8/94 public]

Maybe caused by the divide-by-zero error because of rand() returning 0?

[03/08/94 public]
This defect might be a duplicate of defect 9819 except that on AIX it
dumps core.

[04/04/94 public]
This appears to be a bug in the functional test.

[04/04/94 public]
Duped to 9819.  Fixed test not to allow zero return from rand().

[04/27/94 public]
Re-opened, this test still dumps core on AIX.

[04/27/94 public]
Paul,

I ran this on orange today (4/27) with the 4/26 nightly build and it
ran fine:
orange> ./client 06 ' ncadg_ip_udp:130.105.5.21[2001]' 3 100 y n
Floating point test [6]
    passes: 3; calls/pass: 100; verification: on; idempotent: no
        pass   1; ms/call: 8.568
        pass   2; ms/call: 8.804
        pass   3; ms/call: 8.855

IBM has also ran this test with no failures (see TestSummary file).

Perhaps you were using bl-6, which did not have my fixes in it.
Please re-test and mark the defect back to dup.

[05/03/94 public]
Verified that functional test works, problem must be in system test only.

[08/11/94 public]

This problem only shows up on the RIOS. ksh core dumps during the 
execution of the client on the RIOS machine, thus the test fails.
So, if one of the machines in the -m "c1 c2 .. cn" list happens to
be a RIOS, the test will sure fail. If one excludes the RIOS from 
the client list, the test will pass. I must add that the server 
runs successfully on the RIOS.

[08/25/94 public]
This is not a problem with the ksh on the RIOS. The test does fail
in the following code in client.c:

>                 case 6:
>                 {
>                     float f1 = (float) (rand()+1);
>                     float f2 = (calln & 1 ? 1.0 : -1.0) * (rand()+1);
>                     double d1 = 1.0 / (rand()+1);
>                     double d2 = sqrt(pow((double) (7 + (rand()+1) % 10),
>                         (double) ((rand()+1) % 40)));
>                     float o1, o1_l = (f1 / f2) * (d1 / d2);
>                     double o2, o2_l = (f2 / f1) * (d2 / d1);

A core dump occurs in the call to "pow". I took this code and moved the
assignment of d2, o1_l, and o2_l to come after the declaration and it
did not dump core. This leads me to believe that the compiler is not
generating the proper code. I am going to submit this change and
verify that this is indeed the problem. I have been looking at the
assembly code produced by the compiler but that seems to be
inconclusive.

Below is the output which indicates the compiler I am using:

[yale:bmw] pts/10 /u/bmw
805 ->lslpp -h xlccmp.obj
  Name
  --------------------
    Fix Id  Release         Status     Action     Date       Time     User Name
    ------- --------------- ---------- ---------- ---------- -------- ----------

Path: /usr/lib/objrepos
  xlccmp.obj
            01.03.0000.0000 COMPLETE   COMMIT     10/07/93   08:44:24 root
    U491204 01.03.0000.0000 COMPLETE   COMMIT     10/07/93   18:32:09 root

Path: /etc/objrepos
  xlccmp.obj
            01.03.0000.0000 COMPLETE   COMMIT     10/07/93   08:44:26 root

[09/26/94 public]

I was too quick on the trigger on closing this one. The problem is still there.
The changes to the declarations and assignments in client.c weren't in the 
tree, but I made them and tested them, and still got the problem with the test 
failing in the fp section.

Here's the compiler info for the RIOS we're running the tests on:

% lslpp -h xlccmp.obj
  Name
  --------------------
    Fix Id  Release         Status     Action     Date       Time     User Name
    ------- --------------- ---------- ---------- ---------- -------- ----------
Path: /usr/lib/objrepos
  xlccmp.obj
            01.02.0001.0000 COMPLETE   COMMIT     02/25/94   11:08:15 root

  xlccmp.obj
    U417268 01.02.0001.0008 COMPLETE   COMMIT     02/25/94   11:53:05 root
    U491075 01.02.0001.0008 COMPLETE   COMMIT     02/25/94   11:53:06 root

Path: /etc/objrepos
  xlccmp.obj
            01.02.0001.0000 COMPLETE   COMMIT     02/25/94   11:08:16 root

[09/27/94 public]
I see the changes I made in the BL18 build. We will be testing either
this build or BL19. We will update with our results.

[12/19/95 public]
Fixed in DCE 1.2.1
Closed



CR Number                     : 10086
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : systest
Subcomponent Name             : dcerpper
Short Description             : dcerpper fails on AIX, invalid use of LOGNAME
Reported Date                 : 3/7/94
Found in Baseline             : 1.1
Found Date                    : 3/7/94
Severity                      : A
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : dcerpper, per.functions
Sensitivity                   : public

[03/07/94 public]

The dcerpper system test fails on AIX because of the invalid use of the
variable LOGNAME.

[03/08/94 public]
Fix submitted.

[03/09/94 public]
Closed.



CR Number                     : 10078
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : 
Short Description             : Added common test support functions to DCE
Reported Date                 : 3/7/94
Found in Baseline             : 1.1
Found Date                    : 3/7/94
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : tst_tet_util.c, tst_process.c
, tst_dtet_util.c, tst_dce_login.c, tst_comm_api.h
Sensitivity                   : public

[3/7/94 public]

I ported a number of functions that were useful
with TET during the DME project.
By porting them they are available to the DCE 1.1 project.
Let me know if there are comments/questions.

I have showed Paul Ellis this list and he agrees
these functions are useful.


extern int tst_tet_printf(const char *,...);


This function allows the user to send the contents
of a printf to the tet journal file.  A tester
can use the different format directives used in printf
when sending a message to the journal file.
tet_infoline by itself doesn't provide this feature.
If this function is successful, a 0 is returned.
Otherwise a non-zero value is returned.

int tst_tet_syncall(int syncpoint ,int timeout);

This function is a wrapper around tet_sync.
This function is used for DTET testcases.
Instead of having to fill in a list of nodes to synchronize with,
this function will automatically determine the current node
and perform the synchronization with the other DTET nodes.
If this function is successful, a 0 is returned.
Otherwise a non-zero value is returned.

extern void tst_dce_login(char *, char *, error_status_t *status);

Given a dce user name and password, this function attempts a dce_login.
If the dce_login is successful error_status_ok is returned.
Otherwise a non-zero value is returned.


extern int tst_chk_command(char *command, pid_t *pid);


This function will take a given command name "command"
and check to see whether this command is in the process table.
If this function is successful, a 0 is returned.
Otherwise a non-zero value is returned.


extern int tst_chk_process(pid_t *pid);


This function will take a given process "pid"
and check to see whether this pid is in the process table.
If this function is successful, a 0 is returned.
Otherwise a non-zero value is returned.

[3/14/94 public]
Closed



CR Number                     : 10069
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcesepol
Short Description             : Fix required in sec.functions for interface change in rgy_edit
Reported Date                 : 3/4/94
Found in Baseline             : 1.1
Found Date                    : 3/4/94
Severity                      : A
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : sec.functions
Sensitivity                   : public

[3/4/94 public]
Fix required in sec.functions for an interface change in rgy_edit.

[03/04/94 public]
Fix submitted.

[03/07/94 public]
Closed.



CR Number                     : 9999
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : test/systest/rpc/rpc.cds.3
Short Description             : can't find "dce/std.h"
Reported Date                 : 2/23/94
Found in Baseline             : 1.1
Found Date                    : 2/23/94
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : See Below
Sensitivity                   : public

[2/23/94 public]

This breaks out the test/systest/rpc errors from OT 9998.  Please
see the updated comments to that OT.

The following files in the modules shown complained that they couldn't
find "dce/std.h":

[ /test/systest/rpc/rpc.cds.3 at 23:47 (PM) Tuesday ]
rpc.cds.3_set_cal_uuid.c

[ /test/systest/rpc/rpc.sec.2 at 23:47 (PM) Tuesday ]
maintain_id.c
bnk_util.c
bank.c
bankd.c

[2/23/94 public]

Could anybody explain me why systest/rpc files include an include file
from directory/gds/asn1/DUA? See 9998 : I think all these files should change.

[02/23/94 public]

Need to change std.h to dce.h in:

./test/systest/directory/gds/dcegdshd/shd_util.c        1.1.3.1
./test/systest/directory/gds/dcegdshd/view_obj.c        1.1.3.1
./test/systest/file/dirread.c   1.1.8.1
./test/systest/file/filewnr.c   1.1.18.1
./test/systest/rpc/bank.c       1.1.17.1
./test/systest/rpc/bankd.c      1.1.16.1
./test/systest/rpc/bnk_util.c   1.1.14.1
./test/systest/rpc/rpc.cds.3/maintain_id.c      1.1.14.1
./test/systest/rpc/rpc.cds.3/rpc.cds.3_set_cal_uuid.c   1.1.75.1
./test/systest/rpc/rpc.cds.3/rpc.cds.3_smain.c  1.1.88.1
./test/systest/rpc/util.c       1.1.68.1
./test/systest/security/sec.rgy.7/login_test.c  1.1.62.1
./test/systest/security/sec.rgy.7/secrgy_client.c       1.1.67.1
./test/systest/security/sec.rgy.7/secrgy_server.c       1.1.78.1
./test/systest/threads/thd_client.c     1.1.15.1
./test/systest/threads/thd_server.c     1.1.14.1
./test/systest/threads/thd_util.c       1.1.95.1
./test/systest/tools/msgqd.c    1.1.86.1
./test/systest/tools/ropen_main.c       1.1.16.1
./test/systest/tools/util.c     1.1.15.1
./test/systest/tools/xx_lib_r.c 1.1.12.1

[02/23/94 public]
Submitted 21 files.

[02/24/94 public]

A new problem caused by the GDS drop:

c89      -z -Wl,-Bimmediate,-Bnonfatal,-a,default,+b,/lib:/usr/lib     -L/u3/dev
obj/sb/nb_ux/export/hp800/usr/shlib -L/project/dce/build/dce1.1-snap/export/hp80
0/usr/shlib -L/usr/shlib -L/u3/devobj/sb/nb_ux/export/hp800/usr/lib     -L/proje
ct/dce/build/dce1.1-snap/export/hp800/usr/lib   -o view_obj.X view_obj.o shd_uti
l.o dump.o  -ldce
/bin/ld: Unsatisfied symbols:
   get_acl_length (code)
   get_psap_length (code)
*** Error code 1

[02/25/94 public]
Closed.



CR Number                     : 9980
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : profile.dcest[.tet] and run.rpc need updates
Reported Date                 : 2/18/94
Found in Baseline             : 1.1
Found Date                    : 2/18/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : See Below
Sensitivity                   : public

[2/18/94 public]

NLSPATH needs to be removed from profile.dcest[.tet] and run.rpc needs a
couple of updates for dcerpper.

[02/18/94 public]

Submitted:
	./test/systest/profile.dcest
	./test/systest/profile.dcest.tet
	./test/systest/rpc/run.rpc

[02/18/94 public]
Closed.



CR Number                     : 9959
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : cds.acl.6
Short Description             : cds.acl.6 rgy_edit does not bind to master
Reported Date                 : 2/15/94
Found in Baseline             : 1.1
Found Date                    : 2/15/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : dcecdsacl6.func
Sensitivity                   : public

[2/15/94 public]

The cds.acl.6 system test has a rgy_edit which binds to a random registry
in a cell instead of the master.

[02/18/94 public]
Closed.



CR Number                     : 9958
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : 
Short Description             : Apply patches to DTET
Reported Date                 : 2/15/94
Found in Baseline             : 1.1
Found Date                    : 2/15/94
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : getlist.c, remexec.c, tcm_in.c
Sensitivity                   : public

[2/15/94 public]

Some bugs which were found and fixed in DTET during the DME project
need to fixed in the version of DTET in the DCE1.1 source tree.

1) tet_remexec did not marshall caller's argv correctly
   which resulted in a segmentation violation

2) tet_remgetlist didn't null terminate the list of servers
   with a NULL this resulted in a duplicate number of servers in the list

3) Make sure the loopback address is not put in the tsinfo
   message when the message destination is a different machine.

The following three files are affected:

./test/tet/src/dtet/dapilib/getlist.c
./test/tet/src/dtet/dapilib/remexec.c
./test/tet/src/dtet/tcm/tcm_in.c

[2/25/94 public]
Fixed.

[2/28/94 public]
Closed.

[3/14/94 public]
Closed



CR Number                     : 9942
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : profile.dcest[.tet]
Short Description             : Inadequate $PATH created
Reported Date                 : 2/11/94
Found in Baseline             : 1.1
Found Date                    : 2/11/94
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : profile.dcest & profile.dcest.tet
Sensitivity                   : public

[2/11/94 public]

The DCE System Test environment setup files, profile.dcest.tet and
profile.dcest, do not set up a $PATH value which is adequate to find
all the programs used by the test scripts.  In particular /etc and
/sbin are needed.

[2/21/94 public]

The fix is in.



CR Number                     : 9824
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcesestr
Short Description             : dcesestr runs resestr test one at a time
Reported Date                 : 1/26/94
Found in Baseline             : 1.1
Found Date                    : 1/26/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : See Below
Sensitivity                   : public

[1/26/94 public]

The system test dcesestr runs the remote resestr tests one at a time
instead of all at the same time, this does not allow dcesestr to act-
ually do stress testing (i.e. "str").

[02/03/94 public]

Submitted fix to BL3:

./test/systest/security/dcesestr
./test/systest/security/dcesestr.data
./test/systest/security/resestr
./test/systest/security/sec.functions

[02/04/94 public]
Closed.



CR Number                     : 9802
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcerpper
Short Description             : Ported dcerpper system test to 1.1
Reported Date                 : 1/24/94
Found in Baseline             : 1.1
Found Date                    : 1/24/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : See Below
Sensitivity                   : public

[1/24/94 public]

Ported dcerpper system test to 1.1

[01/24/94 public]
Submitted:
./test/systest/rpc/common_functions
./test/systest/rpc/dcerpper
./test/systest/rpc/dcerpper.data
./test/systest/rpc/per.functions
./test/systest/rpc/run.rpc
./test/systest/rpc/tet_scen

[01/25/94 public]
Closed.



CR Number                     : 9795
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc
Short Description             : ./src/test/systest/rpc has unused files
Reported Date                 : 1/21/94
Found in Baseline             : 1.1
Found Date                    : 1/21/94
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : ./test/systest/rpc/{make.bnk,dcerpbn1,admin.acf}
Sensitivity                   : public

[1/21/94 public]

There are unused files in the ./src/test/systest/rpc directory.

	dcerpbn1, make.bnk, admin.acf

[01/25/94 public]
Closed.



CR Number                     : 9764
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : profile.dcest[.tet]
Short Description             : profile.dcest[.tet] need NLSPATH
Reported Date                 : 1/18/94
Found in Baseline             : 1.1
Found Date                    : 1/18/94
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : ./test/systest/profile.dcest[.tet]
Sensitivity                   : public

[01/18/94 public]

The two files, profile.dcest and profile.dcest.tet, need to have NLSPATH
defined for tests to run successfully.

[01/20/94 public]
Made changes for all platforms.



CR Number                     : 9667
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : ./src/nosupport/test/systest
Short Description             : ./src/nosupport/test/systest is no longer needed
Reported Date                 : 12/29/93
Found in Baseline             : 1.1
Found Date                    : 12/29/93
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : ./src/nosupport/test/systest/*
Sensitivity                   : public

[12/29/93 public]

The 564 system test files in ./src/nosupport/test/systest are no longer
needed.  They have been released with DCE 1.0.3 if anyone needs them.

[01/05/94 public]
All files and directories have been deleted.



CR Number                     : 9655
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : ropen(d)
Short Description             : ropen does not work
Reported Date                 : 12/27/93
Found in Baseline             : 1.0.3
Found Date                    : 12/27/93
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : See Below
Sensitivity                   : public

[12/27/93 public]

The ropen command does not work at all in 1.0.3 on any platform.

[05/09/94 public]
Closed, moved to ./src/nosupport/test/systest/tools since the ropen command
has not worked since the DCE 1.0.2 release and no system tests depend on it.

./test/systest/tools/rc.ropen
./test/systest/tools/remoteopen.c
./test/systest/tools/ropen.mf
./test/systest/tools/ropen_idl.idl
./test/systest/tools/ropen_main.c



CR Number                     : 9654
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : systest / dcesepol
Short Description             : dcesepol runs only once every 24 hours
Reported Date                 : 12/27/93
Found in Baseline             : 1.0.3
Found Date                    : 12/27/93
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : src/test/systest/security/{dcesepol,dcesepol.data,sec.functions}
Sensitivity                   : public

[12/27/93 public]

The system tst dcesepol runs only once every 24 hours.

[12/28/93 public]
Closed.



CR Number                     : 9542
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : run_loops.ksh
Short Description             : Must delete TET work directory
Reported Date                 : 11/23/93
Found in Baseline             : 1.0.3
Found Date                    : 11/23/93
Severity                      : D
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : run_loops.ksh
Sensitivity                   : public

[11/23/93 public]

TET creates a work directory, $TET_ROOT/system/<component>/results/<nnnn>e,
once per invocation.  These directories are NOT deleted by TET.  This
happens for every TET run, ie every iteration of RUN_LOOPS.KSH.  When
running fast tests like DCETH002, this can result in tens of thousands of
empty directories being left about.  RUN_LOOPS.KSH should be modified to
get rid of them as they are created.  Since more than one TET invocation
may be sharing the same <component>/results directory, it is not ok to
simply delete all <nnnn>e subdirectories when a TET run finishes.

[11/24/93 public]

Created a version of RUN_LOOPS.KSH from the 1.0.3 tree which fixes the problem
by creating a tmp dir name and feeding that to TCC (-i opt) so when it comes
time to clean up, RUN_LOOPS.KSH knows what to remove.  Waiting for the official
1.1 tree to open before checking this back in.

[02/21/94 public]

Put the fix into the DCE 110 tree.

[03/01/94 public]

Seems to all work and not break the build.  Closed.



CR Number                     : 9474
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : gds_xds_str_001 system test
Short Description             : various minor coding defects
Reported Date                 : 11/10/93
Found in Baseline             : 1.0.3
Found Date                    : 11/10/93
Severity                      : D
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1
Affected File(s)              : test/systest/directory/gds/gds_xds_str_001/gds_xds_str_001
Sensitivity                   : public

[11/10/93 public]
This defect is a reminder to fix the following problems in the
gds_xds_str_001 test driver:

   1) the client that is spawned to remove the test tree is not run in the 
      background due to a missing '&' at the end of the command line (in
      function cleanup() ).  
      EFFECT: This can cause the entire test run to hang if
              the cleanup client hangs.  
      FIX: Add the missing '&' to the command lines.

   2) D2_LOG_DIR not set for local machine.  The line that is supposed to 
      set the local version of the D2_LOG_DIR environmental variable is 
      incorrect (in the main part of the script); it reads
        D2_LOG_DIR=$D2_LOG_DIR
      EFFECT: this means that if the D2_LOG_DIR variable is not already
              set, the D2_LOG_DIR variable will be empty, and all local D2 
              logs from the client xt_test runs will go to the root 
              directory (/).
      WORKAROUND: In the environment of the process from which the test is
                  to be run, assign to the D2_LOG_DIR environmental
                  variable the path assigned to D2_LOGDIR in the 
                  gds_xds_str_001.data file.
      FIX: change the assignment of D2_LOG_DIR in the gds_xds_str_001 
           file to 
                    D2_LOG_DIR=$D2_LOGDIR

   3) Due to a missing option in the command line that starts local test
      clients, the local clients write their D2 logs to the file
      xt_test.log in the directory specified by the D2_LOG_DIR
      environmental variable (or / if the D2_LOG_DIR environmental variable
      is not set).
      EFFECT: Prevents the cleanup routine from finding the D2 logs from
              the local xt_test clients, either to remove or to store them.
      FIX: add the option flag
              -o $host.$ITERATION.$seq.$$.$ostype.d2log 
           to the command line (in the function start_clients() ) that
           starts the local clients.

   4) Due to a missing '.' connecting two parts of a filename, the D2
      logging output from any cleanup clients run on the local machine is
      written to a file with the same name of the local host, in the
      directory specified by the D2_LOG_DIR environmental variable (or / if
      the D2_LOG_DIR environmental variable is not set).
      EFFECT: Prevents the cleanup routine from finding the D2 logs from
              the local cleanup xt_test clients, either to remove or to
              store them.
      FIX: change the command line (in the routine cleanup() ) that starts
           cleanup clients on the local machine to specify 
             -o $tk_host.$ITERATION.$tk_seq.$$.$tk_os.cud2_log 
           instead of the current
             -o $tk_host $ITERATION $tk_seq.$$.$tk_os.cud2_log

   5) There is an extra '$' in front of the string mach_2 in the line
      that reports the values of mach_1 and mach_2 (in function setup_gds).
      EFFECT: causes an incorrect print to the log.
      FIX: remove the '$' in the line 
           runecho "      mach_1 (initial DSA) is $mach_1, $mach_2 is $mach_2"

[11/14/93 public]
Another minor problem.  Note that all of these fixes have been made and 
verified using the final DCE 1.0.3 build,  they are awaiting submission 
to DCE 1.1.

   6) Sometime during the editting of the gds_xds_str_001 system test, the
      line that sets the variable END_DATE (the time the run completed) got
      deleted.  This was not caught during runs of the test since the test
      always failed.
      EFFECT: The line END DATE WAS    is printed with no date.
      FIX   : Add the line END_DATE=`date` to the bottom of the
              gds_xds_str_001 file, just before the print of the 
              "END DATE was.." message.

[11/16/93 public]

   7) The variable $ITERATION_STAT is misspelled as ITERATIUON_STAT
      in the error handling after the attempt to set up the test case files.
      Not caught previously since the testcase setup has never failed.
      EFFECT: The log files will end up in the wrong directory and the 
              run status will be reported incorrectly if the testcase setup
              fails.
      FIX: Fix the variable name spelling.

[12/22/93 public]
Fixed all of the problems described above and submitted to dce1.1.  Fixed.

[1/10/94 public]
All the changes described above have been in the build for a few weeks, 
with no problems.  Defect closed.



CR Number                     : 9399
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : gdsSetup
Short Description             : needs to be able to set client processes parameter when configging GDS
Reported Date                 : 11/8/93
Found in Baseline             : 1.0.3b9
Found Date                    : 11/8/93
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3b10
Affected File(s)              : test/systest/
tools/gdsSetup, test/systest/directory/gds/dcegdshd/sTest.gds, test/systest/directory/gds/gds_xds_str_001/gds_xds_str_001.data
Sensitivity                   : public

[11/8/93 public]
With the advent of the gds_xds_str_001 system test, it has become necessary
for the gdsSetup script to be able to support the specification of 
the number of GDS client processes in the data file.  

The fix for this (to all the files above) has already been made and tested.

[11/10/93 public]
This fix was submitted 11/8/93, passed the builds of 11/8-9/93, and has
been verified for both the gds_xds_str_001 and dcegdshd system tests.
Closed.



CR Number                     : 9398
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : i486
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : gdsSetup
Short Description             : need to be able to handle funny expr return
Reported Date                 : 11/8/93
Found in Baseline             : 1.0.3b9
Found Date                    : 11/8/93
Severity                      : A
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3b10
Affected File(s)              : test/systest/tools/gdsSetup
Sensitivity                   : public

[11/8/93 public]
The description previously associated with this defect belonged in another
defect.  The actual description is that the OSF1 version of expr, when 
evaluating an expression like:

   "" : regexp\(regexp\)regexp

returns a 0, instead of (the expected) "" that is returned on the HP-UX and
AIX platforms.  The "" is expected because specifying the \(regexp\) in the 
match expression is supposed to return the characters in the string on the
left hand side of the ":" that match the regexp.  

Anyway, the fix has been made in a sandbox and verified. Just have to
submit it.

[11/10/93 public]
This fix was submitted 11/8/93, passed the builds of 11/8-9/93, and has
been verified for both the gds_xds_str_001 and dcegdshd system tests.
Closed.



CR Number                     : 9397
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : gds_xds_str_001 driver
Short Description             : needs to handle client hang in tree build
Reported Date                 : 11/8/93
Found in Baseline             : 1.0.3b9
Found Date                    : 11/8/93
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3b10
Affected File(s)              : test/systest/directory/gds/gds_xds_str_001/gds_xds_str_001
Sensitivity                   : public

[11/8/93 public]
During system test GDS, the client that builds the test tree for an iteration
hung due to a GDS error.  Because this client (unlike the actual test
clients) is not run in the backround, the entire test run was hung.

The fix, already implemented and tested in a couple of test runs, is to 
run the tree building and tree deleting clients in the background, so that
the driver will detect that they did not exit and kill them.

[11/10/93 public]
This was submitted 11/8/93, passed the builds of 11/8-9/93, and was run 
11/9/93 and 11/10/93.  Defect closed.



CR Number                     : 9285
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcegdshd systest
Short Description             : GDS setup files/scripts obsolete
Reported Date                 : 10/28/93
Found in Baseline             : 1.0.3b8
Found Date                    : 10/28/93
Severity                      : A
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3b9
Affected File(s)              : test/systest/directory/gds/dcegdshd/sTest.gds, gds*, setup.i.gds
Sensitivity                   : public

[10/28/93 public]
The changes to gdsSetup and worldSetup.gds mean that a new sTest.gds is 
needed to configure gds for the dcegdshd test.

[10/29/93 public]
Changed the short description to cover both the update to the sTest.gds
file, and the defuncting of the setup scripts for GDS (these move to 
the systest/tools directory).

[10/29/93 public]
Did the submit to defunct the GDS setup scripts and the upgrade to the 
sTest.gds file.

[11/12/93 public]
These changes have passed numerous nightly builds and have been used to set
up the config for the dcegdshd test on all reference platforms.
Defect closed.



CR Number                     : 9209
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : gds system test
Short Description             : need systetm test for threadsafe XDS
Reported Date                 : 10/20/93
Found in Baseline             : 1.0.3
Found Date                    : 10/20/93
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3b10
Affected File(s)              : test/systest/tools/{gdsSetup,worldSetup.gds,gdskill,gdsdirinfo.awk}, test/systest/directory/gds/gds_xds_str_001/*
Sensitivity                   : public

[10/20/93 public]
Place holder for submitting the n3ew gds_xds_str_001 system test and
associated files.

[11/10/93 public]
The system test created in response to this defect is gds_xds_str_001.
The DCE 1.0.3 system test plan and associated documents describe the goals
and operation of this test.  This test has been run on all of the reference
platforms.  Defect closed.



CR Number                     : 8657
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa,i486,rs6000
S/W Ref Platform              : hpux,osf1,aix
Component Name                : systest
Subcomponent Name             : test/systest/tools
Short Description             : run_loops.ksh, run_summary.ksh -
				             snapping of files for nightly
					     failing
Reported Date                 : 9/22/93
Found in Baseline             : 1.0.3
Found Date                    : 9/22/93
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : run_loops.ksh, run_summary.ksh
Sensitivity                   : public

[9/22/93 public]

[ /test/systest/tools at 21:50 (PM) Tuesday ]
makepath tools/. && cd tools &&  exec make MAKEFILE_PASS=BASIC
build_all
make: don't know how to make run_loops.ksh (continuing)
make: don't know how to make run_summary.ksh (continuing)

OT 8599 was closed by Jeff Barry by moving run_loops.ksh from the
"security" to the "tools" directory of "test/systest" but the tools
Makefile now complains.

[9/24/93 public]

The build failure occurred only on the Release Engineering side: automatic
snapping of the files run_summary.ksh and run_logs.ksh (ie, transfer from
the dynamic to the static source trees, the latter being what the nightly
builds build) failed.  Release Engineering is investigating & trying to fix.

			- rrizzo.

The failure of the snapping script to transfer files to the static source tree
was caused by over-protected RCS files "run_loos.ksh" and "run_summary.ksh"
with modes 400.  The modes were changed to 444 and the snapping script was run
again to confirm the fix.   - rrizzo, 9/24/93



CR Number                     : 8647
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : i486
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : dcerpbnk fails
Short Description             : uuids get corrupted causing dcerpbnk to fail
Reported Date                 : 9/21/93
Found in Baseline             : 1.0.3
Found Date                    : 9/21/93
Severity                      : A
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : ./systest/rpc/bnk_util.c
Sensitivity                   : public

[09/21/93 public]

The system test dcerpbnk fails only on the OSF/1 because of a problem with
uuids getting corrupted.  The same test runs fine on AIX and HP-UX.

[09/21/93 public]

Take a look at the get_handle_obj() routine in bnk_util.c.
It's returning the address of a uuid_t from the stack.

Try this instead.

uuid_t *get_handle_obj(handle_t rh)
{
	uuid_t *handle_obj = malloc(sizeof(uuid_t));
	error_status_t st;

	rpc_binding_inq_object(rh, handle_obj, &st);
	sprintf(buf, "Cannot inquire handle's object\n");
	check_status(st, rpc_s_ok, NOT_EQUAL, buf, TRUE, RPC);
	return(handle_obj);
}

[09/21/93 public]

That was it, the test now works fine on all platforms.

[09/28/93 public]
Closed.



CR Number                     : 8449
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dfs.lock system test
Short Description             : dfs.lock - minor coding defects
Reported Date                 : 8/13/93
Found in Baseline             : 1.0.2a
Found Date                    : 8/13/93
Severity                      : D
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b13
Affected File(s)              : test/systest/file/dfs.lock
Sensitivity                   : public

[8/13/93 public]
The following defects exist in the version of dfs.lock in the 1.0.2a 
release:

    if the command line options to dfs.lock are enabled (ie: dfs.lock is 
    invoked as dfs.lock_cl) then the -d (debug client) will not work.  The
    problem is that in the switch that parses the command line options, the
    variable DEBUG_CLI is set to "-D" if the -d command line option is 
    specified.  The DEBUG_CLI variable should be set to "-v" in this case.
    (it is also probably desirable to put a commented out line like
       # DEBUG_CLI=-v 
     in the lock.data file to give users something to turn on to get 
     debugging)
    

    in the function cleanup the test of cu_cntxt != "final" should be
    a  test of cu_case != "final".

The first defect only affects the largely undocumented command-line
interface to dfs.lock in a debug case.  The second defect only causes
a print to come out a little strangely.  Hence the low priority and severity.

[7/18/94 public]

Assigning to Rick LeMon.

[7/19/94 public]
Changes submitted.



CR Number                     : 8448
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dfs.lock system test
Short Description             : dfs.lock - typos in comments
Reported Date                 : 8/13/93
Found in Baseline             : 1.0.2a
Found Date                    : 8/13/93
Severity                      : D
Priority                      : 4
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b13
Affected File(s)              : test/systest/file/dfs.lock
Sensitivity                   : public

[8/13/93 public]
There are several typos in the comments describing the operation
of the dfs.lock script at the top of the file test/systest/file/dfs.lock:
 
  In the LOGIC FLOW section

     - "DFSLOCK_CONF, or the default of "lock.data" can be used."
       should be "DFSLOCK_CONFIG..."
 
     - "If everyhing is okay, this script prints "EX-LOCK-STATUS-OKAY"
       should be "If everything ... "EW-LOCK-STATUS-OKAY"

     - an "EXITTED message.
       should be "an "EXITTED" message"

  In the SYNTAX section:

     - "dfs.lock_cl -H"
       should be "dfs.lock_cl -h"

[7/18/94 public]

Assigning to Rick LeMon.

[7/19/94 public]

Changes submitted.



CR Number                     : 8445
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : systest/file
Short Description             : dfs.glue CHO currently = default cert lifetime
Reported Date                 : 8/13/93
Found in Baseline             : 1.0.2a
Found Date                    : 8/13/93
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : dfs.glue, glue.data
Sensitivity                   : public

[8/13/93 public]

In my last revision to the dfs.glue script, I removed the killing
and restarting of the cache_mgr functional test program "spoke".
While this adds to the efficiency of the test, the side effect
is that when the test is run with RUN_CACHEMGRTESTS=TRUE, the
credentials of the "spokes" only last as long as the default
certificate lifetime and therefore, the tests can only succeed
for that amount of time.

Current workarounds are:
	- set RUN_CACHEMGRTESTS=FALSE in glue.data
OR
	- set the default certificate lifetime in the
	registry to the length of time you want to run
	the test (NOTE: newly installed dce default
	certificate lifetime is 10 hours)

[9/30/93 public]

Fixed - dfs.glue submitted that contains kill/restart code for
cache_mgr tests. Also added RUN_CACHEMGRTESTS var to glue.data
for easier test tuning. Updated comments per CR 8623.

[10/1/93 public]

Made it through the nightly build fine - closing.



CR Number                     : 8340
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : systest
Short Description             : Syntax errors
Reported Date                 : 7/22/93
Found in Baseline             : 1.0.3
Found Date                    : 7/22/93
Severity                      : A
Priority                      : 0
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : ./src/test/Makefile
Sensitivity                   : public

[7/22/93 public]
The following syntax errors were found in the build:

src/test/systest/tools/xx_lib_r.c:
cc: "../../../../../src/test/systest/tools/xx_lib_r.c", line 120: error
1588: "TRUE" undefined.
cc: "../../../../../src/test/systest/tools/xx_lib_r.c", line 120: error
1521: Incorrect initialization.
cc: "../../../../../src/test/systest/tools/xx_lib_r.c", line 176: error
1588: "FALSE" undefined.
*** Error code 1

src/test/systest/tools/msgq_ut.c, msgrcv_bad.c,msgsnd_bad.c:
cc: "/project/dce/build/nb_ux/src/test/systest/tools/msgq.h", line 100:
error 1000: Unexpected symbol: "ulong".

src/test/systest/tools/util.c:
cc: "../../../../../src/test/systest/tools/util.c", line 151: warning 604:
Pointers are not assignment-compatible.
cc: "../../../../../src/test/systest/tools/util.c", line 151: warning 563:
Argument #2 is not the correct type.
cc: "../../../../../src/test/systest/tools/util.c", line 197: error 1588:
"TRUE" undefined.
cc: "../../../../../src/test/systest/tools/util.c", line 197: error 1725:
Case label expressions must be integer c
onstants.
cc: "../../../../../src/test/systest/tools/util.c", line 201: error 1588:
"FALSE" undefined.
cc: "../../../../../src/test/systest/tools/util.c", line 201: error 1725:
Case label expressions must be integer c
onstants.
cc: "../../../../../src/test/systest/tools/util.c", line 228: warning 604:
Pointers are not assignment-compatible.
cc: "../../../../../src/test/systest/tools/util.c", line 228: warning 563:
Argument #1 is not the correct type.
cc: "../../../../../src/test/systest/tools/util.c", line 238: error 1000:
Unexpected symbol: "long_host_addr".
cc: "../../../../../src/test/systest/tools/util.c", line 238: error 1588:
"ulong" undefined.
cc: "../../../../../src/test/systest/tools/util.c", line 240: error 1588:
"long_host_addr" undefined.
cc: "../../../../../src/test/systest/tools/util.c", line 241: warning 563:
Argument #1 is not the correct type.
cc: "../../../../../src/test/systest/tools/util.c", line 241: error 1594:
Unknown size.
cc: "../../../../../src/test/systest/tools/util.c", line 241: warning 608:
Illegal integer-pointer combination in 
assignment.
cc: "../../../../../src/test/systest/tools/util.c", line 241: warning 563:
Argument #2 is not the correct type.

[7/22/93 public]
More things:

src/test/systest/tools/ropen_main.c:
cc: "../../../../../src/test/systest/tools/ropen_main.c", line 287: error
1588: "TRUE" undefined.
cc: "../../../../../src/test/systest/tools/ropen_main.c", line 298: error
1588: "TRUE" undefined.
cc: "../../../../../src/test/systest/tools/ropen_main.c", line 376: error
1588: "FALSE" undefined.
*** Error code 1

src/test/systest/tools/remoteopen.c:
cc: "../../../../../src/test/systest/tools/remoteopen.c", line 361: warning
604: Pointers are not assignment-compa
tible.
cc: "../../../../../src/test/systest/tools/remoteopen.c", line 361: warning
563: Argument #1 is not the correct ty
pe.
cc: "../../../../../src/test/systest/tools/remoteopen.c", line 441: warning
604: Pointers are not assignment-compa
tible.
cc: "../../../../../src/test/systest/tools/remoteopen.c", line 441: warning
563: Argument #2 is not the correct ty
pe.

[07/22/93 public]
Fixed, changed ./src/test/Makefile so that the systests do not get built.
These problems will be fixed when the TETized system tests are submitted
in the near future.

[08/11/93 public]
System tests are building cleanly on HP and i486, they will be included
in the nightly build once we get a chance to build on a RIOS.



CR Number                     : 8324
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : README for dfs system tests
Short Description             : needs to be updated for dfs.lock changes
Reported Date                 : 7/20/93
Found in Baseline             : 1.0.2b7
Found Date                    : 7/20/93
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : src/test/systest/file/README
Sensitivity                   : public

[7/20/93 public]
The README for src/test/systest/file needs to change to reflect the changes
to the dfs.lock script.

[11/10/93 public]
The README for the src/test/systest/file directory has been modified to
point readers at the SYNTAX comments in the test script files.  This 
removes the need for additional updates to this file for the dfs.lock
test.

Defect closed.



CR Number                     : 8301
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dfs repfldb checklist
Short Description             : needs work for accuracy, utility
Reported Date                 : 7/16/93
Found in Baseline             : 1.0.2b7
Found Date                    : 7/16/93
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.2b7
Affected File(s)              : src/test/systest/file/dfs.repfs_checklist
Sensitivity                   : public

[7/16/93 public]
While trying to follow this checklist, I encountered a number of
inaccuracies, missing information, and steps that served no real useful
purpose.  Specifically:
  -  You must either run the core DCE services on a non-DFS machine, or 
     on the machine with the highest IP address of the machines in the 
     test cell so that the DCE core server does not get elected the  
     fldb sync site.

  -  missing the '-process flserver' arguement to the bos restart command 
     to restart the flservers so that they can elect a sync site.

  -  Information on setting up to run the ubik unit tests is extraneous
     since there is no step that tells you to run them, nor is it well 
     understood how to run them. 

  -  To determine the fldb sync site, you should check amoung the members
     of the /.:/fs group, not the /.:/subsys/dce/dfs/utst group.

  -  After shutting down the initial sync site, you should verify that a 
     new sync site is elected from the remaining flservers before
     re-starting the old sync site.

  -  The last step should be to run the fts short test, periodically
     determining the sync site, stopping the flserver on that machine,
     waiting to see that a new sync site is elected, restarting the 
     old sync site's flserver, and verifying that it sees the same 
     fldb info as the machines left running.

[7/20/93 public]
Fixed all of the above, plus changed step H to describe running dfs.lock
and dfs.glue.  Status changed to fix.

[11/12/93 public]
All of the changes mentioned above have been made.  This defect is closed.
Note that there is a small problem in the NOTE for step 1.  This will be
mentioned in a new defect for 1.0.3a.



CR Number                     : 8280
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : HP's TET'ized system tests
Reported Date                 : 7/15/93
Found in Baseline             : 1.0.3
Found Date                    : 7/15/93
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.0.3
Affected File(s)              : many files under src/test/systest
Sensitivity                   : public

[7/15/93 public]

[08/11/93 public]
Assigned to Cindy.

[3/1/94 public]
The TET'ized tests shipped with DCE 1.0.3.  Closing this CR.

[03/02/94 public]
Closed again.



CR Number                     : 8279
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : moving TET code into the tree
Reported Date                 : 7/15/93
Found in Baseline             : 1.0.3
Found Date                    : 7/15/93
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : all files under src/test/tet
Sensitivity                   : public

[7/15/93 public]

Some of the functional and system tests will be modified to utilize TET in
DCE 1.0.3.  TET commands, libraries, and functions will be needed to build
and run the tests.  I took a copy of the TET code from the DME team.  They
got TET from XOpen and replaced the generic makefiles with ODE makefiles.
Refer to src/test/tet/README for more details.  The TET code will be in the
source tree (src/test/tet).

[10/12/93 public]

TET code is under src/test/tet.



CR Number                     : 8264
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dfs.lock
Short Description             : does not remove data file
Reported Date                 : 7/13/93
Found in Baseline             : 1.0.2b7
Found Date                    : 7/13/93
Severity                      : D
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.2b7
Affected File(s)              : src/test/systest/file/dfs.lock
Sensitivity                   : public

[7/13/93 public]
The dfs.lock file removes the datafile that it creates as part of the 
cleanup for an iteration.  It then tries to remove the file again (with
a bogus name to boot), and issues an error message when it fails.  This is
a harmless defect (hence the low pri/sev), but might alarm some users.

The fix is to remove the line "rm $data_base" from the main part of the
script.

[7/13/93 public]
In looking at the file, I notice that Gail found this problem and correctly
saw that the problem was that the data file NEVER got removed; no that thte
script tried to remove it twice.  I changed the short description
accordingly.  Gail submitted a fix that gets the data file removed, but
before closing the bug, I would like to get the errant remove line taken
out of the script as well.

[7/21/93 public]
Completed the fix and submitted.

[11/12/93 public]
Verified - defect closed.

[11/12/93 public]
Actually MARKED as closed.



CR Number                     : 8263
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : systest tools
Short Description             : conf_util.sh not installed
Reported Date                 : 7/13/93
Found in Baseline             : 1.0.2b7
Found Date                    : 7/13/93
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3b1
Affected File(s)              : src/test/systest/tools/Makefile
Sensitivity                   : public

[7/13/93 public]
The conf_util.sh shell library file was submitted to the systest tools
area, but I forgot to add it to the list of files to be installed in the
Makefile.  The workaround is to copy it from the source tree.

[9/22/93 public]
This defct was addressed by a submission on 7/20/93.
It has since been in many a nughtly build, and is therefore
verifed.  Defect closed.



CR Number                     : 8215
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dfs.lock system test
Short Description             : need to seperate log, data, and temp files.
Reported Date                 : 6/29/93
Found in Baseline             : 1.0.2b6
Found Date                    : 6/29/93
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.2b7
Affected File(s)              : test/systest/file/dfs.lock
Sensitivity                   : public

[6/29/93 public]
Currently the dfs.lock system test puts all of it's temporary files in /tmp
and all of its data files (ie: the file to read and write, and the synch
file) and log files in the same directory (specified as the log directory).
In cases where the test is experiencing a large number of failures, or when
logs are being saved, this can result in the test failing because the logs
fill the filesystem where the data file is supposed to be created.

 The workaround is to allocate a large fileset (20Mb) for the test to run in.
 The fix is to allow the specification of three different directories;
 DATA_DIR, TMP_DIR, and LOG_DIR, to hold the three different types of files.

[7/13/93 public]
Submitted 7/2/93 after pmax and rios testing. Has passed a few nightly
builds.  Closed



CR Number                     : 8211
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dfs.lock system test
Short Description             : -f option does not work.
Reported Date                 : 6/29/93
Found in Baseline             : 1.0.2b6
Found Date                    : 6/29/93
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.2b7
Affected File(s)              : test/systest/file/dfs.lock
Sensitivity                   : public

[6/29/93 public]
Due to a variable misspelling in the dfs.lock script, the -f option does
not work.

[6/29/93 public]
Forgot to describe the workaround.  To get a particular config file used,
name it lock.data, and put it a directory in the search path of the
executing user.

[7/13/93 public]
Submitted 7/2/93 after pmax and rios testing. Has passed a few nightly
builds.  Closed



CR Number                     : 8210
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dfs.lock system test
Short Description             : does not print help message
Reported Date                 : 6/29/93
Found in Baseline             : 1.0.2b6
Found Date                    : 6/29/93
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.2b7
Affected File(s)              : test/systest/file/dfs.lock
Sensitivity                   : public

[6/29/93 public]
The dfs.lock script, if invoked as dfs.lock (as opposed to dfs.lock_cl,
which allows command line options beyond -f <config_file), does not provide
a way to get a usage message, short of entering a ridiculous option and
getting a usage message as part of the error output.

  The test should allow "dfs.lock -h" to print a usage message.

  This means that the -H option for dfs.lock_cl should switch function witb
the -h option (currently -H means "help", and -h means "hours to run").

[7/13/93 public]
Submitted 7/2/93 after pmax and rios testing. Has passed a few nightly
builds.  Closed

Also made -P specify the number of passes, instead of -p for consistency.



CR Number                     : 8208
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dfs.lock systest
Short Description             : driver should write terminate message
Reported Date                 : 6/29/93
Found in Baseline             : 1.0.2b6
Found Date                    : 6/29/93
Severity                      : C
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.2b7
Affected File(s)              : test/systest/file/dfs.lock
Sensitivity                   : public

[6/29/93 public]
The filewnr program has the ability to detect, via a message in a file,
that it is to exit.  In some cases, it is useful for the driver to use
this mechanism to stop the clients, but the driver never writes the 
message.  The fix is for the driver to write the terminate message 
to the synch file before it attempts to kill the client jobs.  This is 
a fail-safe to handle the case where the driver can't read the client
logs to get the remote PID's due to DFS failures.

[7/13/93 public]
Submitted 7/2/93 after pmax and rios testing. Has passed a few nightly
builds.  Closed



CR Number                     : 8186
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : filewnr (dfs systest)
Short Description             : missing info, and incompatible flag usage
Reported Date                 : 6/21/93
Found in Baseline             : 1.0.2b5
Found Date                    : 6/21/93
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.2b6
Affected File(s)              : test/systest/file/filewnr.c
Sensitivity                   : public

[6/21/93 public]
Gail Driscoll actually found this while running (or attempting to run) the
dfs.glue system test.  When I made changes to the filewnr program to
enhance dfs.lock, I mixed up the options so that -D meant delete the file
written on exit, not -d.  This broke the dfs.glue test.  When I looked at
the code (after Gail alerted me to it) I noticed the following problems:

  -h (usage)        not described in the usage message
  -T quit string     "     "      "   "   "     "
  -C okay string     "     "      "   "   "     "
  -D delete          should have remained -d
  -d (debug)         superfluous 
  printed FAILED if -h specified

[06/21/93 public]
Fixed and submitted.

[11/12/93 public]
Verified - Defect closed.

[11/12/93 public]
Actually MARKED as closed.



CR Number                     : 8137
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : other
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : systest
Short Description             : expmachinfo doesn't know about i386
Reported Date                 : 6/10/93
Found in Baseline             : 1.0.3
Found Date                    : 6/10/93
Severity                      : B
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : ./test/systest/tools/expmachinfo
Sensitivity                   : public

[6/10/93 public]

The tool expmachinfo doesn't know about i386 which causes the error:

unknown machine type (i386)

[08/11/93 public]
Fixed and Closed.



CR Number                     : 7997
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc.sec.2 and rpc.cds.3 system tests
Short Description             : do not setup correctly in a cell with security replicas
Reported Date                 : 5/13/93
Found in Baseline             : 1.0.2
Found Date                    : 5/13/93
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : rpc.sec.2_sec_util.sh, rpc.cds.3_sec_util.sh
Sensitivity                   : public

[5/13/93 public]
During final system tests on the release tapes, we found that the setup 
scripts for the rpc.sec.2 and rpc.cds.3 system tests fail because the 
security utilities used to add pricipals and keys to the registry do not
specify the -update option to rgy_edit.  The fix is to make all the
rgy_edit calls specify the -update option.

[9/23/93 public]
To be more specific, any invocation of rgy_edit in rpc.sec.2_sec_util.sh or
rpc.cds.3_sec_util.sh that adds or modifies the registry must have the 
'-u' option specified on the command line.

[11/10/93 public]
Submitted by Cindy Mckeen 10/5/93, run on all platforms many times since
then.  Defect Closed.



CR Number                     : 7993
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc.cds.3 and rpc.sec.2 system tests
Short Description             : do not clean up namespace
Reported Date                 : 5/13/93
Found in Baseline             : 1.0.2b23
Found Date                    : 5/13/93
Severity                      : D
Priority                      : 3
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b1
Affected File(s)              : rpc.cds.3_smain.c, rpc.sec.2_smain.c, sig_hndlr.c, maintain_id.c
Sensitivity                   : public

[5/13/93 public]
The servers for the rpc.sec.2 and rpc.cds.3 system tests do not do any
unexporting from the namespace.  This was an intentional ommission during
implementation of the tests, since leaving the objects, etc. exported by
the servers speeds startup, but it should be possible to specify that the
namespace is to be cleaned-up.

[12/22/93 public]
Submitted fixes for this as well as some other small problems discovered
while looking at the code.  Tested on HP, OSF/1, RIOS.  Fixed

[1/10/94 public]
These changes have been in the build for a few weeks with no problems.
Defect closed.



CR Number                     : 7784
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc.cds.3 and rpc.sec.2 system tests.
Short Description             : do not specify correct binary and log directories in the config files.
Reported Date                 : 4/22/93
Found in Baseline             : 1.0.2b23
Found Date                    : 4/22/93
Severity                      : D
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : src/test/systest/rpc/rpc.sec.2/rpc.sec.2.conf, src/test/systest/rpc/rpc.cds.3/rpc.cds.3.conf
Sensitivity                   : public

[4/22/93 public]
The configuration files for the rpc.sec.2 and rpc.cds.3 system tests as
shipped do not specify the correct log and binary directories.  The
configuration files should specify the binary and log directories as 
/dcetest/dcelocal/... to be consistent with the other system tests.

[9/23/93 public]
It looks like the bin path was fixed for rpc.sec.2, but not the logfile,
and nothing has been fixed in rpc.cds.3.  Re-assigned to Cindy Mckeen as
per Peter Shaw.

[10/12/93]

The log and binary directories for both rpc.cds.3 and rpc.sec.2 have been
updated to the appropriate place under /dcetest/dcelocal.



CR Number                     : 7778
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcetest_config
Short Description             : The script dcetest_config does
not install the cds and xds tests
Reported Date                 : 4/21/93
Found in Baseline             : 1.0.2
Found Date                    : 4/21/93
Severity                      : C
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : dcetest_config
Sensitivity                   : public

[4/21/93 public]

The dcetest_config script does not install all the files in the
install directory, for instance it does not install the cds and
xds tests.

[7/29/93 public]
Belongs in the dce category, not CDS.

[08/11/93 public]
Assigned to Cindy.

[10/12/93 public]

Fixed dcetest_config to install all the  system tests.



CR Number                     : 7747
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc.cds.3 server and client
Short Description             : not enough time allowed for ticket refresh
Reported Date                 : 4/16/93
Found in Baseline             : 1.0.2b23
Found Date                    : 4/16/93
Severity                      : D
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3b5
Affected File(s)              : src/test/systest/rpc/rpc.cds.3/rpc.cds.3_{c,s}main.c
Sensitivity                   : public

[4/16/93 public]
There is not enough time allowed in the rpc.cds.3 server and client code
for the ticket to be refreshed before the ticket expires.  The ticket 
should be refreshed halfway throught it's lifetime, as is the case for
rpc.sec.2.

[4/18/93 public]
Fix is in 

  src/unintegrated/test/systest/rpc/rpc.cds.3/rpc.cds.3_cmain.c

in the DCE1.0.2 src archive.  The server main appears to work okay as is.

[10/1/93 public]
Merged DCE 1.0.2 unintegrated tree fix into DCE 1.0.3 version and
submitted.  Defect fixed.  Verified by Cindy Mckeen on HP-UX, OSF/1, and
AIX.  Defect can be closed after passing nightly build.

[10/1/93 public]
Verified - defect closed.

[11/12/93 public]
Actually MARKED as closed.



CR Number                     : 7744
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc.cds.3 server and client
Short Description             : fail if some command line
parameters are not specified
Reported Date                 : 4/16/93
Found in Baseline             : 1.0.2b23
Found Date                    : 4/16/93
Severity                      : C
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3b5
Affected File(s)              : src/test/systest/rpc/rpc.cds.3/rpc.cds.3_{s,c}main.c
Sensitivity                   : public

[4/16/93 public]
If the -D, -I or -n options to the rpc.cds.3 server or client programs
are not specified on the command line, the programs seg fault.  This is 
because the default values for the parameters specifed by these options, 
though specified in the configuration file, are not read or used.  The fix
is to read these values from the config file, and then use them if values
are not specified on the command line.

[4/18/93 public]
Fix is in 

  src/unintegrated/test/systest/rpc/rpc.cds.3/rpc.cds.3_cmain.c
  src/unintegrated/test/systest/rpc/rpc.cds.3/rpc.cds.3_smain.c

in the DCE1.0.2 src archive.  Defaults are read from the config file 
for the initial calendar number and number of calendars to read.  The 
calendar data directory defaults to '.'.

[10/1/93 public]
Merged DCE 1.0.2 unintegrated tree fix into DCE 1.0.3 version and
submitted.  Defect fixed.  Verified by Cindy Mckeen on HP-UX, OSF/1, and
AIX.  Defect can be closed after passing nightly build.

[11/12/93 public]
Verified via use - Defect closed.

[11/12/93 public]
Actually MARKED as closed.



CR Number                     : 7743
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc.sec.2 and rpc.cds.3 test servers
Short Description             : don't allow intercell access
Reported Date                 : 4/16/93
Found in Baseline             : 1.0.2
Found Date                    : 4/16/93
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.1b1
Affected File(s)              : 
src/test/systest/rpc/rpc.sec.2/rpc.sec.2_smain.c, src/test/systest/rpc/rpc.cds.3/rpc.cds.3_smain.c, rpc.sec.2_cmain.c,rpc.cds.3_cmain.c
Sensitivity                   : public

[4/16/93 public]
It occurred to me, while considering the remifications of running the 
rpc.sec.2 and rpc.cds.3 tests in an intercell configuration, that they
won't!  The reason is that when the protection level is anything but 
protect_level_none, the server checks to make sure that the client 
principle name is /.../<servers's cell>/<client_principle>, which
effectively restricts access, in the authenicated case at least, to 
clients within the server's cell.  The correct check for the server to
do is to just check the cell-relative part of the client principle name
in the incoming call request, not the global name.  

This change to the server code for these two tests did not make it into 
the DCE1.0.2 integrated source tree; however; there are versions of the 
two server main's in the directories

 <path-to-dce-root>/dce1.0/src/unintegrated/test/systest/rpc/rpc.sec.2
 <path-to-dce-root>/dce1.0/src/unintegrated/test/systest/rpc/rpc.cds.3

that contain the changes.  These will be submitted to the integrated source
tree after the DCE1.0.2 release.

[12/22/93 public]
Fixed during down time after 1.0.3 - client now queries server for
principal name to use in authentication, and the server does not require
the client to be in the local cell.  Tested on RIOS, HP, and 486.  Fixed.

[1/10/94 public]
The fix for this defect has been in the tree for a couple of weeks now.
There have been no build problems, so I'm closing it.



CR Number                     : 7724
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc.cds.3 and rpc.sec.2 system tests
Short Description             : server buffers output
Reported Date                 : 4/15/93
Found in Baseline             : 1.0.2b23
Found Date                    : 4/15/93
Severity                      : B
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3b5
Affected File(s)              : src/test/systest/rpc/rpc.sec.2/rpc.sec.2_smain.c, src/test/systest/rpc/rpc.cds.3/rpc.cds.3_smain.c
Sensitivity                   : public

[4/15/93 public]
When started the rpc.sec.2 and rpc.cds.3 servers buffer their output.  This
means that the user does not see the output till the buffer fills and is 
dumped, and thus may not see indication of what caused problems in the 
startup.  Both servers should call setbuf(stdout, NULL) before doing
output.

[4/18/93 public]
Fix is in 

  src/unintegrated/test/systest/rpc/rpc.sec.2/rpc.sec.2_smain.c
  src/unintegrated/test/systest/rpc/rpc.cds.3/rpc.cds.3_smain.c

in the DCE1.0.2 src archive.  The server mains no longer buffer stdout.

[10/1/93 public]
Merged DCE 1.0.2 unintegrated tree fix into DCE 1.0.3 version and
submitted.  Defect fixed.  Verified by Cindy Mckeen and MArk Hickey
on HP-UX, OSF/1, and AIX.  Defect can be closed after passing nightly build.

[11/12/93 public]
Verified via use - closed.



CR Number                     : 7721
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : rpc.sec.2 system test
Short Description             : driver only creates log dir if
passed on the command line
Reported Date                 : 4/15/93
Found in Baseline             : 1.0.2b23
Found Date                    : 4/15/93
Severity                      : C
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : src/test/systest/rpc/rpc.sec.2/rpc.sec.2_runtest.sh
Sensitivity                   : public

[4/15/93 public]
Found that the code to create the log directory if it is non-existent only
kicks in if the log dir is specified on the command line.  This needs to
be moved outside of the command line parsing loop.

[4/22/93 public]
Moved the code to create the path to the log and tmp diretories out of
the command line parsing loop so that the directories get created if they
are read from the configuration file.  Also moved the log directory
creation code so that the messages about creation get output after the 
"hi" messages.  This version will only be in the unintegrated tree for the
DCE1.0.2 release, since the 'src' tree is already froxen.  The fix is 
in the file:

<dce-root-dir>/src/unintegrated/test/systest/rpc/rpc.sec.2/rpc.sec.2_runtest.sh

This fix will be submitted to the regular source tree after DCE1.0.2 ships.

[08/23/93 public]
This defct was opened against the wrong component.  Changed the component
to the correct "dce".

[9/23/93 public]
Re-assigned to Cindy Mckeen as per Peter Shaw.

[10/18/93 public]

Moved the code to create the log and tmp directories out of the parsing
loop and after the "hi" messages.  The log and tmp directories are now
created if the paths are specified in the configuration file or on command
line.

[11/11/93 public]

The fix has been verfied.



CR Number                     : 7687
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcetest_config
Short Description             : should not muck with value of the DCELOCAL environmental variable
Reported Date                 : 4/12/93
Found in Baseline             : 1.0.2b23
Found Date                    : 4/12/93
Severity                      : C
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : src/test/systest/dcetest_config
Sensitivity                   : public

[4/12/93 public]
The dcetest_config script sets the DCELOCAL environmental variable to be
/dcetest/dcelocal.  This is wrong because the DCELOCAL variable is supposed
to point to the base of the dce binary tree; ie: /opt/dcelocal, or
wherever.  Resetting this variable causes the dcegdsh1 testcase to break, since
it assumes that DCELOCAL has it's usual meaning.

The version of the dcegdsh1 testcase in the unintegrated archive on the 
DCE 1.0.2 release tape contains the workaround; hardcode /opt/dcelocal into
the dcegdsh1 testcase.  The correct fix is for dcetest_config to use some
other variable name to store whatever value it currently uses DCELOCAL for.

[08/11/93 public]
Changed owner to Cindy since this is a dcetest_config issue.

[10/12/93 public]

Created DCE_TEST_LOCAL that contains the path to the tests so that DCELOCAL
is not changed.



CR Number                     : 7671
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : other
S/W Ref Platform              : other
Component Name                : systest
Subcomponent Name             : test/systest
Short Description             : TRUE and FALSE are undefined
Reported Date                 : 4/8/93
Found in Baseline             : 1.0.1
Found Date                    : 4/8/93
Severity                      : D
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : see below for list of files
Sensitivity                   : public

[4/8/93 public]

See note at the end.

Full Description:

     There are several files in the system test directories which use the
     constants TRUE and FALSE.  These constants are not defined in any of
     these files or the include files.  This results in compiler errors.

Proposed Solution:

     We propose that TRUE and FALSE are defined explicitly within each of
     the files that use them.  This can be accomplished by:

     #ifndef TRUE
     #  define TRUE 1
     #endif

     and the same for FALSE.  A less elegant solution is to put flags in the
     Makefiles.


I checked why it does not arise on the RIOS and the PMAX.

On the RIOS, they are defined in <sys/types.h> in an

#ifdef _ALL_SOURCE

section - the DCE build of systest includes -D_ALL_SOURCE.

On the PMAX, it is defined in <sys/types.h> in an

#ifdef _OSF_SOURCE

section - as far as I can tell, _OSF_SOURCE is defined in the
gcc preprocessor (!).

[04/08/93 public]
_OSF_SOURCE (and _ALL_SOURCE) are defined in /usr/include/standards.h
when no other standards pre-processor macro (such as POSIX_SOURCE)
is defined.

The rule is, if you say nothing, you get everything (OSF_SOURCE).

[8/5/93 public]
I don't know if it's relevant but on the HP's it works opposite.  If you
don't define anything, you don't get anything.  Several of the headers in
/usr/include and /usr/include/sys do define TRUE and FALSE, although I
don't know if they are surrounded by #ifdef's.  

RFC 34 says that dce.h will define TRUE and FALSE and that anything that
needs them defined must include dce.h.  This must be fixed in DCE 1.1 if
not before.

[08/05/93 public]
And if you use DCE RPC then you pretty much always
get true and false as constants, for free...

[08/11/93 public]
Changed owner to Cindy since she is working on the tests.

[10/15/93 public]

Included <dce/std.h> to pick up the definitions of TRUE and FALSE in the
following files:

./test/systest/directory/gds/dcegdshd/shd_util.c
./test/systest/directory/gds/dcegdshd/shd_util.h
./test/systest/directory/gds/dcegdshd/view_obj.c
./test/systest/file/filewnr.c
./test/systest/rpc/bank.c
./test/systest/rpc/bankd.c
./test/systest/rpc/bnk_util.c
./test/systest/rpc/rpc.cds.3/rpc.cds.3_set_cal_uuid.c
./test/systest/rpc/rpc.cds.3/rpc.cds.3_smain.c
./test/systest/rpc/rpc.sec.2/rpctest.h
./test/systest/rpc/util.c
./test/systest/security/sec.rgy.7/login_test.c
./test/systest/security/sec.rgy.7/rgy_clt.h
./test/systest/security/sec.rgy.7/secrgy_client.c
./test/systest/security/sec.rgy.7/secrgy_server.c
./test/systest/threads/thd_client.c
./test/systest/threads/thd_server.c
./test/systest/threads/thd_util.c
./test/systest/tools/msgqd.c
./test/systest/tools/ropen_main.c
./test/systest/tools/util.c
./test/systest/tools/xx_lib_r.c



CR Number                     : 7440
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : systest
Subcomponent Name             : 
Short Description             : dcethrp1 fails to start thd_server using ropen for long TCDIR
Reported Date                 : 3/5/93
Found in Baseline             : 1.0.1
Found Date                    : 3/5/93
Severity                      : C
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : dcethrpc
Sensitivity                   : public

[3/5/93 public]

when invoked by the systest driver dcethrpc, dcethrp1 can fail to start
thd_server via ropen when the pathname LCDIR is "long".

Repeat BY:

Execute thd_server with a "long" path name, for example:

        /opt/dcelocal/test/systest/threads/thd_server -p thdrpc

In which case thd_server will crash.

cd to /opt/dcelocal/test/systest/threads and execute

        thd_server -p thdrpc

In this case thd_server should come up without any probelm.

Proposed Solution:

	Figure out what's wrong with thd_server, or just
        change the dcethrp1 script to shorten the thd_server path name.
        specifically change one line in Start_server as follows.

<       ropen -b $HOST "JOURNAL=$WSLOGDIR/$SERVER_FILE.$HOST; export
JOURNAL;\
<                       $TCDIR/$SERVER_FILE $SERVER_PARMS"

        with:

>       ropen -b $HOST "JOURNAL=$WSLOGDIR/$SERVER_FILE.$HOST; export
JOURNAL;\
>                       cd $TCDIR; ./$SERVER_FILE $SERVER_PARMS"

[03/24/93 public]
Changed from thr -> dce since this is a system test bug.

[08/11/93 public]
Changed owner to Cindy since she is working on the tests.

[10/12/93 public]

dcethrpc has been changed to copy thd_server from the binary directory to
/tmp and execute it in /tmp.



CR Number                     : 7438
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : systest
Subcomponent Name             : 
Short Description             : dcethrp1 test sometimes fails because thd_server(s) come up too late.
Reported Date                 : 3/5/93
Found in Baseline             : 1.0.1
Found Date                    : 3/5/93
Severity                      : C
Priority                      : 1
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 1.0.3
Affected File(s)              : test/systest/threads/dcethrpc
Sensitivity                   : public

[3/5/93 public]

Full Description:

        customer reports that dcethrp1 test can fail because of timing
        problems. In particular they have experienced failures in this
        test whenever the thd_client starts up before the thd_server(s)
        running on remote machines(s).
Repeat By:

        Execute the command "dcethrpc -m m1 -p thrpc", where m1 is a
        machine whose cpu utilization is high.

Proposed Solution:

	dcethrp1 should make sure server processes on remote machines are
        running before it starts the client.

        modify dcethrp1 to make this check, by adding the following code to
        test/systest/threads/dcethrp1, and call Check_servers() before
        calling Start_client().

	Note that OT 4116 describes a fix to a similar problem in this test.

###########################################################################
#
# Make sure server processes on remote machines are running.
#
###########################################################################
Check_servers()
{
        for HOST in $HOSTLIST
        do
                rsh $HOST "ps -ef | grep thd_server" | grep thd_server
                server_up="$?"
                timer=0
                while [ "$server_up" -ne 0 -a "$timer" -lt 10 ]
                do
                        xx_log "thd_server is not running on $HOST. Sleep for 30 seconds ..."
                        sleep 30
                        rsh $HOST "ps -ael | grep thd_server" | grep thd_server
                        server_up="$?"
                        timer=`expr $timer + 1`
                done
                if [ "$server_up" -ne 0 ]
                then
                        xx_fail "Failed to start thd_server on $HOST"
                else
                        xx_log " thd_server is running on $HOST"
                fi
        done
}

[03/24/93 public]
Changed from thr -> dce since this is a system test bug.

[08/11/93 public]
Changed owner to Cindy since she is working on the tests.

[10/15/93 public]

Added the following check_servers function to make sure the servers are
running before the clients are started.

> # Make sure server processes on remote machines are running.
> check_servers()
> {
>       error=0
>         for HOST in $HOSTLIST
>         do
>                 $RSH_COMM $HOST "ps -ef | grep thd_server" | grep
thd_server
>                 server_up="$?"
>                 timer=0
>                 while [ "$server_up" -ne 0 -a "$timer" -lt 10 ]
>                 do
>                         tet_infoline "thd_server is not running on $HOST.
Slee
p for 30 seconds ..."
>                         sleep 30
>                         $RSH_COMM $HOST "ps -ael | grep thd_server" |
grep thd
_server
>                         server_up="$?"
>                         timer=`expr $timer + 1`
>                 done
>                 if [ "$server_up" -ne 0 ]
>                 then
>                         tet_infoline "ERROR:Failed to start thd_server on
$HOS
T"
>                       error=1
>                 else
>                         tet_infoline " thd_server is running on $HOST"
>                 fi
>         done
>       if [ $error -ne 0 ] ; then
>               return 1
>       fi
>
>       return 0
> }

[11/11/93 public]

The fix has been verified.



CR Number                     : 6748
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax,rs6000
S/W Ref Platform              : osf1,aix
Component Name                : systest
Subcomponent Name             : 
Short Description             : 
Simplify and enhance the usability of the DCE 1.0.1 system tests (the eight
that were really used).
Reported Date                 : 1/6/93
Found in Baseline             : 1.0.1
Found Date                    : 1/6/93
Severity                      : C
Priority                      : 2
Status                        : closed
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 1.0.2
Affected File(s)              : ./test/systest/dcetest_config
Sensitivity                   : public

[1/6/93 public]
Simplify the procedure for installing tests, configuring the system for
running the system tests, executing the system tests and reviewing the 
systest logs. Also eliminate unneccessary logging and optionally storing
of 'passed' test logs.

[08/11/93 public]
This functionality is covered by dcetest_config.




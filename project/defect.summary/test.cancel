CR Number                     : 13185
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : aud
Subcomponent Name             : test
Short Description             : Provide proper path to the scripts etc..
Reported Date                 : 10/31/95
Found in Baseline             : 1.1
Found Date                    : 10/31/95
Severity                      : C
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.2
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[10/31/95 public]

This can be solved many ways (including setting your path) but needs
to have something done to correctly invoke the necessay scripts/executable..

One possible option is to provide the absolute path:

*** /vob/dce.src.test/src/test/security/audit/ts/api_filter/api_filter@@/main/4 Fri Aug 19 16:24:05 1994
--- /vob/dce.src.test/src/test/security/audit/ts/api_filter/api_filter@@/main/HPDCE02/1 Tue Jun 27 17:20:25 1995
***************
*** 42,48 ****
          DCEAUDITFILTERON=1
          export DCEAUDITFILTERON

!         $TET_ROOT/functional/security/audit/ts/api_filter/startauditd
  }

  api_filter1() {
--- 42,48 ----
          DCEAUDITFILTERON=1
          export DCEAUDITFILTERON

!         $TET_ROOT/test/functional/security/audit/ts/api_filter/startauditd
  }

  api_filter1() {
***************
*** 53,59 ****
   DCEAUDITFILTERON=1
   export DCEAUDITFILTERON

!  $TET_ROOT/functional/security/audit/ts/api_filter/aud_testf
   (( overall_status = $? ))

   print "Overall status: $overall_status\n"
--- 53,59 ----
   DCEAUDITFILTERON=1
   export DCEAUDITFILTERON

!  $TET_ROOT/test/functional/security/audit/ts/api_filter/aud_testf
   (( overall_status = $? ))

   print "Overall status: $overall_status\n"
***************
*** 184,190 ****
  # cleanup of DCE audit test
  cleanup() {

!         $TET_ROOT/functional/security/audit/ts/api_filter/stopauditd
          rm /opt/dcelocal/var/audit/esl-*
        print "\nEND DCE audit functional test: api_filter; DATE: `date`"
        tet_infoline "END DCE audit functional test: ${TET_PNAME}; DATE: `date`"
--- 184,190 ----
  # cleanup of DCE audit test
  cleanup() {

!         $TET_ROOT/test/functional/security/audit/ts/api_filter/stopauditd
          rm /opt/dcelocal/var/audit/esl-*
        print "\nEND DCE audit functional test: api_filter; DATE: `date`"
        tet_infoline "END DCE audit functional test: ${TET_PNAME}; DATE: `date`"
*** /vob/dce.src.test/src/test/security/audit/ts/api_log/api_log@@/main/8       Wed Sep 28 12:17:25 1994
--- /vob/dce.src.test/src/test/security/audit/ts/api_log/api_log@@/main/HPDCE02/1       Tue Jun 27 17:19:21 1995
***************
*** 68,74 ****
   tet_infoline "START: api_log1 started"

  #set -x
!  $TET_ROOT/functional/security/audit/ts/api_log/aud_test
   (( overall_status = $? ))

   print "Overall status: $overall_status\n"
--- 68,74 ----
   tet_infoline "START: api_log1 started"

  #set -x
!  $TET_ROOT/test/functional/security/audit/ts/api_log/aud_test
   (( overall_status = $? ))

   print "Overall status: $overall_status\n"
*** /vob/dce.src.test/src/test/security/audit/ts/api_log_to_daemon/api_log_to_daemon@@/main/4   Fri Aug 19 16:24:14
1994
--- /vob/dce.src.test/src/test/security/audit/ts/api_log_to_daemon/api_log_to_daemon@@/main/HPDCE02/1   Tue Jun 27 1
7:20:03 1995
***************
*** 33,39 ****
   tet_infoline "START: api_log_to_daemon1 started"

  #set -x
!  $TET_ROOT/functional/security/audit/ts/api_log_to_daemon/aud_testd
   (( overall_status = $? ))

   print "Overall status: $overall_status\n"
--- 33,39 ----
   tet_infoline "START: api_log_to_daemon1 started"

  #set -x
!  $TET_ROOT/test/functional/security/audit/ts/api_log_to_daemon/aud_testd
   (( overall_status = $? ))

   print "Overall status: $overall_status\n"
*** /vob/dce.src.test/src/test/security/audit/ts/ecfile_filter/ecfile_filter@@/main/4   Fri Aug 19 16:24:18 1994
--- /vob/dce.src.test/src/test/security/audit/ts/ecfile_filter/ecfile_filter@@/main/HPDCE02/1   Tue Jun 27 17:19:39
1995
***************
*** 26,32 ****
   DCEAUDITFILTERON=1
   export DCEAUDITFILTERON
  #set -x
!  $TET_ROOT/functional/security/audit/ts/ecfile_filter/aud_testec
   (( overall_status = $? ))

   print "Overall status: $overall_status\n"
--- 26,32 ----
   DCEAUDITFILTERON=1
   export DCEAUDITFILTERON
  #set -x
!  $TET_ROOT/test/functional/security/audit/ts/ecfile_filter/aud_testec
   (( overall_status = $? ))

   print "Overall status: $overall_status\n"
***************
*** 53,59 ****
  #set +x
  # cleanup of DCE audit test
  cleanup() {
!         $TET_ROOT/functional/security/audit/ts/ecfile_filter/stopauditd
          rm /opt/dcelocal/var/audit/esl-*
        print "\nEND DCE audit functional test: ecfile_filter; DATE: `date`"
        tet_infoline "END DCE audit functional test: ${TET_PNAME}; DATE: `date`"
--- 53,59 ----
  #set +x
  # cleanup of DCE audit test
  cleanup() {
!         $TET_ROOT/test/functional/security/audit/ts/ecfile_filter/stopauditd
          rm /opt/dcelocal/var/audit/esl-*
        print "\nEND DCE audit functional test: ecfile_filter; DATE: `date`"
        tet_infoline "END DCE audit functional test: ${TET_PNAME}; DATE: `date`"

[02/26/96 public]
As discussed today, we will not plan to support this OT.  
D
No



CR Number                     : 12807
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : rpc
Subcomponent Name             : rpc runtime
Short Description             : src/test/rpc/runtime/perf testcase
fails using "udp" protocol sequence. Specfically Static Cancel Test 2,&3.
Reported Date                 : 2/27/95
Found in Baseline             : 1.0,1.1
Found Date                    : 2/27/95
Severity                      : C
Priority                      : 0
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[2/27/95 public]

A rpc testcase fails using "udp" protocol sequence.  This testcase is located
in the src/test/rpc/runtime/perf directory tree.  The actual tests are 
designated by "15a,15b,15c and 15d" in the shell script "perf_udp.sh". 
The names given to these tests in the client.c source are "Static 
Test Cancel1", "Static Test Cancel2" and "Static Test Cancel3". These tests
execute different cancel scenarios by sending a canceto the thread
executing the remote procedure. These testcases fail due to the cancel still
pending after the call to the remote procedure. These testcases run 
successfully using "tcp" protocol sequence.

For the testcase to succeed,  
the client should detect the cancel and forward a cancel packet to the server.
For "udp" the client checks for cancel in the rpc__dg_call_transmit_int
function.  Once the client reaches this function, the flow of execution
will never reach the CHECK_CANCEL macro.  Even if the macro is introduced
into the flow, "cancel_check" will not be executed since the fragment number
is zero. 

One solution is to introduce a call to the "cancel_check" function in 
rpc__dg_call_transmit_int.  The location of this cancel_check, will be before
returning, but after checking the value of "end_of_data" (approx. line 453-
454).  The modification is provided below:

  +453          if (end_of_data) {
		    cancel_check(call);
  +454              return;
		   }

A question arises whether the testcase is incorrect in assuming a cancel will be
detected and forward to the server, when the amount of data sent to 
the server is small (less than 64 frags) ?? Another question is whether
the results of the testcases should be consitent independent of which
protocol sequence used???  (Remember this same testcase succeeds using "tcp")

[3/1/95 public]

The above code may do what you want, but you are actually introducing an
addidional cancellation point to fix the broken test.

First of all, the perf static cancel test is broken. It has a couple of
potential cancellation points in both sides of RPCs which may jeopardize
the test. (Timing sensitive.) Even after fixing these, it's hard to make it
do the right thing.

Secondly, what you have seen is caused by the CMA's recvmsg() wrapper.
dce1.1 introduced the private client socket, which makes the client call
thread to call cma_recvmsg() instead of pthread_cond_wait(). Unfortunately,
cma_recvmsg() does not deliver the exception unless recvmsg() returns
EWOULDBLOCK. Thus, the runtime doesn't detect the cancel if there is
something to read. (By increasing the sleep second, you can pass the static
cancel test 2 and 3.)  If you turn off the private client socket, the
runtime will detects the cancel because pthread_cond_wait() is a real
cancellation point (that is CMA always deliver a pending exception). I
think that we can't blame the CMA's behavior until the pthread standard
gets finalized.

There is no need to introduce an additinal cancellation point. Even if you
do, there is no guarantee that the cencel gets raised in the server
manager. The network delay, etc., could easily cause the miss of the
cancellation points in the server manager, though the rpc runtime is trying
hard to preserve the local cancel semantics. (In the above case, by the
time when the client call thread called cma_recvmsg(), the server finished
the call. And this can happen with the shared socket if the listener thread
receives a response before the client call thread calls
rpc__dg_call_receive_int().)

The CN client call thread calls pthread_cond_wait() if a response is not
received by the receiver thread yet.

[2/7/96 public]

Cancelled. Nothing is broken (extra cancellation points are removed from
the perf test in dce1.2.1). You just need to sleep long enough to
accommodate delays.



CR Number                     : 12704
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : dfs
Subcomponent Name             : 
Short Description             : dfs acl getset test fails
Reported Date                 : 10/21/94
Found in Baseline             : 1.1b22
Found Date                    : 10/21/94
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[10/21/94 public]

Here is the log file for the acl getset test that was run in an episode
file system:

... lines deleted
+ expr /.../zeugma.test.cell/fs/acl/scratch/getset : ^\/\.\.\.\/.*
PATH_TYPE=cmpath
+ export ALLPERMS
+ export CUR ROOT RDIR LOGFILE EXECUTION_DIRECTORY
+ export TESTACL_RGY_DATABASE_CMD
+ export TESTACL_GROUP_LIST TESTACL_USER_LIST TESTACL_GROUP_MEMBERS
+ export TESTACL_GROUP_COUNT TESTACL_USER_COUNT
+ export TESTACL_RGY_SETUP TESTACL_RGY_CLEANUP
+ export TESTACL_CREDS_FILE
+ export SETUP_RGY_DATABASE
+ export CELL_ADMIN_PASSWD COMMON_USER_PASSWD TESTACL_COMMON_USER_PASSWD
+ export DCE_LOGIN
+ export COM ACL_EDIT_FLAGS FLAGS
+ export AWK
+ export EXECTRACE trace_only
+ export PATH_TYPE
+ common_setup
+ setup_rgy_database
+ [ off = off ]
+ [ done = not_done ]
+ [ -d /.../zeugma.test.cell/fs/acl/results ]
+ [ -d /.../zeugma.test.cell/fs/acl/scratch ]
+ [ getset != top_level_driver ]
+ [ ! -d /.../zeugma.test.cell/fs/acl/results/getset ]
+ rm -fr /.../zeugma.test.cell/fs/acl/results/getset/ERROR /.../zeugma.test.cell
/fs/acl/results/getset/STATUS
+ [ -d /.../zeugma.test.cell/fs/acl/scratch/getset ]
+ rm -fr /.../zeugma.test.cell/fs/acl/scratch/getset
rm: 0653-602 Cannot read /.../zeugma.test.cell/fs/acl/scratch/getset/testdir3.
rm: 0653-611 Directory /.../zeugma.test.cell/fs/acl/scratch/getset is not empty.
+ [ 2 -ne 0 ]
+ error_exit Unable to remove execution dir /.../zeugma.test.cell/fs/acl/scratch
/getset
+ echo Unable to remove execution dir /.../zeugma.test.cell/fs/acl/scratch/getse
t
+ exit 1

[10/24/94 public]
Bob, I've seen something like this before.  It looks like the acl 
test was just trying to clean up from a previous (possibly aborted) 
run and couldn't remove one of the directories because of permission 
problems.  This could happen because cell_admin != root.  If the 
permissions on the testdir3 directory didn't allow cell_admin to 
read the directory, you might get this error.  Try doing whatever
chmods are necessary then removing everything under ../scratch/getset 
by hand and re-running the test.

[10/25/94 public]
I was able to rerun the tests without any failures. I am certain the
reason the test failed because of a permission problem.



CR Number                     : 12684
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : aud
Subcomponent Name             : fvts
Short Description             : Audit FVTs need to be moved
Reported Date                 : 10/20/94
Found in Baseline             : 1.1b21
Found Date                    : 10/20/94
Severity                      : C
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[10/20/94 public]
Source for all tests that have been tetized should be placed in the appropriate
.../src/test/functional/<component> directory.  The audit test source is
currently in .../src/test/security/audit directory.  These need to be 
moved.

[02/26/96 public]
Per agreement with OSF,  this OT will not be done because Audit FVT should
belong in security component.



CR Number                     : 12664
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : dcecp
Subcomponent Name             : 
Short Description             : dcecp schema test hangs
Reported Date                 : 10/19/94
Found in Baseline             : 1.1b22
Found Date                    : 10/19/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[10/19/94 public]

This test hangs on every test that is listed in the tet_scen file.
Sometimes it starts the test and nothing is ever put in the tet_xres
file and other tests will run for some period of time and then hang.
The only way to kill the test is with "kill -9".

[10/19/94 public]
I also had the principal_era test hang in group_modify_era_N.
This is the end of the tet_xres file and dcecp has been executing this
file for over 30 minutes:

...
520|0 1 15394 1 280|principal_modify_era_32_N: No value passed for change of tes
t_binding
520|0 1 15394 1 281|==== Contents of test case:
520|0 1 15394 1 282|{         list [catch {principal modify gumby -change {test_
binding}} msg] $msg     }
520|0 1 15394 1 283|Test completed successfully.
520|0 1 15394 1 284|== Test output was:
520|0 1 15394 1 285|{1 {Incorrect number of values for attribute type.}}
520|0 1 15394 1 286|== Expected output wa


I attached to dcecp and it appears this is the traceback I got after
interrupting the process several times:

cma_sendmsg(0x9c, 0xdeadbeef, 0xdeadbeef) at 0xd038ce00
rpc__cn_assoc_send_frag(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0xd043efb8
rpc__cn_transmit_buffers(0x9c, 0xdeadbeef) at 0xd0455964
send_last_frag_action_rtn(0x9c, 0xdeadbeef, 0xdeadbeef) at 0xd043ba70
rpc__cn_sm_eval_event(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0xd0446a7c
rpc__cn_call_transceive(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at
 0xd039d360
rpc_call_transceive(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0xd
0363394
conv_cstub.op3_csr(0x2025fe58, 0x2ff77934, 0x20378698, 0x2ff778f8, 0xf, 0x2ff778
cc, 0x203786f8, 0x2ff77f00) at 0xd043abf0
ep_get_endpoint(0x9c, 0xdeadbeef, 0xdeadbeef) at 0xd0439bec
rpc_ep_resolve_binding(0x9c, 0xdeadbeef, 0xdeadbeef) at 0xd0439858
rpc__cn_call_start(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadb
eef) at 0xd039bef0
rpc_call_start(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef,
 0xdeadbeef) at 0xd0363284
rkeytab_cstub.op0_csr(h = 0x2007d3f0, items = (nil), st = 0x2ff78710, 0x2ff7825c
, 0x2ff782c0, 0x2ff78274, 0x2ff787a0) at 0xd047d7cc
rca_site_resolve_update(0x2ff787b0, 0x201e32e8, 0x2ff787a4, 0x2ff787a0, 0x47, 0x
177e0000, 0x200a5c88, 0x200a5c88) at 0xd033ce04
sec_rgy_site_bind_update(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0xd0338964

open_site_by_access(interp = 0x20162f28, site = "./doyen.test.cell", access = 0x
2ff78828), line 902 in "rgy_utils.c"
open_rgy_site(interp = 0x20162f28, name = "", access = site_update), line 790 in
 "rgy_utils.c"
principal_modify(clientData = (nil), interp = 0x20162f28, argc = 2, argv = 0x2ff
7c774), line 1141 in "rgy.c"
dcp_principal(clientData = (nil), interp = 0x20162f28, argc = 4, argv = 0x2ff7c7
74), line 1203 in "commands.c"
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
Tcl_CatchCmd(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x1000df44
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
TclParseNestedCmd(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x100
09594
TclParseWords(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 
0xdeadbeef, 0xdeadbeef) at 0x10009c00
Tcl_Eval(0x9c, 0xdeadbeef) at 0x10001e84
Tcl_UplevelCmd(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x1000d274
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
Tcl_CatchCmd(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x1000df44
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
TclParseNestedCmd(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x100
09594
TclParseWords(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef, 
0xdeadbeef, 0xdeadbeef) at 0x10009c00
Tcl_Eval(0x9c, 0xdeadbeef) at 0x10001e84
InterpProc(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x1000d5f0
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
InterpProc(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x1000d5f0
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
Tcl_IfCmd(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x100189a8
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
Tcl_ForeachCmd(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x1000ea88
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
Tcl_ForeachCmd(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x1000ea88
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
Tcl_EvalFile(0x9c, 0xdeadbeef) at 0x10025040
Tcl_SourceCmd(0x9c, 0xdeadbeef, 0xdeadbeef, 0xdeadbeef) at 0x10023678
Tcl_Eval(0x9c, 0xdeadbeef) at 0x100020a4
Tcl_EvalFile(0x9c, 0xdeadbeef) at 0x10025040
main(argc = 0, argv = (nil)), line 366 in "main.c"

The parameters being passed to Tcl_EvalFile from main are changing
but nothing appears to be happening.

[10/21/94 public]
I was able to succesfully run these tests. I believe the problem was
in the namespace.



CR Number                     : 12640
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : sec
Subcomponent Name             : 
Short Description             : rgy_edit test fails
Reported Date                 : 10/17/94
Found in Baseline             : 1.1b21
Found Date                    : 10/17/94
Severity                      : D
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[3/20/96]
cancel - addressed in DCE1.2.2.

[10/17/94 public]

The rgy_edit fuctional test fails when running rgy_group.sh. The
test tries to add the group rom with the number 202. However,
group 202 is now being used for cds-admin. I changed the group
number and reran the test succesfully.



CR Number                     : 12597
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : dcecp
Subcomponent Name             : 
Short Description             : dcecp registry func test fails
Reported Date                 : 10/12/94
Found in Baseline             : 1.1b21
Found Date                    : 10/12/94
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[10/12/94 public]

The following error were found in the journal file:

...
520|0 1 19274 1 73|registry_delete_009_N: Check for authentication to perform th
is operation.
520|0 1 19274 1 74|==== Contents of test case:
520|0 1 19274 1 75|{         list [catch {registry delete $DCP_RGY_SA_REP_NAME_S
LAVE1} msg] $msg     }
520|0 1 19274 1 76|Test completed successfully.
520|0 1 19274 1 77|== Test output was:
520|0 1 19274 1 78|{1 {User is not authorized to update record}}
520|0 1 19274 1 79|== Expected output was:
520|0 1 19274 1 80|{1 {Registry object not found}}
520|0 1 19274 1 81|Test Failed.
220|0 1 1 10:39:47|FAIL
...
520|0 1 19392 1 37|registry_disable_005_N: Check for authentication to perform t
his operation.
520|0 1 19392 1 38|==== Contents of test case:
520|0 1 19392 1 39|{         list [catch {registry disable $DCP_RGY_SA_REP_NAME_
MASTER} msg] $msg     }
520|0 1 19392 1 40|Test completed successfully.
520|0 1 19392 1 41|== Test output was:
520|0 1 19392 1 42|{1 {User is not authorized to update record}}
520|0 1 19392 1 43|== Expected output was:
520|0 1 19392 1 44|{1 {Registry object not found}}
520|0 1 19392 1 45|Test Failed.
220|0 1 1 10:40:14|FAIL
...
520|0 1 19302 1 37|registry_enable_005_N: Check for authentication to perform th
is operation.
520|0 1 19302 1 38|==== Contents of test case:
520|0 1 19302 1 39|{         list [catch {registry enable $DCP_RGY_SA_REP_NAME_M
ASTER} msg] $msg     }
520|0 1 19302 1 40|Test completed successfully.
520|0 1 19302 1 41|== Test output was:
520|0 1 19302 1 42|{1 {User is not authorized to update record}}
520|0 1 19302 1 43|== Expected output was:
520|0 1 19302 1 44|{1 {Registry object not found}}
520|0 1 19302 1 45|Test Failed.
220|0 1 1 10:41:07|FAIL
...
520|0 1 19405 1 73|registry_stop_009_N: Check for authentication to perform this
 operation.
520|0 1 19405 1 74|==== Contents of test case:
520|0 1 19405 1 75|{         list [catch {registry stop $DCP_RGY_SA_REP_NAME_SLA
VE1} msg] $msg     }
520|0 1 19405 1 76|Test completed successfully.
520|0 1 19405 1 77|== Test output was:
520|0 1 19405 1 78|{1 {User is not authorized to update record}}
520|0 1 19405 1 79|== Expected output was:
520|0 1 19405 1 80|{1 {Registry object not found}}
520|0 1 19405 1 81|Test Failed.
220|0 1 1 10:41:44|FAIL
...
520|0 1 15952 1 73|registry_synchronize_009_N: Check for authentication to perfo
rm this operation.
520|0 1 15952 1 74|==== Contents of test case:
520|0 1 15952 1 75|{         list [catch {registry synchronize $DCP_RGY_SA_REP_N
AME_SLAVE1} msg] $msg     }
520|0 1 15952 1 76|Test completed successfully.
520|0 1 15952 1 77|== Test output was:
520|0 1 15952 1 78|{1 {User is not authorized to update record}}
520|0 1 15952 1 79|== Expected output was:
520|0 1 15952 1 80|{1 {Registry object not found}}
520|0 1 15952 1 81|Test Failed.
220|0 1 1 10:42:22|FAIL
...
520|0 1 8650 1 75|registry_modify_009_N: Check for authentication to perform thi
s operation.
520|0 1 8650 1 76|==== Contents of test case:
520|0 1 8650 1 77|{         list [catch {registry modify $DCP_RGY_SA_REP_NAME_MA
STER -key} msg] $msg     }
520|0 1 8650 1 78|Test completed successfully.
520|0 1 8650 1 79|== Test output was:
520|0 1 8650 1 80|{1 {User is not authorized to update record}}
520|0 1 8650 1 81|== Expected output was:
520|0 1 8650 1 82|{1 {Registry object not found}}
520|0 1 8650 1 83|Test Failed.
220|0 1 1 10:43:03|FAIL
...
520|0 1 8550 1 73|registry_set_009_N: Check for authentication to perform this o
peration.
520|0 1 8550 1 74|==== Contents of test case:
520|0 1 8550 1 75|{         list [catch {registry set $DCP_RGY_SA_REP_NAME_SLAVE
1} msg] $msg     }
520|0 1 8550 1 76|Test completed successfully.
520|0 1 8550 1 77|== Test output was:
520|0 1 8550 1 78|{1 {User is not authorized to update record}}
520|0 1 8550 1 79|== Expected output was:
520|0 1 8550 1 80|{1 {Registry object not found}}
520|0 1 8550 1 81|Test Failed.
220|0 1 1 10:44:34|FAIL

[10/26/94 public]
I'm cancelling this since I think it's just a matter of running the tests
not as root and without being dce_login'ed.  This has occurred with other
tests.  If this is not the case it can be reopened.



CR Number                     : 12591
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : dcecp
Subcomponent Name             : 
Short Description             : acl test failures
Reported Date                 : 10/12/94
Found in Baseline             : 1.1b21
Found Date                    : 10/12/94
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[10/12/94 public]

The following failures were found in the dcecp functional acl test:

...
520|0 1 12536 1 140|acl_delete_015_N: Check that the user must be authenticated
to
520|0 1 12536 1 141|acl_delete_015_N: delete an object's ACL.
520|0 1 12536 1 142|==== Contents of test case:
520|0 1 12536 1 143|{         list [catch {acl delete /.:/hosts} msg] $msg     }
520|0 1 12536 1 144|Test completed successfully.
520|0 1 12536 1 145|== Test output was:
520|0 1 12536 1 146|{1 {at least one control permission bit required on acl}}
520|0 1 12536 1 147|== Expected output was:
520|0 1 12536 1 148|{1 {operation on acl not authorized}}
520|0 1 12536 1 149|Test Failed.
220|0 1 1 15:57:18|FAIL
...
520|0 1 12440 1 385|acl_modify_042_N: Check that the user needs to be authentica
ted
520|0 1 12440 1 386|acl_modify_042_N: to modify the object's ACL.
520|0 1 12440 1 387|==== Contents of test case:
520|0 1 12440 1 388|{         list [catch {acl modify /.:/hosts -r "user:$DCP_CL
IENT"} msg] $msg     }
520|0 1 12440 1 389|Test completed successfully.
520|0 1 12440 1 390|== Test output was:
520|0 1 12440 1 391|{0 {}}
520|0 1 12440 1 392|== Expected output was:
520|0 1 12440 1 393|{1 {operation on acl not authorized}}
520|0 1 12440 1 394|Test Failed.
220|0 1 1 15:59:56|FAIL
...
520|0 1 17813 1 213|acl_replace_023_N: Check that the user must be authenticated
 to
520|0 1 17813 1 214|acl_replace_023_N: replace an object's ACL.
520|0 1 17813 1 215|==== Contents of test case:
520|0 1 17813 1 216|{         list [catch {acl replace /.:/hosts -acl "user:$DCP
_CLIENT:rc"} msg] $msg     }
520|0 1 17813 1 217|Test completed successfully.
520|0 1 17813 1 218|== Test output was:
520|0 1 17813 1 219|{0 {}}
520|0 1 17813 1 220|== Expected output was:
520|0 1 17813 1 221|{1 {operation on acl not authorized}}
520|0 1 17813 1 222|Test Failed.
220|0 1 1 16:02:17|FAIL
...
520|0 1 12322 1 248|acl_check_023_P: Display ACL permissions of invoker for 1 AC
L object with
520|0 1 12322 1 249|acl_check_023_P: no authentication.
520|0 1 12322 1 250|==== Contents of test case:
520|0 1 12322 1 251|{ acl check /.:/hosts          dcp_acl_find_multi_entries "/
.:/hosts" {} {} [list "unauthenticated [acl check /.:/hosts]"]    }
520|0 1 12322 1 252|== Test generated error.
520|0 1 12322 1 253|== Test output was:
520|0 1 12322 1 254|{invalid acl handle}
220|0 1 1 16:04:36|FAIL
...
520|0 1 17670 1 97|acl_permissions_027_P: Display ACL permissions associated wit
h 1 ACL object with
520|0 1 17670 1 98|acl_permissions_027_P: no authentication.
520|0 1 17670 1 99|Command: {acl permissions /.:/hosts}
520|0 1 17670 1 100|Command Result: {invalid acl handle}
520|0 1 17670 1 101|Test Failed.
220|0 1 1 16:30:21|FAIL

[10/12/94 public]

It looks like you have a login context before running the dcecp ACL FVT
test suite.

The tests will take care of logging in and out appropriately.

[10/12/94 public]
When running the test I did NOT have a login context.
I ran the tests as root.

[10/12/94 public]

Sorry.. When logged in as root you have the login context of 
/.:/hosts/{machine_name}/self . So in effect you are logged in.
Do a 'klist' look at your credentials.

[10/12/94 public]
I reran the test on BL22 without any failures.



CR Number                     : 12522
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : rpc.cds.3 and rpc.sec.2 tests are reporting client failures due to server busy
Reported Date                 : 10/5/94
Found in Baseline             : 1.1b20
Found Date                    : 10/5/94
Severity                      : C
Priority                      : 0
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[10/5/94 public]

The rpc.cds.3 and rpc.sec.2 tests are reporting a large number of failures in
TCP clients due to rpc_s_server_too_busy errors.  The tests do not perform any
error handling of the comm status returned from a remote call.

The workaround would be to allocate more server threads by default.

[10/21/94 public]

The change to number of server threads is not necessary.  The tests are running
successfully with a single server thread.



CR Number                     : 12497
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : utils
Subcomponent Name             : SVC FVT
Short Description             : Need SVC FVT ASAP
Reported Date                 : 10/4/94
Found in Baseline             : 1.1b20
Found Date                    : 10/4/94
Severity                      : A
Priority                      : 0
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[10/4/94 public]
Need SVC FVTs ASAP

[10/05/94 public]
Did you have anything particular in mind?  The SVC functional tests
are currently a hand-test based on Doug Weir's example code.

[10/5/94 public]
Seemed like a good idea...... cancelled.



CR Number                     : 12455
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dced
Subcomponent Name             : object_read FVTs
Short Description             : object_read and object_read_all FVT's fail or core dump
Reported Date                 : 9/30/94
Found in Baseline             : 1.1b20
Found Date                    : 9/30/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[9/30/94 public]

object_read and pbject_read_all FVT's FAIL or core dump.

[10/3/94 public]
Cannot reproduce.  Cancel.



CR Number                     : 12451
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 12478, 12486
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dced
Short Description             : server ping is not handled properly
Reported Date                 : 9/30/94
Found in Baseline             : 1.1b20
Found Date                    : 9/30/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[9/30/94 public]

The dcecp "server ping" operation is used in several places in 
DCDREL002 to test whether a server is executing or not. When
servers with the {starton failure} attribute have been stopped
with a fail and don't restart, a server ping to them using the
NS name gets an error, reporting "Connection request rejected"
rather than returning a 0. 

Separately in DCDREL002, when servers are successfully stopped
using dcecp "server stop", the test waits 60 seconds and then
issues server ping to assure that the servers have been stopped.
In this case dcecp "server ping" returns 1 instead of 0.

[9/30/94 public]

> The dcecp "server ping" operation is used in several places in 
> DCDREL002 to test whether a server is executing or not. When
> servers with the {starton failure} attribute have been stopped
> with a fail and don't restart, a server ping to them using the
> NS name gets an error, reporting "Connection request rejected"
> rather than returning a 0. 

The "server ping" acted correct in this case. Because your server
was dead and the NS entry wasn't removed, so the connection was
rejected. All "server ping" does is same as rpc_mgmt_is_server_listening.
Please refer to its man page for the details.

> 
> Separately in DCDREL002, when servers are successfully stopped
> using dcecp "server stop", the test waits 60 seconds and then
> issues server ping to assure that the servers have been stopped.
> In this case dcecp "server ping" returns 1 instead of 0.

"server stop" stops a server by stop_method "rpc" which is blocked 
by CR#12061. This means that "server ping" acted correct again since
the server was alive.

Therefore I would say this OT is a test problem.

[fadden 10/5/94] 

Ping was correct on the second point. The server stop failed
and thus the server really was still running.

On the first point, it was decided that the "server ping"
command should return a 0 rather than an error, and Ping
entered a separate CR (12478) to cover that.



CR Number                     : 12363
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : utils
Subcomponent Name             : acl
Short Description             : acl test dumps core
Reported Date                 : 9/27/94
Found in Baseline             : 1.1b18
Found Date                    : 9/27/94
Severity                      : A
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.2
Fixed In Baseline             : 
Affected File(s)              : 
Diff supplied by              : 
Diff release                  : 
Sensitivity                   : public

[9/27/94 public]
The acl test dumps core on the HP.
Also fails to run "add_principals.tcl".
Also, catches wrong signal on HP (HP: 20, osf1: 26)
(perhaps should not catch any).

[1/3/94 public]
Fixed the add_principals.tcl part last week.

The coredump is in ./test/lib/libdcetst/tst_dce_login.c: tst_dce_login()
in a sec_login_* call.  (Not a whole lot goes on between main() and here
and it's doing pretty much what dce_login does.  Mysterious.)

[1/3/94 public]
Unrelated problem:  I think this is just a warning.  On 486, I get this
message, which I ignore (and the tests all report PASS):
    Current site is: registry server at /.../bigred/subsys/dce/sec/master 
    ?(rgy_edit) Unable to add key - Specified key already exists in key store (dce / sec)

[1/27/94 public]
Will not make it to 1.1.  The only problem of concern seems to be the core
dump on the HP.  I can not figure out why, not could others who have looked
at the code.  First thing I'd try is to take the steps that tst_dce_login()
does, and put them in-line, where the calls to setup() are.

Why am I not worried?  None of the real (non-test) code has problems with
these ACL calls, so I'm confident it's the test code.

[9/3/96 public]
Don't see any core dumps when running these tests.



CR Number                     : 12228
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dced
Subcomponent Name             : test/api
Short Description             : srvrexec api tests need to be enhanced
Reported Date                 : 9/16/94
Found in Baseline             : 1.1b18
Found Date                    : 9/16/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[9/16/94 public]

srvrexec API tests need to completed.

[9/22/94 public]
Changed to a "test" CR.

[10/3/94 public]
Tests complete and all PASSING for now.  Cancel.



CR Number                     : 12227
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : aud
Subcomponent Name             : 
Short Description             : Should expand aud systests
Reported Date                 : 9/16/94
Found in Baseline             : 1.1b17
Found Date                    : 9/16/94
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.2
Fixed In Baseline             : 
Affected File(s)              : 
Diff supplied by              : 
Diff release                  : 
Sensitivity                   : public

[9/16/94 public]

Robert Weisz of IBM notes that our system tests for Audit do not test
auditd in conjunction with security or dts.  As all of these pieces are
part of our Trusted Computing Base (TCB), he suggests that they be system
tested.

In fact, Bruce Haimowitz notes that AUDSTR001 does limited testing
of the integration of security and audit but no testing is done between
audit and dts.

I suggest that a new system test be created which will test all of the
dce TCB components at one go.

[9/3/96 public]
This OT is no longer needed and I was asked to cancel it.



CR Number                     : 12117
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : multi-delegate fails to start on client node
Reported Date                 : 9/8/94
Found in Baseline             : 1.1b16
Found Date                    : 9/8/94
Severity                      : A
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[9/8/94 public]

I can't seem to start any of the servers for the multi-delegate
test on a remote node.  So I can't verify that the multi-delegate
test will work in a multi-node cell.

It seems to be a keytab problem.

I looked at the script rgy_acct.ksh to see what keytab commands
I needed to do on the client node before I could start a server.
These are the command I came up with:

ktadd -p string-conv2 -pw pignoses

I think this is correct, but not 100% sure.

When I try and start any server on the client node
I get the following:

root@inman> ./conv_server2
sec_login_validate_identity() returned with error:
   Invalid password (dce / sec)


I have assigned this bug to myself for further investigation.

[9/27/94 public]

The rgy_acct.ksh setup script was randomizing the keytabs
for some reason.  Removed the "kta -r" statement from
the script and then I can start the servers on remote nodes.

Cancelling this bug.



CR Number                     : 11990
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : tetized tests
Short Description             : tet_scen for xds_all not correct
Reported Date                 : 9/1/94
Found in Baseline             : 1.1
Found Date                    : 9/1/94
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[9/1/94 public]

[09/01/94 public]
In test/functional/directory/xds/tet_scen: the scenarios for

all

and

all_no_switch

are identical.
"all" should contain also the switch tests.

[9/1/94 public]
The difference is in how local_TET.api interprets the option.  See the case
statement at the bottom of the script.

[09/01/94 public]
OK. Sorry.



CR Number                     : 11982
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : i486
S/W Ref Platform              : osf1
Component Name                : sec
Subcomponent Name             : 
Short Description             : rgy_acct.ksh delete works fine on hp but core dumps on osf/1
Reported Date                 : 8/31/94
Found in Baseline             : 1.1b16
Found Date                    : 8/31/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/31/94 public]


There is a script called rgy_acct.ksh that comes along with 
the multi-delegate test.  It adds and deletes entries
to the registry for use by the multi-delegate test

I am able to create entries using this script fine.
However, when I try to delete entries on an osf/1 machine
the script core dumps.  However, the script works fine on an hp machine.

The code for this script is in the afs cell under
/afs/dce.osf.org/project/dce/hp/dlg.tar

To recreate the bug

./rgy_acct.ksh create    (to create entries)
./rgy_acct.ksh delete    (to delete entries, core dumps under osf/1)

The last few lines of the script where it core dumps is as follows:


+ + print ktl -p string-conv
+ rgy_edit
+ awk {if ($1 ~ /\/string-conv$/) {printf ("%d ", $2)} }
Memory fault(coredump)

I am not able to get any output from the core file,
when I try gdb, I get "File format not recognized".

[8/31/94 public]
Try "strings core | more" to see if it looks like rgy_edit or ksh or awk
coredumped.  If it's not rgy_edit, then it's not a security problem.
If it is rgy_edit and you don't have a good core file, it could be because
there wasn't enough disk space to write out the entire core file and it's
truncated.

[8/31/94 public]

I am trying "strings core | more", however I don't know what to look for.
Have asked Max for help here at OSF.
Any hints are appreciated.

The very top of the more says (from "strings core | more"):

rgy_acct.ksh
@(#)$RCSfile: c011982,v $ $Revision: 1.5 $ (OSF) $Date: 94/09/19 11:29:57 $
@(#)$RCSfile: c011982,v $ $Revision: 1.5 $ (OSF) $Date: 1992/04/02 23:25:19
 $
@(#)$RCSfile: c011982,v $ $Revision: 1.5 $ (OSF) $Date: 1992/11/24 20:55:29

[8/31/94 public]
That's the same thing you get at the top of a strings /bin/ksh on osf/1,
but not if you do a strings of rgy_edit, so I'd say that your /bin/ksh
core dumped.  I've reassigned this from 'code' to 'test' because it's a
problem that the test script is going to have to work around.

[9/19/94 public]

Opened a CR (11107) against OSF/1. 
Can workaround problem by manually deleting registry items.
Cancelling bug.



CR Number                     : 11937
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : audrel001 not catching sig 20 before dce_aud_open
Reported Date                 : 8/29/94
Found in Baseline             : 1.1b14
Found Date                    : 8/29/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/29/94 public]


On some iterations of the audrel001 test the test is failing
because the test is not catching signal 20 on the hp machine.

[9/27/94 public]

Can work around this problem,
if you put "TET_SIG_IGN=20" in the tetexec.cfg file,
you don't get this problem.

Cancelling the problem.



CR Number                     : 11870
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : sec
Subcomponent Name             : era
Short Description             : sec_login_get_extended_attrs only gets 1 attr
Reported Date                 : 8/24/94
Found in Baseline             : 1.1b16
Found Date                    : 8/24/94
Severity                      : A
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/24/94 public]

While attempting to expand the dlg_client ERA test to include more
attribute types, I'm encountering an unexpected error 
"no more entries available (dce / sec)" when 'getting' the attrs.
This may be a problem with the test so I'm assigning this to myself
for further investigation.  But I can't quite see what I'm doing wrong 
at this point so I'll take any/all suggestions.  

The test sets up 2 ERAs, integer and printstring.  The sec_rgy_attr_update 
and sec_login_set_extended_attrs appear to work fine.  When I attempt to 
get the attrs with sec_cred_get_extended_attrs, I first get the printstring 
attr (2nd one in attr array when 'setting') and then try a second 
sec_cred_get_extended_attrs call and get the error 
"no more entries available (dce / sec)".  From reading the man pages it looks
like I should be able to make consecutive calls to sec_cred_get_extended_attrs
'til I run out.

The current code is in the hester_dce1_1 branch of dlg_client.c

The 'init_attrs' code does:

    attrs[0].attr_id = test_attr_id; 
    attrs[0].attr_value.attr_encoding = sec_attr_enc_integer;
    attrs[0].attr_value.tagged_union.signed_int = TEST_ATTR_INT;
    attrs[1].attr_id = test_printstring;
    SA_ATTR_ENCODING(&attrs[1]) = sec_attr_enc_printstring;
    SA_ATTR_PRINTSTRING_P(&attrs[1]) = TEST_ATTR_PRINTSTRING;
    sec_rgy_attr_update(context, sec_rgy_domain_person,
        (unsigned_char_p_t) name, NUM_ATTRS, NUM_ATTRS, attrs, &num_ret,
        out_attrs, &num_left, &failure_index, stp);

The 'set and get' does:

    attrs[0].attr_id = test_attr_id;
    attrs[0].attr_value.attr_encoding = sec_attr_enc_void;

    attrs[1].attr_id = test_printstring;
    attrs[1].attr_value.attr_encoding = sec_attr_enc_void;

        ilc = sec_login_set_extended_attrs(lc, num_attrs, attrs, &st);
        if (BAD_STATUS(&st)) {
            dce_error_inq_text((unsigned long)st, error_buf, &err_st);
            fprintf(stderr,"FAILED: Error from sec_login_set_extended_attrs: %s\
n", error_buf);

        if (lattr) {
            pa_h = sec_login_cred_get_initiator(ilc, &st);
            if (BAD_STATUS(&st)) {
                dce_error_inq_text((unsigned long)st, error_buf, &err_st);
                fprintf(stderr, "FAILED: Error from sec_login_cred_get_initiator
: %s\n", error_buf);
                goto purge_deleg_context;
            }
            sec_cred_initialize_attr_cursor(&acursor, &st);
            if (BAD_STATUS(&st)) {
                dce_error_inq_text((unsigned long)st, error_buf, &err_st);
                fprintf(stderr,
                    "FAILED: Error from sec_cred_initialize_attr_cursor: %s\n",
error_buf);
                goto purge_deleg_context;
            sec_cred_get_extended_attrs(pa_h, &acursor, &attr, &st);
            if (BAD_STATUS(&st)) {
                dce_error_inq_text((unsigned long)st, error_buf, &err_st);
                fprintf(stderr,
                    "FAILED: Error from sec_cred_get_extended_attrs: %s\n", erro
r_buf);
                goto purge_deleg_context;
            } 
...
check attr val against printstrin
...
            sec_cred_get_extended_attrs(pa_h, &acursor, &attr, &st);
            if (BAD_STATUS(&st)) {
                dce_error_inq_text((unsigned long)st, error_buf, &err_st);
                fprintf(stderr,
                    "FAILED: Error from SECOND sec_cred_get_extended_attrs: %s\n
", error_buf);
                goto purge_deleg_context;
            }

[8/29/94 public]
Cancelling since I got it working for 2 attrs.  I think the way I was
setting the attr_id for the integer was causing it, which was actually
different from what I put above:
uuid_from_string(test_uuids[test_integer], &(attrs[0].attr_id), stp);



CR Number                     : 11862
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : fvt
Short Description             : gds_sec does not check cell authentication
Reported Date                 : 8/24/94
Found in Baseline             : 1.1
Found Date                    : 8/24/94
Severity                      : C
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/24/94 public]
The gds_sec test does not check that dce_login authentication was performed
correctly.

Here's a code fragment from gds_sec_all:

  tp1() {
        tet_infoline "DCE_Security DAP tests with dce_login gds_cl1"

        gdssysadm -fd -p
        gdssysadm -fc -m4 -d11 -c2 -C16 -s2 -A25 
        gdssysadm -fA -p
        
        sleep 60

        tet_infoline "DCE_Security DAP test: sec_dap_b2.tcl"
        dce_login gds_cl1 gds_cl1 << EOT
        ksh -c 'gdscp ${TET_EXECUTE}/gds_sec/lib/sec_dap_b2.tcl > dap_b2.log 2>&1'
EOT
        check_ERROR_gds_sec dap_b2.log $?

check_ERROR_gds_sec should check the return code on dce_login.

[08/25/94 public]
Rich: Please cancel this. As you see check_ERROR_gds_sec is called with two
parameters - the second one is $? which is the exit code of dce_login.

check_ERROR_gds_sec (in ts/lib/shfuncs) starts with:

if [[ $2 -ne 0 ]]
   then
#      Look for any core file in directory of execution
#      In case of a core file -> mv core core.last
       ls $TET_EXECUTE/gds_sec/core > /dev/null 2>&1
       if [[ $? -ne 0 ]]
       then
         tet_infoline "<dce_login> gave exit code: $2"
       else
         tet_infoline "<dce_login> gave exit code: $2 (core.last was dumped)"
         mv $TET_EXECUTE/gds_sec/core $TET_EXECUTE/gds_sec/core.last
       fi
       tet_infoline "FAILED "

[8/25/94 public]
Look at the code fragment again.  The return code is from the gdscp
command.  The return code on dce_login is not checked.

[8/25/94 public]
Oops, I see now that the gdscp command is executed in the sub-process
spawned by dce_login.  Cancelled.



CR Number                     : 11813
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcdrel002
Short Description             : Server ping fails with "entry not found"
Reported Date                 : 8/22/94
Found in Baseline             : 1.1b15
Found Date                    : 8/22/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/22/94 public]

The test fails on both OSF/1 and HP-UX platforms with the 
error "Entry not found." This may be an error in the test
so I'm entering it that way until it's been investigated.

[10/05/94 public]

Extensive changes have been made both to dced and to this
test, and this problem no longer occurs. Cancelled.



CR Number                     : 11787
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dcecp
Subcomponent Name             : dts
Short Description             : test dts attr abbrev & remote
Reported Date                 : 8/19/94
Found in Baseline             : 1.1b15, 1.2
Found Date                    : 8/19/94
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.2.2
Fixed In Baseline             : 
Affected File(s)              : 
Diff supplied by              : 
Diff release                  : 
Sensitivity                   : public

[8/19/94 public]
Update functional tests to test attribute name and value abbreviation. Also
test remote control.

[6/5/96 public]
Cancel.  Current HP test cases already cover as much attribute
abbreviation and remote operation as possible.



CR Number                     : 11786
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dcecp
Subcomponent Name             : aud
Short Description             : test aud attr abbrev & remote
Reported Date                 : 8/19/94
Found in Baseline             : 1.1b15, 1.2
Found Date                    : 8/19/94
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.2.2
Fixed In Baseline             : 
Affected File(s)              : 
Diff supplied by              : 
Diff release                  : 
Sensitivity                   : public

[8/19/94 public]
Update functional tests to test attribute name and value abbreviation. Also
test remote control.

[6/5/96 public]
Cancel.  Current HP test cases already cover as much attribute
abbreviation and remote operation as possible.



CR Number                     : 11715
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : 
Short Description             : sec systests fail on remote logins
Reported Date                 : 8/16/94
Found in Baseline             : 1.1b14
Found Date                    : 8/16/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/16/94 public]

Running the dcesestr, dcesepol and dceseact systests all in my cell
with b14 all failed last night.  I'm assigning this to myself for
now since it may likely be a config error.  I'll investigate  more.
Config was osf/1 sec/cds master, hp sec replica, osf/1 client.

For now, here are the errors shown by each test, usually when doing
remote logins:

dcesestr:

520|0 1 24637 7 19|LOG: Starting iteration 1
520|0 1 24637 7 20|LOG: Attempting to log in as sestrleyosemite0p
520|0 1 24637 7 21|LOG: ERROR: Unable to login as account sestrleyosemitefiji0p
520|0 1 24637 7 22|LOG: Attempting to log in as sestrleyosemite1p
520|0 1 24637 7 23|LOG: ERROR: Unable to login as account sestrleyosemitefiji1p

dceseact:

520|0 1 4863 1 29|seactfijip account's password was changed at: yosemite (rlogin_to_machine 2) AS EXPECTED
520|0 1 4863 1 30|ERROR: Cannot verify seactfijip account's new password at: yosemite (rlogin_to_machine 3)
520|0 1 4863 1 31|Attempting to change seactfijia's password at yosemite
520|0 1 4863 1 32|Was able to change seactfijia account's password at: yosemite (rlogin_to_machine 1) AS EXPECTED

dcesepol:

520|0 1 12240 1 12|Executing remote logins to yosemite
520|0 1 12240 1 13|Current date and time is: Mon Aug 15 18:55:44 EDT 1994
520|0 1 12240 1 14|Attempting login as sepolpomerol1p on yosemite
520|0 1 12240 1 15|UNSUCCESSFUL sepolpomerol1p login on yosemite caused by:
520|0 1 12240 1 16|Sorry. User Identification Failure. - Registry object not found (dce / sec)
520|0 1 12240 1 17|ERROR: sepolpomerol1p unable to login to yosemite, STATUS = 3
520|0 1 12240 1 18|Current date and time is: Mon Aug 15 18:55:56 EDT 1994

[8/16/94 public]
A bit more info.  When tried by hand by using rgy_edit -update to create
a PGO and account, then exiting and attempting to log into account, got error:
'User Identification Failure. - Registry object not found (dce / sec)'
Entering rgy_edit and attempting to view principal failed with error:
'?(rgy_edit) Cannot retrieve entry for testpr - Entry not found (Registry Edit Kernel) (dce / sad)'
until setting site specifically to master.  This was still the case 1 hour
after creating the account.  So it looks like the rgy updates aren't being propagated
to the master.  
BUT, this is with B14.  There have been a few 'good builds' since so I will update
to 14.3 and attempt this again.

[8/16/94 public]
Cancelling since I can't recreate this with last night's build.



CR Number                     : 11696
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : i486
S/W Ref Platform              : hpux
Component Name                : rpc
Subcomponent Name             : /test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c
Short Description             : `in_size' undeclared
Reported Date                 : 8/15/94
Found in Baseline             : 1.1
Found Date                    : 8/15/94
Severity                      : A
Priority                      : 0
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/15/94 public]

dce1.1-snap/export/at386/usr/lib    -ldce -lc -ltettcm -ltetapi   /project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:32: parse error before `net_byte'
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c: In function `cs_fixed_trans':
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:37: `SIZE' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:37: (Each undeclared identifier is reported only once
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:37: for each function it appears in.)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:41: `in_string' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:52: `out_string' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c: At top level:
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:65: parse error before `net_byte'
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c: In function `cs_conf_trans':
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:73: `in_size' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:79: `in_string' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:90: `out_string' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c: At top level:
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:107: parse error before `net_byte'
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c: In function `cs_conf_vary_trans':
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:115: `in_size' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:121: `in_string' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:132: `out_string' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c: At top level:
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:148: parse error before `net_byte'
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c: In function `cs_vary_trans':
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:153: `SIZE' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:162: `in_length' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:165: `in_string' undeclared (first use this function)
/project/dce/build/dce1.1-snap/src/test/functional/rpc/runtime/i18n_api/ts/cs_eval/cs_byte/manager.c:175: `out_string' undeclared (first use this function)
*** Error code 1

[8/15/94 public]
Unable to reproduce, probably a result of disk space problems.
Canceled.



CR Number                     : 11695
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : i486
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : test/systest/security/sec.rgy.7
Short Description             : Undefined symbol "_rgy_test_v1_0_s_ifspec"
Reported Date                 : 8/15/94
Found in Baseline             : 1.1
Found Date                    : 8/15/94
Severity                      : A
Priority                      : 0
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/15/94 public]

[ /test/systest/security/sec.rgy.7 at 11:10 (AM) Monday ]

/project/dce/build/dce1.1-snap/tools/at386/macho/gcc -B/project/dce/build/dce1.1-snap/tools/at386/macho/  -%ld," -warn_nopic -glue"          -L/u1/devobj/sb/nb_486/export/at386/usr/shlib -L/project/dce/build/dce1.1-snap/export/at386/usr/shlib -L/usr/shlib -L/u1/devobj/sb/nb_486/export/at386/usr/lib     -L/project/dce/build/dce1.1-snap/export/at386/usr/lib   -o secrgy_server.X utils.o secrgy_server.o rgy_test_sstub.o rgy_test_saux.o  -ldce   
secrgy_server.o: Undefined symbol "_rgy_test_v1_0_s_ifspec" referenced

collect: /project/dce/build/dce1.1-snap/tools/at386/macho/real-ld returned 1 exit status

*** Error code 1

[8/15/94 public]

The reason why this failed is because the build skipped the step where
idl is run on rgy_test.idl to get rgy_test.h. In this file
rgy_test_v1_0_s_ifspec is defined. Why the build skipped this step is a
RAT problem, I think. A quick look at the test log seems to indicate 
there are other problems similar to this.

Thi is the step missing:

rm -f rgy_test.h
/u1/devobj/sb/nb_486/tools/at386/bin/idl -cpp_cmd
"/project/dce/build/dce1.1-snap/tools/at386/macho/cpp"     -k
eep c_source   -I/u1/devobj/sb/nb_486/export/at386/usr/include
-I/project/dce/build/dce1.1-snap/export/at386/us
r/include   -client none -server none
/project/dce/build/dce1.1-snap/src/test/systest/security/sec.rgy.7/rgy_te
st.idl

[8/15/94 public]

It appears that we may of had some steps corrupted. I checked
the obj areas and discovered that when the disk became full
the build left many 0 length files in several obj directories.
This could possibly account for some of the errors, although
t doesn't hurt to check them out anyway for there may be real 0 
length files. The onlt way to avoid
this under such circumstances would be to hand search and remove
each in order to take advantage of beginning where it left
off or rebuild from scratch. The question here is how reliable
hand picking is. The best choice although not the most popular
due to time is to rebuild completely.

[8/17/94 public]
Canceling - thanks to Martha D. for investigating - the build
problems in the system test area resulted from lack of disk
space only.



CR Number                     : 11690
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 11687
Project Name                  : dce
H/W Ref Platform              : i486
S/W Ref Platform              : osf1
Component Name                : sec
Subcomponent Name             : 
Short Description             : rpc.sec.2 test clients report auth ticket expired
Reported Date                 : 8/15/94
Found in Baseline             : 1.1b14
Found Date                    : 8/15/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/15/94 public]

OSF1 test clients running rpc.sec.2 tests reported auth ticket expired
and subsequent test runs reported errors after 5 hours.  The test were running
on 3 nodes, HP-UX and two OSF/1 machines.  All OSF/1 test clients reported
the same errors at about the same time.

Build: NB0812

Cell:

HPUX: secd, cdsd, dtsd
OSF1: client, sec replica, dtsd
OSF1: client, dtsd, ntp provider

The sequence of error messages is as follows:

auth ticket expired (dce / rpc)
login context has not been certified (dce / sec)

Then the test client reported that it could't get identity information.
All subsequent test runs failed.

[8/17/94 public]

Can you rerun the tests with the -d flag? This will tell me the
error status of the calls that are failing.

[8/23/94 public]
I just spoke with PeterO and he is going to re-run the sec.rgy.2 test
overnight to see if it is reproducible. Last time he ran with the debug on he
encountered a problem with cma threads complaining about too many open files.

[8/24/94 public]

Unfortunately, I ran into the same problem with cma threads last night.
If there's any other way to get more info, let me know.

[08/31/94 public]

Can you increase the number of open files on the OSF clients? Will this make
the threads problem go away?

[08/31/94 public]

The number of open files on the OSF clients is already set to the maximum,
256.  I saw some slightly different behavior this afternoon when I was 
running the tests. I re-installed last night's build (re-build) and will 
update in the morning if I can recreate the new behavior.

[09/07/94 public]

sekhar has submitted a fix for the open file descriptor leak today which
should be in tomorrows build. Can you rerun the tests with the -d option
at that time and update the OT?

[9/27/94 public]
Is this still a problem?

[9/27/94 public]

No, sekhar fixed this.



CR Number                     : 11665
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : thr
Subcomponent Name             : 
Short Description             : pthread_yield causes multi-delegate infinite loop
Reported Date                 : 8/12/94
Found in Baseline             : 1.1b13
Found Date                    : 8/12/94
Severity                      : A
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[8/12/94 public]

The multi delegate test for delegation fails on a 486 machine
when I start any of the servers.  It goes into an infinite
loop on the call:

   /* Give the sigcatch thread a chance to do its work before we
   ** continue.  Force a context switch to the signal catching thread.
   ** The signal catching thread will yield back to us when it calls
   ** sigwait().
   */
   pthread_yield();

I get zillions of "caught unexpected signal (signum -1)"

caught unexpected signal (signum -1)
caught unexpected signal (signum -1)
caught unexpected signal (signum -1)

This code works on HP/UX machine but it is failing on a 486.
The code is in my sandbox ~bhaim/sb/dce/src/test/systest/multi/sigcatch.c
The code is also in the AFS cell in /afs/dce.osf.org/project/dce/hp/dlg.tar
I have assigned this CR to myself for further investigation.
However, if anyone has a clue as to what is going 
on that is greatly appreciated.

[8/12/94 public]

This is probably a porting problem with the test.

[8/15/94 public]
Nothing brilliant to say, but I would recommend putting a -1 case in the
switch following sigwait() and printing the errno.  EINVAL is the only 
documented one but who knows what you might get.  Why is signal SIGLOST
in there?

[9/17/94 public]

      By commenting out the following lines in sigcatch.c
      the servers were able to start.

        #if 0
                sigaddset(&mask, SIGUSR1);
                sigaddset(&mask, SIGUSR2);
                sigaddset(&mask, SIGLOST);
        #endif

     Apparently the mask was getting corrupted
     from the sigaddset calls.  This only happens on OSF/1.

     Since I was able to workaround this problem,
     I am cancelling this bug.



CR Number                     : 11499
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : sec
Subcomponent Name             : FVT
Short Description             : login/key_mgmt/rgy_edit/acl_edit FVT's fail due to bad setup on HP
Reported Date                 : 7/29/94
Found in Baseline             : 1.1b13
Found Date                    : 7/29/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[7/29/94 public]

On HP with BL13:

login/key_mgmt/acl_edit/rgy_edit FVT's are failing because they are not
finding certain registry objects whcih their setup scripts are supposed
to create. 

All is fine on OSF1 running same BL13, this is odd.  The following 
principals were noted to be missing from the HP rgy after the tests finished:

test_key1
test_key2
test_key3
test_key4
flintstone

[8/9/94 public]
Does this still happen (with the latest good build) or was it just a setup
error that one time?  Does it happen on RIOS?

[8/25/94 public]

Can someone check to see if this is still happening?  Also, as
Mike asked before - does it happen on RIOS?

[ sekhar 9/21/94 public ]

Cancelled. 

I just ran through the API and rgy_edit functional tests
on HP, using bl-17 and they all passed except for one failure
in the Unix interfaces . I ran acl_edit command test a couple 
of weeks ago and that too passed.

The principals used for test are created by key_mgmt_setup.sh
and rgy_setup.sh (removing the principals if they exist from
a previous run) . And they are not deleted at the end of the
test . So if you ran the test and the principals were not found, 
this probably means that the setup scripts were never run.



CR Number                     : 11355
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : hpux
Component Name                : dfs
Subcomponent Name             : systest
Short Description             : dfs.lock loses command args
Reported Date                 : 7/19/94
Found in Baseline             : 1.1
Found Date                    : 7/19/94
Severity                      : A
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[7/19/94 public]

dfs.lock cannot parse the command line args because they are being
lost by the HP-UX shell when a function is called.

[8/25/94 public]

This turns out to be a known bug with the HP-UX shell. The symptoms
when running the test are that only the default data file (lock.data)
is used, regardless of the value you pass with -f. The workarounds are
to use either the HP-UX /bin/posix/sh OR to make sure lock.data contains
the values you want (which is what I do).

Cancelling as this is not a bug with the test. Sending info to dce-relnotes.



CR Number                     : 11232
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : fvt
Short Description             : gds_sec FVT should create cell
principals, groups
Reported Date                 : 7/11/94
Found in Baseline             : 1.1
Found Date                    : 7/11/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[7/11/94 public]
The GDS admin gds_sec functional tests should create the necessary cell
principals and groups as part of the test startup function.

[07/12/94 public]
They do. The corrosponding tcl files are installed
in /dcetest/dcelocal/test/tet/functional/directory/gds/ts/config.

[7/13/94 public]
Yup, cancelled.



CR Number                     : 11225
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : tools
Short Description             : TET_filter.gdssetup not installed.
Reported Date                 : 7/8/94
Found in Baseline             : 1.1
Found Date                    : 7/8/94
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[7/8/94 public]

What the short description says.

[7/8/94 public]
My mistake.  Fix had already been submitted as part of an earlier defect.
I thought that fix had gone in yesterday.



CR Number                     : 10993
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 11431
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : aud
Subcomponent Name             : fvt
Short Description             : Non-determinism in auditd_startup04
Reported Date                 : 6/17/94
Found in Baseline             : 1.1
Found Date                    : 6/17/94
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[6/17/94 public]
On first execution of test (test scenario: all) auditd_startup04 failed
because pre-conditions were not met (auditd already running).  tests 01-03
had passed.

On subsequent rerun of test (test scenario: auditd_startup), all cases
passed. 

This is probably a system-dependent timing problem, but the suite needs to
be designed to handle it.

[8/17/94 public]
The test has been removed, due to CR 11431, which has removed the -i option,
which was tested here.



CR Number                     : 10727
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : systest
Subcomponent Name             : cds.acl.6
Short Description             : cds.acl.6 fails on HP-UX
Reported Date                 : 5/23/94
Found in Baseline             : 1.1
Found Date                    : 5/23/94
Severity                      : A
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[5/23/94 public]

The cds.acl.6 system test is failing on the HP-UX machine, but passes on
AIX and OSF/1.

[05/23/94 public]
Cancelled, this problem was caused by a security replication bug, I think.



CR Number                     : 10511
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : rpc
Subcomponent Name             : dcerpcrun
Short Description             : dcerpcrun failes when running using the UPD protocol.
Reported Date                 : 5/3/94
Found in Baseline             : 1.1
Found Date                    : 5/3/94
Severity                      : A
Priority                      : 0
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[5/3/94 public]


Using BL8

The test dcerpcrun fails on all the three reference platforms
using UPD.

Command run:

./run.rpc -l 1 -m "west dce3 soldier" -P ncadg_ip_udp dcerpcrun

++++
Error On AIX:

Getting test results from database.
cat: 0652-050 Cannot open /tmp/dcerpcrun/endpoint.
dumpDatabase[13]:  Unknown status 2ff7f270^J***FAILURE***: unexpected CMA exception rpc_x_invalid_binding: 0403-009 The specified number is not valid for this command.


++++
Error On OSF/1

Waiting for clientwrapper pid(s) to exit...


Getting test results from database.
cat: Cannot open /tmp/dcerpcrun/endpoint.
dumpDatabase[13]:  Unknown status bffff35c^J***FAILURE***: unexpected CMA exception rpc_x_invalid_binding: Syntax error

++++
Error On HP-UX

Waiting for clientwrapper pid(s) to exit...


Getting test results from database.
cat: Cannot open /tmp/dcerpcrun/endpoint.
dumpDatabase[13]:  Unknown status bffff35c^J***FAILURE***: unexpected CMA except
ion rpc_x_invalid_binding: Syntax error



CR Number                     : 10399
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : i486
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : sec.rgy.7
Short Description             : sec.rgy.7 dumps core on OSF/1
Reported Date                 : 4/19/94
Found in Baseline             : 1.1
Found Date                    : 4/19/94
Severity                      : A
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[4/19/94 public]

The sec.rgy.7 system test dumps core on OSF/1 using BL-7:

root@dce3>  run.sec -l 1 dcesergy

Starting DCESERGY iteration 1 at 0 seconds executed, 04/19/94-13:53:59
journal file name is: /dcetest/dcelocal/status/system/dcesergy.dce3.940419135355/fail/journal.00001
Valid and certified with network creds

 Added account: dcesergy_dce3_27844

 Added key to keytab file
Password must be changed!
        secrgy_server: Calling rpc_server_use_all_protseqs
        secrgy_server: Calling rpc_server_register_if
        secrgy_server: Calling rpc_server_inq_bindings
        secrgy_server: Calling rpc_ep_register
        secrgy_server: Login as server dcesergy_dce3_27844 beginning
        secrgy_server: network wide creds
        secrgy_server: Beginning NSI export entry:/.:/subsys/dcesergy_dce3_27844
        secrgy_server: Credential life: 599 mins., refresh interval: 299
        secrgy_server: Calling rpc_server_listen
Using cell list:/.../c=us/o=osf/ou=soldier_cell
Executing server: dcesergy_dce3_27844 timken1111_np2626
/dcetest/dcelocal/test/tet/system/tools/su.dce[74]: 52 Memory fault(coredump)
rgy_test_login: status 0x16c9a036 (8!D$dce / rpc)
Tue Apr 19 13:55:33 EDT 1994
Cummulative cell login-logout time avg: sec
Cummulative pass/not pass: 0/10
add_acct: status 0x16c9a042 (8!D$dce / rpc)
Tue Apr 19 13:55:43 EDT 1994
Cummulative pass/not pass: 0/11
del_acct status:: status 0x16c9a042 (8!D$dce / rpc)
Tue Apr 19 13:55:51 EDT 1994
Cummulative pass/not pass: 0/12
Executing server: dcesergy_dce3_27844 timken1111_np2626
rgy_test_login: status 0x16c9a042 (8!D$dce / rpc)
Tue Apr 19 13:56:04 EDT 1994
Cummulative cell login-logout time avg: sec
Cummulative pass/not pass: 0/22
add_acct: status 0x16c9a042 (8!D$dce / rpc)
Tue Apr 19 13:56:13 EDT 1994
Cummulative pass/not pass: 0/23
del_acct status:: status 0x16c9a042 (8!D$dce / rpc)
Tue Apr 19 13:56:20 EDT 1994
Cummulative pass/not pass: 0/24
Cleaning up...
Password must be changed!
Current site is: registry server at /.../c=us/o=osf/ou=soldier_cell/subsys/dce/sec/master 
Domain changed to: principal
bye.
Iteration 1 got an error at 155 seconds!
Journal file remains at /dcetest/dcelocal/status/system/dcesergy.dce3.940419135355/fail/journal.00001

Command "run.sec -l 1 dcesergy" completed at 04/19/94-13:56:34
1 iteration(s) of 1 on DCESERGY failed.
Failure journal(s) in /dcetest/dcelocal/status/system/dcesergy.dce3.940419135355/fail/
See synopsis of iteration status in /dcetest/dcelocal/status/system/dcesergy.dce3.940419135355/pass_fail_log
or use $TET_ROOT/system/tools/run_summary.ksh for more information.

[05/19/94 public]
This doesn't appear to be a problem anymore, I'll keep an eye on it.



CR Number                     : 10240
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dcegdshd and gds_xds_str_001
Short Description             : dcegdshd & gds_xds_str_001 don't handle authentication method
Reported Date                 : 3/29/94
Found in Baseline             : 1.1
Found Date                    : 3/29/94
Severity                      : A
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[3/29/94 public]
GDS recently changed gdsditadm mask 1 to prompt for authentication method.
I haven't really researched whether this presents a problem for this
script, but I bet it does.

[03/31/94 public]
This defect applies to dcegdshd also.  We need to add A2 or the <CR> to
the screen input files.

Michael, it's likely that the fixes you are making to the GDS systests
are fixing this.  Can you update the CR if so?

[9/12/94 public]

Changed responsible engineer from DasSarma to O'Malley.

[9/26/94 public]

I haven't seen any problems around authentication running the dcegdshd or
gds_xds_str_001 tests.



CR Number                     : 10049
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : sec
Subcomponent Name             : 
Short Description             : acl_edit test fails
Reported Date                 : 3/1/94
Found in Baseline             : 1.1
Found Date                    : 3/1/94
Severity                      : C
Priority                      : 0
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : acl_edit_setup.sh acl_edit.sh
Sensitivity                   : public

[3/1/94 public]
I have run the acl_edit tests before and they have passed. Now the
test is failing for test #10,#11, and #12 in acl_edit.tsh. The functions
in acl_edit.sh do_n, do_p, and do_c appear to be all wrong.

Problem #1: An acl_edit is being performed on the variable
	$MASK_TEST_OBJ is set to "/.:/myfilesystem/greg". This object
	does not exist at any time before, during, or after the test.
	If we are to test acls on security objects, these objects are
	created using rgy_edit and should be found in
	"/.:/subsys/dce/sec/master/[principal|group|org]/xxx".
	Am I missing something?

Problem #2: The test is looking for the acl on mask_obj and assumes that
	exists. The function check_status is then called which causes
	the shell script to exit because there is no "mask_obj" acl for
	the object.

Problem #3: It appears that the functions do_p, do_c, and do_n are
	wrong. I don't know because I haven't been able to figure out
	what the test is really supposed to be doing.

I will be willing to fix the test but I need to know what is being
tested.

[5/5/94 public]
The above objects that the test is looking for are managed by the 'acl_server'
currently built in src/security/client/admin/acl_edit/svr_example and soon
to be moved to the test directory.  You must have this running first for the
test to work.  Cancelled this CR.



CR Number                     : 9519
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : script
Short Description             : test/directory/gds/script
should be built and installed
Reported Date                 : 11/19/93
Found in Baseline             : 1.0.3
Found Date                    : 11/19/93
Severity                      : D
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[11/19/93 public]
The test drivers found in src/test/directory/gds/script need to be built
and installed.  Also, dcetest_config needs to be updated to install these
on the user's machine along with the other GDS functional tests and test
drivers.

[05/26/94 public]
The files in src/test/directory/script should be defuncted, because
most of them had beem moved to src/test/functional/directory/xds/ts/scripts.

[6/2/94 public]
They already are defuncted.  These defect is obsoleted by the creation of
the new TETized functional tests.  Therefore, it is cancelled



CR Number                     : 9498
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : gds systest
Short Description             : rename gds_xds_str_001 to gdsstr001
Reported Date                 : 11/16/93
Found in Baseline             : 1.0.3
Found Date                    : 11/16/93
Severity                      : C
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[11/16/93 public]
Rename the gds_xds_str_001 test in some future release to follow
<comp><type><num> format, which should shorten paths like
	<dce_root_dir>/src/test/systest/directory/gds/gds_xds_str_001/gds_xds_str_001.data
in the future.

[11/17/93 public]
I push back on this only because the breadth of GDS makes a designation
like gdsstr001 almost useless.  This is okay for a component like time,
or threads, which are less diverse in their subcomponents, but I feel that 
the naming scheme for the tests needs to allow for subcomponent
spcification.  I will bring this up in appropriate internal forums.



CR Number                     : 9482
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : systest
Subcomponent Name             : dfs repfldb checklist
Short Description             : error in NOTE to step 1.
Reported Date                 : 11/12/93
Found in Baseline             : 1.0.3
Found Date                    : 11/12/93
Severity                      : D
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3a
Fixed In Baseline             : 
Affected File(s)              : src/test/systest/file/dfs.repfldb_checklist
Sensitivity                   : public

[11/12/93 public]
When verifying the fix for 8301, I noticed the following line in the 
NOTE attached to step 1. :

                  "The best way
                   to ensure that the machine running the DCE core services is
                   to run the core services on a fourth machine that is not
                   going to run an fldb server."

This should read something like:

                  "The best way
                   to ensure that the machine running the DCE core services
         >>>          does not become the sync site            <<<
                   is
                   to run the core services on a fourth machine that is not
                   going to run an fldb server."
                 
>>> <<< denote the new text.

[12/16/93 public]
Cancelling - this is being handled under 9521.



CR Number                     : 9374
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : gds
Subcomponent Name             : xds valid tests
Short Description             : several errors in xds valid tests
Reported Date                 : 11/4/93
Found in Baseline             : 1.0.3
Found Date                    : 11/4/93
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[11/4/93 public]
The following xds valid test cases failed:

[1]: Testcase add_entry20v failed

[1]: Testcase compare6v failed

[1]: Testcase compare7v failed

[1]: Testcase list3v failed

[1]: Testcase list4v failed

[1]: Testcase list5v failed

[1]: Testcase list6v failed

[1]: Testcase list7v failed

[1]: Testcase read23v failed

[1]: Testcase read24v failed

[1]: Testcase read25v failed

[1]: Testcase read26v failed

[1]: Testcase read28v failed

[1]: Testcase read30v failed

[1]: Testcase read31v failed

[1]: Testcase read32v failed

[1]: Testcase search13v failed

[1]: Testcase search14v failed

The log file is to big to put in the defect, but I have the log file
if needed.

[11/5/93 public]
I reconfigured gds and ran the test again and these errors did not occur.



CR Number                     : 9372
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : rs6000
S/W Ref Platform              : aix
Component Name                : gds
Subcomponent Name             : xds invalid tests
Short Description             : read10i and read9i tests fail
Reported Date                 : 11/4/93
Found in Baseline             : 1.0.3
Found Date                    : 11/4/93
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[11/4/93 public]
When running the xds invalid tests the read10i and read9i tests failed.
The following is the information from the log file:

[1]: INITIALIZE returned OK

[1]: VERSION returned OK

[1]: BIND returned OK

[1]: CREATE returned OK

[1]: PUT returned OK

[1]:  Func xt_cmp_status : error matching name_error attributes

[1]:  Func xt_ds_read : expected and received DS_status differ

[1]:  Func xt_run : Function call FAILED

[1]: READ returned ERROR

[1]: UNBIND returned OK

[1]: SHUTDOWN returned OK

[1]:

[1]: Opening Include file ../tree/delete_tree8

[1]: INITIALIZE returned OK

[1]: VERSION returned OK

[1]: BIND returned OK

[1]: REMOVE_ENTRY returned OK

[1]: REMOVE_ENTRY returned OK

[1]: REMOVE_ENTRY returned OK

[1]: REMOVE_ENTRY returned OK

[1]: UNBIND returned OK

[1]: SHUTDOWN returned OK

[1]: Exiting Include file ../tree/delete_tree8

[1]: Testcase read10i failed

[1]:  Func xt_main : Testcase read10i FAILED

  ... other tests

[1]: INITIALIZE returned OK

[1]: VERSION returned OK

[1]: CREATE returned OK

[1]: PUT returned OK

[1]: BIND returned OK

[1]:  Func xt_cmp_status : error matching name_error attributes

[1]:  Func xt_ds_read : expected and received DS_status differ

[1]:  Func xt_run : Function call FAILED

[1]: READ returned ERROR

[1]: UNBIND returned OK

[1]: SHUTDOWN returned OK

[1]:

[1]: Opening Include file ../tree/delete_tree8

[1]: INITIALIZE returned OK

[1]: VERSION returned OK

[1]: BIND returned OK

[1]: REMOVE_ENTRY returned OK

[1]: REMOVE_ENTRY returned OK

[1]: REMOVE_ENTRY returned OK

[1]: REMOVE_ENTRY returned OK

[1]: UNBIND returned OK

[1]: SHUTDOWN returned OK

[1]: Exiting Include file ../tree/delete_tree8

[1]: Testcase read9i failed

[1]:  Func xt_main : Testcase read9i FAILED

[11/4/93 public]
I reconfigured gds and ran the tests again and I did not encounter
any errors.



CR Number                     : 9326
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : tests.xds
Short Description             : xds valid test mod_rdn7v
reports error
Reported Date                 : 11/3/93
Found in Baseline             : 1.0.3
Found Date                    : 11/3/93
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[11/3/93 public]
The 'valid' test mod_rdn7v reports an error:

: Function REMOVE_ENTRY : 
:       session = bound_session1
:       name = name82
:       call ds_remove_entry()
:       (ERROR) expected and received DS_status from ds_remove_entry differ
:       REMOVE_ENTRY returned ERROR


This occurs on both 486 and UX, running the test as both local and remote.

[11/4/93 public]
Canceled because of the following argumentation of Chris Costello:
Non-threaded testcases in general use build_tree*
and delete_tree* to construct and destroy the
environment for the testcase proper. The outcome
of the testcase is not dependent on their success
or failure, hence the message
        : Testcase mod_rdn7v passed
which reflects the outcome of the MODIFY_RDN call.
Failures in build_tree or delete_tree may be ignored.



CR Number                     : 9318
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : test.switch
Short Description             : all threads_os tests fail
Reported Date                 : 11/2/93
Found in Baseline             : 1.0.3
Found Date                    : 11/2/93
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[11/2/93 public]
All threads_os tests fail on both HPUX and AT386.  These were run on a fresh
gds configuration against which no other tests had been run.

Here is the xt_test.log from T10add_entry1v as an example:

: Function INITIALIZE : 
: 	call ds_initialize ()
: 	ds_initialize did not return NULL
: 	ds_initialize() returned OK

: Function VERSION : 
: 	feature_list = feature_list1
: 	workspace = workspace1
: 	call ds_version()
: 	expected and received DS_status from ds_version same
: 	ds_version() returned OK

: Function BIND : 
: 	session = default_session
: 	workspace = workspace1
: 	call ds_bind()
: 	expected and received DS_status from ds_bind same
: 	ds_bind() returned OK

: TESTCASE STARTadd_entry1v PASSED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	expected and received DS_status from ds_add_entry same
: 	ds_add_entry() returned OK

: TESTCASE BODYadd_entry1v PASSED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: TESTCASE BODYadd_entry1v FAILED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: TESTCASE BODYadd_entry1v FAILED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: TESTCASE BODYadd_entry1v FAILED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: TESTCASE BODYadd_entry1v FAILED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: TESTCASE BODYadd_entry1v FAILED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: TESTCASE BODYadd_entry1v FAILED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: TESTCASE BODYadd_entry1v FAILED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: TESTCASE BODYadd_entry1v FAILED

 : Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: TESTCASE BODYadd_entry1v FAILED

 : Function REMOVE_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	call ds_remove_entry()
: 	expected and received DS_status from ds_remove_entry same
: 	ds_remove_entry() returned OK

: Function UNBIND : 
: 	session = bound_session1
: 	call ds_unbind()
: 	expected and received DS_status from ds_unbind same
: 	ds_unbind() returned OK

: Function SHUTDOWN : 
: 	workspace = workspace1
: 	call ds_shutdown()
: 	expected and received DS_status from ds_shutdown same
: 	ds_shutdown() returned OK

: TESTCASE SHUTDOWNadd_entry1v PASSED

[11/2/93 public]
Cancelled.  Updated docs for P&TG chap 5 explain that only on of the tests
should pass, the others should fail.



CR Number                     : 9317
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : tests.switch
Short Description             : 'tree' test failures
Reported Date                 : 11/2/93
Found in Baseline             : 1.0.3
Found Date                    : 11/2/93
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[11/2/93 public]
The following 'tree' test cases fail on HP and AT386

	build_tree13/delete_tree13
	build_tree14/delete_tree14

In addition, the following case failed on AT386:

	build_tree4

Details on tree13:

build_tree13:
: Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name66
: 	entry = attribute_list42
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

delete_tree13:
: Function REMOVE_ENTRY : 
: 	session = bound_session1
: 	name = name66
: 	call ds_remove_entry()
: 	(ERROR) expected and received DS_status from ds_remove_entry differ
: 	REMOVE_ENTRY returned ERROR


Details on tree14:
: Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name71
: 	entry = attribute_list4
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: Function REMOVE_ENTRY : 
: 	session = bound_session1
: 	name = name71
: 	call ds_remove_entry()
: 	(ERROR) expected and received DS_status from ds_remove_entry differ
: 	REMOVE_ENTRY returned ERROR

Details on tree4:
: Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name59
: 	entry = attribute_list18
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

[11/2/93 public]
Cancelled.  The 'tree' directory is merely a utility directory not a test
in and off itself.



CR Number                     : 9315
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 9307
Project Name                  : dce
H/W Ref Platform              : hppa
S/W Ref Platform              : hpux
Component Name                : gds
Subcomponent Name             : tests.switch
Short Description             : switch test 'valid' failures
Reported Date                 : 11/2/93
Found in Baseline             : 1.0.3
Found Date                    : 11/2/93
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[11/2/93 public]
The following 'valid' testcases fail on HP/UX:

	add_entry1v
	add_entry2v
	
Here is the relevant xt_test.log information:

add_entry1v:
: Function INITIALIZE : 
: 	call ds_initialize ()
: 	ds_initialize did not return NULL
: 	ds_initialize() returned OK

: Function VERSION : 
: 	feature_list = feature_list1
: 	workspace = workspace1
: 	call ds_version()
: 	expected and received DS_status from ds_version same
: 	ds_version() returned OK

: Function BIND : 
: 	session = default_session
: 	workspace = workspace1
: 	call ds_bind()
: 	expected and received DS_status from ds_bind same
: 	ds_bind() returned OK

: Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	entry = attribute_list38
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: Function REMOVE_ENTRY : 
: 	session = bound_session1
: 	name = name52
: 	call ds_remove_entry()
: 	expected and received DS_status from ds_remove_entry same
: 	ds_remove_entry() returned OK

: Function UNBIND : 
: 	session = bound_session1
: 	call ds_unbind()
: 	expected and received DS_status from ds_unbind same
: 	ds_unbind() returned OK

: Function SHUTDOWN : 
: 	workspace = workspace1
: 	call ds_shutdown()
: 	expected and received DS_status from ds_shutdown same
: 	ds_shutdown() returned OK

: TESTCASE add_entry1v FAILED

***add_entry2v:

<includes ../tree/build_tree1 -> successful>

: Function INITIALIZE : 
: 	call ds_initialize ()
: 	ds_initialize did not return NULL
: 	ds_initialize() returned OK

: Function VERSION : 
: 	feature_list = feature_list1
: 	workspace = workspace1
: 	call ds_version()
: 	expected and received DS_status from ds_version same
: 	ds_version() returned OK

: Function BIND : 
: 	session = default_session
: 	workspace = workspace1
: 	call ds_bind()
: 	expected and received DS_status from ds_bind same
: 	ds_bind() returned OK

: Function ADD_ENTRY : 
: 	session = bound_session1
: 	name = name53
: 	entry = attribute_list36
: 	call ds_add_entry()
: 	(ERROR) expected and received DS_status from ds_add_entry differ
: 	ADD_ENTRY returned ERROR

: Function REMOVE_ENTRY : 
: 	session = bound_session1
: 	name = name53
: 	call ds_remove_entry()
: 	expected and received DS_status from ds_remove_entry same
: 	ds_remove_entry() returned OK

: Function UNBIND : 
: 	session = bound_session1
: 	call ds_unbind()
: 	expected and received DS_status from ds_unbind same
: 	ds_unbind() returned OK

: Function SHUTDOWN : 
: 	workspace = workspace1
: 	call ds_shutdown()
: 	expected and received DS_status from ds_shutdown same
: 	ds_shutdown() returned OK

<includes ../tree/delete_tree1 -> Successfully>

[11/2/93 public]
This is an artifact of defect 9307.  Cancelled.



CR Number                     : 9309
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : switch tests
Short Description             : Need to create Testcases files
for tree, threads_* testcases in tests.switch
Reported Date                 : 11/1/93
Found in Baseline             : 1.0.3
Found Date                    : 11/1/93
Severity                      : C
Priority                      : 4
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Diff supplied by              : 
Diff release                  : 
Sensitivity                   : public

[12/5/96 public]
removed orig. responsible-engr (norbert.marrek@mch.sni.de) per his
request.

[12/2/96 public]
lowering priority of old OTs that haven't appeared during R1.2.

[11/1/93 public]
There should be a Testcases file in the following directories:

	src/test/directory/xds/tests.switch/
		tree
		threads_af
		threads_as
		threads_os
		threads_up

[1/17/94 public]
Jochen Keutel and Chris Costello told me that the files are not necessary.
So I want to cancel this CR. Do you agree, Rich?

[1/18/94 public]
Yep.



CR Number                     : 9223
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : gds
Subcomponent Name             : admin
Short Description             : t.[34]cacheinit1 scripts
generate errors
Reported Date                 : 10/21/93
Found in Baseline             : 1.0.3
Found Date                    : 10/21/93
Severity                      : A
Priority                      : 0
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 
Fixed In Baseline             : 
Affected File(s)              : t.cache/t.3cacheinit1, t.cache/t.4cacheinit1
Sensitivity                   : public

[10/21/93 public]
The t.3cacheinit1 and t.4cacheinit1 scripts will not initialized
directories 3 and 4 for the GDS admin test 02.

The following errors appear in the
/opt/dcelocal/var/adm/directory/gds/adm/tstfile:

  ** sccsid = @(#)t.4cacheinit1   1.3 91/09/09 (K Sys Ap 11) ****:
									     
  Schema from DSA can not be read!
  To continue press <CR> !
  ***Administration ****:
  ***Add Client Address *******:
									     
  ERROR:
  Operation effects multiple DSAs (which is prohibited) !
  To continue press <CR> !
									     
  ERROR:
  No PSAP-Address for client entered !
  To continue press <CR> !
  ***AddObject  de/dbp/dap11/dsa/dsa-m2 *******:
									     
  ERROR:
  Operation effects multiple DSAs (which is prohibited) !
  To continue press <CR> !
  ******* RETURN ******:
  *** Administration ****:
    
The steps to reproduce this are documented in chapter 5 of the porting
guide.  They are:

 - configured and activate GDS (client-server, all other defaults
	accepted.) 
 - modified the following files:
	gemini:/usr/sandbox/tst/
		t.cache:
			t.cacheinit1	
			t.3cacheinit1	
			t.4cacheinit1	
		t.dsa
			t8.dsa1		
			t8.dsa2		
	Machines:
		m1 - 130.105.5.83 (gemini/OSF1)
		m2 - 130.105.5.41 (prague/UX)

 - configured directory 1 using t.cacheinit1
	(results stored in gemini:/usr/sandbox/test_results/m1.cacheinit1)

 - attempted to configure directories 3 and 4
	results stored in gemini:/usr/sandbox/test_results
		m1.3cacheinit1
		m1.4cacheinit1

All initialization scripts and GDS binaires were installed on gemini from
the nightly build of 10/20.  Scripts were installed using dcetest_config.

[10/23/93 public]
My error: misread test instructions in porting guide.  Cancelled.



CR Number                     : 9154
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : TEST SUITES
Short Description             : Add mmap and mmap stress to test suite
Reported Date                 : 10/18/93
Found in Baseline             : 1.0.2a
Found Date                    : 09/16/93
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.2a
Fixed In Baseline             : 
Affected File(s)              : some
Sensitivity                   : public
Transarc Status               : closed
Transarc Deltas               : 
Transarc Herder               : andi@transarc.com

[10/18/93 public]
**Description Text**
 Will create a new subdirectory, test/file/mmap, and put both the mmap and
 mmap stress tests in it.
 bwl-Thu, 16 Sep 1993 11:33:33
**Solution Text**
 Delta bwl-o-db4336-mmap-tests.
 bwl-Tue, 28 Sep 1993 16:04:36

[10/18/93 public]
  Moved from Transarc database and in dfs-osf-1.5
Added field Transarc Herder with value `andi@transarc.com' 
Added field Transarc Status with value `import'

[12/9/93 public]
Changed Status from `fix' to `cancel' 
Changed Fixed In Baseline from `1.0.3a' to `' 
Changed Transarc Status from `submit' to `closed'



CR Number                     : 8998
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : EPISODE
Short Description             : Test writes and truncates at indirect block tree boundaries
Reported Date                 : 10/5/93
Found in Baseline             : 1.0.2a
Found Date                    : 08/26/93
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.2a
Fixed In Baseline             : 
Affected File(s)              : some
Sensitivity                   : public
Transarc Status               : closed
Transarc Deltas               : 
Transarc Herder               : andi@transarc.com

[10/5/93 public]
**Description Text**
 We need to write tests to exercise boundary conditions wrt growing/shrinking a file from only direct blocks to various indirect trees.
 
 rajesh-Thu, 26 Aug 1993 11:59:39
**Solution Text**
 rajesh-db4212-episode-file-block-boundary-tests
 rajesh-Mon, 30 Aug 1993 09:00:17

[10/5/93 public]
  Moved from Transarc database and in dfs-osf-1.5
Added field Transarc Herder with value `andi@transarc.com' 
Added field Transarc Status with value `import'

[12/9/93 public]
Changed Status from `fix' to `cancel' 
Changed Fixed In Baseline from `1.0.3a' to `' 
Changed Transarc Status from `submit' to `closed'



CR Number                     : 8385
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : i486
S/W Ref Platform              : osf1
Component Name                : rpc
Subcomponent Name             : idl compiler
Short Description             : the DCE Validation Test Suite (VTS) required modifications for varying multidimensional array test with the new IDL compiler.
Reported Date                 : 7/29/93
Found in Baseline             : 1.0.3
Found Date                    : 7/29/93
Severity                      : B
Priority                      : 0
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : VTS file dvs/rpc/protocol/remote/vta-ts/ndr_server/ndr_server_mgr.c
Sensitivity                   : public

[7/29/93 public]

The VTS test number 7_21 (and 8_21), "server unmarshalling of
multidimensional varying arrays", failed when using the new IDL
compiler on the 486 port (presumably it would fail on other platforms 
as well).

This is because the previous IDL compiler generated a server stub
which produced the wrong result and the test had been incorrectly
written to interpret this result as correct.

The IDL definition is:

/* 20 - Multidimensional varying array unmarshalling test */

 [idempotent]
void ndr_mulvrary_unmarsh( [in] handle_t h,
	[in] long	first,
	[in] long	last,
	[in] long	length,
	[in, first_is(first,), last_is(last,)] signed8	small_test[0..3][0..VTA_NDR_SMALL_MARSHALL_MAX - 1],
	[in, first_is(first,), last_is(last,)] unsigned16	u_short_test[0..3][0..VTA_NDR_SHORT_MARSHALL_MAX - 1],
	[in, first_is(first,), last_is(last,)] unsigned hyper	u_hyper_test[0..3][0..VTA_NDR_HYPER_MARSHALL_MAX - 1]);
	);

The resultant C prototype is:

extern void ndr_mulvrary_unmarsh(
#ifdef IDL_PROTOTYPES
    /* [in] */ handle_t h,
    /* [in] */ idl_long_int first,
    /* [in] */ idl_long_int last,
    /* [in] */ idl_long_int length,
    /* [in] */ signed8 small_test[4][5],
    /* [in] */ unsigned16 u_short_test[4][7],
    /* [in] */ idl_uhyper_int u_hyper_test[4][7]
#endif
);

According to the AES/DC (page F-5 of the 2/20/93 draft), this mapping
to the C language is correct.

In this test, first = 0 and last = 2. 

Using the old IDL compiler, the stub code caused the data to appear in
the server manager operation AS IF the parameter declaration above
were:

    /* [in] */ idl_ulong_int [3][3],

... that is, the values are in the wrong place for a 4x7 array.
 
The new IDL is correct: the values end up in the correct
positions. The VTS has been modified to reflect this change.

Affected file:

dvs/rpc/protocol/remote/vta-ts/ndr_server/ndr_server_mgr.c

[10/12/93 public]

This VTS bug will have a new life in the dce_val OT database as CR000001.



CR Number                     : 8282
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : ubik
Short Description             : utst setup script is too restrictive.
Reported Date                 : 7/15/93
Found in Baseline             : 1.0.2b7
Found Date                    : 7/15/93
Severity                      : C
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : 
Transarc Status               : 

[7/15/93 public]
The setup script for the utst test requires you to be running on the 
dce server machine in order to start the dce servers, or to initailize
the namespace entries used by the test.  This requirement is correct 
for the former case, but not for the latter.  The fix is to remove the
condition that checks to see that the local host is the dce server
machine from the conditional that gates the execution of the namspace
initialization code.   The workaround is to always run the setup script
first on the dce server, then on the other machines.

[9/22/93 public]
This is a functional test defect, so i'm reassigning
it to transarc.

[9/22/93 public]
Filled in Interest List CC with `jaffe@transarc.com' 
Changed Responsible Engr. from `jaffe' to `comer@transarc.com' 
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `' 
Added field Transarc Status with value `'

[10/13/93 public]
Work done under OT8593.  Sorry, ot wouldn't let me dup it.
Changed Status from `open' to `cancel'



CR Number                     : 8122
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : rpc
Subcomponent Name             : rpccp
Short Description             : rpcpc_entry.sh test is incomplete
Reported Date                 : 6/9/93
Found in Baseline             : 1.0.2
Found Date                    : 6/9/93
Severity                      : E
Priority                      : 4
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : test/rpc/rpccp/rpccp_entry.sh
Sensitivity                   : public

[6/9/93 public]

rcpcp_entry.sh is incomplete and therefore, does not execute properly.

specifically the syntax of the UUID's in the setup file
rpccp_setup.sh and the syntax of the commands in rpccp_entry.sh
contain errors.

We either should remove the test from our source tree or complete it.

[8/29/94 public]
Since dcecp replaces rpccp, this test is no longer supported.
We will not be moving rpccp to nosupport for 1.1, so when we do
we can move this test.  I will note that the test needs to be moved
in the defect for moving rpccp (if/when there is one).



CR Number                     : 7836
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dskl
Subcomponent Name             : /test/diskless/swap/testprogs
Short Description             : The
./src/test/diskless/swap/testprogs need the dce obj tree to build.
Reported Date                 : 4/29/93
Found in Baseline             : 1.0.2
Found Date                    : 4/29/93
Severity                      : D
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[4/29/93 public]

The test/diskless/swap/testprogs fuctional test won't build without 
having a DCE object tree available. 

These tests should remove the dependency on the DCE object tree and 
export the include files that they will need to build.

[5/25/94 public]
The diskless source has been defuncted from the tree.
OSF no longer supports diskless.
Canceled.



CR Number                     : 7833
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : osf1
Component Name                : rpc
Subcomponent Name             : rtandidl rattrc test
Short Description             : race cond. in rattrc
Reported Date                 : 4/29/93
Found in Baseline             : 1.0.2
Found Date                    : 4/29/93
Severity                      : D
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[4/29/93 public]
There is a race condition in the RPC rtandidl test rattrc (maybe attribute 
test). When verifying the maybe call to the server the client call back can
preceed completion of the server maybe call data processing. This would result
in a test failure. This characteristic was noticed during 486 platform testing.
The correction for this could be a sleep (1 sec is successful) between op1 
and op2 calls in the client.

[4/29/93 public]

The specific problem is in rattrc.c:

       rattrtest_op1 (h, 22);	/* do a maybe call */

       j = rattrtest_op2(h);	/* do a non-maybe call to check the result
 				 * of rattrtest_op1 */


When rattrtest_op2 is called, the <maybe> call might not have yet completed
on the server.  The test interprets this as a failure.

We could do something like:

	BOOL Passed = FALSE;

	rattrtest_op1 (h, 22);
	for (i = 0; (i < 10) &! Passed; i++)
	{
		j = rattrtest_op2(h);	
		if OK 
			Passed = TRUE;
		else
			sleep (2);
	}

	if !Passed
		ERROR

[4/29/93 public]

It's worse than that, if you're trying to run this over the DG protocol.  If the first 
call is still running when the second one arrives, the DG protocol assumes that  it 
missed a quit packet sent to the first call, and that the client wants to continue on to
this new call.  It tries to make things right by posting a cancel to the first call 
thread. (see OT CR 1236)

[4/29/93 public]

Hmmm... Ed was doing this test under DG.  OT 1236 is slightly different in
that it is referring to two <maybe> calls, but I assume Mark's comment
above is generic.  For the purpose of this test, it might be acceptable to
introduce a delay before trying to check the result and not trying to loop
(and thereby avoiding the cancel.)

        rattrtest_op1 (h, 22);	/* do a maybe call */
	sleep (n);
        j = rattrtest_op2(h);	/* do a non-maybe call to check the result
 				 * of rattrtest_op1 */

[10/01/93 public]
I ran in to this recently.  Mark is almost ready to submit
a fix for 1236 which may fix this.

Prasad, could you look in to this to see if we need to introduce
a delay between the calls?

[10/6/93 public]
1. From the OT1236 fix - 
A newly received maybe-call will still cancel a currently running 
non-maybe call (with a lower sequence number), but not vice versa.

2. Server has only one call thread  in the tests - so the second
idemp request will execute only after the completion of the first
Maybe request.

For these reasons there is no need for any delay between the two calls.



CR Number                     : 7737
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : dfs
Subcomponent Name             : rep
Short Description             : not all rep tests get installed.
Reported Date                 : 4/16/93
Found in Baseline             : 1.0.2
Found Date                    : 4/16/93
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : 
Transarc Status               : 

[4/16/93 public]
There are 4 rep tests, but only 3 get installed into dcetest.

[4/16/93 public]
Only rep tests rtest1, rtest2, rtest3 are actually run.  rtest4 is a relic
and should perhaps be deleted rather than installed.  In itself, this isn't
a high-priority bug.
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `' 
Added field Transarc Status with value `'

[4/16/93 public]
Sounds reasonable given the runtests script doesn't try to execute
rtest4.  Downgrading and changing purpose of bug to remove 
references to rtest4 in README and delete rtest4 itself (unless 
of course, it is of some value to the end user in which case it
should be documented in the README).  

Once the updates are made, the README file could be installed 
under dcetest too.



CR Number                     : 7718
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : dfs
Subcomponent Name             : 
Short Description             : fs tests use unsupported cmd
Reported Date                 : 4/14/93
Found in Baseline             : 1.0.2
Found Date                    : 4/14/93
Severity                      : D
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[4/14/93 public]
The fs test script runtests uses the command pstat which is not 
available on OSF/1.

[10/8/93 public]
Cancelling.  OSF/1 is no longer a reference platform and this
has already been fixed on it replacement, HP-UX.



CR Number                     : 7667
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : dfs
Subcomponent Name             : 
Short Description             : dfs test build problems
Reported Date                 : 4/7/93
Found in Baseline             : 1.0.2b21
Found Date                    : 4/7/93
Severity                      : C
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[4/7/93 public]

The itl/utils/* files #include lines should have sys/file instead of
just file.

[10/1/93 public]

There do not seem to be any build problems currently with the dfs
functional test itl directory - cancelling.



CR Number                     : 7666
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : other
S/W Ref Platform              : other
Component Name                : systest
Subcomponent Name             : test/systest/tools/msgqd.c
Short Description             : Replace signal() with sigset()/sigaction()
Reported Date                 : 4/7/93
Found in Baseline             : 1.0.1
Found Date                    : 4/7/93
Severity                      : D
Priority                      : 3
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[4/7/93 public]

Note that two of the three files he mentions have been moved to the
nosupport area. Only msgqd.c survives.

Full Description:

     In each of the above mentioned system test files, there are one or more
     signal calls which SNI replaced with sigset or sigaction commands.  In
     src/test/systest/tools/grd.c, line 727, we suggest replacing

          signal( SIGHUP, cleanup );
          signal( SIGINT, cleanup );
          signal( SIGQUIT, cleanup );
          signal( SIGTERM, cleanup );

     with

          #if defined(SNI_SVR4_POSIX)
             (void) sigset( SIGHUP, cleanup );
             (void) sigset( SIGINT, cleanup );
             (void) sigset( SIGQUIT, cleanup );
             (void) sigset( SIGTERM, cleanup );
          #else
             signal( SIGHUP, cleanup );
             signal( SIGINT, cleanup );
             signal( SIGQUIT, cleanup );
             signal( SIGTERM, cleanup );
          #endif

     In src/test/systest/tools/lrd.c, line 831, we suggest replacing

          signal( SIGHUP, cleanup );
          signal( SIGINT, cleanup );
          signal( SIGQUIT, cleanup );
          signal( SIGTERM, cleanup );

     with

          #if defined(SNI_SVR4_POSIX)
             (void) sigset( SIGHUP, cleanup );
             (void) sigset( SIGINT, cleanup );
             (void) sigset( SIGQUIT, cleanup );
             (void) sigset( SIGTERM, cleanup );
          #else
             signal( SIGHUP, cleanup );
             signal( SIGINT, cleanup );
             signal( SIGQUIT, cleanup );
             signal( SIGTERM, cleanup );
          #endif

     In src/test/systest/tools/msgqd.c, line 1021, we suggest replacing:

          signal( SIGHUP, showStatus );
          signal( SIGINT, showStatus );
          signal( SIGQUIT, showStatus );
          signal( SIGTERM, showStatus );

     with

          #if defined(SNI_SVR4_POSIX)
             {
             struct sigaction        act;

             act.sa_handler = showStatus;
             if ( sigemptyset( &act.sa_mask ) != 0 )
                  {
                  perror("sigemptyset");
                  exit(1);
                  }
             act.sa_flags = 0;
             if ( sigaction(SIGHUP, &act, (struct sigaction *)NULL ) != 0 )
                  {
                  perror("sigaction: SIGHUP");
                  exit(1);
                  }
             if ( sigaction(SIGINT, &act, (struct sigaction *)NULL ) != 0 )
                {
                  perror("sigaction: SIGINT");
                  exit(1);
                }
             if ( sigaction(SIGQUIT, &act, (struct sigaction *)NULL ) != 0 )
                {
                  perror("sigaction: SIGQUIT");
                  exit(1);
                }
             if ( sigaction(SIGTERM, &act, (struct sigaction *)NULL ) != 0 )
                {
                  perror("sigaction: SIGTERM");
                  exit(1);
                }
             }
          #else
             signal( SIGHUP, showStatus );
             signal( SIGINT, showStatus );
             signal( SIGQUIT, showStatus );
             signal( SIGTERM, showStatus );
          #endif


Proposed Solution:

     We propose that USL and/or OSF incorporate the early SNI modifications.

[08/11/93 public]
Cancelled, these files no longer exist on DCE 1.0.3.



CR Number                     : 7663
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : mx300
S/W Ref Platform              : sinix
Component Name                : sec
Subcomponent Name             : test/security/api/control/{local_rgy.tshrc, passwd_override.tsh, passwd_over.tshrc}
Short Description             : RCS revision lines are not commented out in scripts and cause warnings when the shell tries to execute them
Reported Date                 : 4/7/93
Found in Baseline             : 1.0.1
Found Date                    : 4/7/93
Severity                      : E
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[4/7/93 public]

Looks as if the RCS comment string was not set correctly.

----------------------
Full Description:

     In all three of these files, there are Revision comments at the beginning
     of each script which are not preceded by the hash mark symbol.  This
     produces warnings in the test logs.

Proposed Solution:

     Place hash symbols in front of the above mentioned lines of code.
----------------------

     Set the RCS comment string properly on the three files.

Here is some additional correspondence:

I wrote:
I checked the three files you mention. The current versions don't have
that problem. But I also checked the 1.0.1 versions that came off the
tape and they don't have that problem either. In particular, OSF
strips off revision comments before shipping. Can you send me a
sample so that I can follow it up with the SysV people?

Here is, for example, the 1.0.1 passwd_over.tshrc in its entirety:

# (c) Copyright 1990, 1991, 1992 OPEN SOFTWARE FOUNDATION, INC.
# ALL RIGHTS RESERVED
#
# OSF DCE Version 1.0, UPDATE 1.0.1

set passwd_override_setup=1
set passwd_override_test=2
set passwd_override_reset=3

and he answered back:

     Upon further examination, it appears that USL may be responsible for the
bug.  It appears the modifications made by the person with login name
hinman are what causes the problems.  I have included the files that you
requested.

                                                  Greg

----------------------------------------------------------------------
 /src/test/security/api/moretests/local_rgy.tshrc:

# @OSF_COPYRIGHT@
#
# HISTORY
# $Log:	c007663,v $
# Revision 1.6  94/03/15  17:01:03  nata
# added the Created HISTORY line
# 
# Revision 1.5  93/10/26  16:07:14  notuser
# changed fields: Status  
# 
# Revision 1.4  93/08/12  16:42:18  notuser
# changed fields: H/W Ref Platform  S/W Ref Platform  Responsible Engr.  Resp. Engr's Company  
# 
# Revision 1.3  93/08/11  18:22:41  notuser
# changed fields: Component Name  Responsible Engr.  Resp. Engr's Company   new/changed/deleted note(s) [pellis 08/11/93 public]
# 
# Revision 1.2  93/06/16  14:27:16  notuser
# changed fields: Priority  
# 
# Revision 1.1  93/04/07  09:15:44  notuser
# new CR
# 
# Revision 1.1  1992/12/01  17:16:38  winstall
# #000003 (main)
# USL Early Access release
# Note:  this does not include src/file, src/diskless, src/test/file,
# src/test/diskless, src/libdcedfs, src/PMAX, src/dce_rc_files, src/min_rc_file
s,
# /src/nosupport, src/ode_rc_files, /src/custom/rlib/SINIX/src_ro
#
Revision 9.5.1.1  92/07/24  18:30:39  hinman
Create merge branch

Revision 9.5  92/07/24  18:30:37  hinman
Update checkin

Revision 1.1  92/07/24  07:43:21  hinman
Update

# Revision 1.1.2.2  1992/05/28  20:55:17  cuti
#    Created variable for subcases of local_rgy test.
#
#    Setup two subcases variable.
#    [1992/05/28  18:11:32  cuti]
#
# $EndLog$


# local registry.tshrc

set max_entries_10=1
set max_entries_5=2

------------------------------------------------------------------------
src/test/security/api/control/passwd_override.tsh


# @OSF_COPYRIGHT@
#
# HISTORY
# $Log:	c007663,v $
# Revision 1.6  94/03/15  17:01:03  nata
# added the Created HISTORY line
# 
# Revision 1.5  93/10/26  16:07:14  notuser
# changed fields: Status  
# 
# Revision 1.4  93/08/12  16:42:18  notuser
# changed fields: H/W Ref Platform  S/W Ref Platform  Responsible Engr.  Resp. Engr's Company  
# 
# Revision 1.3  93/08/11  18:22:41  notuser
# changed fields: Component Name  Responsible Engr.  Resp. Engr's Company   new/changed/deleted note(s) [pellis 08/11/93 public]
# 
# Revision 1.2  93/06/16  14:27:16  notuser
# changed fields: Priority  
# 
# Revision 1.1  93/04/07  09:15:44  notuser
# new CR
# 
# Revision 1.1  1992/12/01  17:16:50  winstall
# #000003 (main)
# USL Early Access release
# Note:  this does not include src/file, src/diskless, src/test/file,
# src/test/diskless, src/libdcedfs, src/PMAX, src/dce_rc_files, src/min_rc_file
s,
# /src/nosupport, src/ode_rc_files, /src/custom/rlib/SINIX/src_ro
#
Revision 9.5.1.1  92/07/24  18:30:32  hinman
Create merge branch

Revision 9.5  92/07/24  18:30:30  hinman
Update checkin

Revision 1.1  92/07/24  07:43:19  hinman
Update

# Revision 1.1.2.2  1992/05/21  21:44:03  cuti
#     Setup passwd_override test cases.
#    [1992/05/21  19:42:21  cuti]
#
# $EndLog$


# Passwd_override.sh


echo
echo Begin passwd_override.sh test.
echo


include passwd_over.tshrc

set TEST=passwd_override.sh


test $TEST \
"Test without passwd_override file." \
$passwd_override_setup

test $TEST \
"Test with passwd_override file." \
$passwd_override_test


test $TEST \
"Test with passwd_override file." \
$passwd_override_reset



echo

subtotal clear
summary

echo
echo End passwd_override tests.
echo

# End of passwd_override.sh

------------------------------------------------------------------------
src/test/security/api/control/passwd_over.tshrc


# @OSF_COPYRIGHT@
#
# HISTORY
# $Log:	c007663,v $
# Revision 1.6  94/03/15  17:01:03  nata
# added the Created HISTORY line
# 
# Revision 1.5  93/10/26  16:07:14  notuser
# changed fields: Status  
# 
# Revision 1.4  93/08/12  16:42:18  notuser
# changed fields: H/W Ref Platform  S/W Ref Platform  Responsible Engr.  Resp. Engr's Company  
# 
# Revision 1.3  93/08/11  18:22:41  notuser
# changed fields: Component Name  Responsible Engr.  Resp. Engr's Company   new/changed/deleted note(s) [pellis 08/11/93 public]
# 
# Revision 1.2  93/06/16  14:27:16  notuser
# changed fields: Priority  
# 
# Revision 1.1  93/04/07  09:15:44  notuser
# new CR
# 
# Revision 1.1  1992/12/01  17:16:49  winstall
# #000003 (main)
# USL Early Access release
# Note:  this does not include src/file, src/diskless, src/test/file,
# src/test/diskless, src/libdcedfs, src/PMAX, src/dce_rc_files, src/min_rc_file
s,
# /src/nosupport, src/ode_rc_files, /src/custom/rlib/SINIX/src_ro
#
Revision 9.5.1.1  92/07/24  18:30:34  hinman
Create merge branch

Revision 9.5  92/07/24  18:30:33  hinman
Update checkin

Revision 1.1  92/07/24  07:43:20  hinman
Update

# Revision 1.1.2.2  1992/05/21  21:47:11  cuti
#     Create passwd_override test subcase variables.
#    [1992/05/21  19:44:42  cuti]
#
# $EndLog$

set passwd_override_setup=1
set passwd_override_test=2
set passwd_override_reset=3

[08/11/93 public]
Assigned to Rajendra since this is a security functional test issue.



CR Number                     : 7405
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : systest/dcetmall/dcetmchg
Short Description             : The dcetmchg system test does not reset the clock correctly
Reported Date                 : 03/02/93
Found in Baseline             : 1.0.2b17
Found Date                    : 03/02/93
Severity                      : A
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[03/02/93 public]

The dcetmchg system test leaves the clock one hour ahead instead of
resetting it to the correct time.

[03/23/93 public]

In the process of trying to fix this defect I have found that it will
take quite a bit of work to complete.  I also believe that setting the
clock forward and backward one hour at least four times every hour is
not a realistic system test so I am deferring the defect to 1.0.3.
The problems I have seen trying to fix this include:

	- Once the clock is set ahead one hour tickets expire and you
	  can not reset the clock to the correct time.
	- When the clock is set back one hour I have had error saying
	  that tickets are not valid yet.
	- I have had to reconfigure the machine the test was run on
	  because of the havoc caused by changing the clock back and
	  forth.
	- Changing the clock back and forth causes rpc/cn errors to
	  start appearing on the CDS server.
	- etc.

This test would make a great functional test but for the time being
it will not be supported on DCE 1.0.2.

[08/11/93 public]
This test is no longer supported as a system test, someday perhaps it will
be transformed into a functional test, it would make a good one.



CR Number                     : 7187
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : dfs
Subcomponent Name             : ubik
Short Description             : utst_server core dumps on pmax sync site
Reported Date                 : 2/9/93
Found in Baseline             : 1.0.2b15
Found Date                    : 2/9/93
Severity                      : A
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : jaffe@transarc.com
Transarc Status               : 

[2/9/93 public]
Unfortunately, I can't supply anymore details at this point. Hoping this
will jog someone's memory of an as-yet-unsubmitted fix. I came across
this because I am hoping to use the utst suite within the repfldb_checklist.

[9/29/93 public]
Gail, 
I took the liberty to cancel this one. I don't think we still support
the pmax platform any more. Please, let me know if you have any comment.
Thanks, 
tu
Changed Status from `open' to `cancel' 
Filled in Responsible Engr. with `tu@transarc.com' 
Filled in Resp. Engr's Company with `tarc' 
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `jaffe@transarc.com' 
Added field Transarc Status with value `'



CR Number                     : 7089
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : systests / xx_examine / dcethrpc
Short Description             : xx_examine can not handle examining logfiles located remotely
Reported Date                 : 2/2/93
Found in Baseline             : 1.0.2
Found Date                    : 2/2/93
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[02/2/93 public]

The script/function ./test/systest/tools/xx_examine does not work cor-
rectly when logfiles are located locally on test machines.  This function
was written to only handle examining logfiles located in a common NFS
mounted location.  This problem appears as fgrep errors when executing
the dcethrpc system test.

[08/11/93 public]
This is not a problem now that we are using TET.



CR Number                     : 7088
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : systests
Short Description             : xx_examine is not included in ./systest/tools/systest.functions
Reported Date                 : 2/2/93
Found in Baseline             : 1.0.2
Found Date                    : 2/2/93
Severity                      : C
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[02/2/93 public]

The script xx_examine has not been incorporated into the system test
functions file ./test/systest/tools/systest.functions.

[08/11/93 public]
Not a problem now that we are using TET.



CR Number                     : 7080
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : systests
Short Description             : The DCE 1.0.1 system tests are not using tools/systest.functions
Reported Date                 : 2/1/93
Found in Baseline             : 1.0.2
Found Date                    : 2/1/93
Severity                      : C
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[2/1/93 public]

The DCE 1.0.1 system tests are still using the xx_* scripts instead of
the ./systest/tools/systest.functions.

[02/18/93 public]
Paul is modifying the ones that are not using the above functions file
and will update this OT.

[08/11/93 public]
Not necessary with TET.



CR Number                     : 6277
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : os_calls
Short Description             : Add set of syscall scripst.
Reported Date                 : 12/1/92
Found in Baseline             : 1.0.2
Found Date                    : 12/1/92
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : some
Sensitivity                   : public
Transarc Status               : closed
Transarc Deltas               : jess-ot6277-add-syscall-tests-1
Transarc Herder               : jaffe@transarc.com

[12/1/92 public]
This delta is open for adding the syscall scripts written in ITL.
There will be 20 files to be added.
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `jaffe@transarc.com' 
Added field Transarc Status with value `open'

[12/1/92 public]
Filled in Interest List CC with `pakhtar@transarc.com'

[12/9/92 public]
moved to export to match the delta.  jess, please insert a defect closure form.
Filled in Transarc Deltas with `jess-ot6277-add-syscall-tests-1' 
Changed Transarc Status from `open' to `export'

[12/9/92 public]
The files checked in by this delta have heen tested on RIOS machine.
They have not fully tested on PMAX platform, but the delta ot6344
solves most of script problems concerning about the different semantics,
different limitations, and so on. So better take 6344 with this delta.

[12/14/92 public]
This delta was imported into TA dfs-102 2.3, but will be backed out by
hand.

[3/15/93 public]
This delta adds twenty ITL test scripts which have been tested on RIOS 
and PMAX platforms. 
As I know, script "dirops.scr" failed on PMAX/LFS (we have a bug opend in 
sybase). Script "truncat.scr" may fail on PMAX/LFS also (not very often).
It may cause some other problems when running them crossing machines or
in some stress way. The purpose to export the delta is to let some body
else to run the tests and to find problems (test or code).
The latest dfs release on which the ITL scripts have been running is 
dfs-102-2.7 backed by dce1.0b17.

[3/15/93 public]

[3/15/93 public]

[12/9/93 public]
This code was not submitted to the OSF.
Changed Status from `fix' to `cancel' 
Changed Fixed In Baseline from `1.0.3a' to `' 
Changed Transarc Status from `submit' to `closed'



CR Number                     : 5973
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : dfs
Subcomponent Name             : lfs
Short Description             : "df(1)" filesystem name for episode breaks whitespace usage norm.
Reported Date                 : 11/6/92
Found in Baseline             : 1.0.1b24
Found Date                    : 11/6/92
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : jaffe@transarc.com
Transarc Status               : open

[11/6/92 public]
The system is OSF1 and code base is dfs-102-1.53 and the kernel image
efsvmunix is used.  
The output of 'df' for mounted episode filesets is
not consistent with other filesystems in terms of its usage of
whitespace. This will break shell scripts that rely on
whitespace being the field delimiter for df output.
An example output of df is
root@galileo.transarc.com  # df
Filesystem    512-blks    used   avail capacity  Mounted on
/dev/rz0a        39486   35696    -160   100%    /
/dev/rz0g       242922  202162   16466    92%    /usr
/dev/rz1a        39026      16   35106     0%    /tmp
/dev/rz0b       118646     578  106202     1%    /paging
sybil:/afs     1393664       0 1393664     0%    /afs
DCE/LFS: rcx.1  524288     160  524128     0%    /tmp/rcx/epi0/rcx.1
        ^
        ^ breaks accepted norm of whitespace usage.
Also may be the aggregate name should also be reflected under the
filesystem column as is done on the AIX systems. ?
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `mason@transarc.com' 
Added field Transarc Status with value `open'

[11/9/92 public]
Changed short description.
Changed Short Description from `Output of 'df' for mounted episode filesets not 
 consistent with other mounted filesystems in terms of whitespace usage.' to 
 `"df(1)" filesystem name for episode breaks whitespace usage norm.'

[2/8/93 public]
Since this is only used in testing, I'm making this a test defect.
Changed CR in Code, Doc, or Test? from `code' to `test'

[8/25/93 public]
This is obviously a pmax-specific defect. I did repeat the same 
scenario on RIOS/103.2.28 by epimounting a local fileset to make sure 
that the output from the df comamnd does not have the same defect as mentioned
before. 
Cancelled. 
Filled in Interest List CC with `tu' 
Changed Status from `open' to `cancel' 
Changed Transarc Herder from `mason@transarc.com' to `jaffe@transarc.com'



CR Number                     : 5269
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 5259,5260,5261,5263,5264,5266,5267
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : lfs
Short Description             : Need branch coverage for Episode tools pkg.
Reported Date                 : 8/31/92
Found in Baseline             : 1.0.2
Found Date                    : 8/31/92
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : jaffe@transarc.com
Transarc Status               : open

[8/31/92 public]
After higher-level tests have completed their branch-coverage work,
additional work will be required to complete branch coverage work for
the tools directory in Episode (as opposed to the utilities).
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `jaffe@transarc.com' 
Added field Transarc Status with value `open'

[3/7/94 public]
Canceled.  It was considered inappropriate that this work-list item was
registered as a defect.
Changed Status from `open' to `cancel'



CR Number                     : 5266
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 5259,5260,5261,5263,5264
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : lfs
Short Description             : Need branch coverage numbers for logbuf
Reported Date                 : 8/31/92
Found in Baseline             : 1.0.2
Found Date                    : 8/31/92
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : jaffe@transarc.com
Transarc Status               : open

[8/31/92 public]
After higher-level branch coverage testing is complete, we must devise
tests to cover additional branches.  In this area, I expect the
coverage to principally be in recovery, so it is possible the recovery
testing will cover this already.
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `jaffe@transarc.com' 
Added field Transarc Status with value `open'

[8/31/92 public]
Changed CR in Code, Doc, or Test? from `code' to `test'

[10/18/93 public]
This is just a work item that should never have been entered into OT
Changed Defect or Enhancement? from `def' to `enh' 
Changed Status from `open' to `cancel'



CR Number                     : 5264
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 5259,5260,5261,5263
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : lfs
Short Description             : Need branch coverage results for anode layer
Reported Date                 : 8/31/92
Found in Baseline             : 1.0.2
Found Date                    : 8/31/92
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : jaffe@transarc.com
Transarc Status               : open

[8/31/92 public]
Need to obtain branch coverage number unobtainable from previous work
(see the inter-dependent CRs field).
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `jaffe@transarc.com' 
Added field Transarc Status with value `open'

[8/31/92 public]
Changed CR in Code, Doc, or Test? from `code' to `test'

[3/7/94 public]
Canceled.  It was considered inappropriate that this work-list item was
registered as a defect.
Changed Status from `open' to `cancel'



CR Number                     : 5261
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 5259,5260
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : lfs
Short Description             : Need branch coverage for dir package
Reported Date                 : 8/31/92
Found in Baseline             : 1.0.2
Found Date                    : 8/31/92
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : jaffe@transarc.com
Transarc Status               : open

[8/31/92 public]
After previous branch coverage efforts have exhausted reasonable
coverage, we will need to build additional tests for branch coverage
of the dir package.
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `jaffe@transarc.com' 
Added field Transarc Status with value `open'

[8/31/92 public]
Changed CR in Code, Doc, or Test? from `code' to `test'

[3/7/94 public]
Canceled.  It was considered inappropriate that this work-list item was
registered as a defect.
Changed Status from `open' to `cancel'



CR Number                     : 5260
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 5259
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : lfs
Short Description             : Need branch coverage results for eacl package.
Reported Date                 : 8/31/92
Found in Baseline             : 1.0.2
Found Date                    : 8/31/92
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : jaffe@transarc.com
Transarc Status               : open

[8/31/92 public]
Need branch coverage #'s for eacl package.  If sufficient results
cannot be obtained via OT 5259 testing (vnode layer) we need to build
additional tests (possibly using test_acl?)
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `jaffe@transarc.com' 
Added field Transarc Status with value `open'

[8/31/92 public]
Changed CR in Code, Doc, or Test? from `code' to `test'

[3/7/94 public]
Canceled.  It was considered inappropriate that this work-list item was
registered as a defect.
Changed Status from `open' to `cancel'



CR Number                     : 5259
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : all
S/W Ref Platform              : all
Component Name                : dfs
Subcomponent Name             : lfs
Short Description             : Need branch coverage for vnode layer operations.
Reported Date                 : 8/31/92
Found in Baseline             : 1.0.2
Found Date                    : 8/31/92
Severity                      : C
Priority                      : 2
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public
Transarc Deltas               : 
Transarc Herder               : jaffe@transarc.com
Transarc Status               : open

[8/31/92 public]
Need tests to achieve branch coverage goals beginning with the vnode
layer (should measure branch coverage of all lower layers including
vnode layer).  Tests at this layer are user space tests on a kernel,
and script language tests such as test_vnodeops.
Added field Transarc Deltas with value `' 
Added field Transarc Herder with value `jaffe@transarc.com' 
Added field Transarc Status with value `open'

[8/31/92 public]
Log this against test, not code.
Changed CR in Code, Doc, or Test? from `code' to `test'

[3/7/94 public]
Canceled.  It was considered inappropriate that this work-list item was
registered as a defect.
Changed Status from `open' to `cancel'



CR Number                     : 4853
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 4444
Project Name                  : dce
H/W Ref Platform              : other
S/W Ref Platform              : other
Component Name                : thr
Subcomponent Name             : cuvb_wrp_002
Short Description             : fflush((FILE *)0) does not work on all systems
Reported Date                 : 7/27/92
Found in Baseline             : 1.0.1
Found Date                    : 7/27/92
Severity                      : C
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.0.3
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[7/27/92 public]

        OT 4444 was fixed by adding a check for __STDC__. But __STDC__ does
        not guarantee the working of fflush((FILE *)0). I am using gcc on
        a Sun Sparc, which does not support fflush(0), even though __STDC__
        is defined with gcc.

Proposed Solution:

        I guess we have to find out which system C libs support this fflush
        feature, and which don't.

[10/5/93 public]
This is a functional test porting issue for a platform which is not 
supported. fflush() is a POSIX - defined function.

[10/6/93 public]
The rationale given above was incorrect. The problem is that flushing 
all streams with fflush does not work on the Sun platform. Removing the 
#ifdef __STDC__ and forcing the call fflush((FILE *)0) in the test 
cuvb_wrp_002 works on the OSF/1 and HP/UX reference platforms. This 
behavior is documented in the man pages for the respective systems. If 
this were considered a defect, it would be a code defect, not a test 
defect.



CR Number                     : 2337
Defect or Enhancement?        : enh
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : pmax
S/W Ref Platform              : osf1
Component Name                : systest
Subcomponent Name             : test
Short Description             : Remove DATAFILES from test Makefiles
Reported Date                 : 3/19/92
Found in Baseline             : 1.0.1
Found Date                    : 3/19/92
Severity                      : B
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[3/19/92 public]

The DATAFILES functionality was removed in the ODE 2.0.2 version of
make.  Because of schedule constraints, a hack was put into the common
makefiles to handle some of the DATAFILES functionality.  To eliminate
reliance upon this hack, we need to remove DATAFILES from both the
components and the functional tests.

This is a request to have DATAFILES removed from all the tests.

[04/03/92 public]

Reassigned to test group.

[04/10/92 public]
Copied from Alan H. mail message:

OT#2337 has been reassigned to you folks, to eliminate the
dependence on DATAFILES, mostly by installing the test products
rather than leaving them only in the obj tree.

>This task was simpler then expected.  The main piece of work left is
>setting up the test tree to do installs.  This involves some 168
>Makefiles.

[04/22/92 public]
Assigned to Mark Hickey for the future.



CR Number                     : 315
Defect or Enhancement?        : def
CR in Code, Doc, or Test?     : test
Inter-dependent CRs           : 
Project Name                  : dce
H/W Ref Platform              : other
S/W Ref Platform              : other
Component Name                : gds
Subcomponent Name             : 
Short Description             : ROS test suites not yet run successfully
Reported Date                 : 11/27/91
Found in Baseline             : 1.0
Found Date                    : 
Severity                      : C
Priority                      : 1
Status                        : cancel
Duplicate Of                  : 
Fix By Baseline               : 1.1
Fixed In Baseline             : 
Affected File(s)              : 
Sensitivity                   : public

[01/29/92 public]

Orbit reference number 3887
reference     
product       dce_osf
phaseFound    development

History:
lastUpdate    91/12/06 15:37:09
endDate                                
assignDate    91/11/27 10:34:06   





    addDate              action          userLogin (userName)
    -------------------- --------------- ----------------------------------
    91/11/27 10:34:06    create          abansal (Anju Bansal)
    91/12/06 15:37:09    modify          drb (Defect Review Board)

[11/27/91 public]
Either due to lack of instructions or because of incorrect files, we have not yet
run the ROS test bucket successfully.

Logs have been sent earlier as mail notes.

[12/06/91 public]
This defect has been marked 'deferred' (do not fix in 1.0) by the DRBoard.  Reason:
Not required to meet DCE 1.0 Ship Criteria.

[01/14/93 public]
Reassigned to me.

[2/2/93 public]
Deferred to 1.0.3, when we'll actually need it fixed.  Remains a C1

[12/22/93 public]
Reassigned to me.

[3/21/93 public]
ROS is gone. It will be replaced by RTROS. Because of that the old
ros tester is no longer meaningful and will be defuncted.
So this OT should be closed. Rich?

[3/21/94 public]
After the drop, yes.  (Cancelled, actually.)

[3/29/94 public]
Tests defuncted along with 'ros' itself.  GDS switched to RTROS, instead.

Well, that's one way to fix a defect.




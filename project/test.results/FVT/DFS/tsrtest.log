Running TSR tests on Thu Oct 31 11:58:14 EST 1996
Initializing...
Creating fileset tsrmove.28763
output: tsrmove.28763
output: readWrite ID 0,,2881 valid
output: readOnly ID 0,,2882 invalid
output: backup ID 0,,2883 invalid
output: number of sites: 1
output: server flags aggr siteAge principal owner
output: power2.transarc.com RW epi0 0:00:00 hosts/power2 <nil>
output: Fileset 0,,2881 created on aggregate epi0 of /.../power2.dce.transarc.com/hosts/power2
output: Creating mountpoint /.:/fs/tsrmove.28763
Running test cases...
------------------------------------------
Running invocable component: readaftermove
The idea behind this test is to write a file,
move the fileset, then try to read the contents
of the file. This test doesn't really test
token state as much as it tests the CM's ability
to find the fileset after a move.

creating /testmnt.28763/testfile.28763
moving fileset tsrmove.28763
fileset tsrmove.28763 moved
invocable component returned PASS status
output: Fileset 0,,2881 moved from /.../power2.dce.transarc.com/hosts/power2 epi0 to /.../power2.dce.transarc.com/hosts/power8 epi0
output: Fileset 0,,2881 moved from /.../power2.dce.transarc.com/hosts/power8 epi0 to /.../power2.dce.transarc.com/hosts/power2 epi0
------------------------------------------
Running invocable component: writemovewrite
This test will open a file and write a string
to it. It will then move the fileset and write
another string to it. The file is closed and
read from the remote, where both strings will be
for. This will test to make sure that the write
token is revoked on move and that the write token
state can be recovered.

creating test file
moving fileset tsrmove.28763
fileset tsrmove.28763 moved
checking file
invocable component returned PASS status
output: Fileset 0,,2881 moved from /.../power2.dce.transarc.com/hosts/power2 epi0 to /.../power2.dce.transarc.com/hosts/power8 epi0
output: Fileset 0,,2881 moved from /.../power2.dce.transarc.com/hosts/power8 epi0 to /.../power2.dce.transarc.com/hosts/power2 epi0
------------------------------------------
Running invocable component: lockandmove
The idea behind this test is to lock a file,
move the fileset, then try to lock it
remotely.

create lock file
locking lock file
moving fileset tsrmove.28763
fileset tsrmove.28763 moved
killing local locker
invocable component returned PASS status
output: Got lock
output: Fileset 0,,2881 moved from /.../power2.dce.transarc.com/hosts/power2 epi0 to /.../power2.dce.transarc.com/hosts/power8 epi0
output: SUCCESS
output: Failed to get exclusive lock on file (errno=13)
output: ./movetsrtest: 29637 Terminated
output: Fileset 0,,2881 moved from /.../power2.dce.transarc.com/hosts/power8 epi0 to /.../power2.dce.transarc.com/hosts/power2 epi0
------------------------------------------
Shutting down...
Cleanup called
fileset tsrmove.28763 removed from aggregate epi0

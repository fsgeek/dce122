...\" @OSF_COPYRIGHT@
...\" COPYRIGHT NOTICE
...\" Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.
...\" ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the
...\" src directory for the full copyright text.
...\" 
...\" HISTORY
...\" $Log: gds.init_gds.gpsml,v $
...\" Revision 1.1.2.5  1995/08/15  20:10:24  weir
...\" 	Prentice-Hall edits: second pass
...\" 	[1995/08/15  20:09:29  weir]
...\"
...\" Revision 1.1.2.3  1994/10/12  14:07:16  rnollman
...\" 	last minute editorial changes from munich
...\" 	[1994/10/12  14:07:04  rnollman]
...\" 
...\" Revision 1.1.2.2  1994/09/01  16:45:12  rnollman
...\" 	checkin after incorporating final munich comments
...\" 	[1994/09/01  16:41:42  rnollman]
...\" 
...\" Revision 1.1.2.1  1994/08/04  21:03:42  hal
...\" 	Create DCE GDS Admin Gd & Ref from GDS parts of Adm Gd & Cmd Ref; fix log leaders if needed
...\" 	[1994/08/04  20:10:51  hal]
...\" 
...\" 	Creating GDS Admin Gd & Ref from Admin book.extended, Cmd Ref
...\" 
...\" Revision 1.1.4.13  1994/08/02  20:17:26  rnollman
...\" 	checkin for restructure
...\" 	[1994/08/02  20:07:22  rnollman]
...\" 
...\" Revision 1.1.4.12  1994/05/14  14:38:15  rnollman
...\" 	final final beta submittal
...\" 	[1994/05/14  14:24:16  rnollman]
...\" 
...\" Revision 1.1.4.11  1994/05/09  21:51:35  rnollman
...\" 	updated from Munich trip
...\" 	[1994/05/09  21:51:08  rnollman]
...\" 
...\" Revision 1.1.4.10  1994/05/09  21:25:04  rnollman
...\" 	update from Munich trip
...\" 	[1994/05/09  21:24:45  rnollman]
...\" 
...\" Revision 1.1.4.9  1994/04/07  18:10:53  rnollman
...\" 	small editorial change
...\" 	[1994/04/07  18:10:32  rnollman]
...\" 
...\" Revision 1.1.4.8  1994/04/07  17:34:24  rnollman
...\" 	changes for R1.1
...\" 	[1994/04/07  17:34:05  rnollman]
...\" 
...\" Revision 1.1.4.7  1993/11/11  19:56:57  rnollman
...\" 	updated SNI copyright
...\" 	[1993/11/11  19:56:44  rnollman]
...\" 
...\" Revision 1.1.4.6  1993/10/21  19:53:41  rnollman
...\" 	incorporated minor editorial change
...\" 	[1993/10/21  19:53:12  rnollman]
...\" 
...\" Revision 1.1.4.5  1993/09/08  21:42:57  tmw
...\" 	Added index entries for second version of master index.
...\" 	[1993/09/08  21:39:05  tmw]
...\" 
...\" Revision 1.1.4.4  1993/08/12  17:24:34  buckler
...\" 	{edit, R1.0.2}
...\" 	Prentice-Hall editorial changes.
...\" 	[1993/08/12  16:25:26  buckler]
...\" 
...\" Revision 1.1.4.3  1993/07/29  21:04:35  buckler
...\" 	{edit, R1.0.2}
...\" 	Prentice-Hall edits.
...\" 	[1993/07/29  21:01:36  buckler]
...\" 
...\" Revision 1.1.4.2  1993/07/01  22:25:30  rnollman
...\" 	incorporated first pass OSF editorial comments
...\" 	[1993/07/01  22:24:14  rnollman]
...\" 
...\" Revision 1.1.2.14  1993/03/02  18:47:11  buckler
...\" 	Fixed mismatching .zA and .zZ codes
...\" 	[1993/03/02  18:45:44  buckler]
...\" 
...\" Revision 1.1.2.13  1993/02/21  18:03:35  rnollman
...\" 	fixed for final draft
...\" 	[1993/02/21  18:03:08  rnollman]
...\" 
...\" Revision 1.1.2.12  1993/02/05  16:26:17  rnollman
...\" 	inc comments for final draft
...\" 	[1993/02/05  16:25:46  rnollman]
...\" 
...\" Revision 1.1.2.11  1993/01/28  20:06:20  dbelch
...\" 	Embedding copyright notice
...\" 	[1993/01/28  18:39:17  dbelch]
...\" 
...\" Revision 1.1.2.10  1993/01/27  22:45:26  buckler
...\" 	Fixed cross-refs and figure calls for new book org
...\" 	[1993/01/27  22:42:26  buckler]
...\" 
...\" Revision 1.1.2.9  1993/01/10  20:59:15  rnollman
...\" 	fixes after Dublin edit
...\" 	[1993/01/10  20:58:53  rnollman]
...\" 
...\" Revision 1.1.2.8  1993/01/08  23:09:50  rom
...\" 	Fix comment leaders.
...\" 	[1993/01/08  23:04:22  rom]
...\" 
...\" 	Restore leading gds/ to filename arguments to .so.
...\" 	[1993/01/08  22:43:12  rom]
...\" 
...\" Revision 1.1.2.7  1993/01/08  14:23:56  marrek
...\" 	Changes from SSE Dublin.
...\" 	[1993/01/08  14:23:01  marrek]
...\" 
...\" Revision 1.1.2.6  1992/12/03  22:53:12  rnollman
...\" 	    update munich
...\" 	    [1992/12/03  22:52:16  rnollman]
...\" 
...\" Revision 1.1.2.5  1992/12/02  23:48:07  rnollman
...\" 	    incorporated review comments from Munich
...\" 	    [1992/12/02  23:47:28  rnollman]
...\" 
...\" Revision 1.1.2.4  1992/12/02  21:47:37  rnollman
...\" 	    updated files after Munich review
...\" 	    [1992/12/02  21:46:37  rnollman]
...\" 
...\" Revision 1.1.2.3  1992/11/25  20:12:16  rnollman
...\" 	    informal draft submittal
...\" 	    [1992/11/25  20:11:23  rnollman]
...\" 
...\" 	    minor editorial fix
...\" 	    [1992/11/25  19:08:47  rnollman]
...\" 
...\" 	    minor editorial fixes
...\" 	    [1992/11/25  19:04:17  rnollman]
...\" 
...\" 	    fixed figure reference
...\" 	    [1992/11/25  18:27:10  rnollman]
...\" 
...\" 	    added updated information from Munich developers
...\" 	    [1992/11/25  18:22:03  rnollman]
...\" 
...\" Revision 1.1.2.2  1992/10/26  23:32:10  rnollman
...\" 	    work in progress
...\" 	    [1992/10/26  23:31:36  rnollman]
...\" 
...\" $EndLog$
...\" /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
...\" * COPYRIGHT   (C)  SIEMENS NIXDORF INFORMATIONSSYSTEME AG 1994   *
...\" *                  ALL RIGHTS RESERVED                           *
...\" *                                                                *
...\" * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.H 1 "Initializing GDS"
.so gd/screen.mac
.de us
.am HX
.nh
..
After GDS is installed, the administrator must perform the following steps:
.P
.AL
.LI
Configure the directory system
.LI 
Activate the directory system
.LI
Initialize the directory service
.LE
.P
Use one of the following programs to configure and initialize the Directory
Service:
.P
.VL
.LI "\*Lgdssysadm\*O"
A menu-driven interface that requires the administrator to have a complete
knowledge of the initialization steps and to perform each step manually or use a
batch file script. 
.LI "\*Lgdssetup\*O"
A simplified command-line or interactive interface that performs the
initialization steps automatically and requires only a small set of configuration
parameters as input.  The command line interface allows the administrator
to create an input file that can be modified and reused to try out different
configurations.  The interactive interface consists of a series of prompts to
which the administrator supplies input values.
.LE
.nL
.ne 20
.P
Refer to the  \*Lgdssetup\*O reference page for a detailed description of
how to use \*Lgdssetup\*O to configure and initialize the Directory Service.
Note that it is recommended that you read the information
on intialization steps in this chapter before attempting to use \*Lgdssetup\*O.
Also, you must use \*Lgdssysadm\*O to activate the Directory Service after
you have completed the initialization.
.P
To perform configuration and initialization by using
\*Lgdssysadm\*O, run \*Lgdssysadm\*O by entering the following at the
system prompt: 
.P
.oS
sysprompt>\*Lgdssysadm\*O
.oE
.P
The menu mask shown in Figure 6-1 is then displayed.
.P
.ne 18
.FG "Menu Mask (Part 1)"
.in 0
.sS "(diradm)"

   a - Administration of the directory information tree

   c - Configuration of a directory system

   b - Activation of a directory system installation

   d - Deactivation of a directory system installation

   s - Saving of local data to diskette/tape/file

   r - Restoring of saved data from diskette/tape/file

   f - Further functions

.sE
.in
.P
.oS
Your selection ! >
.oE
.P
.P
.H 2 "Configuring the Directory System"
.iX "Global Directory Service (GDS)" "configuring"
.P
Once the directory system is installed,
the system must be configured by using
administration option \*Lc\*O  of  the \*Lgdssysadm\*O Menu Mask
(Part 1).  The menu mask shown in Figure 6-2 is then displayed.
.P
.iX "Directory Information Tree (DIT)" "schemas"
.nS Note
The directory system is the whole entity of the GDS installation;
it consists of all the GDS processes.
By introducing the concept of a directory ID, it is possible to
generate DITs that have different schemas.  This means that each directory
ID represents its own ``X.500 world.'' For example, directory ID 2 could
represent an X.400 mail directory, whereas directory ID 3 could
represent a customer directory of a company.  This concept is useful
if the DITs are not combined into one DIT, which is possible in GDS.
.nE
.P
.ne 18
.FG "Directory Service Configuration Mask"
.in 0
.sS "(confpar)" "Configuration"

 \*C    Which configuration mode ?: \*O\*LCreation of configuration data\*O

 \*C    For which directory ID should the operation be\*O
 \*C    performed ?: \*O\*L2\*O

 \*C    Which configuration type ?: \*O\*LClient/Server system\*O

 \*C    How many clients have access to the directory system at the\*O
 \*C    same time ?: [1-256]: \*O\*L16\*O

 \*C    How many server processes should be activated ? [1-256]: \*O\*L2\*O

 \*C    Authentication mechanism that the DSA supports ?: \*O\*LSimple Unprotected\*O

.sE
.in
.P
During configuration, the directory ID and the configuration type of the
directory service are established.  The configuration types are as follows:
.ML
.LI 
Client system
.LI 
Client/server system
.LE
.P
It is possible to configure up to 20 IDs.
.P
The Directory Service Configuration mask displays the following fields:
.P
.VL
.LI "\*LWhich\ configuration\ mode\ ?\*O"
.P
Select one of the following modes by pressing the space bar:
.VL
.LI "\*LCreation\ of\ configuration\ data\*O"
.nL
To enter the configuration data for a new directory ID.
.LI "\*LDeletion\ of\ configuration\ data\*O"
.nL
To delete the configuration data for a directory ID.
.LI "\*LDisplay\ of\ configuration\ data\*O"
.nL
To display the configuration data for all the directory IDs that are
configured (see 
...\" the figure entitled "Mask for Displaying the Directory IDs Configured")
Figure 6-3).  Input in the remaining fields is not possible when this mode
is selected.
.LI "\*LChanging\ of\ configuration\ data\*O"
.nL
To change the configuration data for a directory ID.
.LE
.P
.LI "\*LFor\ which\ directory\ ID\ should\ the\ operation\ be\ performed\ ?\*O"
.P
Enter a directory ID in the range 1 to 20 for \*LChanging
of configuration data\*O or \*LDisplay of configuration data\*O.
Enter a directory ID in the range from 2 to 20 for
\*LCreation of configuration data\*O or \*LDeletion of configuration
data\*O.  The required value can also be selected with the
space bar.
.LE
.P
The following entries are only displayed when \*LCreation of
configuration data\*O or \*LChanging of configuration data\*O mode is
selected:
.P
.VL
.LI
\*LWhich configuration type ?\*O
.P
The configuration type of the directory service.
.P
Select one of the following values by pressing the space bar:
.P
.ML
.LI
\*LClient system\*O
.LI
\*LClient/Server system\*O
.LE
.LE
.P
The following items are only displayed if you select \*LClient/Server system\*O:
.nL
.ne 20
.P
.VL
.LI
\*LHow many clients have access to the directory system at the same time ? [1-256]\*O
.P
The maximum number of clients possible is 256.
.LI
\*LHow many server processes should be activated ? [1-256]\*O
.P
The number of server processes to be activated depends on how
many applications need to be able to access the DSA of the directory
at the same time.
.P
The number of server processes is determined by the system load.
If the system load increases, additional server processes are activated
automatically.  If the system load decreases, server processes are
terminated automatically.  However,  the number of running server
processes is never less than the value specified here.
.LI 
\*LAuthentication mechanism that the DSA supports?\*O
.P
Select one of the following fields by pressing the space bar:
.P
.VL
.LI "\*LSimple\ Unprotected\*O"
Authentication based on DN and password of user.
.LI "\*LDCE\ Authentication\*O"
Authentication based on DCE security.  Users must be registered as principals
in the DCE Registry and must be given the extended Registry attribute
\*LX500_DN\*O.
.LI "\*LSimple\ and\ DCE\*O"
Authentication based on DN, password of user, and DCE security.  Users must be
registered as principals in the DCE Registry.
.LE
.LE
.P
When the mask for the configuration is filled, a configuration
file is created (or updated).  GDS starts the DSA processes as often
as required by using this configuration file.
.P
.nS Notes
A new configuration does not become effective until the next
time the directory installation is activated.
.P
A configuration can only be deleted or changed if the directory installation is
deactivated.
.P
If the configuration is deleted or if the client/server system is
reconfigured to a client system, all user data in the configuration is
lost. 
.nE
.P
If the \*LDisplay of configuration data\*O option is selected in the
\*LWhich configuration mode ?\*O field, the mask in Figure 6-3
is displayed, giving details of all the directory
IDs configured.
.P
.ne 18
.FG "Mask for Displaying the Directory IDs Configured"
.in 0
.sS "(confpar)" "Configuration"

\*C   Which Configuration mode ?: Display of configuration data\*O

\*C  DIRECTORY-ID CONFIGURATION TYPE   SERVER-PROC  CLIENTS  UPDATE  AUTH-MECH
      1          Clt/Srv-System         1           16      no      SIMPLE
      3          Clt/Srv-System         1           16      no      SIMPLE\*O
.sE
.in
.P
.oS
To continue please press \*C<Return>\*O.
.oE
.H 2 "Activating the Directory System"
.iX "Global Directory Service (GDS)" "activating"
After a directory system is configured, it must then be
activated.  To do this, select function \*Lb\*O of the \*Lgdssysadm\*O Menu Mask
(Part 1) (Figure 5-1).  This function activates a directory installation.
.P
Starting background processes can take some time. You can display
information on the processes by using the \*Li\*O function of Menu
Mask (Part 2), which displays directory system status information. 
To display the Menu Mask (Part 2), select function \*Lf\*O from the
Mask Menu (Part 1).
.H 2 "Initializing the Directory Service"
.iX "-[" "Global Directory Service (GDS)" "initializing"
The following sections describe the process for initializing the directory 
service in order to connect a new client or server 
to an already existing directory system.
.H 3 "Rules for Initializing the Directory Service"
.iX "initialization rules" 
In order to make a newly configured directory system operable, some
general guidelines must be observed regarding the following:
.P
.ML
.LI
DUA cache
.LI
Schema object
.LI
Master and shadow entries of DSAs
.LI
First-level DSAs
.LI
Objects mastered by superior DSAs
.LE
.P
After the directory system is configured, the DUA cache does not contain
any entries, and the local DSA only has the entry of a default schema.
.H 4 "DUA Cache"
.iX "-[" "DUA cache" "initialization rules"
Each DUA cache must have an entry of the PSAP address of the client in 
order to set up a connection to a remote DSA.  Each DUA cache also requires the
entries of all DSAs, including their PSAP address, to which the DUA
wishes to connect directly.  Normally, the DUA cache has at least the
name and the PSAP address of the local DSA.
.P
When entering a DSA object in the DUA cache, the administrator can
specify a special attribute called a \*LDSA-Type\*O, which can have the
following values:
.VL
.LI "\*Llocal\*O"
DSA of the directory system that is in the same computer
as the DUA.  In order to access it, the local DUA does not need to establish a
connection to the network.  The local DSA can access other remote DSAs 
and can be accessed by remote DUAs and DSAs.
.LI "\*Ldefault\*O"
A remote DSA that the administrator wishes to contact if the
\*LLogon to the Default DSA\*O option is selected in the Menu Mask (Part 1). 
In order to access this DSA, 
the DUA needs to establish a connection to the network.
.LI "\*Ldefault/local\*O"
Specifies the local DSA as a default DSA.  For this
purpose, the local DSA is entered in the DUA cache with 
\*LDSA-Type default/local'\*O instead of \*LDSA-Type local'\*O.
.LE
.P
There is only one local or default/local DSA per directory ID. 
Several default DSAs can be entered in the DUA cache per directory ID. 
These can be either
the local DSA or remote DSAs, or both.  To set up a connection to
the default DSA, the administrator must select the \*LLogon to the
Default DSA\*O option in the Menu Mask (Part 1).
.P
If DCE authentication is used as the authentication method and if the DSA
is local, an additional mask is displayed so that the administrator can add
the principal name of the DSA.
.P
It is also possible to enter DSA objects in the DUA cache without specifying
the attribute \*LDSA-Type\*O.  To set up the connection to one
of these remote DSAs, the administrator must select the \*LLogon to a
Specific DSA\*O option in the Menu Mask (Part 1).
.P
After the client address and DSA objects with \*LDSA-Type
default/local'\*O or \*Llocal'\*O are entered, there can be a delay of
up to one minute before the system starts working.
.P
The values for \*LDSA-Type\*O that the branch network administrator
entered on the sample
Client worksheet and Client/Server worksheet are shown in
...\" Figures 14-6 and 14-7.
Figures 3-6 and 3-7.
.iX "-]" "DUA cache" "initialization rules"
.H 4 "Schema Objects"
.iX "-[" "schemas" "object initialization rules"
.iX "administrative domains" "in GDS"
Each DSA must contain the schema object under the root of the
DIT.  If the DSA has the master entry of the
schema object, it is called an initial DSA.  Other DSAs that
contain a shadow of the schema object from an initial DSA 
constitute an administration domain.
.P
For example, in Figure 6-2, one of the branch network administrator's DSAs
(\*Ldsa-ops\*O) contains a shadow of the schema
object mastered by the corporate network administrator's DSA (\*Ldsa-HQ\*O).
.P
...\" .DS
.FG "Schema Objects Under the Root of the DIT"
.sp
...\" .so gd/Pics/fig17.shadowofschema.pic
.PS
scale = 106.667
"\f(HB\s7Branch Network Administrator's DSA (dsa-ops)\s0\fP"  at 257, 67
"\f(HB\s7Corporate Network Administrator's DSA (dsa-HQ)\s0\fP"  at 267, 367
line   from 315, 587 \
	to 300, 615 
circle radius 3 at 317, 583
"\fH\s7CN=schema\s0\fP"  at 355, 583
line   from 275, 588 \
	to 289, 614 
"\fH\s7Root\s0\fP"  at 297, 624
ellipse wid 38 ht 20 at 297, 624
"\fH\s7(first-level DSA)\s0\fP"  at 72, 411
line   from 226, 539 \
	to 186, 491 
"\fH\s7OU=Branch4\s0\fP"  at 407, 486
line   from 267, 580 \
	to 230, 547 
line   from 264, 543 \
	to 362, 490 
line   from 261, 541 \
	to 242, 491 
line   from 271, 580 \
	to 263, 547 
"\fH\s7O=ANSI\s0\fP"  at 196, 542
box  wid 7 ht 8 at 226.5, 543
circle radius 3 at 262, 543
box  wid 7 ht 8 at 366.5, 486
"\fH\s7C=US\s0\fP"  at 245, 582
"\fH\s7CN=dsa-US\s0\fP"  at 85, 423
box  wid 7 ht 8 at 133.5, 423
"\fH\s7CN=dsa\s0\fP"  at 127, 455
box  wid 7 ht 8 at 156.5, 455
line   from 152, 450 \
	to 137, 427 
"\fH\s7OU=first-level dsa\s0\fP"  at 128, 487
box  wid 7 ht 8 at 181.5, 486
line   from 177, 482 \
	to 160, 459 
"\fH\s7OU=mainbranch\s0\fP"  at 288, 487
circle radius 3 at 241, 486
"\fH\s7CN=dsa\s0\fP"  at 262, 454
circle radius 3 at 229, 454
"\fH\s7CN=dsa-HQ\s0\fP"  at 260, 422
line   from 240, 483 \
	to 230, 459 
circle radius 3 at 218, 423
line   from 227, 451 \
	to 218, 427 
"\fH\s7(initial DSA administered by Mary)\s0\fP"  at 323, 411
box  wid 7 ht 8 at 271.5, 584
"\fH\s7O=XYZ\s0\fP"  at 296, 543
"\fH\s7Legend:\s0\fP"  at 18, 36
circle radius 3 at 44, 20
"\fH\s7Master Entry\s0\fP"  at 89, 20
box  wid 7 ht 8 at 44.5, 5
"\fH\s7Shadow Entry (with master knowledge information)\s0\fP"  at 182, 4
line   from 262, 273 \
	to 218, 235 
line   from 265, 271 \
	to 250, 236 
"\fH\s7C=US\s0\fP"  at 241, 274
line   from 307, 305 \
	to 320, 279 
box  wid 7 ht 8 at 266.5, 276
line   from 271, 281 \
	to 289, 308 
"\fH\s7CN=schema\s0\fP"  at 361, 275
box  wid 7 ht 8 at 323.5, 276
ellipse wid 38 ht 20 at 300, 315
"\fH\s7Root\s0\fP"  at 299, 314
"\fH\s7O=ANSI\s0\fP"  at 181, 231
line   from 252, 228 \
	to 367, 177 
line   from 248, 227 \
	to 230, 179 
box  wid 7 ht 8 at 248.5, 231
line   from 209, 227 \
	to 174, 181 
box  wid 7 ht 8 at 213.5, 231
line   from 372, 172 \
	to 404, 144 
circle radius 3 at 369, 174
"\fH\s7OU=Branch4\s0\fP"  at 416, 173
"\fH\s7CN=dsa\s0\fP"  at 438, 141
circle radius 3 at 407, 142
"\fH\s7CN=dsa-ops\s0\fP"  at 344, 109
"\fH\s7CN=dsa-employ\s0\fP"  at 479, 110
circle radius 3 at 385, 109
line   from 405, 139 \
	to 388, 113 
line   from 409, 139 \
	to 427, 113 
"\fH\s7(first-level DSA)\s0\fP"  at 60, 101
line   from 165, 172 \
	to 148, 149 
box  wid 7 ht 8 at 169.5, 176
line   from 140, 140 \
	to 125, 117 
box  wid 7 ht 8 at 144.5, 145
box  wid 7 ht 8 at 121.5, 113
box  wid 7 ht 8 at 204.5, 111
box  wid 7 ht 8 at 227.5, 175
box  wid 7 ht 8 at 216.5, 143
line   from 227, 171 \
	to 217, 147 
line   from 216, 139 \
	to 206, 115 
"\fH\s7OU=mainbranch\s0\fP"  at 276, 175
"\fH\s7CN=dsa\s0\fP"  at 249, 143
"\fH\s7CN=dsa-HQ\s0\fP"  at 247, 111
"\fH\s7CN=dsa-US\s0\fP"  at 73, 111
"\fH\s7CN=dsa\s0\fP"  at 114, 143
"\fH\s7OU=first-level dsa\s0\fP"  at 114, 175
"\fH\s7O=XYZ\s0\fP"  at 280, 231
box  wid 7 ht 8 at 426.5, 109
box  wid 7 ht 8 at 444.5, 421
box  wid 7 ht 8 at 405.5, 453
line   from 410, 449 \
	to 440, 426 
"\fH\s7CN=dsa\s0\fP"  at 434, 452
"\fH\s7CN=dsa-ops\s0\fP"  at 485, 420
line   from 371, 482 \
	to 402, 457 \
	to 402, 457 
.PE
...\" 
.S 12
...\" .DE
.P
.iX "-]" "schemas" "object initialization rules"
.H 4 "Master and Shadow Entries of DSAs"
.iX "Directory System Agents (DSAs)" "master and shadow entries"
.iX "-[" "Directory System Agents (DSAs)" "initialization rules"
Each DSA must have a master entry of its own DSA and at least a shadow
entry of one other DSA that knows the other DSAs in the directory.
.P
For example, 
...\" Figure 17-2 
Figure 6-2
shows the entries for the DSAs in
the branch network administrator's cell (\*Ldsa-ops\*O) and the corporate 
network administrator's DSA 
(\*Ldsa-HQ\*O).  The \*Ldsa-HQ\*O DSA has knowledge of all the DSAs in XYZ
corporation and the first-level DSA, which is  \*Ldsa-us\*O giving \*Ldsa-HQ\*O
global knowledge of DSAs outside the US.
.P
A GDS DSA can make a referral to another DSA only if a shadow
of that DSA, including its PSAP address, is contained in the DIT.  The
same condition is also required for chaining.
.P
...\" Figure 17-2 
Figure 6-2
shows that, 
because of the existence of the following objects, 
\*Ldsa-ops\*O can send a referral (or perform chaining) to 
\*Ldsa-HQ\*O and the first-level DSA \*Ldsa-us\*O:
.ML
.LI
\*L/C=US/O=XYZ/OU=mainbranch/CN=dsa/CN=dsa-HQ\*O
.LI
\*L/C=US/O=ANSI/OU=first-level-dsa/CN=dsa/CN=dsa-US\*O
.LE
.H 4 "First-Level DSAs"
.iX "Directory System Agents (DSAs)" "first-level"
A DSA that is master of an object under root (first-level object),
except the schema object, is called a first-level DSA.
Because this first level is not under the control of the directory
system, it must be managed by a human directory administrator.  The
administrator must add shadow objects for all
first-level objects and all other first-level DSAs, 
including the DSAs that master these objects.  
.P
The administrator of a first-level DSA must ensure that the names in
the first level are unique and that only one DSA is master of an
object.
.H 4 "Objects Mastered by Superior DSAs"
Each DSA must have at least a shadow entry of the master DSA of the
first-level object, which is superior to the local DSA object.
.P
.nS Note
It is advisable to add shadows of all DSAs with their PSAP
addresses. (These DSAs are masters of the superior nodes of the local DSA
object.) This also applies to superior nodes of objects that are mastered by
the local DSA.  This is necessary if these superior nodes are mastered
by nonGDS DSAs.
.nE
.iX "-]" "Directory System Agents (DSAs)" "initialization rules"
.iX "-]" "Global Directory Service (GDS)" "initializing"
.H 3 "Information Required for Initializing the Directory Service"
.iX "-[" "Global Directory Service (GDS)" "initialization prerequisites"
The configuration worksheets described in Chapter 3 are designed to provide 
the client and client/server information that an 
administrator needs to initialize the directory service.
.P
In summary, the following client information is required:
.P
.ML
.LI
Client address (the PSAP address of the client stub on the local machine)
.LI
Names and PSAP addresses of all default DSAs 
.LI
Names and PSAP addresses of all other remote DSAs that this DUA
wants to contact directly (that is, not by following a referral
received from another DSA)
.LI
If DCE authentication is used as an authentication method, the principal name
of the local DSA
.LE
.P
The following client/server information is required:
.P
.ML
.LI
Client address (the PSAP address of the client stub on the local machine)
.LI
Name and the PSAP address of the local DSA 
.LI
Names and PSAP addresses of all default DSAs 
.LI
Names and PSAP addresses of all other remote DSAs that this DUA
wants to contact directly (that is, not by following a referral
received from another DSA)
.LI
Indication of whether the default schema or other schema information is
used.
.LI
If DCE authentication is used as an authentication method, the principal name
of the local DSA
.LE
.P
.iX "-]" "Global Directory Service (GDS)" "initialization prerequisites"
.H 3 "Initialization Steps for the Directory Service"
.iX "-[" "Global Directory Service (GDS)" "configuration types"
After the directory system is configured and activated, the system
is still inaccessible.  A number of initialization steps must be performed
in sequence in order to set up the first directory system, or
connect the directory system to one already running in
a distributed environment.
.P
There are several possible types of configurations of working directory systems:
.P
.ML
.LI
Initial client/server system 
.LI
Client system
.LI
A client/server system with nonGDS DSAs
.LI
A client/server system with DSAs that do not constitute an administrative domain
.LI
An administrative domain using the default schema
.LI
An administrative domain that does not use the default schema
.LE
.P
There are 10 basic steps involved in initializing the directory system. The sequence 
in which these steps are performed varies according to the type of configuration.
The following sections describe the sequence in which the initialization
steps are to be performed for each configuration type. 
Section 6.3.4 provides a detailed description of each step.
...\" the section entitled 
...\" "Detailed Description (Mask Sequence) of Initialization
...\" Steps" in this chapter.  
.H 4 "Initial Client/Server System"
Initializing a client/server system requires the following initialization steps.
The step number in parentheses refers to the number of the step as
listed in 
...\" the section entitled "Detailed Description (Mask Sequence) of
...\" Initialization Steps" in this chapter.)  
Section 6.3.4.
.P
.AL
.LI
Enter the client address in the DUA cache (step 1).
.LI
Enter the local DSA, including its PSAP address, in the DUA cache
.nL
(step 2).
.LI
Enter the local DSA as an object in the local DSA (step 8).
.LE
.H 4 "Client System"
Initializing a client system requires the following initialization steps.
The step number in parentheses refers to the number of the step as
listed in 
...\" the section entitled "Detailed Description (Mask Sequence) of
...\" Initialization Steps" in this chapter.)
Section 6.3.4.
.P
.AL
.LI
Enter the client address in the DUA cache (step 1).
.LI
Enter all DSAs, including their PSAP addresses, that the client wants
to connect to in the DUA cache (step 9).
.LE
.H 4 "Client/Server System with Non-GDS DSAs, or DSAs That Do Not Constitute an Administration Domain"
Initializing a client/server system with nonGDS DSAs or DSAs that do not constitute an
administration domain requires the following initialization steps.
The step number in parentheses refers to the number of the step as
listed in 
...\" the section entitled "Detailed Description (Mask Sequence) of
...\" Initialization Steps" in this chapter.)
Section 6.3.4.
.P
.AL
.LI
Enter the client address in the DUA cache (step 1).
.LI
Enter the local DSA, including its PSAP address, in the DUA cache
.nL
(step 2).
.LI
Enter the local DSA as an object in the local DSA (step 8).
.LI
Enter all default DSAs, including their PSAP addresses, in the DUA
.nL
cache (step 9).
.LI
Enter all other DSAs, including their PSAP addresses, that the client
wishes to connect to in the DUA cache (step 9).
.LI
To speed up performance, copy other DSAs in the local DSA (cutting down 
on the amount of chaining and referral
that is necessary to reach them) (step 7).
.LI
Enter a shadow of the local DSA in every other DSA that needs to
refer to this DSA.
.LI
Enter the local DSA, including its PSAP address, in the DUA cache of all
clients that need to be connected to this DSA.
.LI
If the local DSA is a first-level DSA, enter all first-level objects
as shadows, including shadows of all other first-level DSAs with their
PSAP addresses.  Then enter a shadow of the local DSA in all
other first-level DSAs (for nonGDS implementations, knowledge of the
existence of the new DSA has to be guaranteed by local means).  The
DSA objects in the DUA cache can be entered as default DSAs.
.LE
.H 4 "Client/Server System, Local DSA, and Initial DSA That Constitute an Administration Domain and Use the Default Schema"
Initializing a client/server system where the local DSA and initial DSA constitute an 
administration domain, and which uses the default schema, requires
the following initialization steps.
The step number in parentheses refers to the number of the step as
listed in 
...\" the section entitled "Detailed Description (Mask Sequence) of
...\" Initialization Steps" in this chapter.)
Section 6.3.4.
.P
.AL
.LI
Enter the client address in the DUA cache (step 1).
.LI
Enter the local DSA, including its PSAP address, in the DUA cache
.nL
(step 2).
.LI
Enter the initial DSA, including its PSAP address, in the DUA cache
.nL
(step 3).
.LI
Change the \*LMaster-Knowledge\*O attribute of the schema 
in the local DSA.
.nL
(step 4).
.LI
Enter a copy of the initial DSA in the local DSA (step 7).
.LI
Enter the local DSA as an object in the local DSA (step 10).
.LI
Enter all default DSAs, including their PSAP addresses, in the DUA cache (step 9).
.LI
Enter all other DSAs, including their PSAP addresses, that the client
wishes to connect to in the DUA cache (step 9).
.LI
To speed up performance, copy other DSAs in the local DSA (cutting down on the amount of chaining and referral
that is necessary to reach them) (step 7).
.LI
Enter a shadow of the local DSA in every other DSA that needs to refer to this
DSA.
.LI
Enter the local DSA, including its PSAP address, in the DUA cache of
all clients that need to be connected to this DSA.
.LI
If the local DSA is a first-level DSA, enter all first-level objects
as shadows, including shadows of all other first-level DSAs with their
PSAP addresses.  A shadow of the local DSA must then be entered in all
other first-level DSAs by the administrators of the other first-level
DSAs.  The DSA objects in the DUA cache can be entered as default DSAs.
.LE
.H 4 "Client/Server System, Local DSA, and Initial DSA That Constitute an Administration Domain and Do Not Use the Default Schema"
Initializing a client/server system where the local DSA and initial DSA 
constitute an administration domain, and which does not use the default 
schema requires the following initialization steps.
The step number in parentheses refers to the number of the step as
listed in 
...\" the section entitled "Detailed Description (Mask Sequence) of
...\" Initialization Steps" in this chapter.)
Section 6.3.4.
.P
.AL
.LI
Enter the client address in the DUA cache (step 1).
.LI
Enter the local DSA, including its PSAP address, in the DUA cache
.nL
(step 2).
.LI
Enter the initial DSA, including its PSAP address, in the DUA cache
.nL
(step 3).
.LI
Change the \*LMaster-Knowledge\*O attribute of the schema in the local DSA
to be that of the initial DSA (step 4).
.LI
Copy the directory schema from the initial DSA to the local DSA (step 5).
.nL
(The initial schema has changed.  Therefore, it is necessary
to copy over the modified schema to the local DSA.  The local DSA
also obtains a shadow of the initial DSA.)
.LI
Enter the local DSA, including its PSAP address, in the DUA cache by
using the new schema structure (step 6).
.nL
.ne 20
.LI
Enter the initial DSA (including its PSAP address) and its principal name
(if DCE authentication is supported) in the DUA cache by using
the new schema structure (as in step 6).
.LI
Enter the local DSA as an object in the local DSA (step 10).
.LI
Deactivate and activate GDS.
.LI
Enter all default DSAs, including their PSAP addresses, in the DUA cache
(step 9).
.LI
Enter all other DSAs, including their PSAP addresses, that the client
wishes to connect to in the DUA cache (step 9).
.LI
To speed up performance, copy other DSAs in the local DSA 
(cutting down on the amount of chaining and referral
that is necessary to reach them) (step 7).
.LI
Enter a shadow of the local DSA in every other DSA that needs to refer to
this DSA.
.LI
Enter the local DSA, including its PSAP address, in the DUA cache of all
clients that need to be connected to this DSA.
.LI
If the local DSA is a first-level DSA, enter all first-level objects
as shadows, including shadows of all other first-level DSAs with their
PSAP addresses.  A shadow of the local DSA must then be entered in all
other first-level DSAs by the administrators of the other first-level
DSAs.  The DSA objects in the DUA cache can be entered as default DSAs.
.LE
.iX "-]" "Global Directory Service (GDS)" "configuration types"
.H 4 "Sample Initialization of Client/Server System for an Administrative Domain That Uses the Default Schema"
.iX "-[" "Global Directory Service (GDS)" "initializing (example)"
.P
This section presents a sample initialization of a 
client/server system, \*Lclient/server1\*O by Branch Administrator 4. 
.P
This sample initialization demonstrates how Branch Administrator 4
adds a DSA to an administrative domain and creates the subtree of the
entry \*L/C=US/O=XYZ/OU=Branch4\*O on\*Ldsa-ops\*O so that it is mastered 
by \*Ldsa-ops\*O.
.nL
.ne 20
.P
Before starting the initialization of \*Ldsa-ops\*O,  
Branch Administrator 4 tells Corporate Administrator 1 to
create a shadow of the entry, where:
.ML
.LI
\*L/C=US/O=XYZ/OU=Branch4\*O is the DN of the entry for which the
shadow is to be created.
.LI
\*L/C=US/O=XYZ/OU=Branch4/CN=dsa/CN=dsa-ops\*O is the DN of Branch
Administrator 4's DSA, which will be the shadow's \*LMaster-Knowledge\*O
attribute.
.LE
.P
No ACL will be set by Corporate Administrator 1.  The following figure 
shows the tree on \*Ldsa-HQ\*O after Corporate Administrator 1 
adds the new shadow.
.P
...\" .DS
.FG "Shadow Entry on the Corporate Administrator's DSA"
.sp
...\" .so gd/Pics/fig17.shadowbranch4.pic
.PS
scale = 106.667
"\fH\s7(mastered by dsa-ops)\s0\fP"  at 443, 183
"\fH\s7O=XYZ\s0\fP"  at 296, 251
box  wid 7 ht 8 at 271.5, 292
"\fH\s7(initial DSA administered by Mary)\s0\fP"  at 323, 119
line   from 227, 159 \
	to 218, 135 
circle radius 3 at 218, 131
line   from 240, 191 \
	to 230, 167 
"\fH\s7CN=dsa-HQ\s0\fP"  at 260, 130
circle radius 3 at 229, 162
"\fH\s7CN=dsa\s0\fP"  at 262, 162
circle radius 3 at 241, 194
"\fH\s7OU=mainbranch\s0\fP"  at 288, 195
line   from 177, 190 \
	to 160, 167 
box  wid 7 ht 8 at 181.5, 194
"\fH\s7OU=first-level dsa\s0\fP"  at 128, 195
line   from 152, 158 \
	to 137, 135 
box  wid 7 ht 8 at 156.5, 163
"\fH\s7CN=dsa\s0\fP"  at 127, 163
box  wid 7 ht 8 at 133.5, 131
"\fH\s7CN=dsa-US\s0\fP"  at 85, 131
"\fH\s7C=US\s0\fP"  at 245, 290
box  wid 7 ht 8 at 366.5, 194
circle radius 3 at 262, 251
box  wid 7 ht 8 at 226.5, 251
"\fH\s7O=ANSI\s0\fP"  at 196, 250
line   from 271, 288 \
	to 263, 255 
line   from 261, 249 \
	to 242, 199 
line   from 264, 251 \
	to 362, 198 
line   from 267, 288 \
	to 230, 255 
"\fH\s7OU=Branch4\s0\fP"  at 407, 194
line   from 226, 247 \
	to 186, 199 
ellipse wid 38 ht 20 at 297, 332
"\fH\s7Root\s0\fP"  at 297, 332
line   from 275, 296 \
	to 289, 322 
"\fH\s7CN=schema\s0\fP"  at 355, 291
circle radius 3 at 317, 291
line   from 315, 295 \
	to 300, 323 
"\fH\s7(first-level DSA)\s0\fP"  at 72, 119
"\fH\s7Shadow Entry (with master knowledge information)\s0\fP"  at 182, 4
box  wid 7 ht 8 at 44.5, 5
"\fH\s7Master Entry\s0\fP"  at 89, 20
circle radius 3 at 44, 20
"\fH\s7Legend:\s0\fP"  at 18, 36
"\fH\s7(mastered by dsa-US)\s0\fP"  at 198, 281
.PE
...\" 
.S 12
...\" .DE
.P
.VL
.LI "\*LStep 1: Enter the client address in the DUA cache\*O"
.AL
.LI
Branch Administrator 4 logs into the DUA cache.
.LI
Branch Administrator 4 enters the PSAP 
address of the client, using Masks 3 through 7a in Object Administration. 
.P
From the sample worksheet in 
...\" Figure 14-6, 
Figure 3-6,
the PSAP address is \*LTCP/IP!internet=192.35.189.4+port=21018\*O
.LE
.LI "\*LStep 2: Enter the local DSA, including it's PSAP address, in the DUA cache\*O"
.AL
.LI
Branch Administrator 4 enters the name 
and PSAP address of the local DSA in the DUA cache
with the \*LAdd Object\*O option in Object Administration Mask 4.
.LI
Branch Administrator 4 enters \*L7\*O as the structure rule of a DSA 
object in Mask 5.
.LI
Branch Administrator 4 enters the DN of the local DSA 
\*L/C=US/O=XYZ/OU=Branch4/CN=dsa/CN=dsa-ops\*O and sets the \*LAuxiliary
Object Class\*O field to \*LNO\*O in Mask 6.
.LI
Branch Administrator 4 enters (in Masks 6d, 7, and 7a) the PSAP address
of the local DSA, which is the same as the client address in step 1, but
with a different T-Selector:
.P
\*LTCP/IP!internet=192.35.189.4+port=21017\*O
...\" 
.LE
.LI "\*LStep 3: Enter the initial DSA, including its PSAP address, in the DUA cache\*O"
.AL
.LI
Branch Administrator 4 enters the DN and 
PSAP address of the initial DSA, \*Ldsa-HQ\*O,
(Corporate Administrator 1's DSA) into the DUA cache.
.LE
.LI "\*LStep 4: Change the Master-Knowledge attribute of the schema in the local DSA\*O"
.AL
.LI
Branch Administrator 4 selects the \*LLogon to Default DSA\*O option in Mask 1.
.LI
Branch Administrator 4 selects option 
number 7 (\*LModify Attribute\*O) in Mask 4.
.LI
Branch Administrator 4 enters \*L1\*O as 
the structure rule of the \*LSchema\*O object class.
.LI
Branch Administrator 4 changes the 
\*LMaster-Knowledge\*O attribute of the \*LSchema\*O object in Mask 8.
.P
Branch Administrator 4 needs to do this
so that the local DSA no longer masters the schema object to
allow the local DSA to be part of the administrative domain of
\*Ldsa-HQ\*O.
.LI
Branch Administrator 4 replaces the DN of the local DSA 
(\*Ldsa-ops\*O) with the DN of \*Ldsa-HQ\*O:
.P
\*L/C=US/O=XYZ/OU=Branch4/CN=dsa/CN=dsa-ops\*O is the DN of the
local DSA.
.P
\*L/C=US/O=XYZ/OU=mainbranch/CN=dsa/CN=dsa-HQ\*O is the full DN of
\*Ldsa-HQ\*O.
.LE
.LI "\*LStep 5\*O: \*LEnter a copy of the initial DSA object in the local DSA\*O"
.AL
.LI
Branch Administrator 4 logs into the
initial DSA by toggling the \*LLogon to a Specific DSA\*O option in
Mask 1.
.LI
Branch Administrator 4 selects option number 4 
(\*LSubtree Administration\*O) in Mask 3.
.LI
Branch Administrator 4 selects option number 3 
(\*LCopy Subtree\*O) in Mask 16 to copy
the subtree beneath the entry \*L/CN=US\*O from \*Ldsa-HQ\*O.
.LI 
Branch Administrator 4 enters \*L2\*O 
to specify the structure rule of Country in Mask 5.
.LI
Branch Administrator 4 enters the DN of the country and specifies \*LSINGLE
OBJECT\*O for the \*LObject Interpretation\*O field.
.LI
Branch Administrator 4 toggles to \*LSpecific DSA\*O as the
source DSA \*Ldsa-HQ\*O in Mask 17a by pressing the space bar.
.LI
Branch Administrator 4 enters the 
DN of the source (and initial) DSA in Mask 2.
.LI
Branch Administrator 4 defines the new parent node and specifies that the new
entries will receive the ACL of the new parent, not the old ACL from
\*Ldsa-HQ\*O (which is set up for restrictive access by Corporate
Administrator 1) in Masks 5 and 17b.
.P
Branch Administrator 4 also indicates that the existing entries are to be
overwritten and specifies the target DSA (the bind DSA).
.LE
.nL
.ne 20
.P
By copying the \*LCountry\*O object (as part of the DN of
the initial DSA), the \*LCopy Subtree\*O function automatically creates all
the objects that are referenced in the \*LMaster-Knowledge\*O attribute of
the \*LCountry\*O object for \*L/CN=US\*O.  The sequence of 
steps in step 5 is repeated so the subordinate entries below \*LCountry\*O
(such as \*LOrganization\*O and \*LOrganizational-Unit\*O) are copied until
the tree shown in Figure 6-6 is created.
.P
...\" .DS
.FG "Master Entry on Branch Administrator 4's DSA"
.sp
...\" .so gd/Pics/fig17.newtreejoe.pic
.PS
scale = 106.667
"\f(HB\s7 Branch Network Administrator's DSA (dsa-ops)\s0\fP"  at 257, 67
"\fH\s7O=XYZ\s0\fP"  at 280, 231
"\fH\s7OU=first-level dsa\s0\fP"  at 114, 175
"\fH\s7CN=dsa\s0\fP"  at 114, 143
"\fH\s7CN=dsa-US\s0\fP"  at 73, 111
"\fH\s7CN=dsa-HQ\s0\fP"  at 247, 111
"\fH\s7CN=dsa\s0\fP"  at 249, 143
"\fH\s7OU=mainbranch\s0\fP"  at 276, 175
line   from 216, 139 \
	to 206, 115 
line   from 227, 171 \
	to 217, 147 
box  wid 7 ht 8 at 216.5, 143
box  wid 7 ht 8 at 227.5, 175
box  wid 7 ht 8 at 204.5, 111
box  wid 7 ht 8 at 121.5, 113
box  wid 7 ht 8 at 144.5, 145
line   from 140, 140 \
	to 125, 117 
box  wid 7 ht 8 at 169.5, 176
line   from 165, 172 \
	to 148, 149 
"\fH\s7(first-level DSA)\s0\fP"  at 60, 101
line   from 409, 139 \
	to 427, 113 
circle radius 3 at 430, 110
circle radius 3 at 407, 142
"\fH\s7CN=dsa\s0\fP"  at 438, 141
"\fH\s7OU=Branch4\s0\fP"  at 416, 173
circle radius 3 at 369, 174
line   from 372, 172 \
	to 404, 144 
box  wid 7 ht 8 at 213.5, 231
line   from 209, 227 \
	to 174, 181 
box  wid 7 ht 8 at 248.5, 231
line   from 248, 227 \
	to 230, 179 
line   from 252, 228 \
	to 367, 177 
"\fH\s7O=ANSI\s0\fP"  at 181, 231
"\fH\s7Root\s0\fP"  at 299, 314
ellipse wid 38 ht 20 at 300, 315
box  wid 7 ht 8 at 323.5, 276
"\fH\s7CN=schema\s0\fP"  at 361, 275
line   from 271, 281 \
	to 289, 308 
box  wid 7 ht 8 at 266.5, 276
line   from 307, 305 \
	to 320, 279 
"\fH\s7C=US\s0\fP"  at 241, 274
line   from 265, 271 \
	to 250, 236 
line   from 262, 273 \
	to 218, 235 
"\fH\s7Shadow Entry (with master knowledge information)\s0\fP"  at 182, 4
box  wid 7 ht 8 at 44.5, 5
"\fH\s7Master Entry\s0\fP"  at 89, 20
circle radius 3 at 44, 20
"\fH\s7Legend:\s0\fP"  at 18, 36
"\fH\s7CN=dsa-ops\s0\fP"  at 470, 110
"\fH\s7(mastered by dsa-ops)\s0\fP"  at 455, 164
"\fH\s7(mastered by dsa-HQ)\s0\fP"  at 337, 224
"\fH\s7(mastered by dsa-US)\s0\fP"  at 191, 265
.PE
...\" 
.S 12
...\" .DE
.LI "\ \ "
.P
The first time step 5 is performed for 
\*LCountry\*O (\*L/C=US\*O), the following objects are created:
.P
.in+.5
\*L/C=US\*O
.br
\*L/C=US/O=ANSI\*O
.br
\*L/C=US/O=ANSI/OU=first-level dsa\*O
.br
\*L/C=US/O=ANSI/OU=first-level dsa/CN=dsa\*O
.br
\*L/C=US/O=ANSI/OU=first-level dsa/CN=dsa/CN=dsa-US\*O
.in-.5
.P
The second time step 5 is performed for \*LOrganization\*O
(\*L/C=US/O=XYZ\*O), the following objects will be created
automatically:
.nL
.ne 20
.P
.in+.5
\*L/C=US/O=XYZ
.br
\*L/C=US/O=XYZ/OU=mainbranch\*O
.br
\*L/C=US/O=XYZ/OU=mainbranch/CN=dsa\*O
.br
\*L/C=US/O=XYZ/OU=mainbranch/CN=dsa/CN=dsa-HQ\*O
.in-.5
.LI "\*LStep 6: Enter local DSA as an object in the local DSA\*O"
.AL
.LI
Branch Administrator 4 creates the entry with DN
\*L/C=US/O=XYZ/OU=Branch4\*O.
.LI
Branch Administrator 4 enters the local DSA, 
\*Ldsa-ops\*O, as an object in
the local DSA by using the sequence of steps in 
...\" the section entitled "Detailed Description 
...\" (Mask Sequence) of Initialization Steps". 
Section 6.3.4.
Using Masks 3 through 7a, as described in \*LStep 10: Enter
local DSA as an object in the local DSA\*O in the following section, 
the branch network administrator adds the entry for
\*Ldsa-ops\*O.
.LE
.LI "\*LStep 7: Enter the DSA, including its PSAP address, that the client wishes to connect to in the DUA cache\*O"
.AL
.LI
Branch Administrator 4 enters all default DSAs 
(including their PSAP addresses) in the DUA cache by selecting the 
\*LLogon to the DUA Cache\*O option in Mask 1 and using Masks 3 through 7a.
.P
In Branch Administrator 4's sample Client/Server worksheet 
...\" (Figure 14-7), 
(Figure 3-7),
Branch Administrator 4 has entered
the names of the following as default DSAs: \*Ldsa-ops\*O,
\*Ldsa-employ\*O, and \*Ldsa-HQ\*O.  Branch Administrator 4
can refer to the
Client/Server worksheet and the GDS Remote and Non-GDS DSA
worksheet (the filled-out sample worksheets shown in 
...\" Figures 14-7 and 14-8) 
Figures 3-7 and 3-8)
for the information on PSAP addresses. 
.LI
Branch Administrator 4 enters all other DSAs 
(and PSAP addresses) in the DUA cache that the client wishes to 
connect to, using the procedures described in step 9 in the following
section.
.LE
.LE
.P
Branch Administrator 4 also has the option of entering 
copies of other DSAs in the local
DSA to speed up the referral mechanism.
.nL
.ne 20
.P
Branch Administrator 4
should make sure that a shadow of \*Ldsa-ops\*O is
entered in every other DSA that needs to refer to \*Ldsa-ops\*O and that
\*Ldsa-ops\*O (and its PSAP address) is entered in the DUA cache of
all clients that need to be connected directly to \*Ldsa-ops\*O.
.iX "-]" "Global Directory Service (GDS)" "initializing (example)"
.H 3 "Detailed Description (Mask Sequence) of Initialization Steps"
.iX "-[" "Global Directory Service (GDS)" "initialization procedure" 
This section describes the mask sequence of the initialization steps.
When \*LLogon
to the DUA Cache\*O is selected, the administration program tries
to read the schema from the DSA (in order to generate masks in accordance
with the actual schema information).  The following message will appear,
which you can ignore:
.P
\*CSchema from DSA cannot be read.
.nL
To continue press\*O <CR> !\*O
.P
The administrator may need to log off from a DSA or
DUA cache after a step is performed in order to be able to log into
to the DUA cache or local DSA.
(For example, to initialize a client/server system, the administrator
must perform steps 2 and 8 in sequence.  Step
2 requires a log into to the DUA cache, and step 8 requires a login to the 
local DSA.  After step 2 is performed, the administrator must log off 
from the DUA cache and then log into the local DSA.)
.P
This means that the administrator must return to Mask 1 and
then log into the required DSA or DUA cache.  The administrator always
logs in anonymously; that is, there is no input for the \*LPassword\*O or
\*LDN\*O fields in Mask 1.
.P
See Chapters 7 and 8 for detailed descriptions of the masks.
.br
.VL
.LI "\*LStep\ 1\*O:"
\*LEnter the client address in the DUA cache\*O. 
.LE
.P
Log into the DUA cache from Mask 1 by selecting the \*LLogon to
the DUA Cache\*O option, then enter the directory ID of the configuration 
to be initialized.  Proceed through the masks as follows:
.VL
.LI "Mask\ 3:"
Select option number 1 (\*LObject Administration\*O).
.LI "Mask\ 4:"
Select option number 5 (\*LAdd Client Address\*O).
.LI "Mask\ 7a:"
Enter the presentation address of the client system.
.LE
.nL
.ne 20
.nS Note
The C-stub requires up to one minute to obtain its client address
from the DUA cache.  The DUA cannot access remote DSAs until then.
.nE
.br
.VL
.LI "\*LStep\ 2:"
Enter the local DSA, including its PSAP address, in the DUA cache.\*O
.LE
.P
Log into the DUA cache by selecting the 
\*LLogon to the DUA Cache\*O option and by entering the directory 
ID of the configuration to be initialized in Mask 1.
.P
.VL
.LI "Mask\ 3:"
Select option number 1 (\*LObject Administration\*O).
.LI "Mask\ 4:"
Select option number 1 (\*LAdd Object\*O).
.LI "Mask\ 5"
Enter the structure rule of a DSA object.  In the
default schema, this is \*LCommon-Name\*O (7).
The mask displays the default schema structure.
.LI "Mask\ 6:"
Enter the DN of the local DSA in
accordance with the default schema.
The \*LStructural Object Class\*O field must be set to
\*LDirectory-Service-Agent\*O.  The auxiliary object class field 
must be set to \*LNO\*O.
.P
The DN of a DSA can only be entered in accordance
with the default schema.  If the DN does not correspond to the schema on
the initial DSA, enter a temporary DN, then enter the
correct DN later.
.P
If the initial DSA is being initialized, the definitive DN can be
entered immediately.
.LI "Mask\ 6d:"
The \*LPresentation-Address\*O attribute is automatically selected. 
Scroll to \*LDSA-Type\*O
.LI "Mask\ 7:"
Enter the attribute value \*Llocal'\*O or \*Ldefault/local'\*O for the
attribute name \*LDSA-Type\*O.  If DCE authentication is used as the
authentication method, an additional screen is displayed so that the
administrator can enter the principal name of the local DSA.  Enter the
global DCE principal name of the DSA in the format:
\*V/.../cellname/principal\*O.
.LI "Mask\ 7a:"
Enter the presentation address of the local DSA.
.LE
.P
.nS note
The DSA requires up to one minute 
to obtain its name and PSAP address
from the DUA cache.  The DSA is not accessible until then.
.nE
.br
.VL
.LI "\*LStep\ 3:"
Enter the initial DSA, including its PSAP address, in the DUA cache.\*O
.LE
.P
Log into the DUA cache by selecting the 
\*LLogon to the DUA Cache\*O option and by entering the directory ID of 
the configuration to be initialized in Mask 1.
.P
.VL
.LI "Mask\ 3:"
Select option number 1 (\*LObject Administration\*O).
.LI "Mask\ 4:"
Select option number 1 (\*LAdd Object\*O).
.LI "Mask\ 5:"
Enter the structure rule of a DSA object.  In the
default schema, this is \*LCommon-Name\*O (7).
The mask displays the default schema structure.
.LI "Mask\ 6:"
Enter the DN of the initial DSA in accordance with the default schema. 
.P
Set the \*LStructural Object Class\*O field
to \*LDirectory-Service-Agent\*O by pressing the space bar.
.P
Set the \*LAuxiliary Object Class\*O field to \*LNO\*O by pressing the
space bar.
.P
The DN of a DSA can only be entered in accordance with the
default schema.  If the DN does not correspond to the schema on the initial 
DSA, a temporary DN can be entered.  The correct DN is then entered later.
.LI "Mask\ 6d:"
The \*LPresentation-Address\*O attribute is automatically selected. 
Leave this mask by using \*L<Menu>\*O without selecting any other attribute.
.LI "Mask 7a:"
Enter the presentation address of the initial DSA.
.LE
.br
.VL
.LI "\*LStep\ 4:"
Change the Master-Knowledge attribute of the schema in the local DSA.\*O
.LE
.P
Log into the local DSA by selecting the 
\*LLogon to the Default DSA\*O option and by entering the directory ID 
of the configuration to be initialized in Mask 1.
.VL
.LI "Mask\ 3:"
Select option number 1 (\*LObject Administration\*O).
.LI "Mask\ 4:"
Select option number 7 (\*LModify Attribute\*O).
.LI "Mask\ 5:"
Select the structure rule \*LCommon-Name\*O (1).
.LI "Mask\ 6:"
Select the common name of the schema object.
.P
Set the \*LStructural Object Class\*O field to 
\*LSchema\*O by pressing the space bar.
.P
Set the \*LAuxiliary Object Class\*O field to 
\*LNO\*O by pressing the space bar.
.LI "Mask\ 6d:"
Select the \*LMaster-Knowledge\*O attribute.
.LI "Mask\ 8:"
The \*LMaster-Knowledge\*O attribute of the schema is displayed
in the \*LOld Value\*O and \*LNew Value\*O fields.
.P
Enter the new value for \*LMaster-Knowledge\*O attribute.
.LE
...\" .TE
.br
.VL
.LI "\*LStep\ 5:"
Copy the directory schema from the initial DSA to the local DSA\*O.
.LE
.P
Log into the initial DSA by selecting the 
\*LLogon to a Specific DSA\*O option and by entering the directory ID 
of the configuration to be initialized in Mask 1.
.VL
.LI "Mask\ 3:"
Select option number 4 (\*LSubtree Administration\*O).
.LI "Mask\ 16:"
Select option 3 (\*LCopy Subtree\*O).
.LI "Mask\ 5:
Select the structure rule of the schema, \*LCommon-Name\*O (1).
.LI "Mask\ 6:"
Select the common name of the schema object.
.P
Set the \*LObject Interpretation\*O field to 
\*LSINGLE OBJECT\*O by pressing the space bar.
.LI "Mask\ 17a:"
Set the \*LSource DSA\*O field to \*LBIND DSA\*O 
by pressing the space bar.
.LI "Mask\ 5:"
Define the new parent node by entering option number 00 (\*LROOT\*O)
as the structure rule.
.LI "Mask\ 17b:"
Define \*LTarget DSA\*O and other parameters for \*LCopy Subtree\*O
by selecting the following values by pressing the space bar:
.iS
Overwrite existing entries: 	YES

New entries protected by: 	ACL of the new parent

Target DSA:		SPECIFIC DSA
.iE
.LI "Mask\ 2:"
Enter the DN of local DSA as entered in the DUA cache.
.LE
.br
.VL
.LI "\*LStep\ 6:
Enter the local DSA, with its PSAP address, in the DUA cache by using 
the new schema structure\*O.
.LE
.P
Log into the DUA cache by selecting the 
\*LLogon to the DUA Cache\*O option and by entering the directory ID 
of the configuration to be initialized in Mask 1.
.VL
.LI "Mask\ 3:"
Select option number 1 (\*LObject Administration\*O).
.LI "Mask\ 4:"
Select option number 1 (\*LAdd Object\*O).
.LI "Mask\ 5:"
Enter the structure rule of a DSA object.
In the default schema, this is \*LCommon-Name\*O (7).
The mask displays the structure of the schema that is taken from
the initial DSA.
.LI "Mask\ 6:"
Enter the the DN of the local DSA
in accordance with the schema taken from the initial DSA.
.P
The structural object class of the DSA must be set to 
\*LDirectory-Service-Agent\*O.
The \*LAuxiliary Object Class\*O field must be set to \*LNO\*O.
.P
Enter the definitive DN of the local DSA.
.LI "Mask\ 6d:"
.nL
The \*LPresentation-Address\*O attribute is automatically displayed. 
Select \*LDSA-Type\*O.
.LI "Mask\ 7:"
Enter the attribute value \*Llocal'\*O or \*Ldefault/local'\*O for the
attribute name \*LDSA-Type\*O.  If DCE authentication is used as the
authentication method, an additional screen is displayed so that the
administrator can enter the principal name of the local DSA.  Enter the
global DCE principal name of the DSA in the format
/.../\*Vcellname\*O/\*Vprincipal\*O.
.LI "Mask\ 7a"
Enter the presentation address\*O of the local DSA.
.LE
.P
To enter other DSAs that the DUA wishes to connect to directly in the
DUA cache, repeat the mask sequence from Mask 4 to Mask 7a; these
other DSAs can then be declared as \*Ldefault'\*O.
.br
.VL
.LI "\*LStep\ 7:"
Enter a copy of the initial DSA object in the local DSA.\*O
.LE
.nL
.ne 20
.P
Log into to the local DSA by selecting the \*LLogon to
the Default DSA\*O option or the \*LLogon to a Specific DSA\*O option
(if the local DSA is not the
default DSA) from Mask 1, then enter the directory ID of the 
configuration to be initialized.
.P
.VL
.LI "Mask\ 3:"
Select option number 4 (\*LSubtree Administration\*O).
.LI "Mask\ 16:"
Select option number 3 (\*LCopy Subtree\*O).
.LI "Mask\ 5:"
Define the object to be copied by entering the structure rule
of \*LCountry\*O (2 in the default schema).
.LI "Mask\ 6:"
Enter the DN of the country (mastered by the initial DSA).
.P
Set the \*LObject Interpretation\*O field to \*LSINGLE OBJECT\*O 
by pressing the space bar.
.LI "Mask\ 17a:"
Set the \*LSource DSA\*O field to \*LSPECIFIC DSA\*O by pressing 
the space bar.
.LI "Mask\ 2:"
Enter the DN of the initial DSA.
.LI "Mask\ 5:"
Define the new parent node by entering the 
structure rule of the parent node as \*L00 ROOT\*O.
.LI "Mask\ 17b:"
Define \*LTarget DSA\*O and other parameters for \*LCopy Subtree\*O
by selecting the following values by pressing the space bar:
.iS
Overwrite existing entries: 	YES

New entries protected by: 	ACL of the new parent

Target DSA:		BIND DSA
.iE
.LE
.P
To speed up performance, it is more efficient to copy other DSAs 
in the local DSA (cutting down on the amount of chaining and referral
that is necessary to reach them) in addition
to the initial DSA.
.P
When copying the \*LCountry\*O object (that is part of the distinguished name
of the initial DSA), the \*LCopy Subtree\*O function will
automatically create all the objects that are referenced in the
\*LMaster-Knowledge\*O attribute of that object (which is the first-level
DSA that is then automatically created).
.P
Masks 3 through 17b must then be called again for the next
object (\*LOrganization\*O), and so on, until the initial DSA gets
automatically created.
.nL
.ne 20
.VL
.LI "\*LStep\ 8:"
Enter the local DSA as an object in the local DSA.\*O
.LE
.P
Log into the local DSA from Mask 1 by selecting the \*LLogon to
the Default DSA\*O option or the \*LLogon to a Specific DSA\*O option
(if the local DSA is not the default DSA) from Mask 1,
and then enter the directory ID of the configuration to be
initialized.
.P
If the higher-level nodes of the entry are missing, they must first be
specified with the mask sequence from Mask 3 to Mask 6.
.P
.VL
.LI "Mask\ 3:"
Select option number 1 (\*LObject Administration\*O).
.LI "Mask\ 4:"
Select option number 1 (\*LAdd Object\*O).
.LI "Mask\ 5:"
Enter the structure rule of a DSA object.  In the default schema, this
is \*LCommon-Name\*O (7).
.LI "Mask\ 6:"
Enter the DN of the local DSA.
The \*LStructural Object Class\*O field must be set to 
\*LDirectory-Service-Agent\*O.
The \*LAuxiliary Object Class\*O field must be set to \*LNO\*O.
.LI "Mask\ 6d:"
.nL
The \*LPresentation-Address\*O attribute is automatically displayed. 
Select the \*LUser-Password\*O attribute. 
.LI "Mask\ 7:"
For the attribute name \*LUser-Password\*O, enter any password for
the attribute value.  The password must end with \*L'\*O (apostrophe).
.LI "Mask\ 7a:"
Enter the presentation address of the local DSA.
.LE
.P
If the initial DSA does not automatically receive a copy of the master
entry of the local DSA as a mandatory shadow entry (see 
...\" the section "Add Object" in 
...\" the chapter entitled "Object Administration"),
Section 8.2.1),
the administrator must ensure that the initial DSA
receives a shadow entry of the local DSA.
.P
To protect the newly added master entries in the DSA
against write access by unauthorized users, the administrator
must first add his or her DN as an object
to a node for whose naming attribute he or she has write access to.
The administrator must then specify the access rights for the 
newly added nodes.
.br
.VL
.LI "\*LStep\ 9:"
Enter the DSA, including its PSAP address, that the client wishes
to connect to in the DUA cache\*O.
.LE
.nL
.ne 20
.P
Log into the DUA cache from Mask 1 by selecting the \*LLogon to the
DUA Cache\*O option, then enter the directory ID of the configuration 
to be initialized.
.P
.VL
.LI "Mask\ 3:"
Select option number 1 (\*LObject Administration\*O).
.LI "Mask\ 4:"
Select option number 1 (\*LAdd Object\*O).
.LI "Mask\ 5:"
Enter the structure rule of a DSA (7 in the default schema).  The mask
displays the default schema structure.
.LI "Mask\ 6:"
Enter the DN that the client wishes to connect to,
in accordance with the default schema.
.P
The \*LStructural Object Class\*O field must be set to
\*LDirectory-Service-Agent\*O.  The \*LAuxiliary Object Class\*O
field must be set to \*LNO\*O.
.P
The DN of a DSA can only be entered in accordance with the
default schema.  If the DN does not correspond to 
the schema of the initial DSA, enter
a temporary DN, then enter the correct DN later.
.P
If the initial DSA is initialized, the definitive DN can be entered
immediately.
.LI "Mask\ 6d:"
The \*LPresentation-Address\*O attribute is automatically displayed. 
Select \*LDSA-Type\*O if this DSA is a default DSA. 
If \*LDSA-Type\*O is selected, then Mask 7 is shown.
.LI "Mask\ 7:"
For the attribute name \*LDSA-Type\*O, enter and the attribute value 
\*Ldefault'\*O. 
.LI "Mask\ 7a:"
Enter the presentation address of the DSA.
.LE
.br 6.0i
.VL
.LI "\*LStep\ 10:"
Enter the local DSA as an object in the local DSA.\*O
.LE
.P
Log into the local DSA by selecting the
\*LLogon to the Default DSA\*O option or the \*LLogon to a Specific DSA\*O
option (if the local DSA is not the default DSA), then enter the
directory ID of the configuration to be initialized.
.P
.VL
.LI "Mask\ 3:"
Select option number 4 (\*LSubtree Administration\*O).
.LI "Mask\ 16:"
Select option number 3 (\*LCopy Subtree\*O).
.LI "Mask\ 5:"
Enter the structure rule of the object. (This is the object for whose
subtree the local DSA will be responsible.)
.LI "Mask\ 6:"
Enter the DN of the object to be copied.  Set the  
\*LObject Interpretation\*O field to \*LSINGLE OBJECT\*O by pressing
the space bar.
.LI "Mask\ 17a:"
Specify \*LSPECIFIC DSA\*O in the \*LSource DSA\*O field.
.LI "Mask\ 2:"
Enter the DN of the initial DSA.
.LI "Mask\ 5:"
Enter the structure rule of the parent node.
.LI "Mask\ 17b:"
Define \*LTarget DSA\*O and other parameters for \*LCopy Subtree\*O
by selecting the following values by pressing the space bar:
.iS
Overwrite existing entries: 	YES

New entries protected by: 	ACL of the new parent

Target DSA:		BIND DSA
.iE
.LI "Mask\ 16:"
Enter option number 0 (Exit).
.LE
.P
The following sequence creates all the superior nodes of the local 
DSA object by calling the mask sequence several times.  For all 
intermediate nodes, no attributes are assigned.
.P
.VL
.LI "Mask\ 3:"
Select option number 1 (\*LObject Administration\*O).
.LI "Mask\ 4:
Select option number 1 (\*LAdd Object\*O).
.LI "Mask\ 5:"
Enter the structure rule of a DSA (7 in the default schema).
.LI "Mask\ 6:"
Enter the DN of the local DSA.
The \*LStructural Object Class\*O field of the DSA must be set 
to \*LDirectory-Service-Agent\*O.
The \*LAuxiliary Object Class\*O field must be set to \*LNO\*O.
.LI "Mask\ 6d:"
The presentation address attribute is automatically displayed.  Select 
the \*LUser-Password\*O attribute.
.LI "Mask\ 7:"
Enter the attribute name \*LUser-Password\*O and specify
any password for the attribute value.  The attribute value must end 
with \*L'\*O (apostrophe).
.LI "Mask\ 7a:"
Enter the presentation address of the local DSA.
.LE
.nL
.ne 20
.P
To protect the newly added master entries in the DSA
against write access by unauthorized users, the administrator
must first add his or her DN as an object
to a node for whose naming attribute he or she has write access.
The administrator must then specify the access rights for 
the newly added nodes.
.P
The objects that the administrator has created on the local DSA 
by using the \*LCopy Subtree\*O function are not full shadows of the 
master entries because \*LCopy Subtree\*O is subject to the ACL.
.iX "-]" "Global Directory Service (GDS)" "initialization procedure"

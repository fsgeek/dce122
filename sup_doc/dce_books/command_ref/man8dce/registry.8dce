...\" @OSF_COPYRIGHT@
...\" COPYRIGHT NOTICE
...\" Copyright (c) 1990, 1991, 1992, 1993, 1994 Open Software Foundation, Inc.
...\" ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE for
...\" the full copyright text.
...\" 
...\" 
...\" HISTORY
...\" $Log: registry.8dce,v $
...\" Revision 1.1.7.8  1996/10/28  14:56:39  wardr
...\" 	{def,13588,R1.2.2}
...\" 	Add Pointer to Problem Determination Guide
...\" 	[1996/10/28  14:55:00  wardr]
...\"
...\" Revision 1.1.7.7  1996/07/18  19:32:15  millett
...\" 	{def,13549,R1.2.2}
...\" 	 Add examples of registry_replica_name arg
...\" 	{def,13550,R1.2.2}
...\" 	Fix permissions for stop and synchronize
...\" 	[1996/07/18  19:31:18  millett]
...\" 
...\" Revision 1.1.7.6  1996/07/09  20:09:20  millett
...\" 	{edt,R1.2.2}
...\" 	 OSF edits
...\" 	[1996/07/09  20:08:48  millett]
...\" 
...\" Revision 1.1.7.5  1996/06/07  21:55:05  millett
...\" 	{def,13499,R1.2.2]
...\" 	maxtktrenew not implemented
...\" 	[1996/06/07  21:54:44  millett]
...\" 
...\" Revision 1.1.7.4  1996/06/07  21:40:39  millett
...\" 	{def,13499,R1.2.2]
...\" 	maxtktrenew not implemented
...\" 	[1996/06/07  21:40:11  millett]
...\" 
...\" Revision 1.1.7.3  1996/06/07  19:36:15  millett
...\" 	{def,CR13377,R1.2.2}
...\" 	HP review edits
...\" 	[1996/06/07  19:35:24  millett]
...\" 
...\" Revision 1.1.7.2  1996/06/03  20:23:26  millett
...\" 	{def,CR13377,R1.2.2}
...\" 	HP review edits
...\" 	[1996/06/03  20:22:59  millett]
...\" 
...\" Revision 1.1.7.1  1996/05/13  15:48:46  wardr
...\" 	{enh,R1.2.2}
...\" 	Removed changebars
...\" 	[1996/05/13  15:47:06  wardr]
...\" 
...\" Revision 1.1.5.6  1996/03/27  19:03:59  weir
...\" 	Updated change markers
...\" 	[1996/03/27  19:02:38  weir]
...\" 
...\" Revision 1.1.5.5  1996/03/20  19:28:17  wardr
...\" 	{edit R1.2.1}
...\" 	Release Edits
...\" 	[1996/03/20  19:23:11  wardr]
...\" 
...\" Revision 1.1.5.4  1996/02/02  19:58:29  weir
...\" 	checking in for HP
...\" 	[1996/02/02  19:56:24  weir]
...\" 
...\" Revision 1.1.5.3  1995/12/29  19:39:16  weir
...\" 	Temporarily checked back in for HP
...\" 	[1995/12/29  19:37:42  weir]
...\" 
...\" Revision 1.1.5.2  1995/12/14  17:53:05  weir
...\" 	1.2.1 additions/changes added
...\" 	[1995/12/14  17:51:47  weir]
...\" 
...\" Revision 1.1.5.1  1995/12/14  15:06:40  weir
...\" 	Initial check-in to secure dcecp manpages in 1.2. tree
...\" 	[1995/12/14  15:04:48  weir]
...\" 
...\" Revision 1.1.2.13  1995/12/12  14:02:48  rcb
...\" 	1.1, 1.2 tech changes by weir; editorial backfill by rcb; ready for 1.2 checkout
...\" 	[1995/12/12  13:56:08  rcb]
...\" 
...\" Revision 1.1.2.12  1995/10/09  13:41:39  rcb
...\" 	1.1PH: editorial pass including outstanding 1.1 edits
...\" 	[1995/10/06  20:39:11  rcb]
...\" 
...\" Revision 1.1.2.11  1995/09/22  18:38:41  rcb
...\" 	preliminary editing (including outstanding 1.1 edits) for 1.1PH, 1.2
...\" 	[1995/09/22  18:27:46  rcb]
...\" 
...\" Revision 1.1.2.10  1994/11/03  23:58:26  neilson
...\" 	Substituted macros for book names in cross refs.
...\" 	[1994/11/03  02:43:24  neilson]
...\" 
...\" Revision 1.1.2.9  1994/10/19  23:24:00  hileman
...\" 	Incorporated review corrections.
...\" 	[1994/10/19  23:23:44  hileman]
...\" 
...\" Revision 1.1.2.8  1994/07/15  20:59:20  wardr
...\" 	{enh, CR10014, R1.1}dcecp changes
...\" 	[1994/07/15  20:56:49  wardr]
...\" 
...\" 	{enh, CR10014, R1.1}dcecp changes
...\" 
...\" Revision 1.1.2.7  1994/06/13  18:40:55  devobj
...\" 	cr10872 - fix copyright
...\" 	[1994/06/13  18:38:32  devobj]
...\" 
...\" Revision 1.1.2.6  1994/05/18  18:03:44  steto
...\" 	{edt, R1.1}
...\" 	Fixed markup causing SGML conversion problem.
...\" 	[1994/05/18  18:02:53  steto]
...\" 
...\" Revision 1.1.2.5  1994/05/12  11:24:54  wardr
...\" 	{enh,CR10014,R1.1}
...\" 	dcecp ref page work
...\" 	[1994/05/12  11:23:50  wardr]
...\" 
...\" Revision 1.1.2.4  1994/05/06  19:01:08  wardr
...\" 	{enh, CR10014, R1.1}
...\" 	updating reference pages
...\" 	[1994/05/06  18:58:57  wardr]
...\" 
...\" Revision 1.1.2.3  1994/03/15  21:01:19  wardr
...\" 	{enh, CR10014, R1.1}
...\" 	initial DCECP ref page work
...\" 	[1994/03/15  20:59:31  wardr]
...\" 
...\" Revision 1.1.2.2  1994/03/11  20:34:48  wardr
...\" 	{enh, CR10014, R1.1}
...\" 	initial refpage work
...\" 	[1994/03/11  16:33:29  wardr]
...\" 
...\" 	{enh, CR10014, R1.1}
...\" 	DCECP reference page work
...\" 
...\" Revision 1.1.2.1  1994/03/09  20:01:19  wardr
...\" 	{enh, CR10014, R1.1}
...\" 	Creating new dcecp reference page
...\" 	[1994/03/09  19:49:20  wardr]
...\" 
...\" $EndLog$
.TH registry 8dce   
.iX "\*Ldcecp\*O commands" "\*Lregistry\*O"  
.iX "registry" "administering"  
.SH "NAME"  
.PP  
\*Lregistry\*O - A \*Ldcecp\*O object that manages a registry in the DCE Security Service 
.zA "def,13377,R1.2.2,literary edit" 
.SH "SYNOPSIS"  
.sS  
\*Lregistry catalog \*O[\*Vregistry_replica_name\*O] [\*L-master\*O]  
.PP  
\*Lregistry checkpoint \*Vregistry_replica_name  
.nL  
.zA "Def,13377,R1.2.2,clarify syntax"  
\*O[\*L-at \*Vhh:mm\*O | \*L-cpi \*O{\*Vnum\*O | \*Vnum\*Lm\*O | \*Vnum\*Lh\*O}]  [\*L-now\*O]  
.PP 
\*Lregistry connect \*Vcell_name  
.nL  
\*L-group \*Vlocal_group_name\*L -org \*Vlocal_org_name\*L -mypwd \*Vlocal_password  
.nL  
\*L-fgroup \*Vforeign_group_name\*L -forg \*Vforeign_org_name  
.nL  
\*L-facct \*Vforeign_account_name\*L -facctpwd \*Vforeign_account_password  
.nL  
\*O[\*L-expdate\*O] [\*L-acctvalid\*O] [\*L-facctvalid\*O]  
.PP  
\*Lregistry delete \*Vregistry_replica_name\*O [\*L-force\*O]  
.PP 
\*Lregistry designate \*Vregistry_replica_name  
.nL  
\*O[\*L-slave\*O | \*L-master\*O [\*L-force\*O]]  
.PP  
\*Lregistry destroy \*Vregistry_replica_name\*L  
.PP  
\*Lregistry disable \*O[\*Vregistry_replica_name\*O]  
.PP  
\*Lregistry dump\*O [\*Vregistry_replica_name\*O]  
.PP  
\*Lregistry enable \*O[\*Vregistry_replica_name\*O]  
.PP  
\*Lregistry help \*O[\*Voperation\*O | \*L-verbose\*O]  
.PP  
\*Lregistry modify \*O[\*Vregistry_replica_name\*O]  
.nL  
{\*L-change \*Vattribute_list\*O | \*L-\*Vattribute value\*O | \*L-key\*O}  
.nL 
.PP  
\*Lregistry operations\*O  
.PP  
\*Lregistry replace \*Vregistry_replica_name \*L-address \*Vnew_string_binding\*O  
.PP 
\*Lregistry show \*O[\*Vregistry_replica_name\*O]   
.nL 
.zA "def,13377,R1.2.2,add verbose"  
[\*L-attributes\*O | \*L-policies\*O | \*L-master\*O | \*L-replica\*O [\*L-verbose\*O]]  
.zZ "def,13377,R1.2.2,add verbose" 
.zZ "Def,13377,R1.2.2,clarify syntax"  
.PP  
\*Lregistry stop \*Vregistry_replica_name\*O  
.PP  
\*Lregistry synchronize \*Vregistry_replica_name\*O   
.PP  
\*Lregistry verify\*O [\*Vregistry_replica_name\*O]  
.sE  
.SH "ARGUMENTS"  
.VL  
.LI "\*Vcell_name\*O
The name of a cell to contact when processing the \*Lconnect\*O operation.  
The name must be a fully qualified cell name, such as \*L/.:\*O or 
\*L/.../\*Vcell_name\*O.
.LI "\*Voperation\*O" 
The name of the \*Lregistry\*O operation for which to display help information. 
...\"
.LI "\*Vregistry_replica_name\*O  
The name of one registry replica to act on.  The replica can be a  
master or a slave replica.  The argument, which overrides a value in  
the \*L_s(sec)\*O convenience variable, can be one of the following:  
.ML  
.zA "def,13549,R1.2.2,add replica pathnames"
.LI  
A specific cell name to bind to any  
replica in the named cell, such as \*L/.:\*O or \*L/.../gumby1\*O.  
.LI  
The global name of a replica to bind to that specific replica in that  
specific cell. such as \*L/.../gumby1/subsys/dce/sec/oddball\*O. 
.LI  
The name of a replica as it appears on the replica list to bind to that  
replica in the local cell, such as \*Lsubsys/dce/sec/oddball\*O.
.LI  
A string binding to a specific replica, such as    
{\*Lncadg_ip_udp 15.22.144.163\*O}.  
.PP
This form is used  
primarily for debugging or if the Cell Directory Service (CDS)   
is not available. 
.zZ "def,13549,R1.2.2,add replica pathnames"
.LE  
.PP  
For those operations for which \*Vregistry_replica_name\*O 
is optional, the value of \*L_s(sec)\*O is used  
if no argument is given. If  
the variable is not set, the default argument of \*L/.:\*O is assumed.  
.LE  
.SH "DESCRIPTION"  
.PP  
The \*Lregistry\*O object represents a DCE Security Service registry.   
The registry is a replicated database: each instance of a registry server,  
\*Lsecd\*O, maintains a working copy of the database in virtual memory   
and on disk.  One server, called the master replica, accepts updates and   
handles the subsequent propagation of changes to all other replicas.  All   
other replicas are slave replicas, which accept only queries.  Each cell   
has one master replica and may have numerous slave replicas.  
.PP  
Note that the \*Lregistry\*O command cannot add, delete, or modify information in the  
registry database, such as names and accounts.  Use the appropriate \*Laccount\*O,  
\*Lprincipal\*O,  
\*Lgroup\*O, or \*Lorganization\*O command to modify registry database entries.  
.PP  
Two access control lists (ACLs) control access to \*Lregistry\*O operations.   
For operations dealing with replication, the  
\*Lreplist\*O object's ACL (usually \*L/.:/sec/replist\*O) controls  
access.  For those that deal with registry attributes and policies, the  
\*Lpolicy\*O object's ACL (usually \*L/.:/sec/policy\*O) controls  
access.  
.PP
.zA "def,13377,R1.2.2,added paragraph" 
When this command executes, it attempts to bind to the registry server  
identified in the \*L_s(sec)\*O variable.    
If that server cannot process the request 
or if the \*L_s(sec)\*O variable is not set, the command binds  
to either an available slave server or the master registry server,  
depending on the operation.   
Upon completion, the command sets the \*L_b(sec)\*O convenience variable 
to the name of the registry server to which it bound. 
.zZ "def,R1.2.2,13377,added paragraph" 
.SH "ATTRIBUTES"  
.PP  
The \*Lregistry\*O object supports the following kinds of attributes:  
.zA "def,13377,R1.2.2,Clarified text" 
.ML  
.LI  
\*LRegistry attributes\*O\(emThese modifiable attributes apply to principals, groups,   
organizations, and accounts.  The initial values for some of these  
attributes must be specified when the master Security Server is configured. 
.LI  
\*LRegistrywide policy attributes\*O\(emThese modifiable attributes apply to  
organizations and accounts.  The registrywide organization and account  
policy overrides the policy set for individual accounts only if the registrywide policy  
is more restrictive.
.LI  
\*LSynchronization attributes\*O\(emThese read-only attributes are maintained  
by each replica about itself.  They cannot be directly modified.  These  
attributes have no default value, but are computed when the replica is  
configured. 
.LI  
\*LReplica-specific attributes\*O\(emThese read-only attributes are  
kept by the master replica for each slave replica.  They cannot be  
modified directly. These  
attributes have no default value, but are computed or assigned when the replica is  
configured.  
.LE 
.zZ "def,13377,R1.2.2,Clarified text" 
.PP  
.SS "Registry Attributes"  
.VL  
.LI "\*Ldeftktlife\*V relative_time\*O"  
The default lifetime for tickets issued to principals in this  
cell's registry.    
Specify the time by using the Distributed Time Service (DTS)  
relative time format (\*L[-]\*VDD\*L-\*Vhh\*L:\*Vmm\*L:\*Vss\*O).   
The default is 
.iS 
\*L+0-10:00:00.000\*O 
.iE 
.LI "\*Lhidepwd {yes | no}\*O"  
Determines whether encrypted passwords are displayed.  If this  
attribute is set to \*Lyes\*O, an asterisk is displayed in place of the  
encrypted password in command output and files where passwords are  
displayed.  The value is either \*Lyes\*O or \*Lno\*O.  The  
default is \*Lyes\*O. 
.LI "\*Lmaxuid\*V integer\*O"    
The highest number that can be supplied as a user identifier (\*Luid\*O)  
when principals are created.  This maximum applies to both the   
system-generated and user-entered \*Luid\*Os.  The value is an integer; 
the initial value depends on the configuration of your system.  
.LI "\*Lmingid\*V integer\*O"  
The starting point for group identifiers (\*Lgid\*Os)   
automatically generated when a group is created.  You can explicitly enter a lower \*Lgid\*O  
than this number; it applies only to automatically generated numbers.  
The value is an integer; the initial value depends on the configuration of your system.  
.LI "\*Lminorgid\*V integer\*O"  
The starting point for organization identifiers (\*Lorgid\*Os)  
automatically generated when an organization is created.  This starting point 
applies only to automatically generated indentifiers.  
You can manually specify an identifier lower  
than the \*Lminorgid\*O.  
The value is an integer; the initial value depends on the configuration of your system.  
.LI "\*Lmintktlife\*V relative_time\*O"  
The minimum amount of time before the principal's ticket must  
be renewed.  The value is an integer.  This renewal is performed  
automatically with no intervention on the part of the user.  The shorter  
this time is, the greater the security of the system.  However, extremely  
frequent renewal can degrade system performance.  Both system performance  
and the level of security required by the cell should be taken into  
consideration when selecting the value of this attribute.  This is a  
registrywide value only; it cannot be set for individual accounts.  
The default is 
.iS 
+0-00:05:00.000 
.iE 
.LI "\*Lminuid\*V integer\*O"  
The starting point for \*Luid\*Os automatically generated 
when a principal is created.  This starting point 
applies only to automatically generated indentifiers.  
You can manually specify an identifier lower  
than the \*Lminuid\*O. The  
value is an integer; the initial value depends on the configuration of your system.   
.zA "def,13377,R1.2.2,moved from synch attrs" 
.LI "\*Lversion\*O"  
The version of the security server software.  The initial value depends on the configuration of your system.    
.zZ "def,13377,R1.2.2,moved from synch attrs" 
.LE  
.PP  
.SS "\*LRegistrywide Policy Attributes\*O" 
.zA "def,13377,R1.2.2,added defaults" 
.VL  
.LI "\*Lacctlife {\*Vrelative_time \*L| unlimited}\*O"  
This registrywide organization policy defines the lifespan of  
accounts.  Specify the time by using the DTS-relative time 
format (\*L[-]\*VDD\*L-\*Vhh\*L:\*Vmm\*L:\*Vss\*O)  
or the string \*Lunlimited\*O to define an unlimited lifespan for accounts.  
The default is \*Lunlimited\*O. 
.LI "\*Lmaxtktlife \*Vrelative_time\*O" 
This registrywide account policy defines the maximum amount of time  
that a ticket can be valid.  
Specify the time by using the DTS-relative time format 
(\*L[-]\*VDD\*L-\*Vhh\*L:\*Vmm\*L:\*Vss\*O).  
When a client requests a ticket to  
a server, the lifetime granted to the ticket takes into account the  
\*Lmaxtktlife\*O set for both the server and the client.  In other  
words, the lifetime cannot exceed the shorter of the server's or  
client's \*Lmaxtktlife\*O.  If you do not specify a \*Lmaxtktlife\*O  
for an account, the \*Lmaxtktlife\*O defined as registry authorization  
policy is used. The default is 
.iS 
+1-00:00:00.000 
.iE  
.LI "\*Lmaxtktrenew \*Vrelative_time\*O"  
This registrywide account policy defines the amount of time   
before a principal's ticket-granting ticket expires and that principal  
must log in again to the system to reauthenticate and obtain another  
ticket-granting ticket.    
Specify the time by using the DTS-relative time format 
(\*L[-]\*VDD\*L-\*Vhh\*L:\*Vmm\*L:\*Vss\*O).  
The lifetime of the principal's service  
tickets can never exceed the lifetime of the principal's  
ticket-granting ticket.  The shorter you make ticket lifetimes, the greater the  
security of the system.  However, since principals must log in again  
to renew their ticket-granting ticket, the time specified needs to 
balance user convenience against the level of security required.  If  
you do not specify this attribute for an account, the \*Lmaxtktrenew\*O lifetime  
defined as registry authorization policy is used.  The default is
.iS 
+28-00:00:00.000\*O 
.iE  
.zA "def,13499,R1.2.2,add not used"
This feature is not currently used by DCE; any use of
this option is unsupported at the present time.
.zZ "def,13499,R1.2.2,add not used"
.LI "\*Lpwdalpha {yes | no} \*O"  
This registrywide organization policy defines whether passwords  
can consist entirely of alphanumeric characters.  Its value is either  
\*Lyes\*O or \*Lno\*O.  The default is \*Lyes\*O. 
.LI "\*Lpwdexpdate \*O{\*VISO-timestamp\*O | \*Lnone\*O}"  
This registrywide organization policy defines a date on which a
password expires.  The date is entered as an internationalized  
date string or the string \*Lnone\*O, in which case there is no  
expiration date for the password.  The default is \*Lnone\*O. 
.LI "\*Lpwdlife {\*Vrelative_time\*L| unlimited}\*O"  
This registrywide organization policy defines the lifespan of  
passwords.  Specify the time by using the DTS-relative time format 
(\*L[-]\*VDD\*L-\*Vhh\*L:\*Vmm\*L:\*Vss\*O)  
or the string \*Lunlimited\*O.  The default is \*Lunlimited\*O.  
.LI "\*Lpwdminlen \*Vinteger\*O"  
This registrywide organization policy defines the minimum number of  
characters in a password.  Its value is a positive integer or the  
integer \*L0\*O, which means there is no minimum length.   
The default is \*L0\*O. 
.LI "\*Lpwdspaces  \*O{\*Lyes \*O| \*Lno\*O}"  
This registrywide organization policy defines whether passwords  
can consist entirely of spaces.  Its value is either \*Lyes\*O or  
\*Lno\*O.   
The default is \*Lno\*O. 
.LE  
.zZ "def,13377,R1.2.2,added defaults" 
.PP  
.SS "Synchronization Attributes"  
.VL  
.LI "\*Lname\*O"  
The name of the replica.  It is in the form of a fully qualified CDS name.  
.LI "\*Ltype\*O  
Indicates if the replica is a \*Lmaster\*O or a \*Lslave\*O.  
.LI "\*Lcell\*O  
The name of the cell that the replica is in.  It is a fully qualified  
cell name.  
.LI "\*Luuid\*O"  
The Universal Unique Identifier (UUID) of the replica.  
.LI "\*Lstatus\*O"  
The state of the replica.  One of the following:  
.VL  
.LI "\*Lbecomingmaster\*O"  
The replica is in the process of becoming a master.  
.LI "\*Lbecomingslave\*O"  
The replica is a master in the process of becoming a slave.  
.LI "\*Lchangingkey\*O"  
The replica is in the process of having its master key changed.  
.LI "\*Lclosed\*O"  
The replica is in the process of stopping.  
.LI "\*Lcopyingdb\*O"  
The replica is in the process of initializing (copying its database to)  
another replica.  
.LI "\*Ldeleted\*O"  
The replica is in the process of deleting itself.  
.LI "\*Ldisabled\*O"  
The replica is unavailable for updates, but will accept queries.   
.zA "def,13377,R1.2.2,deleted sentence about sec_admin" 
.zZ "def,13377,R1.2.2,deleted sentence about sec_admin" 
.LI "\*Ldupmaster\*O"  
Two masters have been found in the cell, and the replica  
is a duplicate of the real master.  
.LI "\*Lenabled\*O"  
The replica is available for use.  
.zA "def,13377,R1.2.2,deleted sentence about sec_admin" 
.zZ "def,13377,R1.2.2,deleted sentence about sec_admin"   
.LI "\*Linitializing\*O"  
The replica is in the process of being initialized by the master replica or  
another up-to-date replica.  
.LI "\*Lsavingdb\*O"  
The replica is in the process of saving its database to disk.  
.LI "\*Lunavailable\*O"  
The replica cannot be reached.  
.LI "\*Luninitialized\*O"  
The database is a stub database that has not been initialized by the master  
replica or another up-to-date replica.  
.LI "\*Lunknown\*O"  
The replica is not known to the master.  
.LE  
.LI "\*Llastupdtime\*O"  
The localized date and time that the master received the last  
replica's last update.  
.LI "\*Llastupdseq\*O"  
The sequence number of the last update the replica received.  A  
sequence number consists of two 32-bit integers separated by a  
dot (\*Vhigh.low\*O).  The high integer increments when the low integer  
wraps.  An example of this attribute is 
.nL
{\*Llastupdseq 0.178\*O}.  
.LI "\*Laddresses\*O"  
A list of the network addresses of the replica.  There can be more than one for  
connectionless and connection-oriented protocols.  
.LI "\*Lmasteraddrs\*O"  
The network address of the master replica as determined by the replica.  The 
address is not necessarily correct.  More than  
one address may exist for connectionless and connection-oriented protocols for example.  
.LI "\*Lmasterseqnum\*O"  
The master sequence number, which is the sequence number of the event  
that made the replica the master as determined by the replica.  
The 
number is not necessarily correct.
A sequence number consists of 32-bit integers separated by a dot (\*Vhigh.low\*O).  
The high integer  
increments when the low integer wraps.  An example of this attribute is  
{\*Lmasterseqnum 0.100\*O}.  
.LI "\*Lmasteruuid\*O"  
The UUID of the master replica as determined by the replica.  This UUID is 
not necessarily correct.  The value is a UUID.  
.LI "\*Lsupportedversions\*O"  
DCE registry version supported by the security service.  
Possible values at DCE Version 1.1 are \*Lsecd.dce.1.0.2\*O (for DCE  
Version 1.0.2 and DCE version 1.0.3) and \*Lsecd.dce.1.1\*O.    
Both versions may be supported (that is by a DCE Version 1.1   
security server running in a cell with DCE version 1.0.3 replicas).  
.LI "\*Lupdseqqueue\*O"  
A list of two update sequence numbers that are still in the  
propagation queue and have yet to be propagated.  The first number is  
the base propagation sequence number (the last number known to have  
been received by all replicas).  The second number is the sequence  
number of the last update made on the master.  This attribute is  
present only in the master replica.  The sequence numbers consist of two  
32-bit integers separated by a dot (\*Vhigh.low\*O).  The high integer  
increments when the low integer wraps.  An example of this attribute is  
{\*Lupdseqqueue {0.100 0.178\*O}}.  
.LE  
.PP  
.SS "Replica-Specific Attributes" 
.VL  
.LI "\*Lname\*O"              
The name of the replica.  It is in the form of a fully  
qualified CDS name.  
.LI "\*Luuid\*O"  
The UUID of the replica.  
.LI "\*Ltype\*O"  
Indicates if the replica is a \*Lmaster\*O or a \*Lslave\*O.  
.LI "\*Laddresses\*O"  
A list of the network addresses of the replica.  More than one 
address may exist for connectionless and connection-oriented protocols.  
.LI "\*Lpropstatus\*O"  
The status of the propagation.  Possible values are as follows:  
.VL  
.LI "\*Ldelete\*V\*O "  
The replica is marked for deletion.  
.LI "\*Linitmarked\*V\*O "  
The replica is marked for initialization.  
.LI "\*Liniting\*V\*O "  
The replica is in the process of initialization, that is, getting an up-to-date  
copy of the registry.  
.LI "\*Lupdate\*V\*O "  
The replica is ready to receive propagation updates.  
.LE  
.LI "\*Llastupdtime\*V\*O "  
The localized time of the last update sent to the replica.  This information   
is meaningful only if \*Lpropstatus\*O is \*Lupdate\*O.  
.LI "\*Llastupdseqsent\*V\*O "  
The sequence number of the last update sent to this replica.    
A sequence number consists of two 32-bit integers separated by a  
dot (\*Vhigh.low\*O).  The high integer increments when the low integer  
wraps.  An example of this attribute is
.iS 
{lastupdseqsent 0.175} 
.iE   
This information is meaningful only if \*Lpropstatus\*O is \*Lupdate\*O.  
.LI "\*Lnumupdtogo\*V\*O "  
The number of outstanding updates.  The value is an integer.   
This information is meaningful only if \*Lpropstatus\*O is \*Lupdate\*O.  
.LI "\*Lcommstate\*O"  
The state of the last communication with the replica.  
.LI "\*Llastcommstatus\*O"  
The status message of the last communication with the replica.   
.LE  
...\" See the \*VOSF DCE Administration Guide\*O for more information about attributes, policies, and synchronizations.
See the \*(Ag for more information about attributes, policies, and synchronizations.
.PP  
.SH "ERRORS"
.PP
A representative list of errors that might be returned is not shown
here.  Refer to the \*(Tg for complete descriptions of all error
messages.
.SH "OPERATIONS"  
.SS "registry catalog"  
.PP  
Returns a list of the names of the security servers running in the cell.   
The syntax is as follows:  
.sS  
\*Lregistry catalog \*O[\*Vregistry_replica_name\*O] [\*L-master\*O]  
.sE  
.PP  
 \*LOption\*O   
.VL   
.LI "\*L-master\*O"   
Returns only the master security server name.  
.LE  
The \*Lcatalog\*O operation returns a list of the names of  
the security servers (that is, each copy of the registry) running in the  
cell.  This is also known as the replica list.    
The order of elements returned is arbitrary.  The optional  
\*Vregistry_replica_name\*O argument   
can specify the name of one other cell or a single string binding.  
If you specify the \*L-master\*O  
option, the operation returns only the name of the master.  
.PP  
This operation sets the \*L_b(sec)\*O variable to the name of the   
replica to which it binds.  
.PP  
\*LPrivileges Required\*O  
.PP  
No special privileges are needed to use the \*Lregistry catalog\*O command.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry catalog\*C  
/.../dcecp.cell.osf.org/subsys/dce/sec/snow  
/.../dcecp.cell.osf.org/subsys/dce/sec/ice
dcecp>   
.oE  
.PP  
...\"   
...\"   
.SS "registry checkpoint"  
Specifies when registry checkpoints should be performed.    
The syntax is as follows:  
.sS  
\*Lregistry checkpoint \*Vregistry_replica_name   
.nL  
.zA "Def,13377,R1.2.2,clarify syntax"  
\*O  [\*L-at \*Vhh:mm\*O | \*L-cpi\*O {\*Vnum\*O | \*Vnum\*Lm\*O | \*Vnum\*Lh\*O}]  [\*L-now\*O]   
.zZ "Def,13377,R1.2.2,clarify syntax"  
.sE  
.PP  
 \*LOptions\*O   
.VL   
.LI "\*L-at \*Vhh:mm\*O"   
Specifies the the hours and minutes   
of the day (in UTC time) to perform the   
checkpoint.  
.PP  
.LI "\*L-cpi {\*Vnum\*O | \*Vnum\*Lm\*O | \*Vnum\*Lh\*L}\*O"   
Specifies an interval at which to perform checkpoints.  
.LI "\*L-now\*O  
Specifies an immediate checkpoint.  This is the default.  
.LE  
.PP  
The \*Lcheckpoint\*O operation lets you set the times when the   
registry database should be saved to disk (checkpointed).  You must   
supply the name of a replica for the operation to bind to.    
.PP  
If you use the   
\%\*L-at\*O option, the checkpoint is performed at the specified time.    
The time is in UTC format.  For example, to specify 3:30 p.m., the entry is 15:30.  
The checkpoint interval then reverts to the default or to the interval   
specified by the \%\*L-cpi\*O option.    
.PP    
If you use the \%\*L-cpi\*O option, the checkpoint is performed at the   
interval you specify until you specify another   
interval.  This option takes an argument that specifies the   
interval time as seconds, minutes, or hours:  
.ML  
.LI    
To specify seconds, supply only a number. For example, \*L-cpi 101\*O   
specifies an interval of 101 seconds.    
.LI  
To specify minutes enter the number and   
\*Lm\*O.  For example, \*L-cpi 101m\*O specifies an interval of 101 minutes.    
.LI  
To specify hours, enter the number and   
\*Lh\*O.  For example, \*L-cpi 101h\*O specifies an interval of 101 hours.   
.LE  
.PP  
If you use the \%\*L-now\*O option, a checkpoint is performed immediately.  
The checkpoint interval then reverts to the default or to the interval   
specified by the \%\*L-cpi\*O option.  This operation returns an empty string on  
success and sets the \*L_b(sec)\*O variable to the replica to which   
it binds.   
.LE  
.PP  
\*LPrivileges Required\*O  
.PP  
You must have \*Lad\*O (\*Lauth_info\*O, \*Ldelete\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry checkpoint /.../gumby_cell/subsys/dce/sec/oddball -at 05:30\*C  
dcecp>   
.oE  
...\"   
...\"   
.SS "registry connect"  
.PP  
Connects the local (that is, default) cell of the local host to   
the foreign cell specified by the argument.  The syntax is as follows:  
.sS  
\*Lregistry connect \*Vcell_name  
.nL  
.zA "Def,13377,R1.2.2,clarify syntax" 
\*L-group \*Vlocal_group_name\*L -org \*Vlocal_org_name\*L -mypwd \*Vlocal_password  
.nL  
\*L-fgroup \*Vforeign_group_name\*L -forg \*Vforeign_org_name  
.nL  
\*L-facct \*Vforeign_account_name\*L -facctpwd \*Vforeign_account_password  
.nL  
\*O[\*L-expdate\*O] [ \*L-acctvalid\*O] [\*L-facctvalid\*O]  
.zZ "Def,13377,R1.2.2,clarify syntax"  
.sE  
.PP  
 \*LOptions\*O  
.VL   
.LI "\*L-group \*Vlocal_group_name\*O"   
Specifies the group for the local account.  
.LI "\*L-org \*Vlocal_org_name\*O"   
Specifies the organization for the local account.  
.LI "\*L-mypwd \*Vlocal_password\*O"   
Specifies the password for the administrator in the local cell.  
.LI "\*L-fgroup \*Vforeign_group_name\*O"   
Specifies the group for the foreign account.  
.LI "\*L-forg \*Vforeign_org_name\*O"  
Specifies the organization for the foreign account.  
.LI "\*L-facct \*Vforeign_account_name\*O"  
Specifies the name for the foreign account.  
.LI "\*L-facctpwd \*Vforeign_account_password\*O"   
Specifies the password for the administrator in the foreign cell.  
.LI "\*L-expdate \*Vaccount_expiration_date\*O  
Sets an expiration date for both local and foreign accounts.  
.LI "\*L-acctvalid\*O"  
Marks the local account as a valid account.  A valid local account   
allows users from the foreign cell to log in to nodes in the   
local cell.  The default is invalid.  
.LI "\*L-facctvalid\*O"  
Marks the foreign account as a valid account.  A valid foreign account   
allows users from the local cell to log in to nodes in the   
foreign cell.  The default is invalid.  
.LE  
.PP  
The \*Lconnect\*O operation creates an account in the   
local cell for the specified foreign cell (\*L/.:/\*Vlocal_cell\*L/sec/principal/krbtgt/\*Vforeign_account\*O)
and also creates an account in the foreign cell for the local cell 
(\*L/.:/\*Vforeign_cell\*L/sec/principal/krbtgt/\*Vlocal_account\*O).  
Both accounts   
have the same key.  The argument must be   
the fully qualified name of a single cell.  It cannot be a list   
or a string binding.    
.PP  
The \%\*L-group\*O, \%\*L-org\*O, \%\*L-mypwd\*O, and \*L-acctvalid\*O options supply the account   
information for the local cell.  The \%\*L-fgroup\*O,   
\%\*L-forg\*O, \%\*L-facct\*O, \%\*L-facctpwd\*O, and \*L-facctvalid\*O options supply the account   
information for the foreign cell.  
.PP  
This operation creates the group and organization, specified as the values of  
the relevant options, if necessary, and puts the relevant principal in  
them, if necessary.   
.PP  
If the operation fails, it removes any organization, group, or both that it has   
created and removes the relevant principals.  
To protect the password being entered, the \*Lregistry connect\*O command   
can be entered only from within \*Ldcecp\*O.  
You cannot enter it from the operating system prompt by using  
\*Ldcecp\*O with the \%\*L-c\*O option.  
.PP  
...\"   
If you do not use the \*L-acctvalid\*O and \%\*L-facctvalid\*O options, you   
must mark the accounts as valid (using the \*Ldcecp account\*O command)   
before intercell access is allowed.  This operation returns an empty string  
on success. 
...\"   
.PP  
\*LPrivileges Required\*O  
.PP  
You must have \*La\*O (\*Lauth_info\*O) permission to the \*Lreplist\*O object 
and the permissions required to create principals, groups, organizations, 
and accounts in the local and foreign cells.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lgetcellname\*C  
/.../my_cell.com 
dcecp> 
 
dcecp> \*Lregistry connect /.../your_cell.com -group none -org none \\\*C  
> \*L-mypwd -dce- -fgroup none -forg none -facct cell_admin \\\*C  
> \*L-facctpwd -dce- \*C 
dcecp> 
.oE  
.PP  
...\"   
.SS "registry delete"   
.PP   
Deletes a registry replica from the cell.  The syntax is as follows:  
.sS   
.zA "Def,13377,R1.2.2,clarify syntax"  
\*Lregistry delete \*Vregistry_replica_name\*O [\*L-force\*O]  
.zZ "Def,13377,R1.2.2,clarify syntax"  
...\"  | [\*L-only\*O]}  
.sE  
.PP  
 \*LOption\*O   
.VL   
.LI "\*L-force\*O"   
Used when the target replica is not available, the \%\*L-force\*O option  
removes the replica name from the master replica's replica list and  
propagates the deletion to other replicas that remain on the list.  
.LE  
.PP  
The \*Lregistry delete\*O operation, when called with no options,  
performs an orderly deletion of a security replica specified as the  
\*Vregistry_replica_name\*O  
argument.  To do so, the operation binds binds to the master replica.   
The master replica then performs the following tasks: 
.AL 
.LI 
Marks the  
specified replica as deleted 
.LI 
Propagates this deletion to the other  
replicas on its replica list 
.LI 
Delivers the delete request to the specified replica 
.LI 
Removes the replica from its replica list 
.LE 
Note that the \*Ldcecp\*O command returns before the deletion is complete 
because it simply tells the  
master to perform the delete procedure.  
.PP  
The \%\*L-force\*O option causes a more drastic deletion.   
It causes the master to first delete the specified replica from  
its replica list and then propagate the deletion to the replicas  
that remain on its list.  
Since this operation never communicates with the deleted replica, you  
should use \*L-force\*O   
only when the replica has died and cannot be restarted.  If you use \*L-force\*O   
while the specified replica is still running, you should then use the   
\*Lregistry destroy\*O command to eliminate the deleted replica.   
.PP  
This operation returns an empty string on success and sets the \*L_b(sec)\*O variable to the master.  
.PP  
\*LPrivileges Required\*O  
.PP  
You must have \*Ld\*O (\*Ldelete\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry delete /.:/subsys/dce/sec/\*Loddball\*C
dcecp>   
.oE  
.SS "registry designate"  
.P  
Changes which replica is the master.  The syntax is as follows:  
.sS  
\*Lregistry designate \*Vregistry_replica_name\*O  
.nL  
.zA "Def,13377,R1.2.2,clarify syntax"  
\*O[\*L-slave\*O | \*L-master \*O[\*L-force\*O]]  
.zZ "Def,13377,R1.2.2,clarify syntax"  
.sE  
.PP  
\*LOptions\*O  
.VL  
.LI "\*L-slave\*O"  
Makes the specified replica a slave.    
The \*Vregistry_replica_name\*O argument must identify the   
master replica.  
.LI "\*L-master\*O"  
Makes the specified replica the master.    
The \*Vregistry_replica_name\*O argument must identify a   
slave replica.  
.LI "\*L-force\*O"  
Forces \*Vregistry_replica_name\*O to become the master, even   
if other slave replicas are more up to date.    
Used only with the \%\*L-master\*O option.  
.LE  
.PP  
The preferred method of creating a new master is to use this   
command with no options in this form:  
.iS  
registry designate \*Vregistry_replica_name\*O  
.iE  
This command changes the slave replica named in \*Vregistry_replica_name\*O  
to the master by performing an orderly transition.  To do so,   
it binds to the current master and instructs the master to:  
.AL  
.LI  
Apply all updates to the replica named in \*Vregistry_replica_name\*O  
.LI  
Become a slave  
.LI  
Tell the replica named in \*Vregistry_replica_name\*O to become the   
master  
.LE  
.PP  
The \*L-slave\*O or \%\*L-master\*O options can also be used to   
change the master to a slave and a slave to a master.    
However, using these options is   
not recommended  
because updates can be lost.   You should use them only if    
you must because the master replica is irrevocably damaged and is   
unable to perform the steps in the orderly transition.    
To use these options, enter the command as shown in the following  
list:  
.ML  
.LI  
To make the master a slave:  
.iS  
registry designate \*Vregistry_replica_name\*O \*L-slave\*O  
.iE  
The \*Vregistry_replica_name\*O is the name of the replica to make a slave.    
.LI  
To make a slave the master:  
.iS  
registry designate \*Vregistry_replica_name\*O \*L-master\*O   
.iE  
The \*Vregistry_replica_name\*O is the name of a slave to make a master.    
If a master exists, the command fails.  
Also, if there are more up-to-date slaves than the one specified   
by \*Vregistry_replica_name\*O, the command fails unless   
you specify \*L-force\*O to override this default action.  
.LE  
.PP  
This operation  returns   
the empty string on success and sets the \*L_b(sec)\*O variable as follows:  
.ML  
.LI  
If called with the \*L-force\*O or \%\*L-master\*O option,   
it sets \*L_b(sec)\*O to the replica to which it binds.  
.LI  
If called with no options, it sets \*L_b(sec)\*O   
to the master.  
.LE  
.PP  
\*LPrivileges Required\*O  
.PP  
You must have \*La\*O (\*Lauth_info\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry designate /.../my_cell/subsys/dce/sec/oddball\*C
dcecp>   
.oE  
.PP  
...\"   
.SS "registry destroy"  
.PP  
Deletes a registry replica.  The syntax is as follows:  
.sS  
\*Lregistry destroy \*Vregistry_replica_name\*L  
.sE  
.PP  
The \*Ldestroy\*O operation causes the replica named in   
\*Vregistry_replica_name\*O to delete  
its copy of the registry database and to stop running.  
.PP  
The preferred way to delete replicas is to use the \*Ldelete\*O   
operation.  However, the \*Ldestroy\*O operation can   
be used if \*Ldelete\*O is unusable because the master is   
unreachable or the replica is not on the master's replica list.  
.PP  
This operation returns an empty string on success and  
sets the \*L_b(sec)\*O variable to the replica to which   
it binds.  
.PP  
\*LPrivileges Required\*O  
.PP  
You must have \*Ld\*O (\*Ldelete\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry destroy /.:/subsys/dce/sec/oddball\*C
dcecp>   
.oE  
.SS "registry disable"  
.PP  
Disables the master registry for updates.    
The syntax is as follows:  
.sS  
\*Lregistry disable\*O [\*Vregistry_replica_name\*O]  
.sE  
.PP   
The \*Ldisable \*O operation disables the master 
registry for updates.  Generally, use this mode for maintenance  
purposes.  The \*Vregistry_replica_name\*O  
argument is a single name of a master registry to be  
disabled.  If no argument is given, the operation uses the name in the  
\*L_s(sec)\*O convenience variable.  If the \*L_s(sec)\*O variable is  
not set, the operation defaults to the master in the local cell.  
.PP  
This operation returns an empty string on success and sets \*L_b(sec)\*O   
to the name of the replica to which it binds.  
.PP  
\*LPrivileges Required\*O  
.PP  
You must have \*LA\*O (\*Ladmin\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry disable /.../my_cell.goodcompany.com/subsys/dce/sec/snow\*C
dcecp>   
.oE  
.SS "registry dump"  
.PP  
Returns the replica information for each replica in the cell.  
The syntax is as follows:  
.sS  
\*Lregistry dump\*O [\*Vregistry_replica_name\*O]  
.sE  
.PP  
The \*Ldump\*O operation  
returns the replica information for each replica in the cell.      
Replicas are displayed with a blank line between them.  
.PP  
The \*Lregistry dump\*O command is the same as the following script:  
.iS  
foreach i [registry catalog] {  
 lappend r [registry show $i -replica]  
 append r  
}  
return r  
.iE  
.PP  
This operation sets the \*L_b(sec)\*O variable to the last replica listed in   
the display.  
.PP  
\*LPrivileges Required\*O 
.PP 
You must have \*LA\*O (\*Ladmin\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry dump\*C  
{name /.../dcecp.cell.osf.org/subsys/dce/sec/snow}  
{type master}  
{cell /.../dcecp.cell.osf.org}  
{uuid a1248a5e-e1e6-11cd-aa0c-0800092734a4}  
{status enabled}  
{lastupdtime 1994-10-13-14:44:48.000-04:00I-----}  
{lastupdseq 0.271}  
{addresses  
 {ncacn_ip_tcp 130.105.5.121}  
 {ncadg_ip_udp 130.105.5.121}}  
{masteraddrs  
 {ncacn_ip_tcp 130.105.5.121}  
 {ncadg_ip_udp 130.105.5.121}}  
{masterseqnum 0.100}  
{masteruuid a1248a5e-e1e6-11cd-aa0c-0800092734a4}  
{version secd.dce.1.1}   
{updseqqueue {0.204 0.271}}  
  {name /.../dcecp.cell.osf.org/subsys/dce/sec/ice}  
{type slave}  
{cell /.../dcecp.cell.osf.org}  
{uuid c772f46a-e1ec-11cd-9a16-0000c0239a70}  
{status enabled}  
{lastupdtime 1994-10-13-14:44:48.000-04:00I-----}  
{lastupdseq 0.271}  
{addresses  
 {ncacn_ip_tcp 130.105.5.45}  
 {ncacn_ip_tcp 130.105.5.45}  
 {ncadg_ip_udp 130.105.5.45}}  
{masteraddrs  
 {ncacn_ip_tcp 130.105.5.121}  
 {ncadg_ip_udp 130.105.5.121}}  
{masterseqnum 0.100}  
{masteruuid a1248a5e-e1e6-11cd-aa0c-0800092734a4}  
{version secd.dce.1.1}  
dcecp> 
.oE  
.SS "registry enable"  
.PP  
Enables the master registry for updates.    
The syntax is as follows:  
.sS  
\*Lregistry enable\*O [\*Vregistry_replica_name\*O]  
.sE  
.PP  
The \*Lenable\*O operation enables the master registry  
for updates.  The \*Vregistry_replica_name\*O  
argument is a single name of a master registry to be  
enabled.  If no argument is given, the operation uses the name  
in the \*L_s(sec)\*O convenience variable.  If the \*L_s(sec)\*O variable  
is not set, the operation defaults to the master in the local cell.  
.PP  
This operation returns an empty string on success and sets the \*L_b(sec)\*O  
variable to the replica to which it binds.  
.PP  
\*LPrivileges Required\*O  
.PP  
You must have \*LA\*O (\*Ladmin\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry enable /.../my_cell.goodcompany.com/subsys/dce/sec/snow \*C
dcecp>  
.oE  
.SS "registry help"  
.PP  
Returns help information about the \*Lregistry\*O object and its  
operations.  The syntax is as follows:  
.sS  
\*Lregistry help \*O[\*Voperation\*O | \*L-verbose\*O]  
.sE  
.PP  
\*LOptions\*O  
.VL  
.LI "\*L-verbose\*O"   
Displays information about the \*Lregistry\*O object.  
.LE  
.PP  
Used without an argument or option, the \*Lregistry help\*O command   
returns brief information about each \*Lregistry\*O operation.   
The optional \*Voperation\*O argument is the name of an operation  
about which you want detailed information.  
Alternatively, you can use the \%\*L-verbose\*O option for more detailed  
information about the \*Lregistry\*O object itself.  
.PP  
\*LPrivileges Required\*O  
.PP  
No special privileges are needed to use the \*Lregistry help\*O  
command.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry help\*C  
catalog             Returns a list of all replicas running in the cell.  
checkpoint          Resets registry checkpoint interval dynamically.  
connect             Creates local and foreign cross-cell authenticated accounts.  
delete              Deletes a replica and removes from master replica list.  
designate           Changes which replica is the master.  
destroy             Destroys the specified replica and its registry database.  
disable             Disables the specified master registry for updates.  
dump                Returns replica information for each replica in the cell.  
enable              Enables the specified master registry for updates.  
modify              Modifies the master registry or replica.  
replace             Replaces replica information on master replica list.  
set                 Changes which replica is the master.  
show                Returns attributes of the registry and its replicas.  
stop                Stops the specified security server process.  
synchronize         Reinitializes replica with up-to-date copy of the registry.  
verify              Returns a list of replicas not up-to-date with the master.  
help                Prints a summary of command-line options.  
operations          Returns a list of the valid operations for this command. 
dcecp>  
.oE  
.SS "registry modify"  
.PP  
Changes attributes of the registry.  The syntax is as follows:  
.sS  
\*Lregistry modify \*O[\*Vregistry_replica_name\*O]  
.nL  
.zA "Def,13377,R1.2.2,clarify -attribute"  
{\*L-change \*Vattribute_list\*O | \*L-\*Vattribute value\*O | \*L-key\*O}  
.sE  
.PP  
\*LOptions\*O  
.VL  
.LI "\*L-\*Vattribute value\*O"
As an alternative to using options with an attribute list, you 
can change individual attribute options by prepending a hyphen (\*L-\*O) to any 
attributes listed in \*LATTRIBUTES\*O. 
.LI "\*L-change\*O \*Vattribute_list\*O" 
Allows you to modify attributes by using an attribute list rather than  
using individual attribute options.  The format of an attribute list is as follows:  
.iS  
\*O{{\*Vattribute value\*O}...{\*Vattribute value\*O}} 
.iE 
.zZ "Def,13377,R1.2.2,clarify -attribute"   
.PP
The \*L-change\*O option cannot be used with the \%\*L-key\*O option.  
.zA "def,13377,R1.2.2,deleted supportedversions" 
.zZ "def,13377,R1.2.2,deleted supportedversions" 
.LI "\*L-key\*O"  
Generates a new master key for the replicas listed as the argument.  
Cannot be used with the \%\*L-change\*O option.  
.LE  
.PP  
The \*Lmodify\*O operation   
changes attributes of the registry.  The \*Vregistry_replica_name\*O  
is required for the \%\*L-key\*O option but optional for all other   
options.  If an argument is not supplied and the \*L_s(sec)\*O variable  
is not set, the operation defaults to master in the local cell.  
...\" If the \%\*L-change\*O option is used and the   
...\" \*L_s(sec)\*O variable is a replica, the command operates on the   
...\" master of the replica's cell.  
This operation returns an empty string on success.  
.PP  
Use the \%\*L-change\*O option to modify the value of any one of the  
attributes.   
.PP 
The operation also accepts the \%\*L-key\*O option to generate a new   
master key for a single replica named in the argument and to   
reencrypt that registry's account keys using the new master key.   
The new master key is randomly generated.  Each replica (master and  
slaves) maintains its own master key, which is used to access the   
data in its copy of the database.  If you use the \%\*L-key\*O option,  
you must specify \*Vregistry_replica_name\*O.  
.PP  
The \%\*L-change\*O option and the \%\*L-key\*O option   
cannot be used together.  
.PP  
.zA "def,13377,R1.2.2,deleted supportedversions" 
...\" The \%\*L-version\*O option allows you to migrate the cell  
...\" security service registry from DCE version 1.0.2 or DCE version 1.0.3 to DCE  
...\" version 1.1.  This command updates the security service registry to  
...\" support DCE version 1.1 security service functionality.  
...\" For DCE version 1.1, the only available value for \*Vsupportedversions\*O  
...\" is \*Lsecd.dce.1.1\*O.  
...\" The \*L-version\*O operation is not reversible; backward  
...\" migration is not supported.  The \%\*L-version\*O option and the  
...\" \%\*L-key\*O option cannot be used together.  
.PP  
.zZ "def,13377,R1.2.2,deleted supportedversions" 
This operation sets the \*L_b(sec)\*O variable to the replica to which   
it binds.  
.PP  
\*LPrivileges Required\*O  
.PP  
You must have \*LA\*O (\*Ladmin\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry modify -version secd.dce.1.1\*C  
dcecp> 
  
dcecp> \*Lregistry modify -change {deftktlife +0-08:00:00.000I-----}\*C
dcecp>   
.oE  
.SS "registry operations" 
.PP 
Returns a list of the operations supported by the  
\*Lregistry\*O  
object. 
The syntax is as follows: 
.sS 
\*Lregistry operations\*O 
.sE 
.PP 
The list of available operations is in alphabetical order   
except for \*Lhelp\*O and \*Loperations\*O, which are listed last. 
.PP  
\*LPrivileges Required\*O 
.PP 
No special privileges are needed to use the  
\*Lregistry  
operations\*O 
command. 
.PP 
\*LExamples\*O 
.oS  
dcecp> \*Lregistry operations\*C  
catalog checkpoint connect delete designate destroy disable dump enable   
modify replace show stop synchronize verify help operations
dcecp>   
.oE  
.SS "registry replace"  
.PP  
Replaces the network address of a replica.  The syntax is as follows:  
.sS  
\*Lregistry replace\*O \*Vregistry_replica_name \*L-address \*Vnew_string_binding\*O  
.sE  
.PP  
\*LOptions\*O  
.VL  
.LI "\*L-address\*O"  
The new address for the replica in RPC string-binding format (without the object UUID).   
The string binding contains an RPC   
protocol and a network address in the form:  
.iS  
\*Vrpc_prot_seq:network_addr  
.iE  
.LE  
.PP  
The \*Lreplace\*O operation   
replaces the network address of the specified replica.  The new   
address is used by the master and other replicas to contact the replica.   
This operation binds to the master,  
sets the \*L_b(sec)\*O variable to the master, and returns an empty string on success.  
.to the master.   
.PP   
\*LPrivileges Required\*O  
.PP  
You must have \*Lm\*O (\*Lmgmt_info\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry replace /.:/susbys/dce/sec/maria -address ncadg_ip_udp:15.22.4.93\*C
dcecp>   
.oE  
...\" .SS "registry set"  
...\" .P  
...\" Changes which replica is the master.  The syntax is as follows:  
...\" .sS  
...\" \*Lregistry set \*Vregistry_replica_name\*O {[\*L-slave\*O] | [\*L-master\*O]} [\*L-force\*O]  
...\" .sE  
...\" .PP  
...\" \*LOptions\*O  
...\" .VL  
...\" .LI "\*L-slave\*O"  
...\" Designates the specified replica as a slave.  
...\" .LI "\*L-master\*O"  
...\" Designates the specified replica as the master.  
...\" .LI "\*L-force\*O"  
...\" Forces the command to set the specified replica as the master, even   
...\" if other slaves are more up to date.  Used only with the \*L-master\*O   
...\" option.  
...\" .LE  
...\" .PP  
...\" The \*Lregistry set\*O designates the specified replica as the master or a  
...\" slave.  The \*Vregistry_replica_name\*O   
...\" argument is required and must be the name of a single  
...\" registry replica.  If no options are used, the command sets the   
...\" named replica as the new master for the cell and sets   
...\" the existing master as a slave.   This operation returns   
...\" the empty string on success.  
...\" .PP  
...\" Alternatively, you can use the \*L-slave\*O or \%\*L-master\*O options   
...\" to explicatly set the named replica as either a slave or the master.   
...\" If you use the \%\*L-master\*O option, the command checks other   
...\" slaves to see if they are more up to date than the one specified   
...\" in the argument.  If any are, the command fails with an error, unless   
...\" you specify the \*L-force\*O to override this default action.  
...\" .PP  
...\" The command sets the value of \*L_b(sec)\*O as follows:  
...\" .PP  
...\" .ML  
...\" .LI  
...\" If no options are used, \*L_b(sec)\*O is set to the old master replica.  
...\" .LI  
...\" If \*L-slave\*O or \*L-master\*O is used, \*L_b(sec)\*O is set to   
...\" the replica specified in the argument.  
...\" .LE  
...\" .PP  
...\" After invoking \*Lregistry set\*O, you can use the   
...\" \*Lregistry dump\*O command to verify that   
...\" the \*Ltype\*O attribute has changed and that the previous master is   
...\" now a slave while the specified replica is now the master.  
...\" .PP  
...\" \*LPrivileges Required\*O  
...\" .PP  
...\" You must have \*LA\*O (\*Ladmin\*O) permission to the \*Lreplist\*O object.  
...\" .PP  
...\" \*LExamples\*O  
...\" .PP  
...\" .oS   
...\" dcecp> \*Lregistry set /.../my_cell/subsys/dce/sec/\*Vhostname\*C
...\" dcecp>   
...\" .oE  
.SS "registry show"  
.P  
Returns information about the registry and its replicas.   
The syntax is as follows:  
.sS  
\*Lregistry show \*O[\*Vregistry_replica_name\*O]   
.nL 
.zA "def,13377,R1.2.2,add verbose"   
.zA "Def,13377,R1.2.2,clarify syntax"  
[\*L-attributes\*O | \*L-policies\*O | \*L-master\*O | \*L-replica\*O [\*L-verbose\*O]]  
.zZ "Def,13377,R1.2.2,clarify syntax" 
.zZ "def,13377,R1.2.2,add verbose"   
.sE  
.PP  
\*LOptions\*O  
.VL  
.LI "\*L-attributes\*O"  
Returns an attribute list of the registrywide attributes.  
.LI "\*L-policies\*O"  
Returns only the registrywide polices.  
.LI "\*L-replica\*O"  
Returns the synchronization information for the specified replica.  
.LI "\*L-master\*O"  
Returns the synchronization information kept by the master keeps for each  
slave.  
.LI "\*L-verbose\*O"  
Returns the synchronization information kept by the replica.   
.LE  
.PP  
The \*Lshow\*O operation  
returns information about the registry and its replicas.  An optional  
\*Vregistry_replica_name\*O argument specifies a single registry   
replica to contact.  The operation  
returns a variety of different information based   
on the option given.  
.PP  
If called with no options or with the \%\*L-attributes\*O option, the  
operation returns an attribute list of all the registrywide attributes.  
...\" followed by any ERAs.  
.PP  
If called with the \%\*L-policies\*O option, the operation returns an  
attribute list of all the registrywide polices.  
.PP  
If called with the \%\*L-replica\*O option, the operation  
returns the propagation  
information that is kept by the replica specified.  
.PP  
.zA "def,13377,R1.2.2,add verbose" 
If called with the \%\*L-master\*O option, the operation  
returns the propagation  
information that is kept by the master for each slave.  
Use the  \%\*L-verbose\*O option to return the propagation  
information that is kept by the replica.  
If you specify this option and the optional \*Vregistry_replica_name\*O,   
\*Vregistry_replica_name\*O must specify the name of the master   
or the local cell name. 
.zZ "def,13377,R1.2.2,add verbose"  
.PP  
This operation sets the \*L_b(sec)\*O variable to the replica to which   
it binds.  
.PP  
\*LPrivileges Required\*O  
.PP  
You must have \*LA\*O (\*Ladmin\*O) permission to the \*Lreplist\*O object.  
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry show -attributes\*C  
{mingid 31000}  
{minorgid 100}  
{minuid 30000}  
{maxuid 32767}  
{version secd.dce.1.0.2} 
dcecp>  

dcecp> \*Lregistry show -policies\*C  
{deftktlife +0-10:00:00.000I-----}  
{mintktlife +0-00:05:00.000I-----}  
{hidepwd yes}  
dcecp> 

dcecp> \*Lregistry show /.../absolut_cell/subsys/dce/sec/ice -replica\*C   
{name /.../absolut_cell/subsys/dce/sec/ice}  
{type slave}  
{cell /.../absolut_cell}  
{uuid 91259b6c-9415-11cd-a7b5-080009251352}  
{status enabled}  
{lastupdtime 1994-07-05-14:38:15.000-04:00I-----}  
{lastupdseq 0.191}  
{addresses   
 {ncacn_ip_tcp 130.105.5.93}  
 {ncadg_ip_udp 130.105.5.93}}  
{masteraddrs   
 {ncacn_ip_tcp 130.105.5.93}  
 {ncadg_ip_udp 130.105.5.93}}  
{masterseqnum 0.100}  
{masteruuid 91259b6c-9415-11cd-a7b5-080009251352}  
{supportedversions secd.dce.1.0.2}  
{updseqqueue {0.187 0.191}}  
dcecp>  
dcecp> \*Lregistry show /.../dcecp.cell.osf.org/subsys/dce/sec/snow -master\*C  
{name /.../dcecp.cell.osf.org/subsys/dce/sec/snow}  
{uuid 91259b6c-9415-11cd-a7b5-080009251352}  
{type master}  
{addresses   
 {ncacn_ip_tcp 130.105.5.93}  
 {ncadg_ip_udp 130.105.5.93}}  
  
{name /.../dcecp.cell.osf.org/subsys/dce/sec/ice}  
{uuid 91259b6c-9415-11cd-a7b5-080009251352}  
{type slave}  
{addresses   
 {ncacn_ip_tcp 130.105.5.93}  
 {ncadg_ip_udp 130.105.5.93}}  
{propstatus update}  
{lastupdtime 1994-10-13-14:58:28.000-04:00I-----}  
{lastupdseqsent 0.528}  
{numupdtogo 0}  
{commstate ok}  
{lastcommstatus {successful completion}}  
dcecp> 
.oE  
.SS "registry stop"  
.PP  
Stops the specified security server process.  
The syntax is as follows:  
.sS  
\*Lregistry stop \*Vregistry_replica_name\*O  
.sE  
.PP  
The \*Lstop\*O operation stops the security server  
specified in the argument.  The \*Vregistry_replica_name\*O  
argument is required and must  
explicitly name one replica.  (A cell name is not valid because more  
than one replica can operate in a cell.) This operation returns an empty string on  
success and sets the  
\*L_b(sec)\*O variable to the replica to which it binds.    
.PP  
\*LPrivileges Required\*O  
.PP  
.zA "def,13550,R1.2.2,a perm to A perm"
You must have \*LA\*O (\*Ladmin\*O) permission to the \*Lreplist\*O object.  
.zZ "def,13550,R1.2.2,a perm to A perm"
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry stop /.:/subsys/dce/sec/snow \*C
dcecp>  
.oE  
.SS "registry synchronize"    
.PP  
Causes the specified replica to reinitialize itself with an up-to-date copy  
of the database.  The syntax is as follows:  
.sS  
\*Lregistry synchronize \*Vregistry_replica_name\*O  
.sE  
.PP  
The \*Lsynchronize\*O operation reinitializes a slave replica  
with an up-to-date copy of the database.   
\*Vregistry_replica_name\*O is the name of the   
slave replica to operate on.  
.PP  
This operation  
binds to the master and tells the master to: 
.AL 
.LI 
Mark the specified replica named in \*Vregistry_replica_name\*O  
for reinitialization.
.LI  
Send a message to the replica informing it  
to reinitialize itself. 
.LI 
Gives the replica a list of other replicas  
with up-to-date copies of the registry.   
.LE 
.PP 
The replica to be initialized then selects a replica  
from the list provided by the master and asks for a copy of the  
database.  Note that the \*Ldcecp\*O command returns before the   
synchronization is complete because it simply tells the master to perform the   
synchronize procedure.   
.PP  
Normally, you do not need to use the \*Lregistry synchronize\*O  
command because registries remain synchronized automatically.   
This operation returns an empty string on success. 
.PP  
This operation sets the \*L_b(sec)\*O variable to the master in the  
local cell.  
.PP  
\*LPrivileges Required\*O  
.zA "def,13550,R1.2.2,a perm to A perm"
.PP  
You must have \*LA\*O (\*Ladmin\*O) permission to the \*Lreplist\*O object.  
.zZ "def,13550,R1.2.2,a perm to A perm"
.PP  
\*LExamples\*O  
.PP  
.oS  
dcecp> \*Lregistry synchronize /.:/subsys/dce/sec/oddball\*C
dcecp>   
.oE  
.SS "registry verify"  
.PP  
Checks whether all registry replicas are up to date.  The syntax is as  
follows:  
.sS  
\*Lregistry verify\*O [\*Vregistry_replica_name\*O]  
.sE  
.PP  
.PP  
Checks whether all registry replicas are up to date.  If they are,   
...\" XXX it returns an empty string.  If they are not, it returns a list of   
...\" XXX the out-of-date and unreachable replica names (or bindings if names   
...\" XXX are not available).  You can use the elements of this list   
...\" XXX in a \*Lforeach\*O loop around a call to \*Lregistry synchronize\*O   
...\" XXX to reinitialize each replica.  Note that you can set the \*V_s(sec)\*O   
...\" XXX convenience variable to specify another cell or a string binding.  
it returns an empty string.    
.PP  
This operation sets the \*L_b(sec)\*O variable to the last replica to which   
it binds.  
.PP  
\*LPrivileges Required\*O  
.PP 
.zA "def,13377,R1.2.2,change perms" 
You must have \*La\*O (\*Lauth_info\*O) permission to the \*Lreplist\*O object.  
.zZ "def,13377,R1.2.2,change perms" 
.PP  
\*LExamples\*O  
.PP  
If the replicas are up to date, the command returns an empty string,  
as in the following:  
.oS  
dcecp> \*Lregistry verify \*C
dcecp>  
.oE  
.PP  
If a replica is not up to date, the command returns the fully qualified   
replica name, as in the following:  
.oS  
dcecp> \*Lregistry verify\*C  
/.../cell/subsys/dce/sec/oddball\*C 
dcecp>  
.oE  
.PP  
...\"   
.SH "RELATED INFORMATION"  
.PP  
Commands:  
.ad l  
\*Ldcecp(8dce)\*O,  
...\" \*Ldcecp_group(8dce)\*O, 
...\" \*Ldcecp_organization(8dce)\*O,  
...\" \*Ldcecp_principal(8dce)\*O,  
...\" \*Lsecd(8sec)\*O. 
...\"    
\*Lgroup(8dce)\*O,
\*Lorganization(8dce)\*O,   
\*Lprincipal(8dce)\*O,  
\*Lsecd(8sec)\*O.  
.ad b  
.zZ "def,13377,R1.2.2,literary edit"  
 

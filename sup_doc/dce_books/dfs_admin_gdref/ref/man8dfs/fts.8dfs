...\"
...\" @OSF_COPYRIGHT@
...\" COPYRIGHT NOTICE
...\" Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.
...\"  Copyright (C) 1989, 1991, 1992, 1993 Transarc Corporation
...\" ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the
...\" src directory for the full copyright text.
...\"
...\"
...\" HISTORY
...\" $Log: fts.8dfs,v $
...\" Revision 1.1.10.5  1996/05/29  17:25:05  jeff
...\" 	Another test of ODE.
...\" 	[1996/05/29  17:24:49  jeff]
...\"
...\" Revision 1.1.10.4  1996/05/24  19:32:51  wfl
...\" 	Bill test of ODE.
...\" 	[1996/05/24  19:32:38  wfl]
...\" 
...\" Revision 1.1.10.3  1996/05/23  21:09:46  jeff
...\" 	Testing ODE (third time).
...\" 	[1996/05/23  21:09:35  jeff]
...\" 
...\" Revision 1.1.10.2  1996/05/23  19:53:47  jeff
...\" 	Testing ODE (again).
...\" 	[1996/05/23  19:53:18  jeff]
...\" 
...\" Revision 1.1.10.1  1996/05/23  18:32:56  jeff
...\" 	Testing ODE.
...\" 	[1996/05/23  18:32:43  jeff]
...\" 
...\" Revision 1.1.8.13  1995/07/24  14:14:23  buckler
...\" 	1.1 edits and Prentice Hall reformat
...\" 	[1995/07/24  14:12:25  buckler]
...\" 
...\" Revision 1.1.8.12  1995/07/13  23:00:29  buckler
...\" 	no change
...\" 	[1995/07/13  22:57:50  buckler]
...\" 
...\" Revision 1.1.8.11  1994/05/27  18:52:47  jeff
...\" 	Needed to test ODE for a machine reconfiguration at Transarc.
...\" 	[1994/05/27  18:52:17  jeff]
...\" 
...\" Revision 1.1.8.10  1994/05/19  20:44:25  jeff
...\" 	Small editorial correction.
...\" 	[1994/05/19  20:43:17  jeff]
...\" 
...\" Revision 1.1.8.9  1994/04/28  20:21:31  jeff
...\" 	{defect, 10439, R1.1}
...\" 	Correct cross-references for reorganization of DFS documentation.
...\" 	[1994/04/28  20:18:37  jeff]
...\" 
...\" Revision 1.1.8.8  1994/04/23  19:58:41  jeff
...\" 	{defect, 10440, R1.1}
...\" 	Incorporate user information into admin documentation; make simple
...\" 	editorial changes as necessary.
...\" 	[1994/04/23  19:53:59  jeff]
...\" 
...\" Revision 1.1.8.7  1994/04/06  17:18:54  zahn
...\" 	{enh,5923,R1.1}
...\" 
...\" 	Remove cross-references to User Guide and Reference.
...\" 	[1994/04/06  17:18:34  zahn]
...\" 
...\" Revision 1.1.8.6  1993/10/08  15:02:39  weir
...\" 	Inserted Transarc copyright
...\" 	[1993/10/08  14:59:09  weir]
...\" 
...\" Revision 1.1.8.5  1993/09/23  14:31:21  kdu
...\" 	{def,8634,R1.0.3}
...\" 	Change anonymous to nobody.
...\" 	[1993/09/23  14:30:59  kdu]
...\" 
...\" Revision 1.1.8.4  1993/09/16  12:32:27  kdu
...\" 	{def,5778,R1.0.3}
...\" 	Short forms of machine names.
...\" 	[1993/09/16  12:32:04  kdu]
...\" 
...\" Revision 1.1.8.3  1993/08/04  18:54:37  tmw
...\" 	Added index entries for second version of master index.
...\" 	[1993/08/04  18:38:12  tmw]
...\" 
...\" Revision 1.1.8.2  1993/07/02  22:19:07  jeff
...\" 	Yet another test.
...\" 	[1993/07/02  22:18:31  jeff]
...\" 
...\" Revision 1.1.6.8  1993/02/21  01:23:25  jeff
...\" 	Fix for defect 7219, review comments.
...\" 	[1993/02/21  01:23:08  jeff]
...\" 
...\" Revision 1.1.6.7  1993/02/19  22:41:58  jeff
...\" 	Fix for defect 7219, review comments.
...\" 	[1993/02/19  22:40:48  jeff]
...\" 
...\" Revision 1.1.6.6  1993/02/05  19:58:45  jeff
...\" 	Fix for defect 7135, change key file to keytab file.
...\" 	[1993/02/05  19:58:17  jeff]
...\" 
...\" Revision 1.1.6.5  1993/01/28  02:14:52  dbelch
...\" 	Embedding copyright notice
...\" 	[1993/01/28  00:50:39  dbelch]
...\" 
...\" Revision 1.1.6.4  1992/11/25  21:53:12  jeff
...\" 	Fix for defect 6019, correct -noauth option with bos and fts
...\" 	commands.
...\" 	[1992/11/25  21:52:31  jeff]
...\" 
...\" Revision 1.1.6.3  1992/11/12  23:53:20  jeff
...\" 	Fix for defect 5120, correct description of -localauth option.
...\" 	[1992/11/12  23:51:58  jeff]
...\" 
...\" Revision 1.1.6.2  1992/09/10  15:30:13  weir
...\" 	Removed change bar macros; moved into 1.0.2doc tree
...\" 	[1992/09/10  14:17:51  weir]
...\" 
...\" Revision 1.1.4.2  1992/09/08  19:03:45  casey
...\" 	Prentice Hall production
...\" 	[1992/09/08  16:55:12  casey]
...\" 
...\" Revision 1.1.2.8  1992/06/09  21:27:27  jeff
...\" 	Included IBM review comments.
...\" 	[1992/06/09  02:28:39  jeff]
...\" 
...\" Revision 1.1.2.7  1992/06/07  02:21:25  jeff
...\" 	Tweaked the description of the DCE pathname used to
...\" 	specify a machine name.
...\" 	[1992/06/07  01:41:00  jeff]
...\" 
...\" 	Clarified the description of the DCE pathname used to
...\" 	specify a server machine.
...\" 	[1992/06/06  23:21:30  jeff]
...\" 
...\" Revision 1.1.2.6  1992/05/07  15:25:51  jeff
...\" 	Changed "of" to "or" to fix a small typo.
...\" 	[1992/05/01  21:28:27  jeff]
...\" 
...\" Revision 1.1.2.5  1992/05/01  18:38:37  jeff
...\" 	Edited to clearly reflect which commands work only with DCE LFS
...\" 	filesets.  Now includes an introductory section citing the
...\" 	differences between DCE LFS and nonLFS filesets and listing
...\" 	the commands that work only with DCE LFS filesets.  Also, now
...\" 	clearly states which text in the reference page applies only to DCE
...\" 	LFS filesets.
...\" 	[1992/05/01  16:47:57  jeff]
...\" 
...\" Revision 1.1.2.4  1992/04/29  19:27:35  jeff
...\" 	Modified syntax and description of -noauth and -localauth options.
...\" 	Also fixed formatting problems with italicized text and changed
...\" 	lists of commands under Related Information to be inline.
...\" 	[1992/04/28  18:16:47  jeff]
...\" 
...\" Revision 1.1.2.3  1992/04/10  17:26:50  jeff
...\" 	Made some additional editorial changes (capitalization).
...\" 	[1992/04/10  15:32:45  jeff]
...\" 
...\" Revision 1.1.2.2  1992/04/10  11:32:54  jeff
...\" 	Fixed incorrect formatting of italicized strings.
...\" 	[1992/04/09  19:41:39  jeff]
...\" 
...\" 	Included reference to the new fts delserverentry command in the list
...\" 	of fts commands.
...\" 	[1992/04/09  19:35:50  jeff]
...\" 
...\" Revision 1.1  1992/01/29  15:54:12  damon
...\" 	Initial revision
...\" 
...\" $EndLog$
...\"
...\" (c) Copyright 1991, Open Software Foundation, Inc.  ALL RIGHTS RESERVED
.TH "fts" "8dfs" "" "" ""
...\"DOCUMENTSTYLE [12pt]{book}
.iX "-[" "\*Lfts\*O command suite" "summary and syntax"
.SH "NAME"
\*Lfts\*O \- Introduction to the \*Lfts\*O command suite
.SH "OPTIONS"
The following options are used with many \*Lfts\*O commands.
They are also listed with the commands that use them.
.VL
.LI "\*L\-fileset\*O {\*Vname\*O | \*VID\*O}"
Specifies the fileset to use with the command.  You can specify either a
fileset name or a fileset ID.
.LI "\*L\-server\*O \*Vmachine\*O"
Specifies the File Server machine to use with the command.  This
option is typically used to provide the name of the File Server machine on
which the fileset or filesets to use with the command reside.  You can
use any of the following to specify the File Server machine:
.ad l
.ML
.LI
The machine's DCE pathname (for example, \*L/.../abc.com/hosts/fs1\*O)
.LI
The machine's host name (for example, \*Lfs1.abc.com\*O or \*Lfs1\*O)
.LI
The machine's IP address (for example, \*L11.22.33.44\*O)
.LE
.ad b
.LI "\*L\-aggregate\*O \*Vname\*O"
Specifies the device name, aggregate name, or aggregate ID of the aggregate
or partition to use with the command.  These identifiers are specified in the
first, second, and fourth fields of the entry for the aggregate or partition
in the \*Edcelocal\*L/var/dfs/dfstab\*O file.
.LI "\*L\-cell\*O \*Vcellname\*O"
Specifies that the command is to be run with respect to the cell named by the
\*Ecellname\*O argument.  By default, commands are executed in the local cell
of the issuer of the command.
.LI "\*L\-noauth\*O"
Directs the \*Lfts\*O program to use the unprivileged identity \*Lnobody\*O
as the identity of the issuer of the command.  Generally, the \*L\-noauth\*O
option is included with a command if DFS authorization checking is disabled
on a server machine on which administrative privilege is required or if the
Security Service is unavailable.  
.PP
.ne 10
If DFS authorization checking is disabled,
DFS processes require no administrative privilege to issue any command; any
user, even the identity \*Lnobody\*O, has sufficient privilege to perform
any operation.  If the Security Service is unavailable, a user's security
credentials cannot be obtained.
.PP
DFS authorization checking is disabled with the \*Lbos setauth\*O command or
by including the \*L\-noauth\*O option when the \*Lbosserver\*O process is
started on a machine.  DFS authorization checking is typically disabled
.ad l
.ML
.LI
During initial DFS installation
.LI
If the Security Service is unavailable
.LI
During server encryption key emergencies
.LI
To view the actual keys stored in a keytab file
.LE
.ad b
.PP
Include the \*L\-noauth\*O option with a command that requires administrative
privilege only if DFS authorization checking is disabled on the necessary
machines.  A command that requires administrative privilege fails if the
\*L\-noauth\*O option is included and DFS authorization checking is not
disabled.  If you use this option, do not use the \*L\-localauth\*O option.
.LI "\*L\-localauth\*O"
Directs \*Lfts\*O to use the DFS server principal of the machine on which the
command is issued as the identity of the issuer.  Each DFS server machine has a
DFS server principal stored in the Registry Database.  A DFS server principal
is a unique, fully qualified principal name that ends with the string
\*Ldfs-server\*O; for example, \*L/.../abc.com/hosts/fs1/dfs-server\*O. (Do
not confuse a machine's DFS server principal with its unique \*Lself\*O
identity.)
.PP
Use this option only if the command is issued from a DFS server machine.  You
must be logged into the server machine as \*Lroot\*O for this option to work.
If you use this option, do not use the \*L\-noauth\*O option.
.LI "\*L\-verbose\*O"
Directs the \*Lfts\*O program to provide detailed information about its
actions as it executes the command.  This is useful mainly for debugging or
trace purposes.  The amount of additional information displayed when the
\*L\-verbose\*O option is specified varies for different commands.
.nL
.ne 10
.LI "\*L\-help\*O"
Prints the online help for the command.  All other valid options specified with
this option are ignored.  For complete details about receiving help, see the
\*Ldfs_intro(8dfs)\*O reference page.
.LE
.SH "DESCRIPTION"
Most commands in the \*Lfts\*O command suite are administrative-level commands
used only by system administrators to contact the Fileset Server and the
Fileset Location Server (FL Server). (The primary exception is the \*Lfts
lsquota\*O command, which is also issued by users to determine the quota of
filesets with which they work.) Commands in the \*Lfts\*O suite are used to
instruct the Fileset Server to create and delete filesets, as well as to move,
replicate, and back up filesets.  The FL Server automatically records in the
Fileset Location Database (FLDB) any changes in fileset status and fileset
location resulting from \*Lfts\*O commands.
.PP
If the execution of an \*Lfts\*O command is interrupted by a server or a
process failure, subsequent execution of the command continues at the
interruption point rather than at the beginning of the operation.  Therefore,
before executing a command, the Fileset Server and the FL Server verify that
running the command has an effect.  If the desired end-state already exists,
the command is not executed; if the end-state does not yet exist, the command
continues as necessary to achieve it.
.PP
If the issuer explicitly interrupts a fileset operation with an interrupt
signal, the fileset is locked.  The issuer must unlock it with the \*Lfts
unlock\*O command before proceeding.
.SS "DCE Local File System"
.PP
The DCE Local File System (DCE LFS) is a high-performance, log-based file
system.  It supports the use of DCE LFS \*Eaggregates\*O, which are physically
equivalent to standard UNIX disk partitions but also contain a specialized log
of \*Emetadata\*O about the structure and location of information they house.
.PP
DCE LFS aggregates, in turn, support the use of DCE LFS filesets.  DCE LFS
filesets are hierarchical groupings of files managed as a single unit.  They
can vary in size but are almost always smaller than a disk partition.  As a
result, multiple DCE LFS filesets can be stored on a single aggregate.  Non-LFS
filesets occupy the entire partition on which they reside.
.PP
Because of the differences between DCE LFS and non-LFS filesets, the following
\*Lfts\*O commands function only with DCE LFS filesets.  Refer to the
appropriate command reference pages for more information about the
functionality provided by these commands.
.ad l
.ML
.LI
\*Lfts addsite(8dfs)\*O
.LI 
\*Lfts clone(8dfs)\*O
.LI 
\*Lfts clonesys(8dfs)\*O
.LI 
\*Lfts create(8dfs)\*O
.LI 
\*Lfts delete(8dfs)\*O
.LI 
\*Lfts lsreplicas(8dfs)\*O
.LI 
\*Lfts move(8dfs)\*O
.LI 
\*Lfts release(8dfs)\*O
.LI 
\*Lfts rmsite(8dfs)\*O
.LI 
\*Lfts setquota(8dfs)\*O
.LI 
\*Lfts setrepinfo(8dfs)\*O
.LI 
\*Lfts statrepserver(8dfs)\*O
.LI 
\*Lfts update(8dfs)\*O
.LI
\*Lfts zap(8dfs)\*O
.LE
.ad b
.SS "Fileset Location Database Information"
.PP
The Fileset Location Database (FLDB) is maintained by the Fileset Location
Server (FL Server).  A master copy of the FLDB is stored on one Fileset Database
machine, with copies synchronized on other Fileset Database machines via the
Ubik library of facilities.  It is essential that the information in the FLDB
correspond to the status of the filesets on the File Server machines.
Therefore, any \*Lfts\*O command that affects fileset status also changes the
corresponding FLDB entry automatically.  If an \*Lfts\*O operation is
interrupted before completion, information in the FLDB can differ from
information on a File Server machine.  In these cases, the \*Lfts syncfldb\*O
and \*Lfts syncserv\*O commands must be used to align the information.
.PP
There is an entry in the FLDB for each read/write DCE LFS and non-LFS fileset.
Each entry for a DCE LFS fileset also records information about the read-only
and backup versions of the fileset because these versions do not have their
own entries.  The information in an FLDB entry includes the fileset's name and
fileset ID number, the ID numbers of its read-only and backup versions (if it
is a DCE LFS fileset), site definitions, site counts, and status flags.
Complete details about the FLDB are included in Part 1 of this manual.
.nL
.ne 2.5i
.SS "Fileset Header Information"
.PP
.iX "fileset headers" "about"
A separate fileset header is stored at the site of each copy of a DCE LFS
fileset, regardless of its type (read/write, read-only, or backup).  The data
structure of the fileset header records the physical memory addresses of the
files in the fileset on the partition on which the fileset is stored.  The
fileset header binds all the files into a logical unit without requiring that
they be stored in contiguous memory blocks.
.PP
The header of a DCE LFS fileset includes the following information: the
fileset's name; its fileset ID number; its type (read/write, read-only, or
backup); its size; the ID numbers of its parent, clone, and backup versions;
its creation date; and the date of its last modification.
.SS "Cautions"
.PP
Specific cautionary information is included with individual commands.
.SS "Receiving Help"
.PP
There are several different ways to receive help about DFS commands.  The
following examples summarize the syntax for the different help options:
.VL
.LI "\*C$\*O \*Lman fts\*O"
Displays the reference page for the command suite.
.LI "\*C$\*O \*Lman fts_\*Vcommand\*O"
Displays the reference page for an individual command.  You must use an _
(underscore) to connect the command suite to the command name. \*EDo not use
the underscore when issuing the command in DFS.\*O
.LI "\*C$\*O \*Lfts help\*O"
Displays a list of commands in a command suite.
.LI "\*C$\*O \*Lfts help \*Vcommand\*O"
Displays the syntax for a single command.
.LI "\*C$\*O \*Lfts apropos -topic \*Vstring\*O"
Displays a short description of any commands that match the specified
\*Vstring\*O.
.LE
.PP
Consult the \*Ldfs_intro(8dfs)\*O reference page for complete information
about the DFS help facilities.
.SS "Privilege Required"
.PP
Most \*Lfts\*O commands can be issued by users included in either the
\*Ladmin.ft\*O file or the \*Ladmin.fl\*O file.  Some commands require that
the issuer be included on both lists; some commands also require that the
user have certain permissions for a file or directory.  Specific privilege
information is listed with each command's description.
.nL
.ne 2.5i
.SH "RELATED INFORMATION"
.ad l
Commands:
\*Ldfs_intro(8dfs)\*O,
\*Lfts\ addsite(8dfs)\*O,
\*Lfts\ aggrinfo(8dfs)\*O,
\*Lfts\ apropos(8dfs)\*O,
\*Lfts\ clone(8dfs)\*O,
\*Lfts\ clonesys(8dfs)\*O,
\*Lfts\ create(8dfs)\*O,
\*Lfts\ crfldbentry(8dfs)\*O,
\*Lfts\ crmount(8dfs)\*O,
\*Lfts\ crserverentry(8dfs)\*O,
\*Lfts\ delete(8dfs)\*O,
\*Lfts\ delfldbentry(8dfs)\*O,
\*Lfts\ delmount(8dfs)\*O,
\*Lfts\ delserverentry(8dfs)\*O,
\*Lfts\ dump(8dfs)\*O,
\*Lfts\ edserverentry(8dfs)\*O,
\*Lfts\ help(8dfs)\*O,
\*Lfts\ lock(8dfs)\*O,
\*Lfts\ lsaggr(8dfs)\*O,
\*Lfts\ lsfldb(8dfs)\*O,
\*Lfts\ lsft(8dfs)\*O,
\*Lfts\ lsheader(8dfs)\*O,
\*Lfts\ lsmount(8dfs)\*O,
\*Lfts\ lsquota(8dfs)\*O,
\*Lfts\ lsreplicas(8dfs)\*O,
\*Lfts\ lsserverentry(8dfs)\*O,
\*Lfts\ move(8dfs)\*O,
\*Lfts\ release(8dfs)\*O,
\*Lfts\ rename(8dfs)\*O,
\*Lfts\ restore(8dfs)\*O,
\*Lfts\ rmsite(8dfs)\*O,
\*Lfts\ setquota(8dfs)\*O,
\*Lfts\ setrepinfo(8dfs)\*O,
\*Lfts\ statftserver(8dfs)\*O,
\*Lfts\ statrepserver(8dfs)\*O,
\*Lfts\ syncfldb(8dfs)\*O,
\*Lfts\ syncserv(8dfs)\*O,
\*Lfts\ unlock(8dfs)\*O,
\*Lfts\ unlockfldb(8dfs)\*O,
\*Lfts\ update(8dfs)\*O,
\*Lfts\ zap(8dfs)\*O.
.ad b
.PP
.ad l
Files:
\*Ladmin.fl(4dfs)\*O,
\*Ladmin.ft(4dfs)\*O,
\*Ldfstab(4dfs).
.ad b
.PP
.iX "-]" "\*Lfts\*O command suite" "summary and syntax"

%!
% This file is a NONconforming PostScript file.
(TeXPS: dvi->PostScript Driver dvitps, Version 2.19 of June 23, 1989\n)print flush
% Copyright 1989 Stephan v. Bechtolsheim (unless otherwise stated)
% applies to various prologue files. Read documentation for details.
save
% dvitps: BEGIN including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/texpre.pro"
/@bop0
{
/Pagenum exch def
Pagenum
PsPrintEnabled { (Pass0: Page ) print == flush } {pop} ifelse
}	def
/@eop0 {
pop
}	def
/@bop1
{
PsPrintEnabled { (Pass1: Page ) print == flush } {pop} ifelse
save
DviTranslateVector-X DviTranslateVector-Y translate
DviOrientationMatrix concat
Page-H-Offset Page-V-Offset translate
3 1 roll
translate
0 0 moveto
Draft-Flag { @Draft } if
/DriverDelta 0 def
} def
/@eop1 {
pop
showpage
restore
} def
/@end {
(Done!\n) print flush
} def
/@ReportVmStatus {
(\n@ReportVmStatus: ) print
print (: ) print
vmstatus
(max: ) print 20 string cvs print
(, used: ) print 20 string cvs print
(, level: ) print 20 string cvs print
(\n) print flush
} def
/@ReportVmStatusNew {
(VM: ) print
exch print
(, printer: ) print
/Vmfree vmstatus pop exch pop def Vmfree (       ) cvs print
(, driver: ) print dup (      ) cvs print
(, delta: ) print
Vmfree sub (      ) cvs print
(\n) print flush
} def
/@Draft {
gsave
Page-H-Offset neg Page-V-Offset neg translate
-45 rotate
-150 0 moveto
/Helvetica-Bold findfont
[120.0 0 0 -120.0 0 0 ] makefont setfont
(DRAFT) show
grestore
gsave
Page-H-Offset neg Page-V-Offset neg translate
300 -100 moveto
/Helvetica-Bold findfont
[60.0 0 0   -60.0 0 0 ] makefont setfont
Date-and-Time		show
(   ::   )	      	show
Dvi-File-Name		show
grestore
} def

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%     the \special command junk
%
%   The structure of the PostScript produced by dvi2ps for \special
%   is: 
%
%         @beginspecial
%           - any random stuff
%         @endspecial
%
%   This file also has the stuff from Paul Koning to implement the
%   LN03 \special commands.
%
%   CAVEAT: To make this work, the @beginspecial and @endspecial
%   commands must be no-ops. 
%
 
 
/@beginspecial          % - @beginspecial -     -- enter special mode
  {
  } def
 
/@endspecial            % - @endspecial -       -- leave special mode
  {
  } def
 
 
 
%
%
%  The Commands to do something with LN03 \specials
%
%
 
/Resolution 300 def		% internal units are pixels (300/inch)
/Inch {Resolution mul} def	% converts inches to internal units
 
/ln03$defs 10 dict def
ln03$defs begin
/points 256 array def
0 1 255 { points exch [ 0 0 ] put } for
/linebuf 100 string def
 
% string -- postfix
% defines /varnum in current dictionary
/getvarnum
{ token not {stop} if			% get token, quit if none left
  exec /varnum exch def			% execute it, save result
} def
 
% string -- postfix
% defines /varnum in current dictionary.
% if input is of the form num/num2, uses num if Pagenum is odd, num2 if
% it is even
/get2varnum
{ { ( ) anchorsearch
    { pop pop }
    {exit} ifelse } loop		% eliminate leading spaces
  ( ) search { exch pop } { () exch } ifelse  % look for terminating space
					% stack is now: -- postfix token
  (/) search				% num1/num2 form?
  { Pagenum 1 and 0 eq			% even page number?
    { pop pop }				% yes, use second entry
    { exch pop exch pop }		% use first number
    ifelse
  } if					% now we have just the number wanted
  cvi /varnum exch def			% convert and save it
} def
 
% string default -- result
/getdimension
{ exch dup length 1 sub 0 1 3 -1 roll	% get length, prepare to scan string
  { pop dup 0 1 getinterval		% get first char
    ( ) eq				% is it a space?
    { dup length 1 sub 1 exch getinterval % yes, drop first char
    } { exit } ifelse
  } for
  dup length 0 eq			% nothing but spaces?
  { pop }				% yes, exit with default
  { exch pop				% no, get rid of default
    dup dup length 2 sub 2 getinterval	% get last two characters
    1					% default multiplier is 1
    [[1 Inch 72 div (pt)]		% point
     [1 Inch (in)]			% inch
     [1 Inch 6 div (pc)]		% pica
     [1 Inch 2.54 div (cm)]		% centimeter
     [1 Inch 25.4 div (mm)]]		% milimeter
    { aload pop				% get multiplier and string
      3 index eq			% compare with suffix
      { exch pop exit }			% match, use this multiplier
      { pop }				% no match, pop unused multiplier
      ifelse
    } forall
    exch pop				% get rid of suffix
    exch dup length 2 sub 0 exch getinterval % get all but last 2 chars
    cvr mul				% convert to a number, and form result
  } ifelse
} def
end
 
/ln03:defpoint
{ ln03$defs begin
  { currentfile linebuf readline
    not {stop} if			% quit if premature eof
    getvarnum				% get variable number
    (\() search				% look for (
    not {stop} if			% quit if missing
    pop pop				% keep only string to its right
    (,) search				% find separator
    not {stop} if			% quit if missing
    currentpoint pop			% default is current x
    getdimension /x exch def		% process it and save result
    pop					% pop the comma
    (\)) search				% search for )
    not {stop} if			% quit if missing
    currentpoint exch pop		% default is current y
    getdimension [ x 3 -1 roll ]	% form [x y] pair
    points varnum 3 -1 roll put		% update the variable
    pop pop				% pop two results from search
  } stopped
  { (?Error in \\special ln03:defpoint) print pstack flush stop
  } if
  end
} def
 
/ln03:connect
{ ln03$defs begin
  { currentfile linebuf readline
    not {stop} if			% quit if premature eof
    get2varnum				% get one of two variable numbers
    /firstvarnum varnum def		% save that one
    get2varnum				% get another variable number
    2 getdimension			% get dimension, default to 2
    gsave				% save current graphics state
    setlinewidth newpath		% initialize the line
    points firstvarnum get		% get first variable
    aload pop moveto			% get (x,y) pair, move there
    points varnum get			% get second variable
    aload pop lineto			% add a line to there
    stroke grestore			% ... and that's all
  } stopped
  { (?Error in \\special ln03:connect) print pstack flush stop
  } if
  end
} def
 
/ln03:resetpoints
{ ln03$defs begin
  { currentfile linebuf readline
    not {stop} if			% quit if premature eof
    /firstvarnum 1 def			% default to 1-n rather than n-m
    getvarnum				% get variable number
    dup token				% is there anything else?
    { pop pop /firstvarnum varnum def	% yes, save first number
      getvarnum				% get another variable number
    }
    { pop }				% no, toss copy of string
    ifelse
    firstvarnum 1 varnum { points exch [ 0 0 ] put } for
  } stopped
  { (?Error in \\special ln03:resetpoints) print pstack flush stop
  } if
  pop
  end
} def
% dvitps: END including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/texpre.pro"
% dvitps: BEGIN including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/pos.pro"
/a { rmoveto } def
/DriverDelta 0 def
/b { exch p dup /DriverDelta exch def 0 rmoveto } def
/c { p DriverDelta 4 sub dup /DriverDelta exch def 0 rmoveto } def
/d { p DriverDelta 3 sub dup /DriverDelta exch def 0 rmoveto } def
/e { p DriverDelta 2 sub dup /DriverDelta exch def 0 rmoveto } def
/f { p DriverDelta 1 sub dup /DriverDelta exch def 0 rmoveto } def
/g { p DriverDelta 0 rmoveto } def
/h { p DriverDelta 1 add dup /DriverDelta exch def 0 rmoveto } def
/i { p DriverDelta 2 add dup /DriverDelta exch def 0 rmoveto } def
/j { p DriverDelta 3 add dup /DriverDelta exch def 0 rmoveto } def
/k { p DriverDelta 4 add dup /DriverDelta exch def 0 rmoveto } def
/l { p -4 0 rmoveto } def
/m { p -3 0 rmoveto } def
/n { p -2 0 rmoveto } def
/o { p -1 0 rmoveto } def
/q { p 1 0 rmoveto } def
/r { p 2 0 rmoveto } def
/s { p 3 0 rmoveto } def
/t { p 4 0 rmoveto } def
/p { show } def
/w { 0 exch rmoveto } def
/x { 0 rmoveto } def
/y { 3 -1 roll p rmoveto } def
/u-string ( ) def
/u { u-string exch 0 exch put
u-string show
} def
/v { u-string exch 0 exch put
currentpoint
u-string show
moveto
} def
% dvitps: END including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/pos.pro"
% dvitps: BEGIN including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/rules.pro"
/z
{   /dy exch def
/dx exch def
currentpoint
currentpoint
transform round exch round exch itransform
newpath
moveto
dx 0 rlineto
0 dy rlineto
dx neg 0 rlineto
closepath
fill
moveto
}
def
/z
{   /dy exch def
/dx exch def
currentpoint
0.2 0.2 rmoveto
currentpoint
newpath
moveto
dx 0 rlineto
0 dy rlineto
dx neg 0 rlineto
closepath
fill
moveto
}
def
% dvitps: END including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/rules.pro"
/Dvi-File-Name (logbuf-dspec.dvi) def
(Dvi file name: ") print Dvi-File-Name print (".\n) print
/Draft-Flag false def
/#copies 1 def
/NumCharsInPixelFonts 256 def
/HostName (feanor) def
(This PostScript file was produced on host \") print HostName print (\".\n) print
/PsPrintEnabled true def
/Page-H-Offset   0.000000 def
/Page-V-Offset   0.000000 def
/ExecPsConv {0.30 mul} def
/Date-and-Time (Tue Mar  2 14:04 1993) def
/DviTranslateVector-X   72.000 def
/DviTranslateVector-Y  720.000 def
/DviOrientationMatrix [    0.240    0.000    0.000
	   -0.240 0.0 0.0 ] def
% dvitps: BEGIN including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/pixel-fonts.pro"
/@newfont
{
/newname exch def
newname 7 dict def
newname load begin
/FontType 3 def
/FontMatrix [1 0 0 -1 0 0] def
/FontBBox [0 0 1 1] def
/BitMaps NumCharsInPixelFonts array def
/BuildChar {CharBuilder} def
/Encoding NumCharsInPixelFonts array def
0 1 NumCharsInPixelFonts 1 sub {Encoding exch /.undef put} for
end
newname newname load definefont pop
} def
/ch-image {ch-data 0 get} def
/ch-width {ch-data 1 get} def
/ch-height {ch-data 2 get} def
/ch-xoff  {ch-data 3 get} def
/ch-yoff  {ch-data 4 get} def
/ch-tfmw  {ch-data 5 get} def
/CharBuilder
{
/ch-code exch def
/font-dict exch def
/ch-data font-dict /BitMaps get ch-code get def
ch-data null eq not
{
ch-tfmw   0
ch-xoff neg
ch-height ch-yoff sub neg
ch-width  ch-xoff neg add
ch-yoff
setcachedevice
0 0 transform round exch round exch itransform translate
ch-width ch-height true
[1 0  0 1 ch-xoff ch-height ch-yoff sub] {ch-image} imagemask
}
if
} def
/@dc
{
/ch-code exch def
/ch-data exch def
currentfont /BitMaps get
ch-code ch-data put
currentfont /Encoding get
ch-code (   ) cvs   % convert the character code to a string
cvn
ch-code exch put
} def
/@sf /setfont load def
% dvitps: END including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/pixel-fonts.pro"

1 @bop0
/@F5 @newfont
@F5 @sf
[<
FFFFFFFFF00000FFFFFFFFFF0000FFFFFFFFFFE00000FFC0007FF00000FFC0000FFC0000FF
C00003FE0000FFC00001FF0000FFC00000FF8000FFC000007FC000FFC000003FE000FFC000
003FE000FFC000001FF000FFC000001FF800FFC000001FF800FFC000000FF800FFC000000F
FC00FFC000000FFC00FFC000000FFC00FFC000000FFC00FFC000000FFE00FFC000000FFE00
FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC0
00000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFC00FFC00000
0FFC00FFC000000FFC00FFC000000FFC00FFC000000FF800FFC000001FF800FFC000001FF0
00FFC000001FF000FFC000003FE000FFC000003FE000FFC000007FC000FFC00000FF8000FF
C00001FF0000FFC00007FE0000FFC0000FFC0000FFC000FFF000FFFFFFFFFFC000FFFFFFFF
FF0000FFFFFFFFF00000>
	 55 49 -2 48 63] 68 @dc
[<
000003FF80000000003FFFF800000001FFFFFE00000007FF003F8000001FF80003E000003F
E00000F00000FF800000780001FF0000003C0003FE0000001E0007FC0000000E0007FC0000
0007000FF800000007001FF800000007801FF000000003803FF000000003803FF000000003
807FF000000003807FE000000000007FE000000000007FE00000000000FFE00000000000FF
E00000000000FFE00000000000FFE00000000000FFE00000000000FFE00000000000FFE000
00000000FFE00000000000FFE000000000007FE000000000007FE000000000007FE0000000
07807FF000000007803FF000000007803FF000000007801FF00000000F801FF80000000F80
0FF80000001F8007FC0000001F8007FC0000003F8003FE0000003F8001FF0000007F8000FF
800000FF80003FE00003FF80001FF8000FBF800007FF007F1F800001FFFFFC0F8000003FFF
F00380000003FF800180>
	 49 49 -5 48 60] 67 @dc
[<
FFFFFFFFFFFC00FFFFFFFFFFFC00FFFFFFFFFFFC0000FFC0001FFE0000FFC00003FE0000FF
C00000FE0000FFC000007E0000FFC000003E0000FFC000001E0000FFC000001E0000FFC000
000F0000FFC000000F0000FFC00000070000FFC00000070000FFC00000070000FFC0000007
0000FFC00700038000FFC00700038000FFC00700038000FFC00700000000FFC00700000000
FFC00F00000000FFC01F00000000FFC03F00000000FFFFFF00000000FFFFFF00000000FFFF
FF00000000FFC03F00000000FFC01F00000000FFC00F00000000FFC00700000000FFC00700
000000FFC007001C0000FFC007001C0000FFC007001C0000FFC000001C0000FFC000003800
00FFC00000380000FFC00000380000FFC00000780000FFC00000780000FFC00000F80000FF
C00000F80000FFC00003F80000FFC00007F80000FFC0003FF000FFFFFFFFFFF000FFFFFFFF
FFF000FFFFFFFFFFF000>
	 49 49 -2 48 54] 69 @dc
[<
FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC000FFC003FFC000FFC0007FC000FFC0001FE000
FFC0000FE000FFC00007E000FFC00003E000FFC00003E000FFC00001E000FFC00001E000FF
C00000E000FFC00000E000FFC00000F000FFC00000F000FFC000007000FFC000007000FFC0
00007000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000
000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC00000
0000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC0000000
00FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC0000000FFFFFFF00000FFFFFFF00000FFFFFFF00000>
	 44 49 -2 48 50] 76 @dc
[<
FFFFFFF00000FFFFFFF00000FFFFFFF0000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FF
C000000000FFC000000000FFC000000000FFC007000000FFC007000000FFC007000000FFC0
07000000FFC007000000FFC00F000000FFC01F000000FFC03F000000FFFFFF000000FFFFFF
000000FFFFFF000000FFC03F000000FFC01F000000FFC00F000000FFC007000000FFC00700
0000FFC007000000FFC007001C00FFC007001C00FFC000001C00FFC000001C00FFC0000038
00FFC000003800FFC000003800FFC000007800FFC000007800FFC00000F800FFC00000F800
FFC00003F800FFC00007F800FFC0003FF0FFFFFFFFFFF0FFFFFFFFFFF0FFFFFFFFFFF0>
	 46 49 -2 48 52] 70 @dc
[<
C007FF0000E03FFFE000F1FFFFF800FFFC01FC00FFC0007E00FF00003F00FC00001F80F800
001F80F000000FC0F000000FC0E000000FC0E000000FE0E000000FE0E000000FE06000001F
E00000001FE00000003FE00000003FE0000000FFE0000007FFC00000FFFFC0001FFFFF8000
7FFFFF8001FFFFFF0003FFFFFE000FFFFFFC001FFFFFF8001FFFFFF0003FFFFFC0007FFFFE
00007FFFE000007FFC000000FFE0000000FF80000000FF00000380FF00000380FE00000380
FE00000780FE000007807E000007807E00000F803E00000F803F00001F801F00007F800F80
01FF8007F00FFF8003FFFFC78000FFFF0380001FF00180>
	 35 49 -5 48 46] 83 @dc
[<
FFFFFFFFFE0000FFFFFFFFFFC000FFFFFFFFFFF00000FF80003FFC0000FF80000FFE0000FF
800007FF0000FF800003FF8000FF800001FF8000FF800001FFC000FF800000FFC000FF8000
00FFE000FF800000FFE000FF800000FFE000FF800000FFE000FF800000FFE000FF800000FF
E000FF800000FFE000FF800000FFC000FF800000FFC000FF800001FF8000FF800001FF0000
FF800003FF0000FF800007FC0000FF80001FF80000FFFFFFFFE00000FFFFFFFF000000FFFF
FFFF800000FF8000FFE00000FF80001FF80000FF80000FFC0000FF800007FE0000FF800007
FF0000FF800003FF0000FF800003FF0000FF800001FF8000FF800001FF8000FF800001FF80
00FF800001FF8000FF800001FF8000FF800001FF8000FF800003FF0000FF800003FF0000FF
800007FE0000FF800007FC0000FF80000FF80000FF80003FF000FFFFFFFFFFE000FFFFFFFF
FF0000FFFFFFFFF80000>
	 51 49 -2 48 59] 66 @dc
[<
000FFC0FFF80007FFF0FFF8000FFFF8FFF8001FE03CFF80003F8006FF00003F8003FF00007
F8001FF00007F8001FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8
000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F800
0FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000F
F00007F8000FF00007F8000FF0000FF8001FF000FFF801FFF000FFF801FFF000FFF801FFF0
0001F80003F000>
	 41 32 -3 31 46] 117 @dc
[<
7FFFE1FFFFC0007FFFE1FFFFC0007FFFE1FFFFC00003FC000FF0000003FC000FF0000003FC
000FF0000003FC000FF0000003FC000FF0000003FC000FF0000003FC000FF0000003FC000F
F0000003FC000FF0000003FC000FF0000003FC000FF0000003FC000FF0000003FC000FF000
0003FC000FF0000003FC000FF0000003FC000FF0000003FC000FF0000003FC000FF0000003
FC000FF0000003FC000FF0000003FC000FF0000003FC000FF0000003FC000FF0000003FC00
0FF0000003FC000FF0000003FC000FF00000FFFFFFFFFFF000FFFFFFFFFFF000FFFFFFFFFF
F00003FC000FF0000003FC000FF0000003FC000FF0000003FC000FF0000003FC000FF00000
03FC000FF0000003FC000FF0000003FC000FF0038003FC001FF007C003FC003FF00FE001FE
003FF01FF001FE003FF81FF000FF003FF81FF0007F801FFC1FF0001FF00FFF0FE0000FFFFF
7FFFC00001FFFE1FFF8000001FF801FE00>
	 52 50 -1 49 48] 11 @dc
[<
0003FF0000003FFFE00000FFFFF80003FE00FC0007F8001E000FF0000F001FE00007801FC0
0003803FC00003803FC00000007F800000007F80000000FF80000000FF80000000FF800000
00FFFFFFFF80FFFFFFFF80FFFFFFFF80FF80003F80FF80003F807F80003F807F80003F007F
C0003F003FC0003F003FC0007E001FE0007E000FE000FC0007F801F80003FC07F00000FFFF
E000003FFF80000007FC0000>
	 33 32 -2 31 38] 101 @dc
[<
FFFFE000FFFFE000FFFFE00007F8000007F8000007F8000007F8000007F8000007F8000007
F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8
000007F8000007F8000007FC008007FC03E007FC07F007FE0FF807F60FF807F70FF80FF38F
F8FFF3C7F0FFF1FFE0FFF07FC003F03F00>
	 29 32 -2 31 34] 114 @dc
[<
70000000F8000000F8000000FC0000007C0000007C0000007E0000003E0000003E0000003F
0000001F0000001F8000000F8000000F8000000FC0000007C0000007C0000007E0000003E0
000003F0000001F0000001F0000001F8000000F8000000F8000000FC0000007C0000007E00
00003E0000003E0000003F0000001F0000001F0000001F8000000F8000000F8000000FC000
0007C0000007E0000003E0000003E0000003F0000001F0000001F0000001F8000000F80000
00FC0000007C0000007C0000007E0000003E0000003E0000003F0000001F0000001F800000
0F8000000F8000000FC0000007C0000007C0000007E0000003E0000003F0000001F0000001
F0000001F8000000F8000000F8000000FC0000007C0000007C00000038>
	 30 72 -5 53 41] 47 @dc
[<
0007FE0000003FFFC00001FFFFF80003FE07FC0007F801FE000FE0007F001FE0007F803FC0
003FC03FC0003FC07F80001FE07F80001FE07F80001FE0FF80001FF0FF80001FF0FF80001F
F0FF80001FF0FF80001FF0FF80001FF0FF80001FF0FF80001FF07F80001FE07F80001FE07F
80001FE03FC0003FC03FC0003FC01FC0003F800FE0007F0007F000FE0003FC03FC0000FFFF
F000003FFFC0000007FE0000>
	 36 32 -2 31 41] 111 @dc
[<
001FFF800000FFFFF00007FFFFFE000FF801FF001FC0003F803F00000FC07E000007E0FC00
0003F0FC000003F0FC000003F0FC000003F0FC000007F07E00000FF03F00007FE01FFFFFFF
E007FFFFFFC003FFFFFF8007FFFFFF000FFFFFFE000FFFFFF8001FFFFFC0001F800000001F
000000001E000000001E000000000E000000000E1FF0000006FFFE000007FFFF000007F83F
C0000FE00FE0000FE00FE0001FC007F0001FC007F0003FC007F8003FC007F8003FC007F800
3FC007F8003FC007F8001FC007F0001FC007F0600FE00FE0F00FE00FE1F807F83FF1F801FF
FF7FF800FFFE3FF0001FF007E0>
	 37 47 -2 31 41] 103 @dc
[<
FFFFFFC00000FFFFFFC00000FFFFFFC0000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FF
C000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC0
00000000FFC000000000FFC000000000FFC000000000FFFFFFE00000FFFFFFFE0000FFFFFF
FF8000FFC001FFE000FFC0003FF000FFC0001FF800FFC0000FFC00FFC0000FFC00FFC00007
FE00FFC00007FE00FFC00007FF00FFC00007FF00FFC00007FF00FFC00007FF00FFC00007FF
00FFC00007FF00FFC00007FF00FFC00007FE00FFC00007FE00FFC0000FFC00FFC0000FFC00
FFC0001FF800FFC0003FF000FFC001FFE0FFFFFFFFFF80FFFFFFFFFE00FFFFFFFFE000>
	 48 49 -2 48 56] 80 @dc
[<
00FF800FF807FFF03FF80FFFF87FF83FF03CFF007FC00EFE007F8003FE00FF0003FE00FF00
01FE00FF0001FE00FF0001FE00FF0001FE007F8001FE003F8001FE001FC001FE000FF001FE
0007FE01FE0001FFF1FE00003FFFFE000001FFFE00000001FE00000001FE00010001FE0007
C001FE000FE001FE001FF001FE001FF003FC001FF003F8001FF007F0000FE01FE00007FFFF
C00003FFFF0000007FF80000>
	 37 32 -2 31 40] 97 @dc
[<
0007FC00007FFF8000FFFFE003FF01F007F800780FF0001C1FE0001C3FE0000E3FC0000E7F
C000007FC000007F800000FF800000FF800000FF800000FF800000FF800000FF800000FF80
0000FF8000007F8000007F8000407FC001F03FC003F83FC007FC1FE007FC0FE007FC07F007
FC03FC03F800FFFFF0007FFFE00007FF00>
	 31 32 -3 31 37] 99 @dc
[<
FFFF80FFFFFFFF80FFFFFFFF80FFFF07F0003FF007F0003FE007F0007FC007F000FF8007F0
00FF0007F001FF0007F003FE0007F007FC0007F00FF80007F01FF00007F81FE00007FE3FE0
0007FF7FC00007FFFF800007FBFF000007F9FE000007F87C000007F83E000007F81F000007
F807800007F803E00007F801F00007F800780007F8003E0007F8001F0007F8001FC007F800
7FFC07F8007FFC07F8007FFC07F800000007F800000007F800000007F800000007F8000000
07F800000007F800000007F800000007F800000007F800000007F800000007F800000007F8
0000000FF8000000FFF8000000FFF8000000FFF800000001F8000000>
	 40 50 -2 49 44] 107 @dc
[<
C07FC000F3FFF800FFFFFC00FF803E00FE000F00F8000F80F8000780F00007C0E00007C0E0
0007C060000FC000001FC00000FFC0001FFF8001FFFF8007FFFF000FFFFE003FFFFC003FFF
F0007FFFC000FFF80000FF000000FC000700F8000700F8000700F800070078000F003C001F
003F007F001FFFFF0007FFEF0000FF8700>
	 26 32 -3 31 33] 115 @dc
[<
FFFF80FFFF80FFFF8007F80007F80007F80007F80007F80007F80007F80007F80007F80007
F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F8
0007F80007F8000FF800FFF800FFF800FFF80001F800000000000000000000000000000000
00000000000000000003C0000FF0000FF0001FF8001FF8001FFC001FF8001FF8000FF0000F
F00003C000>
	 17 51 -3 50 23] 105 @dc
[<
FFFFC1FFFF80FFFFC1FFFF80FFFFC1FFFF8007F8000FF00007F8000FF00007F8000FF00007
F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8
000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F800
0FF00007F8000FF00007F8000FF00007F8000FF00007FC000FF00007FC000FF00007FE000F
F00007F6000FF00007F3000FE0000FF1C01FE000FFF0F03FC000FFF07FFF8000FFF03FFF00
0003F007F80000>
	 41 32 -3 31 46] 110 @dc
[<
FFFFC00000FFFFC00000FFFFC0000007F800000007F800000007F800000007F800000007F8
00000007F800000007F800000007F800000007F800000007F800000007F800000007F81FE0
0007F87FFE0007F9FFFF0007FBE07FC007FF001FE007FE000FF007FC0007F807F80007FC07
F80003FC07F80003FE07F80003FE07F80001FE07F80001FF07F80001FF07F80001FF07F800
01FF07F80001FF07F80001FF07F80001FF07F80001FF07F80001FE07F80003FE07F80003FE
07F80003FC07F80007FC07F80007F807FE000FF00FFF001FE0FFFFE07FC0FFF9FFFF80FFF8
7FFE0001F80FF000>
	 40 46 -2 31 46] 112 @dc
[<
7FFFE0FFFFC07FFFE0FFFFC07FFFE0FFFFC003FC0007F80003FC0007F80003FC0007F80003
FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC
0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC00
07F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007
F80003FC0007F80003FC0007F80003FC0007F80003FC0007F800FFFFFFFFF800FFFFFFFFF8
00FFFFFFFFF80003FC00FFF80003FC0000000003FC0000000003FC0000000003FC00000000
03FC0001800003FC0007E00003FC000FF00003FC000FF00003FC000FF00001FE000FF00000
FE000FF00000FF0007F000007FC003E000001FF807C0000007FFFF80000001FFFF00000000
1FFC0000>
	 42 50 -1 49 46] 12 @dc
[<
000FE0007FF000FFF801FE1C03FC0E03F80E07F80707F80707F80707F80707F80707F80707
F80707F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F8
0007F80007F80007F80007F800FFFFFEFFFFFEFFFFFE1FF80007F80003F80001F80000F800
00F800007800007800007800003800003800003800003800003800>
	 24 46 -2 45 32] 116 @dc
/@F9 @newfont
@F9 @sf
[<
03FFFF00000FC0000007800000078000000780000007800000078000000780000007800000
07800000078000000780000007800000078000000780000007800000078000000780000007
80000007800000078000000780000007800080078004800780048007800480078004C00780
0C40078008400780084007800860078018780780787FFFFFF8>
	 30 34 -2 33 35] 84 @dc
[<
FFF00F000E000E000E000E000E000E000E000E000E000E000E000E000E000F000F060F0F1E
8FFE460E3C>
	 16 21 -1 20 19] 114 @dc
[<
0FC1E03C2390781708F00F08F00708F00708F007087007007807003C07001E070007C70000
FF000007000007000007001807003C0E003C0C001838000FE000>
	 21 21 -2 20 24] 97 @dc
[<
FFE7FF0E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E
00700E00700E00700E00700F00700F00701E80E0FE60C00E1F80>
	 24 21 -1 20 27] 110 @dc
[<
8FC0D030E018C008C00C800C800C801C003C01F80FF03FE07F80F000E008C008C008C01860
1830780F88>
	 14 21 -2 20 19] 115 @dc
[<
01F8000706000C01001C0080380040780040700000F00000F00000F00000F00000F00000F0
0000F000007000007800003803001C07800C078007030001FE00>
	 18 21 -2 20 22] 99 @dc
[<
0007E00000381C0000E0020001C0010003800080070000400E0000401E0000201C0000203C
0000103C0000107C0000107800001078000000F8000000F8000000F8000000F8000000F800
0000F8000000F8000000F800000078000010780000107C0000103C0000303C0000301C0000
301E0000700E000070070000F0038000F001C0017000E00630003818300007E010>
	 28 36 -3 34 35] 67 @dc
[<
01FC000707000E03801C01C03800E07800F0700070F00078F00078F00078F00078F00078F0
0078F000787000707000703800E01800C00C018007070001FC00>
	 21 21 -1 20 24] 111 @dc
[<
FFE0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E3F000E41C00E
80E00F00700E00380E003C0E003C0E001E0E001E0E001E0E001E0E001E0E001E0E001E0E00
1C0E003C0E00380F00700E8060FE61C00E1F00>
	 23 31 -1 20 27] 112 @dc
[<
01F0030807080E040E040E040E040E040E040E000E000E000E000E000E000E000E000E000E
000E00FFF83E001E000E000600060006000200020002000200>
	 14 31 -1 30 19] 116 @dc
[<
FFC00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E001E
00FE000E00000000000000000000000000000000001C001E003E001E001C00>
	 10 34 -1 33 14] 105 @dc
[<
3C0000430000F18000F08000F0400000400000200000200000200000100000100000380000
380000380000740000740000E20000E20000E20001C10001C1000380800380800380800700
400700400E00200E00200E00301E0078FFC1FE>
	 23 31 -1 20 26] 121 @dc
[<
FFE0203FFF1F007003F00E007001E004007001E00400F801E00400F801E00400F801E00401
E401E00401E401E00401E401E00403C201E00403C201E004078101E004078101E004078101
E0040F0081E0040F0081E0040F0081E0041E0041E0041E0041E0043C0021E0043C0021E004
3C0021E004780011E004780011E004780011E004F00009E004F00009E004F00009E005E000
05E005E00005E007C00003E00FC00003F0FFC00003FF>
	 40 34 -2 33 45] 77 @dc
[<
000FE00000783C0000E00E0003C00780078003C00F0001E00F0001E01E0000F03E0000F83C
0000787C00007C7C00007C7800003CF800003EF800003EF800003EF800003EF800003EF800
003EF800003EF800003EF800003E7800003C7800003C7C00007C7C00007C3C0000783C0000
781E0000F00E0000E00F0001E0078003C003C0078000E00E0000783C00000FE000>
	 31 36 -3 34 38] 79 @dc
[<
81FC00C60700C80180F000C0E000C0C00060C0006080007080007080007080007000007000
00F00000F00001E00007E0003FC003FF800FFF001FFE003FF0007F0000780000F00000F000
00E00020E00020E00020E00060E000606000607000E03001E01802600C0C6003F020>
	 20 36 -3 34 27] 83 @dc
[<
FFFE00000FC000000780000007800000078000000780000007800000078000000780000007
8000000780000007802000078020000780200007802000078060000780E00007FFE0000780
E0000780600007802000078020000780200007802020078000200780002007800020078000
600780004007800040078000C0078001C00F8007C0FFFFFFC0>
	 27 34 -2 33 32] 70 @dc
[<
00200040008001000300060004000C000C00180018003000300030007000600060006000E0
00E000E000E000E000E000E000E000E000E000E000E000E000E00060006000600070003000
30003000180018000C000C000400060003000100008000400020>
	 11 50 -4 36 19] 40 @dc
[<
FFE3FF8FFE0E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E00
3800E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800
E00E003800E00F003C00E00F003C00E01E807201C0FE60E183800E1FC07F00>
	 39 21 -1 20 42] 109 @dc
[<
800040002000100018000C000400060006000300030001800180018001C000C000C000C000
E000E000E000E000E000E000E000E000E000E000E000E000E000E000C000C000C001C00180
01800180030003000600060004000C0018001000200040008000>
	 11 50 -3 36 19] 41 @dc
[<
FFFFF8000F801E0007800700078003C0078001E0078000E0078000F0078000780780007807
80007C0780003C0780003C0780003E0780003E0780003E0780003E0780003E0780003E0780
003E0780003E0780003E0780003C0780003C0780003C0780007C0780007807800078078000
F0078000E0078001C0078003C0078007000F801E00FFFFF000>
	 31 34 -2 33 37] 68 @dc
[<
FFFFFFE00F8003E0078000E007800070078000300780003007800010078000100780001007
8000080780000807802008078020000780200007802000078060000780E00007FFE0000780
E0000780600007802000078020000780200007802020078000200780002007800020078000
600780004007800040078000C0078001C00F8007C0FFFFFFC0>
	 29 34 -2 33 33] 69 @dc
[<
FFFFFF000F803F0007800F0007800300078003000780010007800180078001800780008007
80008007800080078000800780000007800000078000000780000007800000078000000780
00000780000007800000078000000780000007800000078000000780000007800000078000
00078000000780000007800000078000000FC00000FFFE0000>
	 25 34 -2 33 30] 76 @dc
[<
00FC000703000E00801C0040380020780020700000F00000F00000F00000F00000F00000FF
FFE0F000E07000E07801E03801C01C01C00C038007070001FC00>
	 19 21 -1 20 22] 101 @dc
[<
FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E000E000E000E000E001E00FE000E00>
	 11 35 -1 34 14] 108 @dc
[<
0003F000001C0800003006000060010000E0008001C0008003C0004003C000400380004007
80002007800020078000200780002007800020078000200780002007800020078000200780
00200780002007800020078000200780002007800020078000200780002007800020078000
2007800020078000200780002007800020078000700FC000F8FFFC07FF>
	 32 35 -2 33 37] 85 @dc
[<
01F0FE070CF00C02E01801E03800E07800E07000E0F000E0F000E0F000E0F000E0F000E0F0
00E0F000E07000E07800E03800E01C01E00C02E00704E001F8E00000E00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00001E0000FE00000E0>
	 23 35 -2 34 27] 100 @dc
[<
70F8F8F870000000000000000000000070F8F8F870>
	 5 21 -4 20 14] 58 @dc
[<
083F000C41C00C80600F00700E00380E003C0E001C0E001E0E001E0E001E0E001E0E001E0E
001E0E001E0E001C0E003C0E00380F00300E80600E61C00E1F000E00000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E00001E0000FE00000E0000>
	 23 35 -1 34 27] 98 @dc
[<
00FC7F0382780601700E00F00E00F00E00700E00700E00700E00700E00700E00700E00700E
00700E00700E00700E00700E00700E00701E00F0FE07F00E0070>
	 24 21 -1 20 27] 117 @dc
[<
FFFFC07FFFC03FFFC030004018006008002004002002002001000001800000C00000600000
3000001800001C00000E000007000007800003C00003C00003E02003E0F801E0F801E0F801
E0F003E08003E04003C04003C02007801007000C1C0003F000>
	 19 33 -2 32 24] 50 @dc
[<
03F0000C1C00100F002007804007804003C0F003C0F803E0F803E07003E02003E00003E000
03C00003C0000780000780000F00001C0003F000003800000E00000F000007000007800007
803807C07807C07803C07807C04007C02007801007000C1E0003F800>
	 19 34 -2 32 24] 51 @dc
[<
4020101008080404040474FCFCF870>
	 6 15 -4 4 14] 44 @dc
[<
FFFE07C0038003800380038003800380038003800380038003800380038003800380038003
800380038003800380038003800380038003800380F3800F8003800080>
	 15 33 -4 32 24] 49 @dc
[<
0FC000103000201800700C007806007807003003000003800003800001C00001C00001C003
E1E00619E00C05E01805E03803E07003E07001E0F001E0F001E0F001E0F001E0F001E0F001
C0F001C0F001C07003807003803803801807000C0600060C0001F000>
	 19 34 -2 32 24] 57 @dc
/@F8 @newfont
@F8 @sf
[<
00007FC000000003FFF80000000F803E0000003C0007800000700001C00000C00000600001
8000003000030000001800060000000C000C00000006000C00000006001800000003001800
000003003000000001803000000001806000000000C06000000000C06000000000C0C00000
000060C00000000060C00000000060C00000000060C00000000060C00000000060C0000000
0060C00000000060C00000000060C00000000060C000000000606000000000C06000000000
C06000000000C03000000001803000000001801800000003001800000003000C0000000600
0C0000000600060000000C0003000000180001800000300000C00000600000700001C00000
3C00078000000F803E00000003FFF8000000007FC00000>
	 43 47 -3 35 50] 13 @dc
@F9 @sf
[<
FF800FFF3E0001F80C0000F00C0000F0040001E0040001E0040003E0020003C0020003C003
0007C0010007800100078000FFFF0000800F0000800F0000401E0000401E0000401E000020
3C0000203C0000203C0000107800001078000010F8000008F0000008F000000DF0000005E0
000005E0000003C0000003C0000003C000000180000001800000018000>
	 32 35 -2 34 37] 65 @dc
[<
0000007C00FFFC01E2000FC003C100078007C08007800FC08007800F808007800F80000780
0F800007800F800007800F000007800F000007800F000007800F000007800E000007801E00
0007801C00000780380000078070000007FFE0000007803C000007800E0000078007800007
8007C000078003C000078003E000078003E000078003E000078003E000078003E000078003
C000078007C000078007800007800E00000F803C0000FFFFE00000>
	 33 35 -2 33 36] 82 @dc
[<
03FE000E03803800E0600030600030C00018C00018C000184000186000303800F00FFFE00F
FFC01FFE0018000018000010000010000019F0000F1C000E0E001C07001C07003C07803C07
803C07803C07801C07001C07000E0E18071E1801F198000070>
	 21 33 -1 21 24] 103 @dc
[<
FFE7FF0E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E
00700E00700E00700E00700F00700F00700E80E00E60C00E1F800E00000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E00001E0000FE00000E0000>
	 24 35 -1 34 27] 104 @dc
[<
00100000380000380000380000740000740000E20000E20000E20001C10001C10003808003
80800380800700400700400E00200E00200E00301E0078FFC1FE>
	 23 21 -1 20 26] 118 @dc

1 @eop0

0 0 1 @bop1 32 375 a @F5 @sf(DCE)27 b(LFS)g(Bu\013er/Log)g(P)n(ac)n(k)-5 b
(age)28 b(Design)f(Sp)r(eci\014cation)-1155 348 y @F9 @sf(T)l(ransarc)17 b
(Corp)q(ora)q(tion)-361 116 y(T)l(on)o(y)f(Mason)-455 202 y(OSF\(tm\))f
(DCE)i(Licensees)e(Only)-668 97 y(Last)i(Up)q(date:)22 b(F)l(ebruary)15 b
(23,)i(1993)-639 56 y(c)-37 2 y @F8 @sf(\015)p @F9 @sf(1993)h(T)l(ransarc)f
(Corp)q(oration)-523 59 y(All)e(Righ)o(ts)h(Reserv)o(ed)-1168 1514 y
1 @eop1

1 @bop0
/@F15 @newfont
@F15 @sf
[<
FFFFFF800F800F8007800180078000C0078000C00780004007800040078000400780002007
80002007800020078080000780800007808000078080000781800007FF8000078180000780
80000780800007808000078080800780008007800080078000800780018007800100078003
00078003000F800F00FFFFFF00>
	 27 31 -2 30 31] 69 @dc
[<
FFE0000E00000E00000E00000E00000E00000E00000E00000E00000E3E000EC3000F01C00F
01E00E00E00E00F00E00700E00780E00780E00780E00780E00780E00780E00700E00F00E00
E00F00E00F01C0FEC3800E3E00>
	 21 29 -1 19 25] 112 @dc
[<
FFC00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E007E
000E000000000000000000000000001C001E003E001E001C00>
	 10 31 0 30 12] 105 @dc
[<
8F80D060E030C018C01880188018803800700FF03FE07F807800E000C010C010C010403030
701F90>
	 13 20 -2 19 18] 115 @dc
[<
01F800070E001C03803801C03801C07000E07000E0F000F0F000F0F000F0F000F0F000F0F0
00F07000E07000E03801C03801C01C0380070E0001F800>
	 20 20 -1 19 23] 111 @dc
[<
03E3F80E1B801C0780380780380380700380700380F00380F00380F00380F00380F00380F0
03807003807003803803803803801C0780061B8003E3800003800003800003800003800003
80000380000380000380000380000380003F80000380>
	 21 32 -2 31 25] 100 @dc
[<
01F8000706000C0100180080380080700000700000F00000F00000F00000FFFF80F00380F0
03807003807007003807003807001C0E000E1C0003F000>
	 17 20 -1 19 20] 101 @dc
[<
FFFFF0000F803C0007801F0007800F0007800F8007800780078007C0078007C0078007C007
8007C0078007C00780078007800F8007800F0007801E0007803C0007FFF00007803C000780
1E0007801F0007800F0007800F8007800F8007800F8007800F8007800F8007800F0007801F
0007801E000F803800FFFFE000>
	 26 31 -2 30 32] 66 @dc
[<
01F1FC030DC00603C00E03C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00E01C00E01C00E01C0FE1FC00E01C0>
	 22 20 -1 19 25] 117 @dc
[<
7FE3FF00070070000700700007007000070070000700700007007000070070000700700007
00700007007000070070000700700007007000070070000700700007007000070070000700
7000FFFFFF80070070000700700007007000070070000700700007007000070070000300F0
300380F87801C0787800F06E30001F83E0>
	 29 32 0 31 27] 11 @dc
[<
FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000F0C0F1E0F1EFE
8C0E78>
	 15 20 -1 19 18] 114 @dc
[<
C000C000C0006000600060003000300030001800180018000C000C000C0006000600060003
000300030001800180018000C000C000C0006000600060003000300030001800180018000C
000C000C000600060006000300030001>
	 16 45 -3 33 23] 47 @dc
[<
FFFFFC0F807C07801C07800C07800407800407800607800207800207800207800207800007
80000780000780000780000780000780000780000780000780000780000780000780000780
000780000780000780000780000FC000FFFE00>
	 23 31 -2 30 28] 76 @dc
[<
03FC001C03803000C0600060C00030C00030C00030C000306000703001E00FFFC01FFF803F
FE0030000030000020000020000033E0001E38001C1C00380E00780F00780F00780F00780F
00780F00380E001C1C300E3C3003E3300000E0>
	 20 31 -1 20 23] 103 @dc
[<
FFFFE0000F803C0007800E000780070007800380078003C0078001E0078001E0078000F007
8000F0078000F0078000F8078000F8078000F8078000F8078000F8078000F8078000F80780
00F8078000F8078000F0078000F0078001F0078001E0078001E0078003C007800380078007
0007801E000F803C00FFFFE000>
	 29 31 -2 30 35] 68 @dc
[<
FFE7FC0E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00F01C00F01C00E8180FE43000E3E00>
	 22 20 -1 19 25] 110 @dc
[<
001F800000F0F00001C0380007801E000F000F000E0007001E0007803C0003C03C0003C07C
0003E07C0003E0780001E0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0F800
01F0F80001F0F80001F0780001E0780001E07C0003E03C0003C03C0003C01E0007800E0007
000F000F0007801E0001C0380000F0F000001F8000>
	 28 33 -3 31 35] 79 @dc
[<
81F800CE0C00F00600E00300C00380C001808001C08001C08001C08001C00001C00003C000
03C0000780001F8003FF000FFE001FFC003FF0007F0000780000F00000F00000E00080E000
80E00080E001806001806001803003801007800C198007E080>
	 18 33 -3 31 25] 83 @dc
[<
FFFE00000FC000000780000007800000078000000780000007800000078000000780000007
800000078080000780800007808000078080000781800007FF800007818000078080000780
80000780800007808000078000800780008007800080078000800780018007800100078003
00078003000F800F00FFFFFF00>
	 25 31 -2 30 30] 70 @dc
[<
0020004000800100020006000C000C00180018003000300030007000600060006000E000E0
00E000E000E000E000E000E000E000E000E000E00060006000600070003000300030001800
18000C000C00060002000100008000400020>
	 11 46 -3 33 18] 40 @dc
[<
01E0031006100E080E080E080E080E080E000E000E000E000E000E000E000E000E000E000E
00FFF83E000E000E0006000600020002000200>
	 13 28 -1 27 18] 116 @dc
[<
FFE7FE7FE00E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00
E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E
000F00F00E000F00F00E000E81C81C00FE618618000E1F01F000>
	 35 20 -1 19 38] 109 @dc
[<
800040002000100008000C00060006000300030001800180018001C000C000C000C000E000
E000E000E000E000E000E000E000E000E000E000E000C000C000C001C00180018001800300
0300060006000C0008001000200040008000>
	 11 46 -3 33 18] 41 @dc
[<
000FC0000070380001C0040003800200070001000E0000801E0000801C0000403C0000407C
0000407C00004078000000F8000000F8000000F8000000F8000000F8000000F8000000F800
0000F8000000F8000000780000407C0000407C0000403C0000C01C0000C01E0000C00E0001
C0070003C0038005C001C009C0007030C0000FC040>
	 26 33 -3 31 33] 67 @dc
[<
03F00E0C1C023801380170007000F000F000F000F000F000F00070007000380C381E1C1E0E
0C03F8>
	 16 20 -2 19 20] 99 @dc
[<
FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E000E000E00FE000E00>
	 11 32 0 31 12] 108 @dc
[<
3C0000620000F10000F08000F0800000400000400000400000200000200000700000700000
700000E80000E80001EC0001C40001C4000382000382000382000701000701000E00800E00
800E00801C00C01E01E0FF83F8>
	 21 29 -1 19 24] 121 @dc
/@F2 @newfont
@F2 @sf
[<
000000003FFE0000000000000FFFFFE000000000007FFFFFFC0000000003FFFFFFFF000000
000FFFFFFFFFC00000003FFFF8007FF0000000FFFF80000FF8000001FFFC000001FC000007
FFF0000000FE00000FFFC00000003F00001FFF800000001F80003FFF000000000FC0007FFE
0000000007E000FFFC0000000003E001FFF80000000001F003FFF00000000001F803FFF000
00000000F807FFE00000000000F807FFE000000000007C0FFFC000000000007C0FFFC00000
0000007C1FFFC000000000003E1FFF8000000000003E3FFF8000000000003E3FFF80000000
00003E3FFF8000000000003E7FFF8000000000003E7FFF000000000000007FFF0000000000
00007FFF00000000000000FFFF00000000000000FFFF00000000000000FFFF000000000000
00FFFF00000000000000FFFF00000000000000FFFF00000000000000FFFF00000000000000
FFFF00000000000000FFFF00000000000000FFFF00000000000000FFFF00000000000000FF
FF00000000000000FFFF000000000000007FFF000000000000007FFF000000000000007FFF
0000000000003E7FFF8000000000003E3FFF8000000000003E3FFF8000000000003E3FFF80
00000000007E1FFF8000000000007E1FFFC000000000007E0FFFC000000000007E0FFFC000
00000000FE07FFE00000000000FE07FFE00000000001FE03FFF00000000001FE03FFF00000
000003FE01FFF80000000007FE00FFFC0000000007FE007FFE000000000FFE003FFF000000
001FFE001FFF800000003FFE000FFFC00000007FFE0007FFF0000001FFFE0001FFFC000003
FFFE0000FFFF80000FF7FE00003FFFF800FFC3FE00000FFFFFFFFF81FE000003FFFFFFFE00
FE0000007FFFFFF8003E0000000FFFFFC0001E000000003FFE00000E>
	 71 73 -7 71 86] 67 @dc
[<
00000FFF0000000000FFFFF000000007FFFFFE0000001FFFFFFF8000007FFC03FFE00000FF
E0007FF00001FFC0003FF80003FF80001FFC0007FF00000FFE000FFE000007FF001FFE0000
07FF801FFC000003FF803FFC000003FFC03FFC000003FFC07FF8000001FFE07FF8000001FF
E07FF8000001FFE07FF8000001FFE0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0FF
F8000001FFF0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0FFF800
0001FFF0FFF8000001FFF07FF8000001FFE07FF8000001FFE07FF8000001FFE03FF8000001
FFC03FF8000001FFC03FFC000003FFC01FFC000003FF800FFC000003FF000FFE000007FF00
07FE000007FE0003FF00000FFC0001FF80001FF80000FFE0007FF000003FFC03FFC000001F
FFFFFF80000007FFFFFE00000000FFFFF0000000000FFF000000>
	 52 46 -3 45 59] 111 @dc
[<
FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07F
FFFFE001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FF
E00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF0
0001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE000
00FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001
FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FF
F00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFF00000FFF00001FFF0
0000FFF00001FFF00000FFF00001FFF80000FFF00001FFFC0000FFF00001FFDC0000FFE000
01FFDE0000FFE00001FFCF0001FFE00003FFC7C001FFC000FFFFC3E003FFC000FFFFC1FC07
FF8000FFFFC0FFFFFF0000FFFFC03FFFFE0000FFFFC00FFFF80000007FC001FFC00000>
	 59 46 -4 45 66] 110 @dc
[<
00001FF0000001FFFC000007FFFE00000FFFFF80001FFE0F80003FFC07C0003FF803E0007F
F803E0007FF001E000FFF001F000FFF001F000FFF001F000FFF001F000FFF001F000FFF001
F000FFF001F000FFF001F000FFF001F000FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0
000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000
00FFF0000000FFF0000000FFF0000000FFF00000FFFFFFFFC0FFFFFFFFC0FFFFFFFFC0FFFF
FFFFC00FFFFFFFC003FFF0000001FFF00000007FF00000003FF00000003FF00000001FF000
00000FF00000000FF000000007F000000007F000000007F000000003F000000003F0000000
03F000000001F000000001F000000001F000000001F000000001F000000001F00000>
	 36 66 -2 65 46] 116 @dc
[<
00000FFF80000000FFFFF8000007FFFFFE00001FFFFFFF80003FFE00FFC0007FF0001FE001
FFC00003F003FF800001F807FF000000FC07FF0000007E0FFE0000003E1FFE0000003E3FFC
0000001C3FFC000000003FFC000000007FFC000000007FF8000000007FF800000000FFF800
000000FFF800000000FFF800000000FFF800000000FFFFFFFFFFFCFFFFFFFFFFFEFFFFFFFF
FFFEFFFFFFFFFFFEFFF8000007FEFFF8000007FE7FF8000007FE7FF8000007FE7FF8000007
FC7FFC000007FC3FFC000007FC3FFC00000FFC1FFC00000FF81FFE00000FF80FFE00001FF0
07FF00003FF003FF80003FE001FFC0007FC000FFE001FF80007FFC07FF00001FFFFFFE0000
07FFFFF8000001FFFFE00000001FFE0000>
	 47 46 -3 45 54] 101 @dc
[<
E003FF8000F81FFFF800FC7FFFFE00FFFFFFFF80FFFC00FFC0FFF0001FE0FFC0000FF0FF80
0007F0FF000003F8FE000003F8FE000003F8FC000003FCFC000003FCF8000003FCF8000007
FC7800000FFC0000001FFC000000FFFC00001FFFF80003FFFFF8003FFFFFF000FFFFFFF003
FFFFFFE007FFFFFFC00FFFFFFF801FFFFFFF003FFFFFFC007FFFFFF0007FFFFFC000FFFFF8
0000FFFE000000FFF0000000FFC0000000FF800003E0FF000003E0FF000003E07F000003E0
7F000003E03F000007E03F80000FE01FC0001FE00FF800FFE007FFFFFFE001FFFFFFE0007F
FFF3E0000FFF00E0>
	 38 46 -4 45 47] 115 @dc
/@F11 @newfont
@F11 @sf
[<
FFFF80FFFF8003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003
E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000F3E0
00FFE0000FE00001E00000E000>
	 17 29 -4 28 26] 49 @dc
[<
FFFF0FFFF0FFFF0FFFF007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0
007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E
0007FFFFFE0007FFFFFE0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007
E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E00FFFF0F
FFF0FFFF0FFFF0>
	 36 31 -2 30 41] 72 @dc
[<
FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FF
00FF000000000000000000000000001C003E003F007F003F003E001C00>
	 11 33 -2 32 14] 105 @dc
[<
C7F0FFFCF81EF006E007C007C007001F03FE1FFE3FFC7FF8FFC0F800E006E006600E701E3F
FE0FE6>
	 16 20 -2 19 21] 115 @dc
[<
01F003F807CC0F860F860F860F860F860F800F800F800F800F800F800F800F800F800F80FF
FCFFFC3F800F800780038003800380018001800180>
	 15 29 -1 28 20] 116 @dc
[<
01FF0007FFC01F83F03E00F83E00F87C007C7C007CFC007EFC007EFC007EFC007EFC007EFC
007E7C007C7C007C3E00F83E00F81F83F007FFC001FF00>
	 23 20 -1 19 26] 111 @dc
[<
FFF000FFF0001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F
00001F03001F8FC01E8FC01E8FC01ECFC0FE7F80FE3E00>
	 18 20 -2 19 22] 114 @dc
[<
01FC0007FF001F81C03F00C03E00607E00007C0000FC0000FC0000FC0000FC0000FC0000FC
00007C03007C0FC03E0FC03E0FC01F0FC007FF8001FE00>
	 19 20 -2 19 23] 99 @dc
[<
0FE07E3FF8FE7E0DE0FC05E0F803E0F803E0F803E07C03E03C03E01F03E007FBE0007FE000
03E00C03E03F03E03F03E03F07C03F0F801FFF0007FC00>
	 23 20 -1 19 25] 97 @dc
[<
FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F00FF00FF00>
	 11 32 -2 31 14] 108 @dc
[<
001FF80000FFFF0001F81F8007E007E00FC003F01F8001F83F8001FC3F0000FC7F0000FE7F
0000FE7E00007EFE00007FFE00007FFE00007FFE00007FFE00007FFE00007FFE00007FFE00
007FFE00007F7E00007E7E00007E7F0000FE3F0000FC1F0000F81F8001F80FC003F007E007
E001F81F8000FFFF00001FF800>
	 32 31 -3 30 39] 79 @dc
[<
001C0000001C0000003E0000003E0000007F0000007F000000FF800000F9800001F9C00001
F0C00001F0C00003E0600003E0600007C0300007C030000F8018000F8018001F001C00FFE0
7F80FFE07F80>
	 25 20 -1 19 28] 118 @dc
[<
00FF8007FFE00F80701E00183E00187C00007C0000FC0000FC0000FC0000FFFFF8FFFFF8FC
00F87C00F87C00F03E00F01E01E00F83C007FF8001FE00>
	 21 20 -1 19 24] 101 @dc
[<
0030018000007803C000007803C000007803C00000FC07E00000FC07E00001F60FB00001F6
0F300001F60F300003E31E180003E31E180007C1BE0C0007C1BC0C0007C1BC0C000F80F806
000F80F806001F00F803001F00F00300FFE7FE1FE0FFE7FE1FE0>
	 35 20 -1 19 38] 119 @dc
/@F14 @newfont
@F14 @sf
[<
70F8F8F870>
	 5 5 -4 4 13] 58 @dc
@F11 @sf
[<
FFFFC0FFFFC07FFFC03FFFC01FFFC01C00E00E006007006003806001C00000E00000F00000
7800003E00001F00001F80000FC0000FC0000FE03807E07C07E0FE07E0FE0FE0FE0FC0FE0F
C07C1F80383F001FFE0007F000>
	 19 29 -3 28 26] 50 @dc
[<
FFFFFE0000FFFFFFC00007E007F00007E001F80007E000FC0007E0007E0007E0003F0007E0
003F0007E0001F8007E0001F8007E0001F8007E0001FC007E0001FC007E0001FC007E0001F
C007E0001FC007E0001FC007E0001FC007E0001FC007E0001FC007E0001F8007E0001F8007
E0001F8007E0003F0007E0003F0007E0007E0007E000FC0007E001F80007E007F000FFFFFF
C000FFFFFE0000>
	 34 31 -2 30 40] 68 @dc
[<
01FF000FFFE03F01F878003C78003CF0001EF0001EF0001E70003E3C007C1FFFFC07FFF80F
FFF01FFF801C000018000018000009FC000FFF000F07801E03C03E03E03E03E03E03E03E03
E03E03E01E03DE0F079E07FFFE01FC3C>
	 23 30 -1 19 26] 103 @dc
[<
FFE3FFFFE3FF1F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F
00F81F00F81F00F81E80F81EC0F81E61F0FE3FE0FE0FC0>
	 24 20 -3 19 29] 110 @dc
[<
FFFFFFFF07E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007
E007E007E007E007E007E007E007E007E007E007E0FFFFFFFF>
	 16 31 -2 30 20] 73 @dc
[<
03F8FF0FFEFF1F07F83E01F87E00F87C00F87C00F8FC00F8FC00F8FC00F8FC00F8FC00F8FC
00F87C00F87C00F87E00F83E01F81F83F80FFEF801F8F80000F80000F80000F80000F80000
F80000F80000F80000F80000F80000F80007F80007F8>
	 24 32 -2 31 29] 100 @dc
[<
03F8FF07FCFF0F06F81F01F81F01F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F
00F81F00F81F00F81F00F81F00F81F00F8FF07F8FF07F8>
	 24 20 -3 19 29] 117 @dc
@F15 @sf
[<
FFFF807FFF803FFF801000801800400C004006004003000001800000C00000600000700000
3800001C00000E00000F000007800007800007C02007C0F803C0F803C0F803C0F007C08007
80400780200700100E000C1C0003F000>
	 18 30 -2 29 23] 50 @dc
[<
70F8F8F870>
	 5 5 -4 4 13] 46 @dc
[<
FFFE07C0038003800380038003800380038003800380038003800380038003800380038003
800380038003800380038003800380F3800F8003800180>
	 15 30 -4 29 23] 49 @dc
[<
000FE0000078182000E00460038002E0070001E00F0001E01E0001E01E0001E03C0001E03C
0001E07C0001E0780001E0F80003E0F8007FFCF8000000F8000000F8000000F8000000F800
0000F8000000F8000000780000207C0000203C0000203C0000601E0000601E0000600F0000
E0070001E0038002E000E004E000781860000FE020>
	 30 33 -3 31 36] 71 @dc
[<
0F83C0386720781E10F01E10F00E10F00E10F00E10780E00380E001E0E00078E0000FE0000
0E00000E00000E00300E00781C007818003030001FE000>
	 20 20 -2 19 23] 97 @dc
@F15 @sf
[<
03F0001C3C00200E00400F00400780F00780F807C0F807C0F807C02007C00007C000078000
0780000F00000E00003C0003F000003800001C00000E00000F00000F00000F80380F807807
80780780780F80200F00100E000C1C0003F000>
	 18 31 -2 29 23] 51 @dc
[<
00200000700000700000700000E80000E80001EC0001C40001C40003820003820003820007
01000701000E00800E00800E00801C00C01E01E0FF83F8>
	 21 20 -1 19 24] 118 @dc
[<
004008000060180000E01C0000E01C0000F03C0001D03A0001D0320003C873000388710003
8861000704E0800704C0800707C0800E03C0400E0380400E0380401C0380201C0300603C07
8070FF9FE1FC>
	 30 20 -1 19 33] 119 @dc
@F15 @sf
[<
00FFE0000E00000E00000E00000E00000E00000E00000E00FFFFF0C00E00400E00200E0020
0E00100E00080E00080E00040E00020E00020E00010E00008E00008E00004E00002E00002E
00001E00000E00000E00000600000600>
	 20 30 -1 29 23] 52 @dc
[<
FFFC00000FC000000780000007800000078000000780000007800000078000000780000007
800000078000000780000007800000078000000780000007FFE0000780780007801C000780
1E0007800F0007800F8007800F8007800F8007800F8007800F8007800F8007800F0007801E
0007801C000F807800FFFFE000>
	 25 31 -2 30 31] 80 @dc
[<
FFE7FC0E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00F01C00F01C00E81800E43000E3E000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E0000FE00000E0000>
	 22 32 -1 31 25] 104 @dc
@F15 @sf
[<
01F000061C000C0E001807003807003803807003807003C07003C0F003C0F003C0F003C0F0
03C0F003C0F80380F80380F80700F40600F21C00F1F0007000007000007800003800003803
001C07800C07800E0380070100018200007C00>
	 18 31 -2 29 23] 54 @dc
[<
FFE0C1FFF81F00C01F800E00C00F000401E00F000401E00F000401E00F000403900F000403
900F000407080F000407080F000407080F00040E040F00040E040F00040E040F00041C020F
00041C020F00041C020F000438010F000438010F000438010F000470008F000470008F0004
70008F0004E0004F0004E0004F0005C0002F0005C0002F0005C0002F000780001F000F8000
1F80FF80001FF8>
	 37 31 -2 30 42] 77 @dc
@F15 @sf
[<
000003E0FFFC0F100FC01E0807803E0407807E0407807C0407807C0007807C0007807C0007
8078000780780007807800078070000780F0000780E0000781C00007FF80000780F0000780
780007803C0007801E0007801E0007801F0007801F0007801F0007801F0007801E0007801E
0007803C00078078000F80F000FFFF8000>
	 30 32 -2 30 33] 82 @dc
@F15 @sf
[<
03000007800007800007800007800007800007800007800003800003800003800003800001
800001C00000C00000C0000040000040000020000020000010000008000008008004008002
008002004001007FFF807FFF807FFFC0400000>
	 18 31 -3 29 23] 55 @dc
@F11 @sf
[<
03FC001FFF803C0FC07807E0FC03F0FE03F0FE03F8FE03F87C03F83803F80003F80003F000
03E00007C0000F8001FC0001FC00001F00000F80000FC01E0FC03F07E03F07E03F07E03F07
E01E0FC00E0F8007FF0001FC00>
	 21 29 -2 28 26] 51 @dc
[<
FFFFFF00FFFFFFE007C007F007C003F807C001FC07C000FC07C000FE07C000FE07C000FE07
C000FE07C000FE07C000FC07C001FC07C001F807C003F007FFFFC007FFFF8007C00FE007C0
07F007C003F807C001F807C001FC07C001FC07C001FC07C001FC07C001FC07C001F807C003
F007C007E0FFFFFFC0FFFFFE00>
	 31 31 -2 30 37] 66 @dc
[<
3FF8FFF0003FF8FFF00007C01F000007C01F000007C01F000007C01F000007C01F000007C0
1F000007C01F000007C01F000007C01F000007C01F000007C01F000007C01F000007C01F00
0007C01F000007C01F000007C01F0000FFFFFFF800FFFFFFF80007C01F000007C01F000007
C01F000007C01F000007C01F000007C03F078007C07F0FC003E07F0FC001E07F8FC000F83F
C7C0007FF9FF80000FF07F00>
	 34 32 0 31 31] 11 @dc
[<
FFFF0000FFFF000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007
E0000007E0000007E0000007E0000007E0000007FFFE0007FFFF8007E00FE007E003F007E0
01F807E001F807E001FC07E001FC07E001FC07E001FC07E001FC07E001F807E001F807E003
F007E00FE0FFFFFF80FFFFFE00>
	 30 31 -2 30 36] 80 @dc
[<
FFC3FFFFC3FF1E00F81E01F01E01E01E03C01E07C01E0F801F0F001F9E001FFC001F7C001F
18001F0C001F07001F03801F00C01F00F01F01FE1F01FE1F00001F00001F00001F00001F00
001F00001F00001F00001F00001F0000FF0000FF0000>
	 24 32 -2 31 28] 107 @dc
@F11 @sf
[<
03FC000FFF803E03C07C00E0780070F00070F00078F00078F000F8F001F87803F8780FF03C
3FF01FFFE007FFC007FF800FFE001FFF001FE3803FC3C03F01E03E01E03C01E03C01E01C01
E01E03C00F078007FF0001FC00>
	 21 29 -2 28 26] 56 @dc
@F15 @sf
[<
03F0000C0C00100200200100600180C00080C000C0C000C0C000C0C001C04001C060038030
0F80103F000C7E0007FC0003F8000FF0001FC8003F06003E03007803007001806001806001
806001802001803003001006000C0C0003F000>
	 18 31 -2 29 23] 56 @dc
@F11 @sf
[<
00FFFE00FFFE0007C00007C00007C00007C00007C00007C0FFFFFEFFFFFEE003C07003C038
03C01803C00C03C00E03C00703C00383C00183C000C3C00063C00073C0003BC0001FC0000F
C00007C00007C00003C00001C0>
	 23 29 -1 28 26] 52 @dc
[<
FFFFFFF0FFFFFFF007E003F007E000F807E0007807E0003807E0001807E0001807E0001807
E0000C07E0600C07E0600C07E0600007E0E00007E1E00007FFE00007FFE00007E1E00007E0
E00007E0600007E0603007E0603007E0003007E0003007E0007007E0006007E000E007E001
E007E007E0FFFFFFE0FFFFFFE0>
	 30 31 -2 30 34] 69 @dc
[<
FF81FF80FF81FF800E00FC000701F8000381F0000183E00000C7C000006F8000007F800000
3F0000003E0000007E000000FF000001F3800003E1800007E0C00007C0E0000F807000FFE1
FF00FFE1FF00>
	 25 20 -1 19 28] 120 @dc
[<
3FFC003FFC0007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007
C00007C00007C00007C00007C00007C000FFFC00FFFC0007C00007C00007C00007C00007C0
0007C3C007C7E003C7E003E7E001F3E000FFC0001F80>
	 19 32 -1 31 16] 102 @dc
@F15 @sf
[<
083E000CC3000D01C00F00E00E00E00E00700E00700E00780E00780E00780E00780E00780E
00780E00700E00700E00E00F00E00F01C00EC3800E3E000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E0000FE00000E0000>
	 21 32 -1 31 25] 98 @dc
[<
FFFC0FC0078007800780078007800780078007800780078007800780078007800780078007
8007800780078007800780078007800780078007800FC0FFFC>
	 14 31 -1 30 16] 73 @dc
@F15 @sf
[<
FFC03FFE1F0007E00E0003C0040003C002000780020007800200078001000F0001000F0001
000F0000FFFE0000801E0000801E0000403C0000403C0000403C0000207800002078000020
78000010F0000010F0000010F0000009E0000009E0000009E0000007C0000007C0000007C0
0000038000000380000003800000010000>
	 31 32 -1 31 34] 65 @dc
@F15 @sf
[<
03E0000C3800100E00200600400700400380E00380F003C0F003C07003C00003C00003C000
03C0000380000380100780100700180E00161C0011F0001000001000001000001000001000
001000001FE0001FF8001FFC001FFE00180300>
	 18 31 -2 29 23] 53 @dc
@F15 @sf
[<
7FF00700070007000700070007000700070007000700070007000700070007000700070007
00FFF007000700070007000700070007000706038F018F00C6007C>
	 16 32 0 31 14] 102 @dc
@F15 @sf
[<
0FC000107000201800700C00780E0078060030070000070000038000038000038003E3C00E
13C0180BC03807C07007C07007C0F003C0F003C0F003C0F003C0F003C0F00380F003807003
807007003807003806001C0C000E180003F000>
	 18 31 -2 29 23] 57 @dc
[<
07FFFE00001F8000000F0000000F0000000F0000000F0000000F0000000F0000000F000000
0F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
0000000F0000000F0000800F0010800F0010800F0010800F0010C00F0030400F0020400F00
20600F0060780F01E07FFFFFE0>
	 28 31 -2 30 33] 84 @dc
@F15 @sf
[<
03F0000E1C001C0E00180600380700780780700380700380700380F003C0F003C0F003C0F0
03C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C07003807003807003
807003803807001806001C0E000E1C0003F000>
	 18 31 -2 29 23] 48 @dc
@F15 @sf
[<
003FF800038000038000038000038000038000038000038000038003E3800E13801C0B8038
0780380380780380700380F00380F00380F00380F00380F00380F003807003807803803803
803C07801C058006198003E080>
	 21 29 -2 19 24] 113 @dc
@F11 @sf
[<
07F0001FFC00381F00600F80780FC0FC07C0FC07E0FC07E0FC07E07807E00007E00007E000
07C01007C0380F803C1F0037FE0033F8003000003000003000003000003F80003FF0003FFC
003FFE003FFF003FFF80380380>
	 19 29 -3 28 26] 53 @dc
@F11 @sf
[<
00C00001E00003F00003F00003F00003F00003F00003F00001F00001F00001F00001F00000
F00000F000007000007800003800003800001800000C00C00600C00300C00300E001807FFF
C07FFFE07FFFF07FFFF87FFFF8600000>
	 21 30 -3 29 26] 55 @dc
@F15 @sf
[<
FFF8FFF80F800F8007800F0007800F0007800F0007800F0007800F0007800F0007800F0007
800F0007800F0007800F0007800F0007800F0007800F0007800F0007FFFF0007800F000780
0F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F
0007800F000F800F80FFF8FFF8>
	 29 31 -2 30 34] 72 @dc
@F15 @sf
[<
40201010080804040474FCFCF870>
	 6 14 -4 4 13] 44 @dc
[<
70F8F8F8700000000000000000000070F8F8F870>
	 5 20 -4 19 13] 58 @dc

1 @eop0

0 0 1 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 477 y @F2 @sf(Con)m(ten)m
(ts)-464 223 y @F11 @sf(1)42 b(Historical)19 b(Ov)o(erview)g @F14 @sf(:)j
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)91 b 
@F11 @sf(1)-1909 102 y(2)42 b(Design)18 b(In)o(tro)q(duction)d @F14 @sf(:)
22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)91 b 
@F11 @sf(2)-1841 56 y @F15 @sf(2.1)61 b(Goals)15 b(and)g(Constrain)o(ts)g 
@F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)95 b 
@F15 @sf(2)-1737 56 y(2.1.1)65 b(Goals)26 b @F14 @sf(:)c(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)95 b @F15 @sf
(2)-1737 57 y(2.1.2)65 b(Constrain)o(ts)14 b @F14 @sf(:)22 b(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)95 b @F15 @sf(3)-1842 
56 y(2.2)61 b(Ov)o(erview)27 b @F14 @sf(:)c(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)95 b @F15 @sf(4)-1842 
57 y(2.3)61 b(Philosoph)o(y)31 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)95 b @F15 @sf(6)-1737 
56 y(2.3.1)65 b(Bu\013er)15 b(Managemen)o(t)28 b @F14 @sf(:)22 b(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)95 b @F15 @sf(6)-1737 57 y(2.3.2)65 b
(Logging)16 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)95 b @F15 @sf(6)-1737 56 y(2.3.3)65 b(Reco)o(v)o
(ery)29 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)95 b @F15 @sf(7)-1910 102 y @F11 @sf(3)42 b(Bu\013er)
17 b(P)o(ac)o(k)m(age)g(Design)31 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)91 b @F11 @sf(8)-1841 57 y @F15 @sf
(3.1)61 b(Goals)30 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)95 b @F15 @sf(8)-1842 
56 y(3.2)61 b(Mo)q(del)19 b @F14 @sf(:)j(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)95 b @F15 @sf
(8)-1910 102 y @F11 @sf(4)42 b(External)18 b(Bu\013er)f(P)o(ac)o(k)m(age)g
(In)o(terface)g @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)65 b @F11 @sf
(13)-1841 56 y @F15 @sf(4.1)c(bu\013er)s 14 -2 z 13 x(Init)46 b @F14 @sf
(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)72 b @F15 @sf(13)-1842 57 y(4.2)61 b(bu\013er)s 14 -2 z 13 x
(ReadGeneral)38 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(16)-1842 56 y(4.3)61 b(bu\013er)s 14 -2 z 
13 x(Read)16 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(17)-1842 57 y(4.4)61 b
(bu\013er)s 14 -2 z 13 x(ReadAhead)30 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(17)-1842 56 y
(4.5)61 b(bu\013er)s 14 -2 z 13 x(Release)41 b @F14 @sf(:)23 b(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(18)-1842 57 y(4.6)61 b(bu\013er)s 14 -2 z 13 x(Mo)q(difySource)21 b 
@F14 @sf(:)i(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(19)-1842 56 y(4.7)61 b(bu\013er)s 14 -2 z 13 x(StartT)l(ran)26 b 
@F14 @sf(:)c(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)72 b @F15 @sf(20)-1842 57 y(4.8)61 b(bu\013er)s 14 -2 z 13 x(EndT)l
(ran)47 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(21)-1842 56 y(4.9)61 b(bu\013er)s 14 -2 z 
13 x(LogInit)42 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(22)-1842 56 y(4.10)38 b
(bu\013er)s 14 -2 z 13 x(LogF)l(orce)k @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(23)-1842 57 y
(4.11)38 b(bu\013er)s 14 -2 z 13 x(FsyncF)l(orce)c @F14 @sf(:)22 b(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(23)
-1842 56 y(4.12)38 b(bu\013er)s 14 -2 z 13 x(SyncF)l(orce)22 b @F14 @sf(:)g
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(24)-1842 57 y(4.13)38 b(bu\013er)s 14 -2 z 13 x(LogClose)43 b 
@F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)72 b @F15 @sf(24)-1842 56 y(4.14)38 b(bu\013er)s 14 -2 z 13 x
(EquivT)l(ran)47 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(25)-1910 102 y @F11 @sf(5)42 b(In)o
(ternal)18 b(Bu\013er)e(P)o(ac)o(k)m(age)h(In)o(terface)32 b @F14 @sf(:)
22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)65 b @F11 @sf(27)-1841 57 y @F15 @sf
(5.1)c(Bu\013er)15 b(Header)g(Allo)q(cation)35 b @F14 @sf(:)23 b(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(27)-1737 56 y(5.1.1)
65 b(bu\013er)s 14 -2 z 14 x(InitBufHeaderAl)q(lo)q(cator)34 b @F14 @sf(:)
22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(27)-1910 144 y(T)l(able)16 b(of)f
(Con)o(ten)o(ts)593 b(i)548 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
1 @eop1

2 @bop0
@F15 @sf
[<
FFE001001F0003000E000300040007000400070004000F0004001F0004001F0004003D0004
003D00040079000400F1000400F1000401E1000401E1000403C1000407810004078100040F
0100040F0100041E0100043C0100043C0100047801000478010004F0010005E0010005E001
0007C0038007C007C0FF803FF8>
	 29 31 -2 30 34] 78 @dc
@F15 @sf
[<
000FC000003820000070180000E0080001C0040001C0020003800200038002000780010007
80010007800100078001000780010007800100078001000780010007800100078001000780
01000780010007800100078001000780010007800100078001000780010007800100078001
0007800100078003800FC007C0FFFC3FF8>
	 29 32 -2 30 34] 85 @dc
@F15 @sf
[<
FFFC3FFC0FC007E0078007C0078007800780078007800F0007801E0007801E0007803C0007
803C00078078000780F00007C0F00007A1E0000791E0000793C000078F8000078780000783
00000781000007808000078040000780200007801000078008000780040007800200078001
00078001800FC003E0FFFC0FFC>
	 30 31 -2 30 35] 75 @dc
@F15 @sf
[<
000400020000000C00030000000E00070000000E00070000001E00078000001F000F800000
1F000F8000001F000F8000003C801E4000003C801E4000003C801E40000078C03E20000078
403C20000078403C200000F0403C100000F02078100000F02078100001F02078080001E010
F0080001E010F0080003E010F00C0003C009E0040003C009E0040003C009E00400078007C0
0200078007C00200078007C002000F0007C001000F00078001000F00078003801F800FC007
C0FFF07FF81FF0>
	 44 32 -1 30 47] 87 @dc
@F15 @sf
[<
FFCFF80E03E00E03C00E03800E07800E07000E0E000E1E000E1C000F38000EF8000E70000E
30000E10000E08000E04000E02000E03000E03C00E0FF00E00000E00000E00000E00000E00
000E00000E00000E00000E00000E0000FE00000E0000>
	 21 32 -1 31 24] 107 @dc
@F11 @sf
[<
01FE0007FF800F07C01E03E03E01F03C01F07C01F87C01F87C01F8FC01F8FC01F8FC01F8FC
01F8FE01F0FE01F0FD03E0FDFFC0FCFF00FC10007C00007C01E07C03F03E03F01E03F01F03
F00F81E007E0E001FFC0003F00>
	 21 29 -2 28 26] 54 @dc
[<
FFFFFF80FFFFFF8007E01F8007E00F8007E0038007E0038007E001C007E001C007E001C007
E000C007E000C007E000C007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E000
0007E00000FFFF8000FFFF8000>
	 26 31 -2 30 31] 76 @dc
@F11 @sf
[<
07F0001FFC00381F003C07807E07C07E03E07E03E07E01F03C01F00001F00041F807F9F81F
FDF83E05F87C03F87C03F8FC01F8FC01F8FC01F8FC01F8FC01F0FC01F0FC01F07C01E07C03
E03E03C01F07800FFF0001FC00>
	 21 29 -2 28 26] 57 @dc
@F11 @sf
[<
FFFF007F80FFFF01FFC007E003F86007E007F03007E00FE03007E00FE00007E00FE00007E0
0FE00007E00FC00007E00FC00007E00FC00007E00F800007E00F800007E01F000007E03E00
0007FFFC000007FFFF000007E01FC00007E007E00007E003F00007E003F00007E003F80007
E003F80007E003F80007E003F80007E003F00007E003F00007E007E00007E01FC000FFFFFF
0000FFFFF80000>
	 36 31 -2 30 39] 82 @dc
[<
1E0000007F800000E1C00000C0E00000FC600000FC30000078300000001800000018000000
1C0000001C0000003E0000003E0000007F0000007F000000FF800000F9800001F9C00001F0
C00001F0C00003E0600003E0600007C0300007C030000F8018000F8018001F001C00FFE07F
80FFE07F80>
	 25 29 -1 19 28] 121 @dc
@F15 @sf
[<
FFC0FFC0>
	 10 2 -1 10 15] 45 @dc

2 @eop0

0 0 2 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1735 145 y(5.1.2)65 b(bu\013er)s 
14 -2 z 14 x(Allo)q(cBufHeade)q(r)45 b @F14 @sf(:)23 b(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)72 b @F15 @sf(28)-1737 57 y(5.1.3)65 b(GetBu\013erP)o(o)q
(ol)30 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)72 b @F15 @sf(28)-1737 56 y(5.1.4)65 b(bu\013er)s 14 -2 z 14 x
(Deallo)q(cBufHeader)38 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(29)-1842 56 y(5.2)61 b(Bu\013er)15 b(Allo)q(cation)f @F14 @sf(:)
22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(29)-1737 57 y(5.2.1)65 b(bu\013er)s 14 -2 z 14 x(Allo)q(cBu\013er)
29 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(29)-1737 56 y(5.2.2)65 b(bu\013er)s 14 -2 z 14 x(Deallo)q(cBu\013er)
21 b @F14 @sf(:)h(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(30)-1737 57 y(5.2.3)65 b(bu\013er)s 14 -2 z 14 x(InitNewBu\013er)44 b 
@F14 @sf(:)22 b(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(31)-1737 
56 y(5.2.4)65 b(UndeleteB)q(u\013er)18 b @F14 @sf(:)k(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(31)-1737 57 y(5.2.5)65 b
(bu\013er)s 14 -2 z 14 x(SetKill)q(ed)38 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(32)-1737 56 y(5.2.6)65 b
(bu\013er)s 14 -2 z 14 x(Kill)41 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(33)-1842 57 y(5.3)61 b
(Miscellaneous)48 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(34)-1737 56 y(5.3.1)65 b
(bu\013er)s 14 -2 z 14 x(Destro)o(yArena)14 b @F14 @sf(:)22 b(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(34)-1737 57 y(5.3.2)65 b
(bu\013er)s 14 -2 z 14 x(GetOldestDataP)o(age)33 b @F14 @sf(:)23 b(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(34)-1737 56 y(5.3.3)65 b(bu\013er)s 14 
-2 z 14 x(SetT)o(yp)q(e)18 b @F14 @sf(:)k(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(35)-1737 56 y(5.3.4)65 b(bu\013er)s 
14 -2 z 14 x(W)l(rite)36 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(35)-1737 57 y(5.3.5)65 b(bu\013er)s 
14 -2 z 14 x(W)l(aitF)l(orW)l(rite)15 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(36)-1842 56 y(5.4)61 b(Data)14 b
(Structure)h(Managemen)o(t)30 b @F14 @sf(:)22 b(:)h(:)f(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)72 b @F15 @sf(36)-1737 57 y(5.4.1)65 b(Bu\013er)15 b(Aging)25 b 
@F14 @sf(:)e(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(37)-1737 56 y(5.4.2)65 b(Disk)16 b(Address)f(Hashing)j @F14 @sf
(:)k(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(38)-1737 57 y
(5.4.3)65 b(F)l(ree)16 b(List)f(Managemen)o(t)44 b @F14 @sf(:)23 b(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(38)-1910 102 y @F11 @sf(6)42 b
(Log)18 b(P)o(ac)o(k)m(age)f(Design)j @F14 @sf(:)i(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)65 b @F11 @sf(39)-1841 56 y 
@F15 @sf(6.1)c(Log)15 b(File)f @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(39)-1737 57 y(6.1.1)65 b(Log)15 b(P)o(ages)41 b @F14 @sf(:)22 b(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(39)
-1737 56 y(6.1.2)65 b(Log)15 b(P)o(age)g(Header)45 b @F14 @sf(:)23 b(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(39)-1842 56 y
(6.2)61 b(Log)15 b(Records)37 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(43)-1910 102 y 
@F11 @sf(7)42 b(In)o(ternal)18 b(Log)g(In)o(terface)41 b @F14 @sf(:)23 b
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)65 b @F11 @sf
(46)-1841 57 y @F15 @sf(7.1)c(log)s 14 -2 z 13 x(Init)32 b @F14 @sf(:)22 b
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)72 b @F15 @sf(46)-1842 56 y(7.2)61 b(log)s 14 -2 z 13 x(W)l
(rite)27 b @F14 @sf(:)c(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(47)-1842 57 y(7.3)61 b(log)s 
14 -2 z 13 x(Sh)o(utdo)o(wn)12 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(48)-1842 
56 y(7.4)61 b(log)s 14 -2 z 13 x(Close)32 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(49)-1842 57 y(7.5)61 b(log)s 14 -2 z 13 x(T)l(ranLo)q(okup)36 b 
@F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)72 b @F15 @sf(50)-1842 56 y(7.6)61 b(log)s 14 -2 z 13 x(Allo)q(cT)l
(ran)47 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(50)-1842 57 y(7.7)61 b(log)s 14 -2 z 
13 x(Deallo)q(cT)l(ran)39 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(51)-1842 56 y(7.8)61 b
(log)s 14 -2 z 13 x(F)l(orce)31 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(52)-1910 102 y @F11 @sf(8)42 b(Reco)o(v)o(ery)16 b(P)o(ac)o(k)m(age)h
(Design)34 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)65 b @F11 @sf(53)-1841 56 y @F15 @sf(8.1)c(Ov)o(erview)27 b @F14 @sf
(:)c(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)72 b @F15 @sf(53)-1842 57 y(8.2)61 b(Design)44 b @F14 @sf
(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(53)-1842 56 y(8.3)61 b(Implemen)o(tation)
16 b(Concerns)k @F14 @sf(:)j(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)72 b @F15 @sf(54)-1737 57 y(8.3.1)65 b(Kernel)17 b(Implemen)o(tation)
32 b @F14 @sf(:)23 b(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(54)
-1737 56 y(8.3.2)65 b(User-space)16 b(Implemen)o(tation)23 b @F14 @sf(:)g
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(54)-1910 102 y @F11 @sf(9)42 b
(Reco)o(v)o(ery)16 b(In)o(terface)44 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)65 b @F11 @sf(56)-1909 134 y 
@F15 @sf(T)l(able)16 b(of)f(Con)o(ten)o(ts)587 b(ii)542 b(Marc)o(h)14 b
(2,)h(1993)f(14:04)-1911 b
2 @eop1

3 @bop0
@F11 @sf
[<
01FC0007FF001F8FC01E03C03E03E07C01F07C01F07C01F0FC01F8FC01F8FC01F8FC01F8FC
01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F87C01F07C01F07C01F03E03
E01E03C01F07C007FF0001FC00>
	 21 29 -2 28 26] 48 @dc
[<
03FFFFC003FFFFC00007E0000007E0000007E0000007E0000007E0000007E0000007E00000
07E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007
E000C007E006C007E006C007E006C007E006E007E00E6007E00C6007E00C7007E01C7C07E0
7C7FFFFFFC7FFFFFFC>
	 31 30 -2 29 36] 84 @dc
[<
FFE000FFE0001F00001F00001F00001F00001F00001F00001F00001F1F801F7FE01FC1F81F
80FC1F007C1F007E1F003E1F003F1F003F1F003F1F003F1F003F1F003F1F003E1F007E1F00
7E1F80FC1FE1F8FF7FF0FF1FC0>
	 24 29 -2 19 29] 112 @dc
@F15 @sf
[<
FFFE700E700638021C031E010E0107010780038001C001E000E0407040784038201C200E38
0E3FFF>
	 16 20 -1 19 20] 122 @dc
@F11 @sf
[<
FFF0000600FFF00006000600000E000600001E000600003E000600007E00060000FE000600
00FE00060001FE00060003F600060007E60006000FE60006001FC60006001F860006003F06
0006007E06000600FC06000601FC06000601F806000603F006000607E00600060FC0060006
1F800600063F800600063F000600067E00060006FC00060007F800060007F0000600FFF000
FFF0FFE000FFF0>
	 36 31 -2 30 41] 78 @dc
@F11 @sf
[<
0007FF0007FF0000F80000F80000F80000F80000F80000F80000F803F8F80FFEF81F87F83F
01F87E00F87E00F87C00F8FC00F8FC00F8FC00F8FC00F8FC00F8FC00F87C00F87E00F83E01
F83F01F81F877807FE3801F818>
	 24 29 -2 19 28] 113 @dc
[<
0007FC00003FFF8000FE01C003F0007007E000380FC000181F80000C3F00000C3F0000067F
0000067E0000067E000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
00007E0000067E0000067F0000063F00000E3F00000E1F80001E0FC0001E07E0003E03F000
FE00FE03DE003FFF0E0007FC02>
	 31 31 -3 30 38] 67 @dc

3 @eop0

0 0 3 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1840 145 y(9.1)61 b(recvr)s 14 
-2 z 13 x(Reco)o(v)o(er)46 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(56)-1842 57 y
(9.2)61 b(recvr)s 14 -2 z 13 x(DumpLog)41 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(57)-1842 
56 y(9.3)61 b(recvr)s 14 -2 z 13 x(W)l(riteBlo)q(c)o(ks)33 b @F14 @sf(:)
22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(58)-1842 56 y(9.4)61 b(recvr)s 14 -2 z 13 x(W)l(riteRestartBlo)q
(c)o(k)44 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(59)-1910 102 y @F11 @sf(10)16 b(Data)j(T)o(yp)q(es)30 b @F14 @sf
(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)65 b @F11 @sf(60)-1841 57 y @F15 @sf(10.1)38 b
(Presumptions)12 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(60)-1737 56 y(10.1.1)o 
43 x(Data)14 b(Sizes)36 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(60)-1737 57 y(10.1.2)o 43 x
(Opaque)16 b(t)o(yp)q(es)42 b @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(60)-1842 56 y(10.2)38 b(qHead)16 b 
@F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(61)-1842 57 y(10.3)38 b
(hashMem)o(b)q(er)29 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(62)-1842 56 y(10.4)
38 b(logT)l(ranRec)s 14 -2 z 14 x(t)22 b @F14 @sf(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(62)
-1842 57 y(10.5)38 b(logRec)46 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(63)-1842 56 y(10.6)38 b(bufWBMo)q(de)29 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(64)-1842 56 y(10.7)38 b(bufT)o(yp)q(e)46 b @F14 @sf(:)23 b(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b 
@F15 @sf(64)-1842 57 y(10.8)38 b(buf)k @F14 @sf(:)23 b(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)72 b @F15 @sf(65)-1842 56 y(10.9)38 b(device)21 b @F14 @sf(:)h(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)72 b @F15 @sf(66)-1910 102 y @F11 @sf(11)16 b(Notes)23 b @F14 @sf
(:)g(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)65 b @F11 @sf(68)-1841 57 y @F15 @sf
(11.1)38 b(User)15 b(Data)f(Logging)g @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(68)-1842 56 y
(11.2)38 b(Debugging)f @F14 @sf(:)22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(68)-1910 102 y 
@F11 @sf(12)16 b(Equiv)m(alence)j(Classes)j @F14 @sf(:)g(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)65 b @F11 @sf(69)-1841 
57 y @F15 @sf(12.1)38 b(Design)44 b @F14 @sf(:)22 b(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(69)-1842 56 y(12.2)38 b(Equiv)m(alenc)q(e)17 b(Class)e(In)o(terface)23 b 
@F14 @sf(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf(70)
-1737 56 y(12.2.1)o 43 x(log)s 14 -2 z 14 x(ECMerge)17 b @F14 @sf(:)23 b
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(70)-1737 57 y(12.2.2)o 43 x(log)s 14 -2 z 14 x(ECCommit)14 b @F14 @sf(:)
22 b(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f
(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(71)-1737 56 y(12.2.3)o 43 x(log)s 14 -2 z 14 x(ECCoun)o(t)17 b @F14 @sf
(:)23 b(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)g(:)h
(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)g(:)h(:)f(:)72 b @F15 @sf
(73)-1910 1083 y(T)l(able)16 b(of)f(Con)o(ten)o(ts)581 b(iii)536 b(Marc)o
(h)14 b(2,)h(1993)f(14:04)-1911 b
3 @eop1

1 @bop0
/@F1 @newfont
@F1 @sf
[<
0000001FFF000000000001FFFFF0000000000FFFFFFC000000007FFFFFFF00000001FFFE00
3FC0000003FFE00007F000000FFF000001F800001FFC0000007C00003FF80000003E00007F
F00000001F0000FFE00000000F0001FFC0000000078003FF8000000003C007FF0000000003
C00FFF0000000001E00FFE0000000001E01FFE0000000001E01FFE0000000000F03FFC0000
000000F03FFC0000000000F03FFC0000000000F07FFC0000000000F07FF80000000000007F
F80000000000007FF8000000000000FFF8000000000000FFF8000000000000FFF800000000
0000FFF8000000000000FFF8000000000000FFF8000000000000FFF8000000000000FFF800
0000000000FFF8000000000000FFF8000000000000FFF80000000000007FF8000000000000
7FF80000000000007FF80000000001F07FFC0000000001F03FFC0000000001F03FFC000000
0001F03FFC0000000003F01FFE0000000003F01FFE0000000003F00FFE0000000007F00FFF
0000000007F007FF000000000FF003FF800000000FF001FFC00000001FF000FFC00000003F
F0007FF00000003FF0003FF80000007FF0001FFC000001FFF0000FFF000003FFF00003FFE0
000FCFF00001FFFE007F87F000007FFFFFFE03F000000FFFFFFC01F0000001FFFFE000F000
00001FFF000030>
	 60 61 -5 59 71] 67 @dc
[<
FFFFFC3FFFFFFFFFFC3FFFFFFFFFFC3FFFFFFFFFFC3FFFFF03FF0000FFC003FF0000FFC003
FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF
0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF00
00FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000
FFC003FF0000FFC003FF8000FFC003FF8000FFC003FF8000FFC003FFC000FFC003FFE000FF
C003FF6000FF8003FF3001FF8003FF1C01FF0003FF0F03FE0003FF07FFFC0003FF01FFF800
03FF007FC00003FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003
FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF
0000000003FF0000000003FF0000000003FF0000000003FF0000000007FF00000000FFFF00
000000FFFF00000000FFFF00000000FFFF0000000000FF00000000>
	 48 60 -4 59 55] 104 @dc
[<
003FE000FFF001FFFC07FFF007FFFE0FFFF01FFC0F0FFFF03FF0039FF8007FE000DFF0007F
E0007FF000FFC0007FF000FFC0003FF000FFC0003FF000FFC0003FF000FFC0003FF0007FE0
003FF0007FE0003FF0003FE0003FF0001FF0003FF0000FF8003FF00007FE003FF00001FF80
3FF000007FF83FF000000FFFFFF0000000FFFFF0000000003FF0000000003FF0000000003F
F00001C0003FF00007F0003FF0000FF8003FF0000FF8003FF0001FFC003FE0001FFC007FE0
001FFC007FC0001FFC00FF80000FF801FF000007F007FE000003FFFFFC000001FFFFF00000
001FFF000000>
	 44 38 -3 37 48] 97 @dc
[<
FFFFFC000000FFFFFC000000FFFFFC000000FFFFFC00000003FF0000000003FF0000000003
FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF
0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF01FF000003FF0F
FFF00003FF3FFFFC0003FFFC07FF0003FFF001FF8003FFC0007FC003FF80003FE003FF0000
3FF003FF00001FF803FF00001FF803FF00000FFC03FF00000FFC03FF00000FFE03FF000007
FE03FF000007FE03FF000007FF03FF000007FF03FF000007FF03FF000007FF03FF000007FF
03FF000007FF03FF000007FF03FF000007FF03FF000007FF03FF000007FE03FF00000FFE03
FF00000FFE03FF00000FFC03FF00001FFC03FF00001FF803FF00003FF003FF80003FE003FF
C0007FC0FFFFF000FF80FFFFFE03FF00FFFF3FFFFC00FFFF0FFFF00000FF01FF8000>
	 48 55 -3 37 55] 112 @dc
[<
0001FF000007FF80001FFFC0003FE0E0007FC07000FFC07800FF807801FF803C01FF803C01
FF803C01FF803C01FF803C01FF803C01FF803C01FF803C01FF800001FF800001FF800001FF
800001FF800001FF800001FF800001FF800001FF800001FF800001FF800001FF800001FF80
0001FF800001FF800001FF800001FF800001FF800001FF8000FFFFFFF0FFFFFFF0FFFFFFF0
1FFFFFF007FF800001FF800000FF8000007F8000003F8000003F8000001F8000001F800000
0F8000000F8000000F8000000F80000007800000078000000780000007800000078000>
	 30 55 -2 54 38] 116 @dc
[<
0000FFE0000007FFFC00003FFFFF0000FFC03FC001FF0007E003FE0001F007FC0000F80FF8
0000781FF000003C1FF000003C3FF000003C3FE00000007FE00000007FE00000007FE00000
00FFE0000000FFE0000000FFE0000000FFE0000000FFFFFFFFFCFFFFFFFFFCFFFFFFFFFCFF
E00003FC7FE00003FC7FE00003FC7FE00003FC7FE00007F83FF00007F83FF00007F81FF000
07F00FF8000FF00FF8000FE007FC001FC001FE003F8000FF80FF00003FFFFE00000FFFF800
0001FFC000>
	 38 38 -3 37 45] 101 @dc
[<
FFFFFE0000FFFFFE0000FFFFFE0000FFFFFE000003FF00000003FF00000003FF00000003FF
00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF0000
0003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003
FF00000003FF00000003FF00000003FF800E0003FF803F8003FF807FC003FF807FC003FFC0
FFE003FEC0FFE003FEE0FFE007FE60FFE0FFFE707FC0FFFE3C3F80FFFE1FFF00FFFE0FFE00
00FE03F000>
	 35 38 -3 37 41] 114 @dc
[<
7FFFFFFFC07FFFFFFFC07FFFFFFFC07FFFFFFFC0000FFE0000000FFE0000000FFE0000000F
FE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE00
00000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE000000
0FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE
0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000
000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000F
FE0000000FFE0000000FFE0000FFCFFE0000FFFFFE0000FFFFFE0000FFFFFE0000003FFE00
000003FE00000000FE000000003E000000001E0000>
	 34 56 -7 55 49] 49 @dc
@F2 @sf
[<
FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFF
F801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0001FFFC00000003FFF8000001FFFC00000003F
FF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF800000
1FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC000
00003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF
8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001F
FFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000
003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF80
00001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFF
C00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC0000000
3FFF8000001FFFFFFFFFFFFFFF8000001FFFFFFFFFFFFFFF8000001FFFFFFFFFFFFFFF8000
001FFFFFFFFFFFFFFF8000001FFFFFFFFFFFFFFF8000001FFFC00000003FFF8000001FFFC0
0000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003F
FF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF800000
1FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC000
00003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF
8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001F
FFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000
003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF80
00001FFFC00000003FFF8000001FFFC00000003FFF8000FFFFFFFFF801FFFFFFFFF0FFFFFF
FFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FF
FFFFFFF0>
	 84 71 -4 70 93] 72 @dc
[<
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF01FFC001FFC001FFC001FFC001FFC001FFC001FFC001
FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FF
C001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC0
01FFC001FFC003FFC0FFFFC0FFFFC0FFFFC0FFFFC0FFFFC0007FC000000000000000000000
000000000000000000000000000000000000000000000000FC0001FF0003FF8007FFC00FFF
C01FFFE01FFFE01FFFE01FFFE01FFFE01FFFE00FFFC007FFC003FF8001FF0000FC00>
	 24 73 -4 72 32] 105 @dc
[<
FFFFFFE00000FFFFFFE00000FFFFFFE00000FFFFFFE00000FFFFFFE0000001FFC000000001
FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FF
C000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC0
00000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000
000001FFC000000001FFC000000001FFC000000001FFC000000001FFE000000001FFE00000
0001FFE000F80001FFE003FE0001FFF007FF0001FFF007FF0001FFF00FFF8001FFF80FFF80
01FFB80FFF8001FFBC0FFF8003FF9E0FFF80FFFF8F07FF00FFFF8FC3FF00FFFF87FFFE00FF
FF83FFFC00FFFF80FFF00000FF803F8000>
	 41 46 -4 45 49] 114 @dc
[<
00001FFE00000000FFFFE0000007FFFFF800001FFFFFFE00007FFE00FF0000FFF0001F8001
FFE0000FC003FFC00007E007FF800003F00FFF000001F00FFE000000F81FFE000000F81FFC
000000F83FFC000000003FFC000000007FFC000000007FF8000000007FF800000000FFF800
000000FFF800000000FFF800000000FFF800000000FFF800000000FFF800000000FFF80000
0000FFF800000000FFF800000000FFF8000000007FF8000000007FF8000000007FF8000000
003FFC00003E003FFC0000FF801FFC0001FFC01FFC0001FFC00FFE0003FFE00FFE0003FFE0
07FF0003FFE003FF8003FFE001FFC003FFE000FFE001FFC0007FFC00FFC0001FFFFFFF8000
07FFFFFE000000FFFFF80000001FFFC000>
	 45 46 -4 45 53] 99 @dc
[<
0003FF80007FF8007FFFF001FFFC01FFFFFC03FFFC07FFFFFF07FFFC0FFFC03F8FFFF83FFF
0007CFFF003FFC0003EFFC007FF80001EFFC007FF80000FFFC00FFF000007FFC00FFF00000
3FFC00FFF000003FFC00FFF000003FFC00FFF000003FFC00FFF000003FFC007FF800003FFC
007FF800003FFC003FFC00003FFC001FFE00003FFC000FFF00003FFC0007FFC0003FFC0003
FFF0003FFC0000FFFE003FFC00003FFFE03FFC000007FFFFFFFC000000FFFFFFFC00000007
FFFFFC00000000003FFC00000000003FFC00000000003FFC00000000003FFC0000F800003F
FC0003FE00003FFC0007FF00003FFC0007FF00003FFC000FFF80007FF8000FFF80007FF800
0FFF80007FF0000FFF8000FFF0000FFF8001FFE00007FF0003FFC00007FE001FFF000003FF
FFFFFE000001FFFFFFF80000007FFFFFC000000007FFFC000000>
	 54 46 -3 45 58] 97 @dc
[<
FFFFFF80FFFFFF80FFFFFF80FFFFFF80FFFFFF8001FFC00001FFC00001FFC00001FFC00001
FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FF
C00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC0
0001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC000
01FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001
FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FF
C00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC0
0003FFC000FFFFC000FFFFC000FFFFC000FFFFC000FFFFC000007FC000>
	 25 72 -4 71 32] 108 @dc
[<
00000003FFF0000000000000007FFFFF80000000000003FFFFFFF000000000000FFFFFFFFC
00000000007FFFFFFFFF8000000000FFFF807FFFC000000003FFFC000FFFF000000007FFF0
0003FFF80000000FFFC00000FFFC0000003FFF8000007FFF0000007FFF0000003FFF800000
7FFE0000001FFF800000FFFC0000000FFFC00001FFF800000007FFE00003FFF800000007FF
F00003FFF000000003FFF00007FFE000000001FFF8000FFFE000000001FFFC000FFFE00000
0001FFFC001FFFC000000000FFFE001FFFC000000000FFFE001FFFC000000000FFFE003FFF
80000000007FFF003FFF80000000007FFF003FFF80000000007FFF007FFF80000000007FFF
807FFF80000000007FFF807FFF00000000003FFF807FFF00000000003FFF80FFFF00000000
003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF00
000000003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0
FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF0000000000
3FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC07FFF00000000003FFF807FFF0000
0000003FFF807FFF00000000003FFF807FFF00000000003FFF807FFF00000000003FFF803F
FF80000000007FFF003FFF80000000007FFF003FFF80000000007FFF001FFF80000000007F
FE001FFF80000000007FFE000FFFC000000000FFFC000FFFC000000000FFFC0007FFC00000
0000FFF80007FFE000000001FFF80003FFE000000001FFF00003FFF000000003FFF00001FF
F000000003FFE00000FFF800000007FFC000007FFC0000000FFF8000003FFC0000000FFF00
00001FFE0000001FFE0000000FFF0000003FFC00000007FFC00000FFF800000003FFE00001
FFF000000000FFF80007FFC0000000003FFF807FFF00000000000FFFFFFFFC000000000003
FFFFFFF00000000000007FFFFF8000000000000003FFF000000000>
	 74 73 -7 71 89] 79 @dc
[<
0000003C0000000000007E000000000000FF000000000000FF000000000001FF8000000000
01FF800000000003FFC00000000003FFC00000000007FFE00000000007FFE0000000000FFF
F0000000000FFFF0000000001FFFF8000000001FFFF8000000001FFEF8000000003FFEFC00
0000003FFC7C000000007FFC7E000000007FF83E00000000FFF83F00000000FFF01F000000
01FFF01F80000001FFE00F80000003FFE00FC0000003FFE007C0000007FFC007E0000007FF
C007E0000007FF8003E000000FFF8003F000000FFF0001F000001FFF0001F800001FFE0000
F800003FFE0000FC00003FFC00007C00007FFC00007E00007FF800003E0000FFF800003F00
00FFF800001F0001FFF000001F8001FFF000001F8001FFE000001FC0FFFFFF8001FFFFFFFF
FF8001FFFFFFFFFF8001FFFFFFFFFF8001FFFFFFFFFF8001FFFF>
	 56 46 -3 45 63] 118 @dc
[<
000001E000000F000000000003F000001F800000000007F800003FC00000000007F800003F
C0000000000FF800003FE0000000000FFC00007FE0000000000FFC00007FE0000000001FFE
0000FFF0000000001FFE0000FFF0000000003FFE0000FFF8000000003FFF0001FFF8000000
003FFF0001FFF8000000007FFF8003FFFC000000007FFF8003FF7C00000000FFFF8003FF7E
00000000FFFFC007FF3E00000000FFF7C007FE3E00000001FFE7E00FFE3F00000001FFE3E0
0FFC1F00000003FFE3E00FFC1F80000003FFC3F01FFC0F80000003FFC1F01FF80F80000007
FF81F83FF80FC0000007FF80F83FF007C000000FFF80F83FF007E000000FFF00FC7FF003E0
00000FFF007C7FE003E000001FFE007EFFE003F000001FFE003EFFC001F000003FFE003EFF
C001F800003FFC003FFFC000F800003FFC001FFF8000F800007FF8001FFF80007C00007FF8
000FFF00007C0000FFF8000FFF00007E0000FFF0000FFF00003E0001FFF00007FE00003F00
01FFE0000FFE00001F0001FFE0000FFC00001F0003FFE0000FFC00001F8003FFC0001FFC00
003FC0FFFFFF07FFFFE007FFFEFFFFFF07FFFFE007FFFEFFFFFF07FFFFE007FFFEFFFFFF07
FFFFE007FFFEFFFFFF07FFFFE007FFFE>
	 79 46 -3 45 86] 119 @dc
@F15 @sf
[<
7FC3FE0700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E007
00E00700E00700E00700E00700E00700E00700E0FFFFE00700000700000700000700000700
000700000701E00701E00381E001C0C000E0C0003F00>
	 23 32 0 31 25] 12 @dc

1 @eop0

0 0 1 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(1)-436 246 y @F2 @sf(Histori)q(cal)41 b(Ov)m(erview)-1030 262 y @F15 @sf
(This)18 b(do)q(cumen)o(t)h(has)e(not)h(b)q(een)h(up)q(dated)f(to)f
(represen)o(t)h(a)g(complete)g(picture)h(of)f(the)f(in)o(ternal)i(design)g
(of)-1910 56 y(the)g(pac)o(k)m(age.)31 b(Rather,)19 b(it)g(is)g(left)h
(here)f(b)q(ecause)h(it)f(still)h(pro)o(vides)f(useful)h(information)f(ab)q
(out)g(the)g(core)-1910 57 y(paradigms)g(used)i(within)f(this)g(pac)o(k)m
(age.)33 b(The)20 b(details,)h(ho)o(w)o(ev)o(er,)f(ha)o(v)o(e)f(c)o
(hanged.)33 b(The)20 b(reader)f(should)-1908 56 y(refer)14 b(to)g(the)g
(in)o(terface)g(sp)q(eci\014c)q(ation)h(and)g(to)e(the)h(actual)h(source)f
(co)q(de)h(for)e(correct)h(function)h(names,)f(data)-1910 57 y
(structures,)g(and)i(details)g(of)f(implemen)o(tation.)-831 1489 y(1)g
(Historical)h(Ov)o(erview)514 b(1)542 b(Marc)o(h)14 b(2,)h(1993)f(14:04)
-1911 b
1 @eop1

2 @bop0
@F1 @sf
[<
FFFFFFFFE0FFFFFFFFE0FFFFFFFFE0FFFFFFFFF07FFFFFFFF03FFFFFFFF01FFFFFFFF00FFF
FFFFF007FFFFFFF003FFFFFFF001FFFFFFF800F00000F800780000F8003C000078001E0000
78000F0000780007C0003C0003E0003C0001F0003C0001F800000000FC000000007F000000
003F800000001FC00000000FF000000007F800000007FC00000003FE00000001FF00000001
FF80000000FFC0000000FFE00000007FF00000007FF00000007FF80000003FF80000003FFC
1F80003FFC3FC0003FFC7FE0003FFCFFF0003FFCFFF0003FFCFFF0003FFCFFF0003FFCFFF0
003FF8FFE0007FF87FC0007FF07F8000FFF03E0000FFE01F0001FFC00F8007FF8007F01FFF
0003FFFFFE0001FFFFF800007FFFE0000007FE0000>
	 38 56 -5 55 49] 50 @dc
@F2 @sf
[<
FFFFFFFFFFFFC0000000FFFFFFFFFFFFFE000000FFFFFFFFFFFFFFC00000FFFFFFFFFFFFFF
F80000FFFFFFFFFFFFFFFE0000001FFF800003FFFF0000001FFF8000007FFFC000001FFF80
00000FFFE000001FFF80000003FFF000001FFF80000001FFF800001FFF800000007FFC0000
1FFF800000003FFE00001FFF800000003FFF00001FFF800000001FFF80001FFF800000000F
FF80001FFF800000000FFFC0001FFF8000000007FFE0001FFF8000000007FFE0001FFF8000
000003FFF0001FFF8000000003FFF0001FFF8000000003FFF0001FFF8000000001FFF8001F
FF8000000001FFF8001FFF8000000001FFF8001FFF8000000001FFFC001FFF8000000001FF
FC001FFF8000000001FFFC001FFF8000000001FFFC001FFF8000000001FFFE001FFF800000
0000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF
8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE
001FFF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF80000000
00FFFE001FFF8000000001FFFE001FFF8000000001FFFC001FFF8000000001FFFC001FFF80
00000001FFFC001FFF8000000001FFFC001FFF8000000001FFFC001FFF8000000001FFF800
1FFF8000000001FFF8001FFF8000000003FFF8001FFF8000000003FFF0001FFF8000000003
FFF0001FFF8000000003FFE0001FFF8000000007FFE0001FFF8000000007FFC0001FFF8000
00000FFFC0001FFF800000000FFF80001FFF800000001FFF00001FFF800000003FFF00001F
FF800000007FFE00001FFF80000000FFFC00001FFF80000001FFF800001FFF80000007FFF0
00001FFF8000000FFFE000001FFF8000007FFF8000001FFF800007FFFF0000FFFFFFFFFFFF
FFFC0000FFFFFFFFFFFFFFF00000FFFFFFFFFFFFFFC00000FFFFFFFFFFFFFE000000FFFFFF
FFFFFFC0000000>
	 79 71 -4 70 91] 68 @dc
[<
00003FFFC000000007FFFFFE0000003FFFFFFFC00000FFFFFFFFF00003FFF000FFFC000FFF
00000FFF001FFC000003FF803FF0000000FFC03FE00000007FC07FC00000003FE07FC00000
003FE0FF800000001FF0FF800000001FF0FF800000001FF0FF800000001FF0FF800000001F
F07FC00000003FF07FC00000007FF03FE0000001FFE01FF800001FFFE00FFFFFFFFFFFC003
FFFFFFFFFFC0007FFFFFFFFF8000FFFFFFFFFF8001FFFFFFFFFF0001FFFFFFFFFE0003FFFF
FFFFF80003FFFFFFFFE00007FFFFFFFF000007FFFFFFF0000007F8000000000007F0000000
000007E0000000000007C0000000000007C0000000000007C0000000000007C00000000000
03C07FF000000003C7FFFF00000001DFFFFFC0000001FFFFFFF0000000FFE03FF8000001FF
800FFC000003FF0007FE000007FE0003FF000007FE0003FF00000FFC0001FF80000FFC0001
FF80000FFC0001FF80001FFC0001FFC0001FFC0001FFC0001FFC0001FFC0001FFC0001FFC0
001FFC0001FFC0001FFC0001FFC0000FFC0001FF80000FFC0001FF80000FFC0001FF81C007
FE0003FF07F007FE0003FF07F003FF0007FE0FF801FF800FFC0FF800FFE03FFE0FF8007FFF
FFFFC7F8001FFFFFC7FFF00007FFFF03FFF000007FF000FFE000000000001F80>
	 53 68 -3 46 59] 103 @dc
[<
FFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFE000FFFE000000FFFE000000F
FFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE0
00000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE00000
0FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFF
E000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000
000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000F
FFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE0
00000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE00000
0FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000FFFFFF
FFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFE>
	 39 71 -3 70 45] 73 @dc
[<
00001FF803FFFF800001FFFF03FFFF800007FFFFC3FFFF80001FFFFFF3FFFF80007FF807FB
FFFF8000FFE000FFFFE00001FFC0003FFFC00003FF00001FFFC00007FF00000FFFC0000FFE
000007FFC0001FFC000003FFC0001FFC000003FFC0003FFC000003FFC0003FFC000003FFC0
003FF8000003FFC0007FF8000003FFC0007FF8000003FFC0007FF8000003FFC000FFF80000
03FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FFC000FF
F8000003FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FF
C0007FF8000003FFC0007FF8000003FFC0007FF8000003FFC0003FFC000003FFC0003FFC00
0003FFC0001FFC000003FFC0001FFC000003FFC0000FFE000003FFC0000FFE000003FFC000
07FF000007FFC00003FF80000FFFC00001FFC0001FFFC00000FFF0007FFFC000007FFC03FF
FFC000001FFFFFF9FFC0000007FFFFE1FFC0000000FFFF81FFC00000000FFC01FFC0000000
000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0
000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC00000000000
01FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC00000
00000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FF
C0000000000003FFC00000000000FFFFC00000000000FFFFC00000000000FFFFC000000000
00FFFFC00000000000FFFFC00000000000007FC000>
	 57 72 -4 71 66] 100 @dc
[<
00003FFE007FFFE00001FFFF807FFFE00007FFFFE07FFFE0001FFFFFF87FFFE0003FFC00FC
7FFFE0007FF0003E7FF800007FE0001F7FF00000FFE0000F7FF00000FFE00007FFF00001FF
E00003FFF00001FFE00001FFF00001FFE00001FFF00001FFE00001FFF00001FFE00000FFF0
0001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE000
00FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001
FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FF
F00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE0
0000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF000
01FFE00000FFF00001FFE00000FFF00003FFE00001FFF000FFFFE0007FFFF000FFFFE0007F
FFF000FFFFE0007FFFF000FFFFE0007FFFF000FFFFE0007FFFF000007FE000003FF000>
	 59 46 -4 45 66] 117 @dc
@F11 @sf
[<
FFFF8000FFFF800007E0000007E0000007E0000007E0000007E0000007E0000007E0000007
E0000007E0600007E0600007E0600007E0E00007E1E00007FFE00007FFE00007E1E00007E0
E00007E0600007E0603007E0603007E0003007E0003007E0007007E0006007E000E007E001
E007E007E0FFFFFFE0FFFFFFE0>
	 28 31 -2 30 33] 70 @dc
[<
81FF00E7FFC0FE01E0F80070E00078E00038C0003CC0003CC0003C00003C00007C0000FC00
07F800FFF807FFF00FFFF01FFFE03FFF807FFE007FC000FC0000F80000F00018F00018F000
387000387000783800F81E03F80FFF3803FC08>
	 22 31 -3 30 29] 83 @dc
[<
FFE3FF8FFEFFE3FF8FFE1F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F00
7C01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F807E01
F01E807E01F01E407D01F01E70F9C3E0FE1FF07FC0FE0FE03F80>
	 39 20 -3 19 44] 109 @dc
@F15 @sf
[<
FF07FE1E01E00601E00201C0030380010700008700004E00007C00003C0000380000780000
EC0000E40001C2000381000701800701C00F01E07FC3FC>
	 23 20 0 19 24] 120 @dc
/@F6 @newfont
@F6 @sf
[<
FFFFFF80FFFFFF80FFFFFF807FFFFFC03FFFFFC01FFFFFC00FFFFFC0070001C0038001C001
C001C000E000E0007000E0003C00E0001E0000000F0000000780000003E0000003F0000001
F8000000FC000000FE0000007F0000007F8000003FC000003FC000003FE03C003FE07E001F
E0FF001FE0FF001FE0FF003FE0FF003FC0FE003FC07C007F803800FF001F03FE000FFFFC00
03FFF00000FF8000>
	 27 39 -3 38 34] 50 @dc
[<
1C003E007F00FF80FF80FF807F003E001C00>
	 9 9 -5 8 19] 46 @dc
[<
7FFFFE7FFFFE7FFFFE00FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000
FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE00F8FE00FFFE00FFFE0007FE00007E00
001E00000E00>
	 23 39 -5 38 34] 49 @dc
[<
00007FF003000003FFFE0F00001FFFFF1F00003FF007BF0000FF8001FF0001FE0000FF0003
F80000FF0007F00000FF000FF00000FF001FE00000FF001FE00000FF003FC00000FF003FC0
0000FF007FC00000FF007F8001FFFFF87F8001FFFFF8FF8001FFFFF8FF8000000000FF8000
000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF800000
00007F80000000007F80000007007FC0000007003FC0000007003FC000000F001FE000000F
001FE000000F000FF000001F0007F000003F0003F800003F0001FE0000FF0000FF8001FF00
003FF00FFF00001FFFFF0F000003FFFC070000007FE00300>
	 45 41 -4 40 54] 71 @dc
[<
003FE00001FFFC0007F07F000FC01F801F800FC03F800FE03F800FE07F0007F07F0007F0FF
0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F87F0007F07F00
07F07F0007F03F0007E03F800FE01F800FC00FC01F8003F07E0001FFFC00003FE000>
	 29 27 -2 26 34] 111 @dc
[<
01FC03FC0FFF0FFC3F839FFC7F00DF807E007F80FE003F80FE003F80FE003F80FE003F807F
003F803F003F803F803F800FE03F8007FC3F8000FFFF80000FFF8000003F8000003F800000
3F8007003F800F803F801FC03F001FC07E001FC07E000F81F80007FFF00001FF8000>
	 30 27 -2 26 33] 97 @dc
[<
FFFEFFFEFFFE0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00F
E00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0
0FE00FE0FFE0FFE0FFE0>
	 15 42 -3 41 20] 108 @dc
[<
C1FF00F7FFC0FF01E0FC0070F80038F00038F0003CE0003C60007C0000FC0003FC00FFF807
FFF81FFFF03FFFE07FFF807FFE00FFE000FC0000F80070F00070F000707000703800F01E03
F00FFFF003FE30>
	 22 27 -2 26 27] 115 @dc
[<
FFFE3FFF80FFFE3FFF80FFFE3FFF800FE003F8000FE003F8000FE003F8000FE003F8000FE0
03F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8
000FE003F8000FE003F8000FE003F8000FE003F8000FF003F8000FF003F8000FD803F8000F
D803F0000FCE03F000FFC787E000FFC1FFC000FFC07F0000>
	 33 27 -3 26 38] 110 @dc
[<
003FC3FF8000FFF3FF8003F03BFF8007C00FF8000F8007F8001F8003F8003F8003F8007F00
03F8007F0003F8007F0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F8
00FF0003F800FF0003F8007F0003F8007F0003F8007F0003F8003F8003F8001F8003F8000F
C007F80007E00FF80003F03FF80000FFFBF800001FE3F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F80000003FF80000003FF80000003FF800>
	 33 42 -2 41 38] 100 @dc
[<
00003FF800000003FFFF0000000FFFFFC000003FF007E00000FF8000F80001FE00003C0003
FC00001E0007F000000E000FF0000007001FE0000007001FE0000003803FC0000003803FC0
000003807FC0000003807F80000000007F8000000000FF8000000000FF8000000000FF8000
000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF800000
00007F80000000007F80000003807FC0000003803FC0000003803FC0000007801FE0000007
801FE0000007800FF000000F8007F000001F8003FC00003F8001FE00007F8000FF8001FF80
003FF007DF80000FFFFF87800003FFFE038000003FF00180>
	 41 41 -4 40 50] 67 @dc
[<
001F8000FFC001F86003F87003F03807F03807F03807F03807F03807F03807F03807F00007
F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F000FFFF
F0FFFFF01FFFF007F00003F00003F00001F00000F00000F00000F000007000007000007000
007000>
	 21 38 -1 37 27] 116 @dc
[<
FFFF00FFFF00FFFF000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000F
E0000FE0000FE0000FE0000FE0000FE0000FE0000FF01C0FF03E0FF07F0FD87F0FD87FFFCE
3EFFC7FCFFC1F0>
	 24 27 -2 26 28] 114 @dc
[<
FFFEFFFEFFFE0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00F
E00FE00FE00FE00FE00FE0FFE0FFE0FFE0000000000000000000000000000007000FC01FE0
3FE03FE03FE01FE00FC00700>
	 15 43 -3 42 20] 105 @dc
@F15 @sf
[<
40202010101008080878F8F8F0700000000000000000000070F8F8F870>
	 5 29 -4 19 13] 59 @dc
/@F7 @newfont
@F7 @sf
[<
FFFFF0FFFFF07FFFF03FFFF01FFFF00FFFF00E003807001803801801C01800E01800700000
3800003E00001F00000F800007C00007E00003F00003F00003F83803F87C01F8FE01F8FE03
F8FE03F8FE03F07C07F07007E03C1FC00FFF0003FC00>
	 21 32 -3 31 28] 50 @dc
[<
387CFEFEFE7C38>
	 7 7 -4 6 16] 46 @dc
[<
7FFFE07FFFE001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001
F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8
0001F80001F800FFF800FFF80001F800007800001800>
	 19 32 -4 31 28] 49 @dc
[<
0003FF00C0001FFFC3C0007F80E7C001FC003FC003F0001FC007E0001FC00FC0001FC01F80
001FC03F00001FC03F00001FC07F00001FC07F00001FC07E000FFFFCFE000FFFFCFE000000
00FE00000000FE00000000FE00000000FE00000000FE00000000FE000000007E000000C07E
000000C07F000000C03F000001C03F000001C01F800003C00FC00003C007C00007C003F000
0FC001F8003FC0007F00F1C0001FFFC0C00003FE0040>
	 38 34 -3 33 44] 71 @dc
[<
00FE0007FFC00F83E01F01F03E00F87C007C7C007CFC007EFC007EFC007EFC007EFC007EFC
007EFC007E7C007C7C007C7C007C3E00F81E00F00F83E007FFC000FE00>
	 23 22 -2 21 28] 111 @dc
[<
07E03F1FF87F7E0CF87E02F0FC01F0FC01F0FC01F0FC01F07E01F03F01F01FC1F003FDF000
3FF00001F00001F01E01F03F01F03F01E03F03E03F07C01FFF8007FC00>
	 24 22 -2 21 27] 97 @dc
[<
FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FF00FF00>
	 11 35 -2 34 16] 108 @dc
[<
C7F000EFFC00FC0E00F00700E00380E00380C00380C00780000F8001FF000FFF003FFE007F
F8007FE000FC0000F00300E00300E00300600700781F003FFF000FF300>
	 17 22 -2 21 22] 115 @dc
@F15 @sf
[<
7FE7FE0700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E007
00E00700E00700E00700E00700E00700E00700E0FFFFE00700E00700E00700E00700E00700
E00700E00700E00700E00381E001C1E000E0E0003FE0>
	 23 32 0 31 25] 13 @dc
/@F13 @newfont
@F13 @sf
[<
03C00FF01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFFFFFFFFFF7FFE7FFE3FFC1FF80FF003C0>
	 16 18 -3 19 23] 15 @dc
@F11 @sf
[<
FFFF03FFF0FFFF03FFF007E0007F0007E0007E0007E000FC0007E000FC0007E001F80007E0
03F00007E007E00007E00FE00007E00FC00007E01F800007F03F000007F87F000007EC7E00
0007E6FC000007E3F8000007E1F8000007E0F0000007E030000007E018000007E00C000007
E006000007E003800007E001C00007E000600007E000300007E000180007E0001E00FFFF00
FFE0FFFF00FFE0>
	 36 31 -2 30 41] 75 @dc
[<
FFF0FFF0FFF0FFF0>
	 12 4 -1 11 17] 45 @dc
[<
3FF9FFC03FF9FFC007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007
C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E00FFFF
FE00FFFFFE0007C1FE0007C0000007C0000007C0000007C0380007C07C0007C07C0003E07C
0001E07C0000F81C00007FF800000FE000>
	 26 32 0 31 29] 12 @dc
@F11 @sf
[<
3FF8FFE3FF803FF8FFE3FF8007C01F007C0007C01F007C0007C01F007C0007C01F007C0007
C01F007C0007C01F007C0007C01F007C0007C01F007C0007C01F007C0007C01F007C0007C0
1F007C0007C01F007C0007C01F007C0007C01F007C0007C01F007C0007C01F007C00FFFFFF
FFFC00FFFFFFFFFC0007C01F03FC0007C01F00000007C01F00000007C01F00000007C03F00
700007C07F00F80007C07F00F80003E07F80F80001E03F80F80000F81FE07800007FF8FFF0
00000FF01FC000>
	 41 32 0 31 44] 14 @dc
[<
181F801C7FE01EC1F81F807C1F007C1F003E1F003E1F003F1F003F1F003F1F003F1F003F1F
003F1F003E1F003E1F007E1F807C1FE0F81F7FF01F1FC01F00001F00001F00001F00001F00
001F00001F00001F00001F00001F0000FF0000FF0000>
	 24 32 -2 31 29] 98 @dc

2 @eop0

0 0 2 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(2)-436 246 y @F2 @sf(Design)41 b(In)m(tro)s(ductio)q(n)-1044 262 y @F15 @sf
(This)18 b(do)q(cumen)o(t)g(describ)q(e)q(s)h(a)e(design)i(of)e(the)h 
@F11 @sf(DCE)i(DFS)e(DCE)j(Lo)q(cal)h(File)f(System)c @F15 @sf(\()p @F11 @sf
(DCE)j(LFS)p @F15 @sf(\))-1909 56 y(Bu\013er)10 b(Managemen)o(t/Logging)f
(System)h(conforming)g(to)g(the)g(in)o(terface)g(do)q(cumen)o(t)h @F11 @sf
(DCE)h(LFS)e @F15 @sf(Bu\013er/Log)-1915 57 y(P)o(ac)o(k)m(age)15 b(In)o
(terface)g(Sp)q(eci\014)q(cation,)h(whic)o(h)g(incl)q(udes)h(the)e(bu\013er)h
(pac)o(k)m(age,)e(logging)i(system,)f(and)g(reco)o(v)o(ery)-1910 56 y
(system)f(used)i(in)f @F11 @sf(DCE)i(LFS)p @F15 @sf(.)e(The)g(use)g(of)f
(this)h(pac)o(k)m(age)g(is)g(in)o(tended)h(to)e(pro)o(vide)h(a)g(high-a)o
(v)m(ailabi)q(li)q(t)o(y)g(\014le)-1908 57 y(system)g(requiring)h(minimal)h
(reco)o(v)o(ery)d(up)q(on)i(an)g(unexp)q(ected)g(serv)o(er)f(reb)q(o)q
(ot.)-1392 182 y @F6 @sf(2.1)70 b(Goals)23 b(and)g(Constrain)n(ts)-827 141 y 
@F15 @sf(The)15 b(o)o(v)o(erall)h(design)g(of)e(the)i(system)e(is)i
(predicated)g(b)o(y)f(a)g(small)h(set)f(of)f(high-le)q(v)o(el)j(goals,)d
(as)h(w)o(ell)h(as)f(series)-1909 56 y(of)h(initial)i(constrain)o(ts;)e(w)o
(e)f(are)h(certain)h(that)e(as)h(implemen)o(tation)h(con)o(tin)o(ues)g
(the)f(list)h(of)f(constrain)o(ts)f(\(at)-1910 57 y(least\))g(will)i(b)q
(ecome)f(more)e(length)o(y)l(.)-641 160 y @F7 @sf(2.1.1)55 b(Goals)-308 
125 y @F15 @sf(There)22 b(are)g(sev)o(eral)h(critical)g(goals)f(for)g(the)g
(o)o(v)o(erall)g @F11 @sf(DCE)k(Lo)q(cal)q 27 x(File)g(System)p @F15 @sf
(.)40 b(Those)22 b(goals)g(are)-1910 57 y(directly)16 b(re\015ected)f
(within)h(the)e(design)i(of)e(this)h(pac)o(k)m(age;)f(an)g(understanding)i
(of)e(those)g(goals)g(will)i(assist)f(in)-1909 56 y(understanding)h(the)g
(rationale)f(of)g(the)g(Bu\013er/Log)g(pac)o(k)m(age)g(design)h(describ)q
(ed)q 16 x(here.)21 b(Those)15 b(goals)g(are:)-1810 146 y @F13 @sf(\017)
23 b @F11 @sf(FSCK-less)f(\014le)i(system)18 b @F15 @sf(As)i(\014le)h
(serv)o(ers)e(ha)o(v)o(e)h(gro)o(wn)f(dramatically)h(in)h(size,)h(it)e
(has)g(b)q(ecome)-1795 56 y(increasingly)e(painful)g(to)e(reco)o(v)o(er)g
(after)g(a)h(crash.)24 b(In)17 b(the)g(curren)o(t)f(w)o(orld)h(where)g(a)f
(single)i(AFS)e(\014le)-1794 57 y(serv)o(er)h(ma)o(y)f(ha)o(v)o(e)h(man)o
(y)g(clien)o(ts)h(dep)q(end)q(ing)h(up)q(on)f(its)f(services,)i(the)e
(reco)o(v)o(ery)g(time)g(necessary)h(is)-1795 56 y(costly)l(.)26 b(Th)o
(us)18 b(the)f @F11 @sf(DCE)j(Lo)q(cal)q 21 x(File)h(System)c @F15 @sf
(attempts)f(to)h(pro)o(vide)h(a)f(\014le)h(system)f(whic)o(h)h(can)-1795 
57 y(accomplish)e(reco)o(v)o(ery)f(rapidly)h(b)o(y)f(using)h(a)f(logging)h
(system)e(to)h(trac)o(k)f(\014le)j(system)d(c)o(hanges.)-1702 93 y @F13 @sf
(\017)23 b @F11 @sf(Single)17 b(e\016cien)o(t)g(bu\013er)e(managemen)o(t)i
(pac)o(k)m(age)d @F15 @sf(The)h @F11 @sf(DCE)i(Lo)q(cal)h(File)f(System)d 
@F15 @sf(dep)q(ends)-1794 57 y(hea)o(vily)20 b(up)q(on)h(the)e(bu\013er)h
(pac)o(k)m(age;)h(the)f(pac)o(k)m(age)g(m)o(ust)f(b)q(e)h(designed)h(to)e
(ha)o(v)o(e)g(few)h(side-e\013ects,)-1909 133 y(2.1)29 b(Goals)15 b(and)h
(Constrain)o(ts)409 b(2)542 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
2 @eop1

3 @bop0
@F15 @sf
[<
7FE3FE3FF00700700700070070070007007007000700700700070070070007007007000700
70070007007007000700700700070070070007007007000700700700070070070007007007
000700700700070070070007007007000700700700FFFFFFFF000700700000070070000007
007000000700700000070070000007007000000700F00F000300F00F000380F80F0001C07C
060000F04F0400001F81F800>
	 36 32 0 31 38] 14 @dc
/@F12 @newfont
@F12 @sf
[<
1C003300310070803080388038401C001C001C000E000E000E008700470043004380230033
000E00000000000000000000000000000001C001E001E000C0>
	 11 31 -4 30 14] 105 @dc
[<
3001C07003303803103807083803083803881C03841C01C01C01C01C01C00E00E00E00E00E
00E08E00E04700704700704780604740602630C01C0F80>
	 22 20 -4 19 26] 110 @dc
[<
0F0700308C80705C40703C40F01C40F01C40F00E20F00E00F00E00F00E0078070078070078
07003807003C03801C03800E03800707800389C000F1C00001C00001C00000E00000E00000
E00000E00000700000700000700000700003F8000078>
	 21 32 -4 31 23] 100 @dc
[<
07C018383804700270017000F000F000F000F0007C007BF0780C38023C011C010E01070101
C2007C>
	 16 20 -4 19 21] 101 @dc
[<
FFC0001C00001C00000E00000E00000E00000E0000070000070000071E0007238003C1C003
80E003807003807801C03801C03C01C03C01C03C00E01E00E01E00E01E08E01E04701E0470
1E04781C04741C02621801C1E0>
	 23 29 0 19 23] 112 @dc
[<
1E003100708070807040704038203800380038001C001C001C001C000E000E000E000E0007
00FFF007000700038003800380038001C00180>
	 12 28 -4 27 15] 116 @dc
[<
07C000187000301800700E00700F00F00700F00780F003C0F003C0F003C07801E07801E078
01E03C01E01C01E01E01C00E01C003018001C300007C00>
	 19 20 -4 19 23] 111 @dc
[<
3C0000660000F300007B000031800001800001C00001C00000C00000E00000E00000E00000
E000007000007000007000007000007000007000003800003800003800003800003800001C
00001C00001C00001C0001FFE0000E00000E00000E00000E00000E00000700000700000718
00033C00033C00019C000078>
	 22 41 2 31 14] 102 @dc
[<
38006400E200E200E200E200710070007000700038003800380038001C001C001C001C000E
000E000E000E00070007000700070003800380038003801FC003C0>
	 10 32 -4 31 12] 108 @dc
[<
3F800060E000F07000783800301C00001C00001C00000E00000E0003CE000C2E001C17001C
0F003C07003C07003C03803C03803C03803C03801E01C01E01C01E01C00E01C00F00E00700
E00380E001C1E000E270003C60>
	 20 29 -2 19 21] 103 @dc
@F11 @sf
[<
FFF00C03FFF8FFF01E03FFF806001E001F0006003F001F0006003F001F0006003F001F0006
007D801F0006007D801F000600F8C01F000600F8C01F000601F0601F000601F0601F000603
E0301F000603E0301F000607C0181F000607C0181F000607C0181F00060F800C1F00060F80
0C1F00061F00061F00061F00061F00063E00031F00063E00031F00067C00019F00067C0001
9F0006F80000DF0006F80000DF0006F80000DF0007F000007F00FFF000007FF8FFE000003F
F8>
	 45 31 -2 30 50] 77 @dc
@F11 @sf
[<
FFE00FFFE0FFE00FFFE00E0000FE00060000FC00060001FC00030001F800030001F8000180
03F000018003F00001FFFFF00000FFFFE00000C007E00000600FC00000600FC00000701FC0
0000301F800000303F800000183F000000183F0000000C7E0000000C7E0000000EFE000000
06FC00000006FC00000003F800000003F800000001F000000001F000000001F000000000E0
00000000E00000>
	 35 31 -2 30 40] 65 @dc
@F12 @sf
[<
1F8020604010E008F00CF00C700E000E003E03FC07F80FF00F800C000C060C070C03060103
0200FC>
	 16 20 -3 19 19] 115 @dc
[<
0F0700308C80705C40703C40F01C40F01C40F00E20F00E00F00E00F00E0078070078070078
07003807003C03801C03800E03800707800389C000F180>
	 19 20 -4 19 23] 97 @dc
[<
3000007000003800003800003800003800001C00001C00001C00001C00000E00000E00000E
00008E00004703004707804787804783802661001C1E00>
	 17 20 -4 19 19] 114 @dc
@F7 @sf
[<
0003FE0000001FFFC00000FF00F00001F800380003F0000C0007C00006000F800003001F80
0003003F000003803F000001807F000001807E000001807E00000000FE00000000FE000000
00FE00000000FE00000000FE00000000FE00000000FE00000000FE000000007E000001807E
000001807F000001803F000003803F000003801F800007800F8000078007C0000F8003E000
1F8001F8003F8000FF01E380001FFF81800003FE0080>
	 33 34 -3 33 40] 67 @dc
[<
FFE1FFC0FFE1FFC01F003E001F003E001F003E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E001F003E001F003E001F003E001F003E001F803E001F803E001F40
3C001F307C00FF1FF800FF07E000>
	 26 22 -2 21 31] 110 @dc
[<
00F80003FE0007C3000F83000F81800F81800F81800F81800F81800F80000F80000F80000F
80000F80000F80000F80000F80000F80000F80000F8000FFFF00FFFF003F80000F80000780
00078000038000038000018000018000018000018000>
	 17 32 -1 31 22] 116 @dc
[<
FFF000FFF0001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F
00001F00001F00001F83C01E87E01E87E01EC7E01E67E0FE3FC0FE1F00>
	 19 22 -2 21 23] 114 @dc
[<
FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F00FF00FF0000000000000000000000000000001C003F007F007F007F003F001C00>
	 11 36 -2 35 16] 105 @dc
@F15 @sf
[<
40201010080804040474FCFCF870>
	 6 14 -4 31 13] 39 @dc
@F15 @sf
[<
007FFE000007C0000003C0000003C0000003C0000003C0000003C0000003C0000003C00000
03C0000003C0000003C0000003C0000007C0000007A000000FB000001F1000001E0800003E
0800003C0400007C040000F8020000F0030001F0010001E0008003E0008007C00040078000
400F8000601F8000F8FFF003FF>
	 32 31 -1 30 34] 89 @dc
@F12 @sf
[<
07C000183800300400700200700100F00000F00000F00000F00000F0000078000078000078
00003C02001C07001E07800E078003008001C100007E00>
	 17 20 -4 19 21] 99 @dc

3 @eop0

0 0 3 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1794 145 y(pro)o(vide)j(a)g
(single)i(e\016cien)o(t)f(mec)o(hanism)g @F12 @sf(indep)n(endent)e(of)j
(lo)n(gging)c @F15 @sf(for)i(managing)g(the)g(disk)h(bu\013er)-1795 57 y
(cac)o(he,)15 b(and)g(pro)o(vide)h(solid)g(p)q(erformance.)-795 93 y 
@F13 @sf(\017)23 b @F11 @sf(Main)o(tain)c(or)g(Impro)o(v)o -1 x(e)e(\014le)i
(system)e(p)q(erformance)e @F15 @sf(In)i(the)f(Berk)o(eley)h(F)l(ast)e
(File)i(System)f(the)-1795 57 y(\014le)j(system)f(consistency)i(is)f(main)o
(tained)g(b)o(y)g(relying)g(up)q(on)g(a)g(forced-write)f(scenario;)j(b)o
(y)d(logging)-1795 56 y(data)10 b(to)h(the)g(disk)h(it)g(is)g(hop)q(ed)g
(suc)o(h)g(writes)f(can)g(b)q(e)h(a)o(v)o(oided)g(whenev)o(er)g(p)q
(ossible.)20 b(In)12 b(reducing)g(forced)-1795 57 y(writes,)j(it)h(is)h
(hop)q(ed)g(that)e(\014le)i(system)e(p)q(erformance)h(will)i(b)q(e)e(main)o
(tained)h(or)f(impro)o(v)o(ed)g(while)h(still)-1794 56 y(pro)o(viding)f
(stronger)e(\014le)i(system)f(consistency)h(guaran)o(tees.)-1113 94 y 
@F13 @sf(\017)23 b @F11 @sf(Simplicit)o(y)g @F15 @sf(The)e(critical)i
(nature)f(of)f(the)g(bu\013er/log)h(pac)o(k)m(age)f(to)g(the)h(o)o(v)o
(erall)f(p)q(erformance)h(of)-1796 56 y(the)17 b(\014le)g(system)g(itself)h
(mak)o(es)e(it)h(critical)h(to)f(k)o(eep)g(the)g(design)g(simple)i(enough)e
(that)f(its)h(op)q(erating)-1795 57 y(c)o(haracteristics)d(can)h(b)q(e)g
(describ)q(ed)h(and)e(analyzed.)21 b(F)l(urther)14 b(it)g(is)h(necessary)g
(to)e(pro)o(vide)i(a)f(detailed)-1794 56 y(description)i(of)f(correctness)g
(and)h(a)e(detailed)j(analysis)f(to)f(detect)g(improp)q(er)h(implemen)o
(tation.)-1741 94 y @F13 @sf(\017)23 b @F11 @sf(P)o(erform)o(ance)16 b
(Analysis)e @F15 @sf(This)g(design)i(of)d(the)i(logging)f(pac)o(k)m(age)g
(has)g @F12 @sf(not)h @F15 @sf(b)q(een)g(space)f(optimized;)-1794 57 y(it)
19 b(often)g(records)g(more)g(information)g(than)g(necessary)h(in)g(order)f
(to)g(mak)o(e)f(p)q(erformance)i(analysis)-1795 56 y(simpler.)27 b(F)l(or)
16 b(example,)i @F12 @sf(start)f @F15 @sf(records)g(are)g(written)g(for)g
(eac)o(h)g(transaction,)g(although)g(they)g(could)-1794 57 y(b)q(e)d
(impli)q(ci)q(tly)i(con)o(tained)e(within)i(the)e(\014rst)g(actual)g
(transaction)g(logged)g(b)q(ecause)h(some)f(small)h(infor-)-1795 56 y
(mation)g(passed)g(b)o(y)g(the)h(calling)g(pro)q(cedure)h(will)f(b)q(e)g
(written)g(to)e(disk.)-1363 161 y @F7 @sf(2.1.2)55 b(Constrain)n(ts)-453 
125 y @F15 @sf(The)17 b(\014le)g(system)f(is)h(strongly)f(constrained)h(b)o
(y)f(the)h(requiremen)o(ts)g(and)f(needs)h(of)f(the)h @F11 @sf(DCE)i(Lo)q
(cal)i(File)-1909 56 y(System)p @F15 @sf(:)-111 146 y @F13 @sf(\017)i 
@F11 @sf(Securit)o(y)15 b @F15 @sf(There)g(are)g(securit)o(y)g(concerns)h
(whic)o(h)g(are)f(not)g(addressed)g(within)i(the)e(curren)o(t)g(scop)q(e)h
(of)-1796 56 y(this)i(design.)30 b(F)l(or)17 b(instance,)j(one)e(concern)h
(w)o(as)e(the)h(abilit)o(y)h(to)f(obtain)g(access)h(to)e(old)i(\014le)g
(system)-1796 57 y(pages)j(b)o(y)g(using)i(the)e(logging)h(\014le)h
(system's)d(o)o(wn)h(guaran)o(tees.)41 b(Ho)o(w)o(ev)o(er,)23 b(w)o(e)f
(devised)i(sev)o(eral)-1795 56 y(di\013eren)o(t)16 b(sc)o(hemes)h(to)e
(deal)i(with)g(this)g(problem.)23 b(F)l(or)16 b(example,)h(w)o(e)f(could)h
(guaran)o(tee)f(the)g(zeroing)-1795 56 y(of)i(allo)q(cated)j(but)e(un)o
(written)g(data)g(pages)g(b)o(y)g(using)h @F12 @sf(op)n(er)n(ations)f(lo)n
(gging)f @F15 @sf(to)h(log)g(this)g(as)g(a)g(single)-1794 57 y(op)q
(eration.)h(F)l(or)15 b(more)g(information)g(ab)q(out)g(op)q(erations)h
(logging)f(please)h(refer)g(to)e(the)i(discussion)h(in)-1795 56 y(Section)f
(2.3.2\))o(.)-284 75 y(Another)22 b(p)q(ossible)i(mec)o(hanism)e(w)o(ould)h
(b)q(e)g(to)e @F12 @sf(fo)n(ol)h @F15 @sf(the)g(reco)o(v)o(ery)f(pac)o(k)m
(age)i(b)o(y)f(creating)g(an)g(old)-1795 57 y(v)m(alue/new)15 b(v)m(alue)h
(en)o(try)e(where)h(the)f(old)h(v)m(alue)h(w)o(as)d(all)j(zeros)e(and)h
(the)f(new)h(v)m(alue)g(w)o(as)f(the)h(curren)o(t)-1796 56 y(con)o(ten)o
(ts)10 b(of)h(the)g(bu\013er.)19 b(The)11 b(transaction)g(w)o(ould)h(b)q
(e)g(committed)f(when)h(the)f(data)g(page)g(w)o(as)f(written)-1795 57 y
(for)15 b(the)h(\014rst)f(time.)22 b(Hence,)17 b(if)f(the)g(system)f(w)o
(ere)h(to)f(crash)h(the)f(reco)o(v)o(ery)h(pac)o(k)m(age)f(w)o(ould)i
(read)e(the)-1795 56 y(log,)f(determine)j(that)d(it)i(needed)g(to)f(undo)g
(the)h(op)q(eration,)f(and)g(zero)g(the)g(page.)-1423 75 y(Y)l(et)20 b
(another)f(sc)o(heme)h(whic)o(h)h(can)e(b)q(e)i(implemen)o(ted)g(outside)g
(of)e(this)h(pac)o(k)m(age)g(is)g(to)f(dela)o(y)i(com-)-1796 57 y(mittmen)o
(t)14 b(of)g(the)g(allo)q(cation)i(un)o(til)f(the)g(\014rst)f(write)g(is)h
(p)q(erformed)g(on)g(the)f(actual)h(data)e(page.)20 b(Since)-1794 56 y 
@F12 @sf(al)r(lo)n(c)n(ation)11 b @F15 @sf(is)i(done)g(concurren)o(tly)g
(with)g(a)f(write)h(op)q(eration)f(suc)o(h)h(a)f(dela)o(y)h(of)f(the)h
(commit)f(is)h(unlik)o(el)q(y)-1794 57 y(to)h(cause)i(a)f(problem.)-503 
243 y(2.1)29 b(Goals)15 b(and)h(Constrain)o(ts)409 b(3)542 b(Marc)o(h)14 b
(2,)h(1993)f(14:04)-1911 b
3 @eop1

4 @bop0
@F12 @sf
[<
1F0031C060E06070E038E03CE01CE01EE01EE01E700F700F700F700F380F380F3C0E3A0E1D
0C1CF01C001C000E000E000E000E0007000700070007003F800780>
	 16 32 -5 31 21] 98 @dc
[<
07C3800C26401C1E20180E20180E201C0E201C07101C07001C07001C07000E03800E03800E
03808703804701C04301C04381C02301C03300E00E00C0>
	 20 20 -4 19 24] 117 @dc
[<
3C07C00000620C600000F31E100000798F18000031860C000001C00E000001C00E000000C0
06000000E007000000E007000000E007000000E00700000060038000007003800000700380
0000700380000070038000007001C000003801C000003801C000003801C000003801C00000
3800E000001C00E000001C00E000001C00E000001C00E000001C00700000FFFFFF80000E00
7000000E007000000E007000000E0038000007003800000700380000070038000003031860
0003879CF00001878CF00000C3867000003F03E0>
	 36 41 2 31 28] 11 @dc
[<
FFFFFE000F001F000780070007800100078001800780008003C0004003C0004003C0002003
C0002001E0001001E0200001E0200001E0200000F0300000F0300000FFF00000F030000078
1800007808000078080000780808003C0004003C0004003C0004003C0004001E0004001E00
04001E000C001E001C01FFFFFE>
	 31 31 -3 30 31] 69 @dc
[<
0FFE0000E00000E0000070000070000070000070000038000038000F380030B800705C0070
3C00F01C00F01C00F00E00F00E00F00E00F00E007807007807007807003807003C03801C03
800E03800705800388C000F040>
	 18 29 -4 19 21] 113 @dc
[<
03C0000E30001C08001C04001C04001C02001C02001C01001C01001C01000E00800E00800E
00808700804700C04301C04383C02307C03307800E0380>
	 18 20 -4 19 21] 118 @dc
[<
FFFF000003E0000001E0000001E0000001E0000001E0000000F0000000F0000000F0000000
F0000000780000007800000078000000780000003C0000003C0000003C0000003C0000001E
0000001E0000001E0000801E0040400F0020400F0020600F0020200F002020078020100780
20180780201E0780E00FFFFFF0>
	 28 31 -8 30 33] 84 @dc
@F12 @sf
[<
03E1F0000E1308000C0F04001C0F02001C0602001C0701001C0701001C0700801C0700801C
0700800E0380400E0380400E038040870380404701C0604301C0E04381C1E02301C3E03300
E3C00E00C1C0>
	 27 20 -4 19 30] 119 @dc
@F12 @sf
[<
600700E00CC0700C40701C20700C20700E20380E103807003807003807001C03801C03801C
03801C03800E01C00E01C00F01C00E8180076300071E000700000700000380000380000380
0003800001C00001C00001C00001C0000FE00001E000>
	 20 32 -3 31 23] 104 @dc
@F6 @sf
[<
0000FFE00000000FFFFE0000003FC07F800000FF001FE00001FC0007F00003F80003F80007
F00001FC000FF00001FE001FE00000FF001FE00000FF003FC000007F803FC000007F807FC0
00007FC07FC000007FC07F8000003FC0FF8000003FE0FF8000003FE0FF8000003FE0FF8000
003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF800000
3FE07F8000003FC07F8000003FC07F8000003FC07FC000007FC03FC000007F803FC000007F
801FE00000FF001FE00000FF000FF00001FE0007F00001FC0003F80003F80001FC0007F000
007F001FC000003FC07F80000007FFFC00000000FFE00000>
	 43 41 -4 40 52] 79 @dc
[<
0001C000000003E000000003E000000007F000000007F00000000FF80000000FF80000000F
F80000001FDC0000001FDC0000003FDE0000003F8E0000007F8F0000007F070000007F0700
0000FE03800000FE03800001FC01C00001FC01C00003FC01E00003F800E00007F800F00007
F000700007F0007000FFFE03FF80FFFE03FF80FFFE03FF80>
	 33 27 -1 26 36] 118 @dc
[<
001FF00000FFFE0003F81F0007E003800FC001C01F8000E03F8000E07F0000007F0000007F
000000FF000000FF000000FF000000FFFFFFE0FFFFFFE0FF0007E0FF0007E07F0007E07F00
07C07F000FC03F800FC01F800F800F801F8007C01F0003F07E0001FFF800003FE000>
	 27 27 -2 26 32] 101 @dc
[<
00078003C00000078003C000000FC007E000000FC007E000000FC007E000001FE00FF00000
1FE00FF000003FF01FF800003FF01FB800003FF01FB800007F783F3C00007F383F1C0000FF
383F1E0000FE1C7E0E0000FE1C7E0E0001FE1EFC0F0001FC0EFC070001FC0EFC070003F807
F8038003F807F8038007F807F803C007F003F001C007F003F001C00FE007E000E0FFFE7FFC
0FFEFFFE7FFC0FFEFFFE7FFC0FFE>
	 47 27 -1 26 50] 119 @dc

4 @eop0

0 0 4 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1840 145 y @F13 @sf(\017)23 b 
@F11 @sf(Ab)q(ort)16 b @F15 @sf(In)i(the)f(pro)q(cess)g(of)f(discussin)q
(g)i(transaction)e(ab)q(orts)g(w)o(e)h(w)o(ere)f(unable)i(to)f(come)f(up)i
(with)f(a)-1796 57 y(plausible)q 20 x(need)k(for)d(suc)o(h)i(a)f(mec)o
(hanism.)33 b(Excludin)q(g)20 b(it)g(from)e(the)i(in)o(terface)g(and)f
(design)h(of)f(the)-1795 56 y(system)14 b(simpli)q(\014es)j(the)e
(implemen)q -1 x(tation.)-794 94 y @F13 @sf(\017)23 b @F11 @sf(Lo)q(c)o
(king)16 b @F15 @sf(Initally)m(,)g(it)g(w)o(as)e(presumed)i(that)f(this)h
(pac)o(k)m(age)f(w)o(ould)h(not)f(ha)o(v)o(e)g(an)o(y)g(kno)o(wledge)g(of)g
(the)-1795 56 y(particular)c(lo)q(c)o(king)h(system)f(used)g(b)o(y)g
(higher-lev)o(el)q 12 x(pac)o(k)m(ages)g(\(that)f(is,)i(this)f(pac)o(k)m
(age)g(did)h(not)f(pro)o(vide)-1795 57 y(an)o(y)k(suc)o(h)h(lo)q(c)o
(king.\))23 b(Ho)o(w)o(ev)o(er,)15 b(since)i(that)e(initial)j
(understanding)f(w)o(e)e(ha)o(v)o(e)h(b)q(een)h(con)o(vinced)g(that)-1796 
56 y(some)i(minimal)q 21 x(supp)q(ort)i(for)e(lo)q(c)o(king)i(m)o(ust)f(b)q
(e)h(added.)35 b(T)l(o)20 b(pro)o(vide)h(for)e(the)i(high-concurrency)-1794 
57 y(lo)q(c)o(king)16 b(needs)h(of)e @F11 @sf(DCE)j(LFS)e @F15 @sf(w)o(e)g
(ha)o(v)o(e)f(added)h(the)g @F12 @sf(bu\013er)s 14 -2 z 14 x(EquivT)m(r)n
(an)e @F15 @sf(call)j(to)e(allo)o(w)h(for)f(merging)-1795 56 y(of)g
(transactions,)f(whic)o(h)i(is)g(describ)q(e)q(d)h(in)f(Section)g(4.14.)k
(This)c(addition)g(to)f(the)g(in)o(terface)h(is)g(highly)-1794 57 y(sp)q
(eci\014c)h(to)e(the)h(t)o(yp)q(e)g(of)f(lo)q(c)o(king)i(en)o(visioned)h
(b)o(y)d(this)h(system)g(\(notably)f(via)h(the)g @F12 @sf(e)n(quivalenc)n
(e)g(class)-1797 56 y @F15 @sf(mec)o(hanism)g(describ)q(ed)h(in)g(Chapter)e
(12.)20 b(If)c(a)g(di\013eren)o(t)f(mo)q(del)i(of)e(lo)q(c)o(king)i(is)f
(to)f(b)q(e)h(supp)q(orted,)g(w)o(e)-1796 56 y(en)o(vision)g(b)q(oth)f(in)o
(terface)h(and)f(design)h(system)f(c)o(hanges.)-1056 94 y @F13 @sf(\017)
23 b @F11 @sf(Finite)18 b(log)h(space)c @F15 @sf(W)l(e)g(presume)h(that)e
(the)i(log)f(is)g(simply)i(a)e(\014nite)h(amoun)o(t)e(of)h(pre-allo)q
(cated)i(disk)-1795 57 y(space,)22 b(most)f(lik)o(ely)i(established)g
(when)e(a)g @F12 @sf(newfs)g @F15 @sf(call)h(is)g(issued)g(to)f(the)g
(disk.)39 b(The)22 b(log)f(system)-1796 56 y(will)d(attempt)e(to)g(\014t)g
(all)i(activit)o(y)e(within)i(this)f(space.)25 b(The)16 b(curren)o(t)h
(design)g(presumes)g(a)g(su\016cien)o(t)-1795 57 y(amoun)o(t)d(of)h(space)g
(is)h(allo)q(cated)g(so)f(that)f @F12 @sf(trunc)n(ation)h @F15 @sf(of)g
(the)g(log)h(is)f(nev)o(er)h(needed.)-1469 75 y(More)d(sp)q(eci\014c)q
(all)q(y)l(,)i(w)o(e)f(think)h(of)f(the)g(curren)o(t)h(blo)q(c)o(k)g(b)q
(eing)g(written)f(in)h(the)g(log)f(as)g(its)g @F12 @sf(he)n(ad)h @F15 @sf
(and)f(the)-1795 56 y(last)e(blo)q(c)o(k)h(the)f(log)g(system)g(m)o(ust)f
(main)o(tain)i(to)e(insure)j(correctness)e(if)g(a)g(reco)o(v)o(ery)f(is)i
(necessary)f(as)g(its)-1795 57 y @F12 @sf(tail)p @F15 @sf(.)19 b(If)c(the)f
(head)h(of)f(the)h(log)f(o)o(v)o(erlaps)g(with)h(the)g(tail)g(of)f(the)g
(log)h(w)o(e)f(presume)h(the)f(implemen)q -1 x(tation)-1795 56 y(will)i
(terminate)g(op)q(eration.)-494 75 y(F)l(uture)h(implemen)o(tations)h(are)e
(free)h(to)g(impro)o(v)o(e)f(this)i(b)q(eha)o(vior.)25 b(W)l(e)17 b(b)q
(eli)q(ev)o(e,)h(ho)o(w)o(ev)o(er,)f(that)f(an)o(y)-1796 57 y(truncation)f
(algorithms)g(at)f(this)h(p)q(oin)o(t)h(will)g(signi\014can)o(tly)h
(impact)e(the)g(o)o(v)o(erall)g(p)q(erformance)g(of)f(the)-1795 56 y(\014le)i
(system.)-336 183 y @F6 @sf(2.2)70 b(Ov)n(erview)o -440 140 a @F15 @sf
(The)21 b(design)g(of)f(this)h(pac)o(k)m(age)g(is)g(prop)q(erly)g(divide)q
(d)h(in)o(to)e(three)h(closely)h(coupled,)h(but)d(clearly)i(de\014ned)-1908 
57 y(sections:)j(the)18 b(bu\013er)f(pac)o(k)m(age)h(prop)q(er,)g(the)g
(logging)g(pac)o(k)m(age,)g(and)f(the)h(reco)o(v)o(ery)f(pac)o(k)m(age)h
(\(see)f(Figure)-1909 56 y(2.1\).)h(Of)d(these)g(sections)h(the)e(op)q
(erations)h(of)g(the)g(reco)o(v)o(ery)f(and)h(bu\013er)f(in)o(terfaces)h
(are)g(externally)h(visible;)-1908 56 y(the)f(logging)h(pac)o(k)m(age)f
(exists)h(en)o(tirely)g(b)q(elo)o(w)g(the)f(bu\013er)g(and)g(reco)o(v)o
(ery)g(pac)o(k)m(ages.)-1484 96 y(This)h(do)q(cumen)o(t)h(is)f(divide)q(d)h
(in)o(to)f(the)g(v)m(arious)g(c)o(hapters,)g(eac)o(h)g(of)f(whic)o(h)i
(describ)q(es)g(some)f(comp)q(onen)o(t)g(of)-1910 57 y(the)e(o)o(v)o
(erall)f(pac)o(k)m(age.)19 b(In)c(Chapter)e(3)g(w)o(e)g(describ)q(e)i(the)f
(o)o(v)o(erall)f(design)i(of)e(the)g(bu\013er)h(system.)19 b(In)14 b
(Chapter)-1910 56 y(4)g(w)o(e)g(describ)q(e)i(the)e(design)h(of)f(the)g
(externally)h(visibl)q(e)g(in)o(terface)g(routines)f(used)h(b)o(y)f(the)h
(bu\013er)f(pac)o(k)m(age)g(In)-1909 56 y(Chapter)g(5)f(w)o(e)h(describ)q
(e)i(the)e(design)h(of)e(the)h(in)o(ternal)h(routines)f(used)h(b)o(y)f
(the)g(bu\013er)g(pac)o(k)m(age.)19 b(In)c(Chapter)-1910 57 y(6)i(w)o(e)h
(describ)q(e)h(the)e(o)o(v)o(erall)h(design)h(of)e(the)h(log)f(system.)27 b
(In)18 b(Chapter)f(7)g(w)o(e)h(describ)q(e)h(the)f(design)g(of)f(the)-1909 
56 y(in)o(ternal)j(routines)f(used)g(b)o(y)g(the)g(the)g(log)g(pac)o(k)m
(age)f(\(except)h(the)g(equiv)m(al)q(ence)i(class)e(routines)g(whic)o(h)h
(are)-1910 57 y(describ)q(ed)c(in)e(Chapter)g(12\).)k(In)c(Chapter)g(8)f
(w)o(e)h(describ)q(e)h(the)f(o)o(v)o(erall)g(design)g(of)f(the)h(reco)o(v)o
(ery)f(comp)q(onen)o(t)-1909 56 y(of)i(the)g(system.)k(In)d(Chapter)f(9)f
(w)o(e)h(describ)q(e)i(the)e(design)h(of)f(the)g(reco)o(v)o(ery)f(system)h
(in)o(terface.)20 b(In)c(Chapter)-1910 57 y(10)f(w)o(e)g(describ)q(e)h
(the)g(data)e(t)o(yp)q(es)h(used)h(within)h(the)e(system.)-1078 180 y(2.3)
29 b(Philosoph)o(y)638 b(4)542 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
4 @eop1

5 @bop0
/@F4 @newfont
@F4 @sf
[<
FFFFC0003FFFFFC0FFFFC0003FFFFFC0FFFFC0003FFFFFC00FFC000001FFE00003F8000000
7FC00000F00000007FC00000600000007F800000600000007F80000070000000FF80000030
000000FF00000030000000FF00000018000001FE00000018000001FE00000018000001FE00
00000C000003FC0000000C000003FC0000000C000007FC00000006000007F8000000060000
07F800000007FFFFFFF800000003FFFFFFF000000003FFFFFFF00000000380001FF0000000
0180001FE00000000180001FE000000001C0003FE000000000C0003FC000000000C0003FC0
00000000E0007F800000000060007F800000000060007F80000000003000FF000000000030
00FF00000000003000FF00000000001801FE00000000001801FE00000000001803FE000000
00000C03FC00000000000C03FC00000000000C07FC00000000000607F800000000000607F8
0000000000070FF80000000000030FF00000000000030FF00000000000039FF00000000000
019FE00000000000019FE0000000000000FFC0000000000000FFC0000000000000FFC00000
000000007F800000000000007F800000000000007F800000000000003F000000000000003F
000000000000003F000000000000001E000000000000001E000000000000001E0000000000
00000C00000000>
	 58 61 -3 60 65] 65 @dc
[<
C03FC000C0FFF800E3C03C00F7000E00FC000700FC000380F80003C0F00001C0F00001E0E0
0001E0E00001E0E00001E0E00001E0C00003E0C00007E040000FC000001FC00000FF80001F
FF8001FFFF0003FFFE000FFFFC001FFFF0003FFFC0007FFC00007F800000FE000000F80001
80F8000180F0000180F0000180F0000180700003807000038038000780380007801E001F80
0F807F8003FFE380007F8180>
	 27 40 -3 38 34] 115 @dc
[<
07C00000001FF00000003838000000700C0000007C06000000FE07000000FE03000000FE01
800000FE018000007C00C000001000C000000000C000000000600000000060000000003000
00000030000000003000000000180000000018000000003C000000003C000000003C000000
007E000000007E00000000FF00000000FF00000000FF00000001F980000001F980000003F9
C0000003F0C0000003F0C0000007E060000007E06000000FE07000000FC03000000FC03000
001F801800001F801800003F801C00003F000C00003F000C00007E000600007E00060000FE
00070000FC00030000FC00030001F800018001F800018003F80001C003F80003E007FC0007
F8FFFF801FFFFFFF801FFFFFFF801FFF>
	 40 55 -2 36 45] 121 @dc
[<
FFFFF1FFFFE0FFFFF1FFFFE0FFFFF1FFFFE003FC0007F80001F80003F00001F80003F00001
F80003F00001F80003F00001F80003F00001F80003F00001F80003F00001F80003F00001F8
0003F00001F80003F00001F80003F00001F80003F00001F80003F00001F80003F00001F800
03F00001F80003F00001F80003F00001F80003F00001F80003F00001F80003F00001F80003
F00001F80003F00001F80003F00001FC0003F00001FC0003F00001FC0003F00001FE0003F0
0001FB0003E00001FB0007E00007F98007C000FFF8E00F8000FFF8781F0000FFF81FFE0000
01F807F80000>
	 43 38 -2 37 48] 110 @dc
[<
0003FC00001FFF00007E03C000F800E001F0003003E0001807C0000C0FC000061F8000061F
8000033F0000033F0000037F0000007F0000007E000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE0000007E0000007E0000007F0000007F0000
003F0000783F0000FC1F8001FE0F8001FE0FC001FE07C001FE03E000FC01F0003C00F80038
003E01F0001FFFC00003FE00>
	 32 40 -3 38 38] 99 @dc
[<
FFFFFFC0FFFFFFC0FFFFFFC000FFC000007F8000007F8000007F8000007F8000007F800000
7F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F
8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F80
00007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000
007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F800000
7F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F800000FF
C000FFFFFFC0FFFFFFC0FFFFFFC0>
	 26 59 -2 58 31] 73 @dc
[<
60000000F0000000F0000000F800000078000000780000007C0000003C0000003C0000003E
0000001E0000001E0000001F0000000F0000000F0000000F800000078000000780000007C0
000003C0000003C0000003E0000001E0000001E0000001F0000000F0000000F0000000F800
000078000000780000007C0000003C0000003C0000003E0000001E0000001E0000001F0000
000F0000000F0000000F800000078000000780000007C0000003C0000003E0000001E00000
01E0000001F0000000F0000000F0000000F800000078000000780000007C0000003C000000
3C0000003E0000001E0000001E0000001F0000000F0000000F0000000F8000000780000007
80000007C0000003C0000003C0000003E0000001E0000001E0000001F0000000F0000000F0
000000F800000078000000780000007C0000003C0000003C0000003E0000001E0000001E00
00001F0000000F0000000F00000006>
	 32 87 -5 64 43] 47 @dc
[<
000001FF80000000001FFFF8000000007F00FE00000001FC003F80000007F0000FE000000F
E00007F000001F800001F800003F000000FC00007F000000FE0000FE0000007F0001FC0000
003F8003F80000001FC007F80000001FE007F00000000FE00FF00000000FF00FF00000000F
F01FE000000007F81FE000000007F83FE000000007FC3FC000000003FC7FC000000003FE7F
C000000003FE7FC000000003FE7FC000000003FE7F8000000001FEFF8000000001FFFF8000
000001FFFF8000000001FFFF8000000001FFFF8000000001FFFF8000000001FFFF80000000
01FFFF8000000001FFFF8000000001FFFF8000000001FFFF8000000001FF7F8000000001FE
7F8000000001FE7F8000000001FE7FC000000003FE3FC000000003FC3FC000000003FC3FC0
00000003FC1FC000000003F81FE000000007F80FE000000007F00FF00000000FF007F00000
000FE007F00000000FE003F80000001FC001FC0000003F8000FC0000003F00007E0000007E
00003F000000FC00001F800001F800000FC00003F0000007F0000FE0000001F8001F800000
007F00FE000000001FFFF80000000001FF800000>
	 56 61 -5 59 67] 79 @dc
[<
FFFFFFFFFFF8FFFFFFFFFFF8FFFFFFFFFFF800FFC0007FF8007F80000FF8007F800003F800
7F800001FC007F8000007C007F8000007C007F8000003C007F8000001C007F8000001C007F
8000001C007F8000000C007F8000000C007F8000000C007F8000000C007F8000000E007F80
000006007F80000006007F80000006007F80000006007F80000006007F80000000007F8000
0000007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F80000000
007F80000000007F80000000007F80000000007F80000000007F80000000007F8000000000
7F80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F8000000000FFE0
000000FFFFFFF00000FFFFFFF00000FFFFFFF00000>
	 47 59 -2 58 54] 76 @dc
[<
007F800F8003FFE01FE00FE0703FF01F80187E383F000C7C187F0006F80C7E0006F80CFE00
03F80CFE0003F80CFE0001F80CFE0001F80CFE0001F80C7E0001F80C7F0001F8007F0001F8
003F8001F8001F8001F8000FC001F80007F001F80003F801F80000FF01F800003FF9F80000
07FFF80000001FF800000001F800000001F800000001F800000001F8000F0001F8001F8001
F8003FC001F0003FC003F0003FC003F0003FC003E0001F8007C0001E000F80000E001F0000
07C07E000001FFF80000003FC00000>
	 38 40 -4 38 43] 97 @dc
[<
0001FE0000000FFF8000003F01E000007800700001F000180003E0000C0007C00006000FC0
0003000F800003001F800001803F000001803F000001807F000000007F000000007E000000
007E00000000FE00000000FE00000000FE00000000FE00000000FE00000000FFFFFFFF80FF
FFFFFF80FE00001F80FE00001F807E00001F807E00001F807F00001F003F00001F003F0000
1F001F00003F001F80003E000F80003E0007C0007C0003E000780001E000F00000F801E000
007E07C000001FFF00000003FC0000>
	 33 40 -2 38 38] 101 @dc
[<
FFFFF800FFFFF800FFFFF80003FC000001F8000001F8000001F8000001F8000001F8000001
F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8
000001F8000001F8000001F8000001F8000001F8000001F8000001FC000001FC000001FC00
0001FC000001F6004001F601F001F603F801F303F807F183F8FFF0C1F8FFF070F0FFF03FE0
03F00F80>
	 29 38 -2 37 34] 114 @dc
[<
000000000001FC00FFFFFFC0000FFF00FFFFFFC0003F8380FFFFFFC0007F00C000FFC00000
FF0060007F800001FE0060007F800003FE0030007F800003FE0030007F800007FC0030007F
800007FC0030007F800007FC0000007F800007FC0000007F800007FC0000007F800007FC00
00007F800007FC0000007F800007FC0000007F800007F80000007F800007F80000007F8000
07F80000007F800007F80000007F800007F80000007F800007F80000007F800007F0000000
7F80000FF00000007F80000FE00000007F80001FC00000007F80001F800000007F80003F00
0000007F8000FE000000007F8003F8000000007FFFFFE0000000007FFFFFF8000000007F80
01FE000000007F80003F800000007F80000FE00000007F800007F00000007F800003F80000
007F800001FC0000007F800001FE0000007F800001FF0000007F800000FF0000007F800000
FF8000007F800000FF8000007F800000FF8000007F800000FF8000007F800000FF8000007F
800000FF8000007F800000FF8000007F800000FF0000007F800001FF0000007F800001FE00
00007F800001FE0000007F800003FC0000007F800007F80000007F80000FF00000007F8000
3FE0000000FFC001FF800000FFFFFFFFFE000000FFFFFFFFF8000000FFFFFFFF80000000>
	 60 60 -2 58 63] 82 @dc
[<
0001FE0000000FFFC000003F03F00000F8007C0001F0003E0003E0001F0007C0000F800F80
0007C01F800007E01F000003E03F000003F03F000003F07F000003F87E000001F87E000001
F8FE000001FCFE000001FCFE000001FCFE000001FCFE000001FCFE000001FCFE000001FCFE
000001FCFE000001FC7E000001F87E000001F87E000001F83F000003F03F000003F03F0000
03F01F000003E00F800007C00F800007C007C0000F8003E0001F0001F0003E0000F8007C00
003F03F000000FFFC0000001FE0000>
	 38 40 -2 38 43] 111 @dc
[<
000018000000003C000000003C000000003C000000007E000000007E00000000FF00000000
FF00000000FF00000001F980000001F980000003F9C0000003F0C0000003F0C0000007E060
000007E060000007E06000000FC03000000FC03000001FC03800001F801800001F80180000
3F000C00003F000C00007F000E00007E000600007E00060000FC00030000FC00030000FC00
030001F800018001F800018003F80001C003F80003E007FC0007F8FFFF801FFFFFFF801FFF
FFFF801FFF>
	 40 38 -2 36 45] 118 @dc
[<
C001FF8000C00FFFE000E03FFFF800F0FE00FC00F1F0003E00FB80000F00FF00000F80FC00
0007C0F8000003E0F8000003E0F0000003F0F0000001F0E0000001F0E0000001F8E0000001
F8C0000001F8C0000001F8C0000001F8C0000003F840000003F800000003F800000007F800
000007F00000000FF00000001FF00000007FE0000007FFE000007FFFC00007FFFF80003FFF
FF0000FFFFFE0001FFFFFC0003FFFFF80007FFFFE0000FFFFF80001FFFF800003FFF800000
3FF80000007FE00000007F800000007F00000000FF00000060FE00000060FE00000060FC00
000060FC000000E0FC000000E0FC000000E0FC000001E07C000001E07C000001E03E000003
E03E000007E01F00000FE00F00001FE00F80003BE007E000F1E001F807E1E000FFFFC0E000
3FFF0060000FF80060>
	 37 61 -5 59 48] 83 @dc
[<
0001FE03F000000FFF83FFE0001F81E3FFE0003E0073FFE0007C001BFC0000FC001BF00000
F8000FF00000F8000FF00001F80007F00001F80007F00001F80007F00001F80003F00001F8
0003F00001F80003F00001F80003F00001F80003F00001F80003F00001F80003F00001F800
03F00001F80003F00001F80003F00001F80003F00001F80003F00001F80003F00001F80003
F00001F80003F00001F80003F00001F80003F00001F80003F00001F80003F00001F80003F0
0001F80003F00001F80003F00001F80003F00007F8000FF000FFF801FFF000FFF801FFF000
FFF801FFF00001F80003F000>
	 43 39 -2 37 48] 117 @dc
[<
00000FE0000001803FFC000001C0F03F000001E1C00FC00001E30003E00001F60001F00001
FC0000F80001FC0000FC0001F800007C0001F800007E0001F800003F0001F800003F0001F8
00003F8001F800001F8001F800001F8001F800001FC001F800001FC001F800001FC001F800
001FC001F800001FC001F800001FC001F800001FC001F800001FC001F800001FC001F80000
1F8001F800001F8001F800003F8001F800003F0001F800003F0001F800003E0001F800007E
0001FC00007C0001FC0000F80001FE0001F00001FB0003E00001F9C007C00001F8F01F0000
01F83FFE000001F80FF0000001F80000000001F80000000001F80000000001F80000000001
F80000000001F80000000001F80000000001F80000000001F80000000001F80000000001F8
0000000001F80000000001F80000000001F80000000001F80000000001F80000000001F800
00000007F800000000FFF800000000FFF800000000FFF80000000001F800000000>
	 42 61 -2 59 48] 98 @dc
[<
0003F000000FF800001F0C00003E0600007C030000FC030000F8030000F8018001F8018001
F8018001F8018001F8018001F8018001F8018001F8018001F8018001F8018001F8000001F8
000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F800
0001F8000001F8000001F8000001F8000001F8000001F8000001F80000FFFFFF00FFFFFF00
1FFFFF0007F8000003F8000001F8000000F8000000F8000000780000007800000038000000
38000000380000003800000018000000180000001800000018000000180000>
	 25 54 -2 52 33] 116 @dc
[<
FFFFF0FFFFF0FFFFF0FFFFF0FFFFF0FFFFF0FFFFF0FFFFF0FFFFF003FC0003FC0003FC0001
F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8
0001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F800
01F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001
F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8
0001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F800
01F80001F80001F80001F80001F80001F80001F80001FC0001FC0001F80001FC0001FC0001
F80001FE0001FE0001F80001FE0001FE0001F80001FB0001F30001F00001FB0003F30003F0
0007F9C003E1C003E000FFF8E007C0E007C000FFF83C0F803C0F8000FFF81FFF001FFF0000
01F803F80003F80000>
	 68 38 -2 37 73] 109 @dc
[<
0007FF8000003FFFF00001FC00FE0003E0001F000F800007C01F000003E03E000001F07C00
0000F87C000000F8F80000007CF80000007CF80000007CF80000007CF80000007C78000000
7C7C000000F83C000000F83E000001F81F000007F00780003FE003FFFFFFC000FFFFFF8001
FFFFFF0003FFFFFC0007FFFFC00007C00000000F000000000F000000000E000000000E0000
00000E0000000006000000000607F00000073FFE0000037C1F000001F007800001E003C000
03C001E00007C001F0000FC001F8000F8000F8001F8000FC001F8000FC001F8000FC001F80
00FC001F8000FC001F8000FC001F8000FC000F8000F8000FC001F80007C001F00003C001E0
0801E003E01C00F007F03E007C1F1E3E003FFE0FFC0007F001F8>
	 39 57 -2 37 43] 103 @dc
[<
FFFFF000E001FFFFFFFFFFF000E001FFFFFFFFFFF000E001FFFFFF07FE0001F00001FF0001
F80001F00000FE0000F00003F80000FE0000600003F80000FE0000600003F80000FE000060
0007FC0000FE0000600007FC0000FE000060000FE60000FE000060000FE60000FE00006000
0FE60000FE000060001FC30000FE000060001FC30000FE000060001FC30000FE000060003F
818000FE000060003F818000FE000060007F00C000FE000060007F00C000FE000060007F00
C000FE00006000FE006000FE00006000FE006000FE00006000FE006000FE00006001FC0030
00FE00006001FC003000FE00006003F8001800FE00006003F8001800FE00006003F8001800
FE00006007F0000C00FE00006007F0000C00FE0000600FE0000600FE0000600FE0000600FE
0000600FE0000600FE0000601FC0000300FE0000601FC0000300FE0000601FC0000300FE00
00603F80000180FE0000603F80000180FE0000607F000000C0FE0000607F000000C0FE0000
607F000000C0FE000060FE00000060FE000060FE00000060FE000060FE00000060FE000061
FC00000030FE000061FC00000030FE000063F800000018FE000063F800000018FE000063F8
00000018FE000067F00000000CFE000067F00000000CFE00006FE000000006FE00006FE000
000006FE00006FE000000006FE0000FFC000000003FF00FFFFC000000003FFFFFFFFC00000
0003FFFFFFFF8000000001FFFF>
	 72 59 -3 58 79] 77 @dc
[<
001FFFFFFFF800001FFFFFFFF800001FFFFFFFF800000003FFC00000000000FF0000000000
00FF000000000000FF000000000000FF000000000000FF000000000000FF000000000000FF
000000000000FF000000000000FF000000000000FF000000000000FF000000000000FF0000
00000000FF000000000000FF000000000000FF000000000000FF000000000000FF00000000
0000FF000000000000FF000000000000FF000000000000FF000000000000FF000000000000
FF000000000000FF000000000000FF000000000000FF000000000000FF000000000000FF00
0000000000FF000000000000FF000000000000FF000000000000FF000000000000FF000000
000000FF000000000000FF000000C00000FF000006C00000FF000006C00000FF000006C000
00FF000006E00000FF00000E600000FF00000C600000FF00000C600000FF00000C600000FF
00000C600000FF00000C700000FF00001C700000FF00001C780000FF00003C780000FF0000
3C7C0000FF00007C3F0000FF0001F83FE001FF8007F83FFFFFFFFFFFF83FFFFFFFFFFFF83F
FFFFFFFFFFF8>
	 55 59 -3 58 62] 84 @dc
[<
FFFFE0FFFFE0FFFFE003FC0001F80001F80001F80001F80001F80001F80001F80001F80001
F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8
0001F80001F80001F80001F80001F80001F80001F80001F80007F8007FF8007FF8007FF800
01F80000000000000000000000000000000000000000000000000000000000000000000001
C00003F00007F8000FF8000FF8000FF80007F80003F00001C000>
	 19 58 -1 57 23] 105 @dc
[<
FFFFFFFFFE0000FFFFFFFFFFC000FFFFFFFFFFF00000FFC0001FFC00007F800003FE00007F
800001FF00007F800000FF80007F8000007FC0007F8000003FE0007F8000001FE0007F8000
001FF0007F8000001FF0007F8000000FF8007F8000000FF8007F8000000FF8007F8000000F
F8007F8000000FF8007F8000000FF8007F8000000FF8007F8000000FF8007F8000000FF000
7F8000001FF0007F8000001FE0007F8000003FE0007F8000003FC0007F8000007F80007F80
0000FF00007F800001FE00007F800003F800007F80001FE000007FFFFFFF8000007FFFFFFF
8000007F80003FE000007F80000FF800007F800003FC00007F800001FE00007F800000FF00
007F800000FF80007F8000007F80007F8000003FC0007F8000003FC0007F8000003FE0007F
8000003FE0007F8000003FE0007F8000003FE0007F8000003FE0007F8000003FE0007F8000
003FE0007F8000003FC0007F8000007FC0007F8000007F80007F800000FF00007F800001FF
00007F800003FE00007F800007FC0000FFC0001FF000FFFFFFFFFFE000FFFFFFFFFF0000FF
FFFFFFF80000>
	 53 59 -2 58 61] 66 @dc
[<
7FFFF07FFFF8007FFFF07FFFF8007FFFF07FFFF80001FE0003FC000000FC0001F8000000FC
0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001
F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F800
0000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000
FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC00
01F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8
000000FC0001F8000000FC0001F80000FFFFFFFFFFFC00FFFFFFFFFFFC00FFFFFFFFFFFC00
00FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC
0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001F8000000FC0001
F8000000FC0001F8000000FC0001F80000007C0001F80000007E0003F801E0007E0007FC03
F0003F0007FC07F8001F0007FC07F8000F8003FE07F80007C001FF03F80003F0006F81F000
00FC03C7C0E000003FFF81FFC0000007FC007F00>
	 53 61 -1 60 50] 11 @dc

5 @eop0

0 0 5 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-485 1079 y 3 -675 z -900 824 a 
3 -825 z 2 -823 a 1949 -3 z 898 823 a 3 -525 z 2 -523 a 1050 -3 z -1425 
525 a 2474 -3 z -3 -1503 a 2481 -3 z 1725 w 3 -1725 z 2477 x 3 -1725 z -2477 
3 a 2481 -3 z 809 -77 a @F4 @sf(Async)28 b(I/O)h(La)n(y)n(er)102 -375 y
(Reco)n(v)n(ery)g(Subsystem)-1742 -225 y(Log)g(Managemen)n(t)481 -656 y
(Managemen)n(t)-464 -93 y(T)-7 b(ransaction)-2017 b(Bu\013er)29 b
(Managemen)n(t)-456 1579 y @F15 @sf(Figure)16 b(2.1:)j(Bu\013er/Log/Reco)o
(v)o(ery)14 b(In)o(teraction)h(Mo)q(del)-1467 436 y(2.3)29 b(Philosoph)o
(y)638 b(5)542 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
5 @eop1

6 @bop0
@F6 @sf
[<
00FF800007FFF0001FFFFC003F01FE007C007F007E007F80FF007FC0FF003FC0FF003FE0FF
003FE07E003FE03C003FE000003FE000003FE000003FC000003FC000007F8000007F000000
7E000001FC0000FFF00000FFC0000007F0000001F8000001FC000000FE000000FF000000FF
000F007F801F807F803F807F803F807F803F807F803F80FF001F00FF000F81FE0007FFFC00
03FFF000007F8000>
	 27 39 -3 38 34] 51 @dc
[<
FFFFF00000FFFFF00000FFFFF0000003FC00000003FC00000003FC00000003FC00000003FC
00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC0000
0003FC00000003FC00000003FC00000003FC00000003FFFFFE0003FFFFFF8003FC003FE003
FC000FF003FC0007F803FC0007FC03FC0003FC03FC0003FE03FC0003FE03FC0003FE03FC00
03FE03FC0003FE03FC0003FE03FC0003FE03FC0003FC03FC0007FC03FC0007F803FC000FF0
03FC003FE0FFFFFFFFC0FFFFFFFF00FFFFFFF800>
	 39 41 -3 40 47] 80 @dc
[<
FFFE3FFF80FFFE3FFF80FFFE3FFF800FE003F8000FE003F8000FE003F8000FE003F8000FE0
03F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8
000FE003F8000FE003F8000FE003F8000FE003F8000FF003F8000FF003F8000FF803F8000F
F803F0000FEE03F0000FE787E0000FE1FFC0000FE07F00000FE00000000FE00000000FE000
00000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE0000000
0FE00000000FE0000000FFE0000000FFE0000000FFE0000000>
	 33 42 -3 41 38] 104 @dc
[<
FFFE000000FFFE000000FFFE0000000FE00000000FE00000000FE00000000FE00000000FE0
0000000FE00000000FE00000000FE00000000FE00000000FE1FC00000FE7FF80000FFE0FE0
000FF803F0000FF001F8000FE001FC000FE000FE000FE000FF000FE000FF000FE0007F000F
E0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE000
7F000FE0007F000FE000FF000FE000FE000FE000FC000FF001F8000FF803F000FFFE07E000
FFE7FF8000FFE1FE0000>
	 33 39 -2 26 38] 112 @dc
[<
0FC00000003FE00000007C78000000FE3C000000FE1E000000FE0E000000FE0F0000007C07
0000003807800000000380000000038000000001C000000001C000000003E000000003E000
000007F000000007F00000000FF80000000FF80000000FF80000001FDC0000001FDC000000
3FDE0000003F8E0000007F8F0000007F070000007F07000000FE03800000FE03800001FC01
C00001FC01C00003FC01E00003F800E00007F800F00007F000700007F0007000FFFE03FF80
FFFE03FF80FFFE03FF80>
	 33 39 -1 26 36] 121 @dc
@F15 @sf
[<
381C7C3EFC7EFC7EB85C804080408040402040202010201010080804>
	 15 14 -5 31 23] 92 @dc
[<
402020101008100808040804040204020402743AFC7EFC7EF87C7038>
	 15 14 -2 31 23] 34 @dc
@F12 @sf
[<
300300380070070066003803806200380380E100380380610038038071001C01C070801C01
C038001C01C038001C01C038000E00E01C000E00E01C000E00E01C008E00E01C004700700E
004700700E004780680E004740640C002630C318001C0F80F000>
	 33 20 -4 19 37] 109 @dc
@F12 @sf
[<
3C00000062000000F3000000798000003180000001C0000001C0000000C0000000E0000000
E0038000E0064000E00E2000700E2000700E2000700E200070071000700700003807000038
0700003803800038038000380380001C0380001C01C0001C01C0001C01C0001C01C0000E00
E000FFFFE0000E0000000E0000000E00000007000000070000000700000007003000030078
00038078000180380000E01000003FE0>
	 29 41 2 31 26] 12 @dc
@F12 @sf
[<
601E00E0310070310070708070708070708038384038700038700038E0001FC0001E00001D
00001C80000E40C00E21E00E11E00E08E00704200703C00700000700000380000380000380
0003800001C00001C00001C00001C0000FE00001E000>
	 19 32 -3 31 21] 107 @dc
@F7 @sf
[<
01FE000FFFC01E07F07801F87E01FCFF00FCFF00FEFF00FEFF00FE7E00FE3C00FE0000FC00
00FC0001F80001F00007C001FF0001FE00001F800007C00003E00003F01F03F01F03F83F81
F83F81F83F81F83F03F01E03F00F07E007FFC000FE00>
	 23 32 -2 31 28] 51 @dc
[<
FFFFFFC000FFFFFFF80007F001FE0007F0007F0007F0003F8007F0003F8007F0001FC007F0
001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001F8007F0003F8007F0003F
0007F0007E0007F001FC0007FFFFF00007FFFFF00007F003F80007F000FC0007F000FE0007
F0007E0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007E0007F000
7E0007F000FC0007F001F800FFFFFFE000FFFFFF8000>
	 34 34 -2 33 40] 66 @dc
[<
01FC3FC007FF3FC00F81BE001F00FE001F007E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F00
3E001F003E00FF01FE00FF01FE00>
	 26 22 -2 21 31] 117 @dc
[<
7FF0FFF0007FF0FFF0000F801F00000F801F00000F801F00000F801F00000F801F00000F80
1F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F801F00
000F801F00000F801F00000F801F00000F801F00000F801F0000FFFFFFFC00FFFFFFFC000F
801F00000F801F00000F801F00000F801F00000F801F00000F801F00000F803F03C00F803F
07E007C03F87E003E03F87E001F81FE3E0007FFDFFC0000FF83F00>
	 35 35 -1 34 33] 11 @dc
[<
00FF0003FFC00FC0701F00303E00187E00007C00007C0000FC0000FC0000FC0000FFFFF8FF
FFF8FC00F8FC00F87C00F87C00F03E01F01E01E00F87C007FF8000FE00>
	 21 22 -2 21 26] 101 @dc
[<
FFF00600FFFFFFF00F00FFFF06000F0007E006001F8007E006001F8007E006001F8007E006
003FC007E006003FC007E006007E6007E006007E6007E00600FC3007E00600FC3007E00601
F81807E00601F81807E00601F81807E00603F00C07E00603F00C07E00607E00607E00607E0
0607E0060FC00307E0060FC00307E0060FC00307E0061F800187E0061F800187E0063F0000
C7E0063F0000C7E0067E000067E0067E000067E006FC000037E006FC000037E006FC000037
E007F800001FE0FFF800001FFFFFF000000FFF>
	 48 34 -2 33 53] 77 @dc
[<
01FF000FFFE03F01F87C007C78003CF0001EF0001EF0001EF0001E70003E3800FC1FFFFC0F
FFF81FFFF03FFF8038000030000030000013FC001FFF001F0F803E07C03C03C07C03E07C03
E07C03E07C03E07C03E03C03C03E07CF1F0F8F0FFF7F03FC1E>
	 24 33 -2 21 28] 103 @dc
[<
FFE0FFE0FFE0FFE0FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F801F801F001F801F801F001F403E
403E001F303E303E00FF1FFC1FFC00FF07F007F000>
	 43 22 -2 21 48] 109 @dc
@F12 @sf
[<
E0F0F8F870>
	 5 5 -5 4 14] 46 @dc
@F15 @sf
[<
FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0FEFE>
	 7 45 -4 33 13] 91 @dc
[<
0000078000000FC000001FE000001FE000003FF0000038700000383000003010001FB01000
F0F01001E0380007A03E000F204F000E2047001E1087803C0F03C03C0003C07C0003E07800
01E0780001E0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0F80001
F0F80001F0780001E07C0003E07C0003E03C0003C03C0003C01E0007800E0007000F000F00
07801E0001C0380000F0F000001F8000>
	 28 41 -3 31 35] 81 @dc
[<
FEFE0606060606060606060606060606060606060606060606060606060606060606060606
060606060606FEFE>
	 7 45 -1 33 13] 93 @dc
@F15 @sf
[<
FFFFFFFFFFF0>
	 44 1 0 12 45] 124 @dc
@F12 @sf
[<
78780084C600E58100F38100F3808063808001C04001C00001C00001C00000E00000E00000
E00040E0002070C02071E01071E01068E00CC440038380>
	 19 20 -3 19 21] 120 @dc
@F7 @sf
[<
FFFFFFF0FFFFFFF007F007F007F001F007F000F007F0007007F0007007F0003807F0003807
F0001807F0001807F0001807F0001807F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000
0007F0000007F0000007F0000007F00000FFFFE000FFFFE000>
	 29 34 -2 33 34] 76 @dc

6 @eop0

0 0 6 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F6 @sf(2.3)70 b
(Phil)o(osoph)n(y)-486 141 y @F15 @sf(Ov)o(erall,)14 b(the)f(philosoph)o
(y)h(during)g(this)f(design)h(is)f(to)g(a)o(v)o(oid,)f(whenev)o(er)i(p)q
(ossible,)g(adding)g(an)o(y)f(unnecessary)-1909 56 y(compilcations.)21 b
(The)16 b(reasoning)f(for)g(this)g(has)g(b)q(een)i(t)o(w)o(o-fold:)-1052 
142 y @F13 @sf(\017)23 b @F15 @sf(T)l(o)15 b(k)o(eep)h(the)g(o)o(v)o
(erall)g(pac)o(k)m(age)f(highly-)q(optimiz)q(able.)23 b(The)16 b
(bu\013er/log)g(pac)o(k)m(age)f(is)i(at)e(a)g(su\016cien)o(tly)-1794 56 y
(\\lo)o(w")c(lev)o(el)j(it)e(seems)g(prop)q(er)h(to)e(refuse)h(incl)q(udi)q
(ng)h(an)o(y)f(but)g(the)h @F12 @sf(most)f @F15 @sf(necessary)g(sp)q
(ecial-)q(case)h(co)q(de.)-1841 93 y @F13 @sf(\017)23 b @F15 @sf(T)l(o)c
(k)o(eep)g(the)h(pac)o(k)m(age)f @F12 @sf(veri\014able)p @F15 @sf(.)31 b
(Because)20 b(of)f(the)g(strong)f(consistency)j(guaran)o(tees)d(w)o(e)h
(are)g(at-)-1796 56 y(tempting)j(to)f(mak)o(e)g(with)h(this)g(pac)o(k)m
(age,)h(it)e(seems)h(appropriate)g(to,)g(at)f(a)g(minim)o(um,)j(sk)o(etc)o
(h)e(a)-1796 57 y(correctness)15 b(pro)q(of)g(to)f(assure)h(ourselv)o(es)h
(that)e(w)o(e)h(are,)g(in)h(fact,)e(able)i(to)e @F12 @sf(make)i @F15 @sf
(these)f(guaran)o(tees.)-1870 160 y @F7 @sf(2.3.1)55 b(Bu\013er)18 b
(Managemen)n(t)-659 125 y @F15 @sf(The)12 b(bu\013er)g(managemen)o(t)f(w)o
(as)g(originally)i(based)f(up)q(on)g(the)g @F12 @sf(functional)f @F15 @sf
(in)o(terface)h(presen)o(t)g(in)h(the)f(Berk)o(eley)-1909 56 y(F)l(ast)17 b
(File)i(System)e(\()p @F12 @sf(c.f.)28 b @F15 @sf([)p(LMK)o(Q89)o(]\).)f
(As)18 b(w)o(e)f(b)q(egan)h(to)f(re\014ne)i(this)f(initial)q 19 x(mo)q
(del)g(w)o(e)g(c)o(hanged)g(man)o(y)-1910 57 y(of)g(the)g(underlyi)q(ng)i
(assumptions)e(\(e.g.)29 b(they)18 b(use)h @F12 @sf(br)n(e)n(ad)f @F15 @sf
(and)h @F12 @sf(br)n(e)n(ada)f @F15 @sf(|)h(implying)h(that)e(async)o
(hronous)-1910 56 y(write)d(is)g(the)f @F12 @sf(exc)n(eption)p @F15 @sf(\))g
(and,)h(accordingly)l(,)g(the)g(in)o(terface.)20 b(Bey)o(ond)15 b(the)g
(basic)g(functional)h(in)o(terface,)e(the)-1909 57 y(in)o(ternals)19 b(of)e
(this)h(bu\013er)g(pac)o(k)m(age)g(di\013er)g(signi\014can)o(tly)h(from)e
(the)h(Berk)o(eley)h(F)l(ast)e(File)i(System,)f(b)q(oth)g(in)-1909 56 y
(terms)d(of)f(impleme)q(n)o(tation)i(as)f(w)o(ell)h(as)f(op)q(eration)g
(for)g(sev)o(eral)g(reasons:)-1219 130 y @F13 @sf(\017)23 b @F15 @sf
(Because)15 b(of)e(the)i(use)f(of)g(write-ahead)h(logging)f(bu\013ers)g
(con)o(taining)h(meta-data)e(need)j(not)d(b)q(e)i(forced-)-1795 57 y
(written.)22 b(Th)o(us,)16 b(w)o(e)g(can)g(optimize)h(disk)g(writes)f(to)f
(minimi)q(ze)j(\(or)d(elimin)q(ate\))h(sync)o(hronous)g(writes)-1795 56 y
(of)e(meta-data)h(pages.)-437 93 y @F13 @sf(\017)23 b @F15 @sf(The)f(dep)q
(end)q(ence)i(b)q(et)o(w)o(een)f(bu\013ers)g(and)g(log)f(en)o(tries)h
(means)g(there)f(is)h(additional)h(information)-1795 56 y(main)o(tained)
13 b(within)g(the)g(bu\013er)f(p)q(o)q(ol)h(to)f(trac)o(k)g(old)g(data)g
(bu\013ers.)19 b(This)13 b(information)f(is)h(p)q(erio)q(di)q(call)q(y)-1794 
57 y(c)o(hec)o(k-p)q(oin)o(ted)k(to)e(optimize)j(the)e(reco)o(v)o(ery)f
(phase)h(\(whic)o(h)h(m)o(ust)e(compute)h(where)h(to)e(b)q(egin)i(repla)o
(y)-1795 56 y(within)f(the)f(log.\))-422 160 y @F7 @sf(2.3.2)55 b(Logging)
-364 125 y @F15 @sf(The)11 b(logging)h(pac)o(k)m(age)f(will)i(main)o(tain)f
(a)f(simple)h(in)o(ternal)g(in)o(terface)g(b)q(ecause)g(of)f(its)g(tigh)o
(t)g(coupling)i(with)e(the)-1909 57 y(bu\013er)17 b(pac)o(k)m(age.)25 b
(Its)17 b(complexit)o(y)h(arises)f(in)h(managing)f(transaction)f(data)h
(structures)f(\(e.g.)25 b(transaction)-1910 56 y(records)14 b(are)f(main)o
(tained)i(in)g(a)f(hash)g(table)g(and)g(sev)o(eral)g(lists.\))20 b
(Because)15 b(of)e(the)h(simplifyi)q(ng)h(assumptions)-1909 57 y(w)o(e)c
(mak)o(e)h(with)g(resp)q(ect)g(to)f(the)h(duration)g(of)f(transactions)g
(\(e.g.)18 b(w)o(e)11 b(need)i(pro)o(vide)f(no)g(complex)g(truncation)-1909 
56 y(of)j(the)g(log\))g(the)g(actual)h(logging)f(should)h(b)q(e)g(straigh)o
(t-forw)o(ard.)o -1132 96 a(A)k(complicatin)q(g)h(factor)e(in)i(the)f
(design)i(of)d(this)i(pac)o(k)m(age)f(has)g(b)q(een)i(the)e(in)o
(teraction)h(b)q(et)o(w)o(een)f(the)g(log)-1909 56 y(system)f(and)h(the)g
(lo)q(c)o(king)g(system.)33 b(Initiall)q(y)l(,)22 b(w)o(e)d(had)h(assumed)g
(that)f(lo)q(c)o(ks)h(w)o(ould)g(b)q(e)g(held)h(un)o(til)f(the)-1909 57 y
(termination)h(of)f(a)g(transaction.)34 b(Up)q(on)21 b(additional)h
(discussion)g(it)e(has)h(b)q(een)g(determined)h(that)d(this)i(is)-1909 56 y 
@F12 @sf(not)g @F15 @sf(p)q(ossible.)39 b(Instead,)22 b(w)o(e)f(m)o(ust)g
(supp)q(ort)g(a)f(more)h(complex)h(sc)o(heme)f(of)g(logging)g(using)h 
@F12 @sf(e)n(quivalenc)n(e)-1911 125 y @F15 @sf(2.3)29 b(Philosoph)o(y)638 b
(6)542 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
6 @eop1

7 @bop0
@F7 @sf
[<
FFFF800FF0FFFF803FF807F000FF0C07F000FE0607F001FC0607F001FC0007F001FC0007F0
01FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F003F80007F007F0
0007F00FE00007FFFF800007FFFFC00007F007F00007F001F80007F000FC0007F0007E0007
F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007E0007F000
FC0007F001F80007F007F000FFFFFFC000FFFFFE0000>
	 39 34 -2 33 42] 82 @dc
[<
00FE0007FF800FC0E01F00603E00307E00007E00007C0000FC0000FC0000FC0000FC0000FC
0000FC00007C00007C01E07E03F03E03F01F03F00F83F007FFE000FF80>
	 20 22 -2 21 25] 99 @dc
[<
000E0000000E0000001F0000001F0000003F8000003F8000007FC000007CC000007CC00000
F8600000F8600001F0300001F0300003E0180003E0180007E01C0007C00C000FC00E000F80
06000F800600FFE01FE0FFE01FE0>
	 27 22 -1 21 30] 118 @dc
[<
1F0000007F80000069C00000FC600000FC300000FC3800007818000000180000000C000000
0C0000000E0000000E0000001F0000001F0000003F8000003F8000007FC000007CC000007C
C00000F8600000F8600001F0300001F0300003E0180003E0180007E01C0007C00C000FC00E
000F8006000F800600FFE01FE0FFE01FE0>
	 27 32 -1 21 30] 121 @dc

7 @eop0

0 0 7 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F12 @sf(classes)p 
@F15 @sf(.)i(This)d(equiv)m(alenc)q(e)g(class)g(concept,)f(as)g(w)o(ell)h
(as)f(the)g(design)h(of)f(the)g(equiv)m(al)q(ence)q 15 x(class)h(is)f
(describ)r(ed)-1908 57 y(in)i(Chapter)f(12.)-289 159 y @F11 @sf(Op)q
(erations)k(Logging)-447 125 y @F15 @sf(Throughout)f(the)h(discussions)h
(ab)q(out)f(the)g(logging)g(in)o(terface)g(w)o(e)f(also)h(discussed)h(the)f
(need)h(and/or)e(de-)-1909 56 y(sirabili)q(t)o(y)f(to)f(inclu)q(de)i(some)e 
@F12 @sf(op)n(er)n(ations)h(lo)n(gging)f @F15 @sf(mec)o(hanism.)24 b(F)l
(or)16 b(this)h(initi)q(al)h(revision)g(of)e(the)g(pac)o(k)m(age)-1909 57 y
(w)o(e)f @F12 @sf(do)i(not)e @F15 @sf(supp)q(ort)g(op)q(erations)g
(logging.)21 b(Ho)o(w)o(ev)o(er,)14 b(some)h(factors)f(within)i(the)f
(design)i(w)o(ere)e(sp)q(eci\014call)q(y)-1908 56 y(constructed)g(to)g
(allo)o(w)g(for)g(future)g(in)o(tro)q(duction)h(of)f(op)q(erations)g
(logging.)-1310 161 y @F7 @sf(2.3.3)55 b(Reco)n(v)n(ery)-397 125 y @F15 @sf
(The)11 b(primary)g(goal)f(of)g(the)h(bu\013er/log)f(pac)o(k)m(age)h(is)g
(to)f(minimi)q(ze)i(the)f(need)g(for)f(complex)i(reco)o(v)o(ery)l(.)18 b
(Ho)o(w)o(ev)o(er,)-1911 56 y(w)o(e)f(b)q(eliev)o(e)i(that)d(it)h(is)h
(imp)q(ortan)o(t)e(to)g(assure)h(that)f(w)o(e)h(minimiz)q(e)h(the)f @F12 @sf
(time)g @F15 @sf(for)f(reco)o(v)o(ery)l(.)25 b(T)l(o)17 b(that)f(goal,)-1910 
57 y(w)o(e)f(devised)i(our)d(data)h(structures)g(and)g(algorithms)g(to)g
(pro)o(vide)h(rapid)f(reco)o(v)o(ery)l(.)-1448 1665 y(2.3)29 b(Philosoph)o
(y)638 b(7)542 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
7 @eop1

8 @bop0
@F1 @sf
[<
0007FF8000003FFFF00001FFFFFE0003FFFFFF0007FC03FFC01FE000FFE01F80007FF03FC0
003FF87FE0003FFC7FF0003FFCFFF0001FFEFFF8001FFEFFF8001FFEFFF8001FFFFFF8001F
FF7FF0001FFF7FF0001FFF3FE0001FFF1FC0001FFF0200001FFF0000001FFE0000001FFE00
00001FFC0000003FFC0000003FF80000003FF00000007FE0000000FF80000003FE00000FFF
F800000FFF8000000FFFC00000001FF000000007FC00000003FE00000001FF00000001FF80
000000FFC0000000FFE003F0007FF007F8007FF00FFC007FF01FFE007FF81FFE007FF81FFE
007FF81FFE007FF81FFE007FF81FFC007FF80FF8007FF00FF0007FF00780007FE003C000FF
C001F000FF8000FE03FF00007FFFFE00001FFFF0000003FF8000>
	 40 57 -4 55 49] 51 @dc
@F2 @sf
[<
FFFFFFFFFFFFF80000FFFFFFFFFFFFFFC000FFFFFFFFFFFFFFF000FFFFFFFFFFFFFFFC00FF
FFFFFFFFFFFFFF00001FFF800001FFFF80001FFF8000003FFFE0001FFF8000001FFFE0001F
FF80000007FFF0001FFF80000007FFF8001FFF80000003FFFC001FFF80000001FFFC001FFF
80000001FFFE001FFF80000000FFFE001FFF80000000FFFE001FFF80000000FFFF001FFF80
000000FFFF001FFF80000000FFFF001FFF800000007FFF001FFF800000007FFF001FFF8000
00007FFF001FFF800000007FFF001FFF80000000FFFF001FFF80000000FFFE001FFF800000
00FFFE001FFF80000000FFFE001FFF80000000FFFC001FFF80000001FFFC001FFF80000001
FFF8001FFF80000003FFF8001FFF80000003FFF0001FFF80000007FFE0001FFF8000000FFF
C0001FFF8000003FFF00001FFF800000FFFC00001FFFFFFFFFFFF000001FFFFFFFFFFF8000
001FFFFFFFFFFE0000001FFFFFFFFFFFC000001FFF800007FFF000001FFF800001FFFC0000
1FFF8000007FFE00001FFF8000003FFF00001FFF8000001FFF80001FFF8000000FFFC0001F
FF8000000FFFE0001FFF80000007FFE0001FFF80000007FFF0001FFF80000003FFF0001FFF
80000003FFF8001FFF80000003FFF8001FFF80000003FFF8001FFF80000003FFF8001FFF80
000003FFF8001FFF80000003FFF8001FFF80000003FFF8001FFF80000003FFF8001FFF8000
0003FFF0001FFF80000007FFF0001FFF80000007FFF0001FFF80000007FFE0001FFF800000
0FFFC0001FFF8000001FFFC0001FFF8000003FFF80001FFF8000007FFF00001FFF800001FF
FE00FFFFFFFFFFFFFFF800FFFFFFFFFFFFFFF000FFFFFFFFFFFFFFC000FFFFFFFFFFFFFE00
00FFFFFFFFFFFFE00000>
	 72 71 -4 70 84] 66 @dc
[<
3FFFFFE03FFFFFF800003FFFFFE03FFFFFF800003FFFFFE03FFFFFF800003FFFFFE03FFFFF
F800003FFFFFE03FFFFFF80000007FF000007FF0000000007FF000007FF0000000007FF000
007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF000000000
7FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF000
0000007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF00000
7FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007F
F000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF00000
00007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007F
F0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF0
00007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000
007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF0
000000FFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFF0000FFFFFFFF
FFFFFFFF0000FFFFFFFFFFFFFFFF0000007FE000007FE0000000007FE000007FE000000000
7FE000007FE0000000007FE000007FE0000000007FE000007FE0000000007FE000007FE000
0000007FE000007FE0000000007FE000007FE0000000007FE000007FE0000000007FE00000
7FE0000000007FE000007FE0001C00007FE00001FFE0007F00007FE00001FFE000FF80007F
E00003FFE001FFC0003FF00003FFE001FFC0003FF00003FFF003FFE0001FF80003FFF003FF
E0001FFC0003FFF803FFE0000FFE0001FFF803FFE00007FF0001FFFC01FFC00003FFC000FF
FF01FFC00000FFFC00FFFFC0FF8000003FFFFFFFFFFFFF8000000FFFFFFC3FFFFE00000001
FFFFF007FFFC000000000FFF80007FE000>
	 75 72 -2 71 69] 11 @dc
[<
FFFFFFFFF800000000FFFFFFFFF800000000FFFFFFFFF800000000FFFFFFFFF800000000FF
FFFFFFF800000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001F
FFC00000000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFF
C00000000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC0
0000000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC000
00000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC00000
000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC0000000
0000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFFFFFFFF000
00001FFFFFFFFFFE0000001FFFFFFFFFFFC000001FFFFFFFFFFFF000001FFF80000FFFF800
001FFF800001FFFE00001FFF8000007FFF00001FFF8000003FFF80001FFF8000001FFF8000
1FFF8000000FFFC0001FFF8000000FFFE0001FFF8000000FFFE0001FFF80000007FFF0001F
FF80000007FFF0001FFF80000007FFF0001FFF80000007FFF8001FFF80000007FFF8001FFF
80000007FFF8001FFF80000007FFF8001FFF80000007FFF8001FFF80000007FFF8001FFF80
000007FFF8001FFF80000007FFF8001FFF80000007FFF0001FFF80000007FFF0001FFF8000
0007FFF0001FFF8000000FFFE0001FFF8000000FFFE0001FFF8000000FFFC0001FFF800000
1FFFC0001FFF8000003FFF80001FFF8000007FFF00001FFF800001FFFE00001FFF80000FFF
FC00FFFFFFFFFFFFFFF000FFFFFFFFFFFFFFC000FFFFFFFFFFFFFF0000FFFFFFFFFFFFFC00
00FFFFFFFFFFFF800000>
	 69 71 -4 70 81] 80 @dc
[<
FFFFFF807FFFFFFFFFFF807FFFFFFFFFFF807FFFFFFFFFFF807FFFFFFFFFFF807FFFFF01FF
C0000FFFC001FFC0000FFF8001FFC0000FFF0001FFC0001FFE0001FFC0003FFC0001FFC000
7FFC0001FFC000FFF80001FFC001FFF00001FFC001FFE00001FFC003FFC00001FFC007FFC0
0001FFC00FFF800001FFC01FFF000001FFC01FFE000001FFE03FFC000001FFF87FFC000001
FFFCFFF8000001FFFFFFF0000001FFFFFFE0000001FFFFFFC0000001FFDFFFC0000001FFCF
FF80000001FFC3FF00000001FFC1FE00000001FFC0FF00000001FFC03F80000001FFC01FC0
000001FFC00FF0000001FFC007F8000001FFC001FC000001FFC000FE000001FFC0007F8000
01FFC0003FC00001FFC0000FE00001FFC00007F00001FFC0000FFE0001FFC0007FFFF801FF
C0007FFFF801FFC0007FFFF801FFC0007FFFF801FFC0007FFFF801FFC00000000001FFC000
00000001FFC00000000001FFC00000000001FFC00000000001FFC00000000001FFC0000000
0001FFC00000000001FFC00000000001FFC00000000001FFC00000000001FFC00000000001
FFC00000000001FFC00000000001FFC00000000001FFC00000000001FFC00000000001FFC0
0000000001FFC00000000003FFC000000000FFFFC000000000FFFFC000000000FFFFC00000
0000FFFFC000000000FFFFC000000000007FC000000000>
	 56 72 -4 71 63] 107 @dc
@F6 @sf
[<
FFFE007801FFFFC0FFFE007801FFFFC0FFFE00FC01FFFFC0038000FC0007F000038000FC00
07F000038001FE0007F000038001FE0007F000038003FF0007F000038003FF0007F0000380
07F38007F000038007F38007F00003800FE1C007F00003800FE1C007F00003800FE1C007F0
0003801FC0E007F00003801FC0E007F00003803F807007F00003803F807007F00003807F00
3807F00003807F003807F0000380FF003807F0000380FE001C07F0000380FE001C07F00003
81FC000E07F0000381FC000E07F0000383F8000707F0000383F8000707F0000387F0000387
F0000387F0000387F0000387F0000387F000038FE00001C7F000038FE00001C7F000039FC0
0000E7F000039FC00000E7F00003BF80000077F00003BF80000077F00003FF0000003FF000
03FF0000003FF000FFFF0000003FFFC0FFFE0000001FFFC0FFFE0000001FFFC0>
	 58 41 -3 40 65] 77 @dc

8 @eop0

0 0 8 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(3)-436 246 y @F2 @sf(Bu\013er)41 b(P)m(ac)m(k)-7 b(age)39 b(Design)-1164 
262 y @F15 @sf(The)13 b(bu\013er)g(pac)o(k)m(age)g(is)g(designed)h(to)f
(pro)o(vide)g(traditional)h(dynamic)f(memory)g(managemen)o(t)f(as)g(w)o
(ell)i(as)e(an)-1909 56 y(in)o(tegrated)f(in)o(terface)h(for)f(use)h(of)f
(the)g(logging)h(pac)o(k)m(age.)19 b(In)12 b(the)f(initi)q(al)i
(conceptualization)g(and)f(description)-1908 57 y(of)17 b(this)h(pac)o(k)m
(age,)g(the)g(logging)g(asp)q(ect)g(w)o(as)f(the)g(most)g(hea)o(vily)i
(analyzed,)g(although)f(the)f(bu\013er)h(p)q(ortion)-1909 56 y(of)d(the)g
(pac)o(k)m(age)g(is)h(most)e(lik)o(el)q(y)i(to)f(impact)g(up)q(on)h(the)g
(run-time)g(p)q(erformance)f(of)g(the)g(o)o(v)o(erall)g(system.)20 b(In)
-1909 57 y(this)15 b(section)g(w)o(e)g(turn)f(our)h(atten)o(tion)f(to)g
(describin)q(g)h(the)g(design)h(of)e(the)h(bu\013er)f(managemen)o(t)g
(comp)q(onen)o(t)-1909 56 y(of)h(the)g(pac)o(k)m(age.)-297 182 y @F6 @sf
(3.1)70 b(Goals)-325 140 y @F15 @sf(The)15 b(princi)q(pal)i(goals)e(of)g
(the)g(bu\013er)g(pac)o(k)m(age)g(are:)-900 138 y @F11 @sf(Simplicit)q -1 x
(y)23 b @F15 @sf(the)15 b(in)o(terface)h(should)g(b)q(e)g(simple)h(to)d
(use.)-994 92 y @F11 @sf(E\016cien)o(t)k(Managemen)o(t)23 b @F15 @sf(As)
12 b(noted)g(earlier,)h(the)f(bu\013er)f(pac)o(k)m(age)h(is)h(lik)o(ely)g
(to)f(ha)o(v)o(e)f(strong)g(e\013ects)h(up)q(on)-1795 56 y(the)18 b(p)q
(erformance)h(of)f(the)g(o)o(v)o(erall)h(system;)g(it)g(is)g(critical)h
(that)d(it)i(p)q(erform)f(its)h(tasks)e(in)j(the)e(most)-1796 57 y
(optimized)e(manner)f(p)q(ossibl)q(e.)-655 181 y @F6 @sf(3.2)70 b(Mo)r
(del)-348 141 y @F15 @sf(Through)19 b(discussi)q(ons)h(ab)q(out)g(the)f
(in)o(terface,)i(w)o(e)e(settled)h(up)q(on)g(a)f(mo)q(del)i(where)f(the)f
(basic)h(disk)h(blo)q(c)o(k)-1909 56 y(size)g(w)o(ould)f(b)q(e)h(a)f 
@F12 @sf(single)e @F15 @sf(quan)o(tit)o(y)l(,)j(rather)e(than)h(a)g(dual)g
(quan)o(tit)o(y)g(as)g(is)g(the)g(case)g(with)g(the)h(Berk)o(eley)-1909 
57 y(system)16 b(\(where)g(there)h(is)g(a)f(disk)i(blo)q(c)o(k)f(size)g
(for)f(\\most")f(blo)q(c)o(ks)i(and)g(a)f(disk)i(blo)q(c)o(k)f(size)g(for)f
(\\clusters".\))-1910 56 y(Because)g(cluster)g(managemen)o(t)f(is)h(no)o
(w)f(pro)o(vided)i(at)e(a)g(higher)h(lev)o(el,)h(this)f(pac)o(k)m(age)f
(presumes)h(that)f(suc)o(h)-1909 57 y(managemen)o(t)f(is)i(not)f
(necessary)l(.)-588 95 y(In)h(ligh)o(t)g(of)e(the)i(ab)q(o)o(v)o(e,)e(w)o
(e)h(ha)o(v)o(e)g(made)g(the)g(follo)o(wing)h(assumptions:)-1252 125 y
(3.2)29 b(Mo)q(del)732 b(8)542 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
8 @eop1

9 @bop0
@F12 @sf
[<
3E0000438000C0C000E06000F07000F03800003800001C00001C0007DC000C3C001C1E0018
0E00180E001C0E001C07001C07001C07001C07000E03800E03800E03808703804701C04301
C04381C02301C03300E00E00C0>
	 19 29 -4 19 22] 121 @dc
@F11 @sf
[<
FFFFC0FFFFC07C03C03E01C03F00C01F80E00F806007C06003E06003F00001F80000F80060
7C00603E00603F00701F80380F803C07C03FFFE03FFFE0>
	 19 20 -1 19 23] 122 @dc
@F12 @sf
[<
000007C0FFF00C200F801C1007803C1007803C0807803C0807803C0003C01E0003C01E0003
C01E0003C01E0001E00F0001E00E0001E01E0001E01C0000F0380000FFF00000F01E0000F0
0700007801C0007801E0007800F0007800F0003C0078003C0078003C0078003C0078001E00
78001E0070001E00E0001E03C001FFFF00>
	 29 32 -3 30 33] 82 @dc

9 @eop0

0 0 9 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(Single)j
(Arena)j @F15 @sf(w)o(e)12 b(presume)i(the)f(pac)o(k)m(age)f(is)i @F12 @sf
(exclusively)d @F15 @sf(managing)i(a)g(single)h(con)o(tiguous)f(area)f(of)g
(mem-)-1795 57 y(ory)l(.)-188 93 y @F11 @sf(Maxim)o(um)k(Blo)q(c)o(k)i
(Size)24 b @F15 @sf(w)o(e)15 b(establish)i(a)e(single)i(maxim)o(um)f(blo)q
(c)o(k)h(size;)f(for)f(the)h(in)o(tial)h(v)o(ersion)f(of)f(this)-1795 57 y
(design)20 b(w)o(e)g(con)o(template)g(64K)f(b)q(eing)i(the)f(maxim)o(um)g
(blo)q(c)o(k)g(size)h(allo)o(w)o(ed,)g(although)e(the)h(actual)-1795 56 y
(realization)d(of)e(this)h(design)h(should)g(allo)o(w)f(for)f(mo)q
(difying)i(this)f(quan)o(tit)o(y)f(\(up)o(w)o(ards,)g(at)g(least.\))21 b
(W)l(e)-1795 57 y(b)q(eliev)o(e)13 b(nothing)f(within)g(the)g(design)g(is)g
(dep)q(enden)q -1 x(t)g(up)q(on)g(this)g(maxim)o(um)f(\(e.g.)18 b(it)11 b
(is)h(a)f(compile-)q(time)-1794 56 y(constan)o(t\).)-314 94 y @F11 @sf
(Minim)o(um)17 b(Blo)q(c)o(k)h(Size)23 b @F15 @sf(w)o(e)16 b(establish)i
(a)e(minim)o(um)h(p)q(ossible)h(disk)f(blo)q(c)o(k)g(size;)g(for)f(the)g
(initial)q 17 x(v)o(ersion)-1795 56 y(of)d(this)i(design)g(w)o(e)f(con)o
(template)g(512)g(b)o(ytes)g(b)q(eing)h(the)f(minim)o(um)i(blo)q(c)o(k)f
(size)g(allo)o(w)o(ed.)20 b(The)14 b(actual)-1795 57 y(realization)k(of)g
(this)g(design)g(should)h(allo)o(w)f(for)f(mo)q(difying)i(this)f(quan)o
(tit)o(y)f(up)o(w)o(ards.)27 b(The)18 b(users)g(of)-1796 56 y(this)d(pac)o
(k)m(age)g(are)g(free)g(to)g(establish)h(a)f(higher)h(minim)o(um)g(but)f
(are)g(b)q(ound)h(to)e(supp)q(ort)h @F12 @sf(at)i(le)n(ast)d @F15 @sf
(this)-1795 57 y(minim)o(um)g(size.)20 b(W)l(e)14 b(b)q(eliev)o(e)h
(nothing)f(within)g(the)g(design)g(is)g(dep)q(enden)o(t)g(up)q(on)g(this)g
(minim)o(um)h(\(e.g.)-1797 56 y(it)g(is)h(a)f(compile-time)i(constan)o
(t\).)-713 94 y @F11 @sf(Fixed)g(Blo)q(c)o(k)h(Size)h(p)q(er)e(P)o
(artition)24 b @F15 @sf(eac)o(h)19 b(partition)h(of)f(the)h(disk)g(is)g
(restricted)g(to)f(a)g(single)i(ph)o(ysical)-1794 57 y(blo)q(c)o(k)g
(size.)38 b(The)21 b(bu\013er)f(pac)o(k)m(age)h(th)o(us)g(assumes)f(that)g
(it)h(need)h(not)e(manage)g(o)o(v)o(erlapping)i(disk)-1795 56 y
(addresses.)f(That)15 b(is,)h(if)g(a)f(particular)i(bu\013er)e(describ)q
(e)q(s)i(blo)q(c)o(ks)f(1-4,)f(no)h(other)f(bu\013er)g(will)q 17 x
(describ)q(e)-1794 56 y @F12 @sf(any)g @F15 @sf(of)f(those)h(blo)q(c)o
(ks.)-505 94 y @F11 @sf(Multiple)k(Blo)q(c)o(k)f(Sizes)23 b @F15 @sf
(despite)13 b(the)g(fact)e(that)h(eac)o(h)g(disk)h(uses)f(a)g(\014xed)h
(single)h(blo)q(c)o(k)e(size,)i(it)e(also)g(seems)-1795 57 y(critical)k
(that)f(this)g(pac)o(k)m(age)h(pro)o(vide)f(for)g(managemen)o(t)f(of)h 
@F12 @sf(sever)n(al)f @F15 @sf(di\013eren)o(t)i(blo)q(c)o(k)g(sizes,)f
(although)-1795 56 y(only)i(a)g(single)h(\014xed)g(blo)q(c)o(k)g(size)g(p)q
(er)f(disk.)27 b(This)17 b @F12 @sf(is)g @F15 @sf(di\013eren)o(t)g(than)g
(if)h(w)o(e)e(allo)o(w)o(ed)i(m)o(ultiple)h(blo)q(c)o(k)-1795 57 y(sizes)
14 b(p)q(er)g(disk)h(b)q(ecause)f(of)f(the)h(problem)g(of)f(o)o(v)o(erlap)h
(managemen)o(t)f(\(what)f(to)h(do)h(if)g(a)f(smaller)i(blo)q(c)o(k)-1795 
56 y(o)o(v)o(erlaps)g(with)g(a)g(larger)g(blo)q(c)o(k.\))-695 94 y @F11 @sf
(P)o(o)o(w)o(er)o(-of-t)o(w)o(o)h(Multipl)q(es)23 b @F15 @sf(It)12 b(is)h
(presumed)f(that)g(all)h(disk)f(blo)q(c)o(ks)h(are)f(a)f(p)q(o)o(w)o
(er-of-t)o(w)o(o)f(m)o(ultiple)q 13 x(in)j(size;)-1795 56 y(that)18 b(is,)i
(the)f(allo)o(w)o(ed)g(blo)q(c)o(k)g(sizes)h(are)f(512)f(b)o(ytes,)h(1K,)f
(2K,)h(4K,)f(8K,)h(16K,)f(32K,)g(and)h(64K.)f(W)l(e)-1795 57 y(b)q(eliev)o
(e)h(this)f(restriction)g(could)g(b)q(e)h(w)o(eak)o(ened)e(to)g(simply)i
(require)f(that)f(the)g(bu\013er)h(b)q(e)g(an)f(in)o(teger)-1795 56 y(m)o
(ultiple)i(of)e(the)h(minim)o(um)h(size,)f(ho)o(w)o(ev)o(er)f(in)i(this)f
(case)f(w)o(e)h(b)q(eliev)o(e)h(it)f(w)o(ould)g(b)q(e)h(b)q(est)e(to)g
(design)-1794 57 y(the)f(system)g(to)g(impleme)q(n)o(t)h(a)f(sparse)h
(free-list)g(arra)o(y)f(\(rather)f(than)i(the)g(pre-allo)q(cated)h(system)e
(w)o(e)-1796 56 y(use.\))-208 146 y(W)l(e)i(manage)f(an)h(arena)f(b)o(y)h
(dividi)q(ng)h(it)f(in)o(to)g(a)f(smaller)i(set)e(of)h(bu\013ers.)27 b(W)l
(e)18 b(c)o(ho)q(ose)g(a)f(size)i(larger)f(than)-1910 56 y(an)o(y)e
(actual)h(p)q(ossible)h(bu\013er)f(size)g(so)f(that)g(w)o(e)g(need)h(not)g
(guaran)o(tee)e(the)i(presence)g(of)g @F12 @sf(any)f @F15 @sf(bu\013ers)g
(of)g(the)-1909 56 y(c)o(hosen)f(size.)21 b(W)l(e)16 b(b)q(eliev)o(e)h
(this)e(simpli)q(\014es)i(the)e(implemen)q -1 x(tation)h(of)e(this)i(allo)q
(cation)g(sc)o(heme.)-1668 96 y(F)l(or)e(example,)i(if)f(the)h(maxim)o(um)e
(blo)q(c)o(k)i(size)g(is)g(64K)f(\(as)f(men)o(tioned)i(ab)q(o)o(v)o(e\))e
(w)o(e)h(w)o(ould)g(c)o(ho)q(ose)g(to)g(divide)-1908 57 y(the)e(initi)q
(al)i(arena)e(in)o(to)g(a)g(set)g(of)g(128K)f(blo)q(c)o(ks.)20 b(Th)o(us,)
14 b(if)f(the)h(bu\013er)f(pac)o(k)m(age)g(w)o(ere)g(handed)h(a)f(1MB)g
(arena,)-1910 56 y(this)j(arena)e(w)o(ould)i(b)q(e)g(divided)q 16 x(in)o
(to)f(eigh)o(t)h(128K)f(bu\013ers.)-1037 96 y(When)24 b(a)f(request)h(for)f
(a)h(bu\013er)f(of)h(a)f(size)h(not)g(previously)h(allo)q(cated)g(w)o(ere)e
(receiv)o(ed)i(\(e.g.)44 b(via)24 b(the)-1909 56 y @F12 @sf(bu\013er)s 14 
-2 z 14 x(R)n(e)n(ad)14 b @F15 @sf(call\))g(w)o(e)f(w)o(ould)i(remo)o(v)o
(e)e(a)g(blo)q(c)o(k)h(from)f(the)h(128K)f(blo)q(c)o(k)i(list,)f(pro)o
(viding)h(us)f(with)g(thirt)o(y-t)o(w)o(o)-1911 56 y(4K)j(bu\013ers.)23 b
(This)17 b(pro)q(cess)g(w)o(ould)g(con)o(tin)o(ue)g(un)o(til)h(all)f(128K)f
(bu\013ers)h(w)o(ere)f(exhausted.)24 b(Note)16 b(that)g(with)-1909 57 y
(this)k(sc)o(heme)g(bu\013ers)g(can)g(b)q(e)g(shared)g(amongst)f(sev)o
(eral)h(\014le)h(systems)e(using)h(the)g(same)g(blo)q(c)o(k)g(size.)35 b
(In)-1909 131 y(3.2)29 b(Mo)q(del)732 b(9)542 b(Marc)o(h)14 b(2,)h(1993)f
(14:04)-1911 b
9 @eop1

10 @bop0
/@F10 @newfont
@F10 @sf
[<
7FC3FCFFE7FE7FC3FC0E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E
00E00E00E00F00E00F80E00FC1C07FFFC0FEFF807E3E00>
	 23 20 0 19 24] 110 @dc
[<
063E000EFF800FFFC00FC1E00F80E00F00700F00700E00380E00380E00380E00380E00380E
00380E00700F00700F80E00FC1E00FFFC00EFF800E3E000E00000E00000E00000E00000E00
007E0000FE00007E0000>
	 21 28 0 27 24] 98 @dc
[<
7FC000FFE0007FC0000E00000E00000E00000E00000E00000E00000E00000E3E000EFF800F
FFC00FC1E00F80E00F00700F00700E00380E00380E00380E00380E00380E00380E00700F00
700F80E00FC1E07FFFC0FEFF807E3E00>
	 21 30 0 19 24] 112 @dc
@F12 @sf
[<
FF807FF81E000F8006000780020007800200078001000780010007800080078000C0078000
400780003FFF8000200F8000100F0000100F0000080F00000C0F0000040F0000020F000002
0F0000010F0000010F0000008F0000004F0000004F0000002F0000003F0000001E0000001E
0000000E00000006000000060000000200>
	 29 32 -2 31 34] 65 @dc
[<
FFFFE0000F00780007801E0007800F0007800780078003C003C001C003C001E003C001E003
C001E001E001E001E001E001E001E001E001C000F003C000F00F8000FFFE0000F007800078
01E0007800F00078007800780078003C003C003C003C003C003C003C003C001E003C001E00
38001E0078001E00F001FFFFC0>
	 30 31 -3 30 32] 66 @dc
@F15 @sf
[<
30307878F87C78783030>
	 14 5 -4 30 23] 127 @dc

10 @eop0

0 0 10 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y(fact,)k(based)f(up)q
(on)h(previously)h(observ)o(ed)f(b)q(eha)o(vior)g(w)o(e)f(an)o(ticipate)h
(that)f(the)g(bu\013er)g(p)q(o)q(ol)i(will)g(b)q(ecome)-1909 57 y(divided)q 
16 x(b)q(et)o(w)o(een)16 b(t)o(w)o(o)d(or)i(three)g(suc)o(h)h(blo)q(c)o(k)f
(sizes.)21 b(If)15 b(this)h(pro)o(v)o(es)e(to)h(b)q(e)g(incorrect,)h(w)o
(e)e(an)o(ticipate)i(these)-1909 56 y(algorithms)f(will)i(need)f(to)f(b)q
(e)g(optimized)i(and)e(re\014ned.)-978 96 y(Initial)21 b(imple)q(men)o
(tations)f(of)f(the)h(bu\013er)g(pac)o(k)m(age)f(ma)o(y)g(not)g(handle)i
(the)f(case)f(wherein)i(all)f(bu\013ers)g(are)-1910 56 y(exhausted,)c(or)e
(wherein)j(there)e(are)h(no)f(longer)h(an)o(y)f(large)g(\(e.g.)20 b(128K)
15 b(bu\013ers)g(in)h(the)g(previous)g(example\))-1909 57 y(bu\013ers)g(a)o
(v)m(ailable.)23 b(A)16 b(mature)g(implemen)o(tation)h(should)g(pro)o
(vide)f(for)g(forced)g(compaction)g(and)g(recycling)-1908 56 y(of)f(suc)o
(h)g(bu\013ers.)20 b(W)l(e)15 b(note)g(the)h(follo)o(wing)g(p)q(ossible)h
(sc)o(hemes:)-1044 145 y @F13 @sf(\017)23 b @F15 @sf(In)e @F12 @sf(bu\013er)s 
14 -2 z 14 x(R)n(e)n(ad)f @F15 @sf(\(c.f.)34 b(Section)22 b(4.3\))d(w)o(e)h
(include)q 21 x(a)g(return)h(parameter)e @F10 @sf(nbp)h @F15 @sf(whic)o(h)h
(allo)o(ws)g(us)f(to)-1796 57 y(substitute)e(a)g(new)g(bu\013er)g(for)f
(an)h(old)h(bu\013er)f(under)h(some)e(circumstances.)30 b(Th)o(us,)18 b
(if)g(w)o(e)g(need)h(to)-1796 56 y(p)q(erform)c(space)g(compaction)g(it)h
(is)g(p)q(ossible)h(to)d(mo)o(v)o(e)h(suc)o(h)g(bu\013ers)g(around)g(if)h
(desired.)-1614 94 y @F13 @sf(\017)23 b @F15 @sf(In)15 b @F12 @sf(bu\013er)s 
14 -2 z 14 x(R)n(ele)n(ase)f @F15 @sf(\(c.f.)19 b(Section)d(4.5\))e(w)o(e)g
(can)h(reserv)o(e)g(bu\013ers)g(for)f(compaction)i(b)o(y)f(marking)f(them)
-1795 57 y(and)h(sc)o(heduli)q(ng)h(them)f(for)g(write.)-655 93 y @F13 @sf
(\017)23 b @F15 @sf(In)16 b @F12 @sf(bu\013er)s 14 -2 z 14 x(A)o(l)r(lo)n
(cBu\013er)f @F15 @sf(\(c.f.)21 b(Section)c(5.2.1)o(\))d(w)o(e)i(can)g
(explici)q(tly)h(limi)q(t)f(the)g(amoun)o(t)f(of)h(memory)f(w)o(e)-1796 
57 y(will)i(allo)q(cate)f(to)f(a)g(particular)h(bu\013er)g(p)q(o)q(ol)g
(\(e.g.)k(either)c(as)g(a)f(p)q(ercen)o(tage)g(of)h(tra\016c,)e(a)h(p)q
(ercen)o(tage)-1795 56 y(of)f(the)i(n)o(um)o(b)q(er)f(of)g(activ)o(e)g
(\014le)i(systems,)d(or)h(whatev)o(er)f(heuristic)j(it)e(is)h(found)f(is)h
(desirable.\))-1682 94 y @F13 @sf(\017)23 b @F15 @sf(Pro)q(cesses)15 b(ma)o
(y)f(b)q(e)i(blo)q(c)o(k)o(ed)g(un)o(til)h(a)e(bu\013er)g(of)g
(appropriate)g(size)h(b)q(ecomes)g(a)o(v)m(ailable.)-1595 94 y @F13 @sf(\017)
23 b @F15 @sf(A)14 b(timeout)h(mec)o(hanism)g(could)h(b)q(e)f(implemen)o
(ted)h(whic)o(h)g(w)o(ould)f(p)q(erio)q(dical)q(ly)h(p)q(erform)f(space)g
(com-)-1796 56 y(paction)g(if)h(deemed)g(necessary)l(.)-676 146 y(W)l(e)f
(do)h(not)e(b)q(eli)q(ev)o(e)j(this)e(list)i(is)e(exhaustiv)o(e,)h(nor)f
(ha)o(v)o(e)g(w)o(e)g(analyzed)h(the)f(relativ)o(e)h(merits)f(of)g(eac)o
(h)g(of)g(the)-1909 56 y(ab)q(o)o(v)o(e)g(ideas.)-240 96 y(In)i(Figure)g
(3.1)f(w)o(e)g(demonstrate)g(one)g(realization)i(of)e(the)h(free)f(list)i
(for)e(the)g(bu\013er)h(p)q(o)q(ol)g(pictorally;)h(after)-1910 56 y
(additional)c(exp)q(erimen)o(tation,)f(it)f(ma)o(y)g(b)q(e)g(found)h
(desirable)g(to)f(limit)h(the)g(n)o(um)o(b)q(er)f(of)g(bu\013ers)g(whic)o
(h)h(can)f(b)q(e)-1909 57 y(allo)q(cated)17 b(to)d(a)i(single)g(size)h(of)e
(bu\013er)h(p)q(o)q(ol,)g(or)f(to)g(allo)o(w)g(balancing)i(b)q(et)o(w)o
(een)f(the)g(v)m(arious)g(bu\013ers.)k(Also,)-1909 56 y(the)14 b
(particular)h(implemen)o(tation)h(ma)o(y)d(com)o(bine)i(con)o(tiguous)f
(bu\013ers)g(in)o(to)g(their)h(128K)f(constituen)o(t)g(parts)-1910 57 y
(and)j(recycle.)26 b(F)l(or)16 b(the)g(purp)q(ose)i(of)e(this)h(design)h
(w)o(e)e(presume)i(the)e(n\177)-23 b(aiv)o(e)18 b(approac)o(h)e(to)g(the)h
(problem;)h(w)o(e)-1910 56 y(do)f(not)f(b)q(elie)q(v)o(e)i(this)f(approac)o
(h)f(will)q 18 x(mak)o(e)g(supp)q(ort)h(of)f(more)g(sophisto)q(cated)i
(tec)o(hniques)g(more)e(di\016cult)-1908 57 y(\(as)e(they)i(are)f(in)o
(ternal)h(to)e(the)i(bu\013er)f(pac)o(k)m(age.\))-869 95 y(F)l(or)i(eac)o
(h)h(logged)g(device)i(w)o(e)d(main)o(tain)h(an)g(age)g(queue,)h(with)f
(the)g(oldest)g(elemen)o(ts)h(at)e(the)h(head)g(of)f(the)-1909 57 y(queue)g
(and)g(new)f(elemen)o(ts)h(b)q(eing)h(inserted)f(at)f(the)g(tail)h(of)f
(the)g(queue.)25 b(This)16 b(mec)o(hanism)h(is)g(used)g(in)g(the)-1909 56 y
(log)g(system)g(to)g(compute)h(the)f(p)q(osition)h(of)f(the)h @F12 @sf
(tail)f @F15 @sf(of)g(the)h(log)f(whic)o(h)h(in)g(turn)g(is)g(stored)f(in)h
(the)f @F12 @sf(he)n(ad)h @F15 @sf(of)-1910 56 y(the)d(log)h(and)f(is)h
(used)f(b)o(y)h(the)f(reco)o(v)o(ery)f(mec)o(hanism.)-941 96 y(When)20 b
(a)f(bu\013er)h(is)g(released,)h(it)f(is)g @F12 @sf(not)f @F15 @sf(guaran)o
(teed)g(to)g(b)q(e)h(written)g(to)f(disk.)34 b(Instead,)20 b(when)g(a)f
(bu\013er)-1909 57 y(is)f(remo)o(v)o(ed)f(from)g(the)h(head)g(of)g(the)f
(free)h(list)h(it)f(is)g(c)o(hec)o(k)o(ed)g(to)f(v)o(erify)h(if)g(it)g(is)g 
@F12 @sf(dirty)p @F15 @sf(.)28 b(W)l(e)18 b(presume)g(that)-1910 56 y(suc)o
(h)d(blo)q(c)o(ks)g(will)q(,)h(in)f(general)g @F12 @sf(not)g @F15 @sf(b)q
(e)g(dirt)o(y)l(,)g(b)q(oth)g(b)q(ecause)h(writes)e(will)q 16 x(b)q(e)h
(optimized)h(\(man)o(y)e(blo)q(c)o(ks)i(are)-1910 56 y(written)f(sim)o
(ultaneously\))h(and)g(b)q(ecause)g(there)f(is)h(a)f(bac)o(kground)g 
@F12 @sf(sync)f @F15 @sf(pro)q(cess.)-1445 171 y(3.2)29 b(Mo)q(del)721 b
(10)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
10 @eop1

11 @bop0

% dvitps: BEGIN including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/psfig.pro"
/TeXscale {
exch
65782 div
def
} def
gsave initgraphics
/DocumentInitState [ matrix currentmatrix currentlinewidth currentlinecap
currentlinejoin currentdash currentgray currentmiterlimit ] cvx def
grestore
/startTexFig {
/SavedState save def
userdict maxlength dict begin
currentpoint transform
DocumentInitState setmiterlimit setgray setdash setlinejoin setlinecap
setlinewidth setmatrix
itransform moveto
/bb-ury TeXscale
/bb-urx TeXscale
/bb-lly TeXscale
/bb-llx TeXscale
/height TeXscale
/width  TeXscale
currentpoint /cy exch def /cx exch def
/sx width  bb-urx bb-llx sub div def
/sy height bb-ury bb-lly sub div def
sx sy scale
cx sx div bb-llx sub
cy sy div bb-ury sub translate
/DefFigCTM matrix currentmatrix def
/initmatrix {
DefFigCTM setmatrix
} def
/defaultmatrix {
DefFigCTM exch copy
} def
/initgraphics {
DocumentInitState setmiterlimit setgray setdash
setlinejoin setlinecap setlinewidth setmatrix
DefFigCTM setmatrix
} def
/showpage {
initgraphics
} def
} def
/clipFig {
currentpoint 6 2 roll
newpath 4 copy
4 2 roll moveto
6 -1 roll exch lineto
exch lineto
exch lineto
closepath clip
newpath
moveto
} def
/doclip { bb-llx bb-lly bb-urx bb-ury clipFig } def
/endTexFig {
end SavedState restore
} def
% dvitps: END including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/psfig.pro"

11 @eop0
0 0 11 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 312 y
31706808 31048990 0 0 31706808 31048990 startTexFig  

%!
%%Title: logbuf-bufpool.xfig
%%Creator: fig2dev
%%CreationDate: Tue Mar  2 14:03:12 1993
%%For: pakhtar@feanor (Pervaze Akhtar)
%%Pages: 0
%%BoundingBox: 0 0 482 472
%%EndComments
/$F2psDict 32 dict def $F2psDict begin	$F2psDict /mtrx matrix put
 /DrawEllipse {	/endangle exch def	/startangle exch def	/yrad exch def	/xrad exch def	/y exch def	/x exch def	/savematrix mtrx currentmatrix def	x y translate xrad yrad scale 0 0 1 startangle endangle arc	savematrix setmatrix	} def
	end	/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def	/$F2psEnd {$F2psEnteredState restore end} def	%%EndProlog
$F2psBegin
1 setlinecap 1 setlinejoin
-4 72 translate
0.000000 472.000000 translate 0.900 -0.900 scale
1.000 setlinewidth
% Polyline
newpath 59 499 moveto 99 499 lineto 99 519 lineto 59 519 lineto closepath stroke
% Polyline
newpath 59 539 moveto 99 539 lineto 99 559 lineto 59 559 lineto closepath stroke
% Polyline
newpath 59 139 moveto 99 139 lineto 99 159 lineto 59 159 lineto closepath stroke
% Polyline
newpath 59 179 moveto 99 179 lineto 99 199 lineto 59 199 lineto closepath stroke
% Polyline
newpath 59 219 moveto 99 219 lineto 99 239 lineto 59 239 lineto closepath stroke
% Polyline
newpath 59 259 moveto 99 259 lineto 99 279 lineto 59 279 lineto closepath stroke
% Polyline
newpath 59 299 moveto 99 299 lineto 99 319 lineto 59 319 lineto closepath stroke
% Polyline
newpath 59 339 moveto 99 339 lineto 99 359 lineto 59 359 lineto closepath stroke
% Polyline
newpath 119 259 moveto 159 259 lineto 159 279 lineto 119 279 lineto closepath stroke
% Polyline
newpath 119 219 moveto 159 219 lineto 159 239 lineto 119 239 lineto closepath stroke
% Polyline
newpath 119 179 moveto 159 179 lineto 159 199 lineto 119 199 lineto closepath stroke
% Polyline
newpath 119 139 moveto 159 139 lineto 159 159 lineto 119 159 lineto closepath stroke
% Polyline
newpath 479 139 moveto 519 139 lineto 519 159 lineto 479 159 lineto closepath stroke
% Polyline
newpath 179 419 moveto 219 419 lineto 219 439 lineto 179 439 lineto closepath stroke
% Polyline
newpath 179 379 moveto 219 379 lineto 219 399 lineto 179 399 lineto closepath stroke
% Polyline
newpath 239 339 moveto 279 339 lineto 279 359 lineto 239 359 lineto closepath stroke
% Polyline
newpath 59 379 moveto 99 379 lineto 99 399 lineto 59 399 lineto closepath stroke
% Polyline
newpath 179 339 moveto 219 339 lineto 219 359 lineto 179 359 lineto closepath stroke
% Polyline
newpath 59 419 moveto 99 419 lineto 99 439 lineto 59 439 lineto closepath stroke
% Polyline
newpath 359 139 moveto 399 139 lineto 399 159 lineto 359 159 lineto closepath stroke
% Polyline
newpath 359 179 moveto 399 179 lineto 399 199 lineto 359 199 lineto closepath stroke
% Polyline
newpath 359 219 moveto 399 219 lineto 399 239 lineto 359 239 lineto closepath stroke
% Polyline
newpath 359 259 moveto 399 259 lineto 399 279 lineto 359 279 lineto closepath stroke
% Polyline
newpath 299 299 moveto 339 299 lineto 339 319 lineto 299 319 lineto closepath stroke
% Polyline
newpath 299 259 moveto 339 259 lineto 339 279 lineto 299 279 lineto closepath stroke
% Polyline
newpath 299 219 moveto 339 219 lineto 339 239 lineto 299 239 lineto closepath stroke
% Polyline
newpath 299 179 moveto 339 179 lineto 339 199 lineto 299 199 lineto closepath stroke
% Polyline
newpath 299 139 moveto 339 139 lineto 339 159 lineto 299 159 lineto closepath stroke
% Polyline
newpath 239 139 moveto 279 139 lineto 279 159 lineto 239 159 lineto closepath stroke
% Polyline
newpath 239 179 moveto 279 179 lineto 279 199 lineto 239 199 lineto closepath stroke
% Polyline
newpath 239 219 moveto 279 219 lineto 279 239 lineto 239 239 lineto closepath stroke
% Polyline
newpath 239 259 moveto 279 259 lineto 279 279 lineto 239 279 lineto closepath stroke
% Polyline
newpath 239 299 moveto 279 299 lineto 279 319 lineto 239 319 lineto closepath stroke
% Polyline
newpath 179 299 moveto 219 299 lineto 219 319 lineto 179 319 lineto closepath stroke
% Polyline
newpath 179 259 moveto 219 259 lineto 219 279 lineto 179 279 lineto closepath stroke
% Polyline
newpath 179 219 moveto 219 219 lineto 219 239 lineto 179 239 lineto closepath stroke
% Polyline
newpath 179 179 moveto 219 179 lineto 219 199 lineto 179 199 lineto closepath stroke
% Polyline
newpath 179 139 moveto 219 139 lineto 219 159 lineto 179 159 lineto closepath stroke
% Polyline
newpath 59 79 moveto 539 79 lineto 539 119 lineto 59 119 lineto closepath stroke
% Polyline
newpath 59 459 moveto 99 459 lineto 99 479 lineto 59 479 lineto closepath stroke
% Polyline
newpath 189 359 moveto 189 379 lineto stroke
stroke
newpath 191.000 371.000 moveto 189.000 379.000 lineto 187.000 371.000 lineto stroke
% Polyline
newpath 189 319 moveto 189 339 lineto stroke
stroke
newpath 191.000 331.000 moveto 189.000 339.000 lineto 187.000 331.000 lineto stroke
% Polyline
newpath 189 239 moveto 189 259 lineto stroke
stroke
newpath 191.000 251.000 moveto 189.000 259.000 lineto 187.000 251.000 lineto stroke
% Polyline
newpath 189 279 moveto 189 299 lineto stroke
stroke
newpath 191.000 291.000 moveto 189.000 299.000 lineto 187.000 291.000 lineto stroke
% Polyline
newpath 189 159 moveto 189 179 lineto stroke
stroke
newpath 191.000 171.000 moveto 189.000 179.000 lineto 187.000 171.000 lineto stroke
% Polyline
newpath 189 199 moveto 189 219 lineto stroke
stroke
newpath 191.000 211.000 moveto 189.000 219.000 lineto 187.000 211.000 lineto stroke
% Polyline
newpath 129 239 moveto 129 259 lineto stroke
stroke
newpath 131.000 251.000 moveto 129.000 259.000 lineto 127.000 251.000 lineto stroke
% Polyline
newpath 129 199 moveto 129 219 lineto stroke
stroke
newpath 131.000 211.000 moveto 129.000 219.000 lineto 127.000 211.000 lineto stroke
% Polyline
newpath 129 159 moveto 129 179 lineto stroke
stroke
newpath 131.000 171.000 moveto 129.000 179.000 lineto 127.000 171.000 lineto stroke
% Polyline
newpath 189 119 moveto 189 139 lineto stroke
stroke
newpath 191.000 131.000 moveto 189.000 139.000 lineto 187.000 131.000 lineto stroke
% Polyline
newpath 69 519 moveto 69 539 lineto stroke
stroke
newpath 71.000 531.000 moveto 69.000 539.000 lineto 67.000 531.000 lineto stroke
% Polyline
newpath 69 479 moveto 69 499 lineto stroke
stroke
newpath 71.000 491.000 moveto 69.000 499.000 lineto 67.000 491.000 lineto stroke
% Polyline
newpath 69 439 moveto 69 459 lineto stroke
stroke
newpath 71.000 451.000 moveto 69.000 459.000 lineto 67.000 451.000 lineto stroke
% Polyline
newpath 129 119 moveto 129 139 lineto stroke
stroke
newpath 131.000 131.000 moveto 129.000 139.000 lineto 127.000 131.000 lineto stroke
% Polyline
newpath 69 359 moveto 69 379 lineto stroke
stroke
newpath 71.000 371.000 moveto 69.000 379.000 lineto 67.000 371.000 lineto stroke
% Polyline
newpath 69 319 moveto 69 339 lineto stroke
stroke
newpath 71.000 331.000 moveto 69.000 339.000 lineto 67.000 331.000 lineto stroke
% Polyline
newpath 69 279 moveto 69 299 lineto stroke
stroke
newpath 71.000 291.000 moveto 69.000 299.000 lineto 67.000 291.000 lineto stroke
% Polyline
newpath 69 239 moveto 69 259 lineto stroke
stroke
newpath 71.000 251.000 moveto 69.000 259.000 lineto 67.000 251.000 lineto stroke
% Polyline
newpath 69 199 moveto 69 219 lineto stroke
stroke
newpath 71.000 211.000 moveto 69.000 219.000 lineto 67.000 211.000 lineto stroke
% Polyline
newpath 69 159 moveto 69 179 lineto stroke
stroke
newpath 71.000 171.000 moveto 69.000 179.000 lineto 67.000 171.000 lineto stroke
% Polyline
newpath 69 399 moveto 69 419 lineto stroke
stroke
newpath 71.000 411.000 moveto 69.000 419.000 lineto 67.000 411.000 lineto stroke
% Polyline
newpath 479 79 moveto 479 119 lineto stroke
stroke
% Polyline
newpath 419 79 moveto 419 119 lineto stroke
stroke
% Polyline
newpath 359 79 moveto 359 119 lineto stroke
stroke
% Polyline
newpath 299 79 moveto 299 119 lineto stroke
stroke
% Polyline
newpath 239 79 moveto 239 119 lineto stroke
stroke
% Polyline
newpath 179 79 moveto 179 119 lineto stroke
stroke
% Polyline
newpath 119 79 moveto 119 119 lineto stroke
stroke
% Polyline
newpath 189 399 moveto 189 419 lineto stroke
stroke
newpath 191.000 411.000 moveto 189.000 419.000 lineto 187.000 411.000 lineto stroke
% Polyline
newpath 249 119 moveto 249 139 lineto stroke
stroke
newpath 251.000 131.000 moveto 249.000 139.000 lineto 247.000 131.000 lineto stroke
% Polyline
newpath 249 159 moveto 249 179 lineto stroke
stroke
newpath 251.000 171.000 moveto 249.000 179.000 lineto 247.000 171.000 lineto stroke
% Polyline
newpath 249 199 moveto 249 219 lineto stroke
stroke
newpath 251.000 211.000 moveto 249.000 219.000 lineto 247.000 211.000 lineto stroke
% Polyline
newpath 249 239 moveto 249 259 lineto stroke
stroke
newpath 251.000 251.000 moveto 249.000 259.000 lineto 247.000 251.000 lineto stroke
% Polyline
newpath 249 279 moveto 249 299 lineto stroke
stroke
newpath 251.000 291.000 moveto 249.000 299.000 lineto 247.000 291.000 lineto stroke
% Polyline
newpath 249 319 moveto 249 339 lineto stroke
stroke
newpath 251.000 331.000 moveto 249.000 339.000 lineto 247.000 331.000 lineto stroke
% Polyline
newpath 309 119 moveto 309 139 lineto stroke
stroke
newpath 311.000 131.000 moveto 309.000 139.000 lineto 307.000 131.000 lineto stroke
% Polyline
newpath 309 159 moveto 309 179 lineto stroke
stroke
newpath 311.000 171.000 moveto 309.000 179.000 lineto 307.000 171.000 lineto stroke
% Polyline
newpath 309 199 moveto 309 219 lineto stroke
stroke
newpath 311.000 211.000 moveto 309.000 219.000 lineto 307.000 211.000 lineto stroke
% Polyline
newpath 309 239 moveto 309 259 lineto stroke
stroke
newpath 311.000 251.000 moveto 309.000 259.000 lineto 307.000 251.000 lineto stroke
% Polyline
newpath 309 279 moveto 309 299 lineto stroke
stroke
newpath 311.000 291.000 moveto 309.000 299.000 lineto 307.000 291.000 lineto stroke
% Polyline
newpath 369 119 moveto 369 139 lineto stroke
stroke
newpath 371.000 131.000 moveto 369.000 139.000 lineto 367.000 131.000 lineto stroke
% Polyline
newpath 369 159 moveto 369 179 lineto stroke
stroke
newpath 371.000 171.000 moveto 369.000 179.000 lineto 367.000 171.000 lineto stroke
% Polyline
newpath 369 199 moveto 369 219 lineto stroke
stroke
newpath 371.000 211.000 moveto 369.000 219.000 lineto 367.000 211.000 lineto stroke
% Polyline
newpath 369 239 moveto 369 259 lineto stroke
stroke
newpath 371.000 251.000 moveto 369.000 259.000 lineto 367.000 251.000 lineto stroke
% Polyline
newpath 489 119 moveto 489 139 lineto stroke
stroke
newpath 491.000 131.000 moveto 489.000 139.000 lineto 487.000 131.000 lineto stroke
% Polyline
newpath 19 189 moveto 59 149 lineto stroke
stroke
newpath 51.929 153.243 moveto 59.000 149.000 lineto 54.757 156.071 lineto stroke
% Polyline
newpath 19 199 moveto 59 229 lineto stroke
stroke
newpath 53.800 222.600 moveto 59.000 229.000 lineto 51.400 225.800 lineto stroke
% Polyline
newpath 356 129 moveto 349 129 349 282 7 arcto 4 {pop} repeat 349 289 402 289 7 arcto 4 {pop} repeat 409 289 409 136 7 arcto 4 {pop} repeat 409 129 356 129 7 arcto 4 {pop} repeat closepath stroke
% Polyline
newpath 489 299 moveto 409 274 lineto stroke
stroke
newpath 416.039 278.295 moveto 409.000 274.000 lineto 417.232 274.477 lineto stroke
% Ellipse
newpath 494 174 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 494 189 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 494 204 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 319 364 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 319 349 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 319 334 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 264 404 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 264 389 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 264 374 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 139 324 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 139 309 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 139 294 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 204 454 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 204 469 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 204 484 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 74 569 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 74 584 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Ellipse
newpath 74 599 5 5 0 360 DrawEllipse gsave  0.000 setgray fill grestore stroke
% Polyline
newpath 69 119 moveto 69 139 lineto stroke
stroke
newpath 71.000 131.000 moveto 69.000 139.000 lineto 67.000 131.000 lineto stroke
/Times-Roman findfont 12.000 scalefont setfont
489 319 moveto 
1 -1 scale
(128K Blocks)dup stringwidth pop 2 div neg 0 rmoveto  gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
4 199 moveto 
1 -1 scale
(Disk Adr) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
69 234 moveto 
1 -1 scale
(3247) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
64 154 moveto 
1 -1 scale
(6943) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
499 99 moveto 
1 -1 scale
(128K) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
444 99 moveto 
1 -1 scale
(64K) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
384 99 moveto 
1 -1 scale
(32K) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
319 99 moveto 
1 -1 scale
(16K) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
259 99 moveto 
1 -1 scale
(8K) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
204 99 moveto 
1 -1 scale
(4K) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
144 99 moveto 
1 -1 scale
(2K) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
84 99 moveto 
1 -1 scale
(1K) gsave  0.000 rotate show grestore 1 -1 scale
$F2psEnd

endTexFig  
524 2065 a(Figure)g(3.1:)i(Sample)f(F)l(ree)e(list)h(for)e(Bu\013er)h(p)q
(o)q(ol)-1384 342 y(3.2)29 b(Mo)q(del)721 b(11)530 b(Marc)o(h)14 b(2,)h
(1993)f(14:04)-1911 b
11 @eop1

12 @bop0
@F15 @sf
[<
3F006180F0C0F0606070007000700070007000700070007000700070007000700070007000
70007000700070007000700070007000F007F0007000000000000000000000000000E001F0
01F001F000E0>
	 12 40 2 30 14] 106 @dc

12 @eop0

0 0 12 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F12 @sf(A)o(l)r(l)e 
@F15 @sf(bu\013ers)g(are)h(main)o(tained)g(in)g(a)g(hash)f(table)i(b)o(y)e
(disk)h(address.)20 b(F)l(or)14 b(a)g(bu\013er)h(whic)o(h)g(has)g(not)f(b)q
(een)i(used)-1909 57 y(to)i(read)g(a)h(disk)g(address)g(at)f(all)h(it)g
(will)h(b)q(e)f(inserted)h(in)o(to)e(a)h(sp)q(ecial)h(buc)o(k)o(et)e(of)h
(the)f(hash)h(table)g(and/or)-1910 56 y(b)q(e)j(demark)o(ed)f(b)o(y)g(an)g
(appropriate)g(\015ag.)37 b(This)22 b(hash)f(mec)o(hanism)h(allo)o(ws)f
(us)g(to)f(recycle)j(disk)f(bu\013ers)-1910 56 y(in)c(the)f(most)g(e\016cien)o
(t)h(manner.)26 b(F)l(or)17 b(example,)h(up)q(on)g(receipt)g(of)f(a)g 
@F12 @sf(r)n(e)n(ad)g @F15 @sf(request,)g(w)o(e)g(hash)h(to)e(\014nd)i
(the)-1909 57 y(appropriate)12 b(buc)o(k)o(et)h(and)f(then)h(searc)o(h)f
(the)g(list)h(of)f(elemen)o(ts)h(within)h(the)e(hash)g(buc)o(k)o(et)h(to)e
(determine)j(if)e(the)-1909 56 y(requested)i(blo)q(c)o(k)g(is)g(already)g
(in)h(memory;)e(if)h(it)f(is)h(w)o(e)g(can)f(use)h(that)f(blo)q(c)o(k)h
(\(adjusting)g(free)f(lists,)i(reference)-1909 57 y(coun)o(ts,)k(etc.)31 b
(as)19 b(appropriate.\))31 b(Indeed,)21 b(w)o(e)d(cannot)h(get)g(around)f
(this)i(mec)o(hanism)f(b)q(ecause)h(w)o(e)f(m)o(ust)-1910 56 y(allo)o(w)e
(concurren)o(t)g(access)h(to)e(the)h(underlyi)q(ng)h(disk)g(structure)f
(to)f(higher-l)q(ev)o(el)j(pro)q(cesses.)26 b(W)l(e)17 b(presume)-1909 57 y
(the)g(higher-lev)o(el)h(pro)q(cesses)f(will)q 18 x(pro)o(vide)g
(concurrency)g(con)o(trols)f(in)h(accessing)h(suc)o(h)f(shared)f(disk)h
(areas;)-1910 56 y(no)g(suc)o(h)g(con)o(trols)g(are)f(pro)o(vided)i(b)o(y)f
(the)g(bu\013er)f(pac)o(k)m(age)h(\(other)f(than)h(to)f(main)o(tain)i(a)e
(simple)j(reference)-1909 57 y(coun)o(t.\))-141 95 y(When)e @F12 @sf
(bu\013er)s 14 -2 z 14 x(R)n(ele)n(ase)e @F15 @sf(is)h(called)q 17 x(with)h
(a)f(particular)h(dirt)o(y)f(bu\013er,)g(the)h(write)f(mec)o(hanism)h(ma)o
(y)f(sc)o(hedule)-1908 57 y(writes)c(of)g(sev)o(eral)g(suc)o(h)h(blo)q(c)o
(ks,)g(regardless)f(of)g(the)h(reference)f(coun)o(t)h(of)e(the)i(bu\013er.)
18 b(This)13 b(do)q(es)g @F12 @sf(not)f @F15 @sf(pro)o(vide)-1909 56 y(an)o
(y)f(inconsistency)h(in)g(the)f(\014le)h(system)e(meta-structure)h(b)q
(ecause)h(of)e(the)h(logging)g(system;)h(w)o(e)e(do)h(guaran)o(tee)-1910 
57 y(not)16 b(to)g(write)g(out)g(an)o(y)g(data)g(bu\013ers)g(whic)o(h)i
(ha)o(v)o(e)e(un)o(written)g(log)h(en)o(tries.)24 b(Indeed,)17 b(the)g(n\177)
-23 b(aiv)o(e)17 b(approac)o(h)-1910 56 y(to)f(this)h(problem)g(w)o(ould)f
(b)q(e)i(to)d(force)i(the)f(en)o(tire)h(log)f(prior)h(to)f(writing)h(an)o
(y)f(data)f(bu\013ers.)24 b(W)l(e)16 b(optimize)-1908 56 y(o)o(v)o(er)g
(this)i(design)g(b)o(y)f(enco)q(di)q(ng)h(the)g(highest)f(log)h(page)f(up)q
(on)h(whic)o(h)g(this)g(bu\013er)f(dep)q(ends.)27 b(This)18 b(allo)o(ws)
-1909 57 y(for)d(b)q(etter)g(optimization)h(of)f(suc)o(h)g(disk)h(writes.)
-851 96 y(In)c(the)f(next)g(few)g(c)o(hapters)g(w)o(e)f(will)q 12 x
(concen)o(trate)h(up)q(on)g(describi)q(ng)h(the)f(in)o(tial)i(design)f(of)e
(the)h(bu\013er)g(pac)o(k)m(age)-1909 56 y(in)16 b(implemen)o(tin)q(g)g
(this)g(mo)q(del)g(of)f(bu\013er)g(managemen)o(t.)-1008 1423 y(3.2)29 b
(Mo)q(del)721 b(12)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
12 @eop1

13 @bop0
@F1 @sf
[<
0007FFFFFFC00007FFFFFFC00007FFFFFFC00007FFFFFFC0000001FFC000000001FFC00000
0001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC0000000
01FFC000000001FFC000FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC0F80000
FFC0007C0000FFC0003C0000FFC0001E0000FFC0000F0000FFC0000F8000FFC00007C000FF
C00003C000FFC00001E000FFC00000F000FFC00000F800FFC000007C00FFC000003C00FFC0
00001E00FFC000000F00FFC000000F80FFC0000007C0FFC0000003C0FFC0000001E0FFC000
0000F0FFC0000000F8FFC00000007CFFC00000003CFFC00000001EFFC00000000FFFC00000
000FFFC000000007FFC000000003FFC000000001FFC000000000FFC000000000FFC0000000
007FC0000000003FC0000000001FC0000000000FC0000000000FC00000000007C000>
	 42 55 -3 54 49] 52 @dc
@F2 @sf
[<
FFFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFFC0FF
FFFFFFFFFFFFFFC0001FFFC00000FFFFC0001FFFC000000FFFC0001FFFC0000003FFC0001F
FFC0000000FFE0001FFFC00000007FE0001FFFC00000003FE0001FFFC00000001FE0001FFF
C00000000FE0001FFFC000000007E0001FFFC000000007F0001FFFC000000003F0001FFFC0
00000003F0001FFFC000000001F0001FFFC000000001F0001FFFC000000001F0001FFFC000
000001F8001FFFC000000000F8001FFFC0007C0000F8001FFFC0007C0000F8001FFFC0007C
0000F8001FFFC0007C00007C001FFFC0007C00007C001FFFC0007C00007C001FFFC000FC00
0000001FFFC000FC000000001FFFC000FC000000001FFFC001FC000000001FFFC003FC0000
00001FFFC01FFC000000001FFFFFFFFC000000001FFFFFFFFC000000001FFFFFFFFC000000
001FFFFFFFFC000000001FFFFFFFFC000000001FFFC01FFC000000001FFFC003FC00000000
1FFFC001FC000000001FFFC000FC000000001FFFC000FC000000001FFFC000FC000000001F
FFC0007C0007C0001FFFC0007C0007C0001FFFC0007C0007C0001FFFC0007C0007C0001FFF
C0007C000F80001FFFC0007C000F80001FFFC00000000F80001FFFC00000000F80001FFFC0
0000001F80001FFFC00000001F80001FFFC00000001F80001FFFC00000003F80001FFFC000
00003F00001FFFC00000007F00001FFFC00000007F00001FFFC0000000FF00001FFFC00000
03FF00001FFFC0000007FF00001FFFC000001FFF00001FFFC00001FFFF00FFFFFFFFFFFFFF
FF00FFFFFFFFFFFFFFFE00FFFFFFFFFFFFFFFE00FFFFFFFFFFFFFFFE00FFFFFFFFFFFFFFFE
00>
	 70 70 -4 69 78] 69 @dc
[<
FFFFF8003FFFFFC0FFFFF8003FFFFFC0FFFFF8003FFFFFC0FFFFF8003FFFFFC0FFFFF8003F
FFFFC000FF800007FFC000003F800007FF8000001FC0000FFF0000000FE0001FFF00000007
F0003FFE00000003F0007FFC00000001F8007FF800000001FC00FFF000000000FE01FFE000
0000007F03FFE0000000003F87FFC0000000001FCFFF80000000000FEFFF000000000007FF
FE000000000003FFFE000000000003FFFC000000000001FFF8000000000001FFF000000000
0001FFE0000000000003FFC0000000000007FFC000000000000FFFC000000000001FFFE000
000000003FFFF000000000003FFFF800000000007FF9FC0000000000FFF8FE0000000001FF
F07F0000000003FFE03F8000000003FFC01F8000000007FF800FC00000000FFF0007E00000
001FFF0007F00000003FFE0003F80000007FFC0001FC0000007FF80001FF00007FFFFF801F
FFFF007FFFFF801FFFFF007FFFFF801FFFFF007FFFFF801FFFFF007FFFFF801FFFFF00>
	 58 46 -2 45 63] 120 @dc
[<
3FFFFFF800003FFFFFF800003FFFFFF800003FFFFFF800003FFFFFF80000007FF000000000
7FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007F
F0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0
000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF000
0000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF00000
00007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000
007FF0000000007FF0000000007FF0000000007FF0000000FFFFFFFE0000FFFFFFFE0000FF
FFFFFE0000FFFFFFFE0000FFFFFFFE0000007FE0000000007FE0000000007FE0000000007F
E0000000007FE0000000007FE0000000007FE0000000007FE0000000007FE0000000007FE0
000000007FE0003800007FE000FE00007FE001FF00007FE003FF80003FE003FF80003FF007
FFC0003FF007FFC0001FF807FFC0000FF807FFC0000FFC03FF800007FF03FF800001FFC1FF
000000FFFFFF0000003FFFFC00000007FFF800000000FFC000>
	 42 72 -3 71 36] 102 @dc
@F7 @sf
[<
00FFFE00FFFE0007E00007E00007E00007E00007E00007E00007E0FFFFFEFFFFFEE007E070
07E03807E01807E00C07E00E07E00707E00307E00187E001C7E000E7E00077E00037E0001F
E0001FE0000FE00007E00003E00003E00001E00000E0>
	 23 32 -2 31 28] 52 @dc
[<
180FC0001C3FF8001EE07C001FC03E001F801F001F001F801F000F801F000FC01F000FC01F
000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000F801F000F801F001F001F80
1E001FF07C001F3FF8001F0FE0001F0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F0000001F000000FF000000FF000000>
	 26 35 -2 34 31] 98 @dc
[<
FFFFE0FFFFE003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003
F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F8
0003F80003F80003F80003F80003F80003F80003F800FFFFE0FFFFE0>
	 19 34 -1 33 21] 73 @dc
/@F16 @newfont
@F16 @sf
[<
7FFFFFFF7FFF01C001C001C001C001C001C001C001C001C001C001C001C07FC07FC07FC000
00000000000000018003C003C00180>
	 16 26 -3 25 22] 105 @dc
[<
7FC7F0FFE7F87FC7F00E03800E03800E03800E03800E03800E03800E03800E03800E03800E
03800F03800F87807FFF00FEFE007E3C00>
	 21 18 0 17 22] 110 @dc
[<
00F80001FC0003FE0007870007038007038007038007010007000007000007000007000007
0000070000070000FFFF00FFFF007FFF00070000070000070000070000030000>
	 17 23 -1 22 22] 116 @dc
[<
07E0001FF8003FFC00781E00E00700F00380600380000380000380000300000700001E0007
FC0007F00007FC00003E00000E00000700000700300700780700781E003FFC001FF80007E0
00>
	 17 25 -2 24 22] 51 @dc
[<
7FFF80FFFF807FFF803803801E03800F000003800001C00000E000007000003800001C0000
0E00000700000700000380000380600380F00380F00780E00700783E003FFC001FF80007E0
00>
	 17 25 -2 24 22] 50 @dc
@F16 @sf
[<
00E001E0038007000E001C001C0038003800700070007000E000E000E000E000E000E000E0
00E000E000700070007000380038001C001C000E000700038001E000E0>
	 11 33 -6 28 22] 40 @dc
[<
FFFEFFFEFFFE03800380038003800380038003800380038003800380038003800380038003
80038003800380FFFEFFFEFFFE>
	 15 25 -3 24 22] 73 @dc
[<
7F0F00FF9F007F1F001C17001C37001C37001C37001C77001C77001C67001C67001CE7001C
E7001CE7001CC7001CC7001DC7001DC7001D87001D87001D87001D07007F1FC0FF3FE07E1F
C0>
	 19 25 -1 24 22] 78 @dc
[<
03F00FF81FFC3E0E78077007F000E000E000E000E000E0007000780C3C1E1FFE0FFC03F8>
	 16 18 -3 17 22] 99 @dc
[<
0F83E03FE7E07FFFE0783E00E00E00E00E00E00E00700E003E0E001FFE0003FE00000E0000
0E00300E00783C007FF8003FF0001FE000>
	 19 18 -2 17 22] 97 @dc
[<
07C7E00FE7F01FFFE03C1F00700F00700F00E00700E00700E00700E00700E00700E0070070
0700780F003C1F001FFF000FF70003C700000700000700000700000700003F00007F00003F
00>
	 20 25 -1 24 22] 100 @dc
[<
FFFC00FFFC00FFFC0007000007000007000007000007000007000007000007000007800007
800007C00007F040FF7FE0FF3FE0FF0FC0>
	 19 18 -1 17 22] 114 @dc
[<
C7E0FFF8FFFCF81EF00EE00E600E003C07F81FF07F807000E01CE01CF03C7FFC3FFC0FEC>
	 15 18 -3 17 22] 115 @dc
[<
7F1FC0FF1FE07F1FC01C07001C07001C07001FFF000FFE000FFE000E0E000E0E00071C0007
1C00071C00071C00071C0003180003B80003B80003B80001B00001B00001F00001F00000E0
00>
	 19 25 -1 24 22] 65 @dc
[<
40E070381C1C3C7C7C78380000000000000000387C7C7C38>
	 6 24 -7 17 22] 59 @dc
[<
03E3F007FBF80FFFF00E0F800E03800E03800E03800E03800E03800E03800E03800E03800E
03800E03800E03807E1F80FE3F807E1F80>
	 21 18 0 17 22] 117 @dc
[<
03F8000FFE003FFF807C07C07001C0E000E0E000E0E000E0E000E07803C03FFF801FFF001F
FC001800003800001BE0001FF0000FF8001C1C00380E00380E00380E00380E00380E001C1C
C00FFFE007F7E003E3C0>
	 19 28 -1 17 22] 103 @dc
[<
03F00FFC1FFE3C0F78077007E000E000FFFFFFFFFFFFE0077007780E3C1E1FFC0FF803E0>
	 16 18 -3 17 22] 101 @dc
[<
063C000EFF000FFF800F83C00F01E00E00E00E00700E00700E00700E00700E00700E00700E
00E00F00E00F83C00FFF800EFF000E3E000E00000E00000E00000E00007E0000FE00007E00
00>
	 20 25 0 24 22] 98 @dc
[<
3C00003F00007F80007BC00079C00001C00000E00000E00000E00000F00000F00000F00001
B80001B800039800039C00039C00071C00071C00070E000E0E000E0E000E07001C07007F1F
C0FF9FE07F1FC0>
	 19 27 -1 17 22] 121 @dc
[<
01F00007FC000FFE001F0F003C0700380380700380700380F00000E00000E00000E00000E0
0000E00000E00000E00000F000007003807003803803803C07801F0F800FFF8007FB8001F1
80>
	 17 25 -2 24 22] 67 @dc
[<
03E0000FF8001FFC003C1E00780F00700700F00780E00380E00380E00380E00380E0038070
0700780F003C1E001FFC000FF80003E000>
	 17 18 -2 17 22] 111 @dc
[<
C000E000700038001C000E000E000700070003800380038001C001C001C001C001C001C001
C001C001C0038003800380070007000E000E001C0038007000E000C000>
	 10 33 -5 28 22] 41 @dc
@F10 @sf
[<
E7F000FFFC00FFFF00F80F00F00380E00380E00380600780001F0003FE001FFC007FE0007C
0000E00700E00700E00700780F007FFF003FFF0007F700>
	 17 20 -3 19 24] 115 @dc
[<
003E0000FF8001FFC001C1C00380E00380E00380E003804003800003800003800003800003
8000038000038000038000038000FFFFC0FFFFC07FFFC00380000380000380000380000180
00>
	 19 25 -1 24 24] 116 @dc
[<
07E1F01FFBF03FFFF0781F00F00F00E00700E00700E007007807007F07001FFF0007FF0000
FF00000700000700300E00781E007FFC003FF8001FE000>
	 20 20 -3 19 24] 97 @dc
[<
7FFE00FFFF007FFE0003800003800003800003800003800003800003800003800003800003
C00003C00003E00003F03003F8787FBFF8FF9FF07F87E0>
	 21 20 -1 19 24] 114 @dc
[<
7F07F0FF8FF87F07F01C01C01C01C00E03800E03800FFF800FFF800FFF8007070007070007
0700070700030600038E00038E00038E00038E00018C0001DC0001DC0001DC0000D80000D8
0000F80000F800007000>
	 21 28 -1 27 24] 65 @dc
[<
03E3F00FFBF81FFFF03C1F80380F80700780700780E00380E00380E00380E00380E00380E0
0380700380700780380F803C1F801FFF800FFB8003E3800003800003800003800003800003
80001F80003F80001F80>
	 21 28 -2 27 24] 100 @dc
@F10 @sf
[<
1E00003F00007F80007BC00079E00000E00000F00000700000700000700000780000780000
780000DC0000CC0000CC0001CE0001CE00038E000386000387000707000707000703800E03
800E03800E01C07F8FF0FF8FF87F8FF0>
	 21 30 -1 19 24] 121 @dc
[<
01FC0007FF001FFF803E03C03801C07001C0700000E00000FFFFC0FFFFC0FFFFC0E001C0E0
01C07003807003803807803E0F001FFE0007FC0001F000>
	 18 20 -3 19 24] 101 @dc
[<
00F80003FE0007FF800F07C01E01C03C00E03800E07000E07000E0700000E00000E00000E0
0000E00000E00000E00000E00000E000007000007000E07000E03800E03C01E01E03E00F07
E007FFE003FEE000F8E0>
	 19 28 -2 27 24] 67 @dc
[<
01F0000FFE001FFF003E0F803C07807803C07001C0F001E0E000E0E000E0E000E0E000E0E0
00E07001C07001C03803803E0F801FFF000FFE0001F000>
	 19 20 -2 19 24] 111 @dc
[<
01FCFC03FFFE07FFFC0F03E00E01E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E
00E00E00E00E00E00E00E00E00E07E07E0FE0FE07E07E0>
	 23 20 0 19 24] 117 @dc
/@F17 @newfont
@F17 @sf
[<
FFFFFC00FFFFFF000FC01FC00FC007E00FC007E00FC003F00FC003F00FC003F00FC003F00F
C003F00FC003E00FC007E00FC007C00FC00F800FFFFE000FC03F000FC00F800FC007C00FC0
07E00FC007E00FC007E00FC007E00FC007E00FC007C00FC00FC00FC01F80FFFFFF00FFFFF8
00>
	 28 28 -2 27 34] 66 @dc
[<
000FF800007FFE0000FC078001F001C003E000E007C0006007C000300FC000300FC000300F
C000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC000300FC0
00300FC000300FC000300FC000300FC000300FC000300FC000300FC00030FFFC03FFFFFC03
FF>
	 32 28 -2 27 37] 85 @dc
[<
FFFF0000FFFF00000FC000000FC000000FC000000FC000000FC000000FC000000FC180000F
C180000FC180000FC180000FC380000FFF80000FFF80000FC380000FC180000FC180000FC1
81800FC181800FC001800FC003800FC003800FC003000FC007000FC01F00FFFFFF00FFFFFF
00>
	 25 28 -2 27 30] 70 @dc
[<
FFFFF800FFFFFF000FC01FC00FC007E00FC001F00FC000F80FC000F80FC0007C0FC0007C0F
C0007C0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0
007C0FC0007C0FC000FC0FC000F80FC001F80FC001F00FC007E00FC01FC0FFFFFF00FFFFF8
00>
	 31 28 -2 27 37] 68 @dc
[<
FFFFFFFF07E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007
E007E007E007E007E007E007E007E0FFFFFFFF>
	 16 28 -1 27 18] 73 @dc
[<
83FC00EFFF00FC03C0F001C0E000E0C000E0C000F0C000F00000F00001F00003F0007FE007
FFE00FFFC03FFF803FFF007FFE00FFE000FE0000F80000F00060F00060F000E07000E07801
E03C07E01FFEE007F820>
	 20 28 -3 27 27] 83 @dc
[<
FFFC3FFFFFFC3FFF0FC007F00FC007E00FC00FC00FC01FC00FC01F800FC03F000FC07E000F
C0FE000FC0FC000FE1F8000FF3F8000FFBF0000FCFE0000FC7E0000FC3C0000FC1C0000FC0
E0000FC070000FC038000FC00C000FC006000FC003800FC001C00FC000E0FFFC07FFFFFC07
FF>
	 32 28 -2 27 37] 75 @dc
[<
FFFFFEFFFFFE0FC07E0FC01E0FC00E0FC0060FC0070FC0070FC0030FC0030FC0030FC0000F
C0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0
000FC000FFFF00FFFF00>
	 24 28 -2 27 29] 76 @dc
[<
FFFFFCFFFFFC7E00FC7F003C3F001C1F801C1F800E0FC00E0FE00607E00603F00603F80601
F80000FC0000FC00007E00007F00003F00C01F80C01FC0C00FC0E007E0E007E07003F07803
F87E01F87FFFFC7FFFFC>
	 23 28 -3 27 29] 90 @dc
[<
FFFFFF80FFFFFF800FC00F800FC003C00FC001C00FC001C00FC000C00FC000C00FC000E00F
C180600FC180600FC180000FC180000FC380000FFF80000FFF80000FC380000FC180000FC1
81800FC181800FC181800FC003800FC003800FC003000FC007000FC01F00FFFFFF00FFFFFF
00>
	 27 28 -2 27 31] 69 @dc
/@F18 @newfont
@F18 @sf
[<
800040002000100018000C000C000600060003000300038001800180018001C001C001C001
C001C001C001C001C001C001C001C001C0018001800180038003000300060006000C000C00
18001000200040008000>
	 10 42 -2 30 16] 41 @dc
[<
10F8001906001E03001C01801C01C01C00C01C00E01C00E01C00E01C00E01C00E01C00E01C
00C01C01C01C01801E03001D86001C7C001C00001C00001C00001C00001C00001C00001C00
001C00001C00001C0000FC0000>
	 19 29 -1 28 23] 98 @dc
[<
03E3F00E1B800C07801C07801C03801C03801C03801C03801C03801C03801C03801C03801C
03801C03801C03801C03801C0380FC1F80>
	 20 18 -1 17 23] 117 @dc
[<
03C00E200C101C101C101C101C101C101C001C001C001C001C001C001C001C001C00FFE03C
001C000C000C000400040004000400>
	 12 26 -1 25 16] 116 @dc
[<
FF9FF01C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C
03801C03801E03801D03001C8700FC7C00>
	 20 18 -1 17 23] 110 @dc
[<
03F0000E1C00180600300300700380600180E001C0E001C0E001C0E001C0E001C0E001C060
01807003803003001806000E1C0003F000>
	 18 18 -1 17 21] 111 @dc
[<
FF801C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C
001C001C001C001C001C001C001C001C001C00FC00>
	 9 29 -1 28 12] 108 @dc
[<
1F8700304E80603C40E01C40E01C40E01C40601C00701C00381C000F1C0001FC00001C0000
1C00301C00781C007838003070001FC000>
	 18 18 -2 17 21] 97 @dc
[<
FFC01C001C001C001C001C001C001C001C001C001C001C001C001C301E781E781D30FCE0>
	 13 18 -1 17 16] 114 @dc
[<
07F8001C0E00300300600180C000C0C000C0C000C06001C03003801FFF801FFF001FF80018
000030000010000013C0000C30001C3800181800381C00381C00381C00381C001818001C38
800C38C003C4C0000380>
	 18 28 -1 18 21] 103 @dc
[<
03E00C181804300270026000E000E000E000E000FFFEE0066006700E300C18180C3003E0>
	 15 18 -1 17 18] 101 @dc
[<
FF9FF01C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C
03801C03801E03801D03001C87001C7C001C00001C00001C00001C00001C00001C00001C00
001C00001C00001C0000FC0000>
	 20 29 -1 28 23] 104 @dc
[<
8FC0D060E010C018C0188018803800F80FF03FE07F80F800E010C010C010403030701F90>
	 13 18 -1 17 16] 115 @dc
[<
FF8FF8FF801C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01
C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001E01E01C
001D019018001C83883800FC7E07E000>
	 33 18 -1 17 36] 109 @dc
[<
7F87F80E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00E01C00E01C0FFFFC00E00000E00000E00000E00000E00000E01800E03
C00703C003018001C180007E00>
	 21 29 0 28 23] 12 @dc
[<
FF0FF81E07C0040380060700020E00010E00009C0000F80000780000700000F00001D80001
C8000384000702000F03000F03807F8FF0>
	 21 18 0 17 22] 120 @dc
[<
07C7E00C3700180F00300700700700600700E00700E00700E00700E00700E00700E0070060
0700700700300700180F000C170003E7000007000007000007000007000007000007000007
00000700000700000700003F00>
	 19 29 -2 28 23] 100 @dc
[<
FF801C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00FC0000
0000000000000000000000000018003C003C001800>
	 9 29 -1 28 12] 105 @dc
[<
004000800100020006000C000C0018001800300030007000600060006000E000E000E000E0
00E000E000E000E000E000E000E000E000600060006000700030003000180018000C000C00
06000200010000800040>
	 10 42 -3 30 16] 40 @dc
@F17 @sf
[<
FFC0701FFFFFC0701FFF0C00F801F00C00F801F00C01FC01F00C01FC01F00C01FC01F00C03
E601F00C03E601F00C07C301F00C07C301F00C0F8181F00C0F8181F00C1F00C1F00C1F00C1
F00C1F00C1F00C3E0061F00C3E0061F00C7C0031F00C7C0031F00CF80019F00CF80019F00D
F0000DF00DF0000DF00DF0000DF00FE00007F0FFE00007FFFFC00003FF>
	 40 28 -2 27 45] 77 @dc
[<
FFC07FFEFFC07FFE0C0007E00E000FE006000FC006000FC003001F8003001F8003FFFF8001
FFFF0001803F0000C07E0000C07E0000E0FE000060FC000061FC000031F8000031F800001B
F000001BF000001FF000000FE000000FE0000007C0000007C0000007C00000038000000380
00>
	 31 28 -2 27 36] 65 @dc
[<
FFF03FFF80FFF03FFF80030007F000018007F00001C00FE00000C01FC00000601F80000070
3F800000387F000000187E0000000CFE0000000FFC00000007F800000003F800000007F000
00000FE00000000FE00000001FE00000003FB00000003F380000007F1C000000FE0C000000
FC06000001FC07000003F803800007F00180007FFE1FFE007FFE1FFE00>
	 33 28 -1 27 36] 88 @dc
@F18 @sf
[<
60F0F060>
	 4 4 -4 3 12] 46 @dc
[<
FF80FFF01E001F000C001F0004001E0004001E0006003E0002003C0002003C0003007C0001
FFF800010078000180F8000080F0000080F0000041E0000041E0000041E0000023C0000023
C0000023C000001780000017800000178000000F0000000F0000000F000000060000000600
0000060000>
	 28 29 -1 28 31] 65 @dc
[<
008020000180300001C0700001C0700003C0680003A0E80003A0E8000720C4000711C40007
11C4000E1182000E0B82000E0B82001C0B01001C0701001C0701803C0F0380FF3FCFE0>
	 27 18 -1 17 30] 119 @dc
[<
83F800CC0C00D00200E00300C00180C001808001C08001C08001C00001C00003C00007C000
0F8000FF8007FF001FFE003FF8007FC0007C0000F80000F00000E00080E00080E00080E001
806001807003803005801C198007E080>
	 18 30 -2 28 23] 83 @dc
[<
07C00C301808300470046000E000E000E000E000E000E00060007030307818780C3007E0>
	 14 18 -2 17 18] 99 @dc
[<
07E01830201C401CF00EF80FF80FF80F700F000F000F000E001C001C003007E00060003000
18001C001C381E781E780E781E201C201C183007E0>
	 16 29 -2 27 21] 51 @dc
[<
FFFE7FFE3FFE100218010C0106010300018000C0006000700038001C001C000E000E000F70
07F807F807F80FF00F400E400C201C183007C0>
	 16 28 -2 27 21] 50 @dc
[<
804020201010101070F0F060>
	 4 12 -4 3 12] 44 @dc
[<
7F87FC000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E
01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C000FFFFFC000E01
C0000E01C0000E01C0000E01C0000E01C0000E01C0000E03C1800703C3C00303E3C001C1B1
80007E1F00>
	 26 29 0 28 24] 11 @dc
[<
FF80001C00001C00001C00001C00001C00001C00001C00001CF8001D06001E03001C01801C
01C01C01C01C00E01C00E01C00E01C00E01C00E01C00E01C00C01C01C01C01801E03001D86
00FC7C00>
	 19 26 -1 17 23] 112 @dc
[<
FFF87038700838083C0C1C040E040F040700038003C041C040E040F04070603870387FFC>
	 14 18 -1 17 18] 122 @dc
[<
7FE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00FFE00E
000E000E000E000E000E000E0C061E071E018C00F8>
	 15 29 0 28 13] 102 @dc
[<
30307878F8F8B0B080808080808040404040202010100808>
	 13 12 -6 28 21] 92 @dc
[<
FF9FE01C0F801C0F001C0E001C1C001C3C001C38001C78001E70001DE0001CE0001C40001C
20001C10001C08001C0C001C0F001C3FC01C00001C00001C00001C00001C00001C00001C00
001C00001C00001C0000FC0000>
	 19 29 -1 28 22] 107 @dc
[<
808040402020101010100808080808086868F8F8F0F06060>
	 13 12 -1 28 21] 34 @dc
@F13 @sf
[<
01800180018001800180C183F18F399C0FF003C003C00FF0399CF18FC18301800180018001
800180>
	 16 20 -3 20 23] 3 @dc
@F18 @sf
[<
00400000E00000E00000E00001D00001D00003D8000388000388000704000704000704000E
02000E02001C01001C01003C0380FF07E0>
	 19 18 -1 17 22] 118 @dc
[<
FF8004001C000C0008000C0008001C0008003C0008003C0008007C0008007C000800F40008
01E4000801E4000803C4000807C40008078400080F0400080F0400081E0400083C0400083C
04000878040008F8040008F0040009E0040009E004000BC004000F8004000F800E00FF007F
C0>
	 26 28 -2 27 31] 78 @dc
[<
3C0000660000F30000F10000F0800000800000800000400000400000E00000E00000E00001
D00001D00003D8000388000388000704000704000704000E02000E02001C01001C01003C03
80FF07E0>
	 19 26 -1 17 22] 121 @dc
@F18 @sf
[<
003FE000070000070000070000070000070000070000070007C7000C3700180F00300F0070
0700600700E00700E00700E00700E00700E00700E00700700700700700300F00180B000C33
0003C100>
	 19 26 -2 17 22] 113 @dc

13 @eop0

0 0 13 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(4)-436 246 y @F2 @sf(External)41 b(Bu\013er)f(P)m(ac)m(k)-7 b(age)40 b
(In)m(terface)-1760 262 y @F7 @sf(4.1)56 b(bu\013er)s 17 -2 z 16 x(Init)
33 b @F15 @sf(|)16 b(Initiali)q(ze)q 16 x(the)f(bu\013er)h(pac)o(k)m(age)
-1026 201 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(Init)p 
@F16 @sf(\()p 57 w(IN)h(caddr)s 13 -2 z 11 x(t)g(startAddr)o(;)-453 56 y
(IN)g(unsigned)o 21 x(byteCoun)o(t;)-481 57 y(\))-411 201 y @F11 @sf(P)o
(arameters)-192 108 y @F10 @sf(startAddr)g @F15 @sf(-)30 b(address)15 b
(where)h(the)f(memory)g(blo)q(c)o(k)h(to)e(b)q(e)i(handled)h(starts.)-1366 
75 y @F10 @sf(byteCount)22 b @F15 @sf(-)30 b(n)o(um)o(b)q(er)16 b(of)e(b)o
(ytes)h(within)i(the)e(referenced)h(memory)f(blo)q(c)o(k.)-1418 171 y 
@F11 @sf(Description)-262 95 y @F15 @sf(This)e(routine)f(initial)q(iz)q
(es)h(the)f(bu\013er)g(managemen)o(t)f(pac)o(k)m(age)h(b)o(y)g(passing)h
(it)f(an)g(arena)g(in)g(whic)o(h)h(to)f(p)q(erform)-1910 57 y(bu\013er)j
(managemen)o(t.)20 b(W)l(e)15 b(initi)q(alze)q 16 x(the)h(header)g(allo)q
(cation)g(co)q(de)g(to)f(use)h(the)f(last)g(128K)g(blo)q(c)o(k)h(plus)h
(an)o(y)-1910 56 y(fractional)e(amoun)o(t)g(a)o(v)m(ailable)i(within)f
(this)g(area.)-883 96 y(There)24 b(is)h(an)f(implici)q(t)h(assumption)f
(that)g(bu\013ers)g(are)f(an)h(in)o(teger)g(m)o(ultipl)q(e)h(of)f(the)g
(disk)h(blo)q(c)o(k)g(size)-1909 56 y(\()p @F17 @sf(BUF)s 14 -2 z 14 x
(DISKBLKSIZE)p @F18 @sf(\))13 b(but)i(no)e(larger)h(than)g(some)f(\014xed)h
(maxim)n -1 x(um)o 12 x(amoun)o(t)e(\()p @F17 @sf(BUF)s 14 -2 z 14 x
(MAXBUFSIZE)p @F18 @sf(\).)-1872 96 y(As)17 b(w)o(e)g(noted)g(in)f
(Subsect)q(ion)h(3.2,)f(the)h(bu\013er)h(p)q(o)q(ol)e(is)h(organized)f(in)o
(to)g(a)h(set)g(of)g(\\allo)o 1 x(cation)e(c)o(h)o(unks")i(of)g(size)g 
@F15 @sf(2)p @F13 @sf(\003)-1910 56 y @F17 @sf(BUF)s 14 -2 z 14 x
(MAXBUFSIZE)d @F18 @sf(whic)o(h)g(are)g(then)h(further)f(sub)q(divided)h
(in)o(to)e(smal)o(ler)g(pieces.)-1432 96 y(Note)k(that)f(the)g(memo)o(ry)f
(pro)o(vided)h(in)g @F10 @sf(startAddr)f @F18 @sf(need)i(not)f(b)q(e)g
(aligned)g(in)f(an)o(y)h(w)o(a)o(y)f(b)q(ecause)q 17 x(it)h(is)g
(reference)q(d)-1908 56 y(only)d(as)h(an)g(opaque)g(arra)o(y)f(of)g(b)o
(ytes.)-603 125 y @F15 @sf(4.1)29 b(bu\013er)s 14 -2 z 14 x(Init)641 b(13)
530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
13 @eop1

14 @bop0
@F10 @sf
[<
0C18001E3C001E3C001E3C001E3C001E3C001E3C007FFFC0FFFFE0FFFFE07FFFC00F1E000F
1E000F1E000F1E000F1E000F1E007FFFC0FFFFE0FFFFE07FFFC0078F00078F00078F00078F
00078F00078F00030600>
	 19 28 -2 27 24] 35 @dc
[<
7FFF007FFF007FFF0001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C000FFFFC0FFFFC07FFFC001C00001C00001C00001C0C000E1
E000FFE0007FC0001F80>
	 19 28 -1 27 24] 102 @dc
[<
FFFF00FFFF80FFFF0001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C0007FC000FFC0007FC0000000000000000000000000000380
0007C00007C00007C000038000>
	 17 29 -4 28 24] 105 @dc
[<
FFFE00FFFF80FFFFC01C03E01C00E01C00F01C00701C00701C00701C00701C00F01C00E01C
03C01FFFC01FFF001FFF801C07C01C01C01C01E01C00E01C00E01C00E01C00E01C01C01C03
C0FFFF80FFFF00FFFC00>
	 20 28 -1 27 24] 66 @dc
[<
007C0001FF0003FF800783C00F01E00E00E01C00701C00701C00701C00701C00701C00701C
00701C00701C00701C00701C00701C00701C00701C00701C00701C00701C00701C00701C00
70FF83FEFF83FEFF83FE>
	 23 28 0 27 24] 85 @dc
[<
FFC000FFC000FFC0001C00001C00001C00001C00001C00001C00001C00001C1C001C1C001C
1C001FFC001FFC001FFC001C1C001C1C001C1C001C00001C00001C00E01C00E01C00E01C00
E0FFFFE0FFFFE0FFFFE0>
	 19 28 -2 27 24] 70 @dc
[<
7FFF00FFFF80FFFF807FFF00>
	 17 4 -3 -1 24] 95 @dc
[<
7FF800FFFE007FFF001C0F801C03C01C01C01C01E01C00E01C00E01C00F01C00701C00701C
00701C00701C00701C00701C00701C00701C00F01C00E01C00E01C01E01C03C01C03C01C0F
807FFF00FFFE007FF800>
	 20 28 -1 27 24] 68 @dc
[<
7FFF00FFFF807FFF0001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0
007FFF00FFFF807FFF00>
	 17 28 -3 27 24] 73 @dc
[<
E7F800FFFE00FFFF80F80780F001C0E001E0E000E06000E00000E00000E00001C00003C000
0F8000FF0007FE001FF0003F0000780000700000E00000E00380E00380E003807007807C0F
803FFF801FFF8003F380>
	 19 28 -2 27 24] 83 @dc
[<
7F03F0FF87F87F03F01C01C01C03801C03801C07001C07001C0E001C0E001E1C001F1C001F
B8001FB8001DF0001DF0001CF0001C70001C38001C3C001C1E001C0E001C07001C07801C03
C07F07F0FF87F87F07F0>
	 21 28 -1 27 24] 75 @dc
[<
7FFFF0FFFFF07FFFF00E00700E00700E00700E00700E00700E00000E00000E00000E00000E
00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00
007FE000FFE0007FE000>
	 20 28 -1 27 24] 76 @dc
[<
FFFFE0FFFFE0FFFFE07000E07800E03C00E01C00E01E00E00F000007000007800003C00001
C00001E00000F000007000007800003C00001C00001E00000F007007007007807003C07001
C07FFFE07FFFE03FFFE0>
	 19 28 -2 27 24] 90 @dc
[<
FFFFF8FFFFF8FFFFF81C00381C00381C00381C00381C00381C00001C00001C0E001C0E001C
0E001FFE001FFE001FFE001C0E001C0E001C0E001C00001C00001C00701C00701C00701C00
70FFFFF0FFFFF0FFFFF0>
	 21 28 -1 27 24] 69 @dc
[<
007000F001F003C007800F001E001C00380038007000700070007000E000E000E000E000E0
00E000E000E0007000700070007000380038001C001E000F00078003C001E000F00070>
	 12 36 -7 31 24] 40 @dc
[<
03F0001FFC003FFF007C0F807003C0E001C0F000E0F000E06000E00000E00000E00001C018
03C03C07803FFF003FFE003BF8003800003800003800003800003800003800003800003800
003FFF803FFF801FFF80>
	 19 28 -2 27 24] 53 @dc
[<
7FFCFFFE7FFC03800380038003800380038003800380038003800380038003800380038003
804380FB80FF803F800F800780038003800180>
	 15 28 -5 27 24] 49 @dc
[<
7FFFE0FFFFE07FFFE03C00E01E00E00F800007C00001E00000F000007800003C00001E0000
0F000007800003C00001C00001C00000E00000E06000E0F000E0F000E0E001C07003C07C0F
803FFF000FFE0003F000>
	 19 28 -2 27 24] 50 @dc
[<
6000F00078003C001E000F000780038001C001C000E000E000E000E0007000700070007000
7000700070007000E000E000E000E001C001C0038007800F001E003C007800F0006000>
	 12 36 -4 31 24] 41 @dc
[<
FE03F8FE03F8FE03F83800E03800E03800E03800E03800E03800E03870E03870E038F8E038
D8E038D8E039DCE039DCE039DCE0398CE0398CE03B8EE03B8EE03B06E03B06E03B06E03B06
E0FE03F8FE03F8FC01F8>
	 21 28 -1 27 24] 77 @dc
[<
7F07F0FF8FF87F07F01E03C00E03800E0780070700070F00038E00039E0001DC0001F80000
F80000F00000700000F00000F00001F80001F80003DC00039C00078E00070E000F07000E07
007F8FE07F9FE07F8FE0>
	 21 28 -1 27 24] 88 @dc
[<
03F8000FFE001FFF003E0F807803C07001C0E000E0E000E0E000E0E000E0F001E07001C03C
07801F1F000FFE0007FC001FFF003C07803803807001C07001C07001C07001C03803803E0F
801FFF000FFE0003F800>
	 19 28 -2 27 24] 56 @dc
[<
01C00001C00001C00001C000C1C180F1C780F9CF807FFF001FFC0007F00007F0001FFC007F
FF00F9CF80F1C780C1C18001C00001C00001C00001C000>
	 17 20 -3 23 24] 42 @dc
[<
01FC0007FF001FFF803E03C03801C07001C0700000E00000E00000E00000E00000E00000E0
00007000007000003803003E07801FFF8007FF0001FE00>
	 18 20 -3 19 24] 99 @dc
[<
FF8000FF8000FF80001C00001C00001C00001C00001C00001C00001C00001C00001FFE001F
FF801FFFC01C03C01C01E01C00E01C00701C00701C00701C00701C00701C00E01C01E01C03
C0FFFFC0FFFF80FFFE00>
	 20 28 -1 27 24] 80 @dc
[<
7FFFC0FFFFE07FFFC000E00000E00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
007FE000FFE0007FE000>
	 19 28 -2 27 24] 108 @dc
[<
0007E0001FE0007FE000780000E00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E00001E0007FC000FF8000FF80007FC00001E00000E00000E00000E00000E0
0000E00000E00000E00000E00000E00000E00000E000007800007FE0001FE00007E0>
	 19 36 -2 31 24] 123 @dc
[<
01FC000FFF801FFFC07E03F07800F0E00038E00038E00038E000387000707801F03FFFE01F
FFC01FFE001C000038000039E0001FF8001FFC001E1E001C0E003807003807003807003807
003807001C0E001E1E300FFFF807FFF801E1F0>
	 21 31 -1 19 24] 103 @dc
[<
60F0783C1C0E1E3E7E7E3C180000000000000000183C7E7E3C18>
	 7 26 -8 19 24] 59 @dc
[<
600000F00000F00000F800007800007C00003C00003C00003E00001E00001F00000F00000F
00000F800007800007C00003C00003C00003E00001E00001F00000F00000F8000078000078
00007C00003C00003E00001E00001E00001F00000F00000F80000780000780000300>
	 17 36 -3 31 24] 47 @dc
[<
07FF0007FF0007FF0000700000700000700000700000700000700000700000700000700000
7000007000007000007000007000007000007000007000007000E07038E07038E07038E070
38FFFFF8FFFFF87FFFF8>
	 21 28 -1 27 24] 84 @dc
[<
7FC3FCFFE7FE7FC3FC0E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E
00E00E00E00F00E00F80E00FC1C00FFFC00EFF800E3E000E00000E00000E00000E00000E00
007E0000FE00007E0000>
	 23 28 0 27 24] 104 @dc
[<
FFFFF0FFFFF0FFFFF07800703C00701E00700F007007800003C00001F00000F800003C0000
1E00000F007007807003C07001E07FFFF07FFFF03FFFF0>
	 20 20 -1 19 24] 122 @dc
[<
0FF8003FFE007FFF00780F00700700F00780E00380E00380E00380E00380E00380E00380E0
0380E00380E00380E00380E00380E00380E00380E00380E00380E00380F00780700700780F
007FFF003FFE000FF800>
	 17 28 -3 27 24] 79 @dc
[<
0E03800F07800F07800D05800D8D801D8DC01D8DC01D8DC01D8DC0198CC019DCC019DCC019
DCC039DCE039DCE038F8E038F8E03800E03800E03800E03800E03800E07000707000707000
70FE03F8FE03F8FE03F8>
	 21 28 -1 27 24] 87 @dc
[<
0707000F8F800F8F800D8D800DDD800DDD800DDD801CD9C01CD9C01CF9C01CF9C01C71C01C
01C01C01C03800E03800E03800E0FF8FF8FF8FF8FF8FF8>
	 21 20 -1 19 24] 119 @dc
[<
7C0000FF0000FFC00003C00000E00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E00000F000007FC0003FE0003FE0007FC000F00000E00000E00000E00000E0
0000E00000E00000E00000E00000E00000E00000E00003C000FFC000FF00007C0000>
	 19 36 -2 31 24] 125 @dc
[<
3078FCFC783000000000000000003078FCFC7830>
	 6 20 -9 19 24] 58 @dc
[<
007FF000FFF8007FF0000700000700000700000700000700000700FFFFF8FFFFF8FFFFF8F0
07007807003807003C07001E07000E070007070007870003870001C70001E70000E7000077
00007700003F00001F00>
	 21 28 -1 27 24] 52 @dc
[<
01F80007FE000FFF001E07803C03C03801C07000E07000E07000E0F000E0E000E0F000E0F0
01C0F803C0FE0780FFFF00E7FE00E1F8007000007000003800003801801C03C01E03C00F83
C007FF8001FF00007E00>
	 19 28 -2 27 24] 54 @dc
[<
03F8001FFE003FFF007C0780F003C0F001C0F000E0F000E00000E00000E00000E00001C000
03C000078003FF0003FE0003FF00000F000003800003C00001C03001C07801C07803C07807
803FFF001FFE0007F800>
	 19 28 -2 27 24] 51 @dc
[<
00700000F80000F80001DC0001DC0001DC00038E00038E00038E00038E0007070007070007
07000E03800E03800E03801E03C07F8FF0FF8FF87F8FF0>
	 21 20 -1 19 24] 118 @dc
[<
7F1F1F00FFBFBF807F1F1F001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C
1C1C001C1C1C001C1C1C001C1C1C001C1C1C001E1E1C001E1E1C001F1F1C007FFFF800FFFB
F8007CE0E000>
	 25 20 1 19 24] 109 @dc
[<
FFF8FFF8FFF8E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E0
00E000E000E000E000E000E000E000E000E000E000E000E000E000E000FFF8FFF8FFF8>
	 13 36 -9 31 24] 91 @dc
[<
07C0001FF0003FFC00783E00780F007807803003800001C00001C00001C00000E003F0E00F
FEE01FFFE03C0FE07803E07001E0E001E0E001E0E001C0E001C0E001C07003807807803C0F
001FFE000FFC0003F000>
	 19 28 -2 27 24] 57 @dc
[<
FFF8FFF8FFF800380038003800380038003800380038003800380038003800380038003800
3800380038003800380038003800380038003800380038003800380038FFF8FFF8FFF8>
	 13 36 -1 31 24] 93 @dc
[<
7FFFC0FFFFE0FFFFE0FFFFE0000000000000000000000000FFFFE0FFFFE0FFFFE07FFFC0>
	 19 12 -2 19 24] 61 @dc
[<
7F8FF0FF8FF87F8FF00F0780070700038E00039E0001DC0000F80000F00000700000F80001
F80001DC00039E00078E000707007F8FF07F9FF07F8FF0>
	 21 20 -1 19 24] 120 @dc
[<
7F00F0FF81F87F01F81C039C1C039C1C039C1C03801C03801C03801C03801C03801C07001C
0F001FFE001FFE001FFF001C0F801C03801C03C01C01C01C01C01C01C01C03C01C03801C0F
807FFF00FFFE007FF800>
	 22 28 -1 27 24] 82 @dc
[<
7F03C0FF87C07F07C01C0DC01C0DC01C0DC01C1DC01C19C01C19C01C39C01C39C01C39C01C
31C01C71C01C71C01C61C01CE1C01CE1C01CE1C01CC1C01CC1C01DC1C01D81C01D81C01D81
C07F07F0FF0FF87E07F0>
	 21 28 -1 27 24] 78 @dc
[<
FFC7F8FFC7F8FFC7F80E03C00E03800E07000E0F000F0E000F9C000FFC000FF8000EF0000E
78000E3C000E1E000E0F000E07800E3FF00E7FF00E3FF00E00000E00000E00000E00000E00
00FE0000FE0000FE0000>
	 21 28 -1 27 24] 107 @dc
[<
7FFF00FFFF80FFFF807FFF00>
	 17 4 -3 15 24] 45 @dc
[<
60F87C1E0E071F3F7F7E3E1C>
	 8 12 -8 5 24] 44 @dc
[<
C0F0F8381C1C0E0E0E3E7E7C7C38>
	 7 14 -8 27 24] 39 @dc
[<
00600000F00000F00000F00000F00000F00000F00000F0007FFFC0FFFFE0FFFFE07FFFC000
F00000F00000F00000F00000F00000F00000F000006000>
	 19 20 -2 23 24] 43 @dc

14 @eop0

0 0 14 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F10 @sf(#define)23 b
(BUF_DISKBLKSIZ)o(E)g(\(512\))-693 57 y(#define)g(BUF_MAXBUFSIZE)o 23 x
(\(128)g(*)h(BUF_DISKBLKSIZ)o(E\))-1099 112 y(struct)f(bufPoolEntry)f({)
-310 57 y(unsigned)190 b(bufCount;)f(/*)24 b(#)g(of)f(buffers)g(on)h(list)f
(*/)-1408 56 y(unsigned)190 b(bufTotal;)f(/*)24 b(total)f(#)h(of)f
(buffers)g(of)h(this)f(size)h(*/)-1671 57 y(unsigned)190 b(bufAllocOK;)141 b
(/*)24 b(#)g(of)f(allocations)g(OK)g(*/)-1384 56 y(unsigned)190 b
(bufAllocWait;)o 94 x(/*)24 b(#)g(of)f(allocations)g(waited)g(*/)-1480 57 y
(struct)g(buffer)47 b(*freeList;)189 b(/*)24 b(pointer)f(to)g(buffers)g
(in)h(free)f(list)h(*/)-1862 56 y(};)-48 113 y(/*)-24 57 y(*)g(Pool)f
(entries)g(for:)-454 56 y(*)191 b(512)23 b(bytes)-430 56 y(*)214 b(1K)24 b
(bytes)-430 57 y(*)214 b(2K)24 b(bytes)-430 56 y(*)214 b(4K)24 b(bytes)-430 
57 y(*)214 b(8K)24 b(bytes)-430 56 y(*)191 b(16K)23 b(bytes)-430 57 y(*)
191 b(32K)23 b(bytes)-430 56 y(*)191 b(64K)23 b(bytes)-430 57 y(*)167 b
(128K)23 b(bytes)-430 56 y(*)-24 57 y(*)h(The)f(last)g(entry)h(in)f(this)g
(list)h(is)f(not)h(available)e(for)i(use)f(by)h(any)f(file)-1575 56 y(*)h
(system)-192 56 y(*/)-72 113 y(struct)f(bufPoolEntry)f(bufPool[9];)-741 
113 y(/*)i(begin)f(code)g(to)h(initialize)e(*/)-716 113 y(returnval)h(=)g
(BUF_OK;)-454 113 y(if\(already_init)o(ialized)o(\))g({)-406 57 y
(buffer_Destroy)o(Arena\(\);)o 23 x(/*)g(destroy)g(existing)g(arena)g(if)h
(possible)f(*/)-1504 56 y(returnval)g(=)g(BUF_REINIT;)-741 56 y(})-24 113 y
(blockCount)f(=)i(\(byteCount)f(/)g(\(2)h(*)g(BUF_MAXBUFSIZ)o(E\)\))e(-)i
(1;)g(/*)f(drop)h(partial,)-359 57 y(don't)f(count)-263 56 y(first)g
(block)g(*/)-1623 113 y(blockAddr)g(=)g(startAddr)g(+)h(\(blockCount)e(*)i
(2)g(*)f(BUF_MAXBUFSIZE\);)-1386 203 y @F15 @sf(4.1)29 b(bu\013er)s 14 -2 z 
14 x(Init)641 b(14)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
14 @eop1

15 @bop0
@F10 @sf
[<
3078FCFC7830>
	 6 6 -9 5 24] 46 @dc
[<
7F07F0FF8FF87F07F01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C
01C01FFFC01FFFC01FFFC01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01
C07F07F0FF8FF87F07F0>
	 21 28 -1 27 24] 72 @dc
[<
01F00007FC000FFE001F1F001C07003803807803C07001C07001C0F001E0E000E0E000E0E0
00E0E000E0E000E0E000E0E000E0E000E0E000E07001C07001C07803C03803801C07001F1F
000FFE0007FC0001F000>
	 19 28 -2 27 24] 48 @dc
[<
000300000780001F80003F00007E0001FC0003F00007E0001FC0003F00007E0000FC0000FC
00007E00003F00001FC00007E00003F00001FC00007E00003F00001F80000780000300>
	 17 24 -3 25 24] 60 @dc
[<
0F03C03FCFE07FFFE070FC70E07870E07070E0F800E0F800E1DC0073DC007B8E003F0E001F
0E000F07000F87000FC7000FE3801CE3F01C73F01C73F01C38001C38001C38001C38000E70
000FF00007E00001C000>
	 20 28 -1 27 24] 38 @dc
[<
6030E038E038E038E038E038E038E038E038E038E038F078E0384010>
	 13 14 -5 28 24] 34 @dc
@F18 @sf
[<
FFE0FFE0>
	 11 2 0 9 14] 45 @dc
@F18 @sf
[<
03FFFC00001F8000000F0000000F0000000F0000000F0000000F0000000F0000000F000000
0F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
0000800F0020800F0020800F0020C00F0020400F0040400F0040600F00C0700F01C07FFFFF
C0>
	 27 28 -1 27 30] 84 @dc
@F18 @sf
[<
3E006180F1C0F0C060E000E000E000E000E000E000E000E000E000E000E000E000E000E000
E000E000E000E000E000E000E00FE0000000000000000000000000000000C001E001E000C0
>
	 11 37 3 28 13] 106 @dc
[<
FFF00F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F00FFF0>
	 12 28 -1 27 15] 73 @dc
@F12 @sf
[<
FFF8000F800007800007800007800007800003C00003C00003C00003C00001E00001E00001
E00001E00000F00000F00000F00000F000007800007800007800007800003C00003C00003C
00003C00001E00001E00001E00001F0001FFF0>
	 20 31 -3 30 18] 73 @dc
@F18 @sf
[<
804020201010101070F0F0600000000000000000000060F0F060>
	 4 26 -4 17 12] 59 @dc
[<
7FCFF80E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00E01C00E01C0FFFFC00E01C00E01C00E01C00E01C00E01C00E01C00E01
C00703C00303C001C1C0007FC0>
	 21 29 0 28 23] 13 @dc

15 @eop0

0 0 15 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F10 @sf(/*)-24 57 y
(*)24 b(We)f(must)g(bootstrap)g(the)h(buffer)f(header)g(allocation)f(code)h
(by)-1336 56 y(*)h(initializing)o 23 x(it)f(with)h(a)f(chunk)h(of)f
(memory.)47 b(We)24 b(use)f(the)g(last)h(full)f(128K)-1623 56 y(*)h(block)f
(passed)g(to)g(us)h(plus)f(any)h(extra)f(memory)g(less)g(than)h(that.)-1385 
57 y(*)-24 56 y(*/)-72 57 y(buffer_InitBufH)o(eaderAl)o(locator\()o
(startAd)o(dr,)e(\(byteCount)h(-)h(\(blockCount)e(*)i(2)f(*)-1599 56 y
(BUF_MAXBUFSIZE\)\);)-503 113 y(/*)-24 57 y(*)h(blockCount)e(is)i(the)f
(number)g(of)h(128K)f(data)g(blocks)g(we)h(need)f(to)h(place)f(into)-1623 
56 y(*)h(our)f(free)g(pool.)47 b(We)24 b(step)f(through)g(each)h(of)f
(these)g(128K)h(blocks)f(of)g(data)-1599 57 y(*)h(area,)f(allocate)g(a)g
(header)g(for)h(the)f(buffer,)g(and)h(insert)f(it)g(into)g(the)h(128K)-1647 
56 y(*)g(free)f(pool.)47 b(If)24 b(we)f(are)h(unable)f(to)g(allocate)g
(the)g(buffer)g(header)g(we)-1503 56 y(*)h(panic.)-192 57 y(*/)-72 113 y
(for\(index)f(=)g(0;)h(index)f(<)h(blockCount;)e(index++\))h({)-979 56 y
(bufp)h(=)f(buffer_AllocBufHead)o(er\(bloc)o(kAddr)f(+)i(\(\(2)f(*)h
(BUF_MAXBUFSIZE\))o 23 x(*)g(index\),)-1672 57 y(2)g(*)g(BUF_MAXBUFSI)o
(ZE,)e(&bufPoolEntry[8]\);)o -956 56 a(if\(bufp)h(==)h(\(struct)f(buffer)g
(*\)0\))-812 57 y(PANIC\("buffer_I)o(nit:)f(buffer_AllocBufHe)o(ader)g
(failed"\);)-1218 56 y(})-24 169 y(return)h(returnval;)-407 135 y @F18 @sf
(Note)13 b(that)f(this)h(pseudo-co)q(de)h(presumes)f(it)f(m)o(ust)f(use)i 
@F12 @sf(only)f @F18 @sf(the)h(giv)o(en)f(arena)h(in)f(whic)o(h)g(to)g(p)q
(erform)g @F12 @sf(al)r(l)g @F18 @sf(its)g(required)-1908 56 y(allo)q
(cation,)o 19 x(including)18 b(bu\013er)h(headers.)34 b(This)19 b(allo)o
(ws)f(the)h(co)q(de)h(to)e(use)i(a)e(single)h(arena)g(and)f(mak)o(es)g
(the)h(bu\013er)-1908 57 y(pac)o(k)n(age)12 b(indep)q(enden)o(t)h(of)f(an)o
(y)f(other)i(k)o(ernel)g(allo)q(cation)d(sc)o(heme)j(\(indeed,)f(it)g(ma)o
(y)e(b)q(e)j(that)f(the)h(arena)g(w)o(as)f(obtained)-1910 56 y(b)o(y)i 
@F12 @sf(c)n(al)r(ling)e @F18 @sf(just)i(suc)o(h)h(a)f(k)o(ernel)g(allo)q
(cation)e(sc)o(heme.\))-878 96 y(The)h(only)e(other)i(concern)g(is)f(that)h
(this)f(pseudo-routine)h(drops)f(the)h(fragmen)o(tary)e(p)q(ortion)h(of)f
(the)i(arena)f(rather)h(than)-1909 56 y(attempting)f(to)i(use)h(it)e
(\(e.g.)18 b(for)c(header)h(allo)q(catio)o(n.\))i(It)d(ma)o(y)e(b)q(e)j
(desirable)f(to)g(actual)f(test)i(for)e(this)h(condition)g(and)-1910 57 y
(if)f(p)q(ossible,)h(use)g(it.)-317 139 y @F11 @sf(Return)k(Co)q(des)-250 
95 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b(call)e
(completed)g(normal)o(ly)l(.)-703 74 y @F10 @sf(BUF)s 14 -2 z 14 x
(BADADDR)49 b @F18 @sf(the)15 b(sp)q(eci\014ed)g(arena)f(w)o(as)g(not)g
(in)f(a)h(v)n(alid)e(area)i(of)g(mem)o(ory)l(.)-1289 74 y @F10 @sf(BUF)s 
14 -2 z 14 x(REINIT)53 b @F18 @sf(the)16 b(routine)f @F12 @sf(bu\013er)s 
14 -2 z 14 x(Init)g @F18 @sf(had)g(already)g(b)q(een)i(called;)f(the)g
(previous)f(arena)h(has)g(b)q(een)g(\015ushed)-1711 56 y(and)d(the)i(new)f
(arena)g(initiali)o(zed)g(for)f(use.)-871 212 y @F15 @sf(4.2)29 b(bu\013er)s 
14 -2 z 14 x(ReadGeneral)457 b(15)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)
-1911 b
15 @eop1

16 @bop0
@F7 @sf
[<
01FC3FC007FF3FC00F83BE001E00FE003E007E007C003E007C003E00FC003E00FC003E00FC
003E00FC003E00FC003E00FC003E00FC003E00FC003E007C003E007E003E003E003E001F00
7E000F81FE0007FFBE0001FC3E0000003E0000003E0000003E0000003E0000003E0000003E
0000003E0000003E0000003E0000003E0000003E000001FE000001FE00>
	 26 35 -2 34 31] 100 @dc
@F18 @sf
[<
FFFFFFFFFF80>
	 41 1 0 11 42] 124 @dc
@F11 @sf
[<
0007FC0600003FFF8E0000FE01FE0003F000FE0007E0007E000FC0007E001F80007E003F00
007E003F00007E007F00007E007E00007E007E00007E00FE003FFFE0FE003FFFE0FE000000
00FE00000000FE00000000FE00000000FE000000007E000006007E000006007F000006003F
00000E003F00000E001F80001E000FC0001E0007E0003E0003F000FE0000FE03DE00003FFF
0E000007FC0200>
	 35 31 -3 30 41] 71 @dc
@F16 @sf
[<
00E00001F00001F00003B80003B80003B800071C00071C00071C00071C000E0E000E0E000E
0E001E0F001C07007F1FC0FF1FE07F1FC0>
	 19 18 -1 17 22] 118 @dc
[<
01C00001C00001C00001C00071C700F9CF807FFF001FFC0007F00007F0001FFC007FFF00F9
CF8071C70001C00001C00001C00001C000>
	 17 18 -2 21 22] 42 @dc
[<
7F0000FF80007F00001C00001C00001C00001C00001C00001C00001C00001FF8001FFE001F
FF001C0F801C03801C03C01C01C01C01C01C01C01C03C01C03801C0F807FFF00FFFE007FF8
00>
	 18 25 -1 24 22] 80 @dc
[<
FFFF80FFFF80FFFF8001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C000FFC000FFC000FFC0
00>
	 17 25 -2 24 22] 108 @dc
[<
7F87F0FFCFF07F87F00E07800E07000E0E000F1E000FBC000FF8000FF0000EF0000E78000E
3C000E1E000E0F000E7FE00E7FE00E7FE00E00000E00000E00000E00007E0000FE00007E00
00>
	 20 25 0 24 22] 107 @dc
[<
7FC000FFE0007FC0000E00000E00000E00000E00000E00000E00000E3C000EFF000FFF800F
83C00F01E00E00E00E00700E00700E00700E00700E00700E00700E00E00F00E00F83C07FFF
80FEFF007E3E00>
	 20 27 0 17 22] 112 @dc
[<
FE3C78FE7CF8FE7CF83870E03870E03870E03870E03870E03870E03870E03870E03870E038
70E03C78E03C78E0FFFFE0FFEFC0F9C380>
	 21 18 0 17 22] 109 @dc
[<
3FFE007FFF003FFE0001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C000FFFF00FFFF007FFF0001C00001C00001C30001E78000FF80007F80001F
00>
	 17 25 -1 24 22] 102 @dc
[<
07FC000FFE0007FC0000E00000E00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E00000E00000E00000E000E0E0E0E0E0E0E0E0E0E0E0E0FFFFE0FFFFE07FFF
E0>
	 19 25 -1 24 22] 84 @dc
[<
1FFC003FFE007FFF00780F00F00780F00780E00380E00380E00380E00380E00380E00380E0
0380E00380E00380E00380E00380E00380E00380E00380F00780780F007FFF003FFE001FFC
00>
	 17 25 -2 24 22] 79 @dc
[<
00F80003FE0007FF000707000E03800E03801C01C01C01C01C01C01C01C01C01C01C01C01C
01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C07F07F0FF8FF87F07
F0>
	 21 25 0 24 22] 85 @dc
@F18 @sf
[<
7FFFFFC0FFFFFFE00000000000000000000000000000000000000000000000000000000000
000000FFFFFFE07FFFFFC0>
	 27 12 -2 15 32] 61 @dc
[<
FFF80F80070007000700070007000700070007000700070007000700070007000700070007
0007000700070007000700C7003F0007000300>
	 13 28 -4 27 21] 49 @dc
[<
FFFFF00F01F00F00700F00300F00100F00180F00180F00080F00080F00080F00000F00000F
00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00
000F00000F8000FFF800>
	 21 28 -2 27 26] 76 @dc
@F18 @sf
[<
FFFFE00F00780F003C0F001E0F001E0F000F0F000F0F000F0F000F0F000F0F000E0F001E0F
003C0F00780FFFE00F01F00F00780F003C0F001C0F001E0F001E0F001E0F001E0F001C0F00
3C0F00380F00F0FFFFC0>
	 24 28 -2 27 29] 66 @dc
[<
FFFFC0000F0070000F001C000F000E000F0007000F0007800F0003800F0003C00F0001C00F
0001C00F0001E00F0001E00F0001E00F0001E00F0001E00F0001E00F0001E00F0001E00F00
01C00F0001C00F0003C00F0003800F0007000F0007000F000E000F003C000F00F000FFFFC0
00>
	 27 28 -2 27 32] 68 @dc
@F12 @sf
[<
80E00041F80063FC003E0C0010020008020004010002000001000000800000400000200000
10000008000004000802000C1F0007F18003E08001C040>
	 18 20 -3 19 19] 122 @dc
@F13 @sf
[<
0000000400000000020000000002000000000100000000008000000000400000000020FFFF
FFFFFCFFFFFFFFFC0000000020000000004000000000800000000100000000020000000002
000000000400>
	 38 16 -3 18 45] 33 @dc

16 @eop0

0 0 16 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F7 @sf(4.2)56 b
(bu\013er)s 17 -2 z 16 x(ReadGeneral)31 b @F18 @sf(|)14 b(A)g(generalized)g
(disk)g(read)g(routine)-1264 202 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 
16 -2 z 15 x(ReadGeneral)p @F16 @sf(\()1 56 y(IN)g(struct)f(async)s 13 -2 z 
12 x(device)h(*dP;)-583 57 y(IN)g(daddr)s 13 -2 z 12 x(t)g(blkno;)-365 56 y
(IN)g(long)g(options;)-350 57 y(IN)g(enum)g(bufType)f(bt;)-414 56 y(OUT)h
(struct)f(buffer)h(**bp;)-502 57 y(\))-625 202 y @F11 @sf(P)o(arameters)
-192 108 y @F10 @sf(dP)i @F18 @sf(-)k(the)15 b(device)f(from)e(whic)o(h)i
(to)g(read)g(the)h(sp)q(eci\014ed)g(blo)q(c)o(k.)-1016 75 y @F10 @sf
(blkno)22 b @F18 @sf(-)28 b(blo)q(c)o(k)13 b(n)o(um)o(b)q(er)g(of)h(the)g
(blo)q(c)o(k)g(to)f(b)q(e)i(read)f(from)e(disk.)-1055 75 y @F10 @sf
(options)22 b @F18 @sf(-)27 b(sp)q(eci\014c)16 b(options)d(for)h(the)g
(general-purp)q(ose)h(read.)-1045 75 y @F10 @sf(bt)23 b @F18 @sf(-)k(t)o
(yp)q(e)15 b(of)e(bu\013er)i(to)e(use.)-491 75 y @F10 @sf(bp)23 b @F18 @sf
(-)k(p)q(oin)o(ter)14 b(to)g(the)g(bu\013er)h(con)o(taining)e(the)i(data)e
(read)h(from)f(disk.)-1210 170 y @F11 @sf(Description)-262 96 y @F18 @sf
(This)i(routine)h(is)f(used)h(to)f(lo)q(cate)g(a)g(disk)g(bu\013er)h(for)f
(the)h(disk)f(blo)q(c)o(k)g(sp)q(eci\014ed)i(b)o(y)e @F10 @sf(blkno)f 
@F18 @sf(on)h(the)h(device)g(sp)q(eci\014ed)-1908 56 y(b)o(y)e @F10 @sf
(dP)p @F18 @sf(.)f(If)g(the)i(disk)e(blo)q(c)o(k)h(is)g(in-core,)f(the)i
(bu\013er)g(reference)q 15 x(coun)o(t)f(is)g(bump)q(ed.)-1309 96 y(If)g
(the)h(disk)g(blo)q(c)o(k)f(is)g(not)h(in-core)f(and)h(\()p @F10 @sf
(options)23 b(&)h(1)14 b @F18 @sf(==)h(1\))f(a)h(new)g(bu\013er)g(is)f
(allo)q(cated)h(and)f(the)h(disk)f(blo)q(c)o(k)h(is)-1910 57 y(read)d
(from)f(disk.)17 b(If)12 b(the)g(lo)o(w-order)g(bit)f(of)h(the)g(options)g
(\014eld)g(is)g(not)g(set)h(the)f(caller)g(do)q(es)h(not)f(care)h(as)f(to)g
(the)g(con)o(ten)o(ts)-1908 56 y(of)h(the)i(returned)g(bu\013er.)k(This)
14 b(allo)o(ws)f(for)g(newly)h(allo)q(cated)f(disk)h(blo)q(c)o(ks)g(to)f
(b)q(e)i(written)f(on)g(without)f(reading)h(their)-1909 56 y(old)f(con)o
(ten)o(ts)i(on)f(disk.)-376 96 y(Logically)l(,)e(this)i(routine)g(is)g(v)o
(ery)g(simil)o(ar)e(to)i(the)h @F12 @sf(br)n(e)n(ad)e @F18 @sf(function)h
(in)f(the)i(BSD-based)f(disk)g(bu\013er)h(pac)o(k)n(age.)-1772 96 y(The)f 
@F12 @sf(size)f @F18 @sf(of)g(a)h(blo)q(c)o(k)g(is)f(supplied)h(b)o(y)g 
@F10 @sf(dP)p @F13 @sf(!)p @F10 @sf(blocksize)p @F18 @sf(,)e(whic)o(h)i
(is)g(\014xed)g(for)g(the)g(particular)g(device.)-1670 145 y @F11 @sf
(Return)k(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf
(the)15 b(call)e(completed)g(normal)o(ly)l(.)-703 75 y @F10 @sf(BUF)s 14 
-2 z 14 x(BADBUF)47 b @F18 @sf(the)12 b(sp)q(eci\014e)q(d)h(bu\013er)h(is)e
(not)g(v)n(alid.)k(In)d(this)f(case)i(this)e(indicates)h(it)f(is)g(a)g
(bu\013er)h(reser)q(v)o(ed)h(for)e(the)-1712 56 y(log)h(pac)o(k)n(age.)-417 
272 y @F15 @sf(4.3)29 b(bu\013er)s 14 -2 z 14 x(Read)611 b(16)530 b(Marc)o
(h)14 b(2,)h(1993)f(14:04)-1911 b
16 @eop1

17 @bop0
@F12 @sf
[<
0000F0000001F8000003FC000003FE000003860000038300000101000001018001FD008007
4380800E41E0001C41700038413C0038411E0070200F00701C070070000380F00003C0F000
01C0F00001E0F00000E0F00000F0F00000F0780000787800007878000078780000783C0000
783C0000381E0000381E0000380F00003807000038078000780380007001C0007000E000E0
003000E0001C01C0000707000001FC00>
	 29 41 -6 31 35] 81 @dc
[<
01FC0000078380000E00E0001C00700038003C0038001E0078000F007000070070000380F0
0003C0F00001C0F00001E0F00000E0F00000F0F00000F07800007878000078780000787800
00783C0000383C0000381C0000381E0000380E00003807000038078000380380007001C000
7000E00060003000E0001C01C0000707000001FC00>
	 29 33 -6 31 35] 79 @dc
@F12 @sf
[<
04000800000006000800000006000C00000007001E00000007001E00000007801F00000007
801F0000000FC01E8000000F601E8000000F201E4000000F101E4000000F101E2000000F08
1E2000000F081E1000000F041E0800000F041E0800000F021E0400000F021E0400000F011E
0200000F009E0200000F009E0100000F005E0100000F005E0080000F003E00C0000F003E00
40000F003C0020000F003C0020000F003C0010000F003C0010001F003C0018001F003E001C
00FFF1FFC0FF80>
	 41 32 -9 30 45] 87 @dc
@F18 @sf
[<
C000C0006000600060003000300030001800180018000C000C000C00060006000300030003
0001800180018000C000C000C000600060003000300030001800180018000C000C000C0006
0006000600030001>
	 16 41 -2 30 21] 47 @dc
[<
003F800000E0E0000380380007001C000E000E001C0007003C00078038000380780003C078
0003C0700001C0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0F000
01E0700001C0780003C0780003C0380003803C0007801C0007000E000E0007001C00038038
0000E0E000003F8000>
	 27 30 -2 28 32] 79 @dc
@F18 @sf
[<
000007C0FFF01C200F003C200F0038100F0078100F0078100F0078000F0078000F0078000F
0078000F0078000F0078000F00F0000F00E0000F03C0000FFF00000F01E0000F0078000F00
3C000F001C000F001E000F001E000F001E000F001E000F001C000F003C000F0078000F01E0
00FFFF0000>
	 28 29 -2 27 31] 82 @dc
@F12 @sf
[<
00FC0000038304000E00CC001C002E0018003E0038001E0070001E0070000F0070000F0070
000F00F0000F00F0000780F0000780F000FFF0F00000007800000078000000780000007800
00003C0000003C0000001E0000201E0000200E00003007000030038000300380003001C000
3800E0007800300078001C00980007030C0000FC04>
	 30 33 -6 31 35] 71 @dc
@F18 @sf
[<
01FFC0001C00001C00001C00001C00001C00001C00001C00FFFFC0C01C00401C00201C0030
1C00101C00081C000C1C00041C00021C00031C00011C00009C0000DC00005C00003C00003C
00001C00000C00000C00>
	 18 28 -1 27 21] 52 @dc
@F7 @sf
[<
FFE00FFFF8FFE00FFFF80600007F000600007F00030000FE00030000FE00038001FE000180
01FC00018001FC0000FFFFF80000FFFFF80000E007F800006007F00000600FF00000300FE0
0000300FE00000381FE00000181FC00000183FC000000C3F8000000C3F8000000E7F800000
067F00000006FF00000003FE00000003FE00000003FE00000001FC00000001FC00000000F8
00000000F800000000F8000000007000000000700000>
	 37 34 -2 33 42] 65 @dc
[<
FFE1FFC0FFE1FFC01F003E001F003E001F003E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E001F003E001F003E001F003E001F003E001F803E001F803E001F40
3C001F307C001F1FF8001F07E0001F0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F0000001F000000FF000000FF000000>
	 26 35 -2 34 31] 104 @dc
@F11 @sf
[<
FFE3FFFFE3FF1F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F
00F81F00F81F00F81F80F81FC0F81F61F01F3FE01F0FC01F00001F00001F00001F00001F00
001F00001F00001F00001F00001F0000FF0000FF0000>
	 24 32 -3 31 29] 104 @dc

17 @eop0

0 0 17 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F18 @sf(As)g(w)o
(ell,)g(error)g(co)q(des)h(from)e @F12 @sf(asevent)s 14 -2 z 12 x(QueueIO)h 
@F18 @sf(and)g @F12 @sf(asevent)s 14 -2 z 13 x(WaitEvent)g @F18 @sf(are)g
(propigated)f(bac)o(k)h(to)g(the)g(caller)-1909 57 y(\(e.g.)i(I/O)c
(errors)h(in)o(v)o(olvi)o(ng)d(the)j(underlying)e(I/O)h(system.\))-986 135 y 
@F7 @sf(4.3)56 b(bu\013er)s 17 -2 z 16 x(Read)32 b @F18 @sf(|)14 b(Read)f
(a)h(blo)q(c)o(k)g(in)f(from)f(disk)i(and)g(return)h(a)e(bu\013er)i(p)q
(oin)o(ter)-1479 202 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x
(Read)p @F16 @sf(\()p 57 w(IN)g(struct)g(async)s 13 -2 z 12 x(device)f
(*dP;)-583 56 y(IN)h(daddr)s 13 -2 z 12 x(t)h(blkno;)-366 57 y(IN)f(enum)g
(bufType)g(bt;)-415 56 y(OUT)g(struct)g(buffer)f(**bp;)-502 56 y(\))-445 
202 y @F11 @sf(P)o(arameters)-192 108 y @F10 @sf(dP)j @F18 @sf(-)k(the)15 b
(device)f(from)e(whic)o(h)i(to)g(read)g(the)h(sp)q(eci\014ed)g(blo)q(c)o
(k.)-1016 76 y @F10 @sf(blkno)22 b @F18 @sf(-)28 b(blo)q(c)o(k)13 b(n)o
(um)o(b)q(er)g(of)h(the)g(blo)q(c)o(k)g(to)f(b)q(e)i(read)f(from)e(disk.)
-1055 75 y @F10 @sf(bt)23 b @F18 @sf(-)k(t)o(yp)q(e)15 b(of)e(bu\013er)i
(to)e(use.)-491 75 y @F10 @sf(bp)23 b @F18 @sf(-)k(p)q(oin)o(ter)14 b(to)g
(the)g(bu\013er)h(con)o(taining)e(the)i(data)e(read)h(from)f(disk.)-1210 
170 y @F11 @sf(Description)-262 96 y @F18 @sf(This)h(is)h(a)f(sp)q
(ecialized)h(v)o(ersion)g(of)f(the)h @F12 @sf(bu\013er)s 14 -2 z 14 x(R)n
(e)n(adGener)n(al)f @F18 @sf(call)g(that)g(alw)o(a)o(ys)g(reads)h(the)h
(disk)e(blo)q(c)o(k)g(sp)q(eci\014ed)i(if)-1910 56 y(not)e(in-core.)-208 
146 y @F11 @sf(Return)k(Co)q(des)-250 95 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)
50 b @F18 @sf(the)15 b(call)e(completed)g(normal)o(ly)l(.)-703 75 y @F10 @sf
(BUF)s 14 -2 z 14 x(BADBUF)49 b @F18 @sf(the)15 b(sp)q(eci\014ed)g(bu\013er)g
(is)f(not)g(v)n(alid.)o -925 196 a(See)h @F12 @sf(bu\013er)s 14 -2 z 14 x
(R)n(e)n(adGener)n(al)e @F18 @sf(in)g(Section)h(4.2)f(for)h(more)f(inform)o
(atio)o(n)g(ab)q(out)g(other)i(p)q(ossible)f(error)h(return)g(co)q(des.)
-1842 135 y @F7 @sf(4.4)56 b(bu\013er)s 17 -2 z 16 x(ReadAhead)33 b @F18 @sf
(|)13 b(Start)h(a)g(disk)g(blo)q(c)o(k)f(read.)-1089 202 y @F16 @sf(int32)
21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(ReadAhead)p @F16 @sf(\()p 57 w(IN)g
(struct)g(async)s 13 -2 z 12 x(device)f(*dP;)-1153 134 y @F15 @sf(4.4)29 b
(bu\013er)s 14 -2 z 14 x(ReadAhead)484 b(17)530 b(Marc)o(h)14 b(2,)h(1993)f
(14:04)-1911 b
17 @eop1

18 @bop0
@F7 @sf
[<
03F8000FFF001C1F803007C07007E0FC03F0FC03F0FE03F8FE03F87C03F83803F80003F800
03F80003F00003F01803E01807E01E0FC01FFF0019FC001800001800001800001800001BC0
001FF8001FFE001FFF001FFF801FFFC01E01E0100020>
	 21 32 -3 31 28] 53 @dc
@F16 @sf
[<
0E0E000F1E000F1E001B1B0019130019B30019B30019B30019B30019B30019B30039B38039
F38039F38038E3803803803803803803803001807001C07001C07001C0FC07E0FE0FE0FC07
E0>
	 19 25 -1 24 22] 87 @dc
[<
7FFC00FFFF007FFF801C07801C03C01C01C01C01C01C01C01C01C01C03C01C03801C1F001F
FE001FFE001FFF001C07001C07801C03801C03801C03801C07801C0F007FFF00FFFE007FF8
00>
	 18 25 -1 24 22] 66 @dc
[<
FE0FE0FE0FE0FE0FE038038038038038038038038038038038E38038E38039F38039B38039
B38039B38039B3803BBB803B1B803B1B803B1B803B1B803B1B803A0B80FE0FE0FE0FE0FC07
E0>
	 19 25 -1 24 22] 77 @dc
[<
0F1E000F1E000F1E001DB7001DB7001DB7001DB70019B30019F30019F30038E38038038038
0380380380380380FF1FE0FFBFE0FF1FE0>
	 19 18 -1 17 22] 119 @dc

18 @eop0

0 0 18 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1338 145 y @F16 @sf(IN)21 b
(daddr)s 13 -2 z 12 x(t)h(blkno;)-366 57 y(IN)f(enum)g(bufType)g(bt;)-415 
56 y(\))-592 202 y @F11 @sf(P)o(arameters)-192 108 y @F10 @sf(dP)i @F18 @sf
(-)k(device)15 b(from)d(whic)o(h)i(to)f(read)i(the)f(sp)q(eci\014ed)i(blo)q
(c)o(k.)-945 75 y @F10 @sf(blkno)22 b @F18 @sf(-)28 b(blo)q(c)o(k)13 b(n)o
(um)o(b)q(er)g(of)h(the)g(blo)q(c)o(k)g(to)f(b)q(e)i(read)f(from)e(disk.)
-1055 75 y @F10 @sf(bt)23 b @F18 @sf(-)k(t)o(yp)q(e)15 b(of)e(bu\013er)i
(to)e(use.)-561 170 y @F11 @sf(Description)-262 96 y @F18 @sf(This)j(is)f
(a)g(sp)q(ecialized)i(v)o(ersion)f(of)f(the)h @F12 @sf(bu\013er)s 14 -2 z 
14 x(R)n(e)n(adGener)n(al)f @F18 @sf(call)f(that)i(sc)o(hedules)h(a)f
(read)g(for)f(the)h(sp)q(eci\014ed)i(disk)-1910 57 y(blo)q(c)o(k.)g(It)c
(do)q(es)g(not)g(return)h(the)g(requested)h(blo)q(c)o(k,)d(nor)h(do)q(es)g
(it)g(w)o(ait)f(for)g(the)i(read)f(to)g(complete.)-1596 145 y @F11 @sf
(Return)k(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf
(the)15 b(call)e(completed)g(normal)o(ly)l(.)-703 75 y @F10 @sf(BUF)s 14 
-2 z 14 x(BADBUF)49 b @F18 @sf(the)15 b(sp)q(eci\014ed)g(bu\013er)g(is)f
(not)g(v)n(alid.)o -925 195 a(See)h @F12 @sf(bu\013er)s 14 -2 z 14 x(R)n
(e)n(adGener)n(al)e @F18 @sf(in)g(Section)h(4.2)f(for)h(more)f(inform)o
(atio)o(n)g(ab)q(out)g(other)i(p)q(ossible)f(error)h(return)g(co)q(des.)
-1842 136 y @F7 @sf(4.5)56 b(bu\013er)s 17 -2 z 16 x(Release)31 b @F18 @sf
(|)14 b(Release)g(a)f(bu\013er)-849 202 y @F16 @sf(int32)21 b @F11 @sf
(bu\013er)s 16 -2 z 15 x(Release)p @F16 @sf(\()p 56 w(IN)g(struct)g
(buffer)g(*bp;)-459 56 y(IN)g(bufWBMode)s 13 -2 z 11 x(t)h(wbmode;)-475 
57 y(\))-499 202 y @F11 @sf(P)o(arameters)-192 108 y @F10 @sf(bp)h @F18 @sf
(-)k(bu\013er)15 b(to)f(b)q(e)g(released.)-492 75 y @F10 @sf(wbmode)22 b 
@F18 @sf(-)28 b(write)14 b(bac)o(k)g(c)o(haracteristics)h(desired.)-890 
275 y @F15 @sf(4.5)29 b(bu\013er)s 14 -2 z 14 x(Release)566 b(18)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
18 @eop1

19 @bop0
@F18 @sf
[<
07E00C301818300C300C700E60066006E007E007E007E007E007E007E007E007E007E007E0
07E007E00760066006700E300C300C18180C3003C0>
	 16 29 -2 27 21] 48 @dc
[<
03E00C301818300C300E700660076007E007E007E007E007E007E006F00EF00CE818E430E3
E0600070007000300C301E181E0C0E0604030C00F0>
	 16 29 -2 27 21] 54 @dc
@F7 @sf
[<
00FF0003FFC00783E00F00F01E00F83E007C3C007C7C007E7C007E7C007EFC007EFC007EFC
007EFC007EFE007CFE007CFF00F8FD80F0FCFFE0FC7FC0FC08007C00007C00007E00F03E01
F83E01F81F01F80F01F807C0F003F07000FFE0001F80>
	 23 32 -2 31 28] 54 @dc
[<
7FF8007FF8000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F
80000F80000F80000F80000F80000F80000F80000F8000FFFC00FFFC000F80000F80000F80
000F80000F80000F80000F83C00F87E007C7E003C7E001E3E000FFC0003F80>
	 19 35 -1 34 17] 102 @dc
[<
80FF80C7FFE0FF00F8FC003CF0003CE0001EE0001EC0001FC0001FC0001F00003F00003F00
007F0003FF003FFE03FFFE0FFFFC1FFFF83FFFF07FFFC07FFF00FFE000FF0000FC0000FC00
0CF8000CF8000C78001C78001C7C003C3C007C1F03FC07FF8C01FC04>
	 24 34 -3 33 31] 83 @dc
@F16 @sf
[<
7FF800FFFE007FFF001C0F801C07801C03C01C01C01C01C01C00E01C00E01C00E01C00E01C
00E01C00E01C00E01C00E01C01E01C01C01C01C01C03C01C07801C0F007FFF00FFFE007FF8
00>
	 19 25 0 24 22] 68 @dc
[<
FFFFE0FFFFE0FFFFE01C00E01C00E01C00E01C00E01C00401C00001C00001C00001C00001C
00001C00001C00001C00001C00001C00001C00001C00001C00001C0000FFC000FFC000FFC0
00>
	 19 25 -1 24 22] 76 @dc
[<
C7F000FFFC00FFFE00F80F00E00700E00380600380000380000380000700000F0000FE0007
FC001FF0003F8000780000F00000E00000E00700E00700F00700781F003FFF001FFF0007E3
00>
	 17 25 -2 24 22] 83 @dc
[<
7F03C0FF87E07F07E01C0E701C0E701C0E201C0E001C0E001C0E001C0E001C1C001FFC001F
F8001FFC001C1E001C0F001C07001C07001C07001C07001C0F001C1E007FFC00FFF8007FE0
00>
	 20 25 -1 24 22] 82 @dc
[<
003FE0007FF0003FE000070000070000070000070000070000070007C7001FE7003FF7003C
3F00700F00700F00E00700E00700E00700E00700E00700E00700700F00700F003C1F001FF7
000FE70007C700>
	 20 27 -2 17 22] 113 @dc
@F10 @sf
[<
003FF8003FF8003FF800038000038000038000038000038000038000038003E3800FFB801F
FF803C1F80380F80700780700780E00380E00380E00380E00380E00380E003807007807007
80380F803E1F801FFF8007FB8001E380>
	 21 30 -2 19 24] 113 @dc
@F11 @sf
[<
0003FC0000001FFF8000007E03C00000F800600001F000300001F000180003E000180007E0
000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C
0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007
E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C00FFFF01
FFE0FFFF01FFE0>
	 35 31 -2 30 40] 85 @dc

19 @eop0

0 0 19 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)c(function)g(is)g(used)h(to)f
(release)i(the)f(sp)q(eci\014ed)h(bu\013er.)k(Suc)o(h)13 b(a)f(released)h
(bu\013er)h(is)e(written)g(bac)o(k)h(to)f(disk)g(\(if)f(it)h(has)-1909 56 y
(b)q(een)j(mo)q(di\014ed\))e(with)g(the)i(c)o(haracteristics)g(sp)q
(eci\014ed)h(b)o(y)d @F10 @sf(wbmode)p @F18 @sf(.)18 b(These)d(are)f(sp)q
(elled)g(out)g(fully)f(in)g(Section)i(10.6.)o -1895 96 a(This)f(call)f(is)h
(a)f(functional)g(replacemen)o(t)h(of)f(the)i(BSD)f(calls)f @F11 @sf(b)o
(write)p @F18 @sf(,)g @F11 @sf(ba)o(write)p @F18 @sf(,)h @F11 @sf(b)q
(dwrite)p @F18 @sf(,)g(and)f @F11 @sf(brelse)p @F18 @sf(.)-1780 145 y 
@F11 @sf(Return)18 b(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b 
@F18 @sf(the)15 b(call)e(completed)g(normal)o(ly)l(.)-773 195 y(Other)i
(errors)g(from)d(lo)o(w)o(er-lev)o(el)h(routines)h(are)g(treated)h(as)f
(terminal)e(\(that)i(is,)f(they)h(are)g(handled)g(b)o(y)f(calling)f @F12 @sf
(p)n(anic)p @F18 @sf(.)-1910 135 y @F7 @sf(4.6)56 b(bu\013er)s 17 -2 z 16 x
(Mo)r(difySource)32 b @F18 @sf(|)13 b(Log)g(a)h(mo)q(di)o(\014cation)e(to)i
(a)g(bu\013er)-1263 202 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 
15 x(Mo)q(difySource)p @F16 @sf(\()p 56 w(IN)g(struct)g(buffer)f(*bp;)-458 
57 y(IN)h(unsigned)f(offset;)-415 56 y(IN)h(caddr)s 13 -2 z 12 x(t)g
(newData;)-409 57 y(IN)g(unsigned)f(newDataLen;)o -502 56 a(IN)h(int)g
(newDataSour)o(ce;)-459 57 y(IN)g(logTranRec)o 3 x 13 -2 z 12 x(t)g
(tranId;)-496 56 y(IN)g(boolean)s 13 -2 z 11 x(t)h(logRequest)o(;)-518 57 y
(OUT)f(struct)f(buffer)h(**nbp;)-524 56 y(\))-645 202 y @F11 @sf(P)o
(arameters)-192 108 y @F10 @sf(bp)i @F18 @sf(-)k(bu\013er)15 b(to)f(b)q(e)g
(mo)q(di\014ed.)-507 75 y @F10 @sf(offset)22 b @F18 @sf(-)28 b(o\013set)
14 b(in)o(to)g(bu\013er)g(for)g(new)g(data)g(to)g(b)q(e)g(written.)-1014 
75 y @F10 @sf(newData)22 b @F18 @sf(-)27 b(new)15 b(data)e(whic)o(h)h
(will)e(b)q(e)j(written)f(in)o(to)g(the)g(sp)q(eci\014ed)h(bu\013er.)-1249 
75 y @F10 @sf(newDataLen)22 b @F18 @sf(-)27 b(length)14 b(of)f(new)h
(data.)-655 75 y @F10 @sf(newDataSource)21 b @F18 @sf(-)28 b(address)15 b
(space)g(of)e(newData)h(p)q(oin)o(ter.)-997 75 y @F10 @sf(tranId)22 b 
@F18 @sf(-)28 b(transaction)14 b(iden)o(ti\014er)g(under)h(whic)o(h)e
(this)h(mo)q(di\014cation)e(should)i(b)q(e)g(logged.)-1471 75 y @F10 @sf
(logRequest)22 b @F18 @sf(-)f @F11 @sf(TR)o(UE)11 b @F18 @sf(if)f(this)h
(request)h(should)f(b)q(e)g(logged,)f @F11 @sf(F)-6 b(ALSE)11 b @F18 @sf
(if)f(this)h(request)h(should)f @F12 @sf(not)f @F18 @sf(b)q(e)i(logged.)
-1841 75 y @F10 @sf(nbp)22 b @F18 @sf(-)28 b(the)14 b(new)h(bu\013er)g
(\(after)f(mo)q(di\014cati)o(on\))f(whic)o(h)h(will)e(con)o(tain)h(an)o(y)h
(requested)i(mo)q(di)o(\014cations.)-1713 210 y @F15 @sf(4.6)29 b(bu\013er)s 
14 -2 z 14 x(Mo)q(difySource)440 b(19)530 b(Marc)o(h)14 b(2,)h(1993)f
(14:04)-1911 b
19 @eop1

20 @bop0
@F12 @sf
[<
7FFFFFE0FFFFFFF00000000000000000000000000000000000000000000000000000000000
0000003FFFFFFC1FFFFFF8>
	 30 12 -5 16 35] 61 @dc
@F18 @sf
[<
FFF8000F80000F00000F00000F00000F00000F00000F00000F00000F02000F02000F02000F
02000F06000FFE000F06000F02000F02000F02000F02040F00040F00040F000C0F00080F00
080F00180F0078FFFFF8>
	 22 28 -2 27 27] 70 @dc
/@F0 @newfont
@F0 @sf
[<
0003F00000001FFE0000007C07000000F001800001E000C00001E000600003C000600003C0
00300007C000300007C000300007C000300007C000300007C000300007C000300007C00030
0007C000300007C000300007C000300007C000300007C000300007C000300007C000300007
C000300007C000300007C000300007C000300007C000300007C000300007C0007800FFFE07
FF80FFFE07FF80>
	 33 31 -2 30 37] 85 @dc
[<
FF0060FF00E03C00E01801E01803E01803E01807E01807E0180F60181E60181E60183C6018
786018786018F06019F06019E0601BC0601BC0601F80601F00F0FF03FCFE03FC>
	 22 23 -2 22 28] 110 @dc
[<
FFC0FFC01E001E001E001E001E001E001E001E001E001E001E001E001E001E001E001E001E
001E001E00FFC0FFC0>
	 10 23 -1 22 14] 105 @dc
[<
FF83FFFF83FF1F00F00601F00701E00303C00187C001C78000CF00007F00007E00003C0000
7C00007C0000FC0001F60001E70003E30007C1800781C00F81E0FFC3FEFFC3FE>
	 24 23 -1 22 28] 120 @dc
@F11 @sf
[<
001FFFE000001FFFE0000000FC00000000FC00000000FC00000000FC00000000FC00000000
FC00000000FC00000000FC00000000FC00000000FC00000000FC00000001FC00000001FE00
000003FF00000007F30000000FE18000000FE1C000001FC0C000003F806000003F80700000
7F00300000FE00180001FC001C0001FC000C0003F800060007F000070007F0000380FFFE00
3FF8FFFE003FF8>
	 37 31 -1 30 40] 89 @dc
@F18 @sf
[<
03000007800007800007800007800007800007800003800003800003800003800001800001
800001C00000C00000C0000040000060000020000010000010008008008004008004004002
007FFF007FFF007FFF80400000>
	 17 29 -2 27 21] 55 @dc
@F7 @sf
[<
01E00003F00003F00003F00003F00003F00003F00003F00001F00001F00001F00000F00000
F00000F000007800007800003800001800001C00000C00000600C00300C00300C00180E000
C0E000607FFFF07FFFF87FFFF87FFFFC7FFFFE7FFFFE780000600000>
	 23 34 -3 33 28] 55 @dc
[<
03FFFFF80003FFFFF8000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000C0
03F800C0C003F800C0C003F800C0C003F800C0E003F801C0E003F801C06003F801807003F8
03807803F807807E03F80F807FFFFFFF807FFFFFFF80>
	 34 34 -2 33 39] 84 @dc

20 @eop0

0 0 20 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)e(call)f(is)h(used)g(to)g(mo)q(dif)o
(y)f(the)h(con)o(ten)o(ts)h(of)e(a)h(disk)f(bu\013er.)19 b(The)c(mo)q(di)o
(\014cation)d(is)i(made,)e(b)q(eginning)i(at)f(lo)q(cation)-1910 56 y 
@F10 @sf(offset)i @F18 @sf(and)h(con)o(tin)o(uing)f(for)g @F10 @sf
(newDataLen)g @F18 @sf(b)o(ytes.)25 b(If)15 b @F10 @sf(tranId)g @F18 @sf
(is)h(v)n(alid)f(and)g @F10 @sf(logRequest)g @F18 @sf(is)h @F11 @sf(TR)o
(UE)g @F18 @sf(then)h(a)-1910 57 y(log)c(en)o(try)h(will)f(b)q(e)h
(generated)i(as)d(part)i(of)e(transaction)h @F10 @sf(tranId)p @F18 @sf(.)
-1061 95 y(After)f(the)g(mo)q(di)o(\014cation)e(has)h(b)q(een)i(complete,)d
(the)i(mo)q(di\014ed)e(bu\013er)i(is)g(returned)h(as)e @F10 @sf(nbp)p 
@F18 @sf(.)17 b @F12 @sf(Ther)n(e)d(is)g(no)h(guar)n(ante)n(e)-1910 57 y
(that)20 b(nbp)f(==)h(bp)p @F18 @sf(.)27 b(This)17 b(allo)o(ws)f(for)h
(the)h(bu\013er)g(pac)o(k)n(age)f(to)g(cop)o(y)g(the)g(data)g(bu\013er)h
(and)f(sc)o(hedule)i(it)d(for)h(write)-1909 56 y(without)d(causing)f(the)i
(caller)f(to)f(blo)q(c)o(k.)-643 96 y(This)20 b(routine)g(then)g(up)q
(dates)h(the)f(in)o(ternal)g(data)f(structure)q(s)i(neces)q(sary)g(to)f
(ma)o(in)o(tai)o(n)f(consisten)o(t)i(loggi)o(ng.)34 b @F12 @sf(A)o(l)r(l)
-1910 56 y(mo)n(di\014c)n(ations)15 b(to)i(disk)f(bu\013ers)g(ar)n(e)g(to)h
(b)n(e)f(done)g(thr)n(ough)h(this)f(c)n(al)r(l.)-1200 96 y @F18 @sf(The)c
(parameter)f @F10 @sf(newDataSource)f @F18 @sf(is)h(mac)o(hine)f(arc)o
(hitecture)q 13 x(dep)q(enden)o(t.)19 b(F)m(or)11 b(m)o(ul)o
(tiple-address)g(space)i(mac)o(hines,)-1911 56 y(it)j(indicates)g(the)h
(address)g(space)h(from)o 15 x(whic)o(h)e(the)h(data)f(is)g(to)g(b)q(e)g
(copied.)25 b(F)m(or)16 b(a)g(single-address)h(space)g(mac)o(hine,)-1911 
57 y(this)e(parameter)g(is)f(a)h(constan)o(t.)22 b(F)m(or)14 b(example,)g
(in)g(the)i(traditional)d @F0 @sf(Unix)h @F18 @sf(en)o(vironmen)o(t,)g
(with)h(a)f(k)o(ernel)i(and)e(user)-1908 56 y(address)h(space,)g(this)f(w)o
(ould)f(b)q(e)h(either)h @F11 @sf(OSI)s 16 -2 z 16 x(UIOSYS)f @F18 @sf(or)f 
@F11 @sf(OSI)s 16 -2 z 16 x(UIOUSER)p @F18 @sf(.)-1375 133 y @F11 @sf
(Return)18 b(Co)q(des)-250 95 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)k @F18 @sf
(-)28 b(the)14 b(up)q(date)h(w)o(as)f(success)q(ful.)-748 170 y
(Additionally)o -3 x(,)c(this)i(routine)h(propigates)f(errors)h(from)d 
@F12 @sf(lo)n(g)s 14 -2 z 13 x(Write)j @F18 @sf(and)f(the)g(b)o(yte)h(cop)o
(y)f(routine)g(\(whic)o(h)g(is)g(dep)q(enden)o(t)-1908 57 y(up)q(on)i(the)g
(address)i(space\))f(to)e(the)i(calling)d(routine.)19 b(See)14 b(Section)h
(7.2)e(for)g(inform)o(ation)f(ab)q(out)i @F12 @sf(lo)n(g)s 14 -2 z 13 x
(Write)p @F18 @sf(.)-1754 133 y @F7 @sf(4.7)56 b(bu\013er)s 17 -2 z 16 x
(StartT)-5 b(ran)33 b @F18 @sf(|)14 b(Begin)g(a)f(logged)g(transaction)-1103 
180 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(StartT)l(ran)p 
@F16 @sf(\()p 56 w(IN)g(caddr)s 13 -2 z 12 x(t)h(bufServi)o(ceNam)o(e;)-562 
57 y(IN)f(logTranRec)r 13 -2 z 12 x(t)h(bufOldTr)o(anId;)o -627 56 a(IN)f
(struct)g(async)s 13 -2 z 12 x(device)f(*dP;)-583 57 y(OUT)h(logTranRec)r 
13 -2 z 12 x(t)g(*bufNewTranI)o(d;)-671 56 y(\))-552 180 y @F11 @sf(P)o
(arameters)-192 105 y @F10 @sf(logServiceName)g @F18 @sf(-)36 b(a)17 b(n)o
(ull)g(terminated)g(c)o(haracter)j(string)e(used)g(to)g(iden)o(tify)f(the)i
(service)g(requesting)g(the)-1712 56 y(transaction)14 b(iden)o(ti\014er;)g
(this)f(is)h(used)h(for)f(statistics)g(gathering)g(only)m(.)-1256 72 y 
@F10 @sf(bufOldTranId)21 b @F18 @sf(-)e(the)9 b(transaction)h(iden)o
(ti\014er)g(of)e(the)i(curren)o(t)h(transaction)e(wishing)g(to)g(start)h
(a)f(sub-transaction.)-1860 72 y @F10 @sf(dP)23 b @F18 @sf(-)k(the)15 b
(device)f(against)f(whic)o(h)h(this)g(new)h(transaction)f(stream)f(is)h
(to)g(b)q(e)g(logged.)-1368 72 y @F10 @sf(bufNewTranId)21 b @F18 @sf(-)28 b
(the)14 b(transaction)g(iden)o(ti\014er)h(assigned)f(to)g(the)g(new)g
(transaction.)-1470 133 y @F15 @sf(4.7)29 b(bu\013er)s 14 -2 z 14 x
(StartT)l(ran)515 b(20)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
20 @eop1

21 @bop0
@F7 @sf
[<
01FF000FFFC01F01F03C0038780038F8001CF0001CF0001EF0001EF0003EF000FE7801FE78
07FC3C1FFC1E7FF807FFF003FFE007FFC00FFF801FFFC01FF9E03FE0F03F80783F00783E00
783C00781C00781C00F00E00F00703E003FFC000FE00>
	 23 32 -2 31 28] 56 @dc
[<
FFFFFFFCFFFFFFFC07F001FC07F0003E07F0001E07F0000E07F0000E07F0000607F0000607
F0000607F0000307F0180307F0180307F0180007F0180007F0380007F0780007FFF80007FF
F80007F0780007F0380007F0180007F0180607F0180607F0180607F0000607F0000E07F000
0E07F0000C07F0001C07F0003C07F000FCFFFFFFFCFFFFFFFC>
	 32 34 -2 33 37] 69 @dc
@F18 @sf
[<
07E01C10300C60046002C003C003C003C003C007600F601E307E18FC07F807F01FE03FB03E
08780C70066006600660062006200C10080C3003E0>
	 16 29 -2 27 21] 56 @dc

21 @eop0

0 0 21 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)e(call)f(is)g(used)i(to)f(obtain)f(a)g
(new)i(transaction)f(iden)o(ti\014er.)k(The)c(c)o(haracter)h(string)f(is)g
(a)g(nam)o(e)f(for)h(trac)o(king)f(usage)-1909 56 y(of)g(this)h(call.)-203 
96 y(If)f(the)h @F10 @sf(bufOldTranId)o 12 x @F18 @sf(is)f(v)n(alid,)e
(the)j(transaction)g(is)f(guaran)o(teed)g(not)h(to)f(blo)q(c)o(k.)k(If)c 
@F10 @sf(bufOldTranId)e @F18 @sf(is)i @F12 @sf(not)g @F18 @sf(v)n(alid,)
-1911 56 y(the)19 b(transaction)f(ma)o(y)o 17 x(blo)q(c)o(k)g(if)f(no)g
(additional)g(resources)q 19 x(for)h(merging)e(transactions)j(is)e(p)q
(ossible.)31 b(Suc)o(h)18 b(a)g(sub-)-1909 57 y(transaction)h(is)f @F12 @sf
(not)g @F18 @sf(nested)i(in)e(the)h(transactional)f(sense)i(of)e(the)h(w)o
(ord.)31 b(It)18 b(is)h(nested)h @F12 @sf(pr)n(o)n(c)n(e)n(dur)n(al)r(ly)p 
@F18 @sf(,)e(hence)i(the)-1909 56 y(guaran)o(tee)15 b(it)f(will)f(not)h
(blo)q(c)o(k,)f(as)i(it)f(is)g(a)g(small)o 13 x(atomi)o(c)g(pro)q(cess)i
(whic)o(h)e(o)o(v)o(erlaps)g(with)g(the)h(op)q(eration)f(of)g(a)g(longer-)
-1910 57 y(running)j(transaction.)28 b(This)17 b(allo)o(ws)f(for)h(a)o(v)o
(oiding)e(deadlo)q(c)o(k)j(when)f(to)q(o)g(man)o(y)f(transactions)h(ha)o
(v)o(e)h(b)q(een)g(merged)-1910 56 y(within)13 b(the)i(system.)-337 96 y
(One)f(p)q(ossible)f(di\013eren)o(t)i(approac)o(h)e(here)h(is)f(to)g(remo)o
(v)o(e)g(the)g(initial)f(write)h(of)g(a)g(start)h(record)g @F12 @sf(at)i
(this)f(time)f @F18 @sf(and)f(ha)o(v)o(e)-1910 56 y(it)h(b)q(e)g(written)g
(only)g(up)q(on)f(the)i(initial)d(mo)q(di)o(fy)g(call.)-845 145 y @F11 @sf
(Return)18 b(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf
(the)15 b(call)e(completed)g(normal)o(ly)l(.)-773 235 y @F7 @sf(4.8)56 b
(bu\013er)s 17 -2 z 16 x(EndT)-5 b(ran)33 b @F18 @sf(|)14 b(T)m(ermina)o
(te)f(a)h(transaction)-1031 202 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 
16 -2 z 15 x(EndT)l(ran)p @F16 @sf(\()p 57 w(IN)g(logTranRec)r 13 -2 z 12 x
(t)g(bufTranId;)-562 56 y(\))-528 202 y @F11 @sf(P)o(arameters)-192 108 y 
@F10 @sf(bufTranId)h @F18 @sf(-)27 b(the)14 b(transaction)g(iden)o(ti\014er)f
(of)g(the)i(transaction)e(whic)o(h)h(is)f(to)h(b)q(e)g(terminated)f(and)g
(comm)o(itted.)-1911 170 y @F11 @sf(Description)-262 96 y @F18 @sf(This)
21 b(call)e(signals)i(the)g(log)e(pac)o(k)n(age)i(that)g(no)f(additional)f
(transactions)i(will)e(b)q(e)j(logged)e(against)g(the)h(sp)q(eci\014ed)-1908 
57 y(transaction)14 b(id.)19 b(This)14 b(do)q(es)h(not)f(pro)o(vide)g(a)g
(guaran)o(tee)h(as)f(to)g(the)h(state)g(of)e(the)i(log)e(records)q 15 x
(on)h(disk;)g(notably)m(,)e(this)-1909 56 y(call)h @F12 @sf(do)n(es)j(not)e 
@F18 @sf(force)h(the)f(log)g(to)f(disk.)19 b(Indeed,)14 b(this)h
(transaction)f(ma)o(y)o 13 x(not)g(comm)o(i)o(t)f(for)h(an)g
(indeterminate)f(p)q(erio)q(d)-1909 56 y(of)g(time.)-141 96 y(If)i(the)h
(caller)f(wishes)h(to)f(w)o(ait)g(un)o(til)f(this)i(transaction)f(is)g
(on-disk,)g @F10 @sf(log)s 14 -2 z 14 x(Force)f @F18 @sf(should)h(b)q(e)h
(used.)23 b(See)17 b(Section)e(7.8)-1910 56 y(for)f(mo)o(re)f(informati)o
(on.)-392 204 y @F15 @sf(4.8)29 b(bu\013er)s 14 -2 z 14 x(EndT)l(ran)536 b
(21)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
21 @eop1

22 @bop0
@F7 @sf
[<
03F8000FFE001C0F801E03C03F01E03F00F03F00F83F00F81E007C00007C00007C00207E07
FC7E0FFE7E1E037E3E01FE7C00FE7C00FEFC007EFC007EFC007EFC007EFC007CFC007CFC00
7C7C00787C00F83E00F01E01F00F83E007FF8001FE00>
	 23 32 -2 31 28] 57 @dc
@F16 @sf
[<
FFFFC0FFFFC0FFFFC07801C03C01C01E01C00F000007800003E00001F000007800003C0070
1E00700F007007807FFFC07FFFC03FFFC0>
	 18 18 -1 17 22] 122 @dc
@F10 @sf
[<
01F1C003FDC00FFFC01F0FC01C07C03803C03803C07003C07001C07001C0E00FF0E01FF0E0
0FF0E00000E00000E00000E00000E000007000007001C07001C03801C03803C01C03C01F0F
C00FFFC003FDC001F1C0>
	 20 28 -2 27 24] 71 @dc

22 @eop0

0 0 22 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(Return)i
(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b
(call)e(completed)g(normal)o(ly)l(.)-703 73 y @F10 @sf(BUF)s 14 -2 z 14 x
(BADTRAN)49 b @F18 @sf(the)15 b(pro)o(vided)f(v)n(alue)f(of)g @F10 @sf
(bufTranId)g @F18 @sf(w)o(as)h(in)o(v)n(al)o(id.)o -1144 73 a @F10 @sf
(BUF)s 14 -2 z 14 x(OLDTRAN)49 b @F18 @sf(the)15 b(pro)o(vided)f @F10 @sf
(bufTranId)e @F18 @sf(is)i(a)g(previously)f(terminated)h(transaction.)-1550 
216 y @F7 @sf(4.9)56 b(bu\013er)s 17 -2 z 16 x(LogInit)32 b @F18 @sf(|)13 b
(Initialize)g(the)h(log.)-867 187 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 
16 -2 z 15 x(LogInit)p @F16 @sf(\()1 57 y(IN)g(struct)g(async)s 13 -2 z 
11 x(device)g(*ldP;)-605 56 y(IN)g(struct)g(async)s 13 -2 z 11 x(device)g
(*dP;)-583 57 y(IN)g(daddr)s 13 -2 z 12 x(t)g(*logLocnArra)o(y;)-540 56 y
(IN)g(unsigned)f(logLocnArray)o(Size;)o -633 56 a(\))-495 187 y @F11 @sf
(P)o(arameters)-192 106 y @F10 @sf(ldP)i @F18 @sf(-)28 b(the)14 b(device)h
(to)f(use)h(for)e(logging;)o 13 x(it)g(ma)o(y)f(b)q(e)j(the)f(same)f(as)h 
@F10 @sf(dP)g @F18 @sf(but)g(is)f(not)h(required)h(to)f(b)q(e)g(so.)-1660 
73 y @F10 @sf(dP)23 b @F18 @sf(-)k(the)15 b(device)f(for)g(whic)o(h)g
(loggi)o(ng)f(inform)o(ati)o(on)g(is)g(recorded)q(.)-1067 73 y @F10 @sf
(logLocnArray)21 b @F18 @sf(-)28 b(arra)o(y)13 b(of)h(disk)f(blo)q(c)o(ks)h
(whic)o(h)g(are)g(to)g(b)q(e)h(used)f(b)o(y)g(the)g(logging)e(pac)o(k)n
(age.)-1534 73 y @F10 @sf(logLocnArraySize)o 22 x @F18 @sf(-)27 b(n)o(um)o
(b)q(er)13 b(of)h(disk)f(blo)q(c)o(ks)h(in)g(the)g @F10 @sf(logLocnArray)p 
@F18 @sf(.)-1347 158 y @F11 @sf(Description)-262 95 y @F18 @sf(This)9 b
(call)g(initiates)f(logging)g(on)h(the)h(device)g(sp)q(eci\014ed)h(as)e 
@F10 @sf(dP)g @F18 @sf(b)o(y)g(using)g(the)h(disk)f(blo)q(c)o(ks)g
(indicated)g(b)o(y)g @F10 @sf(logLocnArray)p @F18 @sf(.)-1917 96 y(This)j
(call)g(initial)o(izes)g(the)h(log)e(for)h(the)h(sp)q(eci\014ed)h(\014le)e
(system.)18 b(The)13 b(size)g(of)e(the)i(log)f(is)g(determined)g(b)o(y)g
(the)h(n)o(um)o(b)q(er)f(of)-1910 57 y(disk)e(blo)q(c)o(ks)f(pro)o(vided)h
(and)g(the)g(blo)q(c)o(k)g(size)g(\(whic)o(h)g(is)g(determined)g
(indirectly)f(b)o(y)h(the)g @F10 @sf(dP)p @F13 @sf(!)p @F10 @sf(blocksize)f 
@F18 @sf(parameter.\))-1910 95 y(This)17 b(routine)g(v)o(eri\014es)g(the)h
(log)d(restart)j(blo)q(c)o(k.)27 b(If)16 b(this)h(blo)q(c)o(k)f(is)h(not)g
(v)n(alid,)o 16 x(reco)o(v)o(ery)h(is)f(attempted.)26 b(If)16 b(reco)o(v)o
(ery)-1908 57 y(fails,)c(this)i(routine)g(fails)f(and)h(returns)h(to)f
(the)g(caller.)-864 136 y @F11 @sf(Return)k(Co)q(des)-250 96 y @F10 @sf
(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b(log)d(has)i(started)h
(normall)o(y)m(.)o -710 73 a @F10 @sf(BUF)s 14 -2 z 14 x(LOGCRASHED)46 b 
@F18 @sf(the)13 b(log)e(do)q(es)i @F12 @sf(not)f @F18 @sf(ha)o(v)o(e)g(a)g
(v)n(alid)f(restart)i(blo)q(c)o(k)f(and)g(reco)o(v)o(ery)h(failed)f(to)g
(reco)o(v)o(er)h(the)g(disk.)-1713 57 y(The)h(salv)n(ager)f(m)o(ust)g(b)q
(e)i(used)f(to)g(rebuild)g(the)g(disk.)-1042 215 y @F15 @sf(4.10)29 b
(bu\013er)s 14 -2 z 13 x(LogF)l(orce)509 b(22)530 b(Marc)o(h)14 b(2,)h
(1993)f(14:04)-1911 b
22 @eop1

23 @bop0
@F7 @sf
[<
00FE0007FFC00F83E01F01F03E00F83E00F87C007C7C007C7C007CFC007EFC007EFC007EFC
007EFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007C7C007C7C00
7C7C007C3E00F83E00F81F01F00F83E007FFC000FE00>
	 23 32 -2 31 28] 48 @dc
[<
FFFFE000FFFFE00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007
F0000007F0180007F0180007F0180007F0180007F0380007F0780007FFF80007FFF80007F0
780007F0380007F0180007F0180007F0180C07F0180C07F0000C07F0000C07F0001C07F000
1C07F0001807F0003807F0007807F001F8FFFFFFF8FFFFFFF8>
	 30 34 -2 33 35] 70 @dc
@F18 @sf
[<
001F00000070C00000C02000018010000380100007800800070008000F0004000F0004000F
0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F00
04000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F0004000F000E
00FFF07FC0>
	 26 29 -2 27 31] 85 @dc
@F18 @sf
[<
001FC00000E0300001800800070004000E0002001C0001001C000100380000807800008078
00008070000080F0000000F0000000F0000000F0000000F0000000F0000000F0000000F000
0000700000807800008078000080380001801C0001801C0003800E00038007000780018019
8000E06180001F8080>
	 25 30 -2 28 30] 67 @dc
@F16 @sf
[<
60F0781C1E0E3E7E7E7C38>
	 7 11 -7 4 22] 44 @dc

23 @eop0

0 0 23 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F7 @sf(4.10)56 b
(bu\013er)s 17 -2 z 16 x(LogF)-5 b(orce)32 b @F18 @sf(|)14 b(F)m(orce)g
(the)h(log)e(to)g(p)q(ermanen)o(t)h(storage.)-1278 185 y @F16 @sf(int32)
21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(LogF)l(orce)p @F16 @sf(\()p 56 w(IN)g
(logTranRec)o 3 x 13 -2 z 12 x(t)g(bufTranId;)-562 57 y(\))-535 185 y 
@F11 @sf(P)o(arameters)-192 105 y @F10 @sf(bufTranId)h @F18 @sf(-)27 b
(the)15 b(transaction)f(up)g(to)f(whic)o(h)h(the)h(log)e(should)g(b)q(e)i
(forced.)-1315 156 y @F11 @sf(Description)-262 96 y @F18 @sf(This)c(call)f
(forces)i(to)e(p)q(ermanen)o(t)h(storage)g(all)f(en)o(tries)i(in)e(the)i
(log)e(corresp)q(onding)h(to)g(the)h(sp)q(eci\014ed)g(transaction.)17 b
(Up)q(on)-1909 56 y(return,)e(the)f(log)f(has)h(b)q(een)h @F12 @sf(for)n
(c)n(e)n(d)e @F18 @sf(to)h(disk.)-713 96 y(This)g(call)f(is)h(curren)o
(tly)g(not)g(impl)o(em)o(en)o(ted)g(as)g(no)f(need)i(for)f(it)f(has)h(b)q
(een)h(found.)-1307 135 y @F11 @sf(Return)j(Co)q(des)-250 96 y @F10 @sf
(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b(op)q(eration)e(completed)h
(success)q(fully)m(.)-930 176 y(Calls)f(to)h(this)g(routine)g(halt)f
(execution.)-647 133 y @F7 @sf(4.11)56 b(bu\013er)s 17 -2 z 16 x(FsyncF)
-5 b(orce)33 b @F18 @sf(|)13 b(F)m(orce)h(disk)g(blo)q(c)o(ks)g(for)g(a)f
(\014le)h(to)g(disk.)-1307 185 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 
16 -2 z 15 x(FsyncF)l(orce)p @F16 @sf(\()-2 57 y(IN)h(struct)e(async)s 13 
-2 z 12 x(device)g(*dP,)-583 56 y(IN)i(daddr)s 13 -2 z 11 x(t)g(*blockArr)o
(ay,)-497 57 y(IN)g(u)s 13 -2 z 12 x(int32)f(blockArra)o(ySize)o -540 56 a
(\))-584 185 y @F11 @sf(P)o(arameters)-192 106 y @F10 @sf(dP)i @F18 @sf(-)k
(device)15 b(p)q(oin)o(ter)f(on)g(whic)o(h)f(the)i(blo)q(c)o(ks)f(to)f
(force)i(are)f(lo)q(cated.)-1117 72 y @F10 @sf(blockArray)22 b @F18 @sf(-)
27 b(arra)o(y)14 b(of)f(disk)h(addresses)i(to)d(force.)-877 73 y @F10 @sf
(blockArraySize)21 b @F18 @sf(-)27 b(n)o(um)o(b)q(er)14 b(of)f(elemen)o
(ts)h(in)f(the)i @F10 @sf(blockArray)d @F18 @sf(argumen)o(t.)-1394 195 y 
@F15 @sf(4.11)29 b(bu\013er)s 14 -2 z 13 x(FsyncF)l(orce)466 b(23)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
23 @eop1

24 @bop0
@F18 @sf
[<
07C018702038401C401E800EF00FF00FF00F600F000F000F000F000E200E301C2818243023
E02000200020002000200020003FC03FF03FF8300C>
	 16 29 -2 27 21] 53 @dc
[<
001800180000180018000018001800003C003C00003C003C00003C003C00003E007C00007A
007A00007A007A00007900FA0000F100F10000F100F10000F100F10001E081E08001E081E0
8001E081E08003E043C04003C043C04003C043C04003C02780400780278020078027802007
801F00200F001F00100F001F00100F001F00101E001E00181F001F003CFFE0FFE0FF>
	 40 29 -1 27 43] 87 @dc

24 @eop0

0 0 24 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)e(routine)g(impl)o(em)o(en)o(ts)g
(the)h @F12 @sf(fsync)e @F18 @sf(system)g(call)h(at)g(the)g(lo)o(w)o(est)g
(lev)o(el.)k(It)d(tak)o(es)f(a)g(device)h @F10 @sf(dP)p @F18 @sf(,)e(and)h
(a)g(list)f(of)h(disk)-1910 56 y(addresses)q 14 x @F10 @sf(blockArray)d 
@F18 @sf(and)h(mak)o(es)g(sure)i(all)d(data)h(bu\013ers)i(with)e(those)i
(disk)e(addresses)q 14 x(that)h(are)g(dirt)o(y)f(ha)o(v)o(e)g(b)q(een)-1908 
57 y(written)i(to)g(p)q(ermanen)o(t)g(storage.)-545 95 y(Up)q(on)g(return)h
(to)f(the)g(caller,)g(all)e(blo)q(c)o(ks)i(sp)q(eci\014ed)i(b)o(y)d @F10 @sf
(blockArray)g @F18 @sf(are)h(curren)o(t)h(on)f(disk.)-1502 141 y @F11 @sf
(Return)k(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf
(the)15 b(disk)e(state)i(is)f(up-to-date)g(with)f(the)i(bu\013er)g(state.)
-1146 187 y(This)j(routine)g(also)f(propigates)h(errors)i(from)c @F12 @sf
(bu\013er)s 14 -2 z 14 x(Write)i @F18 @sf(and)g(from)e(the)j(Async)g(I/O)f
(pac)o(k)n(age)f(to)h(the)h(calling)-1911 56 y(routine.)27 b(See)18 b
(Section)f(5.3.4)e(for)h(more)g(inform)o(ation)f(ab)q(out)h(bu\013er)r 12 
-2 z 14 x(W)m(rite;)i(see)g(the)f @F11 @sf(DCE)k(LFS)c @F18 @sf(Async)o
(hronous)-1908 57 y(Disk)c(I/O)h(Design)g(Sp)q(eci\014cation)g(for)g(more)f
(inform)o(ati)o(on)g(ab)q(out)g(the)i(Async)g(I/O)f(pac)o(k)n(age.)-1499 
134 y @F7 @sf(4.12)56 b(bu\013er)s 17 -2 z 16 x(SyncF)-5 b(orce)32 b 
@F18 @sf(|)14 b(Sc)o(hedule)h(all)d(dirt)o(y)i(disk)g(blo)q(c)o(ks)f(for)h
(write)g(to)g(disk.)-1505 195 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 
16 -2 z 15 x(SyncF)l(orce)p @F16 @sf(\()-1 56 y(IN)g(struct)g(async)s 13 
-2 z 11 x(device)g(*dP;)-583 57 y(\))-560 194 y @F18 @sf(This)c(routine)g
(is)g(resp)q(onsible)h(for)e(impl)o(em)o(en)o(ting)g(the)h(functionalit)o
(y)e(of)i(the)g @F0 @sf(Unix)f @F18 @sf(system)h(call)f @F12 @sf(sync)p 
@F18 @sf(.)26 b(This)17 b(call)-1910 57 y(accomplishes)c(this)h(b)o(y)g
(cycling)f(through)h(the)h(en)o(tire)f(bu\013er)h(p)q(o)q(ol)e(for)h(all)f
(bu\013ers)i(of)e(size)i @F10 @sf(dP)p @F13 @sf(!)p @F10 @sf(blockSize)p 
@F18 @sf(.)-1785 95 y(The)f(writing)f(is)h @F12 @sf(sche)n(dule)n(d)f 
@F18 @sf(but)h(not)g(completed.)-813 135 y @F7 @sf(4.13)56 b(bu\013er)s 
17 -2 z 16 x(LogClose)32 b @F18 @sf(|)14 b(Close)f(the)i(log.)-877 194 y 
@F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(LogClose)p @F16 @sf
(\()p 57 w(IN)g(struct)g(async)s 13 -2 z 12 x(device)f(*dP;)-583 56 y(\))
-534 195 y @F11 @sf(P)o(arameters)-192 107 y @F10 @sf(dP)j @F18 @sf(-)k
(the)15 b(device)f(from)e(whic)o(h)i(to)g(read)g(the)h(sp)q(eci\014ed)g
(blo)q(c)o(k.)-1086 201 y @F15 @sf(4.13)29 b(bu\013er)s 14 -2 z 13 x
(LogClose)510 b(24)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
24 @eop1

25 @bop0
@F12 @sf
[<
81F80000C6060000E80380007000C0006000E0006000600060007000200030002000380020
003800000038000000380000007800000078000001F800001FF000007FF00001FFE00001FF
800003F8000003C0000003C00000038000000380010003800100038001000180010001C001
8000C003800060038000300580001C18C00007E040>
	 26 33 -3 31 26] 83 @dc
@F10 @sf
[<
00700000F80000F80000D80001DC0001DC0001DC00018C00038E00038E00038E00038E0007
07000707000707000707000F07800E03800E03800E03800E03801C01C01C01C01C01C01C01
C0FF07F8FF07F8FF07F8>
	 21 28 -1 27 24] 86 @dc
@F12 @sf
[<
FFF03FF8000F8007C00007800780000780078000078007800007800F000003C00F000003C0
0F000003C01E000003C01E000001E01E000001E03C000001F03C000001E83C000000F47800
0000F278000000F1F8000000F0F00000007830000000781000000078080000007804000000
3C020000003C010000003C004000003C002000001E001000001E000800001E000E00001F00
0F8001FFF03FE0>
	 35 31 -3 30 35] 75 @dc
@F12 @sf
[<
00FE00000381C000060020000C001800180004003800020038000100700001007000008070
000080F0000080F0000000F0000000F0000000F00000007800000078000000780000007800
00003C0000003C0000001E0000101E0000100F000018070000180380001801C0001800C000
1C0060003C0038003C001C004C000781860000FE02>
	 31 33 -6 31 33] 67 @dc
@F12 @sf
[<
7FE0FFE07FF0>
	 12 3 -3 10 16] 45 @dc
@F7 @sf
[<
0000FFE00000FFE000001F0000001F0000001F0000001F0000001F0000001F0000001F0000
001F0001FC1F0007FF9F000FC1DF001F007F003E003F007E001F007E001F00FC001F00FC00
1F00FC001F00FC001F00FC001F00FC001F00FC001F007C001F007E001F007E003F003F003F
001F006F000FC1C70007FF870000FE0300>
	 27 32 -2 21 30] 113 @dc
@F18 @sf
[<
FF8307FF801C030078000803007800080780780008078078000807807800080F407800080F
407800081E207800081E207800081E207800083C107800083C107800083C10780008780878
000878087800087808780008F004780008F004780008F004780009E002780009E00278000B
C00178000BC00178000BC00178000F8000F8000F8000F800FF8000FF80>
	 33 28 -2 27 38] 77 @dc
@F16 @sf
[<
7FF87FFC7FF8038003800380038003800380038003800380038003800380038003807380FF
807F800F800780038003800180>
	 14 25 -4 24 22] 49 @dc

25 @eop0

0 0 25 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)e(routine)g(simpl)o(y)f(translates)h
(in)o(to)g(a)f(call)g(to)h @F12 @sf(bu\013er)s 14 -2 z 14 x(Shutdown)p 
@F18 @sf(.)-1138 196 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x
(Sh)o(utdo)o(wn)p @F16 @sf(\()-1 57 y(IN)g(struct)g(async)s 13 -2 z 12 x
(device)f(*dP;)-583 56 y(\))-554 197 y @F11 @sf(P)o(arameters)-192 108 y 
@F10 @sf(dP)j @F18 @sf(-)k(the)15 b(device)f(from)e(whic)o(h)i(to)g(read)g
(the)h(sp)q(eci\014ed)g(blo)q(c)o(k.)-1086 165 y @F11 @sf(Description)-262 
96 y @F18 @sf(This)f(routine)h(is)f(called)g(when)h(sh)o(utting)g(do)o(wn)f
(op)q(erations)g(on)h(a)f(device,)h(whether)g(logged)f(or)h(unlogged.)k
(It)14 b(c)o(hec)o(ks)-1908 57 y(all)f(bu\013ers)i(within)e(the)i(bu\013er)g
(p)q(o)q(ol)e(and)h(returns)i(up)q(on)e(success)q(ful)h(\015ushing)e(of)h
(all)f(dirt)o(y)g(bu\013ers)j(for)d(the)i(sp)q(eci\014ed)-1908 56 y
(device.)-123 143 y @F11 @sf(Return)j(Co)q(des)-250 95 y @F10 @sf(BUF)s 
14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b(sp)q(eci\014ed)g(device)g(has)f(b)q
(een)h(sh)o(ut)f(do)o(wn;)f(all)g(dirt)o(y)g(bu\013ers)j(ha)o(v)o(e)d(b)q
(een)i(written)g(to)e(disk.)-1705 75 y @F10 @sf(BUF)s 14 -2 z 14 x
(LOGNOENT)49 b @F18 @sf(the)15 b(sp)q(eci\014ed)g(aggregate)f(do)q(es)h
(not)e(exist.)-1019 74 y @F10 @sf(BUF)s 14 -2 z 14 x(LOGINVAL)49 b @F18 @sf
(the)15 b(sp)q(eci\014ed)g(aggregate)f(is)g @F12 @sf(not)g @F18 @sf(b)q
(eing)f(logged.)-1185 189 y(This)20 b(routine)h(also)f(propigates)h
(errors)h(from)o 19 x @F12 @sf(bu\013er)s 14 -2 z 14 x(SetKil)r(le)n(d)p 
@F18 @sf(,)f @F12 @sf(asevent)s 14 -2 z 13 x(WaitA)o(l)r(l)p @F18 @sf(,)g 
@F12 @sf(asevent)s 14 -2 z 13 x(Cr)n(e)n(ateSet)f @F18 @sf(and)-1910 57 y 
@F12 @sf(bu\013er)s 14 -2 z 14 x(Write)p @F18 @sf(.)g @F12 @sf(bu\013er)s 
14 -2 z 14 x(SetKil)r(le)n(d)14 b @F18 @sf(is)g(describ)q(ed)i(in)e
(Section)h(5.2.5;)e @F12 @sf(bu\013er)s 14 -2 z 14 x(Write)i @F18 @sf(is)f
(describ)q(e)q(d)i(in)e(Section)h(5.3.4)o(.)-1911 56 y(The)d @F11 @sf(DCE)j
(LFS)c @F18 @sf(Async)o(hronous)i(Disk)e(I/O)g(Design)h(Sp)q(eci\014cation)f
(descr)q(ib)q(es)i(the)f @F12 @sf(asevent)s 14 -2 z 13 x(Cr)n(e)n(ateSet)e 
@F18 @sf(and)i @F12 @sf(asev-)-1910 57 y(ent)s 14 -2 z 13 x(WaitA)o(l)r(l)i 
@F18 @sf(calls.)-339 135 y @F7 @sf(4.14)56 b(bu\013er)s 17 -2 z 16 x
(EquivT)-5 b(ran)32 b @F18 @sf(|)13 b(Merge)i(t)o(w)o(o)f(transactions)-1089 
197 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(EquivT)l(ran)p 
@F16 @sf(\()-1 56 y(IN)h(logTranRe)o(c)s 13 -2 z 11 x(t)g(tran1;)-475 57 y
(IN)g(logTranRe)o(c)s 13 -2 z 11 x(t)g(tran2;)-475 56 y(\))-568 243 y 
@F15 @sf(4.14)29 b(bu\013er)s 14 -2 z 13 x(EquivT)l(ran)479 b(25)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
25 @eop1

26 @bop0
@F10 @sf
[<
000700000700000F00000E00001E00001C000FFC003FFE007FFF00787F0070F700F0E780E1
E380E1E380E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E003
80E00380E00380E00380F00780700700780F007FFF003FFE000FF800>
	 17 34 -3 27 24] 81 @dc
@F10 @sf
[<
01FC0003FE0001FC0000700000700000700000700000700000700000700000700000700000
F80000F80001DC0001DC0001DC00038E00038E000707000707000F07800E03801E03C01C01
C0FF07F8FF07F8FF07F8>
	 21 28 -1 27 24] 89 @dc

26 @eop0

0 0 26 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(P)o
(arameters)-192 108 y @F10 @sf(tran1)22 b @F18 @sf(-)28 b(a)13 b
(transaction)h(ID)g(returned)i(b)o(y)d @F12 @sf(bu\013er)s 14 -2 z 14 x
(StartT)m(r)n(an)p @F18 @sf(.)-1058 75 y @F10 @sf(tran2)22 b @F18 @sf(-)
28 b(a)13 b(transaction)h(ID)g(returned)i(b)o(y)d @F12 @sf(bu\013er)s 14 
-2 z 14 x(StartT)m(r)n(an)p @F18 @sf(.)-1128 171 y @F11 @sf(Description)
-262 95 y @F18 @sf(This)j(call)e(indicates)i(that)g(the)g(t)o(w)o(o)f(sp)q
(eci\014e)q(d)i(transactions)f(ha)o(v)o(e)f(b)q(een)i(logically)o 15 x
(merged;)e(neither)i(transaction)f(is)-1910 57 y(considered)f @F12 @sf(c)n
(ommitte)n(d)f @F18 @sf(un)o(til)f(b)q(oth)h(ha)o(v)o(e)g(b)q(een)h(comm)o
(i)o(tted.)-1015 145 y @F11 @sf(Return)j(Co)q(des)-250 96 y @F10 @sf(BUF)s 
14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b(op)q(erations)f(completed)f(succes)q
(sfully)m(.)-876 75 y @F10 @sf(BUF)s 14 -2 z 14 x(BADTRAN)49 b @F18 @sf
(one)14 b(or)g(b)q(oth)g(of)g(the)g(sp)q(eci\014ed)i(transactions)e(do)q
(es)h(not)e(exist.)-1314 75 y @F10 @sf(BUF)s 14 -2 z 14 x(EQUIVWARN)53 b 
@F18 @sf(the)17 b(system)f(has)g(exceede)q(d)h(the)g(in)o(ternal)e(soft)h
(lim)o(it)e(on)i(merged)g(transactions;)h(this)f(is)g(a)-1713 56 y(w)o
(arning)d(message)g(only)m(.)-531 75 y @F10 @sf(BUF)s 14 -2 z 14 x
(TOOMANYEQUIV)52 b @F18 @sf(the)16 b(system)f(has)g(excee)q(ded)i(the)f
(in)o(ternal)f(hard)g(limi)o(t)f(on)h(merged)g(transactions;)h(this)-1712 
57 y(indicates)e(the)g(op)q(eration)g(has)g(failed.)-812 1489 y @F15 @sf
(4.14)29 b(bu\013er)s 14 -2 z 13 x(EquivT)l(ran)479 b(26)530 b(Marc)o(h)
14 b(2,)h(1993)f(14:04)-1911 b
26 @eop1

27 @bop0
@F1 @sf
[<
000FFC0000007FFFC00001FFFFF00003FFFFFC0007F00FFE000FC003FF001F0000FF803E00
00FFC03C00007FE07F00007FF07FC0007FF0FFE0003FF8FFE0003FF8FFF0003FF8FFF0003F
FCFFF0003FFCFFE0003FFC7FE0003FFC3FC0003FFC1F80003FFC0600003FFC0000003FFC00
00003FFC0000003FF80000003FF80000003FF80000003FF00700007FF00F00007FE00F8000
7FC00FC000FF800FF000FF000FFE03FE000FBFFFF8000F8FFFE0000F81FF00000F80000000
0F800000000F800000000F800000000F800000000F800000000F800000000F800000000FFF
F800000FFFFE00000FFFFF80000FFFFFE0000FFFFFF0000FFFFFF8000FFFFFFC000FFFFFFE
000FFFFFFF000FFFFFFF800FF8007FC00F800007C004000000C0>
	 38 57 -5 55 49] 53 @dc
@F6 @sf
[<
00FF800003FFF0000FFFF8001F01FE003C007F0078003F8078003F80FC001FC0FE001FC0FE
001FE0FE001FE0FE001FE07C001FE018001FE000001FE000001FE000001FC000001FC00000
1F800C003F000E003E000F80FC000FFFF8000E7FC0000E0000000E0000000E0000000E0000
000E0000000E0000000FFE00000FFFC0000FFFE0000FFFF0000FFFF8000FFFFC000FFFFE00
0F803F000C000300>
	 27 39 -3 38 34] 53 @dc
[<
FFFFFFFE0000FFFFFFFFC000FFFFFFFFF00003F8001FF80003F80007FC0003F80003FE0003
F80001FF0003F80000FF0003F80000FF8003F80000FF8003F80000FF8003F80000FF8003F8
0000FF8003F80000FF8003F80000FF0003F80000FF0003F80001FE0003F80001FE0003F800
03FC0003F80007F00003FFFFFFE00003FFFFFE000003F800FFC00003F8001FE00003F8000F
F00003F80007F80003F80003FC0003F80003FC0003F80003FE0003F80001FE0003F80001FE
0003F80001FE0003F80003FE0003F80003FC0003F80003FC0003F80007FC0003F8000FF800
03F8001FF000FFFFFFFFC000FFFFFFFF8000FFFFFFF80000>
	 41 41 -3 40 49] 66 @dc
[<
003FC3FF8001FFF3FF8003F03BFF8007E00FF80007E007F8000FE007F8000FE003F8000FE0
03F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8
000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000F
E003F8000FE003F800FFE03FF800FFE03FF800FFE03FF800>
	 33 27 -3 26 38] 117 @dc
[<
7FFF1FFFE0007FFF1FFFE0007FFF1FFFE00007F001FC000007F001FC000007F001FC000007
F001FC000007F001FC000007F001FC000007F001FC000007F001FC000007F001FC000007F0
01FC000007F001FC000007F001FC000007F001FC000007F001FC000007F001FC000007F001
FC000007F001FC000007F001FC000007F001FC000007F001FC000007F001FC0000FFFFFFFF
F800FFFFFFFFF800FFFFFFFFF80007F001FC000007F001FC000007F001FC000007F001FC00
0007F001FC000007F001FC000007F001FC000007F001FC07C007F001FC0FE003F801FC0FE0
01F801FE0FE000FC00FE0FE0007F80FF87C0001FFFEFFF800001FF81FE00>
	 43 42 -1 41 40] 11 @dc
[<
FFFFF01FFFFEFFFFF01FFFFEFFFFF01FFFFE03FC00007F8003FC00007F8003FC00007F8003
FC00007F8003FC00007F8003FC00007F8003FC00007F8003FC00007F8003FC00007F8003FC
00007F8003FC00007F8003FC00007F8003FC00007F8003FC00007F8003FC00007F8003FC00
007F8003FC00007F8003FFFFFFFF8003FFFFFFFF8003FFFFFFFF8003FC00007F8003FC0000
7F8003FC00007F8003FC00007F8003FC00007F8003FC00007F8003FC00007F8003FC00007F
8003FC00007F8003FC00007F8003FC00007F8003FC00007F8003FC00007F8003FC00007F80
03FC00007F80FFFFF01FFFFEFFFFF01FFFFEFFFFF01FFFFE>
	 47 41 -3 40 54] 72 @dc
[<
FFFE001FFFFEFFFE001FFFFEFFFE001FFFFE01C00000FF0001C00000FF0001E00001FF0000
E00001FE0000E00001FE0000700003FC0000700003FC0000780007FC00003FFFFFF800003F
FFFFF800001FFFFFF000001C000FF000001E001FF000000E001FE000000E003FE000000700
3FC0000007003FC0000007807FC0000003807F80000003C0FF80000001C0FF00000001C0FF
00000000E1FE00000000E1FE00000000F3FE0000000073FC0000000073FC000000003FF800
0000003FF8000000003FF8000000001FF0000000001FF0000000000FE0000000000FE00000
00000FE00000000007C00000000007C00000000003800000>
	 47 41 -2 40 52] 65 @dc
[<
001FE00000FFFC0003F01E0007E007000FC003801F8001C03F8001C07F8000007F0000007F
000000FF000000FF000000FF000000FF000000FF000000FF000000FF0000007F0000007F00
00007F800E003F801F001F803F800FC03F8007E03F8003F01F0000FFFE00001FF800>
	 26 27 -2 26 31] 99 @dc
@F7 @sf
[<
FFFF83FFFEFFFF83FFFE07F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0
001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001F
C007F0001FC007F0001FC007FFFFFFC007FFFFFFC007F0001FC007F0001FC007F0001FC007
F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F000
1FC007F0001FC007F0001FC0FFFF83FFFEFFFF83FFFE>
	 39 34 -2 33 44] 72 @dc
@F18 @sf
[<
FFF3FFC00F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F
003C000F003C000F003C000F003C000F003C000FFFFC000F003C000F003C000F003C000F00
3C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C00FFF3FF
C0>
	 26 28 -2 27 31] 72 @dc
@F16 @sf
[<
7FC7F0FFE7F87FC7F00E03800E03800E03800E03800E03800E03800E03800E03800E03800E
03800F03800F87800FFF000EFE000E3C000E00000E00000E00000E00007E0000FE00007E00
00>
	 21 25 0 24 22] 104 @dc

27 @eop0

0 0 27 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(5)-436 246 y @F2 @sf(In)m(ternal)41 b(Bu\013er)f(P)m(ac)m(k)-7 b(age)40 b
(In)m(terface)-1727 280 y @F6 @sf(5.1)70 b(Bu\013er)22 b(Header)h(Allo)r
(cati)o(on)-916 137 y @F18 @sf(In)10 b(this)h(section)g(w)o(e)g(discuss)g
(the)g(in)o(ternal)g(in)o(terface)g(and)f(im)o(plem)o(en)o(tation)f(of)h
(the)h(bu\013er)g(header)g(allo)q(cation)e(routines.)-1909 56 y(It)14 b
(is)g(these)i(routines)f(whic)o(h)f(are)h(used)g(to)f(mana)o(ge)f(the)i
(allo)q(cation)e(and)h(deallo)q(cation)f(of)g(bu\013er)j(headers)f
(\(although)-1910 57 y(w)o(e)f(presume)g(mostly)e(allo)q(cation.\))-566 
95 y(The)f(o)o(v)o(erall)f(mo)q(del)f(is)h(that)h(the)h(bu\013er)f(header)h
(allo)q(cator)e(uses)i(the)f(same)f(mem)o(ory)f(space)j(to)e(allo)q(cate)g
(bu\013er)i(headers)-1908 57 y(as)g(is)h(used)g(b)o(y)f(the)h(basic)g
(bu\013er)g(allo)q(cator.)k(Th)o(us,)12 b(when)h(a)f(new)h(blo)q(c)o(k)f
(of)g(mem)o(ory)f(is)h(needed)i(b)o(y)e(the)h(bu\013er)g(header)-1908 56 y
(allo)q(cator,)f(it)i(will)e(call)h(the)i(bu\013er)g(allo)q(cator)e(for)g
(additional)f(space.)-1109 136 y @F7 @sf(5.1.1)55 b(bu\013er)s 17 -2 z 17 x
(InitBufHeaderAll)o(o)r(cator)31 b @F18 @sf(|)13 b(Initialize)g(Bu\013er)i
(Header)g(Allo)q(cator)-1612 200 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 
16 -2 z 15 x(InitBufHeaderAllo)q(ca)q(tor)p @F16 @sf(\()1 56 y(IN)g(caddr)s 
13 -2 z 12 x(t)h(pool;)-344 57 y(IN)f(unsigned)f(length;)-415 56 y(\))-871 
200 y @F11 @sf(P)o(arameters)-192 108 y @F10 @sf(pool)i @F18 @sf(-)28 b
(The)14 b(mem)o(ory)f(p)q(o)q(ol)g(to)h(use)g(for)g(allo)q(cation)e(of)h
(bu\013er)i(headers.)-1187 75 y @F10 @sf(length)22 b @F18 @sf(-)28 b(The)
14 b(length)g(of)f(the)h(bu\013er)h(p)q(o)q(ol)f(area.)-908 169 y @F11 @sf
(Description)-262 182 y @F15 @sf(5.1)29 b(Bu\013er)15 b(Header)h(Allo)q
(cation)348 b(27)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
27 @eop1

28 @bop0
@F18 @sf
[<
7FC7FCFF800E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00
E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C
000E00E01C000E00E01C00FFFFFFFC000E00E000000E00E000000E00E000000E00E000000E
00E000000E00E018000E01E03C000701F03C000380F0180001C09C1800003F07E000>
	 33 29 0 28 35] 14 @dc
@F16 @sf
[<
7FFFE0FFFFE07FFFE01C00E01C00E01C00E01C00E01C00E01C00001C1C001C1C001FFC001F
FC001FFC001C1C001C1C001C00001C00001C01C01C01C01C01C01C01C07FFFC0FFFFC07FFF
C0>
	 19 25 -1 24 22] 69 @dc
@F7 @sf
[<
FFFF8000FFFF800007F0000007F0000007F0000007F0000007F0000007F0000007F0000007
F0000007F0000007F0000007F0000007F0000007F0000007FFFF0007FFFFE007F007F007F0
01FC07F000FC07F0007E07F0007E07F0007F07F0007F07F0007F07F0007F07F0007F07F000
7E07F0007E07F000FC07F001FC07F007F0FFFFFFE0FFFFFF00>
	 32 34 -2 33 38] 80 @dc
@F18 @sf
[<
FFF0000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F
00000FFF800F00E00F00780F003C0F001C0F001E0F001E0F001E0F001E0F001E0F001C0F00
3C0F00780F00E0FFFF80>
	 23 28 -2 27 28] 80 @dc

28 @eop0

0 0 28 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(Return)i
(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b
(bu\013er)f(header)h(p)q(o)q(ol)f(is)f(initiali)o(zed.)-835 71 y @F10 @sf
(BUF)s 14 -2 z 14 x(TOOSMALL)48 b @F18 @sf(the)14 b(amoun)o(t)d(of)i
(space)i(passed)f(is)f @F12 @sf(not)g @F18 @sf(su\016cien)o(t)h(to)f
(initialze)f(the)i(bu\013er)h(p)q(o)q(ol)d(area;)i(initial)o(-)-1714 57 y
(ization)f(did)g @F12 @sf(not)h @F18 @sf(o)q(ccur.)-591 203 y @F7 @sf
(5.1.2)55 b(bu\013er)s 17 -2 z 17 x(Allo)r(cBufHeader)31 b @F18 @sf(|)13 b
(Allo)q(cate)h(a)f(bu\013er)i(header)-1251 176 y @F16 @sf(struct)21 b
(buffer)f(*)p @F11 @sf(bu\013er)s 16 -2 z 15 x(Allo)q(cBufHeader)p @F16 @sf
(\()1 56 y(IN)h(caddr)s 13 -2 z 12 x(t)h(dataArea)o(;)-431 57 y(IN)f
(struct)g(bufPoolEn)o(try)f(*bpEntry;)-699 56 y(\))-890 176 y @F11 @sf(P)o
(arameters)-192 105 y @F10 @sf(dataArea)i @F18 @sf(-)27 b(the)15 b
(address)g(of)e(the)i(data)e(area)h(this)g(bu\013er)h(header)g(should)f(p)q
(oin)o(t)f(to.)-1401 71 y @F10 @sf(bpEntry)22 b @F18 @sf(-)27 b(the)15 b
(bu\013er)g(p)q(o)q(ol)e(in)o(to)g(whic)o(h)h(this)g(bu\013er)h(should)e
(b)q(e)i(placed.)-1302 149 y @F11 @sf(Description)-262 95 y @F18 @sf(This)e
(routine)g(allo)q(cates)g(a)g(bu\013er)g(header)h(to)f(asso)q(ciate)h
(with)f(the)g(giv)o(en)g(data)f(space)i @F10 @sf(dataArea)p @F18 @sf(.)j
(It)c(then)g(tak)o(es)h(the)-1909 57 y(bu\013er)h(header)g(and)e(places)i
(it)e(in)o(to)h(the)g(bu\013er)h(p)q(o)q(ol)e(data)h(structure)i(p)q(oin)o
(ted)e(to)f(b)o(y)h @F10 @sf(bpEntry)p @F18 @sf(.)-1575 95 y(If)20 b
(there)h(is)f(insu\016cien)o(t)h(mem)o(o)o(ry)e(for)h(allo)q(cation)f
(this)h(routine)g(will)f(\014rst)i(attempt)e(to)h(obtain)g(a)g(new)g(blo)q
(c)o(k)g(of)-1910 57 y(mem)o(ory)10 b(from)g(the)j(bu\013er)g(p)q(o)q(ol.)k
(If)11 b(no)h(additional)o 11 x(mem)o(ory)e(can)i(b)q(e)h(obtained,)e(the)i
(v)n(alue)e @F10 @sf(\(struct)23 b(buffer)g(*\)0)-1910 56 y @F18 @sf(is)
14 b(returned;)h(it)e(will)g(not)h(blo)q(c)o(k.)-524 131 y @F11 @sf
(Return)k(Co)q(des)-250 96 y @F10 @sf(\(struct)23 b(buffer)g(*\)0)50 b 
@F18 @sf(there)15 b(is)f(insu\016cien)o(t)g(mem)o(ory)e(to)i(allo)q(cate)f
(more)g(bu\013er)i(headers.)-1641 202 y @F7 @sf(5.1.3)55 b(GetBu\013erP)n
(o)r(ol)31 b @F18 @sf(|)14 b(Return)g(a)f(p)q(oin)o(ter)i(to)e(the)i
(appropriate)f(bu\013erP)o(o)q(ol)-1464 177 y @F16 @sf(struct)21 b
(bufferPo)o(olEnt)o(ry)f(*)p @F11 @sf(GetBu\013erP)o(o)q(ol)p @F16 @sf(\()p 
56 w(IN)h(u)s 13 -2 z 13 x(int32)g(bufSize;)o -409 57 a(\))-897 222 y 
@F15 @sf(5.1)29 b(Bu\013er)15 b(Header)h(Allo)q(cation)348 b(28)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
28 @eop1

29 @bop0
@F7 @sf
[<
FFFFFF8000FFFFFFF00007F003FC0007F0007E0007F0003F0007F0001F8007F0000FC007F0
0007E007F00007E007F00003F007F00003F007F00003F007F00003F807F00003F807F00003
F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F007
F00003F007F00003F007F00007F007F00007E007F00007E007F0000FC007F0001F8007F000
3F0007F0007E0007F003FC00FFFFFFF000FFFFFF8000>
	 37 34 -2 33 43] 68 @dc

29 @eop0

0 0 29 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(P)o
(arameters)-192 108 y @F10 @sf(bufSize)22 b @F18 @sf(-)27 b(the)15 b
(bu\013er)g(size)f(of)g(the)g(desired)h(bu\013er)g(p)q(o)q(ol.)-1040 168 y 
@F11 @sf(Description)-262 96 y @F18 @sf(This)f(routine)g(returns)h(a)f(p)q
(oin)o(ter)g(to)g(the)g(bu\013er)h(p)q(o)q(ol)e(of)h(the)g(requeste)q(d)h
(size.)-1273 135 y @F7 @sf(5.1.4)55 b(bu\013er)s 17 -2 z 17 x(Deallo)r
(cBufHe)o(ader)31 b @F18 @sf(|)13 b(Deallo)q(cate)h(a)f(bu\013er)i(header)
-1344 200 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(Deallo)q
(cB)q(ufHeader)p @F16 @sf(\()1 56 y(IN)g(struct)g(buffer)f(*bp;)-458 57 y
(\))-744 199 y @F11 @sf(P)o(arameters)-192 108 y @F10 @sf(bp)j @F18 @sf(-)k
(the)15 b(bu\013er)f(header)h(to)f(b)q(e)h(deallo)q(cated.)-830 169 y 
@F11 @sf(Description)-262 95 y @F18 @sf(This)i(routine)g(returns)h(a)e
(bu\013er)i(header)g(to)e(the)h(p)q(o)q(ol)g(of)f(free)h(bu\013er)h
(headers.)28 b(It)17 b @F12 @sf(do)n(es)h(not)f @F18 @sf(free)g(the)h
(asso)q(ciated)-1909 57 y(data)c(space.)-203 95 y(The)g(v)n(alue)g(of)f 
@F10 @sf(bp)g @F18 @sf(after)i(return)g(from)o 13 x(this)f(function)f(is)h
(unde\014ned.)-1096 144 y @F11 @sf(Return)k(Co)q(des)-250 96 y @F10 @sf
(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b(op)q(eration)e(completed)h
(success)q(fully)m(.)-930 273 y @F6 @sf(5.2)70 b(Bu\013er)22 b(Allo)r
(cati)o(on)-676 137 y @F7 @sf(5.2.1)55 b(bu\013er)s 17 -2 z 17 x(Allo)r
(cBu\013e)o(r)31 b @F18 @sf(|)14 b(Allo)q(cate)f(a)h(data)g(bu\013er)-1100 
199 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(Allo)q(cBu\013er)p 
@F16 @sf(\()p 57 w(IN)g(unsigned)g(bufSize;)o -1004 125 a @F15 @sf(5.2)29 b
(Bu\013er)15 b(Allo)q(c)q(ation)503 b(29)530 b(Marc)o(h)14 b(2,)h(1993)f
(14:04)-1911 b
29 @eop1

30 @bop0
@F18 @sf
[<
01800180018001804182F18F399C0FF003C003C00FF0399CF18F41820180018001800180>
	 16 18 -2 30 21] 42 @dc

30 @eop0
 
0 0 30 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1341 145 y @F16 @sf(IN)21 b
(unsigned)g(wait;)-372 57 y(OUT)g(struct)g(buffer)f(**bp;)-502 56 y(\))-589 
193 y @F11 @sf(P)o(arameters)-192 106 y @F10 @sf(bufSize)i @F18 @sf(-)27 b
(the)14 b(size)h(of)e(the)h(requeste)q(d)h(data)e(bu\013er;)h(m)o(ust)f(b)q
(e)h(one)g(of)f(the)h(allo)o(w)o(ed)f(sizes)i(\(see)g(the)f(discussion)-1712 
57 y(in)f(Section)h(4.1\).)-402 73 y @F10 @sf(wait)22 b @F18 @sf(-)28 b
(if)13 b(the)h(caller)g(of)f(this)h(routine)h(wishes)f(to)g(blo)q(c)o(k)f
(un)o(til)g(a)h(bu\013er)h(of)e(the)i(appropriate)f(size)g(is)g(a)o(v)n
(ail)o(able.)-1826 74 y @F10 @sf(bp)23 b @F18 @sf(-)j(the)14 b(p)q(oin)o
(ter)g(to)g(the)g(allo)q(cated)f(bu\013er.)19 b(This)13 b(v)n(alue)g(is)g
(\(struct)i(bu\013er)g(*\)0)e(if)g(it)g(cannot)g(b)q(e)i(allo)q(cated)e
(and)-1713 57 y @F10 @sf(wait)g @F18 @sf(is)h(zero.)-433 162 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)19 b(call)f(requests)i(the)g(allo)q
(cation)d(of)h(a)h(blo)q(c)o(k)f(of)g(the)i(sp)q(eci\014ed)g(size.)33 b
(Some)18 b(in)o(ternal)g(mo)q(dules)g(of)g(the)h(bu\013er)-1908 56 y(pac)o
(k)n(age)14 b(use)g(these)i(routines)e(for)g(in)o(ternal)f(mem)o(ory)f
(allo)q(cation;)g(these)k(in)o(ternal)d(callers)h(cannot)g(blo)q(c)o(k.)
-1702 96 y(If)f(this)g(routine)g(sleeps,)h(it)f(is)g(the)h(resp)q
(onsibilit)o(y)e(of)h(the)g(caller)g(to)g(c)o(hec)o(k)h(the)g(address)h
(hash)e(to)g(see)h(if)e(it)h(still)f(needs)j(a)-1910 56 y(new)f(blo)q(c)o
(k,)f(as)h(it)g(is)g(p)q(ossible)g(another)g(caller)g(created)h(the)g
(bu\013er)g(while)e(this)h(routine)g(blo)q(c)o(k)o(ed.)-1576 96 y(The)g
(returne)q(d)h(blo)q(c)o(k)e(is)h(not)g(initiali)o(zed.)-669 140 y @F11 @sf
(Return)k(Co)q(des)-250 95 y @F10 @sf(0)50 b @F18 @sf(the)15 b(routine)f
(did)f(not)h(blo)q(c)o(k.)-542 74 y @F10 @sf(1)50 b @F18 @sf(the)15 b
(routine)f(blo)q(c)o(k)o(ed.)-507 224 y @F7 @sf(5.2.2)55 b(bu\013er)s 17 
-2 z 17 x(Deallo)r(cBu\013)o(er)31 b @F18 @sf(|)13 b(Deallo)q(cate)h(a)f
(data)h(bu\013er)-1193 192 y @F16 @sf(void)21 b @F11 @sf(bu\013er)s 16 -2 z 
15 x(Deallo)q(c)q(Bu\013er)p @F16 @sf(\()p 57 w(IN)h(struct)e(buffer)h
(*bp;)-459 56 y(\))-617 193 y @F11 @sf(P)o(arameters)-192 106 y @F10 @sf
(bp)i @F18 @sf(-)k(the)15 b(bu\013er)f(to)g(b)q(e)h(returned)g(to)f(the)h
(free)f(list.)-918 202 y @F15 @sf(5.2)29 b(Bu\013er)15 b(Allo)q(c)q(ation)
503 b(30)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
30 @eop1

31 @bop0
@F7 @sf
[<
FFF00000C0FFF00001C006000003C006000003C006000007C00600000FC00600001FC00600
003FC00600007FC00600007FC0060000FFC0060001FEC0060003FCC0060007F8C0060007F0
C006000FF0C006001FE0C006003FC0C006007F80C00600FF00C00600FE00C00601FE00C006
03FC00C00607F800C0060FF000C0060FE000C0061FE000C0063FC000C0067F8000C006FF00
00C007FE0000C007FC0000C0FFFC001FFEFFF8001FFE>
	 39 34 -2 33 44] 78 @dc
[<
001800C000003800E000003C01E000007C01F000007E03F000007E03F00000FE03D80000FB
07D80001FB079C0001F38F8C0001F18F0C0003E18F060003E0DF060007E0DE070007C0DE03
0007C07E03000F807C01800F807C01800F807801801F007800C0FFE7FF07F8FFE7FF07F8>
	 37 22 -1 21 40] 119 @dc
@F7 @sf
[<
0001FF0000000FFFE000003F80F800007E001C0000FC000E0001F800060003F800030003F0
00030007F000018007F000018007F000018007F000018007F000018007F000018007F00001
8007F000018007F000018007F000018007F000018007F000018007F000018007F000018007
F000018007F000018007F000018007F000018007F000018007F000018007F000018007F000
018007F000018007F0000180FFFF803FFCFFFF803FFC>
	 38 34 -2 33 43] 85 @dc

31 @eop0

0 0 31 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)d(routine)g(returns)i(the)e(sp)q
(eci\014ed)i(bu\013er)f(in)o(to)e(the)h(p)q(o)q(ol)g(of)f(free)i(bu\013ers.)
19 b(This)13 b(includes)g(the)h(p)q(ossiblit)o(y)e(that)h(the)-1909 56 y
(data)i(space)h(ma)o -1 x(y)e(b)q(e)h(recycled)i(indep)q(enden)o(t)f(of)e
(the)i(bu\013er)g(header;)g(hence)g(referenc)q(es)q 16 x(to)f @F10 @sf(bp)g 
@F18 @sf(are)g(unde\014ned)h(after)-1909 57 y(return)f(from)d(this)i
(call.)-381 135 y @F7 @sf(5.2.3)55 b(bu\013er)s 17 -2 z 17 x(InitNewBu\013er)
31 b @F18 @sf(|)13 b(Initialize)g(a)g(new)i(bu\013er)g(and)e(put)h(in)g
(bu\013er)h(p)q(o)q(ol)-1588 202 y @F16 @sf(void)21 b @F11 @sf(bu\013er)s 
16 -2 z 15 x(InitNewBu\013er)p @F16 @sf(\()-1 57 y(IN)h(struct)e(buffer)h
(*bufferP)o(;)-568 56 y(IN)h(struct)e(bufferPoolE)o(ntry)o 21 x(*poolP;)
-721 57 y(\))-634 201 y @F11 @sf(P)o(arameters)-192 109 y @F10 @sf
(bufferP)i @F18 @sf(-)27 b(the)15 b(bu\013er)g(to)f(initial)o(ize.)-640 
75 y @F10 @sf(poolP)22 b @F18 @sf(-)28 b(the)14 b(bu\013er)h(p)q(o)q(ol)e
(in)h(whic)o(h)g(the)g(bu\013er)h(should)f(b)q(e)g(placed.)-1209 170 y 
@F11 @sf(Description)-262 96 y @F18 @sf(This)j(routine)g(initial)o(izes)f
(the)i(\014elds)f(of)f(the)i(bu\013er)f(and)g(places)h(it)e(in)g(the)i(p)q
(o)q(ol.)26 b(It)17 b(do)q(es)g @F12 @sf(not)g @F18 @sf(initiali)o(ze)f
(the)i(data)-1910 56 y(segmen)o(t,)13 b(whic)o(h)h(should)f(b)q(e)i(set)g
(up)f(b)o(y)f(the)i(caller.)-842 136 y @F7 @sf(5.2.4)55 b(UndeleteBu\013e)o
(r)31 b @F18 @sf(|)14 b(Safely)f(stop)h(using)g(a)f(bu\013er)-1090 202 y 
@F16 @sf(int32)21 b(UndeleteB)o(uffer)o(\()-1 56 y(IN)g(struct)g(buffer)f
(*bP;)-458 57 y(OUT)h(int)g(*sleptP;)-350 56 y(\))-480 202 y @F11 @sf(P)o
(arameters)-192 108 y @F10 @sf(bP)i @F18 @sf(-)k(the)15 b(p)q(oin)o(ter)f
(to)f(the)i(bu\013er)g(to)f(b)q(e)g(deleted.)-815 75 y @F10 @sf(sleptP)22 b 
@F18 @sf(-)28 b(an)13 b(optional)g(return)i(parameter)e(indicating)g(if)g
(the)i(call)e(slept.)-1229 75 y @F10 @sf(sleptP)22 b @F18 @sf(-)-250 184 y 
@F15 @sf(5.2)29 b(Bu\013er)15 b(Allo)q(c)q(ation)503 b(31)530 b(Marc)o(h)
14 b(2,)h(1993)f(14:04)-1911 b
31 @eop1

32 @bop0
@F7 @sf
[<
FFFF83FFFCFFFF83FFFC07F0003FC007F0007F8007F0007F0007F000FF0007F001FE0007F0
01FC0007F003F80007F007F80007F007F00007F00FE00007F01FE00007F01FC00007F83F80
0007FE7F800007F77F000007F3FE000007F1FE000007F0FC000007F038000007F018000007
F00E000007F007000007F003800007F001C00007F000E00007F000300007F000180007F000
0E0007F000070007F0000380FFFF803FFCFFFF803FFC>
	 38 34 -2 33 44] 75 @dc

32 @eop0

0 0 32 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1711 145 y @F18 @sf(This)h
(routine)h(is)g(used)g(to)g(\\delete")g(a)f(bu\013er)i(from)d(the)i(activ)o
(e)g(bu\013er)h(p)q(o)q(ol.)29 b(It)17 b(w)o(aits,)h(p)q(ending)g(an)o(y)
-1713 57 y(uncompleted)f(transactions)i(dep)q(ending)g(up)q(on)f(it.)31 b
(If)17 b(the)i(v)n(ariable)e @F10 @sf(sleptP)h @F18 @sf(is)g(v)n(alid,)o 
18 x(it)g(is)g(set)h(to)f(0)-1713 56 y(if)e(this)h(call)g(did)g(not)g(ha)o
(v)o(e)g(to)g(sleep,)i(or)e(1)g(if)f(this)i(call)e(did)h(sleep.)29 b(If)
17 b(the)h(v)n(ariable)e(is)h(not)g(v)n(alid,)f(this)-1712 56 y(inform)o
(ati)o(on)d(is)g(lost)h(to)g(the)g(caller.)-576 76 y(This)g(routine)h(is)g
(a)g(safe)g(mec)o(hanism)o 13 x(for)g(ma)o(rking)e(the)j(data)e(within)g
(a)h(bu\013er)g(as)g(no)g(longer)g(v)n(ali)o(d.)20 b(F)m(or)-1713 56 y
(instance,)e(when)f(unmoun)o(ting)e(and)i(remoun)o(ting)e(a)i(\014lesystem,)g
(the)h(bu\013ers)g(for)f(that)g(device)h(ma)o -1 x(y)e(no)-1713 56 y
(longer)d(con)o(tain)g(correct)i(informati)o(on.)h(It)e(is)g(safe)f(in)h
(that)f(the)h(routine)g(do)q(es)h(not)e(return)i(un)o(til)e(the)h(data)-1713 
57 y(is)f(truly)h(in)o(v)n(ali)o(dated.)-355 125 y @F11 @sf(Return)j(Co)q
(des)-263 75 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(The)14 b
(bu\013er)h(has)f(b)q(een)h(succe)q(ssfully)f(deleted.)-981 175 y(As)g(w)o
(ell,)f(error)i(return)g(co)q(des)g(from)o 13 x(log)r 12 -2 z 12 x(F)m
(orce)f(are)g(propigated)g(to)g(the)g(caller)g(of)f(this)h(routine.)-1751 
170 y @F11 @sf(Description)-262 136 y @F7 @sf(5.2.5)55 b(bu\013er)s 17 -2 z 
17 x(SetKill)o(ed)31 b @F18 @sf(|)13 b(Mark)h(a)g(bu\013er)h(as)f(in)o(v)n
(ali)o(d)-1085 202 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x
(SetKilled)p @F16 @sf(\()1 56 y(IN)h(struct)e(buffer)h(*bP;)-459 57 y(\))
-538 202 y @F11 @sf(P)o(arameters)-192 108 y @F10 @sf(bP)i @F18 @sf(-)k
(the)15 b(p)q(oin)o(ter)f(to)f(the)i(bu\013er)g(to)f(b)q(e)g(deleted.)-885 
170 y @F11 @sf(Description)-262 95 y @F18 @sf(This)f(routine)h(is)f(used)i
(to)e(mark)f(a)h(disk)g(bu\013er)i(in)e(the)h(bu\013er)g(p)q(o)q(ol)f(for)g
(remo)o(v)n(al)o(.)k(The)d(data)f(in)g(this)g(bu\013er,)h(if)f(found)-1910 
57 y(on)h(a)f(subsequen)q -1 x(t)i(read)f(op)q(eration,)g(will)e(not)i(b)q
(e)g(used.)-895 96 y(This)h(call)f(should)h(only)f(b)q(e)i(used)g(on)e
(bu\013ers)j(where)f(there)g(are)g(no)e(p)q(ending)h(op)q(erations)h(on)e
(the)i(bu\013er)g(itself.)21 b(The)-1909 56 y(call)13 b(fails)g
(otherwise.)-345 96 y(See)i(also)e @F12 @sf(bu\013er)s 14 -2 z 14 x(Kil)r
(l)g @F18 @sf(in)h(section)g(5.2.6.)-661 284 y @F15 @sf(5.2)29 b(Bu\013er)
15 b(Allo)q(c)q(ation)503 b(32)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
32 @eop1

33 @bop0

33 @eop0
0 0 33 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(Return)i
(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b
(bu\013er)f(has)g(b)q(een)h(succe)q(ssfully)g(killed.)-883 75 y @F10 @sf
(BUF)s 14 -2 z 14 x(CANTDELETE)49 b @F18 @sf(the)14 b(bu\013er)h(still)e
(has)h(activ)o(e)g(referenc)q(es)q 15 x(and)g(cannot)g(b)q(e)g(deleted.)
-1517 235 y @F7 @sf(5.2.6)55 b(bu\013er)s 17 -2 z 17 x(Kill)31 b @F18 @sf
(|)13 b(Remo)o(v)o(e)f(a)i(bu\013er)h(from)d(the)j(bu\013er)f(p)q(o)q(ol)
-1190 202 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(Kill)p 
@F16 @sf(\()1 57 y(IN)g(struct)g(async)s 13 -2 z 12 x(device)f(*dP;)-583 
56 y(IN)h(daddr)s 13 -2 z 12 x(t)h(blkno;)-366 56 y(IN)f(logTranRec)r 13 
-2 z 12 x(t)h(tranId;)-497 57 y(IN)f(int)g(logRequest;)-394 56 y(\))-412 
202 y @F11 @sf(P)o(arameters)-192 108 y @F10 @sf(dP)i @F18 @sf(-)-85 75 y 
@F10 @sf(blkno)f @F18 @sf(-)-156 76 y @F10 @sf(tranId)g @F18 @sf(-)-180 
75 y @F10 @sf(logRequest)g @F18 @sf(-)-346 170 y @F11 @sf(Description)-262 
96 y @F18 @sf(This)12 b(call)g(is)g(used)h(to)f(remo)o(v)o(e)f(the)i(sp)q
(eci\014ed)h(bu\013er)f(from)e(the)i(bu\013er)g(p)q(o)q(ol.)k(The)12 b
(data)g(con)o(tained)h(within)e(this)h(bu\013er)-1908 56 y(is)i(no)f
(longer)h(considered)h(v)n(alid)e(and)g(the)i(bu\013er)g(is)e(returne)q(d)i
(to)f(the)g(free)h(list.)-1279 96 y(A)f(new)g(read)h(request)g(for)f(the)g
(sp)q(eci\014ed)i(bu\013er)e(will)f(force)h(a)g(disk)g(read.)-1179 145 y 
@F11 @sf(Return)k(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b 
@F18 @sf(the)15 b(bu\013er)f(has)g(b)q(een)h(remo)o(v)o(ed)e(from)g(the)h
(list)f(of)h(activ)o(e)g(bu\013ers.)-1253 75 y @F10 @sf(BUF)s 14 -2 z 14 x
(CANTDELETE)49 b @F18 @sf(the)14 b(bu\013er)h(still)e(has)h(activ)o(e)g
(referenc)q(es)q 15 x(and)g(cannot)g(b)q(e)g(killed.)-1488 195 y(Also,)f
(error)i(co)q(des)g(from)d @F12 @sf(lo)n(g)s 14 -2 z 13 x(Write)j @F18 @sf
(are)f(propigated)g(bac)o(k)g(to)f(the)i(caller)f(of)f(this)h(routine.)-1492 
219 y @F15 @sf(5.3)29 b(Miscell)q(aneous)573 b(33)530 b(Marc)o(h)14 b(2,)h
(1993)f(14:04)-1911 b
33 @eop1

34 @bop0
@F7 @sf
[<
0007FC0000003FFF800000FC07E00003F001F80007E000FC000FC0007E001F80003F003F80
003F803F00001F807F00001FC07F00001FC07E00000FC0FE00000FE0FE00000FE0FE00000F
E0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE07E00000FC07E
00000FC07F00001FC03F00001F803F00001F801F80003F001F80003F000FC0007E0007E000
FC0003F001F80000FC07E000003FFF80000007FC0000>
	 35 34 -3 33 42] 79 @dc

34 @eop0

0 0 34 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F6 @sf(5.3)70 b
(Miscel)o(l)o(aneous)-572 137 y @F7 @sf(5.3.1)55 b(bu\013er)s 17 -2 z 17 x
(Destro)n(yArena)32 b @F18 @sf(|)13 b(Destro)o(y)h(curren)o(t)i(bu\013er)f
(arena)-1280 198 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x
(Destro)o(yA)o(rena)p @F16 @sf(\()-1 56 y(\))-646 198 y @F18 @sf(This)14 b
(call)f(freezes)j(the)e(en)o(tire)h(I/O)f(system,)f(writes)i(all)d(mo)q
(di\014ed)h(bu\013ers,)h(and)g(re-initializes)f(all)g(data)h(structures)q
(.)-1877 96 y(This)f(routine)g(do)q(es)g @F12 @sf(not)g @F18 @sf(return)h
(up)q(on)f(failure.)k(It)c(will)e(fail)g(if)h(there)i(are)g(an)o(y)e
(activ)o(e)h(transactions)g(within)f(the)i(en)o(tire)-1909 56 y(system.)
-136 96 y(The)19 b(purp)q(ose)h(of)e(this)g(routine)h(is)g(to)f(allo)o(w)f
(reinitializatio)o(n)g(early)i(in)f(the)h(start-up)g(of)f(the)i(ma)o(c)o
(hine.)31 b(It)19 b(is)g(not)-1910 56 y(in)o(tended)14 b(to)g(b)q(e)h
(used)g(in)e(a)h(running)f(system)h(\(e.g.)k(the)c(restriction)h(up)q(on)f
(the)g(activ)o(e)g(transactions.\))-1657 96 y(This)g(call)f(is)h(curren)o
(tly)g(not)g(impl)o(em)o(en)o(ted.)-708 143 y @F11 @sf(Return)k(Co)q(des)
-250 95 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(The)14 b(arena)g
(has)h(b)q(een)g(reinitiali)o(zed.)-852 231 y @F7 @sf(5.3.2)55 b(bu\013er)s 
17 -2 z 17 x(GetOldestDataP)n(age)32 b @F18 @sf(|)13 b(Find)h(the)g
(oldest)g(activ)o(e)g(bu\013er)-1423 198 y @F16 @sf(void)21 b @F11 @sf
(bu\013er)s 16 -2 z 15 x(GetOldestData)q(P)o(age)p @F16 @sf(\()1 56 y
(struct)f(buffer)h(**bPP;)-437 56 y(\))-760 198 y @F11 @sf(P)o(arameters)
-192 108 y @F10 @sf(bPP)h @F18 @sf(-)28 b(p)q(oin)o(ter)14 b(to)g(b)q(e)g
(set)h(to)f(the)g(oldest)g(data)g(page)g(in)f(the)i(system.)-1211 167 y 
@F11 @sf(Description)-262 95 y @F18 @sf(This)d(routine)h(is)f(used)h(to)f
(k)o(eep)h(trac)o(k)g(of)f(the)h(oldest)f(mo)q(di\014ed)f(data)h(page)g
(in)g(mem)o(ory)m(.)o 17 x(This)g(inform)o(ation)e(is)j(used)g(in)-1910 
57 y(the)g(log)f(pac)o(k)n(age)g(to)g(facilitate)g(in)g(rapid)g(reco)o(v)o
(ery)i(b)o(y)e(lim)o(iti)o(ng)f(the)i(amoun)o(t)e(of)h(log)g(needing)h(to)f
(b)q(e)h(repla)o(y)o(ed/rolled-)-1910 56 y(bac)o(k.)-95 125 y @F15 @sf
(5.3)29 b(Miscell)q(aneous)573 b(34)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)
-1911 b
34 @eop1

35 @bop0
@F7 @sf
[<
FFE00000FFE000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F
0000001F0FC0001F3FF8001FE0FC001FC03E001F803F001F001F801F001F801F000FC01F00
0FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F001F801F001F801F001F
001F803E001FF07C00FF3FF800FF0FE000>
	 26 32 -2 21 31] 112 @dc
@F7 @sf
[<
0000E0000E00000000E0000E00000000F0001E00000001F0001F00000001F0001F00000003
F8003F80000003F8003F80000003FC007F80000007FC007FC0000007FC007FC000000FF600
FFE000000FE600FE6000000FE600FE6000001FE301FC3000001FC301FC3000001FC383FC30
00003F8183F81800003F8183F81800007F80C7F81C00007F00C7F00C00007F00C7F00C0000
FF006FE0060000FE006FE0060000FE007FE0060001FC003FC0030001FC003FC0030003FC00
3F80038003F8003F80018003F8007F80018007F0007F0000C007F0007F0000C00FF000FF00
00E0FFFF0FFFF01FFEFFFF0FFFF01FFE>
	 55 34 -1 33 58] 87 @dc
@F11 @sf
[<
00018000300000000380003800000003C0007800000007C0007C00000007C0007C00000007
E000FC0000000FE000FE0000000FF001FE0000000FF001FE0000001FB001FB0000001F9803
F30000003F9803F38000003F1803F18000003F0C07E18000007E0C07E0C000007E0E0FE0C0
00007E060FC0C00000FC060FC0600000FC031F80600001FC031F80700001F8031F80300001
F801BF00300003F001BF00180003F001FF00180003F000FE00180007E000FE000C0007E000
FE000C000FE000FC000E000FC000FC000E00FFFE0FFFC0FFE0FFFE0FFFC0FFE0>
	 51 31 -1 30 54] 87 @dc

35 @eop0

0 0 35 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F7 @sf(5.3.3)55 b
(bu\013er)s 17 -2 z 17 x(SetT)n(yp)r(e)31 b @F18 @sf(|)13 b(Set)i(bu\013er)g
(t)o(yp)q(e)f(and)g(adjust)g(bu\013er)h(\015ags)-1317 191 y @F16 @sf(void)
21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(SetT)o(yp)q(e)p @F16 @sf(\()p 56 w
(struct)f(buffer)h(*bP;)-393 57 y(enum)g(buffer)s 13 -2 z 11 x(bufType)g
(bt;)-496 56 y(\))-496 191 y @F11 @sf(P)o(arameters)-192 106 y @F10 @sf
(bP)i @F18 @sf(-)k(bu\013er)15 b(to)f(set.)-344 74 y @F10 @sf(bt)23 b 
@F18 @sf(-)k(bu\013er)15 b(t)o(yp)q(e)f(to)g(use.)-514 160 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)f(routine)h(is)f(used)i(to)e(set)i
(the)f(bu\013er)g(t)o(yp)q(e)g(and)g(adjust)f(the)h(appropriate)g(\014elds)g
(within)e(the)i(bu\013er)h(structure)q 15 x(to)-1910 56 y(b)q(e)f
(consisten)o(t)i(with)d(the)i(bu\013er)f(t)o(yp)q(e.)-625 135 y @F7 @sf
(5.3.4)55 b(bu\013er)s 17 -2 z 17 x(W)-5 b(rite)31 b @F18 @sf(|)14 b(Sc)o
(hedule)h(a)e(write)h(on)g(a)g(bu\013er)-1071 191 y @F16 @sf(int32)21 b 
@F11 @sf(bu\013er)s 16 -2 z 15 x(W)l(rite)p @F16 @sf(\()-1 56 y(struct)g
(buffer)g(*bP;)-394 56 y(\))-457 191 y @F11 @sf(P)o(arameters)-192 107 y 
@F10 @sf(bP)i @F18 @sf(-)k(the)15 b(bu\013er)f(to)g(write.)-527 160 y 
@F11 @sf(Description)-262 96 y @F18 @sf(This)c(routine)h(is)f(called)g(to)g
(actuall)f(sc)o(hedule)j(the)f(write)f(to)g(disk.)17 b(Because)12 b(the)f
(bu\013er)g(pac)o(k)n(age)f(uses)i(a)e(lazy-writebac)o(k)-1910 56 y(mo)q
(de,)i(this)i(routine)g(is)f(only)g(called)g(b)o(y)h @F12 @sf(bu\013er)s 
14 -2 z 14 x(R)n(ele)n(ase)e @F18 @sf(when)i(the)g(writebac)o(k)g(mo)q(de)f
(is)h(sync)o(hronous.)k(Otherwise,)-1908 57 y(the)c(bu\013er)h(pac)o(k)n
(age)e(w)o(aits)h(to)f(write)h(the)g(bu\013er)h(for)f(as)f(long)g(as)h(p)q
(ossible,)f(th)o(us)h(allo)o(wing)e(us)i(to)g(mi)o(nim)n(ize)f(disk)g(I/O)
-1909 56 y(tra\016c.)-118 96 y(If)h(the)g(bu\013er)h(passed)g(is)f(not)f
(dirt)o(y)m(,)g(this)h(call)f(returns)i(succe)q(ss)h(im)o(m)o(ediately)l
(.)-1263 95 y(Otherwise,)f(the)f(I/O)g(is)g(sc)o(heduled)h(on)f(the)g
(bu\013er.)-836 179 y @F15 @sf(5.3)29 b(Miscell)q(aneous)573 b(35)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
35 @eop1

36 @bop0
@F6 @sf
[<
007FFFF8007FFFF8007FFFF80000FE000000FE000000FE000000FE000000FE000000FE0000
00FE000000FE00FFFFFFF8FFFFFFF8FFFFFFF8E0007E0070007E0038007E001C007E000E00
7E000E007E0007007E0003807E0001C07E0000E07E0000E07E0000707E0000387E00001C7E
00000E7E00000E7E0000077E000003FE000001FE000000FE000000FE0000007E0000003E00
00001E0000000E00>
	 29 39 -2 38 34] 52 @dc
[<
FFFFFFFC0000FFFFFFFF8000FFFFFFFFE00003FC001FF80003FC0003FC0003FC0001FE0003
FC00007F0003FC00007F8003FC00003FC003FC00001FC003FC00001FE003FC00001FE003FC
00000FF003FC00000FF003FC00000FF003FC00000FF803FC00000FF803FC00000FF803FC00
000FF803FC00000FF803FC00000FF803FC00000FF803FC00000FF803FC00000FF803FC0000
0FF803FC00000FF003FC00000FF003FC00000FF003FC00000FF003FC00001FE003FC00001F
E003FC00001FC003FC00003FC003FC00007F8003FC0000FF0003FC0001FE0003FC0007FC00
03FC001FF800FFFFFFFFE000FFFFFFFF8000FFFFFFF80000>
	 45 41 -3 40 53] 68 @dc
[<
C01FF000E0FFFE00F3FFFF00FFE01F80FF0007C0FC0003E0F80003F0F00001F0F00001F0E0
0001F8E00001F8E00001F8600001F8000003F8000007F800000FF800007FF00007FFF000FF
FFE003FFFFE007FFFFC00FFFFF801FFFFE003FFFFC007FFFE0007FFE0000FFC00000FF0000
00FE0000E0FE0000E0FC0000E0FC0001E0FC0001E07C0001E07C0003E03E0007E01F001FE0
0F807FE007FFF9E003FFF0E0007F8060>
	 29 41 -4 40 38] 83 @dc
[<
007FF00003FFFE000FC01F801F0007C03C0001E07C0001F0F80000F8F80000F8F80000F8F8
0000F87C0001F83E0007F01FFFFFF007FFFFE00FFFFFC01FFFFF801FFFFF003FFFF8003E00
00003C000000380000003800000018FF80001FFFE0000FC1F8001F80FC001F007C003F007E
007F007F007F007F007F007F007F007F007F007F007F007F003F007E101F007C381F80FC7C
0FC1FE7C03FFE7F800FF81F0>
	 30 40 -2 26 34] 103 @dc
[<
FFFE1FFFC3FFF8FFFE1FFFC3FFF8FFFE1FFFC3FFF80FE001FC003F800FE001FC003F800FE0
01FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC
003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F
800FE001FC003F800FE001FC003F800FE001FC003F800FF001FE003F800FF001FE003F800F
D801FF003F800FCC01F9803F000FC603F8C07F00FFC383F0707E00FFC1FFE03FFC00FFC07F
800FF000>
	 53 27 -3 26 58] 109 @dc

36 @eop0

0 0 36 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(Return)i
(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(The)14 b
(bu\013er)h(has)f(b)q(een)h(sc)o(heduled)g(for)f(write.)-989 195 y(This)h
(routine)h(also)f(propigates)h(errors)g(from)e(the)i(Async)o(hronous)h
(I/O)e(mo)q(dule.)22 b(See)16 b @F11 @sf(DCE)k(LFS)15 b @F18 @sf(Async)o
(hronous)-1908 56 y(Disk)e(I/O)h(Design)g(Sp)q(eci\014cation)g(for)g(more)f
(inform)o(ati)o(on.)-948 136 y @F7 @sf(5.3.5)55 b(bu\013er)s 17 -2 z 17 x
(W)-5 b(aitF)g(orW)g(rite)32 b @F18 @sf(|)13 b(W)m(ait)f(for)i(a)g(p)q
(ending)g(write)g(to)f(complete)-1437 202 y @F16 @sf(int32)21 b @F11 @sf
(bu\013er)s 16 -2 z 15 x(W)l(aitF)l(orW)l(rite)p @F16 @sf(\()p 56 w
(struct)f(buffer)h(*bP;)-393 57 y(\))-644 202 y @F11 @sf(P)o(arameters)-192 
108 y @F10 @sf(bP)i @F18 @sf(-)k(the)15 b(bu\013er)f(against)g(whic)o(h)f
(to)h(blo)q(c)o(k.)-793 170 y @F11 @sf(Description)-262 96 y @F18 @sf
(This)f(routine)g(is)g(called)g(to)f(blo)q(c)o(k)h(on)g(a)f(p)q(ending)h
(I/O)g(for)g(the)h(sp)q(eci\014ed)g(bu\013er.)19 b(It)13 b(do)q(es)g(not)g
(sc)o(hedule)i(the)e(I/O)g(\(see)-1908 56 y(Section)h(5.3.4)e(for)i
(inform)o(ation)e(ab)q(out)i @F12 @sf(bu\013er)s 14 -2 z 14 x(Write)p 
@F18 @sf(.\))-924 146 y @F11 @sf(Return)k(Co)q(des)-250 95 y @F10 @sf(BUF)s 
14 -2 z 14 x(OK)50 b @F18 @sf(The)14 b(bu\013er)h(has)f(b)q(een)h
(written.)-776 195 y(This)g(routine)h(also)f(propigates)h(errors)g(from)e
(the)i(Async)o(hronous)h(I/O)e(mo)q(dule.)22 b(See)16 b @F11 @sf(DCE)k
(LFS)15 b @F18 @sf(Async)o(hronous)-1908 57 y(Disk)e(I/O)h(Design)g(Sp)q
(eci\014cation)g(for)g(more)f(inform)o(ati)o(on.)-948 95 y(This)h(routine)g
(ab)q(orts)g(op)q(eration)g(if)f(no)h(write)g(is)g(p)q(ending)g(on)f(the)i
(sp)q(eci\014ed)g(bu\013er.)-1366 177 y @F6 @sf(5.4)70 b(Data)23 b
(Structure)f(Manag)q(emen)n(t)-1024 137 y @F18 @sf(The)16 b(bu\013er)h(p)q
(o)q(ol)f(is)f(main)o(tai)o(ned)g(b)o(y)h(w)o(a)o(y)f(of)g(sev)o(eral)i
(data)e(structur)q(es)q(;)j(these)f(data)e(structur)q(es)q 17 x(are)h
(access)q(ed)i(and)-1910 56 y(mai)o(n)o(tained)13 b(b)o(y)g(w)o(a)o(y)g
(of)h(calls)f(within)g(this)h(section.)-843 186 y @F15 @sf(5.4)29 b(Data)
14 b(Structure)i(Managemen)o(t)272 b(36)530 b(Marc)o(h)14 b(2,)h(1993)f
(14:04)-1911 b
36 @eop1

37 @bop0
@F18 @sf
[<
60F0F0600000000000000000000060F0F060>
	 4 18 -4 17 12] 58 @dc
@F7 @sf
[<
0000001E000000007F000000007F80000000FFC0000000FFC0000001FFC0000001FFE00000
01E0E0000001C02000000380200007FF8020003FFF800000FF07E00003F607F80007E606FC
000FC70C7E001F83F83F003F81F03F803F00001F807F00001FC07F00001FC07E00000FC0FE
00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE0000
0FE0FE00000FE07E00000FC07E00000FC07F00001FC03F00001F803F00001F801F80003F00
1F80003F000FC0007E0007E000FC0003F001F80000FC07E000003FFF80000007FC0000>
	 35 44 -3 33 42] 81 @dc
@F11 @sf
[<
000000F0000001F8000003FC000007FE000007FE000007FF00000FFF00000F0700000E0300
1FFE0300FFFF0001F81F8007F81FE00FD833F01F8FE1F83F87C1FC3F0000FC7F0000FE7E00
007E7E00007EFE00007FFE00007FFE00007FFE00007FFE00007FFE00007FFE00007FFE0000
7FFE00007F7E00007E7F0000FE7F0000FE3F0000FC1F8001F81F8001F80FC003F007E007E0
01F81F8000FFFF00001FF800>
	 32 40 -3 30 39] 81 @dc

37 @eop0

0 0 37 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F7 @sf(5.4.1)55 b
(Bu\013er)18 b(Aging)-487 122 y @F18 @sf(In)13 b(order)h(to)f(p)q(erform)f
(reco)o(v)o(ery)i(as)f(e\016cien)o(tly)g(as)h(p)q(ossible,)f(the)g(v)n
(arious)g(logged)f(bu\013ers)j(are)e(mai)o(n)o(tained)f(in)h(an)f @F12 @sf
(age)-1909 57 y(queue)p @F18 @sf(.)18 b(The)d(basic)f(rules)g(for)g(mai)o
(n)o(taini)o(ng)e(this)i(queue)h(are)f(simple:)-1062 117 y(1.)22 b(A)15 b
(bu\013er)g(is)g(placed)g(at)g(the)g(tail)f(of)g(the)h(age)g(queue)h(when)f
(it)f(is)h(mo)q(di\014ed)e(if)h(and)h(only)f(if)g(it)g(is)h @F12 @sf(not)f 
@F18 @sf(curren)q -1 x(tly)-1795 56 y(on)f(the)i(age)f(queue)g(and)g(is)g
(b)q(eing)g(logged.)-739 86 y(2.)22 b(Once)15 b(on)e(the)i(age)f(queue,)g
(a)g(bu\013er)g(is)g @F12 @sf(not)g @F18 @sf(remo)o(v)o(ed)f(un)o(til)g
(after)h(it)g(has)g(b)q(een)h(success)q(fully)f(written)g(to)g(disk.)-1904 
117 y(By)f(ordering)g(bu\013ers)h(in)e(this)g(manner,)g(w)o(e)h(can)g
(quic)o(kly)e(determine)i(whic)o(h)f(bu\013er)i(is)e(the)i @F12 @sf
(oldest)p @F18 @sf(.)j(This)12 b(informa)o(tion)-1911 56 y(is)j(used)h(b)o
(y)f(the)g(logger)g(when)g(writing)f(out)h(the)h(log)e(page)h(headers)h
(\(and)f(later)g(b)o(y)g(the)h(reco)o(v)o(ery)g(system)e(to)h(b)q(ound)-1909 
57 y(the)f(scop)q(e)i(of)d(the)h(neces)q(sary)h(reco)o(v)o(ery)m(.\))-660 
132 y @F7 @sf(5.4.1.1)55 b(bu\013er)s 17 -2 z 16 x(AgeEnQ)33 b @F18 @sf(|)
13 b(Add)h(a)g(bu\013er)h(to)e(the)i(age)f(queue)-1217 169 y @F16 @sf
(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x(AgeEnQ)p @F16 @sf(\()p 57 w
(IN)g(struct)g(buffer)f(*bp;)-458 56 y(\))-520 169 y @F11 @sf(P)o
(arameters)-192 104 y @F10 @sf(bp)j @F18 @sf(-)k(the)15 b(bu\013er)f(whic)o
(h)g(is)g(to)g(b)q(e)g(added)g(to)g(the)h(age)e(queue.)-1074 146 y @F11 @sf
(Description)-262 95 y @F18 @sf(This)h(routine)g(c)o(hec)o(ks)i(to)e(see)h
(if)e(the)i(bu\013er)g(is)f(already)g(on)g(the)h(age)f(queue;)h(if)e(it)h
(is,)f(it)h(returns.)20 b(If)14 b(it)g(is)g(not,)f(it)h(adds)-1909 57 y
(it)g(to)f(the)i(tail)e(of)g(the)h(age)g(queue.)-546 129 y @F11 @sf
(Return)k(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf
(The)14 b(bu\013er)h(is)f(no)o(w)f(a)h(mem)o -1 x(b)q(er)f(of)h(the)g(age)g
(queue.)-1092 199 y @F7 @sf(5.4.1.2)55 b(bu\013er)s 17 -2 z 16 x(AgeDeQ)
32 b @F18 @sf(|)14 b(Remo)n(v)o(e)f(a)h(bu\013er)g(from)f(the)h(age)g
(queue)-1330 169 y @F16 @sf(int32)21 b @F11 @sf(bu\013er)s 16 -2 z 15 x
(AgeDeQ)p @F16 @sf(\()-1 56 y(IN)h(struct)e(buffer)h(*bp;)-459 57 y(\))-520 
215 y @F15 @sf(5.4)29 b(Data)14 b(Structure)i(Managemen)o(t)272 b(37)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
37 @eop1

38 @bop0
@F7 @sf
[<
FFE0FFC0FFE0FFC01F003C001F007C001F00F8001F01F0001F01E0001F03E0001F07C0001F
0F80001FCF00001FFF00001F7E00001F1C00001F0E00001F0700001F0380001F01C0001F00
60001F0038001F00FF801F00FF801F0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F0000001F000000FF000000FF000000>
	 26 35 -2 34 30] 107 @dc

38 @eop0

0 0 38 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F18 @sf(This)g
(routine)g(c)o(hec)o(ks)h(to)e(see)i(if)e(the)i(bu\013er)f(is)g(on)f(the)i
(age)f(queue;)h(if)e(it)g(is)h(not,)f(it)h(returns.)25 b(If)15 b(it)h(is,)f
(it)h(remo)o(v)o(es)f(it)-1910 57 y(from)d(the)j(age)e(queue)i(and)f
(adjusts)g(the)h(queue)f(appropriately)m(.)-1028 145 y @F11 @sf(Return)k
(Co)q(des)-250 96 y @F10 @sf(BUF)s 14 -2 z 14 x(OK)50 b @F18 @sf(The)14 b
(bu\013er)h(is)f(not)g(no)o(w)f(a)h(mem)o -1 x(b)q(er)f(of)g(the)i(age)f
(queue.)-1166 255 y @F7 @sf(5.4.2)55 b(Disk)18 b(Address)h(Hashing)-715 
124 y(5.4.3)55 b(F)-5 b(ree)18 b(List)g(Managemen)n(t)-723 1897 y @F15 @sf
(5.4)29 b(Data)14 b(Structure)i(Managemen)o(t)272 b(38)530 b(Marc)o(h)14 b
(2,)h(1993)f(14:04)-1911 b
38 @eop1

39 @bop0
@F1 @sf
[<
0000FFC0000007FFF800001FFFFE00007FFFFF0000FF80FFC001FE003FE003FC001FF007FC
001FF00FF8001FF80FF8000FFC1FF8000FFC1FF0000FFE3FF0000FFE3FF0000FFE3FF0000F
FF7FF0000FFF7FF0000FFF7FF0000FFF7FF0000FFF7FF0000FFFFFF0000FFFFFF0000FFFFF
F0000FFFFFF0000FFEFFF8000FFEFFF8000FFEFFF8000FFCFFF8000FFCFFFC000FF8FFFC00
1FF0FFFE001FF0FFF6003FE0FFF3807F80FFF1F7FF00FFF0FFFE007FF07FF0007FF0000000
7FF00000007FF00000003FF00000003FF00000003FF80007C01FF8000FE01FF8001FF00FF8
003FF80FFC003FF807FC003FF803FC003FF801FE001FF800FF000FF0007F0007F0003FC001
F0001FE001E0000FFC07C00003FFFF8000007FFF0000000FF800>
	 40 57 -4 55 49] 54 @dc
@F2 @sf
[<
FFFFFFFFFFFFFFC0FFFFFFFFFFFFFFC0FFFFFFFFFFFFFFC0FFFFFFFFFFFFFFC0FFFFFFFFFF
FFFFC0001FFFC0007FFFE0001FFFC0000FFFE0001FFFC00003FFE0001FFFC00000FFE0001F
FFC000007FE0001FFFC000003FE0001FFFC000001FE0001FFFC000001FE0001FFFC000000F
E0001FFFC0000007F0001FFFC0000007F0001FFFC0000003F0001FFFC0000003F0001FFFC0
000003F0001FFFC0000001F0001FFFC0000001F0001FFFC0000001F0001FFFC0000001F000
1FFFC0000001F0001FFFC0000000F8001FFFC0000000F8001FFFC0000000F8001FFFC00000
00F8001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFF
C000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000
001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000
000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001F
FFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC0000000
00001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC0
00000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC00000000000
1FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC00000
0000001FFFC000000000FFFFFFFFFF000000FFFFFFFFFF000000FFFFFFFFFF000000FFFFFF
FFFF000000FFFFFFFFFF000000>
	 61 71 -4 70 71] 76 @dc
@F6 @sf
[<
003FC00000FFF00003FFFC0007E07E000FC03F001F803F801F801FC03F001FC03F001FE07F
001FE07F001FE07F001FE07F001FE0FF001FE0FF001FE0FF001FE0FF001FC0FF801FC0FF80
1F80FFC03F00FFC03E00FF707C00FF3FF800FF0FC000FF0000007F0000007F0000007F0000
003F8000003F801F001F803F801FC03F800FC03F8007E03F8003F01F8001FC0F0000FFFE00
003FFC000007F000>
	 27 39 -3 38 34] 54 @dc
[<
FFFFFFFF00FFFFFFFF00FFFFFFFF0003FC01FF0003FC007F8003FC001F8003FC000F8003FC
000F8003FC00078003FC00078003FC00038003FC00038003FC0003C003FC0001C003FC0001
C003FC0001C003FC0001C003FC00000003FC00000003FC00000003FC00000003FC00000003
FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00
000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC000000
03FC000000FFFFFC0000FFFFFC0000FFFFFC0000>
	 34 41 -3 40 41] 76 @dc
[<
FFFFFC0000FFFFFC0000FFFFFC000003FC00000003FC00000003FC00000003FC00000003FC
00000003FC00000003FC00000003FC00000003FC00000003FC03800003FC03800003FC0380
0003FC03800003FC07800003FC07800003FC1F800003FFFF800003FFFF800003FFFF800003
FC1F800003FC07800003FC07800003FC03800003FC03807003FC03807003FC03807003FC00
00F003FC0000E003FC0000E003FC0000E003FC0001E003FC0001E003FC0003E003FC000FE0
03FC003FC0FFFFFFFFC0FFFFFFFFC0FFFFFFFFC0>
	 36 41 -3 40 43] 70 @dc
@F18 @sf
[<
FFFFFC0F003C0F000C0F00060F00060F00020F00020F00020F00010F02010F02000F02000F
02000F06000FFE000F06000F02000F02000F02000F02020F00020F00020F00060F00040F00
040F000C0F003CFFFFFC>
	 24 28 -2 27 28] 69 @dc

39 @eop0

0 0 39 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(6)-436 246 y @F2 @sf(Log)41 b(P)m(ac)m(k)-7 b(age)39 b(Design)-1031 262 y 
@F18 @sf(Unlik)o(e)12 b(the)h(other)g(t)o(w)o(o)e(sections)j(of)e(this)g
(pac)o(k)n(age,)g(the)h(log)e(pac)o(k)n(age)h(is)g(an)g(in)o(ternal)g
(service.)19 b(Ho)o(w)o(ev)o(er,)13 b(its)f(function-)-1910 56 y(alit)o(y)h
(strongly)g(in\015uences)j(the)e(design)g(of)f(the)i(other)f(elemen)o(ts)g
(of)f(this)h(pac)o(k)n(age.)-1321 177 y @F6 @sf(6.1)70 b(Log)24 b(File)o 
-404 136 a @F18 @sf(The)16 b(log)e(\014le)h(is)g(organized)g(as)h(a)f
(series)h(of)f(blo)q(c)o(ks)g(on)g(the)h(disk.)22 b(These)17 b(blo)q(c)o
(ks)e(need)h(not)f(b)q(e)h(con)o(tiguous.)22 b(Indeed,)-1909 57 y
(initiali)o(zation)12 b(of)i(the)g(logger)g(\(via)f(the)i @F12 @sf(lo)n(g)s 
14 -2 z 13 x(Init)e @F18 @sf(call\))g(tak)o(es)h(a)g(series)i(of)d
(arbitrary)h(disk)g(addresses)i(whic)o(h)e(form)o 13 x(the)-1909 56 y
(particular)d(log.)16 b(Because)q 13 x(there)c(ma)o(y)e(b)q(e)i(m)o(ul)o
(tiple)e(logs)h(mai)o(n)o(tained,)f(eac)o(h)i(with)f(their)h(o)o(wn)f(blo)q
(c)o(k)g(size,)h(the)g @F12 @sf(lo)n(g)s 14 -2 z 13 x(Init)-1910 57 y 
@F18 @sf(call)h(is)h(also)f(called)h(with)f(an)h(arra)o(y)g(of)f(bu\013ers)i
(\(of)e(the)i(appropriate)f(size\).)-1213 155 y @F7 @sf(6.1.1)55 b(Log)19 b
(P)n(ages)-419 123 y @F18 @sf(Eac)o(h)e(blo)q(c)o(k)e(of)h(the)h(log)e(is)h
(considered)i(to)e(b)q(e)g(a)g @F12 @sf(p)n(age)g @F18 @sf(of)g(the)h
(log.)24 b(Eac)o(h)16 b(page)g(consists)i(of)d(a)h(short)h(page)f(header,)
-1909 56 y(some)d(n)o(um)o(b)q(er)g(of)g(log)g(records)j(and)d(p)q
(ossibly)h(some)f(un)o(used)i(space.)-1105 155 y @F7 @sf(6.1.2)55 b(Log)
19 b(P)n(age)g(Header)-593 123 y @F18 @sf(A)o(t)13 b(the)g(b)q(eginning)f
(of)g(eac)o(h)h(log)f(page)h(is)f(a)h @F12 @sf(p)n(age)i(he)n(ader)e 
@F18 @sf(whic)o(h)f(con)o(tains)h(a)f(small)f(amo)o(un)o(t)h(inform)o(ati)o
(on)f(whic)o(h)i(will)-1911 56 y(b)q(e)h(used)h(at)f(reco)o(v)o(ery)h(tim)o
(e)e(to)h(lo)q(cate)g(the)g(head)g(of)f(the)i(log)d(and,)i(from)o 13 x
(the)g(inform)o(atio)o(n)f(recorded)i(in)f(the)g(head,)g(to)-1910 57 y(lo)q
(cate)g(the)h(tail)d(of)i(the)g(log.)-451 95 y(Our)g(repres)q(en)o(tation)h
(of)e(a)h(Log)f(P)o(age)h(Header)h(as)f(a)f(C)h(data)g(structure)i(is:)-1205 
146 y @F10 @sf(struct)23 b(logPageHdr)g({)-359 56 y(unsigned)g(short)71 b
(passNumber;)94 b(/*)24 b(pass)f(#)h(through)f(the)g(log)g(*/)-1527 154 y 
@F15 @sf(6.1)29 b(Log)15 b(File)681 b(39)530 b(Marc)o(h)14 b(2,)h(1993)f
(14:04)-1911 b
39 @eop1

40 @bop0
/@F3 @newfont
@F3 @sf
[<
600000000000F00000000000F800000000007C00000000003E00000000001F00000000000F
800000000007C00000000003E00000000001F00000000000F800000000007C00000000003E
00000000001F00000000000F800000000007C00000000003E00000000001F00000000000F8
00000000007C00000000003E00000000001F00000000000F800000000007C00000000003E0
0000000001F00000000000F800000000007C00000000003E00000000001F00000000000F80
0000000007C00000000003E00000000001F00000000000F800000000007C00000000003E00
000000001F00000000000F800000000007C00000000003E00000000001F00000000000F800
000000007C00000000003C000000000018>
	 46 46 2 43 0] 0 @dc
[<
000800001800003C00007C0000FC0001FE0003FE0007FF000FFF001FFF003FFF807FFF80FF
FFC03FFFC007FFE001FFE0003FF0000FF00003F80000F800003C00000C000002000001>
	 24 24 -18 41 0] 18 @dc
[<
FFFFC07FFF807FFF803FFF003FFF003FFF001FFE001FFE000FFC000FFC0007F80007F80007
F80003F00003F00003F00001E00001E00001E00000C00000C00000C00000C000>
	 18 23 9 39 0] 54 @dc

40 @eop0

0 0 40 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-337 121 y 307 -3 z 450 w 3 -450 z 
303 x 3 -450 z -303 3 a 307 -3 z -1349 -453 a 7 -3 z 3 w 7 -3 z 337 934 a 
7 -3 z 3 w 7 -3 z -487 -959 a 7 -3 z 3 w 7 -3 z 16 w 7 -3 z 3 w 7 -3 z 150 
-3 a 7 -3 z 3 w 7 -3 z 150 -3 a 7 -3 z 3 w 7 -3 z 299 -3 a 307 -3 z 450 w 
3 -450 z 304 x 3 -450 z -304 3 a 307 -3 z -599 -453 a 307 -3 z 450 w 3 -450 z 
303 x 3 -450 z -303 3 a 307 -3 z 300 -453 a 307 -3 z 450 w 3 -450 z 303 x 
3 -450 z -303 3 a 307 -3 z 899 -453 a 307 -3 z 450 w 3 -450 z 304 x 3 -450 z 
-304 3 a 307 -3 z -300 -453 a 307 -3 z 450 w 3 -450 z 304 x 3 -450 z -304 
3 a 307 -3 z -523 -2 a 3 -450 z -336 300 a @F3 @sf(\000)40 b 2 -41 a(\000)g 
1 -42 a(\000)g 2 -41 a(\000)g 2 -42 a(\000)g 1 -41 a(\000)g 2 -42 a(\000)g 
-31 -9 a(\000)g -40 x(\022)g 262 108 a 3 -150 z 2 -108 a(6)g -567 -42 a 
3 -450 z -37 300 a 3 -300 z 1 -258 a(6)g 1683 108 a 3 -150 z 2 -108 a(6)g 
-40 -61 a @F15 @sf(3)-1860 394 y(P)o(age)14 b(Header)275 -150 y(Curren)o
(t)h(P)o(osn)-455 -244 y(4)277 b(4)g(3)g(3)g(3)165 244 y(P)o(ass)14 b(Num)o
(b)q(er)-1312 361 y(Figure)h(6.1:)k(Sample)d(Log)f(File)-1137 128 y @F10 @sf
(unsigned)23 b(short)71 b(lastLogRecOff;)22 b(/*)i(offset)f(to)g(last)h
(log)f(record)g(on)h(this)f(pg)h(*/)-1767 56 y(unsigned)f(short)71 b
(oldestDataPage;/)o(*)23 b(offset)g(in)g(log)h(\(unwritten)e(bufs\))h(*/)
-1623 56 y(unsigned)g(short)71 b(oldestTranPage;/)o(*)23 b(offset)g(in)g
(log)h(\(uncommitted)e(trans\))h(*/)-1742 57 y(};)-96 136 y @F18 @sf(The)
17 b @F10 @sf(passNumber)e @F18 @sf(\014eld)h(represe)q(n)o(ts)i(a)e
(monotoni)o(call)o(y)f(increasing)i(v)n(alue)e(whic)o(h)h(will)f(allo)o(w)g
(us)i(to)f(use)h(a)f(binary-)-1910 56 y(searc)o(h)e(algorithm)o 11 x(to)e
(lo)q(cate)h(the)g(head)g(of)f(the)h(queue)h(when)f(p)q(erforming)e(reco)o
(v)o(ery)j(\(see)g(Figure)e(6.1)g(for)g(an)h(example)-1911 57 y(of)g(ho)o
(w)h(this)g @F10 @sf(passNumber)e @F18 @sf(w)o(ould)h(b)q(e)i(recorded)g
(p)q(er)g(log)e(page.\))-1064 95 y(The)i @F10 @sf(lastLogRecOff)e @F18 @sf
(w)o(ould)h(b)q(e)h(an)f(o\013set)i(in)o(to)e(the)h(curren)o(t)h(page)f
(of)f(the)h @F12 @sf(last)f @F18 @sf(log)g(record)i(whic)o(h)e(is)g
(written)i(on)-1910 57 y(this)g(page)h(\(see)g(Figure)g(6.2\).)24 b(This)
17 b(allo)n(ws)f(for)g(rapid)g(lo)q(cation)f(of)h(the)h @F12 @sf(last)e 
@F18 @sf(log)h(record)h(p)q(er)g(page;)g(from)e(that)h(log)-1910 56 y
(record,)f(eac)o(h)f(previous)g(log)f(record)i(can)f(b)q(e)h(found)e(\(b)o
(y)h(using)f(the)i @F11 @sf(Previous)h(Log)i(Record)c @F18 @sf(o\013set)h
(as)f(sho)o(wn)g(in)-1910 57 y(Figure)g(6.4\).)-213 95 y(The)f @F10 @sf
(oldestDataPage)o 11 x @F18 @sf(corresp)r(onds)h(to)e(the)h(o\013set)g(in)o
(to)f(the)h(log)e(of)h(the)h(oldest)g(log)e(page)h(con)o(taining)g(a)g
(log)f(record)-1908 57 y(a\013ecting)k(a)g(data)g(bu\013er)h(whic)o(h)f
(has)g(not)g(b)q(een)h(written)g(to)f(disk.)21 b(Up)q(on)15 b(reco)o(v)o
(ery)m(,)h(this)f(p)q(oin)o(t)f(is)h(the)h(p)q(oin)o(t)f(b)q(efore)-1909 
56 y(whic)o(h)f(no)f(comm)o(itted)g(transactions)h(need)h(to)f(b)q(e)h
(redone.)-953 96 y(The)c @F10 @sf(oldestTranPage)e @F18 @sf(corresp)q
(onds)q 12 x(to)i(the)g(o\013set)h(in)o(to)e(the)i(log)d(of)i(the)g
(oldest)g(log)f(page)h(con)o(taining)f(a)g(transaction)-1909 56 y(for)j
(whic)o(h)h(a)f(comm)o(i)o(t)g(record)h(has)g(not)g(y)o(et)g(b)q(een)g
(written)g(to)g(disk.)k(Up)q(on)13 b(reco)o(v)o(ery)m(,)h(this)g(p)q(oin)o
(t)f(is)g(the)i(p)q(oin)o(t)e(b)q(efore)-1909 57 y(whic)o(h)h(no)f
(transactions)i(need)g(to)f(b)q(e)g(undone.)-757 95 y(The)d @F10 @sf
(oldestDataPage)o 9 x @F18 @sf(and)g @F10 @sf(oldestTranPag)o(e)e @F18 @sf
(are)i(used)g(in)f(the)i(reco)o(v)o(ery)f(pro)q(cess)h(to)f(b)q(ound)f
(the)h(amoun)o(t)e(of)h(the)-1909 57 y(log)j(whic)o(h)g(m)o(ust)g(b)q(e)h
(repla)o(y)o(ed.)k(It)c(ma)o(y)o 13 x(not)f(b)q(e)h(clear)g(that)g(b)q
(oth)g(the)g @F10 @sf(oldestDataPage)e @F18 @sf(and)h @F10 @sf
(oldestTranPage)-1911 56 y @F18 @sf(\014elds)h(are)h(necessary)m(.)k(T)m
(o)13 b(justify)h(b)q(oth,)f(w)o(e)h(argue)h(as)f(follo)o -1 x(ws:)j(b)q
(ecause)f(log)d(records)i(are)f(written)h(prior)e(to)h(writing)-1910 125 y 
@F15 @sf(6.1)29 b(Log)15 b(File)681 b(40)530 b(Marc)o(h)14 b(2,)h(1993)f
(14:04)-1911 b
40 @eop1

41 @bop0


41 @eop0
0 0 41 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 258 y
27233648 32759316 0 0 27233648 32759316 startTexFig  

%!
%%Title: logbuf-page.xfig
%%Creator: fig2dev
%%CreationDate: Tue Mar  2 14:03:30 1993
%%For: pakhtar@feanor (Pervaze Akhtar)
%%Pages: 0
%%BoundingBox: 0 0 414 498
%%EndComments
/$F2psDict 32 dict def $F2psDict begin	$F2psDict /mtrx matrix put
	end	/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def	/$F2psEnd {$F2psEnteredState restore end} def	%%EndProlog
$F2psBegin
1 setlinecap 1 setlinejoin
-54 78 translate
0.000000 498.000000 translate 0.900 -0.900 scale
1.000 setlinewidth
% Polyline
newpath 79 199 moveto 519 199 lineto 519 559 lineto 79 559 lineto closepath stroke
newpath 269.992 190.814 moveto 269.000 199.000 lineto 266.023 191.310 lineto stroke
newpath 289.000 196.500 20.156 7.125 172.875 arcn
stroke
% Polyline
newpath 234 154 moveto 334 179 lineto stroke
stroke
newpath 326.724 175.119 moveto 334.000 179.000 lineto 325.754 179.000 lineto stroke
newpath 313.427 192.043 moveto 309.000 199.000 lineto 309.632 190.778 lineto stroke
newpath 339.000 209.000 31.623 -18.435 -161.565 arcn
stroke
newpath 366.920 191.020 moveto 369.000 199.000 lineto 363.409 192.938 lineto stroke
newpath 234.000 272.750 153.831 -151.352 -28.648 arc
stroke
% Polyline
newpath 234 154 moveto 284 179 lineto stroke
stroke
newpath 277.739 173.633 moveto 284.000 179.000 lineto 275.950 177.211 lineto stroke
% Polyline
newpath 234 154 moveto 209 179 lineto stroke
stroke
newpath 216.071 174.757 moveto 209.000 179.000 lineto 213.243 171.929 lineto stroke
newpath 136.849 196.472 moveto 129.000 199.000 lineto 134.736 193.075 lineto stroke
newpath 199.000 311.500 132.500 -58.109 -121.891 arcn
stroke
% Polyline
newpath 234 99 moveto 234 119 lineto stroke
stroke
newpath 236.000 111.000 moveto 234.000 119.000 lineto 232.000 111.000 lineto stroke
% Polyline
newpath 119 199 moveto 119 559 lineto stroke
stroke
% Polyline
newpath 259 199 moveto 259 559 lineto stroke
stroke
% Polyline
newpath 299 199 moveto 299 559 lineto stroke
stroke
% Polyline
newpath 359 199 moveto 359 559 lineto stroke
stroke
% Polyline
newpath 479 199 moveto 479 559 lineto stroke
stroke
newpath 97.000 567.000 moveto 99.000 559.000 lineto 101.000 567.000 lineto stroke
% Polyline
newpath 99 559 moveto 99 619 lineto stroke
stroke
	[1 3.200000] 0 setdash
% Polyline
newpath 139 199 moveto 139 559 lineto stroke
stroke
	[] 0 setdash
	[1 3.200000] 0 setdash
% Polyline
newpath 279 199 moveto 279 559 lineto stroke
stroke
	[] 0 setdash
	[1 3.200000] 0 setdash
% Polyline
newpath 319 199 moveto 319 559 lineto stroke
stroke
	[] 0 setdash
	[1 3.200000] 0 setdash
% Polyline
newpath 379 199 moveto 379 559 lineto stroke
stroke
	[] 0 setdash
% Polyline
newpath 339 619 moveto 129 559 lineto stroke
stroke
newpath 136.143 563.121 moveto 129.000 559.000 lineto 137.242 559.275 lineto stroke
% Polyline
newpath 339 619 moveto 269 559 lineto stroke
stroke
newpath 273.772 565.725 moveto 269.000 559.000 lineto 276.376 562.688 lineto stroke
% Polyline
newpath 339 619 moveto 309 559 lineto stroke
stroke
newpath 310.789 567.050 moveto 309.000 559.000 lineto 314.367 565.261 lineto stroke
% Polyline
newpath 339 619 moveto 369 559 lineto stroke
stroke
newpath 363.633 565.261 moveto 369.000 559.000 lineto 367.211 567.050 lineto stroke
% Polyline
newpath 339 619 moveto 489 559 lineto stroke
stroke
newpath 480.829 560.114 moveto 489.000 559.000 lineto 482.315 563.828 lineto stroke
/Times-Roman findfont 11.000 scalefont setfont
179 154 moveto 
1 -1 scale
(Previous Log Record) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 11.000 scalefont setfont
139 99 moveto 
1 -1 scale
(Reference to last Log Record) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 11.000 scalefont setfont
299 634 moveto 
1 -1 scale
(Log Record Headers) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 11.000 scalefont setfont
59 639 moveto 
1 -1 scale
(Log Page Header) gsave  0.000 rotate show grestore 1 -1 scale
$F2psEnd

endTexFig  
666 2173 a(Figure)f(6.2:)k(Sample)d(Log)f(P)o(age)-1244 288 y(6.1)29 b
(Log)15 b(File)681 b(41)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
41 @eop1

42 @bop0
@F9 @sf
[<
FFFC0FC0078007800780078007800780078007800780078007800780078007800780078007
8007800780078007800780078007800780078007800780078007800FC0FFFC>
	 14 34 -2 33 18] 73 @dc
[<
FFE000201F0000600E000060040000E0040001E0040001E0040003E0040003E0040007A004
000F2004000F2004001E2004003E2004003C20040078200400F8200400F0200401E0200401
E0200403C0200407802004078020040F0020041F0020041E0020043C0020047C0020047800
2004F0002004F0002005E0002007C0007007C000F8FF8007FF>
	 32 34 -2 33 37] 78 @dc
[<
FFFC00000FC000000780000007800000078000000780000007800000078000000780000007
80000007800000078000000780000007800000078000000780000007FFF00007803C000780
0F0007800780078007C0078003C0078003E0078003E0078003E0078003E0078003E0078003
E0078003C0078007C00780078007800F000F803C00FFFFF000>
	 27 34 -2 33 33] 80 @dc
[<
7FF80780070007000700070007000700070007000700070007000700070007000700070007
000700FFF8070007000700070007000700070007000700030F038F018F00C6003C>
	 16 35 0 34 15] 102 @dc
[<
008000008000008000008000008000C08180E08380388E000C980003E00001C00003E0000C
9800388E00E08380C08180008000008000008000008000008000>
	 17 21 -3 36 24] 42 @dc
[<
01F000070C000C06001C03001803803801C03801C07001E07001E07001E0F001E0F001E0F0
01E0F001E0F001E0F001C0F801C0F80380F40300F40600F30C00F0F8007000007000007800
003800003800001801801C03C00E03C00601C003008001C100007E00>
	 19 34 -2 32 24] 54 @dc
[<
03F0000C1C001006002007004003804003C08001C0E001C0F001E0F001E07001E00001E000
01E00001E00001E00001C00001C0100380180380140700130E0010F8001000001000001000
0010000010000010000013E0001FF8001FFE001FFF001E0700100080>
	 19 34 -2 32 24] 53 @dc
[<
01FFF0001F00000E00000E00000E00000E00000E00000E00000E00FFFFF8800E00400E0020
0E00200E00100E00100E00080E00040E00040E00020E00020E00010E00008E00008E00004E
00004E00002E00001E00001E00000E00000E00000600000200>
	 21 33 -1 32 24] 52 @dc
[<
03F0000E0E001803003000806000C0600040C00060C00060C00060C00060C000E06000E060
01C03007C0100F80083F80067F0003FC0003F8000FF8001FC4003F02003E01007801807000
C06000C06000C06000C02000C0200180100180080300060E0001F800>
	 19 34 -2 32 24] 56 @dc
[<
01F000071C000C06001C07003803803803807803C07001C07001C07001C0F001E0F001E0F0
01E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E07001
C07001C07001C07001C03803803803801803000C0600071C0001F000>
	 19 34 -2 32 24] 48 @dc
[<
01800003C00003C00003C00003C00003C00003C00003C00003C00001C00001C00001C00001
C00000C00000C00000E0000060000060000060000020000030000010000008000008000004
00800200800200800100C001004000807FFFC07FFFC07FFFE0600000400000>
	 19 35 -3 33 24] 55 @dc
[<
FFE3FE0E00F80E00F00E01E00E01C00E03C00E07800E07000E0E000E1E000F1C000EF8000E
38000E10000E08000E04000E02000E01800E01C00E01F00E03FC0E00000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E00001E0000FE00000E0000>
	 23 35 -1 34 26] 107 @dc
[<
FFFFFC000F800F00078007C0078003E0078001F0078001F0078000F8078000F8078000F807
8000F8078000F8078000F8078000F0078001F0078001E0078003C00780078007FFFE000780
3E0007800F80078007C0078003E0078001E0078001F0078001F0078001F0078001F0078001
F0078001E0078003E0078003C0078007800F800E00FFFFF800>
	 29 34 -2 33 35] 66 @dc
[<
7FE3FF80070078000700700007007000070070000700700007007000070070000700700007
00700007007000070070000700700007007000070070000700700007007000070070000700
700007007000FFFFFFC0070070000700700007007000070070000700700007007000070070
0007007000070070000380F0780180F87800C07C7800706E30001F83E0>
	 29 35 0 34 28] 11 @dc
[<
00600600006006000060060000F00F0000F00F0000F00D0001C81C8001C81C8001C8188003
84384003843840038430400702702007027020070260200E01E0100E01E0100E01C0181C01
C0181E01E03CFF8FF8FF>
	 32 21 -1 20 35] 119 @dc

42 @eop0

0 0 42 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 855 y 900 -3 z -75 w 900 
-3 z -75 w 900 -3 z -75 w 900 -3 z -75 w 900 -3 z -75 w 900 -3 z -75 w 900 
-3 z -75 w 900 -3 z -75 w 900 -3 z -75 w 900 -3 z -3 -78 a 906 -3 z 825 w 
3 -825 z 903 x 3 -825 z -903 3 a 906 -3 z 102 -526 a @F9 @sf(salv)m(age)h
(ID)f(\(magic)f(Num)o(b)q(er\))-620 -75 y(P)o(age)h(Num)o(b)q(er)f(of)h
(Curren)o(t)g(P)o(age)396 599 y(*)-37 -75 y(36)-48 -75 y(35)-48 -75 y(34)
-48 -75 y(32)-48 -75 y(16)-48 -75 y(14)-48 -74 y(12)-35 -75 y(8)-24 -75 y
(4)-24 -75 y(2)-174 749 y(*)-49 -75 y(288)-72 -75 y(280)-72 -75 y(272)-72 
-75 y(256)-72 -75 y(128)-72 -75 y(112)-60 -74 y(96)-48 -75 y(64)-48 -75 y
(32)-48 -75 y(16)-724 749 y(c)o(hec)o(k)o(sum)o -363 -375 a(Oldest)f
(Activ)o(e)g(Data)i(Bu\013er)-582 -75 y(Oldest)e(Running)i(T)l(ransaction)
-662 -224 y(O\013set)g(to)f(Last)i(Log)f(Record)f(on)h(this)f(page)-595 
-75 y(P)o(ass)h(Num)n(b)q(er)-337 674 y(c)o(hec)o(ksum)o 14 x(length)-359 
-75 y(c)o(hec)o(k)o(sum)o 15 x(v)o(ersion)-311 -75 y(io)s 15 -2 z 14 x
(windo)o(w)-296 -75 y(reserv)o(ed)e(\(un)o(used\))25 398 y @F15 @sf
(Figure)h(6.3:)i(Sample)f(Log)e(P)o(age)f(Header)-1321 133 y @F18 @sf(an)o
(y)g(data)g(pages,)g(w)o(e)h(b)q(eliev)o(e)f(there)i(are)f(exactly)f
(three)i(cases)f(whic)o(h)g(m)o(ust)e(b)q(e)i(considered.)21 b(First,)14 b
(the)h(case)g(where)-1908 56 y(a)j(comm)n(it)f(record)i(has)f(b)q(een)h
(written)f(for)g(a)f(transaction)h(but)g(not)g(its)g(corresp)q(onding)h
(data)f(page.)30 b(Second,)19 b(the)-1909 57 y(case)g(where)h(a)e(comm)o
(i)o(t)f(record)j(has)f @F12 @sf(not)f @F18 @sf(b)q(een)h(written)g(for)f
(a)g(transaction,)i(but)e(its)h(corresp)q(onding)g(data)f(pages)-1909 56 y 
@F12 @sf(have)f @F18 @sf(b)q(een)g(written)g(\(e.g.)25 b(an)16 b(in)o
(termediate)f(write\).)26 b(F)m(or)16 b(this)g(second)i(case,)f(the)g 
@F12 @sf(lo)n(g)h(r)n(e)n(c)n(or)n(ds)d @F18 @sf(corresp)r(onding)i(to)-1910 
57 y(the)e(mo)q(di)o(\014cations)e(to)h(the)h(particular)f(disk)g(page)h 
@F12 @sf(have)f @F18 @sf(b)q(een)h(written)g(to)f(disk.)19 b(Third,)14 b
(the)h(case)g(where)g(a)f(comm)o(it)-1911 56 y(record)g(has)f(not)f(b)q
(een)i(written)g(for)e(a)g(transaction)h(and)g(its)g(corresp)q(onding)g
(data)g(pages)g(also)f(ha)o(v)o(e)g(not)h(b)q(een)h(written)-1909 57 y(to)g
(disk.)k(W)m(e)13 b(analyze)h(these)h(cases)g(indep)q(enden)o(tly:)-791 
144 y(1.)22 b @F11 @sf(Committed)16 b(with)h(un)o(written)g(data)h(pages)
13 b @F18 @sf(In)g(this)g(case,)h(w)o(e)g(wish)f(to)g @F12 @sf(r)n(eplay)g 
@F18 @sf(the)h(transactions)f(as)-1795 56 y(w)o(e)e(ha)o(v)o(e)g(enough)g
(inform)o(ati)o(on)f(to)g(do)h(so.)17 b(T)m(o)10 b(this)h(end,)h(w)o(e)f
(m)o(ust)f(lo)q(ok)g(bac)o(k)h(to)g(the)g(earliest)h(transaction)f(with)
-1796 57 y(uncomm)o(i)o(tted)i(data)g(pages.)18 b(Since)c(this)g
(transaction)f(has)h(comm)o(i)o(tted,)e(it)h @F12 @sf(c)n(ould)h @F18 @sf
(b)q(e)g(older)f(than)h(sp)q(eci\014ed)h(b)o(y)-1796 56 y @F10 @sf
(oldestTranPa)o(ge)p @F18 @sf(.)i(Th)o(us,)c(w)o(e)h(m)o(ust)f(ha)o(v)o(e)h
(the)h(inform)o(ati)o(on)e(sp)q(eci\014ed)i(b)o(y)f @F10 @sf(oldestDataPa)o
(ge)p @F18 @sf(.)-1664 94 y(2.)22 b @F11 @sf(Uncommitted)g(with)h(written)f
(data)h(pages)17 b @F18 @sf(In)h(this)f(case,)i(w)o(e)e(wish)h(to)f @F12 @sf
(ab)n(ort)g @F18 @sf(the)h(transactions.)-1795 56 y(T)m(o)h(this)i(end,)h
(w)o(e)e(m)o(ust)g(lo)q(ok)f(bac)o(k)h(to)h(the)g(earliest)f(log)g(page)g
(con)o(taining)f(log)h(records)i(ab)q(out)e(this)h(un-)-1796 57 y(comm)o
(i)o(tted)16 b(transaction.)27 b(Ho)o(w)o(ev)o(er,)18 b(it)e(is)h(p)q
(ossible)g @F12 @sf(al)r(l)f @F18 @sf(data)h(pages)g(ha)o(v)o(e)g(b)q(een)h
(written)f(to)g(disk,)f(so)h(that)-1795 56 y @F10 @sf(oldestDataPa)o(ge)
11 b @F18 @sf(w)o(ould)h(not)h(re\015ect)h(an)e(old-enough)g(p)q(oin)o(t)g
(within)g(the)h(log)f(from)f(whic)o(h)h(w)o(e)h(can)g(undo)g(all)-1797 57 y
(transactions.)18 b(Th)o(us,)c(w)o(e)g(m)o(ust)f(ha)o(v)o(e)h(the)g
(inform)o(ation)e(sp)q(eci\014ed)k(b)o(y)d @F10 @sf(oldestTranPage)p 
@F18 @sf(.)o -1549 93 a(3.)22 b @F11 @sf(Uncommitted)13 b(with)h
(un-written)g(data)g(pages)c @F18 @sf(W)m(e)g(b)q(eliev)o(e)h(this)f(case)i
(is)e(imm)n(aterial)e(b)q(ecause)q 11 x(if)i(the)-1795 57 y(data)j(has)h
(not)g(b)q(een)h(written)f(w)o(e)h(can)f(safely)f(\\undo")g(the)i
(transaction)f(without)g(a\013ecting)g(the)g(informa)o(tion.)o -1903 144 a
(W)m(e)f(ha)o(v)o(e)g(organized)h(our)f(in)o(ternal)g(data)g(structure)q
(s)i(so)e(w)o(e)h(can)g(obtain)e(b)q(oth)i(the)g @F10 @sf(oldestTranPage)o 
12 x @F18 @sf(informa)o(tion)-1911 56 y(and)g(the)h @F10 @sf(oldestDataPa)o
(ge)e @F18 @sf(inform)o(ati)o(on)g(quic)o(kly)m(.)o 18 x(They)h(are)h
(stored)g(as)f @F12 @sf(o\013sets)f @F18 @sf(within)g(the)i(\014le)f(b)q
(ecause)i(suc)o(h)f(a)-1910 57 y(referenc)q(e)h(is)f @F12 @sf(always)g 
@F18 @sf(v)n(alid,)o 14 x(pro)o(vided)g(the)g(log)f(do)q(es)i(not)e(o)o(v)o
(erwrite)i(the)f(tail)f(\(an)h(assumption)e(for)i(whic)o(h)f(w)o(e)i(ha)o
(v)o(e)-1910 56 y(included)e(guaran)o(tees)h(within)e(this)h(design.\))-724 
125 y @F15 @sf(6.1)29 b(Log)15 b(File)681 b(42)530 b(Marc)o(h)14 b(2,)h
(1993)f(14:04)-1911 b
42 @eop1

43 @bop0
@F14 @sf
[<
000001C00000078000001E00000078000001E00000078000000E00000038000000F0000003
C000000F0000003C000000F0000000F00000003C0000000F00000003C0000000F000000038
0000000E0000000780000001E0000000780000001E0000000780000001C0>
	 26 26 -4 23 35] 60 @dc
@F6 @sf
[<
FFFFF0003FF0FFFFF001FFF8FFFFF003FE1C03FC0007F80E03FC000FF80703FC001FF80703
FC001FF00703FC001FF00003FC001FF00003FC001FF00003FC001FE00003FC001FE00003FC
001FE00003FC001FE00003FC001FE00003FC001FC00003FC003F800003FC003F800003FC00
7F000003FC00FC000003FFFFF0000003FFFFFE000003FC007FC00003FC001FE00003FC0007
F80003FC0007F80003FC0003FC0003FC0003FE0003FC0003FE0003FC0003FE0003FC0003FE
0003FC0003FE0003FC0003FE0003FC0003FC0003FC0007FC0003FC0007F80003FC000FF000
03FC007FE000FFFFFFFF8000FFFFFFFE0000FFFFFFE00000>
	 48 41 -3 40 52] 82 @dc

43 @eop0

0 0 43 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F18 @sf(In)o
(ternally)m(,)c(w)o(e)h(store)h(eac)o(h)g(log)e(as)i(a)f(doubly)f(link)o
(ed)h(list)f(of)h(pages)h(called)e @F12 @sf(blo)n(cks)p @F18 @sf(.)17 b
(Eac)o(h)d(log,)d(then)j(consists)h(of)d(a)h @F12 @sf(lo)n(g)-1910 57 y
(blo)n(ck)j(he)n(ader)e @F18 @sf(whic)o(h)f(p)q(oin)o(ts)h(to)g(this)g
(list)f(of)h(blo)q(c)o(ks:)-870 145 y @F10 @sf(struct)23 b(logBlockHead)f
({)-406 56 y(struct)h(logBlockHead)g(*nextBlockHea)o(d,)-359 57 y
(*prevBlockHea)o(d;)g(/*)g(list)g(of)h(logs)f(*/)-1289 56 y(struct)g
(logBlockRec)47 b(*blockList;)118 b(/*)23 b(list)g(of)h(blocks)f(*/)-1337 
57 y(struct)g(buffer)167 b(*bufferList;)94 b(/*)23 b(list)g(of)h(buffers)f
(to)g(use)h(*/)-1528 56 y(unsigned)310 b(currentLSN;)94 b(/*)23 b(current)g
(LSN)g(in)h(use)f(*/)-1432 57 y(unsigned)310 b(passNumber;)94 b(/*)23 b
(current)g(pass)g(#)h(*/)-1384 56 y(};)-96 146 y @F18 @sf(Because)16 b
(there)f(can)f(b)q(e)g(m)o(ulti)o(ple)f(logs)g(within)g(the)h(system,)f
(they)h(are)h(ma)o(in)o(tai)o(ned)e(as)h(a)f(doubly-link)o(ed)g(list)g
(via)g(the)-1909 56 y @F10 @sf(nextBlockHead)f @F18 @sf(and)h @F10 @sf
(prevBlockHead)f @F18 @sf(p)q(oin)o(ters.)19 b(W)m(e)13 b(c)o(hose)i(a)e
(link)o(ed)g(list)g(rather)i(than)e(a)h(hashing)f(sc)o(heme)h(for)-1910 
56 y(lo)q(cating)g(log)g(blo)q(c)o(ks)h(b)q(ecause)h(w)o(e)f(presume)g
(the)g(actual)g(n)o(um)o(b)q(er)f(of)g(logs)g(in)h(a)f(system)h(will)e(b)q
(e)j(smal)o(l)d(\(e.g.)21 b @F14 @sf(<)14 b @F15 @sf(10)p @F18 @sf(\).)-1910 
57 y(If)g(this)f(pro)o(v)o(es)i(to)f(b)q(e)g(otherwise,)g(w)o(e)h(w)o
(ould)e(advise)g(redes)q(igning)h(this)g(to)f(utilize)h(a)f(more)g(e\016cien)o
(t)i(mec)o(hanism)o(.)o -1840 95 a(Eac)o(h)g(of)f(these)h @F12 @sf(blo)n
(ck)h(he)n(aders)f @F18 @sf(p)q(oin)o(ts)f(to)g(a)g(link)o(ed)g(list)g(of)g
(blo)q(c)o(ks.)20 b(These)15 b(blo)q(c)o(ks)g(corresp)q(ond)h(to)e(the)h
(disk)f(blo)q(c)o(ks)-1909 57 y(whic)o(h)g(mak)n(e)f(up)h(the)h(log.)i
(Eac)o(h)d(log)f(page)h(has)g(a)f(single)h @F12 @sf(blo)n(ck)h(r)n(e)n(c)n
(or)n(d)e @F18 @sf(asso)q(ciated)i(with)f(it:)-1508 145 y @F10 @sf(struct)
23 b(logBlockRec)f({)-382 57 y(struct)h(logBlockHead)g(*head;)238 b(/*)23 b
(head)g(of)h(blocks)f(*/)-1337 56 y(struct)g(logBlockRec)47 b(*nextBlock,)
-264 57 y(*prevBlock;)118 b(/*)23 b(list)g(of)h(blocks)f(*/)-1337 56 y
(struct)g(buffer)167 b(*currentBuffe)o(r;)23 b(/*)g(current)g(buffer)g
(allocated)g(to)g(block)g(*/)-1790 57 y(struct)g(logPageHdr)71 b
(logPageHdr;)118 b(/*)23 b(page)g(header)g(for)h(this)f(block)g(*/)-1670 
56 y(};)-96 145 y @F18 @sf(The)18 b(log)f(blo)q(c)o(ks)h(are)g(stored)h
(as)f(a)g(circular)g(doubly-link)o(ed)e(list,)i(with)g(the)g(last)g
(elemen)o(t)f(in)h(the)g(list)g(p)q(oin)o(ting)f(to)-1910 57 y(the)e(\014rst)h
(elemen)o(t)e(\(and)h(vice-v)o(ersa.\))22 b(W)m(e)15 b(b)q(eliev)o(e)g
(the)g(use)h(of)e(the)i(doubly-li)o(nk)o(ed)e(prop)q(ert)o(y)i(ma)o(y)o 
-3 x(,)o 14 x(in)e(fact,)h @F12 @sf(not)g @F18 @sf(b)q(e)-1909 56 y
(necess)q(ary;)f(in)g(a)f(future)i(design)f(w)o(e)g(ma)o(y)e(mai)o(n)o
(tain)g(this)i(data)g(structure)i(as)e(a)f(singly)g(link)o(ed)g(list.)-1602 
96 y(Eac)o(h)h @F12 @sf(blo)n(ck)i(r)n(e)n(c)n(or)n(d)d @F18 @sf(includes)h
(the)h @F12 @sf(lo)n(g)g(p)n(age)i(he)n(ader)d @F18 @sf(whic)o(h)g(w)o(e)g
(describ)q(ed)h(earlier.)-1379 176 y @F6 @sf(6.2)70 b(Log)24 b(Records)-532 
137 y @F10 @sf(struct)f(LogRec)g({)-263 57 y(unsigned)g(long)47 b
(timestamp;)118 b(/*)24 b(time)f(record)g(made)h(*/)-1242 56 y(unsigned)f
(short)g(recType;)166 b(/*)24 b(record)f(type)g(*/)-1122 56 y(unsigned)g
(short)g(refCount;)142 b(/*)24 b(reference)f(count)g(*/)-1218 57 y
(unsigned)166 b(dataLength;)94 b(/*)24 b(length)f(of)h(old)f(data)g(*/)-1384 
133 y @F15 @sf(6.2)29 b(Log)15 b(Records)598 b(43)530 b(Marc)o(h)14 b(2,)h
(1993)f(14:04)-1911 b
43 @eop1

44 @bop0

44 @eop0
0 0 44 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1813 145 y @F10 @sf(unsigned)
166 b(tranID;)190 b(/*)24 b(transaction)e(ID)i(*/)-1194 57 y(daddr_t)190 b
(dataAddr;)142 b(/*)24 b(disk)f(address)g(of)h(modified)e(data)i(*/)-1552 
56 y(unsigned)166 b(dataOffset;)94 b(/*)24 b(offset)f(in)h(disk)f(block)g
(to)h(mod.)f(data)g(*/)-1647 56 y(unsigned)166 b(prevLogRecOff;)22 b(/*)i
(offset)f(to)h(previous)e(log)i(record)f(*/)-1552 57 y(unsigned)g(long)47 b
(recvrTimestamp;/*)22 b(recovery)h(timestamp)f(*/)-1289 56 y(char)262 b
(oldData[dataLength)o(];)142 b(/*)23 b(old)h(data)f(*/)-1313 57 y(char)262 b
(newData[dataLength)o(];)142 b(/*)23 b(new)h(data)f(*/)-1313 56 y
(unsigned)166 b(lsn;)262 b(/*)24 b(logical)f(sequence)g(number)g(*/)-1456 
57 y(};)-96 145 y @F18 @sf(This)17 b(exampl)o(e)f(pro)o(vides)h(a)f
(rudimen)o(tary)g(view)h(of)f(the)h(la)o(y)o(out)e(of)i(a)f(single)g(log)g
(record)i(as)f(recorded)h(on)f(the)g(disk.)-1910 57 y(The)f(actual)f
(in-core)h(im)o(plem)o(en)o(tation)e(ma)n(y)g(v)n(ary)h(\(e.g.)23 b(use)
16 b(p)q(oin)o(ters)g(rather)h(than)e(dynamic)f(arra)o(ys)i(for)f(the)h
(data)-1910 56 y(lengths.\))-157 96 y(F)m(urther,)22 b(some)e(log)f
(records)j(ma)o(y)o 19 x(v)n(ary)e(from)f(this)h(particular)g(format)e
(\(e.g.)38 b(start)20 b(records)q 21 x(ma)o(y)f(only)g(record)-1908 56 y 
@F10 @sf(newData)p @F18 @sf(.\))-196 1712 y @F15 @sf(6.2)29 b(Log)15 b
(Records)598 b(44)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
44 @eop1

45 @bop0
@F3 @sf
[<
6000000000F000000000F8000000007C000000003C000000003E000000001F000000000F80
00000007C000000003C000000003E000000001F000000000F80000000078000000007C0000
00003E000000001F000000000F80000000078000000007C000000003E000000001F0000000
00F80000000078000000007C000000003E000000001F000000000F000000000F8000000007
C000000003E000000001F000000000F000000000F8000000007C000000003E000000001F00
0000000F000000000F8000000007C000000003E000000001E000000001F000000000F80000
0000780000000030>
	 37 46 2 43 0] 28 @dc
[<
780000000000FF8000000000FFF8000000007FFF800000000FFFF800000000FFFFC0000000
0FFFFC00000000FFFFC00000000FFFFC000000007FFFC000000007FFF8000000007FFC0000
000007FC000000000078>
	 46 14 2 11 0] 24 @dc
@F9 @sf
[<
FFFC3FFF0FC003F0078001E0078001E0078001E0078001E0078001E0078001E0078001E007
8001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E007FFFFE00780
01E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001
E0078001E0078001E0078001E0078001E00FC003F0FFFC3FFF>
	 32 34 -2 33 37] 72 @dc
[<
000FFE0000E00000E00000E00000E00000E00000E00000E00000E00000E001F0E0070CE00C
02E01C01E03801E07800E07000E0F000E0F000E0F000E0F000E0F000E0F000E0F000E07800
E07800E03801E01C01600E026007046001F820>
	 23 31 -2 20 26] 113 @dc

45 @eop0

0 0 45 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1836 1594 y 1656 -3 z 150 w 3 
-150 z 1653 x 3 -150 z -1653 3 a 1656 -3 z -453 w 1656 -3 z 150 w 3 -150 z 
1653 x 3 -150 z -1653 3 a 1656 -3 z -3 w 1656 -3 z 150 w 3 -150 z 1653 x 
3 -150 z -1653 3 a 1656 -3 z 1 -302 a 3 -750 z 2 2 a 1650 -3 z 1648 -2 a 
3 -750 z -1648 -748 a 1650 -3 z 823 149 a 3 -150 z -823 301 a 1650 -3 z 
150 w 1650 -3 z -450 w 1650 -3 z 150 w 1650 -3 z -5 974 a @F18 @sf(.)1563 b
(.)34 -34 y @F3 @sf(\034)32 b -65 41 a(\034)g -40 11 a(\034)f -31 x(\030)
40 b -7 -8 a(\030)g 64 w 3 -75 z -1681 -108 a(\034)31 b -64 41 a(\034)g 
-40 11 a(\034)h -32 x(\030)40 b -7 -8 a(\030)g 64 w 3 -75 z 150 w 3 -150 z 
2 2 a 1650 -3 z 1648 -2 a 3 -150 z -186 -148 a 187 -3 z -1462 x 1462 -3 z 
765 -189 a @F9 @sf(Spare)-352 -600 y(Device)15 b(Handle)h(\(un)o(used\))
-331 281 y(Data)i(O\013set)-266 -150 y(Data)f(Address)-310 -300 y
(transaction)g(ID)-291 -150 y(Data)g(Length)86 -150 y(Reference)o 15 x
(Coun)o(t)-1140 b(Record)16 b(T)o(yp)q(e)118 900 y(Previous)g(Log)i
(Record)-371 263 y(Old)e(Data)-199 75 y(New)g(Data)-326 112 y(Logical)g
(Sequence)f(Num)o(b)q(er)-602 154 y @F15 @sf(Figure)g(6.4:)k(Sample)d(Log)f
(Record)-1265 576 y(6.2)29 b(Log)15 b(Records)598 b(45)530 b(Marc)o(h)14 b
(2,)h(1993)f(14:04)-1911 b
45 @eop1

46 @bop0
@F1 @sf
[<
0003E00000000007F0000000000FF8000000001FFC000000001FFC000000001FFC00000000
1FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000000F
FC000000000FFC000000000FFC000000000FFC000000000FFC0000000007FC0000000007FC
0000000007FC0000000003FE0000000003FE0000000003FE0000000001FE0000000001FE00
00000000FE0000000000FF00000000007F00000000007F00000000003F00000000003F8000
0000001F80000000000F80000000000FC00000000007E00000000003E00000000003F00000
F00001F80000F00000FC0000F000007E00007800003E00007800001F00007800001F80007C
00000FC0007C000007E0007FFFFFFFF0003FFFFFFFF0003FFFFFFFF8003FFFFFFFFC003FFF
FFFFFE003FFFFFFFFF003FFFFFFFFF803FFFFFFFFFC01FFFFFFFFFC01FFFFFFFFFC01FFFFF
FFFFC01FF0000000001F00000000001E0000000000>
	 42 59 -5 57 49] 55 @dc

46 @eop0

0 0 46 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(7)-436 246 y @F2 @sf(In)m(ternal)41 b(Log)f(In)m(terface)-1141 262 y 
@F7 @sf(7.1)56 b(log)s 17 -2 z 16 x(Init)32 b @F18 @sf(|)14 b(Initiali)o
(ze)f(a)h(log)-657 179 y @F16 @sf(int32)21 b @F11 @sf(log)s 16 -2 z 16 x
(Init)p @F16 @sf(\()1 56 y(IN)g(struct)g(async)s 13 -2 z 11 x(device)g
(*ldP;)-605 57 y(IN)g(struct)g(async)s 13 -2 z 11 x(device)g(*dP;)-583 56 y
(IN)g(daddr)s 13 -2 z 12 x(t)g(logLocnArray)o(;)-518 57 y(IN)g(unsigned)f
(logLocnArray)o(Size;)o -633 56 a(IN)h(struct)g(buffer)f(*logBufArray)o(;)
-655 57 y(IN)h(unsigned)f(logBufArrayS)o(ize;)-612 56 y(\))-344 179 y 
@F11 @sf(P)o(arameters)-192 106 y @F10 @sf(ldP)i @F18 @sf(-)28 b(The)14 b
(device)h(up)q(on)f(whic)o(h)g(the)g(log)f(is)h(to)g(b)q(e)g(mai)o(n)o
(tained.)-1073 73 y @F10 @sf(dP)23 b @F18 @sf(-)k(The)14 b(device)h
(handle)f(of)f(the)i(device)f(whic)o(h)g(is)g(to)g(b)q(e)g(logged.)-1097 
73 y @F10 @sf(logLocnArray)21 b @F18 @sf(-)28 b(The)14 b(arra)o(y)g(of)f
(disk)h(blo)q(c)o(ks)g(ma)o(king)e(up)i(the)g(log.)-1148 73 y @F10 @sf
(logLocnArraySize)o 22 x @F18 @sf(-)27 b(The)15 b(n)o(um)n(b)q(er)f(of)f
(elemen)o(ts)h(in)f(the)i @F10 @sf(logLocnArray)o 13 x @F18 @sf(argumen)o
(t.)-1505 73 y @F10 @sf(logBufArray)21 b @F18 @sf(-)28 b(The)14 b(arra)o
(y)g(of)f(in-core)h(bu\013ers)i(to)d(b)q(e)i(asso)q(ciated)f(with)g(this)g
(log.)-1386 73 y @F10 @sf(logBufArraySize)21 b @F18 @sf(-)27 b(The)15 b(n)o
(um)o(b)q(er)e(of)g(elemen)o(ts)h(in)f(the)i @F10 @sf(logBufArray)d @F18 @sf
(argumen)o(t.)-1527 158 y @F11 @sf(Description)-262 95 y @F18 @sf(This)h
(call)f(initiali)o(zes)h(logging)e(on)i(the)h(sp)q(eci\014ed)h(device.)j
(It)13 b(starts)h(logging)e(for)g(the)i(sp)q(eci\014ed)h(device)f @F10 @sf
(dP)e @F18 @sf(in)h(the)h(disk)-1910 57 y(blo)q(c)o(ks)g(sp)q(eci\014ed)i
(b)o(y)e @F10 @sf(logLocnArra)o(y)f @F18 @sf(on)h(the)g(log)f(device)i(sp)q
(eci\014ed)h(b)o(y)e @F10 @sf(ldP)p @F18 @sf(.)f(There)i(is)f(no)g
(requiremen)o(t)g(that)g @F10 @sf(ldP)-1910 56 y @F18 @sf(and)g @F10 @sf
(dP)f @F18 @sf(b)q(e)i(di\013eren)o(t)g(\(or)f(the)g(same\).)-620 125 y 
@F15 @sf(7.1)29 b(log)s 14 -2 z 14 x(Init)698 b(46)530 b(Marc)o(h)14 b(2,)h
(1993)f(14:04)-1911 b
46 @eop1

47 @bop0
@F10 @sf
[<
600000F00000FC00007E00003F00001FC00007E00003F00001FC00007E00003F00001F8000
1F80003F00007E0001FC0003F00007E0001FC0003F00007E0000FC0000F00000600000>
	 17 24 -3 25 24] 62 @dc

47 @eop0

0 0 47 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1789 145 y @F10 @sf(struct)23 b
(logRec)g({)-262 57 y(struct)g(logRec)142 b(*next;)h(/*)23 b(linked)g
(list)g(*/)-1145 56 y(struct)g(async_device)f(logDev;)118 b(/*)24 b
(device)f(containing)f(log)i(*/)-1408 56 y(struct)f(async_device)f(dev;)
190 b(/*)24 b(device)f(to)h(log)f(*/)-1217 57 y(struct)g(buffer)118 b
(**freeBuf;)47 b(/*)23 b(free)h(buffers)e(for)i(this)f(log)h(*/)-1456 56 y
(struct)f(buffer)142 b(*inuseBuf;)47 b(/*)23 b(buffers)g(in-use)g(for)g
(this)h(log)f(*/)-1527 57 y(daddr_t)261 b(**logLocnArray;)70 b(/*)23 b
(blocks)g(for)h(log)f(*/)-1336 56 y(unsigned)285 b(logLocnArraySiz)o(e;)
23 b(/*)g(size)g(of)h(array)f(*/)-1360 57 y(unsigned)285 b(lsn;)190 b(/*)
24 b(current)f(lsn)g(value)g(*/)-1408 56 y(})h(*lrp;)-168 113 y(/*)g
(allocate)f(a)g(new)h(log)f(record)g(buffer)g(*/)-907 57 y(lrp)h(=)f
(allocateLogRec\(ldP,)o 23 x(dP\);)-717 112 y(/*)h(initialize)e(buffer)h
(pool)h(for)f(this)h(log)f(*/)-979 57 y(lrp->freeBuf)g(=)g
(initBufPool\(logBu)o(fArray,)o 23 x(logBufArraySiz)o(e\);)-1362 113 y
(lrp->logLocnArray)o 23 x(=)h(logBufArray;)o -765 56 a(lrp->logBufArrayS)o
(ize)e(=)i(logBufArraySize;)o -932 113 a(/*)g(read)f(restart)g(block)g(to)h
(check)f(for)h(clean)f(shutdown)f(*/)-1241 57 y(READBLOCK\(*lrp->l)o
(ogLocnAr)o(ray,)g(*lrp->freeBuf\);)-1076 113 y(/*)i(check)f(restart)g
(record,)g(reset)g(state,)g(etc.)g(*/)-1074 56 y(return)g
(restartLog\(lrp\);)-670 252 y @F11 @sf(Return)18 b(Co)q(des)-250 95 y 
@F10 @sf(LOG)s 14 -2 z 14 x(LOGSTARTED)49 b @F18 @sf(the)14 b(log)f(has)h
(b)q(een)h(started)g(succe)q(ssfully)m(.)-1046 75 y @F10 @sf(LOG)s 14 -2 z 
14 x(LOGCRASHED)49 b @F18 @sf(the)14 b(log)f(has)h(not)g(b)q(een)h(reco)o
(v)o(ered)h(prop)q(erly)m(.)-1177 236 y @F7 @sf(7.2)56 b(log)s 17 -2 z 16 x
(W)-5 b(rite)32 b @F18 @sf(|)13 b(W)m(rite)h(a)f(log)g(record)-775 202 y 
@F16 @sf(int32)21 b @F11 @sf(log)s 16 -2 z 16 x(W)l(rite)p @F16 @sf(\()p 
56 w(IN)h(logTranR)o(ec)s 13 -2 z 11 x(t)g(tranId;)-497 57 y(IN)g
(unsigned)o 21 x(short)e(recType;)-568 56 y(IN)i(unsigned)o 21 x
(dataLengt)o(h;)-503 56 y(IN)g(daddr)s 13 -2 z 11 x(t)g(diskBlock)o(;)-821 
134 y @F15 @sf(7.2)29 b(log)s 14 -2 z 14 x(W)l(rite)658 b(47)530 b(Marc)o
(h)14 b(2,)h(1993)f(14:04)-1911 b
47 @eop1

48 @bop0

48 @eop0
0 0 48 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1540 145 y @F16 @sf(IN)22 b
(unsigned)o 21 x(dataOffse)o(t;)-503 57 y(IN)g(caddr)s 13 -2 z 11 x(t)g
(oldData;)-410 56 y(IN)g(caddr)s 13 -2 z 11 x(t)g(newData;)-410 56 y(OUT)f
(unsigned)f(*lsn;)-393 57 y(\))-390 202 y @F11 @sf(P)o(arameters)-192 108 y 
@F10 @sf(tranId)i @F18 @sf(-)-180 75 y @F10 @sf(recType)g @F18 @sf(-)-204 
75 y @F10 @sf(dataLength)g @F18 @sf(-)-276 75 y @F10 @sf(diskBlock)g 
@F18 @sf(-)-252 75 y @F10 @sf(dataOffset)g @F18 @sf(-)-276 75 y @F10 @sf
(oldData)g @F18 @sf(-)-204 76 y @F10 @sf(newData)g @F18 @sf(-)-204 75 y 
@F10 @sf(lsn)g @F18 @sf(-)-178 170 y @F11 @sf(Description)-262 136 y @F7 @sf
(7.3)56 b(log)s 17 -2 z 16 x(Sh)n(utdo)n(w)q(n)34 b @F18 @sf(|)13 b
(Prohibit)h(new)g(transactions)g(on)g(a)g(sp)q(eci\014ed)h(device)-1404 
202 y @F16 @sf(int32)21 b @F11 @sf(log)s 16 -2 z 16 x(Sh)o(utdo)o(wn)p 
@F16 @sf(\()p 56 w(IN)g(struct)g(async)s 13 -2 z 11 x(device)g(*dP;)-583 
57 y(IN)g(unsigned)f(wait;)-371 56 y(\))-487 202 y @F11 @sf(P)o(arameters)
-192 108 y @F10 @sf(dP)j @F18 @sf(-)k(the)15 b(device)f(to)g(stop)g(new)h
(transactions)f(against.)-911 75 y @F10 @sf(wait)22 b @F18 @sf(-)34 b
(zero)17 b(if)f(the)i(caller)f(do)q(es)g(not)g(wish)g(to)f(blo)q(c)o(k)h
(p)q(ending)g(a)f(true)i(sh)o(utdo)o(wn.)27 b(Otherwise)18 b(the)g(caller)f
(is)-1713 57 y(blo)q(c)o(k)o(ed.)-345 393 y @F15 @sf(7.3)29 b(log)s 14 -2 z 
14 x(Sh)o(utdo)o(wn)572 b(48)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
48 @eop1

49 @bop0

49 @eop0
0 0 49 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)f(call)g(sc)o(hedules)i(sh)o(utdo)o
(wn)e(on)g(the)h(sp)q(eci\014ed)h(log)d(system.)22 b(It)15 b(ma)o(y)f(b)q
(e)i(used)g @F12 @sf(synchr)n(onously)e @F18 @sf(b)o(y)h(setting)h(the)-1909 
56 y @F10 @sf(wait)f @F18 @sf(param)o(eter,)g(or)g(ma)o(y)e(b)q(e)j(used)g 
@F12 @sf(asynchr)n(onously)e @F18 @sf(b)o(y)h(clearing)g(the)h @F10 @sf
(wait)e @F18 @sf(parameter)h(and)g(maki)o(ng)f(m)o(ul)o(tiple)-1911 57 y
(calls)f(to)h @F12 @sf(lo)n(g)s 14 -2 z 13 x(Shutdown)p @F18 @sf(.)-415 
95 y(The)d(attempt)f(with)g(this)h(call)f(is)h(to)f(pro)o(vide)h(an)f
(orderly)h(mec)o(hanism)o 10 x(for)f(signaling)f(an)h(imp)q(ending)f(call)h
(to)h @F12 @sf(lo)n(g)s 14 -2 z 13 x(Close)p @F18 @sf(.)-1911 57 y(The)20 b
(actual)g(design)f(of)h(this)f(in)o(terface)i(presumes)f(that)g(new)g
(transactions)g(will)f(b)q(e)h(allo)o(w)o(ed)e(if)h(asso)q(ciated)i(with)
-1910 56 y(curren)o(tly-running)14 b(transactions;)g(otherwise)h
(additional)d(requests)q 15 x(will)h(b)q(e)h(denied.)-1383 96 y(Once)i
(called,)d(the)j(\014nal)d(close)i(m)o(ust)f(b)q(e)h(executed)h(and)e(the)h
(\014le)g(system)f(reinitialized)g(b)q(efore)h(it)f(is)g(a)o(v)n(ailabl)o
(e)g(to)g(the)-1909 56 y(system)g(again.)-248 129 y @F11 @sf(Return)k(Co)q
(des)-250 96 y @F10 @sf(LOG)s 14 -2 z 14 x(OK)59 b @F18 @sf(the)19 b(op)q
(eration)f(completed)g(success)q(fully)m(.)31 b(If)18 b(the)h(call)e(w)o
(as)i @F12 @sf(synchr)n(onous)e @F18 @sf(no)h(further)h(outstand-)-1712 
56 y(ing)d(transactions)i(are)g(activ)o(e.)28 b(If)17 b(the)h(call)e(w)o
(as)h @F12 @sf(asynchr)n(onous)g @F18 @sf(the)h(\014le)f(system)g(will)f
(not)h(start)h(new)-1712 57 y(transactions.)-358 71 y @F10 @sf(LOG)s 14 
-2 z 14 x(NOTACTIVE)47 b @F18 @sf(the)13 b(log)f(w)o(as)g(not)h(activ)o
(e.)18 b(This)12 b(can)h(either)h(mean)d(it)h(w)o(as)h(not)g(started)g(or)g
(that)g(all)e(p)q(ending)-1712 56 y(transactions)16 b(on)f(it)h(ha)o(v)o
(e)f(terminated)g(\(e.g.)23 b(if)15 b(using)g(this)h(routine)g(async)o
(hronously)m(.\))23 b(No)15 b(action)h(w)o(as)-1713 57 y(tak)o(en.)-308 
199 y @F7 @sf(7.4)56 b(log)s 17 -2 z 16 x(Close)33 b @F18 @sf(|)13 b(T)m
(erminate)g(loggi)o(ng)g(on)g(a)h(sp)q(eci\014ed)h(device)-1152 173 y 
@F16 @sf(int32)21 b @F11 @sf(log)s 16 -2 z 16 x(Close)p @F16 @sf(\()p 56 w
(IN)h(struct)e(async)s 13 -2 z 12 x(device)g(*dP;)-583 57 y(\))-383 173 y 
@F11 @sf(P)o(arameters)-192 104 y @F10 @sf(dP)j @F18 @sf(-)k(the)15 b
(device)f(to)g(stop)g(all)f(logging)o 13 x(up)q(on.)-824 146 y @F11 @sf
(Description)-262 95 y @F18 @sf(This)e(call)e(is)i(used)g(to)g(terminate)f
(all)f(logging)g(on)h(a)g(particular)h(device.)18 b(The)11 b(call)e(blo)q
(c)o(ks)i(un)o(til)f(all)f(curren)o(tly)j(executing)-1909 57 y(routines)i
(terminate;)f @F12 @sf(no)h @F18 @sf(new)g(transactions)h(are)f(allo)o(w)o
(ed)f(to)g(b)q(e)i(started.)-1204 95 y(This)i(routine)h(should)f(b)q(e)h
(called)f @F12 @sf(after)g @F18 @sf(an)h(orderly)f(sh)o(utdo)o(wn)h(\(via)e
(the)i @F12 @sf(lo)n(g)s 14 -2 z 13 x(Shutdown)g @F18 @sf(call\))f(has)g
(b)q(een)i(accom-)-1911 57 y(plished.)h(A)o(ttempts)15 b(to)f(start)i(new)f
(transactions)g(against)f(this)h(\014le)f(system)h(will)e(fail)g(if)h
(they)h(are)g(not)f(\\authorized")-1909 56 y(via)f(the)i(old-transaction)e
(sp)q(onsorship)i(metho)q(d)e(or)h(will)f(b)q(e)h(considered)i(unreco)o(v)o
(erable)f(errors)g(if)f(they)g @F12 @sf(ar)n(e)g @F18 @sf(against)-1910 
57 y(suc)o(h)h(an)e(old-transaction.)-436 158 y @F15 @sf(7.4)29 b(log)s 
14 -2 z 14 x(Close)663 b(49)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
49 @eop1

50 @bop0

50 @eop0
0 0 50 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(Return)i
(Co)q(des)-250 96 y @F10 @sf(LOG)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b
(op)q(eration)e(completed)h(success)q(fully)m(.)-860 72 y @F10 @sf(LOG)s 
14 -2 z 14 x(NOTACTIVE)49 b @F18 @sf(the)15 b(log)d(w)o(as)i(not)g(activ)o
(e)g(\(e.g.)k(not)c(started.\))19 b(No)14 b(action)f(w)o(as)h(tak)o(en.)
-1561 210 y @F7 @sf(7.5)56 b(log)s 17 -2 z 16 x(T)-5 b(ranLo)r(okup)33 b 
@F18 @sf(|)13 b(Lo)q(okup)g(the)i(transaction)f(record)h(for)f(a)f(sp)q
(eci\014c)j(transaction)e(id)-1667 175 y @F16 @sf(struct)21 b(logTranR)o
(ec)f(*)p @F11 @sf(log)s 16 -2 z 17 x(T)l(ranLo)q(okup)p @F16 @sf(\()p 56 w
(IN)i(logTranR)o(ec)s 13 -2 z 11 x(t)g(tranId;)-497 57 y(\))-822 175 y 
@F18 @sf(This)14 b(routine)g(tak)o(es)g(the)h(sp)q(eci\014ed)g
(transaction)f(id)g(and)f(returns)j(a)d(handle)h(to)g(the)g(actual)g(data)f
(structur)q(e.)-1757 96 y(It)f(w)o(orks)f(b)o(y)g(\014nding)g(the)h(asso)q
(ciated)g(hash)g(buc)o(k)o(et)g(for)f(the)h(transaction)g(iden)o(ti\014ed)g
(b)o(y)f @F10 @sf(tranId)g @F18 @sf(and)g(then)h(searc)o(hing)-1909 56 y
(the)i(list)g(of)f(records)j(in)d(the)i(particular)e(hash)h(buc)o(k)o(et)h
(un)o(til)e(it)g(matc)o(hes)h(the)g(transaction)h(iden)o(ti\014er.)-1634 
96 y(This)e(co)q(de)i(will)c(b)q(e)j(implem)o(en)o(ted)f(as)g(in-line)f
(co)q(de)j(b)q(ecause)g(it)e(is)g(used)h(su\016cien)o(tly)g(frequen)o(tly)f
(that)h(it)f(needs)i(to)e(b)q(e)-1909 56 y(high-sp)q(eed.)-204 96 y @F11 @sf
(P)o(arameters)-192 105 y @F10 @sf(tranId)22 b @F18 @sf(-)28 b(the)14 b
(transaction)g(id)g(of)f(the)h(transaction)g(up)q(on)g(whic)o(h)g(to)g(p)q
(erform)f(the)h(lo)q(okup.)-1588 153 y @F11 @sf(Description)-262 134 y
(Return)k(Co)q(des)-250 95 y @F10 @sf(\(struct)23 b(logTranRec)g(*\)0)50 b 
@F18 @sf(The)14 b(pro)o(vided)g(transaction)g(iden)o(tifer)g(do)q(es)g
(not)g(exist.)-1546 210 y @F7 @sf(7.6)56 b(log)s 17 -2 z 16 x(Allo)r(cT)
-5 b(ran)32 b @F18 @sf(|)14 b(Allo)q(cate)g(a)f(new)h(transaction)-1037 
182 y @F16 @sf(int32)21 b @F11 @sf(log)s 16 -2 z 16 x(Allo)q(cT)q -4 x
(ran)p @F16 @sf(\()1 57 y(IN)g(struct)f(async)s 13 -2 z 12 x(device)h
(*dP;)-583 56 y(IN)g(unsigned)f(wait;)-371 57 y(OUT)h(struct)f(logTranRec)g
(**tp;)-589 56 y(\))-488 228 y @F15 @sf(7.6)29 b(log)s 14 -2 z 14 x(Allo)q
(cT)l(ran)572 b(50)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
50 @eop1

51 @bop0

51 @eop0
0 0 51 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(P)o
(arameters)-192 108 y @F10 @sf(dP)23 b @F18 @sf(-)k(The)14 b(device)h(to)f
(whic)o(h)g(records)h(for)f(this)g(transaction)g(are)g(to)g(b)q(e)g
(written.)-1317 75 y @F10 @sf(wait)22 b @F18 @sf(-)28 b(If)13 b(this)h(is)g
(set,)g(the)h(caller)f(will)e(blo)q(c)o(k)i(un)o(til)f(a)g(transaction)h
(record)h(is)f(a)o(v)n(aila)o(ble.)-1459 75 y @F10 @sf(tp)23 b @F18 @sf(-)k
(The)14 b(allo)q(cated)g(transaction)g(record.)19 b(Only)14 b(v)n(alid)e
(if)h @F11 @sf(LOG)s 16 -2 z 17 x(OK)h @F18 @sf(is)g(returned)h(as)f(the)h
(return)g(co)q(de.)-1823 171 y @F11 @sf(Description)-262 95 y @F18 @sf
(This)j(routine)h(returns)g(a)f(new)h(transaction)f(record;)k(the)c(sp)q
(eci\014ed)q 19 x(record)i(is)e(assigned)g(a)g(transaction)h(id)e(and)i
(is)-1910 57 y(assigned)14 b(to)g(activ)o(e)g(status.)-455 145 y @F11 @sf
(Return)k(Co)q(des)-250 96 y @F10 @sf(LOG)s 14 -2 z 14 x(OK)50 b @F18 @sf
(the)15 b(op)q(eration)e(completed)h(success)q(fully)m(.)-860 75 y @F10 @sf
(LOG)s 14 -2 z 14 x(NOTACTIVE)58 b @F18 @sf(logging)17 b(is)h(not)h
(enabled)g(for)f(the)h(sp)q(eci\014ed)h(device;)h(no)e(action)f(w)o(as)g
(tak)o(en)h(\()p @F10 @sf(tp)f @F18 @sf(is)h @F12 @sf(not)-1713 56 y
(valid)p @F18 @sf(\).)-248 75 y @F10 @sf(LOG)s 14 -2 z 14 x(NOTAVAIL)55 b 
@F18 @sf(no)16 b(transaction)h(records)h(are)f(curren)o(tly)h(a)o(v)n(ail)o
(able)d(and)i(the)g @F10 @sf(wait)f @F18 @sf(\015ag)g(w)o(as)h(not)f(set.)
28 b(No)-1713 57 y(action)13 b(w)o(as)h(tak)o(en.)-512 235 y @F7 @sf(7.7)
56 b(log)s 17 -2 z 16 x(Deallo)r(cT)-5 b(ran)32 b @F18 @sf(|)13 b(Deallo)q
(cate)h(a)f(transaction)-1045 202 y @F16 @sf(int32)21 b @F11 @sf(log)s 16 
-2 z 16 x(Deallo)r(cT)q -4 x(ran)p @F16 @sf(\()p 57 w(IN)h(struct)e
(logTranRec)g(*tp;)-546 56 y(\))-537 202 y @F11 @sf(P)o(arameters)-192 108 y 
@F10 @sf(tp)j @F18 @sf(-)k(The)14 b(transaction)h(record)g(whic)o(h)e(is)h
(to)g(b)q(e)g(deallo)q(cated.)-1095 170 y @F11 @sf(Description)-262 96 y 
@F18 @sf(This)9 b(routine)h(deallo)q(cates)f(the)h(sp)q(eci\014ed)h
(transaction)e(record;)j(the)e(status)g(of)f(the)g(transaction)h(record)g
(\()p @F10 @sf(tp)p @F13 @sf(!)p @F10 @sf(status)p @F18 @sf(\))-1911 56 y
(m)o(ust)j(b)q(e)h @F11 @sf(LOG)s 16 -2 z 17 x(TRANST)l(A)l(T)s 16 -2 z 
15 x(COMPLETE)p @F18 @sf(.)-907 96 y(Up)q(on)g(a)g(success)q(ful)g
(return,)h(no)e(additional)g(reference)q(s)i(to)f @F10 @sf(tp)g @F18 @sf
(should)f(b)q(e)i(made.)-1330 211 y @F15 @sf(7.7)29 b(log)s 14 -2 z 14 x
(Deallo)q(cT)l(ran)528 b(51)i(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
51 @eop1

52 @bop0

52 @eop0
0 0 52 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(Return)i
(Co)q(des)-250 96 y @F10 @sf(LOG)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b
(op)q(eration)e(terminated)h(success)q(fully)m(.)-874 75 y @F10 @sf(LOG)s 
14 -2 z 14 x(INVALID)53 b @F18 @sf(the)16 b(pro)o(vided)f(transaction)h
(record)h(is)e(for)g(a)g(non-terminated)g(transaction.)23 b(The)16 b
(requeste)q(d)-1711 56 y(op)q(eration)d(w)o(as)h @F12 @sf(not)g @F18 @sf
(p)q(erformed.)-737 236 y @F7 @sf(7.8)56 b(log)s 17 -2 z 16 x(F)-5 b(orce)
33 b @F18 @sf(|)13 b(F)m(orce)i(the)f(sp)q(eci\014ed)i(log)c(device)-967 
202 y @F16 @sf(int32)21 b @F11 @sf(log)s 16 -2 z 16 x(F)l(orce)p @F16 @sf
(\()p 56 w(IN)g(struct)f(async)s 13 -2 z 12 x(device)h(*ldP;)-605 56 y(IN)g
(unsigned)f(lsn;)-349 57 y(\))-384 202 y @F11 @sf(P)o(arameters)-192 108 y 
@F10 @sf(ldP)i @F18 @sf(-)28 b(the)14 b(log)f(device)i(to)f(whic)o(h)g(w)o
(e)g(should)f(force.)-860 75 y @F10 @sf(lsn)22 b @F18 @sf(-)28 b(the)14 b
(log)f(sequenc)q(e)i(n)o(um)o(b)q(er)f(up)g(to)f(whic)o(h)h(w)o(e)g
(should)g(force)g(the)h(log.)-1328 170 y @F11 @sf(Description)-262 96 y 
@F18 @sf(This)f(routine)g(is)g(called)f(to)h(force)g(the)h(log)e(on)g(a)h
(sp)q(eci\014c)h(device)g(up)f(to)g(a)f(sp)q(eci\014c)j(page.)-1434 95 y
(If)e(p)q(ossible,)f(w)o(e)h(a)o(v)o(oid)f(writing)g(the)h(curren)o(t)i
(log)d(page.)18 b(Otherwise,)d(the)f(en)o(tire)h(log)d(is)i(\015ushed)h
(to)f(disk.)-1700 146 y @F11 @sf(Return)k(Co)q(des)-250 95 y @F10 @sf(LOG)s 
14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b(log)d(w)o(as)i(forced.)-596 753 y 
@F15 @sf(7.8)29 b(log)s 14 -2 z 14 x(F)l(orce)662 b(52)530 b(Marc)o(h)14 b
(2,)h(1993)f(14:04)-1911 b
52 @eop1

53 @bop0
@F1 @sf
[<
0003FF8000003FFFF80000FFFFFE0003FFFFFF8007FE007FC00FF00007E01FE00003F03FC0
0001F83F800000FC7F000000FC7F0000007EFE0000007EFE0000007EFE0000007FFE000000
7FFE000000FFFE000000FFFE000001FFFE000003FF7F00000FFF7F00003FFF3F8000FFFE3F
8001FFFE1FC007FFFC0FE01FFFFC07F07FFFF801FDFFFFF000FFFFFFF0003FFFFFE0003FFF
FF80007FFFFF0000FFFFFE0001FFFFF80003FFFFFC0007FFFFFF0007FFFE3F800FFFFC1FC0
0FFFF00FE01FFFC007E01FFF0007F01FFC0007F01FF80003F81FF00003F81FE00003F81FC0
0003F81FC00003F80FC00003F80FC00003F807C00007F007C00007F003E0000FE001F0000F
C000F8003F80007F00FF00003FFFFE00000FFFF8000001FF8000>
	 40 57 -4 55 49] 56 @dc
@F2 @sf
[<
0000000000000000FFF000FFFFFFFFF000001FFFFC00FFFFFFFFF000007FFFFE00FFFFFFFF
F00001FFFFFF00FFFFFFFFF00003FFFC1F80FFFFFFFFF00007FFF007C0001FFF8000000FFF
E007E0001FFF8000001FFFE003E0001FFF8000003FFFC003F0001FFF8000003FFFC001F000
1FFF8000007FFFC001F0001FFF8000007FFFC001F0001FFF8000007FFF8001F0001FFF8000
007FFF8000E0001FFF8000007FFF800000001FFF8000007FFF800000001FFF8000007FFF80
0000001FFF8000007FFF800000001FFF8000007FFF800000001FFF8000007FFF000000001F
FF8000007FFF000000001FFF8000007FFF000000001FFF8000007FFF000000001FFF800000
7FFF000000001FFF8000007FFF000000001FFF8000007FFF000000001FFF8000007FFE0000
00001FFF800000FFFE000000001FFF800000FFFE000000001FFF800001FFFC000000001FFF
800001FFF8000000001FFF800003FFF0000000001FFF800007FFE0000000001FFF80001FFF
C0000000001FFF80007FFF80000000001FFFFFFFFFFE00000000001FFFFFFFFFF800000000
001FFFFFFFFFFE00000000001FFFFFFFFFFFC0000000001FFF80001FFFF0000000001FFF80
0003FFF8000000001FFF800000FFFE000000001FFF8000003FFF000000001FFF8000001FFF
800000001FFF8000000FFFC00000001FFF8000000FFFE00000001FFF8000000FFFE0000000
1FFF80000007FFF00000001FFF80000007FFF00000001FFF80000007FFF80000001FFF8000
0007FFF80000001FFF80000007FFF80000001FFF80000007FFF80000001FFF80000007FFF8
0000001FFF80000007FFF80000001FFF80000007FFF80000001FFF80000007FFF80000001F
FF80000007FFF00000001FFF80000007FFF00000001FFF8000000FFFE00000001FFF800000
0FFFE00000001FFF8000000FFFC00000001FFF8000001FFF800000001FFF8000003FFF8000
00001FFF8000007FFF000000001FFF800001FFFC000000001FFF80001FFFF8000000FFFFFF
FFFFFFFFE0000000FFFFFFFFFFFFFF80000000FFFFFFFFFFFFFE00000000FFFFFFFFFFFFF0
00000000FFFFFFFFFFFC0000000000>
	 84 72 -4 70 89] 82 @dc
[<
01FE00000000000007FFC000000000001FFFF000000000003FFFF800000000007F43FE0000
0000007FE07F0000000000FFF03F8000000000FFF01F8000000000FFF00FC000000000FFF0
07E000000000FFF003E000000000FFF003F0000000007FE001F0000000003FC001F8000000
001F8000F800000000000000FC000000000000007C000000000000007E000000000000003E
000000000000003F000000000000003F000000000000003F000000000000007F8000000000
00007F80000000000000FFC0000000000000FFC0000000000001FFE0000000000001FFE000
0000000003FFF0000000000003FFF0000000000007FFF8000000000007FFF800000000000F
FFFC00000000000FFFFC00000000000FFF7C00000000001FFF7E00000000001FFE3E000000
00003FFE3F00000000003FFC1F00000000007FFC1F80000000007FF80F8000000000FFF80F
C000000000FFF007C000000001FFF007E000000001FFF003E000000003FFE003F000000003
FFE003F000000003FFC001F000000007FFC001F800000007FF8000F80000000FFF8000FC00
00000FFF00007C0000001FFF00007E0000001FFE00003E0000003FFE00003F0000003FFC00
001F0000007FFC00001F8000007FFC00000F800000FFF800000FC00000FFF800000FC00000
FFF000000FE0007FFFFFC000FFFF807FFFFFC000FFFF807FFFFFC000FFFF807FFFFFC000FF
FF807FFFFFC000FFFF80>
	 57 66 -2 45 63] 121 @dc
@F6 @sf
[<
007FC00003FFF8000FFFFC001FC03E003F000F007C0007807C0003C0F80003C0F80003E0F8
0003E0F80003E0F80007E0F80007E078001FE07C007FE03C01FFC01E03FFC00F0FFF8007FF
FF0001FFFE0001FFFC0003FFF80007FFE0000FFFF8001FFE3C001FFC1E003FF01F003FC00F
003F000F803F000F803E000F803E000F801E000F801E001F000F003F0007C07E0003FFFC00
01FFF000003FC000>
	 27 39 -3 38 34] 56 @dc

53 @eop0

0 0 53 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(8)-436 246 y @F2 @sf(Reco)m(v)m(ery)39 b(P)m(ac)m(k)-7 b(age)40 b(Design)
-1319 280 y @F6 @sf(8.1)70 b(Ov)n(erview)o -440 137 a @F18 @sf(The)13 b
(reco)o(v)o(ery)h(pac)o(k)n(age)e(can)h(b)q(e)g(impl)o(em)o(en)o(ted)g(in)f
(t)o(w)o(o)g(v)o(ery)h(di\013eren)o(t)g(en)o(vironmen)o(ts;)f(dep)q
(ending)i(up)q(on)e(the)h(partic-)-1909 56 y(ular)g(en)o(vironmen)o(t)g
(the)i(o)o(v)o(erall)d(design)j(m)n(ust)e(b)q(e)i(di\013eren)o(t.)-976 96 y
(The)e(\014rst)h(p)q(ossible)f(en)o(vironmen)o(t)e(is)i(that)g(reco)o(v)o
(ery)g(resides)i(as)d(an)h(external)g(user-space)q 14 x(program)e(whic)o
(h)i(reference)q(s)-1908 56 y(the)i(disk.)k(If)14 b(this)g(is)g(the)h
(case,)g(the)g(en)o(tire)g(pac)o(k)n(age)f(m)o(ust)f(b)q(e)i(impl)o(em)o
(en)o(ted)f(up)q(on)g(some)g(sort)g(of)g(ra)o(w-disk)g(pseudo-)-1909 57 y
(pac)o(k)n(age)g(\(whic)o(h)f(allo)o(ws)g(reading)h(and)f(writing)h(to)f
(and)h(from)e(the)j(underlying)e(disk.\))-1393 95 y(The)h(second)g(p)q
(ossible)f(en)o(vironmen)o(t)f(is)h(that)g(reco)o(v)o(ery)h(is)f(a)g(pure)h
(k)o(ernel)f(impl)o(em)o(en)o(tation.)j(Reco)o(v)o(ery)e(is)f(p)q
(erformed)-1910 57 y(transparen)o(tly)k(\(and)g(seamlessly\))f(from)o 15 x
(the)h(standp)q(oin)o(t)g(of)f(the)h(system)f(admini)o(strator)g(and/or)g
(user.)27 b(The)17 b(only)-1910 56 y(noticable)d(e\013ect)h(w)o(ould)e(b)q
(e)i(the)f(time)f(dela)o(y)g(to)h(bring)f(the)i(\014le)f(system)f
(on-line.)-1309 96 y(The)k(third)f(p)q(ossible)h(en)o(vironmen)o(t)e(is)h
(that)h(the)g(reco)o(v)o(ery)g(is)f(a)g(mixed)f(k)o(ernel/user-space)q 18 x
(im)o(plem)o(en)o(tation.)o 25 x(This)-1910 56 y(app)q(ears)20 b(to)g(b)q
(e)g(b)q(e)g(the)g(most)e(di\016cult)h(of)g(the)h(v)n(arious)e(p)q
(ossible)i(scenarios)g(and)g(one)f(whic)o(h)h(can)f(most)g(greatly)-1910 
57 y(compli)o(cate)d(the)h(o)o(v)o(erall)e(in)o(terface)i(\(whic)o(h,)f
(admi)o(ttedly)m(,)f(do)q(es)i(not)f(deal)g(w)o(ell)g(with)g(the)g(m)o
(yriad)f(of)g(issues)j(in)d(this)-1909 56 y(case\).)20 b(F)m(or)14 b(our)g
(design)g(w)o(e)h(will)e(presume)h(that)g(either)h(the)g(\014rst)g(or)f
(second)h(en)o(vironmen)o(ts)f(are)h(the)f(rule.)19 b(Later)c(w)o(e)-1909 
57 y(will)d(discuss)j(issues)g(particular)f(to)g(eac)o(h)g(en)o(vironmen)o
(t.)-907 95 y(Although)f(the)h(mec)o(hanics)e(of)h(the)h(reco)o(v)o(ery)g 
@F12 @sf(interfac)n(e)e @F18 @sf(ha)o(v)o(e)i(not)f(b)q(een)h(hea)o(vily)e
(analyzed,)h(the)h(algorithm)o(s)e(used)i(in)-1910 57 y(p)q(erforming)f
(reco)o(v)o(ery)i @F12 @sf(have)g @F18 @sf(b)q(een)h(analyzed)e(and)g
(discussed)q 15 x(in)g(great)h(depth.)21 b(The)14 b(design)h(of)f(the)h
(log)e(system)i(w)o(as)-1910 56 y(hea)o(vily)e(in\015uenced)i(b)o(y)e(a)h
(desire)h(to)f(mak)n(e)f(the)i(reco)o(v)o(ery)g(algorithm)o(s)d(simple)h
(and)g(fast.)-1436 177 y @F6 @sf(8.2)70 b(Design)-361 136 y @F18 @sf(In)
14 b(a)f(n)o(utshell,)h(here)h(are)f(the)h(steps)g(in)e(p)q(erforming)g
(reco)o(v)o(ery:)-1011 244 y @F15 @sf(8.2)29 b(Design)711 b(53)530 b(Marc)o
(h)14 b(2,)h(1993)f(14:04)-1911 b
53 @eop1

54 @bop0
@F6 @sf
[<
FFFFFCFFFFFCFFFFFC01FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001
FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE
0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE00
01FE00FFFFFCFFFFFCFFFFFC>
	 22 41 -2 40 26] 73 @dc
@F12 @sf
[<
FFFFF8000F00780007801C0007800C00078006000780060003C0020003C0030003C0010003
C0010001E0008001E0000001E0000001E0000000F0000000F0000000F0000000F000000078
0000007800000078000000780000003C0000003C0000003C0000003C0000001E0000001E00
00001E0000001F000001FFF800>
	 25 31 -3 30 29] 76 @dc
@F7 @sf
[<
FFFCFFFCFFFCFFFC>
	 14 4 -1 12 19] 45 @dc

54 @eop0

0 0 54 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1849 145 y @F18 @sf(1.)22 b(W)m
(e)13 b(lo)q(cate)i(the)f @F12 @sf(tail)g @F18 @sf(of)g(the)g(log)g(b)o(y)f
(p)q(erforming)g(a)h(binary)g(searc)o(h)h(on)f(the)g(log)f(records)q 15 x
(\(whic)o(h)h(are)h(sorted)g(in)-1796 57 y @F12 @sf(desc)n(ending)d @F18 @sf
(order)i(based)h(up)q(on)f(the)g @F12 @sf(p)n(ass)i(numb)n(er)p @F18 @sf
(\).)-952 93 y(2.)22 b(The)14 b(last)g(v)n(alid)e(log)h(page)h(con)o
(tains)g(t)o(w)o(o)f(v)n(ariables:)k(the)e(oldest)f(activ)o(e)g(data)f
(bu\013er)i(and)f(the)h(oldest)f(running)-1796 57 y(transaction.)22 b(Eac)o
(h)16 b(of)e(these)j(is)e(stored)h(as)g(an)f(o\013set)h(in)o(to)e(the)i
(circular)g(log.)21 b(By)15 b(taking)g(mi)o(n\(oldest)f(activ)o(e)-1795 
56 y(data)f(bu\013er,)i(oldest)f(running)f(transaction\))i(w)o(e)f(can)g
(compute)f(where)i(the)g @F12 @sf(he)n(ad)f @F18 @sf(of)f(the)i(log)d(is.)
-1612 94 y(3.)22 b(Beginning)13 b(with)g(the)i(head)f(of)f(the)h(log,)f
(eac)o(h)h(log)f(page)g(is)h(read)g(in,)f(the)i(log)d(records)k(extracted)f
(and)f(a)f(link)o(ed)-1796 57 y(list)j(of)g(the)h(transactions)g(are)g
(built.)25 b(T)m(ransactions)17 b(with)f(a)g @F12 @sf(c)n(ommit)h @F18 @sf
(record)h(are)e(placed)h(in)f(a)h(list)f(of)g @F12 @sf(r)n(e)n(do)-1796 
56 y @F18 @sf(transactions)e(and)f(those)h(without)f(are)h(placed)g(in)f
(an)g @F12 @sf(undo)h @F18 @sf(list.)j(W)m(e)c(can)h(optim)o(ize)f(the)h 
@F12 @sf(r)n(e)n(do)f @F18 @sf(list)g(b)o(y)g(noting)-1796 56 y(that)i(an)o
(y)f(transaction)h(corresp)q(onding)h(to)f(an)f(o\013set)i(earlier)f(than)g
(the)g(\\oldest)g(activ)o(e)g(data)g(bu\013er")g(\(whic)o(h)-1795 57 y(w)o
(e)f(found)f(in)h(the)g(previous)g(step\))h(need)g(not)f(b)q(e)h(rep)q
(eated.)-1015 94 y(4.)22 b(Once)16 b(w)o(e)g(ha)o(v)o(e)f(collected)h
(these)h(t)o(w)o(o)e(lists,)g(w)o(e)g(can)h(build)e(a)h(list)g(of)g(op)q
(erations)h(to)f(p)q(erform)f(up)q(on)i(the)g(disk)-1796 56 y(bu\013ers;)h
(this)f(list)g(can)g(b)q(e)g(further)h(optimi)o(zed)e(to)h @F12 @sf(mer)n
(ge)g @F18 @sf(the)g(op)q(erations)g(so)g(no)g(disk)f(blo)q(c)o(k)h
(receiv)o(es)h(more)-1796 57 y(than)c(a)h(single)g(write.)-406 93 y(5.)22 b
(W)m(e)c(can)g @F12 @sf(che)n(ckp)n(oint)g @F18 @sf(the)h(redo)g(op)q
(eration)f(b)o(y)h(writing)e(in)o(to)h(the)h @F12 @sf(r)n(e)n(c)n(overy)h
(timestamp)f @F18 @sf(\014eld)g(of)e(the)i(log)-1796 57 y(records)d(p)q
(erio)q(dically;)e(of)h(course)h(if)e(w)o(e)i(im)o(plem)o(en)o(t)e(this)h
(optimi)o(zation,)o 14 x(w)o(e)g(should)g(also)g(use)h(it)e(when)i(com-)
-1797 56 y(puting)f(our)h(o)o(v)o(erall)f(reco)o(v)o(ery)i(strategy)m(.)
24 b(F)m(or)16 b(our)g(initial)o 15 x(design)g(w)o(e)g(do)f(not)h(plan)g
(on)f(including)g(this)h(opti-)-1796 57 y(mi)o(zation.)o 22 x(Because)h
(our)e(writes)h(will)e(include)h @F12 @sf(no)g @F18 @sf(activities)g
(others)h(than)g(those)g(already)f(con)o(tained)g(in)g(the)-1795 56 y(log)e
(w)o(e)h(do)f(not)h(comprom)o(ise)f(the)h(in)o(tegrit)o(y)g(of)f(the)h
(log.)-966 94 y(6.)22 b(Once)17 b(the)g(en)o(tire)g(reco)o(v)o(ery)g(has)f
(b)q(een)h(p)q(erformed,)f(w)o(e)h(can)f @F12 @sf(write)g @F18 @sf(a)g 
@F12 @sf(r)n(estart)j(r)n(e)n(c)n(or)n(d)c @F18 @sf(in)h(the)h @F12 @sf
(\014rst)e @F18 @sf(blo)q(c)o(k)h(of)-1796 57 y(the)d(log;)f(up)q(on)i
(initial)o(izatio)o(n)e(the)i(log)e(will)g(pro)q(ceed)i(to)f(c)o(hec)o(k)i
(that)e(\014rst)h(blo)q(c)o(k)f(for)g(the)g(restart)i(inform)o(atio)o(n.)
-1797 56 y(If)e(it)h(is)f @F12 @sf(not)h @F18 @sf(presen)o(t)i(the)e(log)f
(will)f(not)i(initiali)o(ze.)-918 176 y @F6 @sf(8.3)70 b(Imple)o(m)o(en)n
(tati)o(on)22 b(Concerns)-933 139 y @F7 @sf(8.3.1)55 b(Kernel)18 b(Impl)o
(em)o(e)o(n)n(tation)-743 122 y @F18 @sf(The)e(k)o(ernel)h(im)o(plem)o(en)o
(tation)d(of)h(the)i(reco)o(v)o(ery)g(mec)o(hanism)o 14 x(w)o(ould)e(pro)o
(vide)h(a)g(completely)e(transparen)o(t)j(reco)o(v)o(ery)-1908 57 y(mec)o
(hanism)o 10 x(to)11 b(the)h(system)g(admi)o(nistrator)e(and)h(user.)19 b
(In)11 b(this)h(mo)q(del,)o 11 x(our)f(impl)o(em)o(en)o(tation)f(of)h 
@F12 @sf(buf)s 14 -2 z 14 x(L)n(o)n(gIn)o(it)f @F18 @sf(w)o(ould)-1910 56 y
(replace)h(the)f @F12 @sf(c)n(ase)f @F18 @sf(co)q(de)h(for)f(the)h @F11 @sf
(LOG)s 16 -2 z 17 x(LOGCRASHED)g @F18 @sf(return)h(from)d @F12 @sf(lo)n(g)s 
14 -2 z 13 x(Init)h @F18 @sf(with)g(a)g(call)g(to)h @F12 @sf(r)n(e)n(cvr)s 
14 -2 z 13 x(R)n(e)n(c)n(over)p @F18 @sf(.)-1911 57 y(P)o(erformance)h(in)g
(this)h(case)g(could)g(b)q(e)g(enhanced)h(for)e(the)h(o)o(v)o(erall)e
(system)i(b)o(y)f(pro)o(viding)f(a)h @F12 @sf(mount)h @F18 @sf(mec)o
(hanism)e(whic)o(h)-1910 56 y(pro)o(vided)16 b(a)f(single)h(user)h(pro)q
(cess)h @F12 @sf(p)n(er)d @F18 @sf(moun)o(t.)23 b(Th)o(us,)16 b(reco)o(v)o
(ery)h(o)o(v)o(er)f(all)e(\014le)i(systems)g(could)g(b)q(e)g(optimized.)
23 b(The)-1909 56 y(impl)o(em)o(en)o(tation)16 b(of)h(this)h(reco)o(v)o
(ery)h(co)q(de)g @F12 @sf(must)e @F18 @sf(b)q(e)i(designed)f(with)g(this)g
(t)o(yp)q(e)g(of)f(parallelism)o 16 x(in)g(mind)f(\(e.g.)30 b(no)-1910 57 y
(global)12 b(data)i(structures)q(.\))19 b(This)14 b(could)g(pro)o(vide)g
(a)f(signi\014can)o(t)h(p)q(erformance)f(impro)o(v)o(em)o(en)o(t.)-1515 
155 y @F7 @sf(8.3.2)55 b(User-space)18 b(Implem)n(en)n(tation)-842 123 y 
@F18 @sf(The)12 b(user)g(space)g(impl)o(em)o(en)o(tation)e(of)g(the)i
(reco)o(v)o(ery)h(mec)o(hanism)o 9 x(w)o(ould)e @F12 @sf(not)g @F18 @sf
(ha)o(v)o(e)g(the)h(same)e(sync)o(hronization)h(issues)-1908 56 y(as)16 b
(the)h(k)o(ernel)g(impl)o(emen)o(tati)o(on)e(\(suc)o(h)i(could)g(simpl)o
(y)e(b)q(e)i(addressed)h(b)o(y)e(using)g(separate)i(address)f(spaces)h
(via)e(the)-1909 148 y @F15 @sf(8.3)29 b(Implemen)q -1 x(tation)16 b
(Concerns)333 b(54)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
54 @eop1

55 @bop0

55 @eop0
0 0 55 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F12 @sf(fork)h 
@F18 @sf(mec)o(hanism)o(.)o(\))25 b(Ho)o(w)o(ev)o(er,)17 b(the)g
(user-space)h(impl)o(em)o(en)o(tation)d(m)o(ust)g(re-implem)o(en)o(t)g
(\(or)i(imp)q(ort\))e(m)o(uc)o(h)g(of)h(the)-1909 57 y(lo)o(w)o(er-lev)o
(el)d(in)o(terface)i(to)e(the)i(underlying)e(disk)h(structure)q(.)-962 2517 y 
@F15 @sf(8.3)29 b(Implemen)q -1 x(tation)16 b(Concerns)333 b(55)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
55 @eop1

56 @bop0
@F1 @sf
[<
000FF80000007FFF000001FFFFC00003FFFFF00007F01FFC0007C003FE000FE001FF000FF0
00FF801FF8007FC01FFC003FC01FFC003FE01FFC003FF01FFC001FF00FF8001FF807F0001F
F803E0001FFC0000000FFC0000000FFC0000000FFE0000000FFE0000000FFE000FFE0FFE00
7FFF0FFF00FFEF8FFF01FE01CFFF03FC006FFF07F8007FFF0FF8003FFF1FF0003FFF3FF000
1FFF3FF0001FFF7FF0001FFF7FF0001FFF7FF0000FFFFFF0000FFFFFF0000FFFFFF0000FFF
FFF0000FFEFFF0000FFEFFF0000FFEFFF0000FFEFFF0000FFEFFF0000FFCFFF0000FFC7FF0
000FFC7FF0000FF83FF0000FF83FF0001FF01FF8001FF00FF8001FE00FF8003FC007FC003F
8001FE007F0000FF81FE00007FFFFC00001FFFF0000001FF8000>
	 40 57 -4 55 49] 57 @dc
@F15 @sf
[<
7FFFFFE0FFFFFFF00000000000000000000000000000000000000000000000000000000000
000000FFFFFFF07FFFFFE0>
	 28 12 -3 16 35] 61 @dc
@F13 @sf
[<
400000C000006000006000003000003000001800001800000C00000C000006000006000006
000003000003000001800001800000C00000C0000060000060000030000030000018000018
00000C00000C000006000006000003000003000001800001800001800000C00000C0000060
00006000003000003000001800001800000C00000C>
	 22 44 -6 32 0] 54 @dc
@F18 @sf
[<
804020101008080868F8F060>
	 5 12 -4 28 12] 39 @dc

56 @eop0

0 0 56 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(9)-436 246 y @F2 @sf(Reco)m(v)m(ery)39 b(In)m(terface)-975 262 y @F7 @sf
(9.1)56 b(recvr)s 17 -2 z 16 x(Reco)n(v)n(er)31 b @F18 @sf(|)14 b(Reco)o
(v)o(er)g(from)e(a)i(system)f(failure)-1098 197 y @F16 @sf(int32)21 b 
@F11 @sf(recvr)s 16 -2 z 14 x(Reco)o(v)o(er)p @F16 @sf(\()-1 56 y(IN)g
(struct)g(async)s 13 -2 z 11 x(device)g(*ldP;)-605 57 y(IN)g(struct)g
(async)s 13 -2 z 11 x(device)g(*dP;)-583 56 y(IN)g(daddr)s 13 -2 z 12 x(t)h
(*logLocn)o(Array)o(;)-540 57 y(IN)f(unsigned)f(logLocnArray)o(Size;)o -633 
56 a(\))-494 197 y @F11 @sf(P)o(arameters)-192 108 y @F10 @sf(ldP)i @F18 @sf
(-)28 b(device)15 b(up)q(on)f(whic)o(h)f(the)i(log)e(is)g(lo)q(cated.)-807 
74 y @F10 @sf(dP)23 b @F18 @sf(-)k(device)15 b(against)e(whic)o(h)h(reco)o
(v)o(ery)h(is)e(to)h(b)q(e)h(p)q(erformed.)-1010 75 y @F10 @sf
(logLocnArray)21 b @F18 @sf(-)28 b(arra)o(y)13 b(of)h(disk)f(blo)q(c)o(ks)h
(whic)o(h)g(are)g(to)g(b)q(e)h(used)f(b)o(y)g(the)g(logging)e(pac)o(k)n
(age.)-1534 74 y @F10 @sf(logLocnArraySize)o 22 x @F18 @sf(-)27 b(n)o(um)o
(b)q(er)13 b(of)h(disk)f(blo)q(c)o(ks)h(in)g(the)g @F10 @sf(logLocnArray)p 
@F18 @sf(.)-1347 166 y @F11 @sf(Description)-262 96 y @F18 @sf(This)g
(routine)g(is)f(called)h(to)f(p)q(erform)g(reco)o(v)o(ery)i(on)e(the)i
(device)f(sp)q(eci\014ed)i(b)o(y)d @F10 @sf(dP)p @F18 @sf(,)g(whose)h(log)f
(resides)i(on)f(device)g @F10 @sf(ldP)p @F18 @sf(.)-1910 56 y(W)m(e)f
(explicitly)g(allo)o(w)g(b)q(oth)h(the)g(case)h(where)g @F10 @sf(dP)f 
@F15 @sf(=)g @F10 @sf(ldP)f @F18 @sf(and)h @F10 @sf(dP)f @F13 @sf(6)p 
@F15 @sf(=)i @F10 @sf(ldP)p @F18 @sf(.)-1208 96 y(Reco)o(v)o(ery)21 b(is)g
(allo)o(w)n(ed)f(only)g(on)g(a)h(non-activ)o(e)f(device.)39 b(This)21 b
(e\013ectiv)o(ely)h(lo)q(c)o(ks)e(the)i @F12 @sf(bu\013er)s 14 -2 z 13 x
(L)n(o)n(gInit)d @F18 @sf(call)h(from)-1911 56 y(succes)q(sfully)e(b)q
(eing)g(called.)29 b(F)m(or)17 b(a)h(k)o(ernel)g(impl)o(em)o(en)o(tation)e
(this)i(lo)q(c)o(king)f(is)h(enforced)g(b)o(y)g(the)g(reco)o(v)o(ery)h
(routine)-1909 57 y(itself)14 b(\(via)g(a)g(lo)q(c)o(k)g(on)g(the)h(data)f
(structur)q(e\))i(while)e(for)g(a)g(user)i(space)f(impl)o(em)o(en)o
(tation,)e(this)h(is)h(im)o(plem)o(en)o(ted)f(using)-1910 56 y(the)g
(log's)f @F12 @sf(r)n(estart)j(blo)n(ck)e @F18 @sf(as)g(a)f(sync)o
(hronization)h(p)q(oin)o(t.)-911 125 y @F15 @sf(9.1)29 b(recvr)s 14 -2 z 
14 x(Reco)o(v)o(er)571 b(56)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
56 @eop1

57 @bop0

57 @eop0
0 0 57 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F18 @sf(During)d
(reco)o(v)o(ery)j(the)f(norma)o(l)e(loggi)o(ng)g(pro)q(cess)j(is)e
(explicitly)f(disabled;)h(the)g(log)g(system)g(assumes)g(the)g(correc)q
(tnes)q(s)-1908 57 y(of)f(w)o(ork)h(done)g(b)o(y)g(the)g(reco)o(v)o(ery)h
(system.)j(T)m(o)13 b(assure)i(this)f(guaran)o(tee,)g(the)g(reco)o(v)o
(ery)h(pac)o(k)n(age)f(is)f(constrained)i(in)e(its)-1909 56 y(op)q
(erations.)25 b(That)17 b(means)e(the)i(reco)o(v)o(ery)g(pac)o(k)n(age)f
(is)g(either)h @F12 @sf(r)n(e)n(do)p @F18 @sf(-ing)e(or)i @F12 @sf(undo)p 
@F18 @sf(-ing)e(op)q(erations)i(already)f(written)-1909 56 y(b)o(y)e(the)h
(log)e(system)i(to)f(the)h(disk.)k(The)c(only)e(other)i(allo)o(w)o(ed)e
(op)q(eration)i(is)f(to)g(write)h(in)f(the)h(reco)o(v)o(ery)g(c)o(hec)o
(kp)q(oin)o(t)g(of)-1910 57 y(the)f(log)f(record)i(en)o(try)m(.)-368 145 y 
@F11 @sf(Return)j(Co)q(des)-250 96 y @F10 @sf(RECVR)s 14 -2 z 14 x(OK)59 b 
@F18 @sf(the)18 b(op)q(eration)h(w)o(as)f(success)q(ful;)i(some)e(reco)o
(v)o(ery)h(w)o(as)f(p)q(erformed,)h(and)f(the)h(disk)f(is)g(no)o(w)g(in)g
(a)-1713 56 y(consisten)o(t)d(state.)-419 75 y @F10 @sf(RECVR)s 14 -2 z 
14 x(BADAG)49 b @F18 @sf(the)15 b(sp)q(eci\014ed)g(aggregate)f(w)o(as)g
(not)g(v)n(alid.)o -985 76 a @F10 @sf(RECVR)s 14 -2 z 14 x(BADLOG)49 b 
@F18 @sf(the)15 b(forma)o(t)e(of)g(the)i(log)d(w)o(as)i(not)g(v)n(alid;)o 
13 x(this)g(indicates)g(a)g(media)o 13 x(failure)f(in)g(the)i(log.)-1713 
75 y @F10 @sf(RECVR)s 14 -2 z 14 x(LOGOK)61 b @F18 @sf(the)21 b(op)q
(eration)f(w)o(as)g(success)q(ful;)j(the)d(log)f(w)o(as)h(cleanly)g
(terminated)f(so)h(no)g(reco)o(v)o(ery)h(w)o(as)-1713 56 y(p)q(erformed.)
-394 236 y @F7 @sf(9.2)56 b(recvr)s 17 -2 z 16 x(DumpLog)31 b @F18 @sf(|)
13 b(Read)h(the)g(log)f(from)f(disk)-1019 202 y @F16 @sf(int32)21 b @F11 @sf
(recvr)s 16 -2 z 14 x(DumpLog)p @F16 @sf(\()1 56 y(IN)g(struct)g(async)s 
13 -2 z 11 x(device)g(*ldP;)-605 56 y(IN)g(daddr)s 13 -2 z 12 x(t)g
(*logLocnArr)o(ay;)-540 57 y(IN)g(unsigned)f(logLocnArra)o(ySize)o(;)-633 
56 y(OUT)h(struct)f(logRec)h(*logRecord)o(Arra)o(y;)-742 57 y(OUT)g
(unsigned)f(*logRecord)o(Count)o(;)-633 56 y(\))-537 202 y @F11 @sf(P)o
(arameters)-192 108 y @F10 @sf(ldP)i @F18 @sf(-)28 b(device)15 b(up)q(on)f
(whic)o(h)f(the)i(log)e(is)g(recorde)q(d.)-831 75 y @F10 @sf(logLocnArray)
21 b @F18 @sf(-)28 b(arra)o(y)13 b(of)h(disk)f(blo)q(c)o(ks)h(whic)o(h)g
(w)o(ere)h(used)g(b)o(y)e(the)i(logging)o 13 x(pac)o(k)n(age.)-1454 75 y 
@F10 @sf(logLocnArraySize)o 22 x @F18 @sf(-)27 b(n)o(um)o(b)q(er)13 b(of)h
(disk)f(blo)q(c)o(ks)h(in)g(the)g @F10 @sf(logLocnArray)p @F18 @sf(.)-1277 
76 y @F10 @sf(logRecordArray)21 b @F18 @sf(-)27 b(arra)o(y)14 b(of)f
(activ)o(e)h(log)f(records)j(from)o 13 x(the)e(log)-1108 75 y @F10 @sf
(logRecordCount)21 b @F18 @sf(-)27 b(n)o(um)o(b)q(er)14 b(of)f(log)g
(records)i(returned)h(b)o(y)d @F10 @sf(logRecordArray)p @F18 @sf(.)-1451 
382 y @F15 @sf(9.2)29 b(recvr)s 14 -2 z 14 x(DumpLog)530 b(57)g(Marc)o(h)
14 b(2,)h(1993)f(14:04)-1911 b
57 @eop1

58 @bop0

58 @eop0
0 0 58 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf
(Description)-262 96 y @F18 @sf(This)h(routine)h(is)g(used)g(to)g(obtain)e
(a)i(full)e(dump)g(of)h(the)h(\014le)g(system)f(log;)h(it)f(is)h(p)q
(ossible)g(for)f(the)h(impl)o(em)o(en)o(tation)-1911 56 y(to)f(partially)e
(pare)i(the)h(list)e @F10 @sf(logRecordArray)f @F18 @sf(so)i(that)g(it)g
(do)q(es)g(not)g(include)g(some)f(fully-written)g(transactions,)-1909 57 y
(although)d(not)h(required.)-407 95 y(This)h(in)o(terface)h(could)g(b)q(e)g
(im)o(plem)o(en)o(ted)f(either)h(b)o(y)g(a)f(user-lev)o(el)h(pro)q(cess)h
(or)f(as)f(a)g(k)o(ernel)h(lev)o(el)f(pro)q(cess)q(.)24 b(If)15 b(this)h
(is)-1910 57 y(impl)o(em)o(en)o(ted)g(b)o(y)h(a)f(user-lev)o(el)h(pro)q
(cess)h(it)f(is)f(presumed)h(to)f(b)q(e)h(called)g(b)o(y)f(a)g(program)f
(akin)h(to)g @F12 @sf(fsck)g @F18 @sf(and)g(use)i(the)-1909 56 y(ra)o(w)e
(partition)f(mec)o(hanism)o(.)23 b(If)15 b(this)i(is)e(implem)o(en)o(ted)g
(within)g(the)i(k)o(ernel)f(stac)o(k)h(suc)o(h)f(a)g(routine)g(migh)o(t)e
(b)q(e)j(called)-1910 57 y(automati)o(call)o(y)c(when)h(a)g(dama)o(ged)f
(aggregate)h(is)g(attac)o(hed.)-976 145 y @F11 @sf(Return)k(Co)q(des)-250 
95 y @F10 @sf(RECVR)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)14 b(op)q(eration)g
(w)o(as)g(success)q(ful.)-828 235 y @F7 @sf(9.3)56 b(recvr)s 17 -2 z 16 x
(W)-5 b(riteBlo)q(c)n(ks)31 b @F18 @sf(|)14 b(W)m(rite)f(the)h(sp)q
(eci\014ed)q 15 x(data)f(blo)q(c)o(ks)-1221 201 y @F16 @sf(int32)21 b 
@F11 @sf(recvr)s 16 -2 z 14 x(W)l(riteBlo)q(c)o(ks)p @F16 @sf(\()p 57 w
(IN)h(daddr)s 13 -2 z 12 x(t)f(*blockAddr;)o -475 56 a(IN)h(caddr)s 13 -2 z 
12 x(t)f(*blockData;)o -475 57 a(IN)h(unsigned)e(blockCount)o(;)-503 56 y
(\))-590 202 y @F11 @sf(P)o(arameters)-192 108 y @F10 @sf(blockAddr)i 
@F18 @sf(-)27 b(the)15 b(arra)o(y)e(of)h(disk)f(blo)q(c)o(k)h(addresses)i
(to)e(mo)o 1 x(dify)l(.)-1072 75 y @F10 @sf(blockData)22 b @F18 @sf(-)27 b
(the)15 b(data)e(blo)q(c)o(ks)h(to)g(write)g(out)g(the)g(the)h(arra)o(y)e
(of)h(disk)f(addresse)q(s)i(sp)q(eci\014ed)h @F10 @sf(blockData)p @F18 @sf
(.)-1766 75 y @F10 @sf(blockCount)22 b @F18 @sf(-)27 b(the)15 b(n)o(um)n
(b)q(er)f(of)f(blo)q(c)o(ks)h(in)f(the)i @F10 @sf(blockAddr)d @F18 @sf
(and)i @F10 @sf(blockData)f @F18 @sf(arra)o(ys.)-1550 170 y @F11 @sf
(Description)-262 95 y @F18 @sf(This)h(routine)g(is)g(called)f(b)o(y)h
(user-lev)o(el)g(reco)o(v)o(ery)h(to)f(b)o(ypass)g(the)h(normal)o 13 x
(loggi)o(ng)e(mec)o(hanism)o(.)o -1554 145 a @F11 @sf(Return)18 b(Co)q
(des)-250 96 y @F10 @sf(RECVR)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)14 b(op)q
(eration)g(completed)f(succe)q(ssfully)m(.)-977 232 y @F15 @sf(9.4)29 b
(recvr)s 14 -2 z 14 x(W)l(riteRestartBlo)q(c)o(k)357 b(58)530 b(Marc)o(h)
14 b(2,)h(1993)f(14:04)-1911 b
58 @eop1

59 @bop0

59 @eop0
0 0 59 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F7 @sf(9.4)56 b
(recvr)s 17 -2 z 16 x(W)-5 b(riteRest)o(artBlo)q(c)n(k)31 b @F18 @sf(|)14 b
(Clear)f(the)i(log)e(and)h(write)g(a)f(restart)j(blo)q(c)o(k)-1523 202 y 
@F16 @sf(int32)21 b @F11 @sf(recvr)s 16 -2 z 14 x(W)l(riteRestartBlo)r(c)o
(k)p @F16 @sf(\()p 56 w(IN)h(struct)e(async)s 13 -2 z 12 x(device)g(*dP;)
-583 57 y(IN)i(daddr)s 13 -2 z 11 x(t)g(logRestar)o(tBloc)o(kAddr)o(;)-671 
56 y(IN)g(struct)e(logRec)h(*restartR)o(ecord)o(;)-699 57 y(IN)h(unsigned)o 
21 x(passNumbe)o(r;)-503 56 y(\))-741 202 y @F11 @sf(P)o(arameters)-192 
108 y @F10 @sf(dP)h @F18 @sf(-)k(the)15 b(device)f(where)h(the)g(restart)g
(blo)q(c)o(k)f(should)f(b)q(e)i(written.)-1076 75 y @F10 @sf
(logRestartBlockA)o(ddr)21 b @F18 @sf(-)28 b(the)14 b(ph)o(ysical)g(disk)f
(address)j(of)d(the)h(restart)h(blo)q(c)o(k.)-1344 75 y @F10 @sf
(restartRecord)21 b @F18 @sf(-)28 b(the)14 b(restart)h(record)g(to)f(use)h
(when)f(building)f(the)h(log)f(restart)i(area.)-1460 76 y @F10 @sf
(passNumber)22 b @F18 @sf(-)27 b(the)15 b(pass)f(n)o(ub)q(er)h(to)e(use)i
(in)f(the)g(log)f(restart)i(area.)-1184 170 y @F11 @sf(Description)-262 
95 y @F18 @sf(In)f(this)g(design,)f(the)i @F12 @sf(r)n(estart)h(blo)n(ck)d 
@F18 @sf(is)h(the)g(\014rst)h(blo)q(c)o(k)f(that)g(is)f(part)h(of)g(the)g
(log.)-1312 146 y @F11 @sf(Return)k(Co)q(des)-250 95 y @F10 @sf(RECVR)s 
14 -2 z 14 x(OK)50 b @F18 @sf(the)14 b(op)q(eration)g(w)o(as)g(success)q
(ful.)-828 1048 y @F15 @sf(9.4)29 b(recvr)s 14 -2 z 14 x(W)l
(riteRestartBlo)q(c)o(k)357 b(59)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
59 @eop1

60 @bop0
@F1 @sf
[<
0001FF8000000FFFF000003FFFFC0000FF81FF0001FE007F8003FC003FC007F8001FE00FF8
001FF00FF0000FF01FF0000FF81FF0000FF83FF0000FFC3FF0000FFC3FE00007FC7FE00007
FE7FE00007FE7FE00007FE7FE00007FE7FE00007FEFFE00007FFFFE00007FFFFE00007FFFF
E00007FFFFE00007FFFFE00007FFFFE00007FFFFE00007FFFFE00007FFFFE00007FFFFE000
07FFFFE00007FFFFE00007FFFFE00007FFFFE00007FFFFE00007FFFFE00007FFFFE00007FF
FFE00007FF7FE00007FE7FE00007FE7FE00007FE7FE00007FE7FE00007FE3FE00007FC3FE0
0007FC3FF0000FFC1FF0000FF81FF0000FF80FF0000FF00FF8001FF007F8001FE003FC003F
C001FE007F8000FF81FF00003FFFFC00000FFFF0000001FF8000>
	 40 57 -4 55 49] 48 @dc
@F2 @sf
[<
0003FFFFFFFFFFF800000003FFFFFFFFFFF800000003FFFFFFFFFFF800000003FFFFFFFFFF
F800000003FFFFFFFFFFF8000000000003FFF80000000000000003FFF80000000000000003
FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF80000000000
000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF80000
000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FF
F80000000000000003FFF80000000000000003FFF80000000000000003FFF8000000000000
0003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF8000000
0000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF8
0000000000000003FFF80000000000000003FFF80000000000000003FFF800000000000000
03FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF800000000
00000003FFF80000000000000003FFF80000000000000003FFF80000000000000003FFF800
00000000000003FFF80000000000000003FFF80000000000000003FFF80000000000000003
FFF800000000F8000003FFF8000007C0F8000003FFF8000007C0F8000003FFF8000007C0F8
000003FFF8000007C0F8000003FFF8000007C0FC000003FFF800000FC07C000003FFF80000
0F807C000003FFF800000F807C000003FFF800000F807C000003FFF800000F807E000003FF
F800000F807E000003FFF800001F807E000003FFF800001F807F000003FFF800003F807F00
0003FFF800003F807F800003FFF800007F807FC00003FFF80000FF807FE00003FFF80001FF
807FF80003FFF80007FF803FFF0003FFF8003FFF003FFFFFFFFFFFFFFFFF003FFFFFFFFFFF
FFFFFF003FFFFFFFFFFFFFFFFF003FFFFFFFFFFFFFFFFF003FFFFFFFFFFFFFFFFF00>
	 74 70 -4 69 83] 84 @dc
[<
FFFFFFC000000000FFFFFFC000000000FFFFFFC000000000FFFFFFC000000000FFFFFFC000
00000001FFE0000000000001FFE0000000000001FFE0000000000001FFE0000000000001FF
E0000000000001FFE0000000000001FFE0000000000001FFE0000000000001FFE000000000
0001FFE0000000000001FFE0000000000001FFE0000000000001FFE0000000000001FFE000
0000000001FFE0000000000001FFE01FF800000001FFE0FFFF80000001FFE3FFFFF0000001
FFEFFFFFFC000001FFFFE03FFE000001FFFF0007FF800001FFFE0003FFC00001FFFC0001FF
E00001FFF80000FFF00001FFF000007FF80001FFE000007FF80001FFE000003FFC0001FFE0
00003FFC0001FFE000001FFE0001FFE000001FFE0001FFE000001FFF0001FFE000001FFF00
01FFE000000FFF0001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE00000
0FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FF
E000000FFF8001FFE000000FFF8001FFE000000FFF0001FFE000001FFF0001FFE000001FFF
0001FFE000001FFF0001FFE000001FFE0001FFE000003FFE0001FFE000003FFC0001FFE000
003FFC0001FFE000007FF80001FFF00000FFF00001FFF80000FFE00003FFFE0001FFC000FF
FFFF8007FF8000FFFFDFF01FFF0000FFFFCFFFFFFC0000FFFFC3FFFFF00000FFFFC07FFFC0
0000007FC00FFC000000>
	 57 66 -4 45 66] 112 @dc
@F6 @sf
[<
003F800001FFF00007E0FC000FC07E001F803F001F803F003F001F803F001F807F001FC07F
001FC07F001FC07F001FC0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF00
1FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001FE07F001F
C07F001FC07F001FC07F001FC03F001F803F001F801F803F001F803F000FC07E0007E0FC00
01FFF000003F8000>
	 27 39 -3 38 34] 48 @dc
@F7 @sf
[<
FFFFE0FFFFE07C03E03E00E03F00601F80700F807007C03007E03003F03001F00000F80000
FC00C07E00C03E00C01F00E01F80600FC07007C07C03E07FFFF07FFFF0>
	 20 22 -2 21 25] 122 @dc
@F11 @sf
[<
3FF9FFC03FF9FFC007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007
C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E0007C03E00FFFF
FE00FFFFFE0007C03E0007C03E0007C03E0007C03E0007C03E0007C07E0007C07E0003E0FE
0001E0FE0000F87E00007FFE00000FFE00>
	 26 32 0 31 29] 13 @dc
@F18 @sf
[<
060300000603000006030000030180000301800003018000030180000180C0000180C00001
80C0000180C00000C060007FFFFFF8FFFFFFFC006030000060300000603000006030000030
1800003018000030180000301800FFFFFFFC7FFFFFF800180C00000C0600000C0600000C06
00000C06000006030000060300000603000006030000060300000301800003018000030180
>
	 30 37 -2 28 35] 35 @dc
@F12 @sf
[<
030000030000030000010000010000E18700718E001C9C0006B00001E00001E0000358000E
4E001C63803861C0002000002000003000003000003000>
	 18 20 -8 33 23] 42 @dc
@F18 @sf
[<
FFF07FF00F001F800F001F000F001E000F003C000F003C000F0078000F00F8000F00F0000F
01E0000F01E0000F83C0000F4780000F2780000F2F00000F1F00000F0E00000F0400000F02
00000F0100000F0080000F0040000F0020000F0010000F0008000F000C000F000F00FFF03F
E0>
	 28 28 -2 27 32] 75 @dc
[<
07C03E001830E1803009C04070078040E0070020E00F0020E01C8000E03C4000E038400060
7020006070200030E0100010E0100009C0080005C00400038004000380060003800F0003C0
3FE00740000007200000071000000710000007080000070800000708000007080000030800
00030800000190000000E00000>
	 27 31 -2 29 32] 38 @dc

60 @eop0

0 0 60 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(10)-485 246 y @F2 @sf(Data)39 b(T)m(yp)s(es)-605 280 y @F6 @sf(10.1)70 b
(Presumptions)-605 139 y @F7 @sf(10.1.1)55 b(Data)19 b(Sizes)-457 122 y 
@F18 @sf(In)14 b(the)g(follo)o(wi)o(ng)f(sections,)h(w)o(e)g(presume)g
(the)h(follo)n(wing)d(data)i(t)o(yp)q(es)g(and)g(sizes)h(of)e(those)i
(resp)q(ec)q(tiv)o(e)g(data)e(t)o(yp)q(es:)-1867 132 y @F11 @sf(c)o(har)
22 b @F18 @sf(eigh)o(t)14 b(bits.)k(sizeof\(c)o(har\))d(=)f(1.)-621 90 y 
@F11 @sf(short)22 b @F18 @sf(sixteen)15 b(bits.)j(sizeof\(short\))d(=)f
(2.)-693 90 y @F11 @sf(in)o(t)23 b @F18 @sf(thirt)o(y-t)o(w)o(o)13 b
(bits.)18 b(sizeof\(in)o(t\))c(=)g(4.)-651 90 y @F11 @sf(long)24 b @F18 @sf
(thirt)o(y-t)o(w)o(o)13 b(bits.)18 b(sizeof\(long\))13 b(=)h(4.)-711 90 y 
@F11 @sf(\015oat)24 b @F18 @sf(thirt)o(y-t)o(w)o(o)13 b(bits.)18 b
(sizeof\(\015oat\))c(=)g(4.)-721 90 y @F11 @sf(double)23 b @F18 @sf(sixt)o
(y-four)14 b(bits.)k(sizeof\(double\))c(=)g(8.)-802 132 y(In)h(addition,)e
(eac)o(h)i(of)f(the)i(ab)q(o)o(v)o(e)e(ma)o(y)f(b)q(e)i(mo)q(di\014ed)e(b)o
(y)i(sev)o(eral)g(k)o(eyw)o(ords.)21 b(The)15 b(most)f(comm)n(only)f(used)i
(k)o(eyw)o(ord)-1909 56 y(is)f @F12 @sf(unsigne)n(d)e @F18 @sf(whic)o(h)i
(when)g(used)h(b)o(y)f(itself)f(is)h(iden)o(tical)f(in)h(size)g(to)g(the)h 
@F12 @sf(int)e @F18 @sf(t)o(yp)q(e.)-1324 96 y(In)f(the)g(actual)f(implem)o
(en)o(tatio)o(n)g(of)g(this)h(co)q(de,)g(these)h(assumptions)e(should)h(b)q
(e)g(co)q(di\014ed)g(with)g(appropriate)f(#de\014nes)-1908 56 y(and/or)i
(t)o(yp)q(edefs.)-299 154 y @F7 @sf(10.1.2)55 b(Opaque)19 b(t)n(yp)r(es)
-536 122 y @F18 @sf(In)i(ANSI)g(compatibl)o(e)f(C)g(compilers,)h(w)o(e)g
(presume)g(that)j 12 -2 z 15 x 12 -2 z 12 x(STDC)r 12 -2 z 15 x 12 -2 z 
33 x(is)d(de\014ned)h(and)e(that)h(an)g(opaque)f(t)o(yp)q(e)i(is)-1910 57 y
(represe)q(n)o(ted)17 b(as)f @F12 @sf(void)j(*)p @F18 @sf(.)k(In)16 b
(non-ANSI)g(\(e.g.)23 b(K&R\))16 b(compatibl)o(e)f(C)g(compilers,)g(w)o(e)h
(presume)g(that)i 12 -2 z 15 x 12 -2 z 12 x(STDC)r 12 -2 z 15 x 12 -2 z 
29 x(is)-1910 56 y @F12 @sf(not)c @F18 @sf(de\014ned)h(and)e(that)h(an)g
(opaque)g(t)o(yp)q(e)g(is)g(represe)q(n)o(ted)i(as)e @F12 @sf(char)i(*)p 
@F18 @sf(.)-1135 125 y @F15 @sf(10.1)29 b(Presumptions)550 b(60)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
60 @eop1

61 @bop0
@F10 @sf
[<
03800007C00007C00007C00003800000000000000000000000000000000003800003C00003
C00003C00003C00003C00001E00001F000007C00003E00000F00600780F00380F00380700F
007FFF003FFC000FF000>
	 17 28 -3 27 24] 63 @dc
@F6 @sf
[<
00003FFF8000003FFF8000003FFF80000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800003FC3F80000FFF3F80003F07BF8
0007E01FF8000FC007F8001F8007F8003F8003F8007F8003F8007F0003F8007F0003F800FF
0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F8007F0003
F8007F8003F8007F8003F8003F8003F8001FC007F8000FC007F80007E00DF80003F838F800
00FFF07800001FC03800>
	 33 39 -2 26 36] 113 @dc

61 @eop0

0 0 61 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F18 @sf(T)m(o)c
(facilitate)f(this,)h(w)o(e)h(b)q(eliev)o(e)g(this)f(should)g(b)q(e)h(co)q
(di\014ed)g(in)f(a)g(single)g(header)i(\014le.)j(F)m(urther,)c(to)f(pro)o
(vide)h(for)f(function)-1910 57 y(protot)o(yping)i(\(a)o(v)n(ail)o(able)f
(with)h(ANSI)h(C)g(compil)o(ers\))f(w)o(e)h(also)f(prop)q(ose)h(a)g
(single)f(declarations)g(standard.)21 b(Th)o(us,)14 b(w)o(e)-1909 56 y
(prop)q(ose)h(the)f(follo)o(wi)o(ng)e(header)j(\014le:)-599 139 y @F10 @sf
(#ifndef)23 b(TRANSARC_PROTO)o(TYPES_H)-694 56 y(#define)g(TRANSARC_PROTO)o
(TYPES_H)-694 113 y(#if)g(defined\(__STDC__\))-503 57 y(#define)g
(_TAKES\(args\))f(args)-597 56 y(typedef)h(void)g(*)h(opaque;)-526 57 y
(#else)f(/*)h(__STDC__)f(*/)-478 56 y(#define)g(_TAKES\(args\))f(\(\))-549 
57 y(#define)h(void)g(int;)h(/*)f(on)h(some)f(compilers?)g(*/)-1003 56 y
(#define)g(const)-311 57 y(#define)g(volatile)-383 56 y(typedef)g(char)g
(*)h(opaque;)-526 56 y(#endif)f(/*)h(__STDC__)e(*/)-501 113 y(#endif)h(/*)h
(TRANSARC_PRO)o(TOTYPES_)o(H)f(*/)-812 139 y @F18 @sf(Note)14 b(that)g
(this)g(also)f(supp)q(orts)j(the)e(ANSI)g(C)g(k)o(eyw)o(ords)g @F12 @sf(c)n
(onst)f @F18 @sf(and)h @F12 @sf(volatile)p @F18 @sf(.)-1283 176 y @F6 @sf
(10.2)70 b(qHead)-384 137 y @F18 @sf(The)13 b(en)o(tire)g(in)o(ternal)e
(system)h(is)g(p)q(ermeated)h(b)o(y)f(a)g(collection)g(of)f(queues.)19 b
(Because)14 b(of)e(the)h(simi)o(la)o(rit)o(y)e(of)g(informa)o(tion)-1911 
56 y(needed)i(for)f(eac)o(h)g(of)f(these)i(queues,)g(w)o(e)f(ha)o(v)o(e)f
(a)h(single)f @F10 @sf(struct)23 b(qHead)11 b @F18 @sf(data)h(t)o(yp)q(e)g
(whic)o(h)g(can)f(b)q(e)i(used)f(to)g(referenc)q(e)-1908 57 y(the)i
(elemen)o(ts)g(of)f(the)i(queue:)-476 139 y @F10 @sf(struct)23 b(qHead)g
({)-143 56 y(void)119 b(*firstMember;)o 70 x(/*)24 b(first)f(element)g(of)h
(queue)f(*/)-1265 57 y(void)119 b(*lastMember;)93 b(/*)24 b(last)f
(element)g(of)h(queue)f(*/)-1241 56 y(unsigned)g(qType;)190 b(/*)23 b(a)h
(unique)f(number)g(for)h(sanity)f(checks)g(*/)-1671 56 y(};)-48 113 y
(struct)g(qMember)g({)-191 57 y(struct)g(qHead)95 b(*head;)238 b(/*)23 b
(head)g(of)h(queue)f(*/)-1217 56 y(void)286 b(*nextMember;)94 b(/*)23 b
(next)g(element)g(of)h(queue)f(*/)-1408 57 y(void)286 b(*prevMember;)94 b
(/*)23 b(previous)g(element)g(of)g(queue)h(*/)-1695 56 y(};)-48 139 y 
@F18 @sf(In)14 b(the)g(ab)q(o)o(v)o(e)g(description)g(w)o(e)h(use)f(the)h 
@F10 @sf(void)23 b(*)14 b @F18 @sf(data)f(t)o(yp)q(e)i(to)f(represen)o(t)i
(an)d(opaque)h(p)q(oin)o(ter)g(t)o(yp)q(e.)-1666 125 y @F15 @sf(10.3)29 b
(hashMem)o(b)q(er)567 b(61)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
61 @eop1

62 @bop0
@F6 @sf
[<
0E01FC00000F07FF80000F9E07E0000FF803F0000FF001F8000FE000FC000FE000FE000FE0
007F000FE0007F000FE0007F000FE0007F800FE0007F800FE0007F800FE0007F800FE0007F
800FE0007F800FE0007F800FE0007F000FE0007F000FE0007F000FE000FE000FE000FC000F
F000F8000FF801F0000FFE07E0000FE7FF80000FE1FE00000FE00000000FE00000000FE000
00000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE0000000
0FE00000000FE0000000FFE0000000FFE0000000FFE0000000>
	 33 42 -2 41 38] 98 @dc
@F18 @sf
[<
1F0021C040E0F0F0F878F878F8787078007800780078007800780078007800780078007800
780078007800780078007800780078007800F81FFF>
	 16 29 -1 27 21] 74 @dc
@F6 @sf
[<
007FFFFFE000007FFFFFE000007FFFFFE00000003FC0000000003FC0000000003FC0000000
003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC000000000
3FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003F
C0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0
0000E0003FC000E0E0003FC000E0E0003FC000E0E0003FC000E0E0003FC000E0F0003FC001
E0F0003FC001E070003FC001C078003FC003C078003FC003C07E003FC007C07F803FC03FC0
7FFFFFFFFFC07FFFFFFFFFC07FFFFFFFFFC0>
	 43 40 -2 39 48] 84 @dc

62 @eop0

0 0 62 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F6 @sf(10.3)70 b
(hashMem)n(b)r(er)-580 137 y @F18 @sf(Just)14 b(as)f(w)o(e)h(had)e(a)h
(comm)o(on)f(form)o(at)g(for)h(queues,)h(w)o(e)f(use)h(a)f(comm)o(o)o(n)f
(format)f(for)i(hash)g(tables.)18 b(The)c(actual)f(buc)o(k)o(et)-1909 56 y
(format)g(of)i(the)h(hash)g(table)f(is)g(dep)q(enden)o(t)i(up)q(on)f(the)g
(im)o(plem)o(en)o(tation)d(of)i(the)h(hash)g(table.)22 b(The)16 b(con)o
(ten)o(ts)g(of)f(eac)o(h)-1909 57 y(buc)o(k)o(et)g(\(and)e(the)i(list)e
(o\013)h(of)f(eac)o(h)i(buc)o(k)o(et\))g(is)e(indep)q(enden)o(t)j(of)d
(the)h(o)o(v)o(erall)f(hashing)g(sc)o(heme)i(ho)o(w)o(ev)o(er.)-1699 145 y 
@F10 @sf(struct)23 b(hashHead)g({)-215 57 y(void)333 b(*firstMember;)23 b
(/*)g(first)g(member)g(of)h(hash)f(chain)g(*/)-1527 56 y(void)333 b
(*bucketHead;)47 b(/*)23 b(pointer)g(to)h(bucket)f(head)g(*/)-1623 56 y
(};)-48 113 y(struct)g(hashMember)g({)-263 57 y(struct)g(hashHead)70 b
(*head;)23 b(/*)h(head)f(of)h(hash)f(chain)g(*/)-1169 56 y(void)333 b
(*next;)23 b(/*)h(next)f(element)g(in)h(chain)f(*/)-1432 57 y(};)-48 176 y 
@F6 @sf(10.4)70 b(logT)-6 b(ranRec)t 21 -2 z 20 x(t)-586 137 y @F18 @sf
(The)13 b(log)e(transaction)i(record)g(for)f(this)h(design)f(is)h(iden)o
(ti\014ed)f(b)o(y)g(the)h(T)m(ransaction)f(ID.)g(In)o(tially)l(,)f(it)h
(had)g(b)q(een)h(planned)-1909 56 y(to)18 b(pass)g @F12 @sf(hand)r(les)f 
@F18 @sf(to)h(these)h(transaction)f(records,)i(but)d(after)h(m)o(uc)o(h)f
(consideration)h(it)f(w)o(as)h(decided)g(that)g(suc)o(h)h(a)-1910 57 y(sc)o
(heme)e(migh)n(t)f(bac)o(k\014re)i(and)f(constrain)g(the)h(im)o(plem)o(en)o
(tatio)o(n)e(of)g(equiv)n(alence)i(classes)g(sign\014can)o(tly)e(\(an)h
(aliasing)-1911 56 y(problem\).)30 b(W)m(e)18 b(expand)h(up)q(on)f(the)h
(example)e(used)i(in)f(the)h(in)o(terface)g(sp)q(eci\014cation)g(b)o(y)f
(adding)f(additional)g(data)-1910 57 y(structure)q(s)e(neces)q(sary)g(for)f
(manag)o(em)o(en)o(t)f(of)g(these)j(transaction)e(records:)-1196 145 y 
@F10 @sf(typedef)23 b(unsigned)g(logTranRec_t;)o -717 113 a(struct)g
(logTranRec)g({)-263 56 y(logTranRec_t)189 b(tranId;)142 b(/*)24 b
(transaction)e(identifier)h(*/)-1456 57 y(unsigned)g(long)166 b
(startTime;)70 b(/*)24 b(starting)f(timestamp)f(*/)-1360 56 y(unsigned)h
(long)166 b(endTime;)118 b(/*)24 b(ending)f(timestamp)g(*/)-1313 57 y
(unsigned)285 b(refCount;)94 b(/*)24 b(#)g(of)f(references)g(*/)-1289 56 y
(struct)g(hashMember)70 b(lookupHash;)46 b(/*)24 b(lookup)f(hash)g(table)g
(*/)-1336 57 y(struct)g(qMember)142 b(tranAgeQ;)94 b(/*)24 b(ageing)f
(queue)g(*/)-1217 56 y(unsigned)285 b(firstLSN;)94 b(/*)24 b(first)f(#)h
(used)f(*/)-1217 57 y(unsigned)285 b(lastLSN;)118 b(/*)24 b(most)f(recent)g
(used)h(*/)-1313 56 y(struct)f(qMember)142 b(equivClassQ;)22 b(/*)i
(equivalence)e(class)h(queue)h(*/)-1480 57 y(unsigned)285 b(tranStatus;)
46 b(/*)24 b(status)f(of)h(*this*)f(transaction)f(*/)-1599 56 y(struct)h
(async_device)f(dev;)214 b(/*)24 b(disk)f(device)g(*/)-1193 56 y(struct)g
(async_device)f(ldev;)190 b(/*)24 b(log)f(device)g(*/)-1360 57 y(};)-48 
196 y @F15 @sf(10.4)29 b(logT)l(ranRec)s 14 -2 z 14 x(t)560 b(62)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
62 @eop1

63 @bop0
@F10 @sf
[<
03800003800003800003800003800003800003800003C00001C00001C00001C00001C00000
E00000E00000E000007000007000003800003800001C00001E00000E00000700E00780E003
C0FFFFE0FFFFE0FFFFE0E00000>
	 19 29 -2 28 24] 55 @dc
[<
3F807FE0FFF0F0786038001C001C001C001C001C001C001C001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C0FFC1FFC0FFC00000000000000000038007C007C
007C0038>
	 14 39 -2 28 24] 106 @dc

63 @eop0

0 0 63 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F10 @sf(extern)23 b
(struct)g(logTranRec)g(*log_TranLoo)o(kup\(\);)-1028 113 y(#define)g
(LOG_TRANID\(log)o(TranRec\))o 23 x(\(logTranRec\))-1028 56 y(#define)g
(LOG_STARTTIME\()o(logTranR)o(ec\))f(\(log_TranLookup\(lo)o(gTranRe)o
(c\)->sta)o(rtTime\))o -1743 57 a(#define)h(LOG_ENDTIME\(lo)o(gTranRec)o
(\))g(\(log_TranLoo)o(kup\(logT)o(ranRec\))o(->endTi)o(me\))-1648 56 y
(#define)g(LOG_REFCNT\(log)o(TranRec\))o 23 x(\(log_TranLook)o(up\(logTr)o
(anRec\)-)o(>refTim)o(e\))-1624 113 y(/*)h(tranStatus)e(field)h(values)g
(*/)-692 113 y(#define)g(LOG_TRANSTAT_A)o(CTIVE)70 b(\(0xFE4378\))-956 57 y
(#define)23 b(LOG_TRANSTAT_C)o(OMPLETE)f(\(0xE39804\))-956 56 y(#define)h
(LOG_TRANSTAT_F)o(REE)118 b(\(0\))-788 113 y(/*)24 b(implementati)o(on)f
(constants)f(*/)-716 113 y(#define)h(LOG_MAX_TRAN_R)o(EF)g(\(2048\))-741 
56 y(/*)h(the)f(above)g(value)g(to)h(be)g(adjusted)e(when)i(we)f(have)h
(better)f(case)g(analysis)g(to)-1599 57 y(provide)f(such)i(an)f(upper)h
(bound.)f(*/)-812 276 y @F6 @sf(10.5)70 b(logRec)-394 136 y @F10 @sf
(struct)23 b(logRec)g({)-167 57 y(int32)g(timestamp;)213 b(/*)24 b
(timestamp)f(of)g(log)h(record)f(*/)-1289 56 y(short)g(recordType;)166 b
(/*)23 b(record)g(type)h(*/)-979 57 y(short)f(refCount;)214 b(/*)23 b
(reference)g(count)g(*/)-1074 56 y(unsigned)g(datalen;)166 b(/*)23 b(data)h
(length)f(*/)-979 57 y(daddr_t)g(addr;)262 b(/*)23 b(disk)h(block)f
(modified)f(*/)-1169 56 y(unsigned)h(lastRecOffset)o(;)g(/*)g(offset)g(to)h
(previous)f(record)g(*/)-1313 56 y(unsigned)g(offset;)190 b(/*)23 b
(offset)g(into)h(disk)f(block)g(*/)-1241 57 y(int32)g(recvrTime;)213 b(/*)
24 b(timestamp)f(\(optionally\))f(used)h(in)h(recovery)f(*/)-1671 56 y
(char)g(*oldData;)238 b(/*)23 b(old)h(data)f(value)g(*/)-1050 57 y(char)g
(*newData;)238 b(/*)23 b(new)h(data)f(value)g(*)-1026 56 y(unsigned)g
(lsn;)262 b(/*)23 b(sequence)g(number)g(*/)-1265 57 y(};)-48 113 y
(#define)g(LOGREC_START)f(\(0x0\))143 b(/*)23 b(begin)g(a)h(new)g
(transaction)e(*/)-1456 56 y(#define)h(LOGREC_DATA)46 b(\(0x37\))119 b(/*)
23 b(data)h(record)f(*/)-1170 57 y(#define)g(LOGREC_CONT)46 b(\(0x19F\))
95 b(/*)23 b(continuation)f(record)h(*/)-1360 56 y(#define)g(LOGREC_BEND)
46 b(\(0x7D63\))71 b(/*)23 b(batch)g(end)h(transactions)e(*/)-1432 56 y
(#define)h(LOGREC_END)70 b(\(0xC4D0\))h(/*)23 b(end)h(a)f(transaction)g
(*/)-1313 57 y(#define)g(LOGREC_RSTRT)f(\(0xAF0E\))71 b(/*)23 b(restart)g
(record)g(*/)-1241 129 y @F15 @sf(10.6)29 b(bufWBMo)q(de)567 b(63)530 b
(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
63 @eop1

64 @bop0
@F6 @sf
[<
7FFF807FFF807FFF8007F00007F00007F00007F00007F00007F00007F00007F00007F00007
F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F000FFFF
C0FFFFC0FFFFC007F00007F00007F00007F00007F00007F00007F00007F03E07F07F03F07F
03F87F01F87F00FE3E003FFC0007F0>
	 24 42 -2 41 21] 102 @dc
[<
00000E00000700000000001F00000F80000000001F00000F80000000001F80001F80000000
003F80001FC0000000003F80001FC0000000003FC0003FC0000000007FC0003FE000000000
7FC0003FE000000000FFE0007FF000000000FFE0007FF000000000FFF000FFF000000001FE
7000FF3800000001FE7000FF3800000001FE7801FF3800000003FC3801FE1C00000003FC38
01FE1C00000007FC1C03FC1E00000007F81C03FC0E00000007F81E07FC0E0000000FF00E07
F8070000000FF00E07F8070000001FF00F0FF0078000001FE0070FF0038000001FE0070FF0
038000003FE0039FE003C000003FC0039FE001C000003FC003FFE001C000007F8001FFC000
E000007F8001FFC000E00000FF8000FF8000F00000FF0000FF8000700000FF0000FF800070
0001FF0000FF0000780001FE0000FF0000380001FE0001FF0000380003FC0001FE00001C00
03FC0001FE00001C00FFFFE07FFFF007FFF0FFFFE07FFFF007FFF0FFFFE07FFFF007FFF0>
	 68 41 -1 40 71] 87 @dc
@F6 @sf
[<
00380000007C000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000
FE0000007E0000007E0000007E0000007E0000003E0000003E0000003F0000001F0000001F
0000000F0000000F00000007800000078000000380000001C0000000E000E000E000E00070
00E000380070001C0070000E0070000E007FFFFF007FFFFF807FFFFFC07FFFFFE03FFFFFF0
3FFFFFF03FFFFFF03E00000038000000>
	 28 41 -4 40 34] 55 @dc
@F12 @sf
[<
FF8103FFC0001C01803E00000C01801E00000401C01E00000401E01E00000401E01E000002
03900F00000203900F00000203880F00000203840F00000103840780000103820780000103
8207800001038107800000838083C00000838083C00000838043C00000870043C000004700
21E00000470021E00000470011E00000470009E00000270008F00000270004F00000270004
F00000270002F000001700017800001700017800001E0000F800001E0000FC0001FE00007F
C0>
	 42 31 -3 30 41] 77 @dc

64 @eop0

0 0 64 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F6 @sf(10.6)70 b
(bufWBMo)r(de)-579 137 y @F10 @sf(enum)23 b(bufWBMode)g({)-287 56 y
(async,)71 b(/*)24 b(schedule)f(write)g(now,)g(but)h(don't)f(wait)g(for)g
(completion)g(*/)-1528 57 y(syncLog,)g(/*)h(force)f(write)g(log,)g
(schedule)g(buffer)g(write,)g(don't)g(wait)-1241 56 y(*)h(for)f(data)h
(buffer)f(write)g(completion.)f(*/)-1146 57 y(sync,)95 b(/*)24 b(force)f
(write)g(log,)g(force)h(write)f(data)g(buffer,)g(upon)g(return)-1313 56 y
(*)h(both)f(log)h(and)f(data)g(buffer)g(have)h(been)f(written)g(*/)-1361 
57 y(lazy,)95 b(/*)24 b(defer)f(write)g(until)g(buffer)g(package)g
(schedules)g(write)g(*/)-1599 56 y(};)-48 113 y(typedef)g(enum)g
(bufWBMode)g(bufWBMode_t;)-837 176 y @F6 @sf(10.7)70 b(bufT)n(yp)r(e)-442 
137 y @F10 @sf(enum)23 b(bufType)g({)-239 56 y(bufData;)143 b(/*)23 b
(data)g(buffers)g(*/)-764 57 y(bufLogged;)95 b(/*)23 b(logged)g(buffers)g
(*/)-812 56 y(bufLog;)167 b(/*)23 b(Log)h(buffers)e(\(used)i(by)f(log)h
(package)f(ONLY\))g(*/)-1385 57 y(bufUnused;)95 b(/*)23 b(empty/not)g(in)g
(use)h(buffer)f(*/)-1027 56 y(bufPermanent;)g(/*)g(lock)g(in-core)g(*/)-859 
57 y(};)-48 145 y @F18 @sf(The)16 b @F10 @sf(bufType)e @F18 @sf(is)h(used)h
(to)f(manag)o(es)g(the)h(v)n(arious)e(c)o(haracteristic)j(t)o(yp)q(es)f
(of)e(bu\013ers)j(whic)o(h)e(will)f(b)q(e)h(presen)o(t)i(in)e(the)-1909 
57 y(system.)i(F)m(or)12 b(example,)f(mo)o(st)g(bu\013ers)j(can)e(b)q(e)h
(though)o(t)f(of)f(as)h @F12 @sf(data)k(bu\013ers)p @F18 @sf(.)h(These)c
(bu\013ers)h(are)e(used)h(to)f(hold)g(mo)o(st)-1910 56 y(\014le)j(system)f
(data.)21 b(No)15 b(consistency)h(guaran)o(tees)g(are)f(requested)q 16 x
(for)f(suc)o(h)i(data)e(bu\013ers.)23 b(They)15 b(corresp)q(ond)h(to)f
(the)-1909 56 y @F10 @sf(bufData)e @F18 @sf(t)o(yp)q(e.)-272 96 y(The)19 b 
@F10 @sf(bufLogged)f @F18 @sf(t)o(yp)q(e)h(of)f(bu\013er)h(pro)o(vide)g
(logged)f(guaran)o(tees.)33 b(These)20 b(bu\013ers)g(con)o(tain)e
(meta-data.)31 b(The)19 b(log)-1910 57 y(pac)o(k)n(age)h(will)f(trac)o(k)i
(the)g(c)o(hanges)g(to)f(this)g(bu\013er)i(\(made)d(via)h(the)h @F12 @sf
(bu\013er)s 14 -2 z 14 x(Mo)n(dify)f @F18 @sf(routine\))g(and)h(will)e
(pro)o(vide)-1910 56 y(transactional)13 b(guaran)o(tees)i(as)f(describ)q
(ed)i(in)d(the)i(logging)o 13 x(comp)q(onen)o(t)e(of)g(the)i(\014le)e
(system.)-1487 96 y(The)j @F10 @sf(bufLog)f @F18 @sf(t)o(yp)q(e)h(of)e
(bu\013er)j(denotes)g(bu\013ers)f(whic)o(h)g(are)g(in)f(use)h(b)o(y)f(the)h 
@F12 @sf(lo)n(g)i(p)n(ackage)p @F18 @sf(.)k(The)16 b(bu\013ers)h(are)f
(not)g(to)-1910 56 y(b)q(e)f(referenc)q(ed)h(outside)f(of)f(the)i(log)d
(pac)o(k)n(age)i(\(e.g.)20 b(b)o(y)14 b(an)o(y)g(higher-lev)o(el)h(clien)o
(t\))f(and)h(an)f(attempt)g(to)g(do)h(so)g(should)-1910 56 y(b)q(e)f
(considered)i(a)d(terminal)g(error.)-560 96 y(The)f @F10 @sf(bufUnused)e 
@F18 @sf(t)o(yp)q(e)i(of)f(bu\013er)i(denotes)g(bu\013ers)g(not)e(curren)o
(tly)h(in)g(use;)g(e.g.)17 b(those)12 b(on)g(the)g(free)g(list.)17 b(Suc)o
(h)12 b(bu\013ers)-1908 57 y(ma)o(y)e(ha)o(v)o(e)i(un)o(written)h(data)f
(but)h(they)f(ma)o(y)f(not)h(b)q(e)h(reference)q(d)h(b)o(y)e(an)o(ything)f
(other)i(than)f(the)h(bu\013er)g(pac)o(k)n(age)f(itself.)-1910 95 y(The)i 
@F10 @sf(bufPermanent)e @F18 @sf(t)o(yp)q(e)i(of)e(bu\013er)j(denotes)g
(bu\013ers)f(whic)o(h)g(the)g(bu\013er)g(p)q(o)q(ol)f(will)f @F12 @sf(not)h 
@F18 @sf(manage.)j(It)e(is)f(presumed)-1909 57 y(that)j(a)f(p)q(ermanen)o
(t)g(bu\013er)i(will)d(b)q(e)i(read)g(and)g(not)f(ev)o(er)i(released)g
(\(although)e(it)g(can)h(b)q(e)g(written.\))24 b(No)15 b(c)o(hanges)i(to)
-1910 56 y(this)d(section)h(are)f(logged)f(\(that)h(is)g @F10 @sf
(bufLogged)e @F18 @sf(and)i @F10 @sf(bufPermanent)e @F18 @sf(are)j(m)o
(utual)o(ly)d(exclusiv)o(e)i(classes.\))-1739 185 y @F15 @sf(10.8)29 b
(buf)757 b(64)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
64 @eop1

65 @bop0
@F10 @sf
[<
60C0F1F0FBF83FBE1F1E060C>
	 15 6 -4 27 24] 126 @dc
[<
60F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F060>
	 4 36 -10 31 24] 124 @dc

65 @eop0

0 0 65 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F6 @sf(10.8)70 b
(buf)-288 137 y @F10 @sf(struct)23 b(buffer)g({)-167 56 y(unsigned)190 b
(bufFlags;)261 b(/*)24 b(flags)f(for)g(buffer)g(*/)-1384 57 y(enum)g
(bufType)95 b(bufType;)285 b(/*)24 b(type)f(of)g(buffer)g(*/)-1336 56 y
(unsigned)190 b(refCount;)261 b(/*)24 b(#)f(of)h(total)f(references)g(*/)
-1504 57 y(struct)g({)p 56 w(struct)g(addrHashHeader)o 23 x(*head;)g(/*)g
(hash)h(table)f(head)g(*/)-1193 57 y(struct)g(buffer)214 b(*next;)23 b(/*)g
(next)h(element)f(in)g(list)h(*/)-1504 56 y(})382 b(addrHash;)261 b(/*)23 b
(hash)h(table)f(on)g(disk)h(address)f(*/)-1647 56 y(struct)g({)p 57 w
(struct)g(bufPoolEntry)46 b(*poolHead;)22 b(/*)i(hash)f(table)g(head)h(*/)
-1265 56 y(struct)f(buffer)190 b(*next;)118 b(/*)24 b(next)f(element)g(*/)
-1384 57 y(})382 b(freeList;)332 b(/*)24 b(linked)f(list)g(for)h(free)f
(list)g(*/)-1694 56 y(struct)g({)p 57 w(struct)g(writeQ)190 b(*head;)71 b
(/*)23 b(head)h(of)f(write)g(q)h(*/)-1217 56 y(struct)f(buffer)190 b
(*next;)71 b(/*)23 b(next)h(element)e(*/)-1336 57 y(})382 b(writeQ;)333 b
(/*)23 b(linked)g(list)h(for)f(writes)g(*/)-1575 56 y(struct)g({)p 57 w
(struct)g(buffer)262 b(*head;)70 b(/*)24 b(top)f(of)h(age)f(queue)h(*/)-1313 
56 y(struct)f(buffer)262 b(*next;)70 b(/*)24 b(next)f(elem.)g(in)h(list)f
(*/)-1551 56 y(})382 b(ageQ;)f(/*)23 b(linked)g(list)h(for)f(aging)g(*/)
-1551 57 y(caddr_t)548 b(data;)71 b(/*)23 b(data)h(address)e(of)i(buffer)f
(*/)-1575 56 y(struct)g(async_device)f(*adev;)286 b(/*)23 b(disk)h
(specificatio)o(n)f(*/)-1480 57 y(struct)g(async_event)f(*aevent;)262 b
(/*)23 b(for)h(event)f(handler)g(*/)-1456 56 y(daddr_t)452 b(blockNum;)71 b
(/*)23 b(block)g(#)h(on)g(device)f(*/)-1456 57 y(void)477 b(\(*iodone\)\(\);)o
47 x(/*)23 b(call)h(after)f(i/o)g(*/)-1384 56 y(unsigned)428 b(bufMaxLSN;)
47 b(/*)23 b(LSN)h(it)f(depends)g(on)h(*/)-1647 57 y(unsigned)f(short)71 b
(bufLogPageOff)o(;)23 b(/*)g(log)h(page)f(offset)g(*/)-1265 56 y(};)-48 
113 y(/*)h(bufFlags)e(*/)-334 56 y(#define)h(BUF_WRITE)46 b(\(0x00000001\))
214 b(/*)23 b(write)g(if)h(set/read)f(if)g(not)h(*/)-1671 57 y(#define)f
(BUF_INUSE)46 b(\(0x00000002\))214 b(/*)23 b(not)h(on)f(free)g(list)h(*/)
-1480 56 y(#define)f(BUF_DIRTY)46 b(\(0x00000004\))214 b(/*)23 b(modified)g
(*/)-1289 57 y(#define)g(BUF_LOGGED)f(\(0x00000008\))214 b(/*)23 b(this)g
(buffer)g(logged)g(*/)-1527 56 y(#define)g(BUF_NOAGE)46 b(\(0x00000010\))
214 b(/*)23 b(must)g(be)h(written)f(immediately)f(*/)-1742 113 y(/*)i
(macros)f(to)g(manipulate)g(buffer)g(flags)g(*/)-931 113 y(#define)g
(BUF_CLEARFLAG\()o(bp,flag\))o 47 x(\(\(bp\)->bufFl)o(ags)f(&=)i(~flag\))
-1361 56 y(#define)f(BUF_SETFLAG\(bp)o(,flag\))94 b(\(\(bp\)->bufFl)o(ags)
22 b(|=)i(flag\))-1337 57 y(#define)f(BUF_CKFLAG\(bp,)o 23 x(flag\))95 b
(\(\(bp\)->bufFl)o(ags)22 b(&)i(flag\))-1313 179 y @F15 @sf(10.8)29 b(buf)
757 b(65)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
65 @eop1

66 @bop0
@F10 @sf
[<
70F8F8F870000000000070F8F8F8F8F8F8F8F8F8F8F8F8F8F8F8F870>
	 5 28 -9 27 24] 33 @dc
@F6 @sf
[<
01FE000007FF80000FFFE0001E03F0001F01F8003F807C003F807E003F803F003F803F001F
003F8000003F8000001FC000001FC000001FC000001FE0007E1FE003FF9FE007C1DFE00F80
7FE01F807FE03F003FE07F003FE07F001FE0FF001FE0FF001FE0FF001FE0FF001FE0FF001F
C0FF001FC0FF001FC0FF001F807F001F807F003F003F803F001F807E000FE0FC0007FFF800
01FFF000007F8000>
	 27 39 -3 38 34] 57 @dc

66 @eop0

0 0 66 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 202 y @F10 @sf(#define)23 b
(bufSetWrite\(bp)o(\))70 b(BUF_SETFLAG\(bp,)22 b(BUF_WRITE\))-1242 56 y
(#define)h(bufSetRead\(bp\))o 94 x(BUF_CLEARFLAG\(bp,)f(BUF_WRITE\))-1290 
56 y(#define)h(bufSetInuse\(bp)o(\))70 b(BUF_SETFLAG\(bp,)22 b(BUF_INUSE\))
-1242 57 y(#define)h(bufSetDirty\(bp)o(\))70 b(BUF_SETFLAG\(bp,)22 b
(BUF_DIRTY\))-1242 56 y(#define)h(bufSetLogged\(b)o(p\))46 b
(BUF_SETFLAG\(bp,)22 b(BUF_LOGGED\))-1266 57 y(#define)h(bufSetAge\(bp\))
117 b(BUF_CLEARFLAG\(bp,)22 b(BUF_NOAGE\))-1290 113 y(#define)h
(bufClearWrite\()o(bp\))46 b(bufSetRead\(bp\))-980 56 y(#define)23 b
(bufClearInuse\()o(bp\))46 b(BUF_CLEARFLAG\(bp,)o 23 x(BUF_INUSE\))-1314 
57 y(#define)23 b(bufClearDirty\()o(bp\))46 b(BUF_CLEARFLAG\(bp,)o 23 x
(BUF_DIRTY\))-1314 56 y(#define)23 b(bufClearLogged)o(\(bp\))f
(BUF_CLEARFLAG\(bp,)o 23 x(BUF_LOGGED\))-1338 57 y(#define)h
(bufClearAge\(bp)o(\))94 b(BUF_SETFLAG\(bp,)22 b(BUF_NOAGE\))-1266 112 y
(#define)h(bufIsWrite\(bp\))o 118 x(BUF_CKFLAG\(bp,)f(BUF_WRITE\))-1242 
57 y(#define)h(bufIsRead\(bp\))141 b(\(!bufIsWrite\))-956 56 y(#define)23 b
(bufIsInuse\(bp\))o 118 x(BUF_CKFLAG\(bp,)f(BUF_INUSE\))-1242 57 y
(#define)h(bufIsDirty\(bp\))o 118 x(BUF_CKFLAG\(bp,)f(BUF_DIRTY\))-1242 
56 y(#define)h(bufIsLogged\(bp)o(\))94 b(BUF_CKFLAG\(bp,)22 b(BUF_LOGGED\))
-1266 57 y(#define)h(bufIsAge\(bp\))165 b(\(!BUF_CKFLAG\(bp,)22 b
(BUF_NOAGE\)\))-1314 113 y(#define)h(bufData\(bp\))189 b(\(\(bp\)->data\))
-932 134 y @F18 @sf(This)17 b(design)g(of)g(the)h(bu\013er)g(pac)o(k)n
(age)f(breaks)h(a)o(w)o(a)o(y)e(from)f(the)j(BSD)f(based)h(bu\013er)h(pac)o
(k)n(age;)f(b)q(ecause)g(the)g(design)-1909 57 y(presumes)10 b(the)h(use)g
(of)e(the)h(async)o(hronous)h(I/O)f(pac)o(k)n(age)f(descr)q(ib)q(ed)i(in)f 
@F11 @sf(DCE)i(LFS)e @F18 @sf(Async)o(hronous)h(Disk)f(I/O)g(Design)-1910 
56 y(Sp)q(eci\014cation.)17 b(W)m(e)10 b(ha)o(v)o(e)h(de\014ned)g(bu\013ers)h
(to)e(instead)h(con)o(tain)f(only)g(the)h(inform)o(atio)o(n)e(needed)j(b)o
(y)e(the)i(bu\013er/logging)-1911 57 y(pac)o(k)n(age.)17 b(This)10 b(v)n
(aries)h(from)e(the)j(sc)o(heme)f(describ)q(ed)h(in)f @F11 @sf(DCE)j(LFS)d 
@F18 @sf(Bu\013er/Log)g(P)o(ac)o(k)n(age)g(In)o(terface)g(Sp)q
(eci\014cation.)-1909 95 y(W)m(e)i(pro)o(vide)h(a)g(detailed)g
(description)g(of)f(eac)o(h)i(\014eld)f(of)f(the)h(structur)q(e:)-1124 135 y
(bufFlags)k(this)i(consists)g(of)f(\015ags)g(denoting)g(the)h(t)o(yp)q(e)f
(of)g(bu\013er,)i(if)e(the)g(bu\013er)i(is)e @F12 @sf(dirty)h @F18 @sf
(\(e.g.)34 b(has)19 b(un)o(written)-1795 57 y(c)o(hanges\))14 b(and)g(if)f
(the)i(bu\013er)f(is)g(logged.)-762 175 y @F6 @sf(10.9)70 b(device)-380 
137 y @F10 @sf(struct)23 b(device)g({)-167 56 y(dev_t)g(dev;)238 b(/*)24 b
(actual)f(major/minor)f(number)h(of)h(the)f(device)g(*/)-1551 56 y
(unsigned)g(blocksize;)f(/*)i(physical)f(blocksize)f(of)i(underlying)e
(device)h(*/)-1742 57 y(};)-48 135 y @F18 @sf(When)14 b(op)q(erating)f(up)q
(on)g @F12 @sf(devic)n(es)p @F18 @sf(,)f(the)i(bu\013er)h(pac)o(k)n(age)e
(needs)h(only)f(kno)o(w)g(the)h(ma)r(jo)o(r/m)o(i)o(nor)e(n)o(um)o(b)q(er)h
(of)g(the)h(blo)q(c)o(k)-1910 56 y(sp)q(ecial)d(device)h(and)f(the)h
(underlying)f(blo)q(c)o(ksize)h(of)e(that)h(device;)i(for)e(a)g
(particular)f(implem)o(en)o(tatio)o(n)g(this)h(informa)o(tion)-1911 125 y 
@F15 @sf(10.9)29 b(device)700 b(66)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)
-1911 b
66 @eop1

67 @bop0

67 @eop0
0 0 67 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F18 @sf(mig)o(h)o
(t)h(b)q(e)i(enco)q(ded)g(in)e(some)h(other)g(data)g(structure)q(.)32 b(W)m
(e)17 b(include)h(it)g(here)h(to)f(delineate)g @F12 @sf(what)h @F18 @sf
(inform)o(ation)d(w)o(e)-1909 57 y(actually)d(require)i(for)e(the)i
(bu\013er/loggin)e(pac)o(k)n(age.)-834 2517 y @F15 @sf(10.9)29 b(device)
700 b(67)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
67 @eop1

68 @bop0
@F2 @sf
[<
FFFFFFF0000000000F0000FFFFFFF0000000001F8000FFFFFFF0000000003F8000FFFFFFF0
000000007F8000FFFFFFF000000000FF8000007FE00000000000FF8000001F800000000001
FF8000001F800000000003FF8000001F800000000007FF8000001F80000000000FFF800000
1F80000000001FFF8000001F80000000001FFF8000001F80000000003FFF8000001F800000
00007FFF8000001F8000000000FFFF8000001F8000000001FFFF8000001F8000000003FFFF
8000001F8000000003FFFF8000001F8000000007FFFF8000001F800000000FFFFF8000001F
800000001FFFFF8000001F800000003FFFFF8000001F800000007FFFDF8000001F80000000
7FFFDF8000001F80000000FFFF9F8000001F80000001FFFF1F8000001F80000003FFFE1F80
00001F80000007FFFC1F8000001F8000000FFFF81F8000001F8000000FFFF81F8000001F80
00001FFFF01F8000001F8000003FFFE01F8000001F8000007FFFC01F8000001F800000FFFF
801F8000001F800001FFFF001F8000001F800001FFFF001F8000001F800003FFFE001F8000
001F800007FFFC001F8000001F80000FFFF8001F8000001F80001FFFF0001F8000001F8000
3FFFE0001F8000001F80003FFFC0001F8000001F80007FFFC0001F8000001F8000FFFF8000
1F8000001F8001FFFF00001F8000001F8003FFFE00001F8000001F8007FFFC00001F800000
1F8007FFF800001F8000001F800FFFF800001F8000001F801FFFF000001F8000001F803FFF
E000001F8000001F807FFFC000001F8000001F80FFFF8000001F8000001F80FFFF0000001F
8000001F81FFFF0000001F8000001F83FFFE0000001F8000001F87FFFC0000001F8000001F
8FFFF80000001F8000001F9FFFF00000001F8000001F9FFFE00000001F8000001FBFFFE000
00001F8000001FFFFFC00000001F8000001FFFFF800000001F8000001FFFFF000000001F80
00001FFFFE000000001F8000001FFFFC000000007FE000FFFFFFFC000000FFFFFFF0FFFFFF
F8000000FFFFFFF0FFFFFFF0000000FFFFFFF0FFFFFFE0000000FFFFFFF0FFFFFFC0000000
FFFFFFF0>
	 84 71 -4 70 93] 78 @dc
@F6 @sf
[<
00001FF800000001FFFF00000007FFFFC000000FF007E000003FC000F000007F0000380000
7E00001C0000FE00001C0001FE00000E0001FC00000E0003FC0000070003FC0000070003FC
0000070003FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003FC00
00070003FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003FC0000
070003FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003FC000007
0003FC0000070003FC0000070003FC0000070003FC0000070003FC0000070003FC00000700
03FC00000700FFFFF001FFFCFFFFF001FFFCFFFFF001FFFC>
	 46 41 -3 40 53] 85 @dc

68 @eop0

0 0 68 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(11)-485 246 y @F2 @sf(Notes)-299 280 y @F6 @sf(11.1)70 b(User)23 b(Data)g
(Logging)-758 137 y @F18 @sf(In)14 b(the)i(pro)q(cess)g(of)e(discussing)h
(this)f(in)o(terface,)h(the)g(follo)o(wi)o(ng)e(observ)n(ations)i(w)o(ere)g
(made)e(regarding)i(the)g(p)q(ossibilit)o(y)-1911 56 y(of)e(adding)g(user)i
(lev)o(el)f(data)f(logging)f(to)i(the)h(pac)o(k)n(age:)-811 146 y @F13 @sf
(\017)23 b @F11 @sf(Dep)q(endency)d(up)q(on)g(all)h(data)g(b)q(eing)g
(logged)p @F18 @sf(.)j(This)16 b(pac)o(k)n(age)f(presumes)i(that)e(all)g
(data)g(of)g(a)h(par-)-1796 56 y(ticular)d(t)o(yp)q(e)h(is)g(b)q(eing)g
(logged;)e(if)h(this)h(is)f @F12 @sf(not)h @F18 @sf(true,)g(it)f(will)g
(require)h(additional)e(managem)o(en)o(t)g(of)h(in)o(teraction)-1795 57 y
(b)q(et)o(w)o(een)i(\\logged")e(data)h(sections)h(v)o(ersus)g(\\unlogged")e
(data)h(sections.)19 b(That)14 b(is,)g(there)h(are)g(race)g(conditions)-1796 
56 y(b)q(et)o(w)o(een)j(freeing)f(logged)e(data)i(pages)g(and)f(allo)q
(cating)f(unlogged)h(data)h(pages)g(that)g(can)f(cause)i(di\016culties;)
-1796 57 y(this)13 b(isn't)f(a)h(problem)e(if)h @F12 @sf(al)r(l)h @F18 @sf
(data)f(pages)h(are)h(logged)e(\(as)h(in)f(the)i(case)g(of)e(the)h(\014le)g
(system)g(meta-data)e(area\))i(or)-1795 56 y(if)f @F12 @sf(no)h @F18 @sf
(data)g(pages)h(are)g(logged)f(\(as)g(in)g(the)h(case)g(of)f(the)h(user)h
(data)e(for)g(a)g(non-user)h(data)f(logging)f(\014le)h(system.\))-1796 56 y
(The)h(di\016cult)o(y)f(only)g(arises)i(when)f(the)g(mo)q(dels)f(are)i(mi)o
(xed.)-1020 94 y @F13 @sf(\017)23 b @F11 @sf(Log)16 b(size)g(c)o
(haracteristics)e @F18 @sf(Muc)o(h)f(of)f(the)h(thinking)f(in)g(designing)g
(this)h(log)f(ignored)g(the)i(issue)f(of)f(log)g(size)-1795 57 y(b)q
(ecause)k(of)f(the)h(smal)o(l)d(size)j(of)f(data)f(c)o(hanges)i(in)f
(meta-data.)o 21 x(With)f(user)i(data,)f(mo)q(di\014cati)o(ons)f(will)g
(consist)-1795 56 y(of)f @F12 @sf(entir)n(e)g @F18 @sf(data)h(pages)g(|)f
(far)h(more)f(than)g(is)h(desirable)g(for)g(a)g(high-p)q(erforma)o(nce)g
(loggi)o(ng)f(system.)-1738 146 y(This)g(in)o(terface)h(pac)o(k)n(age)f
(has)h(ma)o(n)o(y)e(built-in)g(assumptions)g(whic)o(h)i(m)o(ust)e(b)q(e)i
(critically)e(re-examined)h(when)h(using)f(it)-1910 56 y(for)h(user)h
(data)e(logging.)o -388 176 a @F6 @sf(11.2)70 b(Debugging)-512 137 y 
@F18 @sf(In)13 b(the)h(debugging)f(and)g(testing)h(of)e(this)i(pac)o(k)n
(age)f(it)f(app)q(ears)i(that)g(a)f(\014rst)h(order)g(p)q(ort)f(to)h(the)f
(BSD)h(based)g(F)m(ast)f(File)-1910 57 y(System)f(w)o(ould)f(pro)o(vide)h
(an)g(excellen)o(t)h(test-b)q(ed;)h(this)e(co)q(de)i(is)e(kno)o(wn)f(to)h
(w)o(ork)g(and)g(there)i(exist)f(reliable)e(\014le)i(system)-1910 56 y(p)q
(erformance)h(\014gures.)-367 185 y @F15 @sf(11.2)29 b(Debugging)610 b(68)
530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
68 @eop1

69 @bop0
@F2 @sf
[<
00000001FFFFFF8000000001FFFFFF8000000001FFFFFF8000000001FFFFFF8000000001FF
FFFF800000000003FFC0000000000003FFC0000000000003FFC0000000000003FFC0000000
000003FFC0000000000003FFC0000000000003FFC0000000000003FFC0000000000003FFC0
000000000003FFC0000000000003FFC0000000000003FFC0000000000003FFC00000000000
03FFC0000000000003FFC00000001FF803FFC0000001FFFF03FFC0000007FFFFC3FFC00000
1FFFFFE3FFC000007FFC07FBFFC00000FFF000FFFFC00001FFC0007FFFC00003FF80003FFF
C00007FF80001FFFC0000FFF00000FFFC0001FFE000007FFC0001FFE000003FFC0003FFE00
0003FFC0003FFC000001FFC0003FFC000001FFC0007FFC000001FFC0007FFC000001FFC000
7FF8000001FFC000FFF8000001FFC000FFF8000001FFC000FFF8000001FFC000FFF8000001
FFC000FFF8000001FFC000FFF8000001FFC000FFF8000001FFC000FFF8000001FFC000FFF8
000001FFC000FFF8000001FFC0007FF8000001FFC0007FFC000001FFC0007FFC000001FFC0
003FFC000001FFC0003FFC000003FFC0001FFE000003FFC0001FFE000007FFC0000FFF0000
07FFC0000FFF00000FFFC00007FF80001FFFC00003FFC0001F7FC00001FFE0003E7FC00000
FFF000FC3FC000003FFE03F81FC000001FFFFFF01FC0000007FFFFC00FC0000000FFFF0007
C00000000FFC0003C000>
	 57 66 -4 45 63] 113 @dc
@F14 @sf
[<
0F0780308C40705C40703C20F01C20F01C20F00E10F00E00F00E00F00E0078070078070078
07003807003C03801C03800E03800707800389C000F180>
	 20 20 -2 19 24] 97 @dc
@F13 @sf
[<
FFFFFFF07FFFFFF000000000000000000000000000000000000000000000000000000000FF
FFFFF0FFFFFFF0000000000000000000000000000000000000000000000000000000007FFF
FFF0FFFFFFF0>
	 28 20 -3 20 35] 17 @dc
@F13 @sf
[<
003FF800FFF803C0000700000C0000180000300000300000600000600000C00000C00000C0
0000FFFFF8FFFFF8C00000C00000C000006000006000003000003000001800000C00000700
0003C00000FFF8003FF8>
	 21 28 -4 24 30] 50 @dc
@F14 @sf
[<
1F0031C060E06070E038E03CE01CE01EE01EE01E700F700F700F700F380F380F3C0E3A0E1D
0C1CF01C001C000E000E000E000E0007000700070007003F800780>
	 16 32 -2 31 20] 98 @dc
@F14 @sf
[<
0FC01838300470027001F000F000F000F000F0007800780078003C041C0E1E0F0E0F070101
C2007C>
	 16 20 -2 19 20] 99 @dc
@F14 @sf
[<
FF807FFC1E0007C00C0003C0040003C0020007C00200078001000780018007800080078000
400780007FFF800020078000200780001007800008078000080F8000040F0000040F000002
0F0000010F0000010F0000008F0000008F0000004F0000002F0000002F0000001F0000001E
0000000E0000000E000000060000000200>
	 30 32 -2 31 34] 65 @dc
@F14 @sf
[<
FFFFF00007801E0003C00F0003C0038003C003C003C001E001E000E001E000F001E000F001
E000F000F0007000F000F000F000F000F000F0007801E0007803C0007FFF80007803C0003C
00F0003C0078003C003C003C003C001E001E001E001E001E001E001E001E000F001E000F00
1C000F003C000F007800FFFFE0>
	 31 31 -2 30 34] 66 @dc

69 @eop0

0 0 69 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 496 y @F1 @sf(Chapter)34 b
(12)-485 246 y @F2 @sf(Equiv)-7 b(alence)q 41 x(Classes)-1025 280 y @F6 @sf
(12.1)70 b(Design)-395 137 y @F18 @sf(The)15 b(conceptualization)f(of)f
(equiv)n(alence)h(classes)i(is)e(one)g(that,)g(initial)o(ly)e(at)i(least,)g
(mig)o(h)o(t)f(seem)h(un)o(usual.)k(Basically)m(,)-1911 56 y(b)q(ecause)i
(the)f(log/bu\013er)f(pac)o(k)n(age)g(do)q(es)h(not)f(pro)o(vide)g(lo)q(c)o
(king,)g(it)g(m)n(ust)g(allo)o(w)e(for)i(the)h(sp)q(eci\014cs)h(of)e
(higher-lev)o(el)-1910 57 y(lo)q(c)o(king.)f(The)c(mec)o(hanism)o 12 x
(whic)o(h)f(is)h(used)h(is)f(the)h(concept)g(of)e(an)h @F12 @sf(e)n
(quivalenc)n(e)h(class)p @F18 @sf(.)i(W)m(e)d(denote)h(the)f(equiv)n
(alence)-1909 56 y(class)h(of)g @F14 @sf(a)f @F18 @sf(as)h @F15 @sf([)p 
@F14 @sf(a)p @F15 @sf(])p @F18 @sf(.)-295 96 y(Mathematicall)o(y)m(,)o 13 x
(an)f @F12 @sf(e)n(quivalenc)n(e)i(r)n(elation)e @F18 @sf(is)h(an)o(y)f
(relation,)g(sa)o(y)h @F13 @sf(\021)g @F18 @sf(if:)-1146 130 y(1.)-33 89 y
(2.)22 b @F14 @sf(a)12 b @F13 @sf(\021)h @F14 @sf(a)p @F18 @sf(.)-175 89 y
(3.)22 b(If)13 b @F14 @sf(a)g @F13 @sf(2)g @F15 @sf([)p @F14 @sf(a)p 
@F15 @sf(])g @F18 @sf(and)h @F14 @sf(b)e @F13 @sf(2)h @F15 @sf([)p @F14 @sf
(b)p @F15 @sf(])f @F18 @sf(then)j @F15 @sf([)p @F14 @sf(b)p @F15 @sf(])c
(=)i([)p @F14 @sf(a)p @F15 @sf(])g @F18 @sf(means)g @F14 @sf(a)g @F13 @sf
(\021)g @F14 @sf(b)p @F18 @sf(.)-960 90 y(4.)22 b(If)13 b @F14 @sf(a)g 
@F13 @sf(\021)g @F14 @sf(b)g @F18 @sf(and)h @F14 @sf(b)e @F13 @sf(\021)h 
@F14 @sf(c)p @F18 @sf(,)g(then)i @F14 @sf(a)d @F13 @sf(\021)h @F14 @sf(c)p 
@F18 @sf(.)-690 129 y(Th)o(us,)h(w)o(e)g(ma)o(y)o 13 x(refer)h(to)e(an)h
(equiv)n(alence)g(class)g(b)o(y)g(refering)g(to)g @F12 @sf(any)g @F18 @sf
(elemen)o(t)f(within)g(that)h(class.)19 b(Our)14 b(equiv)n(alence)-1909 
57 y(relation)d(is)g @F12 @sf(dynamic)p @F18 @sf(;)g(that)h(is,)f(t)o(w)o
(o)g(elemen)o(ts)g(are)g(made)g(\\equiv)n(alen)o(t")f(b)o(y)h(de\014ning)g
(them)f(to)h(b)q(e)h(so.)17 b(This)12 b(is)f(accom-)-1911 56 y(plished)j
(ab)q(o)o(v)o(e)g(the)g(bu\013er)h(lev)o(el)f(b)o(y)g(calling)e(the)j 
@F10 @sf(buffer)s 14 -2 z 13 x(EquivTran)e @F18 @sf(function,)g(whic)o(h)h
(merges)g(t)o(w)o(o)f(equiv)n(alence)-1909 57 y(classes.)-129 95 y(In)g
(practical)h(terms,)e(w)o(e)i(do)f(not)h(b)q(eliev)o(e)f(suc)o(h)i(equiv)n
(alence)e(classes,)h(if)f(used)h(prop)q(erly)m(,)f(will)f(b)q(e)i(large)f
(or)h(long-li)o(v)o(ed.)-1911 57 y(Ho)o(w)o(ev)o(er,)j(their)g(in)o(tro)q
(duction)f(has)h(made)e(it)h(p)q(ossible)h(for)f(higher-lev)o(el)g(users)i
(of)e(the)h(o)o(v)o(erall)f(bu\013er/log)g(pac)o(k)n(age)-1910 56 y(to)f
(circum)o(v)o(en)o(t)g(the)h(assumptions)e(of)h(the)h(underlying)f
(system.)23 b(In)15 b(suc)o(h)h(cases,)h(the)f(log)e(pac)o(k)n(age)h(will)f
(insist)h(up)q(on)-1909 57 y(an)g(imm)o(edia)o(te)g(system)g(sh)o(utdo)o
(wn)h(\(e.g.)23 b(b)o(y)15 b(w)o(a)o(y)g(of)g(a)h @F12 @sf(p)n(anic)f 
@F18 @sf(call\))g(since)h(this)g(is)f(the)h(only)f(manner)g(in)g(whic)o(h)g
(\014le)-1909 56 y(system)f(in)o(tegrit)o(y)f(can)h(still)f(b)q(e)i
(guaran)o(teed.)-730 96 y(This)g(design)f(of)g(the)i(in)o(ternal)e(mec)o
(hanism)o 13 x(used)i(to)e(implem)o(en)o(t)f(equiv)n(alence)i(classes)h
(tak)o(es)f(adv)n(an)o(tage)f(of)g(the)h(fact)-1909 56 y(that)e(an)h
(elemen)o(t)e(can)i(b)q(e)g(a)f(mem)o -1 x(b)q(er)g(of)g @F12 @sf(only)g 
@F18 @sf(a)g(single)g(equiv)n(alence)g(class.)19 b(That)13 b(is,)g(if)f 
@F14 @sf(a)h @F13 @sf(2)g @F15 @sf([)p @F14 @sf(A)p @F15 @sf(])g @F18 @sf
(and)g @F14 @sf(a)f @F13 @sf(2)h @F15 @sf([)p @F14 @sf(B)r @F15 @sf(])h 
@F18 @sf(then)-1909 125 y @F15 @sf(12.1)29 b(Design)688 b(69)530 b(Marc)o
(h)14 b(2,)h(1993)f(14:04)-1911 b
69 @eop1

70 @bop0

@F6 @sf
[<
FFFFFFFFF0FFFFFFFFF0FFFFFFFFF003FC001FF803FC0003F803FC0001F803FC0000F803FC
00007803FC00003803FC00003C03FC00001C03FC00001C03FC00001C03FC01C01C03FC01C0
0E03FC01C00E03FC01C00E03FC03C00003FC03C00003FC0FC00003FFFFC00003FFFFC00003
FFFFC00003FC0FC00003FC03C00003FC03C00003FC01C03803FC01C03803FC01C03803FC01
C07803FC00007003FC00007003FC00007003FC0000F003FC0001F003FC0001F003FC0007F0
03FC001FE0FFFFFFFFE0FFFFFFFFE0FFFFFFFFE0>
	 39 41 -3 40 45] 69 @dc

70 @eop0

0 0 70 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 104 y
30785863 12038062 0 0 30785863 12038062 startTexFig  

%!
%%Title: logbuf-ecpict.xfig
%%Creator: fig2dev
%%CreationDate: Tue Mar  2 14:03:31 1993
%%For: pakhtar@feanor (Pervaze Akhtar)
%%Pages: 0
%%BoundingBox: 0 0 468 183
%%EndComments
/$F2psDict 32 dict def $F2psDict begin	$F2psDict /mtrx matrix put
	end	/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def	/$F2psEnd {$F2psEnteredState restore end} def	%%EndProlog
$F2psBegin
1 setlinecap 1 setlinejoin
-36 10 translate
0.000000 183.000000 translate 0.900 -0.900 scale
1.000 setlinewidth
% Polyline
newpath 39 139 moveto 139 139 lineto 139 179 lineto 39 179 lineto closepath stroke
newpath 311.500 214.100 201.981 -158.172 -21.828 arc
stroke
newpath 94.909 131.840 moveto 99.000 139.000 lineto 92.021 134.608 lineto stroke
newpath 128.753 127.262 moveto 124.000 134.000 lineto 125.023 125.817 lineto stroke
newpath 109.909 128.545 15.110 21.163 136.217 arcn
stroke
newpath 241.500 221.500 143.571 -144.926 -35.074 arc
stroke
% Polyline
newpath 99 49 moveto 109 114 lineto stroke
stroke
newpath 109.760 105.789 moveto 109.000 114.000 lineto 105.807 106.397 lineto stroke
newpath 169.000 189.000 70.711 -135.000 -45.000 arc
stroke
% Polyline
newpath 99 49 moveto 229 79 lineto stroke
stroke
newpath 221.655 75.252 moveto 229.000 79.000 lineto 220.755 79.150 lineto stroke
% Polyline
newpath 99 49 moveto 174 119 lineto stroke
stroke
newpath 169.516 112.079 moveto 174.000 119.000 lineto 166.787 115.004 lineto stroke
% Polyline
newpath 419 159 moveto 459 159 lineto stroke
stroke
newpath 451.000 157.000 moveto 459.000 159.000 lineto 451.000 161.000 lineto stroke
% Polyline
newpath 279 159 moveto 319 159 lineto stroke
stroke
newpath 311.000 157.000 moveto 319.000 159.000 lineto 311.000 161.000 lineto stroke
% Polyline
newpath 139 159 moveto 179 159 lineto stroke
stroke
newpath 171.000 157.000 moveto 179.000 159.000 lineto 171.000 161.000 lineto stroke
% Polyline
newpath 99 49 moveto 179 59 lineto stroke
stroke
newpath 171.310 56.023 moveto 179.000 59.000 lineto 170.814 59.992 lineto stroke
% Polyline
newpath 319 139 moveto 419 139 lineto 419 179 lineto 319 179 lineto closepath stroke
% Polyline
newpath 179 139 moveto 279 139 lineto 279 179 lineto 179 179 lineto closepath stroke
% Polyline
newpath 459 139 moveto 559 139 lineto 559 179 lineto 459 179 lineto closepath stroke
/Times-Roman findfont 13.000 scalefont setfont
59 59 moveto 
1 -1 scale
(of EC) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
39 39 moveto 
1 -1 scale
(links to head) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 18.000 scalefont setfont
423 214 moveto 
1 -1 scale
(Sample Equivalence Class of Transactions)dup stringwidth pop neg 0 rmoveto  gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
59 164 moveto 
1 -1 scale
(Tran #1) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
204 164 moveto 
1 -1 scale
(Tran #5) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
344 164 moveto 
1 -1 scale
(Tran #11) gsave  0.000 rotate show grestore 1 -1 scale
/Times-Roman findfont 13.000 scalefont setfont
484 164 moveto 
1 -1 scale
(Tran #14) gsave  0.000 rotate show grestore 1 -1 scale
$F2psEnd

endTexFig  
523 860 a(Figure)g(12.1:)i(Sample)f(Equiv)m(alence)q 16 x(Class)e(List)-1385 
128 y([)p @F14 @sf(A)p @F15 @sf(])e @F13 @sf(\021)h @F15 @sf([)p @F14 @sf
(B)r @F15 @sf(])p @F18 @sf(.)19 b(Th)o(us,)c(w)o(e)f(use)i(a)e(link)o(ed)f
(list)h(repres)q(en)o(tation;)h(this)g(im)o(pli)o(es)f(that)g(\\merging")f
(t)o(w)o(o)h(equiv)n(alence)g(classes)-1908 56 y(is)f(simply)f(the)i
(union)f(of)g(the)i(t)o(w)o(o)e(lists.)18 b(A)13 b(list)h(is)f(a)g(v)n
(alid)f(equiv)n(alence)i(class)g(un)o(til)f(there)i(are)f(no)g(longer)f 
@F12 @sf(any)g @F18 @sf(activ)o(e)-1909 57 y(mem)o -1 x(b)q(ers)h(of)f
(the)h(equiv)n(alence)g(class,)g(at)g(whic)o(h)g(time)e(the)j(en)o(tire)f
(equiv)n(alence)g(class)h(is)f(comm)n(itted.)-1639 95 y(The)h(in)o
(terface)g(b)q(et)o(w)o(een)i(the)e(bu\013er)h(pac)o(k)n(age)e(and)g(the)i
(logging)o 14 x(pac)o(k)n(age)e(to)g(manage)g(these)i(equiv)n(alence)f
(classes)h(is)-1910 57 y(describ)q(ed)i(in)e(the)h(next)g(few)f(sections.)
26 b(As)17 b(far)f(as)g(this)h(design)f(is)g(concerne)q(d,)i(these)g
(routines)e(are)h(demonstrativ)o(e)-1910 56 y(and)g(not)f(binding)g(up)q
(on)h(the)g(actual)f(\014nal)g(design;)i(future)g(design)e(do)q(cumen)o
(ts)h(should)g(clearly)f(indicate)h(the)g(\014nal)-1910 57 y(form)12 b(of)h
(these)j(routines.)-409 95 y(In)e(Figure)g(12.1,)e(w)o(e)i(demonstrate)g
(a)f(pictoral)g(image)f(of)h(the)i(organization)d(of)i(an)f(equiv)n
(alence)h(classes')h(data)e(struc-)-1908 57 y(tures.)-101 175 y @F6 @sf
(12.2)70 b(Equiv)l(alence)21 b(Class)i(In)n(terface)-1015 137 y @F7 @sf
(12.2.1)55 b(log)s 17 -2 z 17 x(ECMerge)32 b @F18 @sf(|)13 b(Merge)i(t)o
(w)o(o)f(equiv)n(alence)g(classes)-1152 192 y @F16 @sf(int32)21 b @F11 @sf
(log)s 16 -2 z 16 x(ECMerge)p @F16 @sf(\()-1 56 y(IN)h(logTranRe)o(c)s 13 
-2 z 11 x(t)g(tran1;)-475 57 y(IN)g(logTranRe)o(c)s 13 -2 z 11 x(t)g
(tran2;)-475 56 y(\))-477 193 y @F11 @sf(P)o(arameters)-192 106 y @F10 @sf
(tran1)g @F18 @sf(-)28 b(this)14 b(is)f(the)i(transaction)f(iden)o(ti\014er)g
(of)g(the)g(\014rst)h(of)e(the)h(t)o(w)o(o)g(equiv)n(alence)g(classes)h
(to)f(b)q(e)g(merged.)-1843 125 y @F15 @sf(12.2)29 b(Equiv)m(alen)q(ce)17 b
(Class)e(In)o(terface)278 b(70)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
70 @eop1

71 @bop0

71 @eop0
0 0 71 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1838 145 y @F10 @sf(tran2)22 b 
@F18 @sf(-)28 b(this)14 b(is)f(the)i(transaction)f(iden)o(ti\014er)g(of)g
(the)g(second)h(of)e(the)i(t)o(w)o(o)e(equiv)n(alence)h(classes)h(to)f(b)q
(e)h(merged.)-1892 170 y @F11 @sf(Description)-262 96 y @F18 @sf(This)f
(routine)g(tak)o(es)g(t)o(w)o(o)g(equiv)n(alence)g(classes)h(and)f(merges)f
(them.)-907 145 y @F10 @sf(nextTran)23 b(=)g(tran1->next;)-550 57 y
(tran1->next)f(=)i(tran2;)-478 113 y(/*)f(search)h(to)f(the)h(end)f(of)h
(the)f(linked)g(list)g(*/)-1002 56 y(for\(tmpTran)f(=)i(tran2;)f
(tmpTran->next;)f(tmpTran)h(=)h(tmpTran->nex)o(t\))f(;)-1480 113 y(/*)g
(splice)h(the)f(two)g(lists)h(*/)-621 57 y(tmpTran->next)e(=)i(nextTran;)
-789 145 y @F18 @sf(Actual)15 b(con)o(trol)f(o)o(v)o(er)h(the)g @F12 @sf
(numb)n(er)f @F18 @sf(of)g(elemen)o(ts)h(within)f(the)h(equiv)n(alence)g
(class)g(is)f(accomplished)g(b)o(y)g(the)h(caller)g(of)-1910 56 y(this)f
(routine.)k(This)c(routine)g(returns)h(only)f(success)q(;)g(there)i(are)e
(no)g(failure)f(conditions)g(p)q(ossible.)-1579 146 y @F11 @sf(Return)18 b
(Co)q(des)-250 95 y @F10 @sf(LOG)s 14 -2 z 14 x(OK)50 b @F18 @sf(the)15 b
(op)q(eration)e(terminated)h(norma)o(lly)o -3 x(.)-897 236 y @F7 @sf
(12.2.2)55 b(log)s 17 -2 z 17 x(ECCommi)o(t)31 b @F18 @sf(|)13 b(Comm)o(i)o
(t)g(an)g(equiv)n(alence)i(class)-1177 202 y @F16 @sf(int32)21 b @F11 @sf
(log)s 16 -2 z 16 x(ECCommit)p @F16 @sf(\()p 56 w(IN)g(logTranRec)s 13 -2 z 
11 x(t)h(tranId;)-497 57 y(\))-518 202 y @F11 @sf(P)o(arameters)-192 108 y 
@F10 @sf(tranId)g @F18 @sf(-)28 b(a)13 b(transaction)h(iden)o(ti\014er)h
(of)e(the)h(equiv)n(alence)g(class)h(to)e(comm)o(it.)o -1338 170 a @F11 @sf
(Description)-262 95 y @F18 @sf(This)h(routine)f(writes)i(a)e(comm)o(it)f
(record)j(for)e @F12 @sf(al)r(l)g @F18 @sf(elemen)o(ts)h(in)f(the)h
(transaction)g(and)g(then)g(remo)o(v)o(es)f(the)h(transaction)-1909 57 y
(records.)-140 142 y @F15 @sf(12.2)29 b(Equiv)m(alen)q(ce)17 b(Class)e(In)o
(terface)278 b(71)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
71 @eop1

72 @bop0

72 @eop0
0 0 72 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F10 @sf(tp)24 b(=)f
(LOG_LOOKUPTRAN\(tr)o(anId\);)-670 113 y(/*)h(firewall)e(*/)-334 113 y
(if\(tp)h(==)h(\(struct)f(logTranRec)f(*\)0\))-573 56 y(PANIC\("log_ECC)o
(ommit:)g(nonexistent)g(transaction"\);)-1314 113 y(tp->tranStatus)g(=)i
(LOG_TRANSTAT_)o(COMPLET)o(E;)-932 57 y(tp->endTime)e(=)i(gettimeofday\(\);)
-694 113 y(log_ECCount\(tra)o(nId,)e(&active,)h(&total\);)-884 113 y
(if\(active)g(==)g(0\))h({)g(/*)f(last)g(record)g(in)h(equivalence)e
(class)i(*/)-1146 56 y(/*)f(write)h(out)f(super-commit)f(record)h(*/)-835 
56 y(if\(log_AllocTr)o(an\(tp->d)o(ev,)f(0)i(/*)g(nowait)f(*/,)g
(&superTp\))g(!=)g(LOG_OK\))-1289 57 y(PANIC\("log_ECC)o(ommit:)f(cannot)h
(allocate)g(new)g(transaction"\);)-1505 56 y(superTranId)f(=)i
(LOG_TRANID\(supe)o(rTp\);)-813 57 y(log_Write\(supe)o(rTranId,)o 23 x
(LOGREC_START,)o 23 x(0,)f(0,)h(0,)g("log_ECCommi)o(t",)-1218 56 y
("log_ECCommi)o(t",)e(&lsn\);)-764 57 y(for\(tranp)h(=)g
(tp->equivClassQ.h)o(ead->fi)o(rstMembe)o(r;)f(tranp;)-1170 56 y(tranp)i
(=)f(tranp->next\))f({)-429 57 y(struct)h(logRec)g(tempLogRec;)-598 113 y
(tempLogRec.tim)o(estamp)f(=)i(tp->endTime;)-837 56 y(tempLogRec.rec)o
(ordType)o 23 x(=)g(LOGREC_END;)-837 56 y(tempLogRec.ref)o(Count)e(=)i
(tp->refCount;)-837 57 y(tempLogRec.dat)o(alen)e(=)i(0;)-549 56 y
(tempLogRec.add)o(r)f(=)g(\(daddr_t\)0;)-693 57 y(tempLogRec.las)o
(tRecOff)o(set)f(=)i(0;)-692 56 y(tempLogRec.rec)o(vrTime)e(=)i(0;)-597 
57 y(tempLogRec.old)o(Data)e(=)i(tempLogRec.newD)o(ata)e(=)i(\(char)f
(*\)0;)-1241 56 y(tempLogRec.lsn)o 23 x(=)g(0;)-453 57 y(log_Write\(supe)o
(rTranId)o(,)g(LOGREC_BEND,)f(sizeof)h(tempLogRec,)-1052 56 y(0,)h(0,)g
(&tempLogRec,)o 23 x(&tempLogRec,)e(&lsn\);)-1146 57 y(log_DeallocTra)o
(n\(tp\);)-670 56 y(})-24 56 y(log_Write\(supe)o(rTranId,)o 23 x
(LOGREC_END,)g(0,)i(0,)f(0,)h(\(char)f(*\)0,)-1050 57 y(\(char)g(*\)0,)g
(&lsn\);)-645 56 y(superTp->tranS)o(tatus)f(=)i(LOG_TRANSTAT_C)o(OMPLETE;)o 
-1051 57 a(log_DeallocTra)o(n\(superT)o(p\);)-789 56 y(})-24 113 y(return)f
(BUF_OK;)-335 203 y @F15 @sf(12.2)29 b(Equiv)m(alen)q(ce)17 b(Class)e(In)o
(terface)278 b(72)530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
72 @eop1

73 @bop0

73 @eop0
0 0 73 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F11 @sf(Return)i
(Co)q(des)-250 96 y @F10 @sf(LOG)s 14 -2 z 14 x(OK)-207 229 y @F7 @sf
(12.2.3)55 b(log)s 17 -2 z 17 x(ECCoun)n(t)34 b @F18 @sf(|)13 b(Coun)o(t)h
(an)f(ECs)i(mem)o -1 x(b)q(ers)-1041 197 y @F16 @sf(int32)21 b @F11 @sf
(log)s 16 -2 z 16 x(ECCoun)o(t)p @F16 @sf(\()p 56 w(IN)g(logTranRec)s 13 
-2 z 11 x(t)h(tranId;)-497 57 y(OUT)f(unsigned)f(*active;)-459 56 y(OUT)h
(unsigned)f(*total;)-437 56 y(\))-473 197 y @F11 @sf(P)o(arameters)-192 
108 y @F10 @sf(tranId)i @F18 @sf(-)28 b(a)13 b(transaction)h(iden)o(ti\014er)h
(from)o 13 x(the)f(equiv)n(alence)g(class.)-1117 74 y @F10 @sf(active)22 b 
@F18 @sf(-)28 b(the)14 b(n)o(um)o(b)q(er)f(of)g(activ)o(e)h(mem)n(b)q(ers)g
(of)f(the)i(equiv)n(alence)f(class.)-1206 74 y @F10 @sf(total)22 b @F18 @sf
(-)28 b(the)14 b(total)f(n)o(um)o(b)q(er)h(of)f(mem)o -1 x(b)q(ers)g
(\(activ)o(e)h(and)g(terminated\))g(of)f(the)h(equiv)n(alence)g(class.)-1676 
166 y @F11 @sf(Description)-262 96 y @F18 @sf(This)g(call)f(coun)o(ts)h
(the)h(n)o(um)o(b)q(er)e(of)g(mem)o -1 x(b)q(ers)h(of)f(the)i(equiv)n
(alence)f(class)g(in)g(whic)o(h)f @F10 @sf(tranId)g @F18 @sf(b)q(elongs.)
-1653 140 y @F10 @sf(tp)24 b(=)f(log_TranLookup\(tr)o(anId\);)-670 113 y
(if\(tp)g(=)h(\(struct)f(logTranRec)f(*\)0\))-549 57 y(PANIC\("log_ECC)o
(ount:)g(invalid)h(transaction)f(identifier"\);)-1457 113 y(/*)i(trivial)e
(case)i(-)g(no)f(members)g(of)h(equivalence)e(class)h(*/)-1241 113 y
(if\(tp->equivCla)o(ssQ.hea)o(d)g(==)g(\(struct)g(qHead)g(*\)0\))h({)-931 
56 y(*total)f(=)h(1;)-263 56 y(*active)f(=)h(\(tp->tranSta)o(tus)e(==)i
(LOG_TRANSTAT_AC)o(TIVE\))e(?)i(1)f(:)h(0;)-1575 57 y(})-24 113 y(/*)g
(non-trivial)e(case)h(-)h(members)f(of)g(equivalence)g(class)g(*/)-1265 
56 y(*total)g(=)h(0;)-263 57 y(*active)f(=)h(0;)-287 56 y(for\(tranp)f(=)g
(tp->equivClassQ.he)o(ad->fir)o(stMembe)o(r;)g(tranp)g(;)-1289 125 y 
@F15 @sf(12.2)29 b(Equiv)m(alen)q(ce)17 b(Class)e(In)o(terface)278 b(73)
530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
73 @eop1

74 @bop0

74 @eop0
0 0 74 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1813 145 y @F10 @sf(tranp)24 b
(=)f(tranp->equivClassQ)o(.nextMe)o(mber\))f({)-859 57 y(\(*total\)++;)-264 
56 y(if\(tranp->tran)o(Status)g(==)i(LOG_TRANSTAT)o(US_ACTIV)o(E\))-908 
56 y(\(*active\)++;)-670 57 y(})-24 113 y(return)f(LOG_OK;)-335 251 y 
@F11 @sf(Return)18 b(Co)q(des)-250 96 y @F10 @sf(LOG)s 14 -2 z 14 x(OK)50 b 
@F18 @sf(the)15 b(op)q(eration)e(completed)h(success)q(fully)m(.)-930 1888 y 
@F15 @sf(12.2)29 b(Equiv)m(alen)q(ce)17 b(Class)e(In)o(terface)278 b(74)
530 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
74 @eop1

1 @bop0
@F18 @sf
[<
001F800000E060800180118007000B800E0007801C0007801C000780380007807800078078
00078070000780F0000F80F000FFF0F0000000F0000000F0000000F0000000F0000000F000
0000700000807800008078000080380001801C0001801C0003800E00038007000780018019
8000E06180001F8080>
	 28 30 -2 28 33] 71 @dc
[<
000600000006000000060000000F0000000F0000001F8000001E8000001E8000003C400000
3C4000003C4000007820000078200000F8300000F0100000F0100001F0080001E0080001E0
080003C0040003C0040003C0040007800200078002000F8003000F0001000F0001801F0003
C0FFE00FF0>
	 28 29 -1 27 31] 86 @dc
[<
0F8030C0203070107818780C300C000E0006000607C70C271817300F700F6007E007E007E0
07E007E007E006E006600E700C300C18180C3003C0>
	 16 29 -2 27 21] 57 @dc

1 @eop0

0 0 1 @bop1 433 w @F2 @sf(Index)-294 207 y @F18 @sf(buf,)13 b(65)-126 57 y
(BUF)r 12 -2 z 14 x(BAD)o(ADDR)-237 56 y(bu\013er)r 12 -2 z 14 x(Init,)g
(15)-336 57 y(BUF)r 12 -2 z 14 x(BADBUF)-199 56 y(bu\013er)r 12 -2 z 14 x
(Read,)g(16)-363 57 y(BUF)r 12 -2 z 14 x(BADTRAN)-235 56 y(bu\013er)r 12 
-2 z 14 x(EndT)m(ran,)g(22)-431 57 y(BUF)r 12 -2 z 14 x(LOGINV)-5 b(AL)-240 
56 y(bu\013er)r 12 -2 z 14 x(LogClose,)13 b(25)-435 56 y(BUF)r 12 -2 z 14 x
(LOGNOENT)-263 57 y(bu\013er)r 12 -2 z 14 x(LogClose,)g(25)-435 56 y(BUF)r 
12 -2 z 14 x(OK)-84 57 y(BUF)r 12 -2 z 14 x(BADBUF,)h(17,)f(18)-417 56 y
(bu\013er)r 12 -2 z 14 x(EndT)m(ran,)g(22)-348 57 y(bu\013er)r 12 -2 z 14 x
(Init,)g(15)-253 56 y(bu\013er)r 12 -2 z 14 x(Read,)g(16,)g(17)-347 57 y
(bu\013er)r 12 -2 z 14 x(ReadAhead,)h(18)-397 56 y(bu\013er)r 12 -2 z 14 x
(Release,)g(19)-405 57 y(BUF)r 12 -2 z 14 x(OLDTRAN)-233 56 y(bu\013er)r 
12 -2 z 14 x(EndT)m(ran,)f(22)-431 56 y(BUF)r 12 -2 z 14 x(REINIT)-170 57 y
(bu\013er)r 12 -2 z 14 x(Init,)g(15)-336 56 y(bu\013er)-21 57 y(bu\013er)r 
12 -2 z 14 x(Init,)g(13)-253 56 y(bu\013er)r 12 -2 z 14 x(LogInit,)g(22)
-321 57 y(bu\013er)r 12 -2 z 14 x(Read,)g(17)-280 56 y(bu\013er)r 12 -2 z 
14 x(ReadGeneral,)g(16)-421 57 y(bu\013er)r 12 -2 z 14 x(StartT)m(ran,)g
(20)-449 56 y(bu\013er)i(pac)o(k)n(age)-177 57 y(bu\013er)r 12 -2 z 14 x
(ReadAhead,)f(17)-397 56 y(bu\013er)r 12 -2 z 14 x(Release,)g(18)-405 56 y
(bu\013er)r 12 -2 z 14 x(Allo)q(cBu\013er,)g(29)-393 57 y(bu\013er)r 12 
-2 z 14 x(Allo)q(cBufHeader,)g(28)-475 56 y(bu\013er)r 12 -2 z 14 x(Comm)n
(itT)m(ran,)o 13 x(21)-422 57 y(bu\013er)r 12 -2 z 14 x(Deallo)q(cBu\013er,)g
(30)-433 56 y(bu\013er)r 12 -2 z 14 x(Deallo)q(cBufHeader,)g(29)512 -1976 y
(bu\013er)r 12 -2 z 14 x(Destro)o(yArena,)h(34)-438 57 y(bu\013er)r 12 -2 z 
14 x(EquivT)m(ran,)e(25)-381 56 y(bu\013er)r 12 -2 z 14 x(FsyncF)m(orce,)i
(23)-392 57 y(bu\013er)r 12 -2 z 14 x(GetOldestDataP)o(age,)f(34)-549 56 y
(bu\013er)r 12 -2 z 14 x(Init,)f(13)-253 57 y(bu\013er)r 12 -2 z 14 x
(InitBufHeaderAllo)q(cator,)h(27)-615 56 y(bu\013er)r 12 -2 z 14 x
(InitNewBu\013er)q(,)g(31)-444 57 y(bu\013er)r 12 -2 z 14 x(Kill,)f(33)-255 
56 y(bu\013er)r 12 -2 z 14 x(LogF)m(orce,)h(23)-353 56 y(bu\013er)r 12 -2 z 
14 x(LogInit,)f(22)-321 57 y(bu\013er)r 12 -2 z 14 x(Mo)q(dify)-167 56 y
(bp,)h(19)-197 57 y(bu\013er)r 12 -2 z 14 x(Mo)q(difySource,)g(19)-437 56 y
(bu\013er)r 12 -2 z 14 x(Read,)g(17)-281 57 y(bu\013er)r 12 -2 z 14 x
(ReadAhead,)g(17)-397 56 y(bu\013er)r 12 -2 z 14 x(ReadGeneral,)g(16)-422 
57 y(bu\013er)r 12 -2 z 14 x(Release,)g(18)-322 56 y(bu\013er)r 12 -2 z 
14 x(SetKilled,)g(32)-354 57 y(bu\013er)r 12 -2 z 14 x(SetT)o(yp)q(e,)h
(35)-339 56 y(bu\013er)r 12 -2 z 14 x(StartT)m(ran,)f(20)-367 56 y(bu\013er)r 
12 -2 z 14 x(SyncF)m(orce,)h(24)-372 57 y(bu\013er)r 12 -2 z 14 x(W)m
(aitF)m(orW)l(rite,)e(36)-438 56 y(bu\013er)r 12 -2 z 14 x(W)m(rite,)g(35)
-289 57 y(bufT)o(yp)q(e,)h(64)-220 56 y(bufWBMo)q(de,)g(64)-300 98 y
(Destro)o(yArena,)h(34)-318 57 y(device,)g(66)-180 56 y(recvr)s 12 -2 z 
14 x(DumpLo)o(g,)d(57)-354 98 y(EquivT)m(ran,)h(25)-261 98 y(GetBu\013erP)q 
-1 x(o)q(ol,)h(28)-328 98 y(head)h(of)e(log,)f(4)-246 98 y(bu\013er)r 12 
-2 z 14 x(Init,)h(13)-332 171 y @F15 @sf(i)-960 b
1 @eop1

2 @bop0

2 @eop0
0 0 2 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 145 y @F18 @sf(Kill,)c(33)
-134 98 y(log)29 57 y(head,)i(4,)f(10)-199 56 y(tail,)f(4,)h(10)-256 56 y
(log)r 12 -2 z 12 x(Allo)q(cT)m(ran,)f(50)-316 57 y(log)r 12 -2 z 12 x
(Close,)h(24,)g(49)-299 56 y(log)r 12 -2 z 12 x(Deallo)q(cT)m(ran,)f(51)
-356 57 y(log)r 12 -2 z 12 x(ECcomm)o(it,)o 13 x(71)-330 56 y(log)r 12 -2 z 
12 x(ECCoun)o(t,)h(73)-305 57 y(log)r 12 -2 z 12 x(ECMerge,)i(70)-306 56 y
(log)r 12 -2 z 12 x(F)m(orce,)f(52)-233 57 y(log)r 12 -2 z 12 x(Sh)o(utdo)o
(wn,)f(48)-315 56 y(bu\013er)r 12 -2 z 14 x(LogInit,)g(22)-321 57 y
(logRec,)g(63)-188 56 y(logT)m(ranRec)r 12 -2 z 12 x(t,)h(63)-306 98 y
(bu\013er)r 12 -2 z 14 x(ReadGeneral,)f(16)-421 56 y(bu\013er)r 12 -2 z 
14 x(Read,)g(17)-280 57 y(bu\013er)r 12 -2 z 14 x(ReadAhead,)h(17)-397 56 y
(recvr)r 12 -2 z 14 x(Reco)o(v)o(er,)g(56)-316 57 y(reco)o(v)o(ery)-66 56 y
(recvr)r 12 -2 z 14 x(DumpLog,)o 13 x(57)-354 57 y(recvr)r 12 -2 z 14 x
(Reco)o(v)o(er,)g(56)-316 56 y(recvr)r 12 -2 z 14 x(W)m(riteBlo)q(c)o(ks,)g
(58)-477 57 y(RECVR)r 12 -2 z 12 x(BAD)o(A)o(G)-236 56 y(recvr)r 12 -2 z 
14 x(Reco)o(v)o(er,)g(57)-399 56 y(RECVR)r 12 -2 z 12 x(BADLOG)-265 57 y
(recvr)r 12 -2 z 14 x(Reco)o(v)o(er,)g(57)-399 56 y(recvr)r 12 -2 z 14 x
(DumpLog,)o 13 x(57)-354 57 y(RECVR)r 12 -2 z 12 x(LOGOK)-237 56 y(recvr)r 
12 -2 z 14 x(Reco)o(v)o(er,)g(57)-399 57 y(RECVR)r 12 -2 z 12 x(OK)-146 
56 y(recvr)r 12 -2 z 14 x(DumpLog,)o 13 x(58)-354 57 y(recvr)r 12 -2 z 14 x
(Reco)o(v)o(er,)g(57)-316 56 y(recvr)r 12 -2 z 14 x(W)m(riteBlo)q(c)o(ks,)g
(58)-394 57 y(recvr)r 12 -2 z 14 x(W)m(riteRestartBlo)q(c)o(k,)g(59)-595 
56 y(recvr)r 12 -2 z 14 x(Reco)o(v)o(er,)g(56)-316 56 y(recvr)r 12 -2 z 
14 x(W)m(riteBlo)q(c)o(ks,)g(58)-394 57 y(recvr)r 12 -2 z 14 x(W)m
(riteRestartBlo)q(c)o(k,)g(59)-512 56 y(bu\013er)r 12 -2 z 14 x(Release,)g
(18)-322 98 y(SetKilled,)f(32)-233 57 y(bu\013er)r 12 -2 z 14 x(startT)m
(ran,)h(20)667 -2383 y(tail)f(of)g(log,)g(4)-221 98 y(UndeleteB)q(u\013er)q
(,)h(31)-339 98 y(recvr)s 12 -2 z 14 x(W)m(riteBlo)q(c)o(ks,)f(58)-1421 
2378 y @F15 @sf(.0)30 b(Equiv)m(alence)q 16 x(Class)15 b(In)o(terface)-180 b
(ii)1056 b(Marc)o(h)14 b(2,)h(1993)f(14:04)-1911 b
2 @eop1

3 @bop0
@F2 @sf
[<
01F0001FF800000001F800FFFF80000001FC03FFFFF0000001FE0FFFFFFC000001FF1FE01F
FE000001FFBF0007FF800001FFFE0001FFC00001FFFC0000FFE00001FFF800007FF00001FF
F000003FF80001FFE000003FF80001FFE000001FFC0001FFE000001FFC0001FFE000001FFE
0001FFE000001FFE0001FFE000000FFF0001FFE000000FFF0001FFE000000FFF0001FFE000
000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001
FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000F
FF8001FFE000000FFF0001FFE000000FFF0001FFE000000FFF0001FFE000000FFF0001FFE0
00001FFE0001FFE000001FFE0001FFE000001FFC0001FFE000001FFC0001FFE000003FF800
01FFF000007FF00001FFF800007FE00001FFFE0001FFC00001FFFF8003FF800001FFDFF00F
FF000001FFCFFFFFFC000001FFC3FFFFF0000001FFC07FFFC0000001FFC00FFC00000001FF
C0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000000000
0001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000
0000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001
FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000
000003FFC00000000000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC0
0000000000FFFFC00000000000007FC00000000000>
	 57 72 -4 71 66] 98 @dc
[<
FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07F
FFFFE001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FF
E00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF0
0001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE000
00FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001
FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FF
F00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFF00000FFF00001FFF0
0000FFF00001FFF00000FFF00001FFF80000FFF00001FFFC0000FFF00001FFDC0000FFE000
01FFDE0000FFE00001FFCF0001FFE00001FFC7C001FFC00001FFC3E003FFC00001FFC1FC07
FF800001FFC0FFFFFF000001FFC03FFFFE000001FFC00FFFF8000001FFC001FFC0000001FF
C0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000000000
0001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000
0000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001
FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000
000003FFC00000000000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC0
0000000000FFFFC00000000000007FC00000000000>
	 59 72 -4 71 66] 104 @dc
@F18 @sf
[<
FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0FEFE>
	 7 41 -4 30 12] 91 @dc
[<
00000F0000001F8000003FC000003FC0000038E00000306000006020003FE02000F0E02003
A0780007205C000E208E001C1107003C0E078038000380780003C0780003C0700001C0F000
01E0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0700001C0780003
C0780003C0380003803C0007801C0007000E000E0007001C000380380000E0E000003F8000
>
	 27 37 -2 28 32] 81 @dc
[<
FEFE0606060606060606060606060606060606060606060606060606060606060606060606
0606FEFE>
	 7 41 0 30 12] 93 @dc
[<
7FC7FCFF800E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00
E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C000E00E01C
000E00E01C000E00E01C00FFFFFFFC000E00E01C000E00E01C000E00E01C000E00E01C000E
00E01C000E00E01C000E01E01C000701F03C000381F03C0001C0DC1C00003F07FC00>
	 33 29 0 28 35] 15 @dc
@F11 @sf
[<
387CFEFEFE7C38>
	 7 7 -4 6 15] 46 @dc

3 @eop0

0 0 3 @bop1 50 w @F15 @sf(Episo)q(de)16 b(Bu\013er/Log)f(Design)766 b
(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)-1908 516 y @F2 @sf(Bibl)q(i)q
(og)q(raph)m(y)-666 241 y @F18 @sf([LMK)o(Q89])22 b(Le\017er,)15 b(Sam)o
(uel)e(J.,)i(Marshall)f(K.)h(McKusic)o(k,)g(Mic)o(hael)g(J.)f(Karels,)i
(and)e(John)i(S.)e(Quarterman)21 b @F11 @sf(The)-1748 57 y(Design)f(and)f
(Implemen)o(tation)h(of)g(the)f(4.3)g(BSD)g @F0 @sf(Unix)g @F11 @sf(Op)q
(erating)i(System)h @F18 @sf(Addison-)-1749 56 y(W)m(esley)14 b
(Publishing)f(Compan)n(y)m(,)o 13 x(Inc.,)g(1989)-879 1849 y @F15 @sf(.0)
30 b(Equiv)m(alence)q 16 x(Class)15 b(In)o(terface)328 b(iii)536 b(Marc)o
(h)14 b(2,)h(1993)f(14:04)-1911 b
3 @eop1

(\nEND-JOB logbuf-dspec.dvi\n) print flush
restore

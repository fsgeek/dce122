%!
% This file is a NONconforming PostScript file.
(TeXPS: dvi->PostScript Driver dvitps, Version 2.19 of June 23, 1989\n)print flush
% Copyright 1989 Stephan v. Bechtolsheim (unless otherwise stated)
% applies to various prologue files. Read documentation for details.
save
% dvitps: BEGIN including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/texpre.pro"
/@bop0
{
/Pagenum exch def
Pagenum
PsPrintEnabled { (Pass0: Page ) print == flush } {pop} ifelse
}	def
/@eop0 {
pop
}	def
/@bop1
{
PsPrintEnabled { (Pass1: Page ) print == flush } {pop} ifelse
save
DviTranslateVector-X DviTranslateVector-Y translate
DviOrientationMatrix concat
Page-H-Offset Page-V-Offset translate
3 1 roll
translate
0 0 moveto
Draft-Flag { @Draft } if
/DriverDelta 0 def
} def
/@eop1 {
pop
showpage
restore
} def
/@end {
(Done!\n) print flush
} def
/@ReportVmStatus {
(\n@ReportVmStatus: ) print
print (: ) print
vmstatus
(max: ) print 20 string cvs print
(, used: ) print 20 string cvs print
(, level: ) print 20 string cvs print
(\n) print flush
} def
/@ReportVmStatusNew {
(VM: ) print
exch print
(, printer: ) print
/Vmfree vmstatus pop exch pop def Vmfree (       ) cvs print
(, driver: ) print dup (      ) cvs print
(, delta: ) print
Vmfree sub (      ) cvs print
(\n) print flush
} def
/@Draft {
gsave
Page-H-Offset neg Page-V-Offset neg translate
-45 rotate
-150 0 moveto
/Helvetica-Bold findfont
[120.0 0 0 -120.0 0 0 ] makefont setfont
(DRAFT) show
grestore
gsave
Page-H-Offset neg Page-V-Offset neg translate
300 -100 moveto
/Helvetica-Bold findfont
[60.0 0 0   -60.0 0 0 ] makefont setfont
Date-and-Time		show
(   ::   )	      	show
Dvi-File-Name		show
grestore
} def

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%     the \special command junk
%
%   The structure of the PostScript produced by dvi2ps for \special
%   is: 
%
%         @beginspecial
%           - any random stuff
%         @endspecial
%
%   This file also has the stuff from Paul Koning to implement the
%   LN03 \special commands.
%
%   CAVEAT: To make this work, the @beginspecial and @endspecial
%   commands must be no-ops. 
%
 
 
/@beginspecial          % - @beginspecial -     -- enter special mode
  {
  } def
 
/@endspecial            % - @endspecial -       -- leave special mode
  {
  } def
 
 
 
%
%
%  The Commands to do something with LN03 \specials
%
%
 
/Resolution 300 def		% internal units are pixels (300/inch)
/Inch {Resolution mul} def	% converts inches to internal units
 
/ln03$defs 10 dict def
ln03$defs begin
/points 256 array def
0 1 255 { points exch [ 0 0 ] put } for
/linebuf 100 string def
 
% string -- postfix
% defines /varnum in current dictionary
/getvarnum
{ token not {stop} if			% get token, quit if none left
  exec /varnum exch def			% execute it, save result
} def
 
% string -- postfix
% defines /varnum in current dictionary.
% if input is of the form num/num2, uses num if Pagenum is odd, num2 if
% it is even
/get2varnum
{ { ( ) anchorsearch
    { pop pop }
    {exit} ifelse } loop		% eliminate leading spaces
  ( ) search { exch pop } { () exch } ifelse  % look for terminating space
					% stack is now: -- postfix token
  (/) search				% num1/num2 form?
  { Pagenum 1 and 0 eq			% even page number?
    { pop pop }				% yes, use second entry
    { exch pop exch pop }		% use first number
    ifelse
  } if					% now we have just the number wanted
  cvi /varnum exch def			% convert and save it
} def
 
% string default -- result
/getdimension
{ exch dup length 1 sub 0 1 3 -1 roll	% get length, prepare to scan string
  { pop dup 0 1 getinterval		% get first char
    ( ) eq				% is it a space?
    { dup length 1 sub 1 exch getinterval % yes, drop first char
    } { exit } ifelse
  } for
  dup length 0 eq			% nothing but spaces?
  { pop }				% yes, exit with default
  { exch pop				% no, get rid of default
    dup dup length 2 sub 2 getinterval	% get last two characters
    1					% default multiplier is 1
    [[1 Inch 72 div (pt)]		% point
     [1 Inch (in)]			% inch
     [1 Inch 6 div (pc)]		% pica
     [1 Inch 2.54 div (cm)]		% centimeter
     [1 Inch 25.4 div (mm)]]		% milimeter
    { aload pop				% get multiplier and string
      3 index eq			% compare with suffix
      { exch pop exit }			% match, use this multiplier
      { pop }				% no match, pop unused multiplier
      ifelse
    } forall
    exch pop				% get rid of suffix
    exch dup length 2 sub 0 exch getinterval % get all but last 2 chars
    cvr mul				% convert to a number, and form result
  } ifelse
} def
end
 
/ln03:defpoint
{ ln03$defs begin
  { currentfile linebuf readline
    not {stop} if			% quit if premature eof
    getvarnum				% get variable number
    (\() search				% look for (
    not {stop} if			% quit if missing
    pop pop				% keep only string to its right
    (,) search				% find separator
    not {stop} if			% quit if missing
    currentpoint pop			% default is current x
    getdimension /x exch def		% process it and save result
    pop					% pop the comma
    (\)) search				% search for )
    not {stop} if			% quit if missing
    currentpoint exch pop		% default is current y
    getdimension [ x 3 -1 roll ]	% form [x y] pair
    points varnum 3 -1 roll put		% update the variable
    pop pop				% pop two results from search
  } stopped
  { (?Error in \\special ln03:defpoint) print pstack flush stop
  } if
  end
} def
 
/ln03:connect
{ ln03$defs begin
  { currentfile linebuf readline
    not {stop} if			% quit if premature eof
    get2varnum				% get one of two variable numbers
    /firstvarnum varnum def		% save that one
    get2varnum				% get another variable number
    2 getdimension			% get dimension, default to 2
    gsave				% save current graphics state
    setlinewidth newpath		% initialize the line
    points firstvarnum get		% get first variable
    aload pop moveto			% get (x,y) pair, move there
    points varnum get			% get second variable
    aload pop lineto			% add a line to there
    stroke grestore			% ... and that's all
  } stopped
  { (?Error in \\special ln03:connect) print pstack flush stop
  } if
  end
} def
 
/ln03:resetpoints
{ ln03$defs begin
  { currentfile linebuf readline
    not {stop} if			% quit if premature eof
    /firstvarnum 1 def			% default to 1-n rather than n-m
    getvarnum				% get variable number
    dup token				% is there anything else?
    { pop pop /firstvarnum varnum def	% yes, save first number
      getvarnum				% get another variable number
    }
    { pop }				% no, toss copy of string
    ifelse
    firstvarnum 1 varnum { points exch [ 0 0 ] put } for
  } stopped
  { (?Error in \\special ln03:resetpoints) print pstack flush stop
  } if
  pop
  end
} def
% dvitps: END including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/texpre.pro"
% dvitps: BEGIN including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/pos.pro"
/a { rmoveto } def
/DriverDelta 0 def
/b { exch p dup /DriverDelta exch def 0 rmoveto } def
/c { p DriverDelta 4 sub dup /DriverDelta exch def 0 rmoveto } def
/d { p DriverDelta 3 sub dup /DriverDelta exch def 0 rmoveto } def
/e { p DriverDelta 2 sub dup /DriverDelta exch def 0 rmoveto } def
/f { p DriverDelta 1 sub dup /DriverDelta exch def 0 rmoveto } def
/g { p DriverDelta 0 rmoveto } def
/h { p DriverDelta 1 add dup /DriverDelta exch def 0 rmoveto } def
/i { p DriverDelta 2 add dup /DriverDelta exch def 0 rmoveto } def
/j { p DriverDelta 3 add dup /DriverDelta exch def 0 rmoveto } def
/k { p DriverDelta 4 add dup /DriverDelta exch def 0 rmoveto } def
/l { p -4 0 rmoveto } def
/m { p -3 0 rmoveto } def
/n { p -2 0 rmoveto } def
/o { p -1 0 rmoveto } def
/q { p 1 0 rmoveto } def
/r { p 2 0 rmoveto } def
/s { p 3 0 rmoveto } def
/t { p 4 0 rmoveto } def
/p { show } def
/w { 0 exch rmoveto } def
/x { 0 rmoveto } def
/y { 3 -1 roll p rmoveto } def
/u-string ( ) def
/u { u-string exch 0 exch put
u-string show
} def
/v { u-string exch 0 exch put
currentpoint
u-string show
moveto
} def
% dvitps: END including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/pos.pro"
% dvitps: BEGIN including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/rules.pro"
/z
{   /dy exch def
/dx exch def
currentpoint
currentpoint
transform round exch round exch itransform
newpath
moveto
dx 0 rlineto
0 dy rlineto
dx neg 0 rlineto
closepath
fill
moveto
}
def
/z
{   /dy exch def
/dx exch def
currentpoint
0.2 0.2 rmoveto
currentpoint
newpath
moveto
dx 0 rlineto
0 dy rlineto
dx neg 0 rlineto
closepath
fill
moveto
}
def
% dvitps: END including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/rules.pro"
/Dvi-File-Name (directory-ispec.dvi) def
(Dvi file name: ") print Dvi-File-Name print (".\n) print
/Draft-Flag false def
/#copies 1 def
/NumCharsInPixelFonts 256 def
/HostName (feanor) def
(This PostScript file was produced on host \") print HostName print (\".\n) print
/PsPrintEnabled true def
/Page-H-Offset   0.000000 def
/Page-V-Offset   0.000000 def
/ExecPsConv {0.30 mul} def
/Date-and-Time (Tue Mar  2 13:59 1993) def
/DviTranslateVector-X   72.000 def
/DviTranslateVector-Y  720.000 def
/DviOrientationMatrix [    0.240    0.000    0.000
	   -0.240 0.0 0.0 ] def
% dvitps: BEGIN including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/pixel-fonts.pro"
/@newfont
{
/newname exch def
newname 7 dict def
newname load begin
/FontType 3 def
/FontMatrix [1 0 0 -1 0 0] def
/FontBBox [0 0 1 1] def
/BitMaps NumCharsInPixelFonts array def
/BuildChar {CharBuilder} def
/Encoding NumCharsInPixelFonts array def
0 1 NumCharsInPixelFonts 1 sub {Encoding exch /.undef put} for
end
newname newname load definefont pop
} def
/ch-image {ch-data 0 get} def
/ch-width {ch-data 1 get} def
/ch-height {ch-data 2 get} def
/ch-xoff  {ch-data 3 get} def
/ch-yoff  {ch-data 4 get} def
/ch-tfmw  {ch-data 5 get} def
/CharBuilder
{
/ch-code exch def
/font-dict exch def
/ch-data font-dict /BitMaps get ch-code get def
ch-data null eq not
{
ch-tfmw   0
ch-xoff neg
ch-height ch-yoff sub neg
ch-width  ch-xoff neg add
ch-yoff
setcachedevice
0 0 transform round exch round exch itransform translate
ch-width ch-height true
[1 0  0 1 ch-xoff ch-height ch-yoff sub] {ch-image} imagemask
}
if
} def
/@dc
{
/ch-code exch def
/ch-data exch def
currentfont /BitMaps get
ch-code ch-data put
currentfont /Encoding get
ch-code (   ) cvs   % convert the character code to a string
cvn
ch-code exch put
} def
/@sf /setfont load def
% dvitps: END including file "/afs/transarc.com/@sys/usr/misc/.TeXPS/pro/pixel-fonts.pro"

1 @bop0
/@F2 @newfont
@F2 @sf
[<
FFFFFFFFF00000FFFFFFFFFF0000FFFFFFFFFFE00000FFC0007FF00000FFC0000FFC0000FF
C00003FE0000FFC00001FF0000FFC00000FF8000FFC000007FC000FFC000003FE000FFC000
003FE000FFC000001FF000FFC000001FF800FFC000001FF800FFC000000FF800FFC000000F
FC00FFC000000FFC00FFC000000FFC00FFC000000FFC00FFC000000FFE00FFC000000FFE00
FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC0
00000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFC00FFC00000
0FFC00FFC000000FFC00FFC000000FFC00FFC000000FF800FFC000001FF800FFC000001FF0
00FFC000001FF000FFC000003FE000FFC000003FE000FFC000007FC000FFC00000FF8000FF
C00001FF0000FFC00007FE0000FFC0000FFC0000FFC000FFF000FFFFFFFFFFC000FFFFFFFF
FF0000FFFFFFFFF00000>
	 55 49 -2 48 63] 68 @dc
[<
000003FF80000000003FFFF800000001FFFFFE00000007FF003F8000001FF80003E000003F
E00000F00000FF800000780001FF0000003C0003FE0000001E0007FC0000000E0007FC0000
0007000FF800000007001FF800000007801FF000000003803FF000000003803FF000000003
807FF000000003807FE000000000007FE000000000007FE00000000000FFE00000000000FF
E00000000000FFE00000000000FFE00000000000FFE00000000000FFE00000000000FFE000
00000000FFE00000000000FFE000000000007FE000000000007FE000000000007FE0000000
07807FF000000007803FF000000007803FF000000007801FF00000000F801FF80000000F80
0FF80000001F8007FC0000001F8007FC0000003F8003FE0000003F8001FF0000007F8000FF
800000FF80003FE00003FF80001FF8000FBF800007FF007F1F800001FFFFFC0F8000003FFF
F00380000003FF800180>
	 49 49 -5 48 60] 67 @dc
[<
FFFFFFFFFFFC00FFFFFFFFFFFC00FFFFFFFFFFFC0000FFC0001FFE0000FFC00003FE0000FF
C00000FE0000FFC000007E0000FFC000003E0000FFC000001E0000FFC000001E0000FFC000
000F0000FFC000000F0000FFC00000070000FFC00000070000FFC00000070000FFC0000007
0000FFC00700038000FFC00700038000FFC00700038000FFC00700000000FFC00700000000
FFC00F00000000FFC01F00000000FFC03F00000000FFFFFF00000000FFFFFF00000000FFFF
FF00000000FFC03F00000000FFC01F00000000FFC00F00000000FFC00700000000FFC00700
000000FFC007001C0000FFC007001C0000FFC007001C0000FFC000001C0000FFC000003800
00FFC00000380000FFC00000380000FFC00000780000FFC00000780000FFC00000F80000FF
C00000F80000FFC00003F80000FFC00007F80000FFC0003FF000FFFFFFFFFFF000FFFFFFFF
FFF000FFFFFFFFFFF000>
	 49 49 -2 48 54] 69 @dc
[<
FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC000FFC003FFC000FFC0007FC000FFC0001FE000
FFC0000FE000FFC00007E000FFC00003E000FFC00003E000FFC00001E000FFC00001E000FF
C00000E000FFC00000E000FFC00000F000FFC00000F000FFC000007000FFC000007000FFC0
00007000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000
000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC00000
0000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC0000000
00FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC0000000FFFFFFF00000FFFFFFF00000FFFFFFF00000>
	 44 49 -2 48 50] 76 @dc
[<
FFFFFFF00000FFFFFFF00000FFFFFFF0000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FF
C000000000FFC000000000FFC000000000FFC007000000FFC007000000FFC007000000FFC0
07000000FFC007000000FFC00F000000FFC01F000000FFC03F000000FFFFFF000000FFFFFF
000000FFFFFF000000FFC03F000000FFC01F000000FFC00F000000FFC007000000FFC00700
0000FFC007000000FFC007001C00FFC007001C00FFC000001C00FFC000001C00FFC0000038
00FFC000003800FFC000003800FFC000007800FFC000007800FFC00000F800FFC00000F800
FFC00003F800FFC00007F800FFC0003FF0FFFFFFFFFFF0FFFFFFFFFFF0FFFFFFFFFFF0>
	 46 49 -2 48 52] 70 @dc
[<
C007FF0000E03FFFE000F1FFFFF800FFFC01FC00FFC0007E00FF00003F00FC00001F80F800
001F80F000000FC0F000000FC0E000000FC0E000000FE0E000000FE0E000000FE06000001F
E00000001FE00000003FE00000003FE0000000FFE0000007FFC00000FFFFC0001FFFFF8000
7FFFFF8001FFFFFF0003FFFFFE000FFFFFFC001FFFFFF8001FFFFFF0003FFFFFC0007FFFFE
00007FFFE000007FFC000000FFE0000000FF80000000FF00000380FF00000380FE00000380
FE00000780FE000007807E000007807E00000F803E00000F803F00001F801F00007F800F80
01FF8007F00FFF8003FFFFC78000FFFF0380001FF00180>
	 35 49 -5 48 46] 83 @dc
[<
FFFF80FFFF80FFFF8007F80007F80007F80007F80007F80007F80007F80007F80007F80007
F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F8
0007F80007F8000FF800FFF800FFF800FFF80001F800000000000000000000000000000000
00000000000000000003C0000FF0000FF0001FF8001FF8001FFC001FF8001FF8000FF0000F
F00003C000>
	 17 51 -3 50 23] 105 @dc
[<
FFFFE000FFFFE000FFFFE00007F8000007F8000007F8000007F8000007F8000007F8000007
F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8
000007F8000007F8000007FC008007FC03E007FC07F007FE0FF807F60FF807F70FF80FF38F
F8FFF3C7F0FFF1FFE0FFF07FC003F03F00>
	 29 32 -2 31 34] 114 @dc
[<
0003FF0000003FFFE00000FFFFF80003FE00FC0007F8001E000FF0000F001FE00007801FC0
0003803FC00003803FC00000007F800000007F80000000FF80000000FF80000000FF800000
00FFFFFFFF80FFFFFFFF80FFFFFFFF80FF80003F80FF80003F807F80003F807F80003F007F
C0003F003FC0003F003FC0007E001FE0007E000FE000FC0007F801F80003FC07F00000FFFF
E000003FFF80000007FC0000>
	 33 32 -2 31 38] 101 @dc
[<
0007FC00007FFF8000FFFFE003FF01F007F800780FF0001C1FE0001C3FE0000E3FC0000E7F
C000007FC000007F800000FF800000FF800000FF800000FF800000FF800000FF800000FF80
0000FF8000007F8000007F8000407FC001F03FC003F83FC007FC1FE007FC0FE007FC07F007
FC03FC03F800FFFFF0007FFFE00007FF00>
	 31 32 -3 31 37] 99 @dc
[<
000FE0007FF000FFF801FE1C03FC0E03F80E07F80707F80707F80707F80707F80707F80707
F80707F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F8
0007F80007F80007F80007F800FFFFFEFFFFFEFFFFFE1FF80007F80003F80001F80000F800
00F800007800007800007800003800003800003800003800003800>
	 24 46 -2 45 32] 116 @dc
[<
0007FE0000003FFFC00001FFFFF80003FE07FC0007F801FE000FE0007F001FE0007F803FC0
003FC03FC0003FC07F80001FE07F80001FE07F80001FE0FF80001FF0FF80001FF0FF80001F
F0FF80001FF0FF80001FF0FF80001FF0FF80001FF0FF80001FF07F80001FE07F80001FE07F
80001FE03FC0003FC03FC0003FC01FC0003F800FE0007F0007F000FE0003FC03FC0000FFFF
F000003FFFC0000007FE0000>
	 36 32 -2 31 41] 111 @dc
[<
0FC00000003FF80000007FFC0000007A3E000000FF0F000000FF07800000FF03800000FF01
C000007E01E000003C00E000000000F0000000007000000000700000000038000000003800
0000007C000000007C00000000FE00000000FE00000001FF00000001FF00000003FF800000
03FF80000007FFC0000007F9C000000FF9E000000FF0E000000FF0E000001FE07000001FE0
7000003FE03800003FC03800007FC03C00007F801C0000FF801E0000FF000E0001FF000F00
01FE00070003FE00078003FC00038007FC0003C007F80001C007F80003E0FFFF801FFEFFFF
801FFEFFFF801FFE>
	 39 46 -2 31 44] 121 @dc
[<
FFFFFFC00000FFFFFFC00000FFFFFFC0000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FF
C000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC0
00000000FFC000000000FFC000000000FFC000000000FFFFFFE00000FFFFFFFE0000FFFFFF
FF8000FFC001FFE000FFC0003FF000FFC0001FF800FFC0000FFC00FFC0000FFC00FFC00007
FE00FFC00007FE00FFC00007FF00FFC00007FF00FFC00007FF00FFC00007FF00FFC00007FF
00FFC00007FF00FFC00007FF00FFC00007FE00FFC00007FE00FFC0000FFC00FFC0000FFC00
FFC0001FF800FFC0003FF000FFC001FFE0FFFFFFFFFF80FFFFFFFFFE00FFFFFFFFE000>
	 48 49 -2 48 56] 80 @dc
[<
00FF800FF807FFF03FF80FFFF87FF83FF03CFF007FC00EFE007F8003FE00FF0003FE00FF00
01FE00FF0001FE00FF0001FE00FF0001FE007F8001FE003F8001FE001FC001FE000FF001FE
0007FE01FE0001FFF1FE00003FFFFE000001FFFE00000001FE00000001FE00010001FE0007
C001FE000FE001FE001FF001FE001FF003FC001FF003F8001FF007F0000FE01FE00007FFFF
C00003FFFF0000007FF80000>
	 37 32 -2 31 40] 97 @dc
[<
FFFF80FFFFFFFF80FFFFFFFF80FFFF07F0003FF007F0003FE007F0007FC007F000FF8007F0
00FF0007F001FF0007F003FE0007F007FC0007F00FF80007F01FF00007F81FE00007FE3FE0
0007FF7FC00007FFFF800007FBFF000007F9FE000007F87C000007F83E000007F81F000007
F807800007F803E00007F801F00007F800780007F8003E0007F8001F0007F8001FC007F800
7FFC07F8007FFC07F8007FFC07F800000007F800000007F800000007F800000007F8000000
07F800000007F800000007F800000007F800000007F800000007F800000007F800000007F8
0000000FF8000000FFF8000000FFF8000000FFF800000001F8000000>
	 40 50 -2 49 44] 107 @dc
[<
001FFF800000FFFFF00007FFFFFE000FF801FF001FC0003F803F00000FC07E000007E0FC00
0003F0FC000003F0FC000003F0FC000003F0FC000007F07E00000FF03F00007FE01FFFFFFF
E007FFFFFFC003FFFFFF8007FFFFFF000FFFFFFE000FFFFFF8001FFFFFC0001F800000001F
000000001E000000001E000000000E000000000E1FF0000006FFFE000007FFFF000007F83F
C0000FE00FE0000FE00FE0001FC007F0001FC007F0003FC007F8003FC007F8003FC007F800
3FC007F8003FC007F8001FC007F0001FC007F0600FE00FE0F00FE00FE1F807F83FF1F801FF
FF7FF800FFFE3FF0001FF007E0>
	 37 47 -2 31 41] 103 @dc
[<
FFFFFFC0FFFFFFC0FFFFFFC000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000
FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FF
C00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC0
0000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC000
00FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC000FF
FFFFC0FFFFFFC0FFFFFFC0>
	 26 49 -2 48 31] 73 @dc
[<
FFFFC1FFFF80FFFFC1FFFF80FFFFC1FFFF8007F8000FF00007F8000FF00007F8000FF00007
F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8
000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F800
0FF00007F8000FF00007F8000FF00007F8000FF00007FC000FF00007FC000FF00007FE000F
F00007F6000FF00007F3000FE0000FF1C01FE000FFF0F03FC000FFF07FFF8000FFF03FFF00
0003F007F80000>
	 41 32 -3 31 46] 110 @dc
[<
7FFFF0007FFFF0007FFFF00003FC000003FC000003FC000003FC000003FC000003FC000003
FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC
000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC00
0003FC0000FFFFF800FFFFF800FFFFF80003FC000003FC000003FC000003FC000003FC0000
03FC000003FC000003FC01C003FC03E003FC07F001FC0FF801FE0FF800FE0FF8007F0FF800
3FC7F0001FFFE00007FFC00000FF00>
	 29 50 -2 49 25] 102 @dc
[<
FFFFC00000FFFFC00000FFFFC0000007F800000007F800000007F800000007F800000007F8
00000007F800000007F800000007F800000007F800000007F800000007F800000007F81FE0
0007F87FFE0007F9FFFF0007FBE07FC007FF001FE007FE000FF007FC0007F807F80007FC07
F80003FC07F80003FE07F80003FE07F80001FE07F80001FF07F80001FF07F80001FF07F800
01FF07F80001FF07F80001FF07F80001FF07F80001FF07F80001FE07F80003FE07F80003FE
07F80003FC07F80007FC07F80007F807FE000FF00FFF001FE0FFFFE07FC0FFF9FFFF80FFF8
7FFE0001F80FF000>
	 40 46 -2 31 46] 112 @dc
[<
7FFFE0FFFFC07FFFE0FFFFC07FFFE0FFFFC003FC0007F80003FC0007F80003FC0007F80003
FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC
0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC00
07F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007
F80003FC0007F80003FC0007F80003FC0007F80003FC0007F800FFFFFFFFF800FFFFFFFFF8
00FFFFFFFFF80003FC00FFF80003FC0000000003FC0000000003FC0000000003FC00000000
03FC0001800003FC0007E00003FC000FF00003FC000FF00003FC000FF00001FE000FF00000
FE000FF00000FF0007F000007FC003E000001FF807C0000007FFFF80000001FFFF00000000
1FFC0000>
	 42 50 -1 49 46] 12 @dc
/@F6 @newfont
@F6 @sf
[<
FFFFFC000F800F00078007C0078003E0078001F0078001F0078000F8078000F8078000F807
8000F8078000F8078000F8078000F0078001F0078001E0078003C00780078007FFFE000780
3E0007800F80078007C0078003E0078001E0078001F0078001F0078001F0078001F0078001
F0078001E0078003E0078003C0078007800F800E00FFFFF800>
	 29 34 -2 33 35] 66 @dc
[<
FFF00F000E000E000E000E000E000E000E000E000E000E000E000E000E000F000F060F0F1E
8FFE460E3C>
	 16 21 -1 20 19] 114 @dc
[<
00FC7F0382780601700E00F00E00F00E00700E00700E00700E00700E00700E00700E00700E
00700E00700E00700E00700E00700E00701E00F0FE07F00E0070>
	 24 21 -1 20 27] 117 @dc
[<
01F8000706000C01001C0080380040780040700000F00000F00000F00000F00000F00000F0
0000F000007000007800003803001C07800C078007030001FE00>
	 18 21 -2 20 22] 99 @dc
[<
00FC000703000E00801C0040380020780020700000F00000F00000F00000F00000F00000FF
FFE0F000E07000E07801E03801C01C01C00C038007070001FC00>
	 19 21 -1 20 22] 101 @dc
[<
FFFFFF000F803F0007800F0007800300078003000780010007800180078001800780008007
80008007800080078000800780000007800000078000000780000007800000078000000780
00000780000007800000078000000780000007800000078000000780000007800000078000
00078000000780000007800000078000000FC00000FFFE0000>
	 25 34 -2 33 30] 76 @dc
[<
00100000380000380000380000740000740000E20000E20000E20001C10001C10003808003
80800380800700400700400E00200E00200E00301E0078FFC1FE>
	 23 21 -1 20 26] 118 @dc
[<
01F0030807080E040E040E040E040E040E040E000E000E000E000E000E000E000E000E000E
000E00FFF83E001E000E000600060006000200020002000200>
	 14 31 -1 30 19] 116 @dc
[<
000FE00000783C0000E00E0003C00780078003C00F0001E00F0001E01E0000F03E0000F83C
0000787C00007C7C00007C7800003CF800003EF800003EF800003EF800003EF800003EF800
003EF800003EF800003EF800003E7800003C7800003C7C00007C7C00007C3C0000783C0000
781E0000F00E0000E00F0001E0078003C003C0078000E00E0000783C00000FE000>
	 31 36 -3 34 38] 79 @dc
[<
81FC00C60700C80180F000C0E000C0C00060C0006080007080007080007080007000007000
00F00000F00001E00007E0003FC003FF800FFF001FFE003FF0007F0000780000F00000F000
00E00020E00020E00020E00060E000606000607000E03001E01802600C0C6003F020>
	 20 36 -3 34 27] 83 @dc
[<
FFFE00000FC000000780000007800000078000000780000007800000078000000780000007
8000000780000007802000078020000780200007802000078060000780E00007FFE0000780
E0000780600007802000078020000780200007802020078000200780002007800020078000
600780004007800040078000C0078001C00F8007C0FFFFFFC0>
	 27 34 -2 33 32] 70 @dc
[<
00200040008001000300060004000C000C00180018003000300030007000600060006000E0
00E000E000E000E000E000E000E000E000E000E000E000E000E00060006000600070003000
30003000180018000C000C000400060003000100008000400020>
	 11 50 -4 36 19] 40 @dc
[<
FFE3FF8FFE0E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E00
3800E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800
E00E003800E00F003C00E00F003C00E01E807201C0FE60E183800E1FC07F00>
	 39 21 -1 20 42] 109 @dc
[<
800040002000100018000C000400060006000300030001800180018001C000C000C000C000
E000E000E000E000E000E000E000E000E000E000E000E000E000E000C000C000C001C00180
01800180030003000600060004000C0018001000200040008000>
	 11 50 -3 36 19] 41 @dc
[<
FFFFF8000F801E0007800700078003C0078001E0078000E0078000F0078000780780007807
80007C0780003C0780003C0780003E0780003E0780003E0780003E0780003E0780003E0780
003E0780003E0780003E0780003C0780003C0780003C0780007C0780007807800078078000
F0078000E0078001C0078003C0078007000F801E00FFFFF000>
	 31 34 -2 33 37] 68 @dc
[<
0007E00000381C0000E0020001C0010003800080070000400E0000401E0000201C0000203C
0000103C0000107C0000107800001078000000F8000000F8000000F8000000F8000000F800
0000F8000000F8000000F800000078000010780000107C0000103C0000303C0000301C0000
301E0000700E000070070000F0038000F001C0017000E00630003818300007E010>
	 28 36 -3 34 35] 67 @dc
[<
FFFFFFE00F8003E0078000E007800070078000300780003007800010078000100780001007
8000080780000807802008078020000780200007802000078060000780E00007FFE0000780
E0000780600007802000078020000780200007802020078000200780002007800020078000
600780004007800040078000C0078001C00F8007C0FFFFFFC0>
	 29 34 -2 33 33] 69 @dc
[<
FFC00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E001E
00FE000E00000000000000000000000000000000001C001E003E001E001C00>
	 10 34 -1 33 14] 105 @dc
[<
FFE7FF0E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E
00700E00700E00700E00700F00700F00701E80E0FE60C00E1F80>
	 24 21 -1 20 27] 110 @dc
[<
8FC0D030E018C008C00C800C800C801C003C01F80FF03FE07F80F000E008C008C008C01860
1830780F88>
	 14 21 -2 20 19] 115 @dc
[<
FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E000E000E000E000E001E00FE000E00>
	 11 35 -1 34 14] 108 @dc
[<
3C0000430000F18000F08000F0400000400000200000200000200000100000100000380000
380000380000740000740000E20000E20000E20001C10001C1000380800380800380800700
400700400E00200E00200E00301E0078FFC1FE>
	 23 31 -1 20 26] 121 @dc
[<
0FC1E03C2390781708F00F08F00708F00708F007087007007807003C07001E070007C70000
FF000007000007000007001807003C0E003C0C001838000FE000>
	 21 21 -2 20 24] 97 @dc
[<
7FF80780070007000700070007000700070007000700070007000700070007000700070007
000700FFF8070007000700070007000700070007000700030F038F018F00C6003C>
	 16 35 0 34 15] 102 @dc
[<
FFE000201F0000600E000060040000E0040001E0040001E0040003E0040003E0040007A004
000F2004000F2004001E2004003E2004003C20040078200400F8200400F0200401E0200401
E0200403C0200407802004078020040F0020041F0020041E0020043C0020047C0020047800
2004F0002004F0002005E0002007C0007007C000F8FF8007FF>
	 32 34 -2 33 37] 78 @dc
[<
01FC000707000E03801C01C03800E07800F0700070F00078F00078F00078F00078F00078F0
0078F000787000707000703800E01800C00C018007070001FC00>
	 21 21 -1 20 24] 111 @dc
[<
70F8F8F870>
	 5 5 -4 4 14] 46 @dc
[<
FFFFC07FFFC03FFFC030004018006008002004002002002001000001800000C00000600000
3000001800001C00000E000007000007800003C00003C00003E02003E0F801E0F801E0F801
E0F003E08003E04003C04003C02007801007000C1C0003F000>
	 19 33 -2 32 24] 50 @dc
[<
4020101008080404040474FCFCF870>
	 6 15 -4 4 14] 44 @dc
[<
FFFE07C0038003800380038003800380038003800380038003800380038003800380038003
800380038003800380038003800380038003800380F3800F8003800080>
	 15 33 -4 32 24] 49 @dc
[<
0FC000103000201800700C007806007807003003000003800003800001C00001C00001C003
E1E00619E00C05E01805E03803E07003E07001E0F001E0F001E0F001E0F001E0F001E0F001
C0F001C0F001C07003807003803803801807000C0600060C0001F000>
	 19 34 -2 32 24] 57 @dc
[<
FFE0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E3F000E41C00E
80E00F00700E00380E003C0E003C0E001E0E001E0E001E0E001E0E001E0E001E0E001E0E00
1C0E003C0E00380F00700E8060FE61C00E1F00>
	 23 31 -1 20 27] 112 @dc
[<
03FE000E03803800E0600030600030C00018C00018C000184000186000303800F00FFFE00F
FFC01FFE0018000018000010000010000019F0000F1C000E0E001C07001C07003C07803C07
803C07803C07801C07001C07000E0E18071E1801F198000070>
	 21 33 -1 21 24] 103 @dc
[<
FFE7FF0E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E
00700E00700E00700E00700F00700F00700E80E00E60C00E1F800E00000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E00001E0000FE00000E0000>
	 24 35 -1 34 27] 104 @dc
/@F5 @newfont
@F5 @sf
[<
00007FC000000003FFF80000000F803E0000003C0007800000700001C00000C00000600001
8000003000030000001800060000000C000C00000006000C00000006001800000003001800
000003003000000001803000000001806000000000C06000000000C06000000000C0C00000
000060C00000000060C00000000060C00000000060C00000000060C00000000060C0000000
0060C00000000060C00000000060C00000000060C000000000606000000000C06000000000
C06000000000C03000000001803000000001801800000003001800000003000C0000000600
0C0000000600060000000C0003000000180001800000300000C00000600000700001C00000
3C00078000000F803E00000003FFF8000000007FC00000>
	 43 47 -3 35 50] 13 @dc
@F6 @sf
[<
03F0000C1C00100F002007804007804003C0F003C0F803E0F803E07003E02003E00003E000
03C00003C0000780000780000F00001C0003F000003800000E00000F000007000007800007
803807C07807C07803C07807C04007C02007801007000C1E0003F800>
	 19 34 -2 32 24] 51 @dc
[<
03FFFF00000FC0000007800000078000000780000007800000078000000780000007800000
07800000078000000780000007800000078000000780000007800000078000000780000007
80000007800000078000000780000007800080078004800780048007800480078004C00780
0C40078008400780084007800860078018780780787FFFFFF8>
	 30 34 -2 33 35] 84 @dc
[<
FF800FFF3E0001F80C0000F00C0000F0040001E0040001E0040003E0020003C0020003C003
0007C0010007800100078000FFFF0000800F0000800F0000401E0000401E0000401E000020
3C0000203C0000203C0000107800001078000010F8000008F0000008F000000DF0000005E0
000005E0000003C0000003C0000003C000000180000001800000018000>
	 32 35 -2 34 37] 65 @dc
[<
01F0FE070CF00C02E01801E03800E07800E07000E0F000E0F000E0F000E0F000E0F000E0F0
00E0F000E07000E07800E03800E01C01E00C02E00704E001F8E00000E00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00001E0000FE00000E0>
	 23 35 -2 34 27] 100 @dc

1 @eop0

0 0 1 @bop1 21 375 a @F2 @sf(DCE)27 b(LFS)g(Directory)g(P)n(ac)n(k)-5 b
(age)27 b(In)n(terface)g(Sp)r(eci\014cation)-1094 348 y @F6 @sf(Bruce)15 b
(Lev)o(erett)-484 165 y(OSF\(tm\))g(DCE)i(Licensees)e(Only)-904 98 y
(Draft)i(No)o(v.)j(22,)d(1991)h(Cop)o(yrigh)o(t)30 -2 y(c)-36 2 y @F5 @sf
(\015)o @F6 @sf(1993)g(T)l(ransarc)f(Corp.)-774 58 y(All)e(righ)o(ts)h
(reserv)o(ed)-1151 1725 y
1 @eop1

1 @bop0
/@F12 @newfont
@F12 @sf
[<
001F800000F0F00001C0380007801E000F000F000E0007001E0007803C0003C03C0003C07C
0003E07C0003E0780001E0F80001F0F80001F0F80001F0F80001F0F80001F0F80001F0F800
01F0F80001F0F80001F0780001E0780001E07C0003E03C0003C03C0003C01E0007800E0007
000F000F0007801E0001C0380000F0F000001F8000>
	 28 33 -3 31 35] 79 @dc
[<
81F800CE0C00F00600E00300C00380C001808001C08001C08001C08001C00001C00003C000
03C0000780001F8003FF000FFE001FFC003FF0007F0000780000F00000F00000E00080E000
80E00080E001806001806001803003801007800C198007E080>
	 18 33 -3 31 25] 83 @dc
[<
FFFE00000FC000000780000007800000078000000780000007800000078000000780000007
800000078080000780800007808000078080000781800007FF800007818000078080000780
80000780800007808000078000800780008007800080078000800780018007800100078003
00078003000F800F00FFFFFF00>
	 25 31 -2 30 30] 70 @dc
[<
0020004000800100020006000C000C00180018003000300030007000600060006000E000E0
00E000E000E000E000E000E000E000E000E000E00060006000600070003000300030001800
18000C000C00060002000100008000400020>
	 11 46 -3 33 18] 40 @dc
[<
01E0031006100E080E080E080E080E080E000E000E000E000E000E000E000E000E000E000E
00FFF83E000E000E0006000600020002000200>
	 13 28 -1 27 18] 116 @dc
[<
FFE7FE7FE00E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00
E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E000E00E00E
000F00F00E000F00F00E000E81C81C00FE618618000E1F01F000>
	 35 20 -1 19 38] 109 @dc
[<
800040002000100008000C00060006000300030001800180018001C000C000C000C000E000
E000E000E000E000E000E000E000E000E000E000E000C000C000C001C00180018001800300
0300060006000C0008001000200040008000>
	 11 46 -3 33 18] 41 @dc
[<
FFFFE0000F803C0007800E000780070007800380078003C0078001E0078001E0078000F007
8000F0078000F0078000F8078000F8078000F8078000F8078000F8078000F8078000F80780
00F8078000F8078000F0078000F0078001F0078001E0078001E0078003C007800380078007
0007801E000F803C00FFFFE000>
	 29 31 -2 30 35] 68 @dc
[<
000FC0000070380001C0040003800200070001000E0000801E0000801C0000403C0000407C
0000407C00004078000000F8000000F8000000F8000000F8000000F8000000F8000000F800
0000F8000000F8000000780000407C0000407C0000403C0000C01C0000C01E0000C00E0001
C0070003C0038005C001C009C0007030C0000FC040>
	 26 33 -3 31 33] 67 @dc
[<
FFFFFF800F800F8007800180078000C0078000C00780004007800040078000400780002007
80002007800020078080000780800007808000078080000781800007FF8000078180000780
80000780800007808000078080800780008007800080078000800780018007800100078003
00078003000F800F00FFFFFF00>
	 27 31 -2 30 31] 69 @dc
[<
FFFFFC0F807C07801C07800C07800407800407800607800207800207800207800207800007
80000780000780000780000780000780000780000780000780000780000780000780000780
000780000780000780000780000FC000FFFE00>
	 23 31 -2 30 28] 76 @dc
[<
FFC00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E007E
000E000000000000000000000000001C001E003E001E001C00>
	 10 31 0 30 12] 105 @dc
[<
03F00E0C1C023801380170007000F000F000F000F000F000F00070007000380C381E1C1E0E
0C03F8>
	 16 20 -2 19 20] 99 @dc
[<
01F8000706000C0100180080380080700000700000F00000F00000F00000FFFF80F00380F0
03807003807007003807003807001C0E000E1C0003F000>
	 17 20 -1 19 20] 101 @dc
[<
FFE7FC0E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00F01C00F01C00E8180FE43000E3E00>
	 22 20 -1 19 25] 110 @dc
[<
8F80D060E030C018C01880188018803800700FF03FE07F807800E000C010C010C010403030
701F90>
	 13 20 -2 19 18] 115 @dc
[<
FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E000E000E00FE000E00>
	 11 32 0 31 12] 108 @dc
[<
3C0000620000F10000F08000F0800000400000400000400000200000200000700000700000
700000E80000E80001EC0001C40001C4000382000382000382000701000701000E00800E00
800E00801C00C01E01E0FF83F8>
	 21 29 -1 19 24] 121 @dc
/@F1 @newfont
@F1 @sf
[<
000000003FFE0000000000000FFFFFE000000000007FFFFFFC0000000003FFFFFFFF000000
000FFFFFFFFFC00000003FFFF8007FF0000000FFFF80000FF8000001FFFC000001FC000007
FFF0000000FE00000FFFC00000003F00001FFF800000001F80003FFF000000000FC0007FFE
0000000007E000FFFC0000000003E001FFF80000000001F003FFF00000000001F803FFF000
00000000F807FFE00000000000F807FFE000000000007C0FFFC000000000007C0FFFC00000
0000007C1FFFC000000000003E1FFF8000000000003E3FFF8000000000003E3FFF80000000
00003E3FFF8000000000003E7FFF8000000000003E7FFF000000000000007FFF0000000000
00007FFF00000000000000FFFF00000000000000FFFF00000000000000FFFF000000000000
00FFFF00000000000000FFFF00000000000000FFFF00000000000000FFFF00000000000000
FFFF00000000000000FFFF00000000000000FFFF00000000000000FFFF00000000000000FF
FF00000000000000FFFF000000000000007FFF000000000000007FFF000000000000007FFF
0000000000003E7FFF8000000000003E3FFF8000000000003E3FFF8000000000003E3FFF80
00000000007E1FFF8000000000007E1FFFC000000000007E0FFFC000000000007E0FFFC000
00000000FE07FFE00000000000FE07FFE00000000001FE03FFF00000000001FE03FFF00000
000003FE01FFF80000000007FE00FFFC0000000007FE007FFE000000000FFE003FFF000000
001FFE001FFF800000003FFE000FFFC00000007FFE0007FFF0000001FFFE0001FFFC000003
FFFE0000FFFF80000FF7FE00003FFFF800FFC3FE00000FFFFFFFFF81FE000003FFFFFFFE00
FE0000007FFFFFF8003E0000000FFFFFC0001E000000003FFE00000E>
	 71 73 -7 71 86] 67 @dc
[<
00000FFF0000000000FFFFF000000007FFFFFE0000001FFFFFFF8000007FFC03FFE00000FF
E0007FF00001FFC0003FF80003FF80001FFC0007FF00000FFE000FFE000007FF001FFE0000
07FF801FFC000003FF803FFC000003FFC03FFC000003FFC07FF8000001FFE07FF8000001FF
E07FF8000001FFE07FF8000001FFE0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0FF
F8000001FFF0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0FFF800
0001FFF0FFF8000001FFF07FF8000001FFE07FF8000001FFE07FF8000001FFE03FF8000001
FFC03FF8000001FFC03FFC000003FFC01FFC000003FF800FFC000003FF000FFE000007FF00
07FE000007FE0003FF00000FFC0001FF80001FF80000FFE0007FF000003FFC03FFC000001F
FFFFFF80000007FFFFFE00000000FFFFF0000000000FFF000000>
	 52 46 -3 45 59] 111 @dc
[<
FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07F
FFFFE001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FF
E00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF0
0001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE000
00FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001
FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FF
F00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFF00000FFF00001FFF0
0000FFF00001FFF00000FFF00001FFF80000FFF00001FFFC0000FFF00001FFDC0000FFE000
01FFDE0000FFE00001FFCF0001FFE00003FFC7C001FFC000FFFFC3E003FFC000FFFFC1FC07
FF8000FFFFC0FFFFFF0000FFFFC03FFFFE0000FFFFC00FFFF80000007FC001FFC00000>
	 59 46 -4 45 66] 110 @dc
[<
00001FF0000001FFFC000007FFFE00000FFFFF80001FFE0F80003FFC07C0003FF803E0007F
F803E0007FF001E000FFF001F000FFF001F000FFF001F000FFF001F000FFF001F000FFF001
F000FFF001F000FFF001F000FFF001F000FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0
000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000
00FFF0000000FFF0000000FFF0000000FFF00000FFFFFFFFC0FFFFFFFFC0FFFFFFFFC0FFFF
FFFFC00FFFFFFFC003FFF0000001FFF00000007FF00000003FF00000003FF00000001FF000
00000FF00000000FF000000007F000000007F000000007F000000003F000000003F0000000
03F000000001F000000001F000000001F000000001F000000001F000000001F00000>
	 36 66 -2 65 46] 116 @dc
[<
00000FFF80000000FFFFF8000007FFFFFE00001FFFFFFF80003FFE00FFC0007FF0001FE001
FFC00003F003FF800001F807FF000000FC07FF0000007E0FFE0000003E1FFE0000003E3FFC
0000001C3FFC000000003FFC000000007FFC000000007FF8000000007FF800000000FFF800
000000FFF800000000FFF800000000FFF800000000FFFFFFFFFFFCFFFFFFFFFFFEFFFFFFFF
FFFEFFFFFFFFFFFEFFF8000007FEFFF8000007FE7FF8000007FE7FF8000007FE7FF8000007
FC7FFC000007FC3FFC000007FC3FFC00000FFC1FFC00000FF81FFE00000FF80FFE00001FF0
07FF00003FF003FF80003FE001FFC0007FC000FFE001FF80007FFC07FF00001FFFFFFE0000
07FFFFF8000001FFFFE00000001FFE0000>
	 47 46 -3 45 54] 101 @dc
[<
E003FF8000F81FFFF800FC7FFFFE00FFFFFFFF80FFFC00FFC0FFF0001FE0FFC0000FF0FF80
0007F0FF000003F8FE000003F8FE000003F8FC000003FCFC000003FCF8000003FCF8000007
FC7800000FFC0000001FFC000000FFFC00001FFFF80003FFFFF8003FFFFFF000FFFFFFF003
FFFFFFE007FFFFFFC00FFFFFFF801FFFFFFF003FFFFFFC007FFFFFF0007FFFFFC000FFFFF8
0000FFFE000000FFF0000000FFC0000000FF800003E0FF000003E0FF000003E07F000003E0
7F000003E03F000007E03F80000FE01FC0001FE00FF800FFE007FFFFFFE001FFFFFFE0007F
FFF3E0000FFF00E0>
	 38 46 -4 45 47] 115 @dc
@F12 @sf
[<
07FFFE00001F8000000F0000000F0000000F0000000F0000000F0000000F0000000F000000
0F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
0000000F0000000F0000800F0010800F0010800F0010800F0010C00F0030400F0020400F00
20600F0060780F01E07FFFFFE0>
	 28 31 -2 30 33] 84 @dc
[<
0F83C0386720781E10F01E10F00E10F00E10F00E10780E00380E001E0E00078E0000FE0000
0E00000E00000E00300E00781C007818003030001FE000>
	 20 20 -2 19 23] 97 @dc
[<
083E000CC3000D01C00F00E00E00E00E00700E00700E00780E00780E00780E00780E00780E
00780E00700E00700E00E00F00E00F01C00EC3800E3E000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E0000FE00000E0000>
	 21 32 -1 31 25] 98 @dc
[<
01F800070E001C03803801C03801C07000E07000E0F000F0F000F0F000F0F000F0F000F0F0
00F07000E07000E03801C03801C01C0380070E0001F800>
	 20 20 -1 19 23] 111 @dc
[<
7FF00700070007000700070007000700070007000700070007000700070007000700070007
00FFF007000700070007000700070007000706038F018F00C6007C>
	 16 32 0 31 14] 102 @dc
[<
FFE0C1FFF81F00C01F800E00C00F000401E00F000401E00F000401E00F000403900F000403
900F000407080F000407080F000407080F00040E040F00040E040F00040E040F00041C020F
00041C020F00041C020F000438010F000438010F000438010F000470008F000470008F0004
70008F0004E0004F0004E0004F0005C0002F0005C0002F0005C0002F000780001F000F8000
1F80FF80001FF8>
	 37 31 -2 30 42] 77 @dc
[<
FFE00E000E000E000E000E000E000E000E000E000E000E000E000E000E000F0C0F1E0F1EFE
8C0E78>
	 15 20 -1 19 18] 114 @dc
[<
FFE7FC0E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00F01C00F01C00E81800E43000E3E000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E0000FE00000E0000>
	 22 32 -1 31 25] 104 @dc
[<
FFFF807FFF803FFF801000801800400C004006004003000001800000C00000600000700000
3800001C00000E00000F000007800007800007C02007C0F803C0F803C0F803C0F007C08007
80400780200700100E000C1C0003F000>
	 18 30 -2 29 23] 50 @dc
[<
40201010080804040474FCFCF870>
	 6 14 -4 4 13] 44 @dc
[<
FFFE07C0038003800380038003800380038003800380038003800380038003800380038003
800380038003800380038003800380F3800F8003800180>
	 15 30 -4 29 23] 49 @dc
[<
0FC000107000201800700C00780E0078060030070000070000038000038000038003E3C00E
13C0180BC03807C07007C07007C0F003C0F003C0F003C0F003C0F003C0F00380F003807003
807007003807003806001C0C000E180003F000>
	 18 31 -2 29 23] 57 @dc
[<
03F0001C3C00200E00400F00400780F00780F807C0F807C0F807C02007C00007C000078000
0780000F00000E00003C0003F000003800001C00000E00000F00000F00000F80380F807807
80780780780F80200F00100E000C1C0003F000>
	 18 31 -2 29 23] 51 @dc
[<
70F8F8F8700000000000000000000070F8F8F870>
	 5 20 -4 19 13] 58 @dc
[<
03E0000C3800100E00200600400700400380E00380F003C0F003C07003C00003C00003C000
03C0000380000380100780100700180E00161C0011F0001000001000001000001000001000
001000001FE0001FF8001FFC001FFE00180300>
	 18 31 -2 29 23] 53 @dc

1 @eop0

0 0 1 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 477 y @F1 @sf(Con)m(ten)m(ts)-464 2242 y @F12 @sf(T)l(able)g(of)f
(Con)o(ten)o(ts)593 b(i)548 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
1 @eop1

1 @bop0
/@F0 @newfont
@F0 @sf
[<
0000001FFF000000000001FFFFF0000000000FFFFFFC000000007FFFFFFF00000001FFFE00
3FC0000003FFE00007F000000FFF000001F800001FFC0000007C00003FF80000003E00007F
F00000001F0000FFE00000000F0001FFC0000000078003FF8000000003C007FF0000000003
C00FFF0000000001E00FFE0000000001E01FFE0000000001E01FFE0000000000F03FFC0000
000000F03FFC0000000000F03FFC0000000000F07FFC0000000000F07FF80000000000007F
F80000000000007FF8000000000000FFF8000000000000FFF8000000000000FFF800000000
0000FFF8000000000000FFF8000000000000FFF8000000000000FFF8000000000000FFF800
0000000000FFF8000000000000FFF8000000000000FFF80000000000007FF8000000000000
7FF80000000000007FF80000000001F07FFC0000000001F03FFC0000000001F03FFC000000
0001F03FFC0000000003F01FFE0000000003F01FFE0000000003F00FFE0000000007F00FFF
0000000007F007FF000000000FF003FF800000000FF001FFC00000001FF000FFC00000003F
F0007FF00000003FF0003FF80000007FF0001FFC000001FFF0000FFF000003FFF00003FFE0
000FCFF00001FFFE007F87F000007FFFFFFE03F000000FFFFFFC01F0000001FFFFE000F000
00001FFF000030>
	 60 61 -5 59 71] 67 @dc
[<
FFFFFC3FFFFFFFFFFC3FFFFFFFFFFC3FFFFFFFFFFC3FFFFF03FF0000FFC003FF0000FFC003
FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF
0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF00
00FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000
FFC003FF0000FFC003FF8000FFC003FF8000FFC003FF8000FFC003FFC000FFC003FFE000FF
C003FF6000FF8003FF3001FF8003FF1C01FF0003FF0F03FE0003FF07FFFC0003FF01FFF800
03FF007FC00003FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003
FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF
0000000003FF0000000003FF0000000003FF0000000003FF0000000007FF00000000FFFF00
000000FFFF00000000FFFF00000000FFFF0000000000FF00000000>
	 48 60 -4 59 55] 104 @dc
[<
003FE000FFF001FFFC07FFF007FFFE0FFFF01FFC0F0FFFF03FF0039FF8007FE000DFF0007F
E0007FF000FFC0007FF000FFC0003FF000FFC0003FF000FFC0003FF000FFC0003FF0007FE0
003FF0007FE0003FF0003FE0003FF0001FF0003FF0000FF8003FF00007FE003FF00001FF80
3FF000007FF83FF000000FFFFFF0000000FFFFF0000000003FF0000000003FF0000000003F
F00001C0003FF00007F0003FF0000FF8003FF0000FF8003FF0001FFC003FE0001FFC007FE0
001FFC007FC0001FFC00FF80000FF801FF000007F007FE000003FFFFFC000001FFFFF00000
001FFF000000>
	 44 38 -3 37 48] 97 @dc
[<
FFFFFC000000FFFFFC000000FFFFFC000000FFFFFC00000003FF0000000003FF0000000003
FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF
0000000003FF0000000003FF0000000003FF0000000003FF0000000003FF01FF000003FF0F
FFF00003FF3FFFFC0003FFFC07FF0003FFF001FF8003FFC0007FC003FF80003FE003FF0000
3FF003FF00001FF803FF00001FF803FF00000FFC03FF00000FFC03FF00000FFE03FF000007
FE03FF000007FE03FF000007FF03FF000007FF03FF000007FF03FF000007FF03FF000007FF
03FF000007FF03FF000007FF03FF000007FF03FF000007FF03FF000007FE03FF00000FFE03
FF00000FFE03FF00000FFC03FF00001FFC03FF00001FF803FF00003FF003FF80003FE003FF
C0007FC0FFFFF000FF80FFFFFE03FF00FFFF3FFFFC00FFFF0FFFF00000FF01FF8000>
	 48 55 -3 37 55] 112 @dc
[<
0001FF000007FF80001FFFC0003FE0E0007FC07000FFC07800FF807801FF803C01FF803C01
FF803C01FF803C01FF803C01FF803C01FF803C01FF803C01FF800001FF800001FF800001FF
800001FF800001FF800001FF800001FF800001FF800001FF800001FF800001FF800001FF80
0001FF800001FF800001FF800001FF800001FF800001FF8000FFFFFFF0FFFFFFF0FFFFFFF0
1FFFFFF007FF800001FF800000FF8000007F8000003F8000003F8000001F8000001F800000
0F8000000F8000000F8000000F80000007800000078000000780000007800000078000>
	 30 55 -2 54 38] 116 @dc
[<
0000FFE0000007FFFC00003FFFFF0000FFC03FC001FF0007E003FE0001F007FC0000F80FF8
0000781FF000003C1FF000003C3FF000003C3FE00000007FE00000007FE00000007FE00000
00FFE0000000FFE0000000FFE0000000FFE0000000FFFFFFFFFCFFFFFFFFFCFFFFFFFFFCFF
E00003FC7FE00003FC7FE00003FC7FE00003FC7FE00007F83FF00007F83FF00007F81FF000
07F00FF8000FF00FF8000FE007FC001FC001FE003F8000FF80FF00003FFFFE00000FFFF800
0001FFC000>
	 38 38 -3 37 45] 101 @dc
[<
FFFFFE0000FFFFFE0000FFFFFE0000FFFFFE000003FF00000003FF00000003FF00000003FF
00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF0000
0003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003FF00000003
FF00000003FF00000003FF00000003FF800E0003FF803F8003FF807FC003FF807FC003FFC0
FFE003FEC0FFE003FEE0FFE007FE60FFE0FFFE707FC0FFFE3C3F80FFFE1FFF00FFFE0FFE00
00FE03F000>
	 35 38 -3 37 41] 114 @dc
[<
7FFFFFFFC07FFFFFFFC07FFFFFFFC07FFFFFFFC0000FFE0000000FFE0000000FFE0000000F
FE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE00
00000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE000000
0FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE
0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000
000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000FFE0000000F
FE0000000FFE0000000FFE0000FFCFFE0000FFFFFE0000FFFFFE0000FFFFFE0000003FFE00
000003FE00000000FE000000003E000000001E0000>
	 34 56 -7 55 49] 49 @dc
@F1 @sf
[<
00000003FFF0000000000000007FFFFF80000000000003FFFFFFF000000000000FFFFFFFFC
00000000007FFFFFFFFF8000000000FFFF807FFFC000000003FFFC000FFFF000000007FFF0
0003FFF80000000FFFC00000FFFC0000003FFF8000007FFF0000007FFF0000003FFF800000
7FFE0000001FFF800000FFFC0000000FFFC00001FFF800000007FFE00003FFF800000007FF
F00003FFF000000003FFF00007FFE000000001FFF8000FFFE000000001FFFC000FFFE00000
0001FFFC001FFFC000000000FFFE001FFFC000000000FFFE001FFFC000000000FFFE003FFF
80000000007FFF003FFF80000000007FFF003FFF80000000007FFF007FFF80000000007FFF
807FFF80000000007FFF807FFF00000000003FFF807FFF00000000003FFF80FFFF00000000
003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF00
000000003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0
FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC0FFFF0000000000
3FFFC0FFFF00000000003FFFC0FFFF00000000003FFFC07FFF00000000003FFF807FFF0000
0000003FFF807FFF00000000003FFF807FFF00000000003FFF807FFF00000000003FFF803F
FF80000000007FFF003FFF80000000007FFF003FFF80000000007FFF001FFF80000000007F
FE001FFF80000000007FFE000FFFC000000000FFFC000FFFC000000000FFFC0007FFC00000
0000FFF80007FFE000000001FFF80003FFE000000001FFF00003FFF000000003FFF00001FF
F000000003FFE00000FFF800000007FFC000007FFC0000000FFF8000003FFC0000000FFF00
00001FFE0000001FFE0000000FFF0000003FFC00000007FFC00000FFF800000003FFE00001
FFF000000000FFF80007FFC0000000003FFF807FFF00000000000FFFFFFFFC000000000003
FFFFFFF00000000000007FFFFF8000000000000003FFF000000000>
	 74 73 -7 71 89] 79 @dc
[<
0000003C0000000000007E000000000000FF000000000000FF000000000001FF8000000000
01FF800000000003FFC00000000003FFC00000000007FFE00000000007FFE0000000000FFF
F0000000000FFFF0000000001FFFF8000000001FFFF8000000001FFEF8000000003FFEFC00
0000003FFC7C000000007FFC7E000000007FF83E00000000FFF83F00000000FFF01F000000
01FFF01F80000001FFE00F80000003FFE00FC0000003FFE007C0000007FFC007E0000007FF
C007E0000007FF8003E000000FFF8003F000000FFF0001F000001FFF0001F800001FFE0000
F800003FFE0000FC00003FFC00007C00007FFC00007E00007FF800003E0000FFF800003F00
00FFF800001F0001FFF000001F8001FFF000001F8001FFE000001FC0FFFFFF8001FFFFFFFF
FF8001FFFFFFFFFF8001FFFFFFFFFF8001FFFFFFFFFF8001FFFF>
	 56 46 -3 45 63] 118 @dc
[<
FFFFFFE00000FFFFFFE00000FFFFFFE00000FFFFFFE00000FFFFFFE0000001FFC000000001
FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FF
C000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC0
00000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000
000001FFC000000001FFC000000001FFC000000001FFC000000001FFE000000001FFE00000
0001FFE000F80001FFE003FE0001FFF007FF0001FFF007FF0001FFF00FFF8001FFF80FFF80
01FFB80FFF8001FFBC0FFF8003FF9E0FFF80FFFF8F07FF00FFFF8FC3FF00FFFF87FFFE00FF
FF83FFFC00FFFF80FFF00000FF803F8000>
	 41 46 -4 45 49] 114 @dc
[<
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF01FFC001FFC001FFC001FFC001FFC001FFC001FFC001
FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FF
C001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC0
01FFC001FFC003FFC0FFFFC0FFFFC0FFFFC0FFFFC0FFFFC0007FC000000000000000000000
000000000000000000000000000000000000000000000000FC0001FF0003FF8007FFC00FFF
C01FFFE01FFFE01FFFE01FFFE01FFFE01FFFE00FFFC007FFC003FF8001FF0000FC00>
	 24 73 -4 72 32] 105 @dc
[<
000001E000000F000000000003F000001F800000000007F800003FC00000000007F800003F
C0000000000FF800003FE0000000000FFC00007FE0000000000FFC00007FE0000000001FFE
0000FFF0000000001FFE0000FFF0000000003FFE0000FFF8000000003FFF0001FFF8000000
003FFF0001FFF8000000007FFF8003FFFC000000007FFF8003FF7C00000000FFFF8003FF7E
00000000FFFFC007FF3E00000000FFF7C007FE3E00000001FFE7E00FFE3F00000001FFE3E0
0FFC1F00000003FFE3E00FFC1F80000003FFC3F01FFC0F80000003FFC1F01FF80F80000007
FF81F83FF80FC0000007FF80F83FF007C000000FFF80F83FF007E000000FFF00FC7FF003E0
00000FFF007C7FE003E000001FFE007EFFE003F000001FFE003EFFC001F000003FFE003EFF
C001F800003FFC003FFFC000F800003FFC001FFF8000F800007FF8001FFF80007C00007FF8
000FFF00007C0000FFF8000FFF00007E0000FFF0000FFF00003E0001FFF00007FE00003F00
01FFE0000FFE00001F0001FFE0000FFC00001F0003FFE0000FFC00001F8003FFC0001FFC00
003FC0FFFFFF07FFFFE007FFFEFFFFFF07FFFFE007FFFEFFFFFF07FFFFE007FFFEFFFFFF07
FFFFE007FFFEFFFFFF07FFFFE007FFFE>
	 79 46 -3 45 86] 119 @dc
@F12 @sf
[<
03E3F80E1B801C0780380780380380700380700380F00380F00380F00380F00380F00380F0
03807003807003803803803803801C0780061B8003E3800003800003800003800003800003
80000380000380000380000380000380003F80000380>
	 21 32 -2 31 25] 100 @dc
[<
FFE0000E00000E00000E00000E00000E00000E00000E00000E00000E3E000EC3000F01C00F
01E00E00E00E00F00E00700E00780E00780E00780E00780E00780E00780E00700E00F00E00
E00F00E00F01C0FEC3800E3E00>
	 21 29 -1 19 25] 112 @dc
[<
FFCFF80E03E00E03C00E03800E07800E07000E0E000E1E000E1C000F38000EF8000E70000E
30000E10000E08000E04000E02000E03000E03C00E0FF00E00000E00000E00000E00000E00
000E00000E00000E00000E00000E0000FE00000E0000>
	 21 32 -1 31 24] 107 @dc
[<
03FC001C03803000C0600060C00030C00030C00030C000306000703001E00FFFC01FFF803F
FE0030000030000020000020000033E0001E38001C1C00380E00780F00780F00780F00780F
00780F00380E001C1C300E3C3003E3300000E0>
	 20 31 -1 20 23] 103 @dc
[<
01F1FC030DC00603C00E03C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E
01C00E01C00E01C00E01C00E01C00E01C0FE1FC00E01C0>
	 22 20 -1 19 25] 117 @dc
[<
FFC03FFE1F0007E00E0003C0040003C002000780020007800200078001000F0001000F0001
000F0000FFFE0000801E0000801E0000403C0000403C0000403C0000207800002078000020
78000010F0000010F0000010F0000009E0000009E0000009E0000007C0000007C0000007C0
0000038000000380000003800000010000>
	 31 32 -1 31 34] 65 @dc
[<
00200000700000700000700000E80000E80001EC0001C40001C40003820003820003820007
01000701000E00800E00800E00801C00C01E01E0FF83F8>
	 21 20 -1 19 24] 118 @dc
[<
70F8F8F870>
	 5 5 -4 4 13] 46 @dc
[<
000003E0FFFC0F100FC01E0807803E0407807E0407807C0407807C0007807C0007807C0007
8078000780780007807800078070000780F0000780E0000781C00007FF80000780F0000780
780007803C0007801E0007801E0007801F0007801F0007801F0007801F0007801E0007801E
0007803C00078078000F80F000FFFF8000>
	 30 32 -2 30 33] 82 @dc
[<
004008000060180000E01C0000E01C0000F03C0001D03A0001D0320003C873000388710003
8861000704E0800704C0800707C0800E03C0400E0380400E0380401C0380201C0300603C07
8070FF9FE1FC>
	 30 20 -1 19 33] 119 @dc
/@F10 @newfont
@F10 @sf
[<
03C00FF01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFFFFFFFFFF7FFE7FFE3FFC1FF80FF003C0>
	 16 18 -3 19 23] 15 @dc
@F12 @sf
[<
7FC3FE0700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E007
00E00700E00700E00700E00700E00700E00700E0FFFFE00700000700000700000700000700
000700000701E00701E00381E001C0C000E0C0003F00>
	 23 32 0 31 25] 12 @dc
[<
FFFC0FC0078007800780078007800780078007800780078007800780078007800780078007
8007800780078007800780078007800780078007800FC0FFFC>
	 14 31 -1 30 16] 73 @dc
[<
FFC0FFC0>
	 10 2 -1 10 15] 45 @dc
[<
C000C000C0006000600060003000300030001800180018000C000C000C0006000600060003
000300030001800180018000C000C000C0006000600060003000300030001800180018000C
000C000C000600060006000300030001>
	 16 45 -3 33 23] 47 @dc
@F12 @sf
[<
01F000061C000C0E001807003807003803807003807003C07003C0F003C0F003C0F003C0F0
03C0F003C0F80380F80380F80700F40600F21C00F1F0007000007000007800003800003803
001C07800C07800E0380070100018200007C00>
	 18 31 -2 29 23] 54 @dc
[<
00FFE0000E00000E00000E00000E00000E00000E00000E00FFFFF0C00E00400E00200E0020
0E00100E00080E00080E00040E00020E00020E00010E00008E00008E00004E00002E00002E
00001E00000E00000E00000600000600>
	 20 30 -1 29 23] 52 @dc
[<
FFFC3FFC0FC007E0078007C0078007800780078007800F0007801E0007801E0007803C0007
803C00078078000780F00007C0F00007A1E0000791E0000793C000078F8000078780000783
00000781000007808000078040000780200007801000078008000780040007800200078001
00078001800FC003E0FFFC0FFC>
	 30 31 -2 30 35] 75 @dc
@F12 @sf
[<
7FE3FF00070070000700700007007000070070000700700007007000070070000700700007
00700007007000070070000700700007007000070070000700700007007000070070000700
7000FFFFFF80070070000700700007007000070070000700700007007000070070000300F0
300380F87801C0787800F06E30001F83E0>
	 29 32 0 31 27] 11 @dc
[<
FFFC00000FC000000780000007800000078000000780000007800000078000000780000007
800000078000000780000007800000078000000780000007FFE0000780780007801C000780
1E0007800F0007800F8007800F8007800F8007800F8007800F8007800F8007800F0007801E
0007801C000F807800FFFFE000>
	 25 31 -2 30 31] 80 @dc
[<
000FC000003820000070180000E0080001C0040001C0020003800200038002000780010007
80010007800100078001000780010007800100078001000780010007800100078001000780
01000780010007800100078001000780010007800100078001000780010007800100078001
0007800100078003800FC007C0FFFC3FF8>
	 29 32 -2 30 34] 85 @dc
/@F9 @newfont
@F9 @sf
[<
1F0031C060E06070E038E03CE01CE01EE01EE01E700F700F700F700F380F380F3C0E3A0E1D
0C1CF01C001C000E000E000E000E0007000700070007003F800780>
	 16 32 -5 31 21] 98 @dc
[<
38006400E200E200E200E200710070007000700038003800380038001C001C001C001C000E
000E000E000E00070007000700070003800380038003801FC003C0>
	 10 32 -4 31 12] 108 @dc
[<
07C000187000301800700E00700F00F00700F00780F003C0F003C0F003C07801E07801E078
01E03C01E01C01E01E01C00E01C003018001C300007C00>
	 19 20 -4 19 23] 111 @dc
@F9 @sf
[<
FFC0001C00001C00000E00000E00000E00000E0000070000070000071E0007238003C1C003
80E003807003807801C03801C03C01C03C01C03C00E01E00E01E00E01E08E01E04701E0470
1E04781C04741C02621801C1E0>
	 23 29 0 19 23] 112 @dc
[<
1C003300310070803080388038401C001C001C000E000E000E008700470043004380230033
000E00000000000000000000000000000001C001E001E000C0>
	 11 31 -4 30 14] 105 @dc
[<
07C018383804700270017000F000F000F000F0007C007BF0780C38023C011C010E01070101
C2007C>
	 16 20 -4 19 21] 101 @dc
[<
07C000183800300400700200700100F00000F00000F00000F00000F0000078000078000078
00003C02001C07001E07800E078003008001C100007E00>
	 17 20 -4 19 21] 99 @dc
@F12 @sf
[<
03F0000C0C00100200200100600180C00080C000C0C000C0C000C0C001C04001C060038030
0F80103F000C7E0007FC0003F8000FF0001FC8003F06003E03007803007001806001806001
806001802001803003001006000C0C0003F000>
	 18 31 -2 29 23] 56 @dc
[<
FFF8FFF80F800F8007800F0007800F0007800F0007800F0007800F0007800F0007800F0007
800F0007800F0007800F0007800F0007800F0007800F0007800F0007FFFF0007800F000780
0F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F0007800F
0007800F000F800F80FFF8FFF8>
	 29 31 -2 30 34] 72 @dc
[<
FFFE700E700638021C031E010E0107010780038001C001E000E0407040784038201C200E38
0E3FFF>
	 16 20 -1 19 20] 122 @dc
@F12 @sf
[<
03F0000E1C001C0E00180600380700780780700380700380700380F003C0F003C0F003C0F0
03C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C07003807003807003
807003803807001806001C0E000E1C0003F000>
	 18 31 -2 29 23] 48 @dc
[<
000100000003800000038000000380000007C0000007C0000007C000000F2000000F200000
1F3000001E1000001E1000003C0800003C0800003C0800007804000078040000F8060000F0
020000F0020001F0010001E0010001E0010003C0008003C0008003C0008007800040078000
400F8000600F0000601F8000F8FFF003FE>
	 31 32 -1 30 34] 86 @dc

1 @eop0

0 0 1 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(Chapter)34 b(1)-436 246 y @F1 @sf(Ov)m(erview)-487 262 y 
@F12 @sf(The)14 b(DCE)g(LFS)g(directory)h(pac)o(k)m(age)f(is)h(based)f(up)q
(on)h(the)f(directory)h(pac)o(k)m(age)f(of)g(AFS)g(v)o(ersion)g(3.)19 b
(Relativ)o(e)-1908 56 y(to)c(the)g(earlier)h(pac)o(k)m(age,)f(the)g(follo)o
(wing)h(impro)o(v)o(emen)o(ts)f(ha)o(v)o(e)g(b)q(een)h(made:)-1279 113 y 
@F10 @sf(\017)23 b @F12 @sf(All)14 b(c)o(hanges)e(to)g(directory)h(\014les)g
(in)h(DCE)e(LFS)h(\(but)f(not,)h(of)f(course,)g(the)h(salv)m(ager\))g(are)f
(logged)h(using)-1795 57 y(the)h(new)g(logging)g(system.)19 b(The)14 b
(directory)g(pac)o(k)m(age)g(comm)o(unicates)g(transaction)g(ID)g(data)f
(from)g(its)-1795 56 y(callers)j(to)e(the)i(lo)o(w-lev)o(el)g(I/O)g
(functions)g(that)e(it)i(imp)q(orts.)-1100 86 y @F10 @sf(\017)23 b @F12 @sf
(The)c(directory)g(pac)o(k)m(age)g(used)h(b)o(y)f(DCE)f(LFS)h(is)h(in)g
(the)f(k)o(ernel.)32 b(In)19 b(AFS)g(3,)g(the)g(corresp)q(onding)-1794 57 y
(pac)o(k)m(age)e(w)o(as)f(in)i(the)f(\014le)h(serv)o(er,)f(outside)g(the)g
(k)o(ernel,)h(although)f(the)h(directory)f(pac)o(k)m(age)g(used)g(b)o(y)
-1795 56 y(the)e(cac)o(he)g(manager)g(w)o(as)f(inside)q 16 x(the)i(k)o
(ernel.)-857 86 y @F10 @sf(\017)23 b @F12 @sf(Directory)15 b(capacit)o(y)g
(is)h(increased,)f(from)g(64K)g(en)o(tries)g(to)g(16M)f(en)o(tries.)-1333 
86 y @F10 @sf(\017)23 b @F12 @sf(The)12 b(on-disk)h(directory)f(hash)g
(table)h(is)f(elimi)q(nated,)h(as)f(w)o(e)g(b)q(eliev)o(e)i(that)d(it)h
(has)g(no)g(substan)o(tial)h(e\013ect)-1796 56 y(on)h(disk)g(activit)o(y)l
(.)20 b(Eac)o(h)14 b(page)g(has)f(a)h(hash)g(table,)g(for)g(the)g(sole)g
(purp)q(ose)h(of)e(reducing)i(CPU)f(activit)o(y)-1795 57 y(when)h(the)h
(page)f(is)g(searc)o(hed.)-575 86 y @F10 @sf(\017)23 b @F12 @sf
(Regrettably)l(,)14 b(in)h(the)f(in)o(terest)g(of)g(blandness,)h(the)f
(term)g @F9 @sf(blob)f @F12 @sf(has)h(b)q(een)i(uniformly)f(replaced,)g
(when-)-1795 56 y(ev)o(er)g(it)g(o)q(ccurs)h(in)g(function)g(names)f(and)g
(data)g(structure)g(names,)g(b)o(y)g @F9 @sf(pie)n(c)n(e)p @F12 @sf(.)-1409 
86 y @F10 @sf(\017)23 b @F12 @sf(On)15 b(eac)o(h)h(page,)e(the)i(allo)q
(cation)g(of)f(pieces)h(for)f(directory)g(en)o(tries,)h(whic)o(h)g
(formerly)f(used)h(a)e(bitmap,)-1795 56 y(uses)h(a)g(free)g(list.)-340 86 y 
@F10 @sf(\017)23 b @F12 @sf(The)e(allo)q(cation)h(map)f(that)g(help)q(ed)i
(to)d(\014nd)i(pages)f(on)g(whic)o(h)h(to)e(allo)q(cate)i(pieces)h(for)d
(directory)-1795 57 y(en)o(tries)15 b(is)h(elimin)q(ated,)g(as)f(w)o(e)f
(b)q(eli)q(ev)o(e)j(that)d(it)i(has)f(no)g(substan)o(tial)g(e\013ect)g(on)g
(disk)h(activit)o(y)l(.)-1701 86 y @F10 @sf(\017)23 b @F12 @sf(Directory)c
(pages,)h(formerly)g(2K)f(b)o(ytes,)i(are)e(8K)h(b)o(ytes,)g(to)f
(facilitate)i(b)q(etter)e(disk)i(p)q(erformance.)-1796 56 y(Ho)o(w)o(ev)o
(er,)16 b(directories)i(smaller)g(than)e(8K)i(b)o(ytes)e(are)h(stored)g
(at)f(their)h(true)g(size)h(\(or)f(to)f(b)q(e)i(precise,)-1795 56 y(at)c
(the)h(high-w)o(ater-mark)g(of)g(their)h(true)f(size\),)g(to)g(a)o(v)o
(oid)g(w)o(aste)f(of)h(disk)h(storage)e(space.)-1620 86 y @F10 @sf(\017)
23 b @F12 @sf(The)13 b(directory)g(salv)m(ager)h(do)q(es)f(not)g(consider)h
(c)o(haracters)e(with)i(the)f(0200)f(bit)h(set)g(to)g(b)q(e)h(erroneous)f
(in)-1795 57 y(directory)i(names.)21 b(Also,)15 b(there)g(is)h(no)g(c)o
(hec)o(king)g(for)f(suc)o(h)g(c)o(haracters)g(in)h(the)g(directory)f(op)q
(erations)-1795 56 y(themselv)o(es.)20 b(In)15 b(most)e(k)o(ernels,)i
(this)g(c)o(hec)o(king,)g(if)g(it)g(is)g(done)g(at)e(all,)i(is)g(done)g
(ab)q(o)o(v)o(e)f(the)h(VFS)f(la)o(y)o(er.)-1910 125 y(1)h(Ov)o(erview)720 b
(1)542 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
1 @eop1

2 @bop0
@F12 @sf
[<
3F006180F0C0F0606070007000700070007000700070007000700070007000700070007000
70007000700070007000700070007000F007F0007000000000000000000000000000E001F0
01F001F000E0>
	 12 40 2 30 14] 106 @dc
[<
003FF800038000038000038000038000038000038000038000038003E3800E13801C0B8038
0780380380780380700380F00380F00380F00380F00380F00380F003807003807803803803
803C07801C058006198003E080>
	 21 29 -2 19 24] 113 @dc
[<
381C7C3EFC7EFC7EB85C804080408040402040202010201010080804>
	 15 14 -5 31 23] 92 @dc
[<
402020101008100808040804040204020402743AFC7EFC7EF87C7038>
	 15 14 -2 31 23] 34 @dc
[<
000400020000000C00030000000E00070000000E00070000001E00078000001F000F800000
1F000F8000001F000F8000003C801E4000003C801E4000003C801E40000078C03E20000078
403C20000078403C200000F0403C100000F02078100000F02078100001F02078080001E010
F0080001E010F0080003E010F00C0003C009E0040003C009E0040003C009E00400078007C0
0200078007C00200078007C002000F0007C001000F00078001000F00078003801F800FC007
C0FFF07FF81FF0>
	 44 32 -1 30 47] 87 @dc
[<
FFFFF8F801F87800383C00183C00181E00081E000C0F000C0F800407800403C00403C00401
E00001E00000F00000F800007800003C00003C00001E00001E00800F00800F80800780C003
C0C003C04001E06001E07000F07C00F87FFFF8>
	 22 31 -3 30 28] 90 @dc
/@F7 @newfont
@F7 @sf
[<
03E3F00FFBF81FFFF03C1F80380F80700780700780E00380E00380E00380E00380E00380E0
0380700380700780380F803C1F801FFF800FFB8003E3800003800003800003800003800003
80001F80003F80001F80>
	 21 28 -2 27 24] 100 @dc
[<
7FC3FCFFE7FE7FC3FC0E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E
00E00E00E00F00E00F80E00FC1C00FFFC00EFF800E3E000E00000E00000E00000E00000E00
007E0000FE00007E0000>
	 23 28 0 27 24] 104 @dc
[<
7F00F0FF81F87F01F81C039C1C039C1C039C1C03801C03801C03801C03801C03801C07001C
0F001FFE001FFE001FFF001C0F801C03801C03C01C01C01C01C01C01C01C03C01C03801C0F
807FFF00FFFE007FF800>
	 22 28 -1 27 24] 82 @dc
[<
01FC0007FF001FFF803E03C03801C07001C0700000E00000FFFFC0FFFFC0FFFFC0E001C0E0
01C07003807003803807803E0F001FFE0007FC0001F000>
	 18 20 -3 19 24] 101 @dc
[<
07E1F01FFBF03FFFF0781F00F00F00E00700E00700E007007807007F07001FFF0007FF0000
FF00000700000700300E00781E007FFC003FF8001FE000>
	 20 20 -3 19 24] 97 @dc
@F7 @sf
[<
0E03800F07800F07800D05800D8D801D8DC01D8DC01D8DC01D8DC0198CC019DCC019DCC019
DCC039DCE039DCE038F8E038F8E03800E03800E03800E03800E03800E07000707000707000
70FE03F8FE03F8FE03F8>
	 21 28 -1 27 24] 87 @dc
[<
7FFE00FFFF007FFE0003800003800003800003800003800003800003800003800003800003
C00003C00003E00003F03003F8787FBFF8FF9FF07F87E0>
	 21 20 -1 19 24] 114 @dc
[<
FFFF00FFFF80FFFF0001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C0007FC000FFC0007FC0000000000000000000000000000380
0007C00007C00007C000038000>
	 17 29 -4 28 24] 105 @dc
[<
003E0000FF8001FFC001C1C00380E00380E00380E003804003800003800003800003800003
8000038000038000038000038000FFFFC0FFFFC07FFFC00380000380000380000380000180
00>
	 19 25 -1 24 24] 116 @dc
@F7 @sf
[<
00F80003FE0007FF800F07C01E01C03C00E03800E07000E07000E0700000E00000E00000E0
0000E00000E00000E00000E00000E000007000007000E07000E03800E03C01E01E03E00F07
E007FFE003FEE000F8E0>
	 19 28 -2 27 24] 67 @dc
@F12 @sf
[<
40202010101008080878F8F8F0700000000000000000000070F8F8F870>
	 5 29 -4 19 13] 59 @dc
@F7 @sf
[<
7FFFF0FFFFF07FFFF00E00700E00700E00700E00700E00700E00000E00000E00000E00000E
00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00
007FE000FFE0007FE000>
	 20 28 -1 27 24] 76 @dc
[<
01F0000FFE001FFF003E0F803C07807803C07001C0F001E0E000E0E000E0E000E0E000E0E0
00E07001C07001C03803803E0F801FFF000FFE0001F000>
	 19 20 -2 19 24] 111 @dc
[<
FFC7F8FFC7F8FFC7F80E03C00E03800E07000E0F000F0E000F9C000FFC000FF8000EF0000E
78000E3C000E1E000E0F000E07800E3FF00E7FF00E3FF00E00000E00000E00000E00000E00
00FE0000FE0000FE0000>
	 21 28 -1 27 24] 107 @dc
[<
01FCFC03FFFE07FFFC0F03E00E01E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E
00E00E00E00E00E00E00E00E00E07E07E0FE0FE07E07E0>
	 23 20 0 19 24] 117 @dc
[<
7FC000FFE0007FC0000E00000E00000E00000E00000E00000E00000E00000E3E000EFF800F
FFC00FC1E00F80E00F00700F00700E00380E00380E00380E00380E00380E00380E00700F00
700F80E00FC1E07FFFC0FEFF807E3E00>
	 21 30 0 19 24] 112 @dc
@F7 @sf
[<
7FF800FFFE007FFF001C0F801C03C01C01C01C01E01C00E01C00E01C00F01C00701C00701C
00701C00701C00701C00701C00701C00701C00F01C00E01C00E01C01E01C03C01C03C01C0F
807FFF00FFFE007FF800>
	 20 28 -1 27 24] 68 @dc
[<
7FFFC0FFFFE07FFFC000E00000E00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
007FE000FFE0007FE000>
	 19 28 -2 27 24] 108 @dc
@F7 @sf
[<
01FC0007FF001FFF803E03C03801C07001C0700000E00000E00000E00000E00000E00000E0
00007000007000003803003E07801FFF8007FF0001FE00>
	 18 20 -3 19 24] 99 @dc
@F7 @sf
[<
FFC000FFC000FFC0001C00001C00001C00001C00001C00001C00001C00001C1C001C1C001C
1C001FFC001FFC001FFC001C1C001C1C001C1C001C00001C00001C00E01C00E01C00E01C00
E0FFFFE0FFFFE0FFFFE0>
	 19 28 -2 27 24] 70 @dc
[<
7F8FF0FF8FF87F8FF00F0780070700038E00039E0001DC0000F80000F00000700000F80001
F80001DC00039E00078E000707007F8FF07F9FF07F8FF0>
	 21 20 -1 19 24] 120 @dc
@F12 @sf
[<
FF07FE1E01E00601E00201C0030380010700008700004E00007C00003C0000380000780000
EC0000E40001C2000381000701800701C00F01E07FC3FC>
	 23 20 0 19 24] 120 @dc
@F7 @sf
[<
7FFF00FFFF807FFF0001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0
007FFF00FFFF807FFF00>
	 17 28 -3 27 24] 73 @dc
[<
E7F000FFFC00FFFF00F80F00F00380E00380E00380600780001F0003FE001FFC007FE0007C
0000E00700E00700E00700780F007FFF003FFF0007F700>
	 17 20 -3 19 24] 115 @dc
[<
FFFFF8FFFFF8FFFFF81C00381C00381C00381C00381C00381C00001C00001C0E001C0E001C
0E001FFE001FFE001FFE001C0E001C0E001C0E001C00001C00001C00701C00701C00701C00
70FFFFF0FFFFF0FFFFF0>
	 21 28 -1 27 24] 69 @dc
[<
7F1F1F00FFBFBF807F1F1F001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C
1C1C001C1C1C001C1C1C001C1C1C001C1C1C001E1E1C001E1E1C001F1F1C007FFFF800FFFB
F8007CE0E000>
	 25 20 1 19 24] 109 @dc
[<
1E00003F00007F80007BC00079E00000E00000F00000700000700000700000780000780000
780000DC0000CC0000CC0001CE0001CE00038E000386000387000707000707000703800E03
800E03800E01C07F8FF0FF8FF87F8FF0>
	 21 30 -1 19 24] 121 @dc

2 @eop0

0 0 2 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1840 145 y @F10 @sf(\017)23 b @F12 @sf(Directory)15 b(handles)i(are)f(no)o
(w)f(ob)s(jects.)22 b(A)15 b(directory)i(handle)g(has)e(p)q(oin)o(ters)i
(to)e(functions)i(that)e(p)q(er-)-1795 57 y(form)c(the)i(required)h(op)q
(erations)e(on)h(it,)g(suc)o(h)f(as)h(reading)g(and)f(writing)h(the)g
(disk)g(ob)s(ject,)f(and)h(cop)o(ying)-1795 56 y(and)f(comparison)h(of)f
(directory)g(handles.)21 b(This)13 b(eliminates)h(the)e(need)i(to)d(link)j
(the)f(directory)f(pac)o(k)m(age)-1795 56 y(with)h(pac)o(k)m(ages)g(con)o
(taining)h(functions)g(with)f(sp)q(ecial)q(ly)i(designated)f(names,)f(suc)o
(h)g(as)g(\\ReallyRe)q(ad,")-1795 57 y(\\ReallyW)l(rite,")18 b(\\FidZap,")f
(etc.)27 b(In)18 b(this)f(do)q(cumen)o(t,)h(for)f(simplici)q(t)o(y)l(,)i
(w)o(e)e(will)i(refer)e(to)f(the)i(func-)-1795 56 y(tion)d(that)g(reads)g
(the)g(disk)h(ob)s(ject)f(as)g @F7 @sf(dh)s 14 -2 z 14 x(Read)p @F12 @sf
(,)f(and)h(the)h(function)g(that)e(writes)i(the)f(disk)h(ob)s(ject)f(as)
-1796 57 y @F7 @sf(dh)s 14 -2 z 14 x(Write)p @F12 @sf(,)e(ev)o(en)h
(though)g(these)g(are)g(only)h(the)f(names)g(of)g(\014elds)h(in)g(the)f
(directory)h(handle)g(structure.)-1842 94 y @F10 @sf(\017)23 b @F12 @sf
(The)18 b(functional)h(in)o(terface)f(has)f(b)q(een)i(reorganized)g(to)e
(separate)g(lo)q(okups)h(from)g(other)f(pro)q(cessing.)-1795 56 y @F7 @sf
(dir)s 14 -2 z 13 x(Create)11 b @F12 @sf(do)q(es)g(not)f(\014rst)h(lo)q
(ok)g(up)h(the)f(en)o(try;)h(this)f(m)o(ust)f(b)q(e)i(done)g(b)o(y)f(a)f
(prior)h(call)i(to)d @F7 @sf(dir)s 14 -2 z 14 x(Lookup)p @F12 @sf(.)-1797 
57 y(Similarly)l(,)15 b @F7 @sf(dir)s 14 -2 z 14 x(Delete)e @F12 @sf(do)q
(es)g(not)g(tak)o(e)g(a)g(name)g(and)h(lo)q(ok)g(it)f(up,)h(but)g(tak)o
(es)e(an)h(o\013set,)g(whic)o(h)h(m)o(ust)-1796 56 y(ha)o(v)o(e)h(b)q(een)i
(supplied)g(b)o(y)f(a)f(previous)i(call)f(to)f @F7 @sf(dir)s 14 -2 z 14 x
(Lookup)g @F12 @sf(\(whic)o(h)h(is)g(mo)q(di\014ed)h(to)e(supply)i(suc)o
(h)e(an)-1795 56 y(o\013set)f(in)i(an)f(OUT)g(parameter\).)-633 94 y 
@F10 @sf(\017)23 b @F12 @sf(The)g(functional)h(in)o(terface)f(inclu)q(des)h
(t)o(w)o(o)e(new)h(functions)h(to)e(facilitate)i(the)f(renaming)g(of)g
(\014les:)-1795 57 y @F7 @sf(dir)s 14 -2 z 13 x(Replace)p @F12 @sf(,)g
(whic)o(h)h(c)o(hanges)f(an)f(en)o(try)g(to)g(p)q(oin)o(t)h(to)f(a)h
(di\013eren)o(t)g(\014le;)j(and)d @F7 @sf(dir)s 14 -2 z 14 x(FixDotDot)p 
@F12 @sf(,)-1797 56 y(whic)o(h)16 b(p)q(erforms)f(the)g(same)g(function)h
(sp)q(eci\014cal)q(ly)h(for)d(the)i(\\..")j(en)o(try)l(.)-1318 94 y @F10 @sf
(\017)k @F12 @sf(Directory)18 b(en)o(tries)h(and)g(free)g(areas)f(are)g(c)o
(hec)o(k)o(ed)h(for)f(corruption)h(whenev)o(er)h(they)e(are)h(examined,)
-1795 56 y(that)14 b(is,)h(their)h(magic)f(n)o(um)o(b)q(ers)h(are)f(c)o
(hec)o(k)o(ed)g(for)g(correctness.)-1169 94 y @F10 @sf(\017)23 b @F12 @sf
(The)16 b(sense)g(of)g(the)g(v)m(alue)h(of)f(the)g(function)h @F7 @sf(dir)s 
14 -2 z 13 x(IsEmpty)e @F12 @sf(\(formerly)h(called)i @F7 @sf(IsEmpty)p 
@F12 @sf(\))c(is)j(rev)o(ersed,)-1796 57 y(to)d(corresp)q(ond)i(more)f(in)o
(tuitiv)o(ely)i(to)d(its)i(name.)-970 133 y(The)h(directory)h(pac)o(k)m
(age)f(consists)g(of)g(three)g(sub-pac)o(k)m(ages,)h(whic)o(h)g(I)g
(describ)q(e)g(as)f(if)h(they)f(w)o(ere)g(separate)-1910 56 y(pac)o(k)m
(ages:)j(the)c(directory)g(pac)o(k)m(age)f(prop)q(er;)g(the)h(directory)g
(salv)m(ager)f(pac)o(k)m(age;)h(and)f(the)h(directory)f(bu\013er)-1909 57 y
(pac)o(k)m(age.)-167 1162 y(1)g(Ov)o(erview)720 b(2)542 b(Marc)o(h)14 b
(2,)h(1993)f(13:59)-1911 b
2 @eop1

3 @bop0
@F0 @sf
[<
FFFFFFFFE0FFFFFFFFE0FFFFFFFFE0FFFFFFFFF07FFFFFFFF03FFFFFFFF01FFFFFFFF00FFF
FFFFF007FFFFFFF003FFFFFFF001FFFFFFF800F00000F800780000F8003C000078001E0000
78000F0000780007C0003C0003E0003C0001F0003C0001F800000000FC000000007F000000
003F800000001FC00000000FF000000007F800000007FC00000003FE00000001FF00000001
FF80000000FFC0000000FFE00000007FF00000007FF00000007FF80000003FF80000003FFC
1F80003FFC3FC0003FFC7FE0003FFCFFF0003FFCFFF0003FFCFFF0003FFCFFF0003FFCFFF0
003FF8FFE0007FF87FC0007FF07F8000FFF03E0000FFE01F0001FFC00F8007FF8007F01FFF
0003FFFFFE0001FFFFF800007FFFE0000007FE0000>
	 38 56 -5 55 49] 50 @dc
@F1 @sf
[<
FFFFFFFFFFFFC0000000FFFFFFFFFFFFFE000000FFFFFFFFFFFFFFC00000FFFFFFFFFFFFFF
F80000FFFFFFFFFFFFFFFE0000001FFF800003FFFF0000001FFF8000007FFFC000001FFF80
00000FFFE000001FFF80000003FFF000001FFF80000001FFF800001FFF800000007FFC0000
1FFF800000003FFE00001FFF800000003FFF00001FFF800000001FFF80001FFF800000000F
FF80001FFF800000000FFFC0001FFF8000000007FFE0001FFF8000000007FFE0001FFF8000
000003FFF0001FFF8000000003FFF0001FFF8000000003FFF0001FFF8000000001FFF8001F
FF8000000001FFF8001FFF8000000001FFF8001FFF8000000001FFFC001FFF8000000001FF
FC001FFF8000000001FFFC001FFF8000000001FFFC001FFF8000000001FFFE001FFF800000
0000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF
8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE
001FFF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF80000000
00FFFE001FFF8000000001FFFE001FFF8000000001FFFC001FFF8000000001FFFC001FFF80
00000001FFFC001FFF8000000001FFFC001FFF8000000001FFFC001FFF8000000001FFF800
1FFF8000000001FFF8001FFF8000000003FFF8001FFF8000000003FFF0001FFF8000000003
FFF0001FFF8000000003FFE0001FFF8000000007FFE0001FFF8000000007FFC0001FFF8000
00000FFFC0001FFF800000000FFF80001FFF800000001FFF00001FFF800000003FFF00001F
FF800000007FFE00001FFF80000000FFFC00001FFF80000001FFF800001FFF80000007FFF0
00001FFF8000000FFFE000001FFF8000007FFF8000001FFF800007FFFF0000FFFFFFFFFFFF
FFFC0000FFFFFFFFFFFFFFF00000FFFFFFFFFFFFFFC00000FFFFFFFFFFFFFE000000FFFFFF
FFFFFFC0000000>
	 79 71 -4 70 91] 68 @dc
[<
00001FFE00000000FFFFE0000007FFFFF800001FFFFFFE00007FFE00FF0000FFF0001F8001
FFE0000FC003FFC00007E007FF800003F00FFF000001F00FFE000000F81FFE000000F81FFC
000000F83FFC000000003FFC000000007FFC000000007FF8000000007FF800000000FFF800
000000FFF800000000FFF800000000FFF800000000FFF800000000FFF800000000FFF80000
0000FFF800000000FFF800000000FFF8000000007FF8000000007FF8000000007FF8000000
003FFC00003E003FFC0000FF801FFC0001FFC01FFC0001FFC00FFE0003FFE00FFE0003FFE0
07FF0003FFE003FF8003FFE001FFC003FFE000FFE001FFC0007FFC00FFC0001FFFFFFF8000
07FFFFFE000000FFFFF80000001FFFC000>
	 45 46 -4 45 53] 99 @dc
[<
01FE00000000000007FFC000000000001FFFF000000000003FFFF800000000007F43FE0000
0000007FE07F0000000000FFF03F8000000000FFF01F8000000000FFF00FC000000000FFF0
07E000000000FFF003E000000000FFF003F0000000007FE001F0000000003FC001F8000000
001F8000F800000000000000FC000000000000007C000000000000007E000000000000003E
000000000000003F000000000000003F000000000000003F000000000000007F8000000000
00007F80000000000000FFC0000000000000FFC0000000000001FFE0000000000001FFE000
0000000003FFF0000000000003FFF0000000000007FFF8000000000007FFF800000000000F
FFFC00000000000FFFFC00000000000FFF7C00000000001FFF7E00000000001FFE3E000000
00003FFE3F00000000003FFC1F00000000007FFC1F80000000007FF80F8000000000FFF80F
C000000000FFF007C000000001FFF007E000000001FFF003E000000003FFE003F000000003
FFE003F000000003FFC001F000000007FFC001F800000007FF8000F80000000FFF8000FC00
00000FFF00007C0000001FFF00007E0000001FFE00003E0000003FFE00003F0000003FFC00
001F0000007FFC00001F8000007FFC00000F800000FFF800000FC00000FFF800000FC00000
FFF000000FE0007FFFFFC000FFFF807FFFFFC000FFFF807FFFFFC000FFFF807FFFFFC000FF
FF807FFFFFC000FFFF80>
	 57 66 -2 45 63] 121 @dc
[<
FFFFFFFFF800000000FFFFFFFFF800000000FFFFFFFFF800000000FFFFFFFFF800000000FF
FFFFFFF800000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001F
FFC00000000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFF
C00000000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC0
0000000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC000
00000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC00000
000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC0000000
0000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFFFFFFFF000
00001FFFFFFFFFFE0000001FFFFFFFFFFFC000001FFFFFFFFFFFF000001FFF80000FFFF800
001FFF800001FFFE00001FFF8000007FFF00001FFF8000003FFF80001FFF8000001FFF8000
1FFF8000000FFFC0001FFF8000000FFFE0001FFF8000000FFFE0001FFF80000007FFF0001F
FF80000007FFF0001FFF80000007FFF0001FFF80000007FFF8001FFF80000007FFF8001FFF
80000007FFF8001FFF80000007FFF8001FFF80000007FFF8001FFF80000007FFF8001FFF80
000007FFF8001FFF80000007FFF8001FFF80000007FFF0001FFF80000007FFF0001FFF8000
0007FFF0001FFF8000000FFFE0001FFF8000000FFFE0001FFF8000000FFFC0001FFF800000
1FFFC0001FFF8000003FFF80001FFF8000007FFF00001FFF800001FFFE00001FFF80000FFF
FC00FFFFFFFFFFFFFFF000FFFFFFFFFFFFFFC000FFFFFFFFFFFFFF0000FFFFFFFFFFFFFC00
00FFFFFFFFFFFF800000>
	 69 71 -4 70 81] 80 @dc
[<
0003FF80007FF8007FFFF001FFFC01FFFFFC03FFFC07FFFFFF07FFFC0FFFC03F8FFFF83FFF
0007CFFF003FFC0003EFFC007FF80001EFFC007FF80000FFFC00FFF000007FFC00FFF00000
3FFC00FFF000003FFC00FFF000003FFC00FFF000003FFC00FFF000003FFC007FF800003FFC
007FF800003FFC003FFC00003FFC001FFE00003FFC000FFF00003FFC0007FFC0003FFC0003
FFF0003FFC0000FFFE003FFC00003FFFE03FFC000007FFFFFFFC000000FFFFFFFC00000007
FFFFFC00000000003FFC00000000003FFC00000000003FFC00000000003FFC0000F800003F
FC0003FE00003FFC0007FF00003FFC0007FF00003FFC000FFF80007FF8000FFF80007FF800
0FFF80007FF0000FFF8000FFF0000FFF8001FFE00007FF0003FFC00007FE001FFF000003FF
FFFFFE000001FFFFFFF80000007FFFFFC000000007FFFC000000>
	 54 46 -3 45 58] 97 @dc
[<
FFFFFF807FFFFFFFFFFF807FFFFFFFFFFF807FFFFFFFFFFF807FFFFFFFFFFF807FFFFF01FF
C0000FFFC001FFC0000FFF8001FFC0000FFF0001FFC0001FFE0001FFC0003FFC0001FFC000
7FFC0001FFC000FFF80001FFC001FFF00001FFC001FFE00001FFC003FFC00001FFC007FFC0
0001FFC00FFF800001FFC01FFF000001FFC01FFE000001FFE03FFC000001FFF87FFC000001
FFFCFFF8000001FFFFFFF0000001FFFFFFE0000001FFFFFFC0000001FFDFFFC0000001FFCF
FF80000001FFC3FF00000001FFC1FE00000001FFC0FF00000001FFC03F80000001FFC01FC0
000001FFC00FF0000001FFC007F8000001FFC001FC000001FFC000FE000001FFC0007F8000
01FFC0003FC00001FFC0000FE00001FFC00007F00001FFC0000FFE0001FFC0007FFFF801FF
C0007FFFF801FFC0007FFFF801FFC0007FFFF801FFC0007FFFF801FFC00000000001FFC000
00000001FFC00000000001FFC00000000001FFC00000000001FFC00000000001FFC0000000
0001FFC00000000001FFC00000000001FFC00000000001FFC00000000001FFC00000000001
FFC00000000001FFC00000000001FFC00000000001FFC00000000001FFC00000000001FFC0
0000000001FFC00000000003FFC000000000FFFFC000000000FFFFC000000000FFFFC00000
0000FFFFC000000000FFFFC000000000007FC000000000>
	 56 72 -4 71 63] 107 @dc
[<
00003FFFC000000007FFFFFE0000003FFFFFFFC00000FFFFFFFFF00003FFF000FFFC000FFF
00000FFF001FFC000003FF803FF0000000FFC03FE00000007FC07FC00000003FE07FC00000
003FE0FF800000001FF0FF800000001FF0FF800000001FF0FF800000001FF0FF800000001F
F07FC00000003FF07FC00000007FF03FE0000001FFE01FF800001FFFE00FFFFFFFFFFFC003
FFFFFFFFFFC0007FFFFFFFFF8000FFFFFFFFFF8001FFFFFFFFFF0001FFFFFFFFFE0003FFFF
FFFFF80003FFFFFFFFE00007FFFFFFFF000007FFFFFFF0000007F8000000000007F0000000
000007E0000000000007C0000000000007C0000000000007C0000000000007C00000000000
03C07FF000000003C7FFFF00000001DFFFFFC0000001FFFFFFF0000000FFE03FF8000001FF
800FFC000003FF0007FE000007FE0003FF000007FE0003FF00000FFC0001FF80000FFC0001
FF80000FFC0001FF80001FFC0001FFC0001FFC0001FFC0001FFC0001FFC0001FFC0001FFC0
001FFC0001FFC0001FFC0001FFC0000FFC0001FF80000FFC0001FF80000FFC0001FF81C007
FE0003FF07F007FE0003FF07F003FF0007FE0FF801FF800FFC0FF800FFE03FFE0FF8007FFF
FFFFC7F8001FFFFFC7FFF00007FFFF03FFF000007FF000FFE000000000001F80>
	 53 68 -3 46 59] 103 @dc
/@F3 @newfont
@F3 @sf
[<
FFFFFF80FFFFFF80FFFFFF807FFFFFC03FFFFFC01FFFFFC00FFFFFC0070001C0038001C001
C001C000E000E0007000E0003C00E0001E0000000F0000000780000003E0000003F0000001
F8000000FC000000FE0000007F0000007F8000003FC000003FC000003FE03C003FE07E001F
E0FF001FE0FF001FE0FF003FE0FF003FC0FE003FC07C007F803800FF001F03FE000FFFFC00
03FFF00000FF8000>
	 27 39 -3 38 34] 50 @dc
[<
1C003E007F00FF80FF80FF807F003E001C00>
	 9 9 -5 8 19] 46 @dc
[<
7FFFFE7FFFFE7FFFFE00FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000
FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE00F8FE00FFFE00FFFE0007FE00007E00
001E00000E00>
	 23 39 -5 38 34] 49 @dc
[<
FFFFF00000FFFFF00000FFFFF0000003FC00000003FC00000003FC00000003FC00000003FC
00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC0000
0003FC00000003FC00000003FC00000003FC00000003FFFFFE0003FFFFFF8003FC003FE003
FC000FF003FC0007F803FC0007FC03FC0003FC03FC0003FE03FC0003FE03FC0003FE03FC00
03FE03FC0003FE03FC0003FE03FC0003FE03FC0003FC03FC0007FC03FC0007F803FC000FF0
03FC003FE0FFFFFFFFC0FFFFFFFF00FFFFFFF800>
	 39 41 -3 40 47] 80 @dc
[<
01FC03FC0FFF0FFC3F839FFC7F00DF807E007F80FE003F80FE003F80FE003F80FE003F807F
003F803F003F803F803F800FE03F8007FC3F8000FFFF80000FFF8000003F8000003F800000
3F8007003F800F803F801FC03F001FC07E001FC07E000F81F80007FFF00001FF8000>
	 30 27 -2 26 33] 97 @dc
[<
001FE00000FFFC0003F01E0007E007000FC003801F8001C03F8001C07F8000007F0000007F
000000FF000000FF000000FF000000FF000000FF000000FF000000FF0000007F0000007F00
00007F800E003F801F001F803F800FC03F8007E03F8003F01F0000FFFE00001FF800>
	 26 27 -2 26 31] 99 @dc
[<
FFFC3FFEFFFC3FFEFFFC3FFE0FC00FE00FC00FC00FC01FC00FC03F800FC07F000FC07F000F
C0FE000FC1FC000FE3F8000FF3F8000FFFF0000FFFE0000FEFE0000FE7C0000FE3C0000FE0
E0000FE078000FE03C000FE01E000FE00F000FE007800FE01FFC0FE01FFC0FE01FFC0FE000
000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00000
0FE000000FE00000FFE00000FFE00000FFE00000>
	 31 42 -2 41 36] 107 @dc
[<
007FF00003FFFE000FC01F801F0007C03C0001E07C0001F0F80000F8F80000F8F80000F8F8
0000F87C0001F83E0007F01FFFFFF007FFFFE00FFFFFC01FFFFF801FFFFF003FFFF8003E00
00003C000000380000003800000018FF80001FFFE0000FC1F8001F80FC001F007C003F007E
007F007F007F007F007F007F007F007F007F007F007F007F003F007E101F007C381F80FC7C
0FC1FE7C03FFE7F800FF81F0>
	 30 40 -2 26 34] 103 @dc
[<
001FF00000FFFE0003F81F0007E003800FC001C01F8000E03F8000E07F0000007F0000007F
000000FF000000FF000000FF000000FFFFFFE0FFFFFFE0FF0007E0FF0007E07F0007E07F00
07C07F000FC03F800FC01F800F800F801F8007C01F0003F07E0001FFF800003FE000>
	 27 27 -2 26 32] 101 @dc
[<
003FC3FF8001FFF3FF8003F03BFF8007E00FF80007E007F8000FE007F8000FE003F8000FE0
03F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8
000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000F
E003F8000FE003F800FFE03FF800FFE03FF800FFE03FF800>
	 33 27 -3 26 38] 117 @dc
[<
C1FF00F7FFC0FF01E0FC0070F80038F00038F0003CE0003C60007C0000FC0003FC00FFF807
FFF81FFFF03FFFE07FFF807FFE00FFE000FC0000F80070F00070F000707000703800F01E03
F00FFFF003FE30>
	 22 27 -2 26 27] 115 @dc
[<
FFFF00FFFF00FFFF000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000F
E0000FE0000FE0000FE0000FE0000FE0000FE0000FF01C0FF03E0FF07F0FD87F0FD87FFFCE
3EFFC7FCFFC1F0>
	 24 27 -2 26 28] 114 @dc
@F12 @sf
[<
40201010080804040474FCFCF870>
	 6 14 -4 31 13] 39 @dc
@F3 @sf
[<
FFFFFFFC0000FFFFFFFF8000FFFFFFFFE00003FC001FF80003FC0003FC0003FC0001FE0003
FC00007F0003FC00007F8003FC00003FC003FC00001FC003FC00001FE003FC00001FE003FC
00000FF003FC00000FF003FC00000FF003FC00000FF803FC00000FF803FC00000FF803FC00
000FF803FC00000FF803FC00000FF803FC00000FF803FC00000FF803FC00000FF803FC0000
0FF803FC00000FF003FC00000FF003FC00000FF003FC00000FF003FC00001FE003FC00001F
E003FC00001FC003FC00003FC003FC00007F8003FC0000FF0003FC0001FE0003FC0007FC00
03FC001FF800FFFFFFFFE000FFFFFFFF8000FFFFFFF80000>
	 45 41 -3 40 53] 68 @dc
[<
FFFEFFFEFFFE0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00F
E00FE00FE00FE00FE00FE0FFE0FFE0FFE0000000000000000000000000000007000FC01FE0
3FE03FE03FE01FE00FC00700>
	 15 43 -3 42 20] 105 @dc
[<
FFFEFFFEFFFE0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00F
E00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0
0FE00FE0FFE0FFE0FFE0>
	 15 42 -3 41 20] 108 @dc
[<
0FC00000003FE00000007C78000000FE3C000000FE1E000000FE0E000000FE0F0000007C07
0000003807800000000380000000038000000001C000000001C000000003E000000003E000
000007F000000007F00000000FF80000000FF80000000FF80000001FDC0000001FDC000000
3FDE0000003F8E0000007F8F0000007F070000007F07000000FE03800000FE03800001FC01
C00001FC01C00003FC01E00003F800E00007F800F00007F000700007F0007000FFFE03FF80
FFFE03FF80FFFE03FF80>
	 33 39 -1 26 36] 121 @dc
[<
003FE00001FFFC0007F07F000FC01F801F800FC03F800FE03F800FE07F0007F07F0007F0FF
0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F87F0007F07F00
07F07F0007F03F0007E03F800FE01F800FC00FC01F8003F07E0001FFFC00003FE000>
	 29 27 -2 26 34] 111 @dc
[<
001F8000FFC001F86003F87003F03807F03807F03807F03807F03807F03807F03807F00007
F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F000FFFF
F0FFFFF01FFFF007F00003F00003F00001F00000F00000F00000F000007000007000007000
007000>
	 21 38 -1 37 27] 116 @dc
@F9 @sf
[<
0F0700308C80705C40703C40F01C40F01C40F00E20F00E00F00E00F00E0078070078070078
07003807003C03801C03800E03800707800389C000F1C00001C00001C00000E00000E00000
E00000E00000700000700000700000700003F8000078>
	 21 32 -4 31 23] 100 @dc
[<
3000007000003800003800003800003800001C00001C00001C00001C00000E00000E00000E
00008E00004703004707804787804783802661001C1E00>
	 17 20 -4 19 19] 114 @dc
[<
1E003100708070807040704038203800380038001C001C001C001C000E000E000E000E0007
00FFF007000700038003800380038001C00180>
	 12 28 -4 27 15] 116 @dc
[<
3E0000438000C0C000E06000F07000F03800003800001C00001C0007DC000C3C001C1E0018
0E00180E001C0E001C07001C07001C07001C07000E03800E03800E03808703804701C04301
C04381C02301C03300E00E00C0>
	 19 29 -4 19 22] 121 @dc
@F9 @sf
[<
0F0700308C80705C40703C40F01C40F01C40F00E20F00E00F00E00F00E0078070078070078
07003807003C03801C03800E03800707800389C000F180>
	 19 20 -4 19 23] 97 @dc
[<
3F800060E000F07000783800301C00001C00001C00000E00000E0003CE000C2E001C17001C
0F003C07003C07003C03803C03803C03803C03801E01C01E01C01E01C00E01C00F00E00700
E00380E001C1E000E270003C60>
	 20 29 -2 19 21] 103 @dc
[<
1F8020604010E008F00CF00C700E000E003E03FC07F80FF00F800C000C060C070C03060103
0200FC>
	 16 20 -3 19 19] 115 @dc
@F9 @sf
[<
600700E00CC0700C40701C20700C20700E20380E103807003807003807001C03801C03801C
03801C03800E01C00E01C00F01C00E8180076300071E000700000700000380000380000380
0003800001C00001C00001C00001C0000FE00001E000>
	 20 32 -3 31 23] 104 @dc
@F9 @sf
[<
7FE0FFE07FF0>
	 12 3 -3 10 16] 45 @dc
@F9 @sf
[<
3001C07003303803103807083803083803881C03841C01C01C01C01C01C00E00E00E00E00E
00E08E00E04700704700704780604740602630C01C0F80>
	 22 20 -4 19 26] 110 @dc

3 @eop0

0 0 3 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(Chapter)34 b(2)-436 246 y @F1 @sf(Directory)41 b(P)m
(ac)m(k)-7 b(age)-950 280 y @F3 @sf(2.1)70 b(P)n(ac)n(k)l(age)23 b(users)
-570 141 y @F12 @sf(The)14 b(directory)g(pac)o(k)m(age)g(is)g(compiled)q 
15 x(in)o(to)g(a)f(library)l(,)i(and)f(that)f(library)i(is)f(link)o(ed)i
(as)d(part)g(of)h(t)o(w)o(o)e(comp)q(o-)-1909 56 y(nen)o(ts)h(of)f(the)h
(DFS)f(\(Distributed)h(File)h(System\):)k(the)13 b(DCE)f(Lo)q(cal)i(File)f
(System)g(\(LFS\),)f(and)h(the)g(salv)m(ager.)-1910 57 y(The)18 b(DCE)f
(LFS)h(is)g(to)f(b)q(e)i(part)e(of)g(the)h(k)o(ernel)g(on)g(a)f(\014le)i
(serv)o(er,)f(while)h(the)f(salv)m(ager)g(runs)f(as)h(a)f(pro)q(cess)-1909 
56 y(outside)f(the)g(k)o(ernel.)22 b(F)l(ormerly)16 b(\(i.e.)22 b(in)16 b
(AFS)g(3\),)f(the)h(\014le)g(serv)o(er)g(did)h(not)e(use)h(a)f(normal)h(k)o
(ernel)h(\014le)f(sys-)-1909 57 y(tem,)e(but)g(had)h(its)f(o)o(wn)g
(out-of-k)o(ernel)g(\014le)i(managemen)o(t)d(co)q(de)i(based)g(on)f(the)g
(ino)q(de)i(la)o(y)o(er)e(of)g(the)g(k)o(ernel's)-1909 56 y(nativ)o(e)h
(ph)o(ysical)h(\014le)g(system.)j(Also)c(in)h(AFS)e(3,)h(the)f(directory)h
(pac)o(k)m(age)g(w)o(as)f(link)o(ed)i(as)f(part)f(of)g(the)h(cac)o(he)-1909 
56 y(manager.)-183 183 y @F3 @sf(2.2)70 b(Disk)22 b(la)n(y)n(out)-431 120 y 
@F10 @sf(\017)h @F12 @sf(A)15 b @F9 @sf(dir)n(e)n(ctory)g @F12 @sf(is)h
(divided)q 16 x(in)o(to)f @F9 @sf(p)n(ages)p @F12 @sf(.)20 b(Eac)o(h)15 b
(page)g(is)g(8K)h(b)o(ytes.)-1128 75 y(The)d(page)h(size)g(w)o(as)f(c)o
(hosen)h(for)f(reasons)g(of)g(con)o(v)o(enience)q 15 x(and)g(p)q
(erformance.)20 b(F)l(rom)13 b(a)g(logical)i(p)q(oin)o(t)-1795 57 y(of)j
(view,)j(it)e(need)h(not)f(ha)o(v)o(e)g(an)o(y)f(relation)i(to)f(the)g
(actual)g(sizes)h(of)f(disk)h(blo)q(c)o(ks)f(or)g(other)g(system)-1796 56 y
(parameters.)g(It)c(need)h(not)f(ev)o(en)g(b)q(e)h(a)f(p)q(o)o(w)o(er)g
(of)g(t)o(w)o(o.)o -1007 94 a @F10 @sf(\017)23 b @F12 @sf(A)15 b @F9 @sf
(p)n(age)g @F12 @sf(is)h(divided)h(in)o(to)e @F9 @sf(pie)n(c)n(es)p @F12 @sf
(.)k(Eac)o(h)c(piece)i(is)e(32)g(b)o(ytes.)k(Th)o(us)d(there)f(are)g(256)f
(pieces)j(p)q(er)e(page.)-1816 94 y @F10 @sf(\017)23 b @F12 @sf(The)16 b
(\014rst)f(piece)i(in)g(eac)o(h)e(page)h(is)g(dev)o(oted)g(to)f(a)g @F9 @sf
(p)n(age)i(he)n(ader)p @F12 @sf(.)22 b(The)16 b(next)g(four)f(pieces)i
(are)e(dev)o(oted)-1795 56 y(to)f(a)h @F9 @sf(p)n(er-p)n(age)i(hash)f
(table)p @F12 @sf(.)-528 94 y @F10 @sf(\017)23 b @F12 @sf(On)15 b(the)h
(\014rst)e(page,)h(the)g(page)h(header)f(is)h(extended)g(to)f(b)q(e)g(a)g 
@F9 @sf(dir)n(e)n(ctory)i(he)n(ader)p @F12 @sf(.)-1468 94 y @F10 @sf(\017)
23 b @F12 @sf(A)15 b @F9 @sf(dir)n(e)n(ctory)h(entry)f @F12 @sf(o)q
(ccupies)i(one)e(or)g(more)g(con)o(tiguous)g(pieces)i(on)e(one)g(page.)-1512 
295 y(2.3)29 b(Previous)16 b(v)o(ersions)511 b(3)542 b(Marc)o(h)14 b(2,)h
(1993)f(13:59)-1911 b
3 @eop1

4 @bop0
@F3 @sf
[<
00FF800007FFF0001FFFFC003F01FE007C007F007E007F80FF007FC0FF003FC0FF003FE0FF
003FE07E003FE03C003FE000003FE000003FE000003FC000003FC000007F8000007F000000
7E000001FC0000FFF00000FFC0000007F0000001F8000001FC000000FE000000FF000000FF
000F007F801F807F803F807F803F807F803F807F803F80FF001F00FF000F81FE0007FFFC00
03FFF000007F8000>
	 27 39 -3 38 34] 51 @dc
[<
0001C000000003E000000003E000000007F000000007F00000000FF80000000FF80000000F
F80000001FDC0000001FDC0000003FDE0000003F8E0000007F8F0000007F070000007F0700
0000FE03800000FE03800001FC01C00001FC01C00003FC01E00003F800E00007F800F00007
F000700007F0007000FFFE03FF80FFFE03FF80FFFE03FF80>
	 33 27 -1 26 36] 118 @dc
[<
FFFE3FFF80FFFE3FFF80FFFE3FFF800FE003F8000FE003F8000FE003F8000FE003F8000FE0
03F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8
000FE003F8000FE003F8000FE003F8000FE003F8000FF003F8000FF003F8000FD803F8000F
D803F0000FCE03F000FFC787E000FFC1FFC000FFC07F0000>
	 33 27 -3 26 38] 110 @dc
@F3 @sf
[<
007FFFF8007FFFF8007FFFF80000FE000000FE000000FE000000FE000000FE000000FE0000
00FE000000FE00FFFFFFF8FFFFFFF8FFFFFFF8E0007E0070007E0038007E001C007E000E00
7E000E007E0007007E0003807E0001C07E0000E07E0000E07E0000707E0000387E00001C7E
00000E7E00000E7E0000077E000003FE000001FE000000FE000000FE0000007E0000003E00
00001E0000000E00>
	 29 39 -2 38 34] 52 @dc
[<
C01FF000E0FFFE00F3FFFF00FFE01F80FF0007C0FC0003E0F80003F0F00001F0F00001F0E0
0001F8E00001F8E00001F8600001F8000003F8000007F800000FF800007FF00007FFF000FF
FFE003FFFFE007FFFFC00FFFFF801FFFFE003FFFFC007FFFE0007FFE0000FFC00000FF0000
00FE0000E0FE0000E0FC0000E0FC0001E0FC0001E07C0001E07C0003E03E0007E01F001FE0
0F807FE007FFF9E003FFF0E0007F8060>
	 29 41 -4 40 38] 83 @dc
/@F4 @newfont
@F4 @sf
[<
FFFFF0FFFFF07FFFF03FFFF01FFFF00FFFF00E003807001803801801C01800E01800700000
3800003E00001F00000F800007C00007E00003F00003F00003F83803F87C01F8FE01F8FE03
F8FE03F8FE03F07C07F07007E03C1FC00FFF0003FC00>
	 21 32 -3 31 28] 50 @dc
[<
387CFEFEFE7C38>
	 7 7 -4 6 16] 46 @dc
[<
00FFFE00FFFE0007E00007E00007E00007E00007E00007E00007E0FFFFFEFFFFFEE007E070
07E03807E01807E00C07E00E07E00707E00307E00187E001C7E000E7E00077E00037E0001F
E0001FE0000FE00007E00003E00003E00001E00000E0>
	 23 32 -2 31 28] 52 @dc
[<
7FFFE07FFFE001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001
F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8
0001F80001F800FFF800FFF80001F800007800001800>
	 19 32 -4 31 28] 49 @dc
[<
0007FC0000003FFF800000FC07E00003F001F80007E000FC000FC0007E001F80003F003F80
003F803F00001F807F00001FC07F00001FC07E00000FC0FE00000FE0FE00000FE0FE00000F
E0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE07E00000FC07E
00000FC07F00001FC03F00001F803F00001F801F80003F001F80003F000FC0007E0007E000
FC0003F001F80000FC07E000003FFF80000007FC0000>
	 35 34 -3 33 42] 79 @dc
[<
180FC0001C3FF8001EE07C001FC03E001F801F001F001F801F000F801F000FC01F000FC01F
000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000F801F000F801F001F001F80
1E001FF07C001F3FF8001F0FE0001F0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F0000001F000000FF000000FF000000>
	 26 35 -2 34 31] 98 @dc
[<
1F807FE078F8FC7CFC3CFC3E783E003E003E003E003E003E003E003E003E003E003E003E00
3E003E003E003E003E003E003E003E003E003E003E003E03FE03FE00000000000000000000
000000000038007C00FE00FE00FE007C0038>
	 15 46 3 35 17] 106 @dc
[<
00FF0003FFC00FC0701F00303E00187E00007C00007C0000FC0000FC0000FC0000FFFFF8FF
FFF8FC00F8FC00F87C00F87C00F03E01F01E01E00F87C007FF8000FE00>
	 21 22 -2 21 26] 101 @dc
[<
00FE0007FF800FC0E01F00603E00307E00007E00007C0000FC0000FC0000FC0000FC0000FC
0000FC00007C00007C01E07E03F03E03F01F03F00F83F007FFE000FF80>
	 20 22 -2 21 25] 99 @dc
[<
00F80003FE0007C3000F83000F81800F81800F81800F81800F81800F80000F80000F80000F
80000F80000F80000F80000F80000F80000F80000F8000FFFF00FFFF003F80000F80000780
00078000038000038000018000018000018000018000>
	 17 32 -1 31 22] 116 @dc
[<
FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F00FF00FF0000000000000000000000000000001C003F007F007F007F003F001C00>
	 11 36 -2 35 16] 105 @dc
[<
01FC3FC007FF3FC00F83BE001E00FE003E007E007C003E007C003E00FC003E00FC003E00FC
003E00FC003E00FC003E00FC003E00FC003E00FC003E007C003E007E003E003E003E001F00
7E000F81FE0007FFBE0001FC3E0000003E0000003E0000003E0000003E0000003E0000003E
0000003E0000003E0000003E0000003E0000003E000001FE000001FE00>
	 26 35 -2 34 31] 100 @dc
[<
FFE1FFC0FFE1FFC01F003E001F003E001F003E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E001F003E001F003E001F003E001F003E001F803E001F803E001F40
3C001F307C00FF1FF800FF07E000>
	 26 22 -2 21 31] 110 @dc
[<
7FF0FFE07FF0FFE00F801F000F801F000F801F000F801F000F801F000F801F000F801F000F
801F000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F80
1F000F801F00FFFFFF00FFFFFF000F8000000F8000000F8000000F8000000F800C000F801E
000F803F000F803F0007C03F0003E01F0001F80E00007FFC00000FF000>
	 27 35 -1 34 31] 12 @dc
[<
FFF000FFF0001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F
00001F00001F00001F83C01E87E01E87E01EC7E01E67E0FE3FC0FE1F00>
	 19 22 -2 21 23] 114 @dc
[<
7FF8007FF8000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F
80000F80000F80000F80000F80000F80000F80000F8000FFFC00FFFC000F80000F80000F80
000F80000F80000F80000F83C00F87E007C7E003C7E001E3E000FFC0003F80>
	 19 35 -1 34 17] 102 @dc
[<
00FE0007FFC00F83E01F01F03E00F87C007C7C007CFC007EFC007EFC007EFC007EFC007EFC
007EFC007E7C007C7C007C7C007C3E00F81E00F00F83E007FFC000FE00>
	 23 22 -2 21 28] 111 @dc
[<
1F0000007F80000069C00000FC600000FC300000FC3800007818000000180000000C000000
0C0000000E0000000E0000001F0000001F0000003F8000003F8000007FC000007CC000007C
C00000F8600000F8600001F0300001F0300003E0180003E0180007E01C0007C00C000FC00E
000F8006000F800600FFE01FE0FFE01FE0>
	 27 32 -1 21 30] 121 @dc
[<
C7F000EFFC00FC0E00F00700E00380E00380C00380C00780000F8001FF000FFF003FFE007F
F8007FE000FC0000F00300E00300E00300600700781F003FFF000FF300>
	 17 22 -2 21 22] 115 @dc
@F6 @sf
[<
01F000071C000C06001C07003803803803807803C07001C07001C07001C0F001E0F001E0F0
01E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E07001
C07001C07001C07001C03803803803801803000C0600071C0001F000>
	 19 34 -2 32 24] 48 @dc
[<
01FFF0001F00000E00000E00000E00000E00000E00000E00000E00FFFFF8800E00400E0020
0E00200E00100E00100E00080E00040E00040E00020E00020E00010E00008E00008E00004E
00004E00002E00001E00001E00000E00000E00000600000200>
	 21 33 -1 32 24] 52 @dc
@F9 @sf
[<
03C0000E30001C08001C04001C04001C02001C02001C01001C01001C01000E00800E00800E
00808700804700C04301C04383C02307C03307800E0380>
	 18 20 -4 19 21] 118 @dc
@F9 @sf
[<
78780084C600E58100F38100F3808063808001C04001C00001C00001C00000E00000E00000
E00040E0002070C02071E01071E01068E00CC440038380>
	 19 20 -3 19 21] 120 @dc
@F7 @sf
[<
00700000F80000F80001DC0001DC0001DC00038E00038E00038E00038E0007070007070007
07000E03800E03800E03801E03C07F8FF0FF8FF87F8FF0>
	 21 20 -1 19 24] 118 @dc
@F9 @sf
[<
07C3800C26401C1E20180E20180E201C0E201C07101C07001C07001C07000E03800E03800E
03808703804701C04301C04381C02301C03300E00E00C0>
	 20 20 -4 19 24] 117 @dc
[<
0FFE0000E00000E0000070000070000070000070000038000038000F380030B800705C0070
3C00F01C00F01C00F00E00F00E00F00E00F00E007807007807007807003807003C03801C03
800E03800705800388C000F040>
	 18 29 -4 19 21] 113 @dc

4 @eop0

0 0 4 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F3 @sf(2.3)70 b(Previous)22 b(v)n(ersions)-681 141 y @F12 @sf
(Compatibilit)o(y)f(in)f(disk)h(format)d(b)q(et)o(w)o(een)i(the)g(DCE)f
(LFS)h(directory)g(pac)o(k)m(age)g(and)f(earlier)i(v)o(ersions)f(of)-1910 
56 y(AFS)15 b(is)g(not)g(main)o(tained.)20 b(That)15 b(is,)g(a)f
(directory)h(written)g(b)o(y)g(an)f(old)i(v)o(ersion)f(of)f(AFS)h(is)g
(not)g(readable)g(b)o(y)-1909 57 y(the)h(DCE)f(LFS.)g(T)l(o)g(meet)h(the)g
(need)g(to)f(con)o(v)o(ert)g(directories)h(\(and)g(other)f(\014les\))h
(from)f(old)h(formats)e(to)h(the)-1909 56 y(new)g(format,)f(T)l(ransarc)h
(will)h(dev)o(elop)h(con)o(v)o(ersion)e(soft)o(w)o(ar)o(e)f(and)i(pro)q
(cedures.)-1407 182 y @F3 @sf(2.4)70 b(Structures)-471 143 y @F4 @sf
(2.4.1)55 b(Ob)s(ject)19 b(iden)n(ti\014er)e(for)i(directory)e(en)n(tries)
-1013 185 y 1206 -3 z 300 w 3 -300 z 1203 x 3 -300 z -1203 3 a 1206 -3 z 
3 -149 a 1200 -3 z 469 448 a @F6 @sf(Diagram)e(1)-767 -506 y(0)-24 150 y
(4)557 b @F12 @sf(vunique)-136 -150 y(vno)q(de)-699 -150 y(\014d)-69 751 y
(Explanations:)-204 133 y @F10 @sf(\017)23 b @F9 @sf(vno)n(de)14 b @F12 @sf
(corresp)q(onds)i(to)e(the)i @F9 @sf(index)e @F12 @sf(\014eld)j(in)f(the)f 
@F7 @sf(epi)s 14 -2 z 14 x(volFileId)s 14 -2 z 13 x(t)g @F12 @sf
(structure)g(\(see)g(App)q(endi)q(x)h(A\).)-1824 94 y @F10 @sf(\017)23 b 
@F9 @sf(vunique)18 b @F12 @sf(corresp)q(onds)g(to)g(the)g @F9 @sf(unique)g 
@F12 @sf(\014eld)h(in)g(the)g @F7 @sf(epi)s 14 -2 z 13 x(volFileId)s 14 
-2 z 13 x(t)f @F12 @sf(structure)g(\(see)g(App)q(endi)q(x)-1794 57 y(A\).)
-179 773 y(2.4)29 b(Structures)650 b(4)542 b(Marc)o(h)14 b(2,)h(1993)f
(13:59)-1911 b
4 @eop1

5 @bop0
@F4 @sf
[<
FFFFFF8000FFFFFFF00007F003FC0007F0007E0007F0003F0007F0001F8007F0000FC007F0
0007E007F00007E007F00003F007F00003F007F00003F007F00003F807F00003F807F00003
F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F807F00003F007
F00003F007F00003F007F00007F007F00007E007F00007E007F0000FC007F0001F8007F000
3F0007F0007E0007F003FC00FFFFFFF000FFFFFF8000>
	 37 34 -2 33 43] 68 @dc
/@F14 @newfont
@F14 @sf
[<
60F0F060>
	 4 4 -4 3 12] 46 @dc
@F6 @sf
[<
01F000070C000C06001C03001803803801C03801C07001E07001E07001E0F001E0F001E0F0
01E0F001E0F001E0F001C0F801C0F80380F40300F40600F30C00F0F8007000007000007800
003800003800001801801C03C00E03C00601C003008001C100007E00>
	 19 34 -2 32 24] 54 @dc
@F9 @sf
[<
300300380070070066003803806200380380E100380380610038038071001C01C070801C01
C038001C01C038001C01C038000E00E01C000E00E01C000E00E01C008E00E01C004700700E
004700700E004780680E004740640C002630C318001C0F80F000>
	 33 20 -4 19 37] 109 @dc
@F12 @sf
[<
7FE7FE0700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E007
00E00700E00700E00700E00700E00700E00700E0FFFFE00700E00700E00700E00700E00700
E00700E00700E00700E00381E001C1E000E0E0003FE0>
	 23 32 0 31 25] 13 @dc
@F7 @sf
[<
7F03C0FF87C07F07C01C0DC01C0DC01C0DC01C1DC01C19C01C19C01C39C01C39C01C39C01C
31C01C71C01C71C01C61C01CE1C01CE1C01CE1C01CC1C01CC1C01DC1C01D81C01D81C01D81
C07F07F0FF0FF87E07F0>
	 21 28 -1 27 24] 78 @dc
[<
07FF0007FF0007FF0000700000700000700000700000700000700000700000700000700000
7000007000007000007000007000007000007000007000007000E07038E07038E07038E070
38FFFFF8FFFFF87FFFF8>
	 21 28 -1 27 24] 84 @dc
[<
01FC0003FE0001FC0000700000700000700000700000700000700000700000700000700000
F80000F80001DC0001DC0001DC00038E00038E000707000707000F07800E03801E03C01C01
C0FF07F8FF07F8FF07F8>
	 21 28 -1 27 24] 89 @dc
[<
FE03F8FE03F8FE03F83800E03800E03800E03800E03800E03800E03870E03870E038F8E038
D8E038D8E039DCE039DCE039DCE0398CE0398CE03B8EE03B8EE03B06E03B06E03B06E03B06
E0FE03F8FE03F8FC01F8>
	 21 28 -1 27 24] 77 @dc
[<
7F07F0FF8FF87F07F01C01C01C01C00E03800E03800FFF800FFF800FFF8007070007070007
0700070700030600038E00038E00038E00038E00018C0001DC0001DC0001DC0000D80000D8
0000F80000F800007000>
	 21 28 -1 27 24] 65 @dc
[<
01F1C003FDC00FFFC01F0FC01C07C03803C03803C07003C07001C07001C0E00FF0E01FF0E0
0FF0E00000E00000E00000E00000E000007000007001C07001C03801C03803C01C03C01F0F
C00FFFC003FDC001F1C0>
	 20 28 -2 27 24] 71 @dc
@F9 @sf
[<
E0F0F8F870>
	 5 5 -5 4 14] 46 @dc
@F7 @sf
[<
0FF8003FFE007FFF00780F00700700F00780E00380E00380E00380E00380E00380E00380E0
0380E00380E00380E00380E00380E00380E00380E00380E00380E00380F00780700700780F
007FFF003FFE000FF800>
	 17 28 -3 27 24] 79 @dc
@F9 @sf
[<
3C00000062000000F3000000798000003180000001C0000001C0000000C0000000E0000000
E0038000E0064000E00E2000700E2000700E2000700E200070071000700700003807000038
0700003803800038038000380380001C0380001C01C0001C01C0001C01C0001C01C0000E00
E000FFFFE0000E0000000E0000000E00000007000000070000000700000007003000030078
00038078000180380000E01000003FE0>
	 29 41 2 31 26] 12 @dc
@F12 @sf
[<
FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0FEFE>
	 7 45 -4 33 13] 91 @dc
[<
FEFE0606060606060606060606060606060606060606060606060606060606060606060606
060606060606FEFE>
	 7 45 -1 33 13] 93 @dc
@F12 @sf
[<
FFFFF0000F803C0007801F0007800F0007800F8007800780078007C0078007C0078007C007
8007C0078007C00780078007800F8007800F0007801E0007803C0007FFF00007803C000780
1E0007801F0007800F0007800F8007800F8007800F8007800F8007800F8007800F0007801F
0007801E000F803800FFFFE000>
	 26 31 -2 30 32] 66 @dc

5 @eop0

0 0 5 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F4 @sf(2.4.2)55 b(Directory)17 b(en)n(try)25 806 y 3 -150 z 
600 x 3 -150 z -300 x 3 -150 z -598 -148 a 1200 -3 z 1195 468 a @F14 @sf
(.)-12 37 y(.)-1212 b(.)-12 -37 y(.)-8 -20 y 3 -900 z 1 -898 a 1200 -3 z 
1198 898 a 3 -900 z -1198 -298 a 900 -3 z -450 w 1200 -3 z 388 392 a 
@F12 @sf(length)189 b(in)o(use)-897 18 y(12)540 638 y @F6 @sf(Diagram)15 b
(2)-805 -525 y(16)496 -581 y @F12 @sf(dir)s 14 -2 z 14 x(en)o(try)s 14 -2 z 
13 x(magic)-833 150 y @F6 @sf(4)-24 -150 y(0)-230 -169 y(Directory)g(en)o
(try)496 787 y @F12 @sf(name)-87 -393 y(\014d)-500 225 y(next)-481 751 y
(Explanations:)-204 122 y @F10 @sf(\017)23 b @F9 @sf(entry)s 14 -2 z 13 x
(magic)e @F12 @sf(is)f(a)g(consistency)h(c)o(hec)o(k/debugging)h(\015ag.)
34 b(Its)20 b(v)m(alue)i(m)o(ust)e(b)q(e)g @F7 @sf(ENTRY)s 14 -2 z 14 x
(MAGIC)f @F12 @sf(\(see)-1795 57 y(App)q(endix)e(F\).)e(When)g(a)g
(directory)h(en)o(try)f(is)h(freed,)g @F9 @sf(e.g.)p @F12 @sf(,)e(b)o(y)i
(a)f(call)h(to)f @F7 @sf(dir)s 14 -2 z 14 x(Delete)p @F12 @sf(,)f(this)i
(\014eld)h(will)-1794 56 y(b)q(e)f(set,)e(as)h(a)g(precaution,)g(to)g 
@F7 @sf(NON)s 14 -2 z 14 x(ENTRY)s 14 -2 z 13 x(MAGIC)g @F12 @sf(\(see)g
(App)q(endix)i(F\).)-1298 90 y @F10 @sf(\017)23 b @F9 @sf(\014d)11 b 
@F12 @sf(uniquel)q(y)i(iden)o(ti\014e)q(s)g(the)f(ob)s(ject)f(to)h(whic)o
(h)g(this)h(en)o(try)e(is)i(a)e(reference.)20 b(Its)12 b(format)e(is)j
(giv)o(en)f(ab)q(o)o(v)o(e.)-1842 89 y @F10 @sf(\017)23 b @F9 @sf(next)14 b 
@F12 @sf(is)i(a)f(p)q(oin)o(ter)g(to)g(the)g(next)g(en)o(try)g(in)h(a)f
(hash)g(c)o(hain.)21 b(It)15 b(is)g(the)h(n)o(um)o(b)q(er)f(of)g(a)g(blob)g
(on)h(the)f(same)-1796 57 y(page,)f(and)h(hence)h(its)f(v)m(alue)h(is)f
(in)g([1,)f(255].)19 b(When)c(an)f(en)o(try)h(is)g(freed,)g(if)g(it)g(b)q
(ecomes)g(the)g(start)e(of)i(a)-1796 56 y(free)g(area,)f(this)i(\014eld)g
(b)q(ecomes)g(a)f(p)q(oin)o(ter)h(to)e(the)h(next)h(area)e(on)h(the)h
(free)f(list.)-1443 89 y @F10 @sf(\017)23 b @F9 @sf(length)14 b @F12 @sf
(is)h(the)g(length,)h(in)g(pieces,)g(of)e(the)h(directory)g(en)o(try)l(.)
20 b(When)15 b(an)g(en)o(try)g(is)g(freed,)g(if)h(it)f(b)q(ecomes)-1795 
57 y(the)g(start)f(of)h(the)g(free)g(area,)f(this)i(\014eld)h(b)q(ecomes)e
(the)h(length)f(of)g(that)g(area.)-1394 89 y @F10 @sf(\017)23 b @F9 @sf
(inuse)17 b @F12 @sf(is)h(a)g(bit)g(that)f(is)i(v)m(alid)g(only)f(if)h
(the)f(piece)h(is)f(either)h(the)f(start)e(of)i(a)f(directory)i(en)o(try)e
(or)g(the)-1795 57 y(start)d(of)g(a)h(free)g(area.)20 b(If)15 b(it)h(is)f
(v)m(alid)q(,)h(it)f(is)h(true)f(for)g(directory)g(en)o(tries,)g(and)h
(false)f(for)g(free)g(areas.)-1732 73 y(By)d(using)h @F9 @sf(length)f 
@F12 @sf(and)h @F9 @sf(inuse)e @F12 @sf(\014elds,)j(w)o(e)e(can)h(tra)o(v)o
(erse)e(a)h(page)g(from)g(\014rst)g(piece)i(to)e(last,)g(en)o(umerating)
-1795 56 y(all)k(directory)f(en)o(tries)h(in)g(it)f(in)h(order)f(of)g
(address.)-998 125 y(2.4)29 b(Structures)650 b(5)542 b(Marc)o(h)14 b(2,)h
(1993)f(13:59)-1911 b
5 @eop1

6 @bop0
/@F8 @newfont
@F8 @sf
[<
81FF00E7FFC0FE01E0F80070E00078E00038C0003CC0003CC0003C00003C00007C0000FC00
07F800FFF807FFF00FFFF01FFFE03FFF807FFE007FC000FC0000F80000F00018F00018F000
387000387000783800F81E03F80FFF3803FC08>
	 22 31 -3 30 29] 83 @dc
[<
FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FF
00FF000000000000000000000000001C003E003F007F003F003E001C00>
	 11 33 -2 32 14] 105 @dc
[<
FFFFC0FFFFC07C03C03E01C03F00C01F80E00F806007C06003E06003F00001F80000F80060
7C00603E00603F00701F80380F803C07C03FFFE03FFFE0>
	 19 20 -1 19 23] 122 @dc
[<
00FF8007FFE00F80701E00183E00187C00007C0000FC0000FC0000FC0000FFFFF8FFFFF8FC
00F87C00F87C00F03E00F01E01E00F83C007FF8001FE00>
	 21 20 -1 19 24] 101 @dc
[<
01FF0007FFC01F83F03E00F83E00F87C007C7C007CFC007EFC007EFC007EFC007EFC007EFC
007E7C007C7C007C3E00F83E00F81F83F007FFC001FF00>
	 23 20 -1 19 26] 111 @dc
[<
3FFC003FFC0007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007
C00007C00007C00007C00007C00007C000FFFC00FFFC0007C00007C00007C00007C00007C0
0007C3C007C7E003C7E003E7E001F3E000FFC0001F80>
	 19 32 -1 31 16] 102 @dc
[<
03F8FF0FFEFF1F07F83E01F87E00F87C00F87C00F8FC00F8FC00F8FC00F8FC00F8FC00F8FC
00F87C00F87C00F87E00F83E01F81F83F80FFEF801F8F80000F80000F80000F80000F80000
F80000F80000F80000F80000F80000F80007F80007F8>
	 24 32 -2 31 29] 100 @dc
[<
FFF000FFF0001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F
00001F03001F8FC01E8FC01E8FC01ECFC0FE7F80FE3E00>
	 18 20 -2 19 22] 114 @dc
[<
01FC0007FF001F81C03F00C03E00607E00007C0000FC0000FC0000FC0000FC0000FC0000FC
00007C03007C0FC03E0FC03E0FC01F0FC007FF8001FE00>
	 19 20 -2 19 23] 99 @dc
[<
01F003F807CC0F860F860F860F860F860F800F800F800F800F800F800F800F800F800F80FF
FCFFFC3F800F800780038003800380018001800180>
	 15 29 -1 28 20] 116 @dc
[<
1E0000007F800000E1C00000C0E00000FC600000FC30000078300000001800000018000000
1C0000001C0000003E0000003E0000007F0000007F000000FF800000F9800001F9C00001F0
C00001F0C00003E0600003E0600007C0300007C030000F8018000F8018001F001C00FFE07F
80FFE07F80>
	 25 29 -1 19 28] 121 @dc
[<
FFE3FFFFE3FF1F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F
00F81F00F81F00F81E80F81EC0F81E61F0FE3FE0FE0FC0>
	 24 20 -3 19 29] 110 @dc
[<
C7F0FFFCF81EF006E007C007C007001F03FE1FFE3FFC7FF8FFC0F800E006E006600E701E3F
FE0FE6>
	 16 20 -2 19 21] 115 @dc
[<
387CFEFEFE7C38000000000000387CFEFEFE7C38>
	 7 20 -4 19 15] 58 @dc
@F12 @sf
[<
03000007800007800007800007800007800007800007800003800003800003800003800001
800001C00000C00000C0000040000040000020000020000010000008000008008004008002
008002004001007FFF807FFF807FFFC0400000>
	 18 31 -3 29 23] 55 @dc
@F4 @sf
[<
01FE000FFFC01E07F07801F87E01FCFF00FCFF00FEFF00FEFF00FE7E00FE3C00FE0000FC00
00FC0001F80001F00007C001FF0001FE00001F800007C00003E00003F01F03F01F03F83F81
F83F81F83F81F83F03F01E03F00F07E007FFC000FE00>
	 23 32 -2 31 28] 51 @dc
[<
FFE1FFC0FFE1FFC01F003E001F003E001F003E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E001F003E001F003E001F003E001F003E001F803E001F803E001F40
3C001F307C001F1FF8001F07E0001F0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F0000001F000000FF000000FF000000>
	 26 35 -2 34 31] 104 @dc
[<
07E03F1FF87F7E0CF87E02F0FC01F0FC01F0FC01F0FC01F07E01F03F01F01FC1F003FDF000
3FF00001F00001F01E01F03F01F03F01E03F03E03F07C01FFF8007FC00>
	 24 22 -2 21 27] 97 @dc
@F6 @sf
[<
FFFC3FFF0FC003F0078001E0078001E0078001E0078001E0078001E0078001E0078001E007
8001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E007FFFFE00780
01E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001
E0078001E0078001E0078001E0078001E00FC003F0FFFC3FFF>
	 32 34 -2 33 37] 72 @dc
@F9 @sf
[<
3C00000062000000F3000000798000003180000001C0000001C0000000C0000000E0000000
E001C000E0032000E007100070071000700710007007100070038800700380003803800038
0380003801C0003801C0003801C0001C01C0001C00E0001C00E0001C00E0001C00E0001E00
7000FFFFF0000E0070000E0070000E0038000E003800070038000700380007001C000300DC
000381FC000181FC0000E0EE00003FCE>
	 31 41 2 31 27] 13 @dc
@F9 @sf
[<
601E00E0310070310070708070708070708038384038700038700038E0001FC0001E00001D
00001C80000E40C00E21E00E11E00E08E00704200703C00700000700000380000380000380
0003800001C00001C00001C00001C0000FE00001E000>
	 19 32 -3 31 21] 107 @dc
@F8 @sf
[<
FFFFFF80FFFFFF8007E01F8007E00F8007E0038007E0038007E001C007E001C007E001C007
E000C007E000C007E000C007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E000
0007E00000FFFF8000FFFF8000>
	 26 31 -2 30 31] 76 @dc
[<
FFE3FF8FFEFFE3FF8FFE1F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F00
7C01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F007C01F01F807E01
F01E807E01F01E407D01F01E70F9C3E0FE1FF07FC0FE0FE03F80>
	 39 20 -3 19 44] 109 @dc
@F8 @sf
[<
FFFF8000FFFF800007E0000007E0000007E0000007E0000007E0000007E0000007E0000007
E0000007E0600007E0600007E0600007E0E00007E1E00007FFE00007FFE00007E1E00007E0
E00007E0600007E0603007E0603007E0003007E0003007E0007007E0006007E000E007E001
E007E007E0FFFFFFE0FFFFFFE0>
	 28 31 -2 30 33] 70 @dc
[<
FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F00FF00FF00>
	 11 32 -2 31 14] 108 @dc
[<
0FE07E3FF8FE7E0DE0FC05E0F803E0F803E0F803E07C03E03C03E01F03E007FBE0007FE000
03E00C03E03F03E03F03E03F07C03F0F801FFF0007FC00>
	 23 20 -1 19 25] 97 @dc
[<
01FF000FFFE03F01F878003C78003CF0001EF0001EF0001E70003E3C007C1FFFFC07FFF80F
FFF01FFF801C000018000018000009FC000FFF000F07801E03C03E03E03E03E03E03E03E03
E03E03E01E03DE0F079E07FFFE01FC3C>
	 23 30 -1 19 26] 103 @dc
@F8 @sf
[<
FFFF0000FFFF000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007
E0000007E0000007E0000007E0000007E0000007FFFE0007FFFF8007E00FE007E003F007E0
01F807E001F807E001FC07E001FC07E001FC07E001FC07E001FC07E001F807E001F807E003
F007E00FE0FFFFFF80FFFFFE00>
	 30 31 -2 30 36] 80 @dc
@F8 @sf
[<
FFFFFF80FFFFFF80>
	 25 2 0 12 26] 123 @dc

6 @eop0

0 0 6 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1840 145 y @F10 @sf(\017)23 b @F9 @sf(name)15 b @F12 @sf(is)g(the)h(name)f
(b)o(y)g(whic)o(h)h(the)f(en)o(try)g(is)h(accessed.)k(It)c(is)f
(terminated)h(b)o(y)f(a)g(n)o(ull)h(c)o(haracter.)-1761 94 y @F10 @sf(\017)
23 b @F8 @sf(Size)i(of)g(directory)f(en)o(tries:)32 b @F12 @sf(The)22 b
(minim)o(um-size)q 22 x(one-piec)q(e)h(en)o(try)e(has)g(ro)q(om)g(for)g
(17)g(b)o(ytes)-1796 56 y(of)c(name)g(\(includi)q(ng)i(the)e(terminating)h
(n)o(ull)h(b)o(yte\),)e(after)f(subtracting)i(the)f(15)g(b)o(ytes)g(of)g
(o)o(v)o(erhead)-1796 57 y(describ)q(ed)g(ab)q(o)o(v)o(e)e(from)f(the)h
(32-b)o(yte)g(piece)i(size.)-988 161 y @F4 @sf(2.4.3)55 b(Directory)17 b
(header)-477 487 y 3 -300 z 1 -298 a 1200 -3 z 1198 148 a 3 -150 z -1198 
152 a 300 -3 z 299 -2 a 3 -150 z -299 -148 a 1200 -3 z 300 150 a 900 -3 z 
898 -2 a 3 -150 z -599 x 3 -150 z -674 -206 a @F6 @sf(0)-24 150 y(4)-61 
-300 y(Directory)e(Header)232 150 y @F12 @sf(dir)s 14 -2 z 14 x(magic)-582 
150 y(\015ist)171 b(pnhimark)279 b(pgcoun)o(t)-496 281 y @F6 @sf(Diagram)
16 b(3)-805 95 y @F12 @sf(Explanations:)-204 146 y @F10 @sf(\017)23 b 
@F9 @sf(dir)s 14 -2 z 14 x(magic)11 b @F12 @sf(is)g(a)g(consistency)h(c)o
(hec)o(k/debugging)f(\015ag.)19 b(Its)10 b(v)m(alue)j(m)o(ust)d(b)q(e)h 
@F7 @sf(DIR)s 14 -2 z 14 x(MAGIC)f @F12 @sf(\(see)h(App)q(endi)q(x)-1794 
56 y(F\).)-107 94 y @F10 @sf(\017)23 b @F9 @sf(\015ist)14 b @F12 @sf(is)i
(the)f(head)h(of)e(the)i(free)f(list)h(for)f(the)g(page.)-913 94 y @F10 @sf
(\017)23 b @F9 @sf(pnhimark)15 b @F12 @sf(is)h(the)f(high-w)o(ater)g(mark)g
(of)g(pieces)h(holding)h(v)m(alid)g(data)d(on)h(the)h(\014rst)e(page.)-1612 
94 y @F10 @sf(\017)23 b @F9 @sf(p)n(gc)n(ount)14 b @F12 @sf(giv)o(es)i
(the)f(n)o(um)o(b)q(er)h(of)e(pages)h(in)h(the)g(directory)l(.)-1059 94 y 
@F10 @sf(\017)23 b @F8 @sf(Limit)18 b(on)e(size)h(of)g(directories:)j 
@F9 @sf(p)n(gc)n(ount)14 b @F12 @sf(is)h(an)f(unsigned)i(in)o(teger)f(t)o
(w)o(o)e(b)o(ytes)h(wide.)21 b(Th)o(us)14 b(there)-1795 56 y(can)f(b)q(e)g
(no)g(more)g(than)g(64K)f(pages)h(in)h(a)f(directory)l(.)19 b(Eac)o(h)13 b
(page)g(can)g(ha)o(v)o(e)f(up)i(to)e(256)g(\(actually)i(251\))-1797 56 y
(en)o(tries;)19 b(so)f(there)g(can)g(b)q(e)h(no)f(more)f(than)h(16M)f(en)o
(tries)i(in)g(a)e(directory)l(.)29 b(A)o(t)18 b(32)f(b)o(ytes)h(p)q(er)g
(piece,)-1794 57 y(this)d(is)h(512M)e(b)o(ytes.)-422 94 y @F10 @sf(\017)
23 b @F8 @sf(F)l(ree)f(list)j(managemen)o(t:)31 b @F12 @sf(The)20 b(free)h
(list)h(is)f(k)o(ept)f(in)i(increasing)g(order)e(of)g(address.)37 b(When)
21 b(a)-1796 56 y(directory)15 b(en)o(try)g(is)h(freed,)f(it)g(is)h
(coalesced)g(if)g(p)q(ossible)h(with)e(free)g(areas)g(b)q(efore)h(and/or)e
(after)h(it.)-1776 94 y @F10 @sf(\017)23 b @F8 @sf(Piece)17 b(allo)q 1 x
(ca)q(tio)q(n)i(strategy:)g @F12 @sf(Tw)o(o)14 b(p)q(olic)q(ies)j(are)e(w)o
(orth)f(noting:)-1154 94 y @F8 @sf({)23 b @F12 @sf(Directories)17 b(are)f
(nev)o(er)h(reorganized)g(in)h(an)o(y)e(w)o(a)o(y)g(for)g(an)o(y)g
(reason.)24 b(Empt)o(y)16 b(space)h(can)g(accu-)-1695 56 y(m)o(ulate,)h
(due)g(to)g(deletions,)h(and)f(ev)o(en)g(whole)h(pages)f(can)g(b)q(ecome)g
(empt)o(y)g(\(except)g(for)f(their)-1695 57 y(headers\).)-394 201 y(2.4)
29 b(Structures)650 b(6)542 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
6 @eop1

7 @bop0
@F4 @sf
[<
FFE00000FFE000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F
0000001F0FC0001F3FF8001FE0FC001FC03E001F803F001F001F801F001F801F000FC01F00
0FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F001F801F001F801F001F
001F803E001FF07C00FF3FF800FF0FE000>
	 26 32 -2 21 31] 112 @dc
[<
01FF000FFFE03F01F87C007C78003CF0001EF0001EF0001EF0001E70003E3800FC1FFFFC0F
FFF81FFFF03FFF8038000030000030000013FC001FFF001F0F803E07C03C03C07C03E07C03
E07C03E07C03E07C03E03C03C03E07CF1F0F8F0FFF7F03FC1E>
	 24 33 -2 21 28] 103 @dc
[<
2070181C0C06060703033B7FFFFFFE7C38>
	 8 17 -4 6 16] 44 @dc
[<
01FC3FC007FF3FC00F81BE001F00FE001F007E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F00
3E001F003E00FF01FE00FF01FE00>
	 26 22 -2 21 31] 117 @dc
[<
0000FFE00000FFE000001F0000001F0000001F0000001F0000001F0000001F0000001F0000
001F0001FC1F0007FF9F000FC1DF001F007F003E003F007E001F007E001F00FC001F00FC00
1F00FC001F00FC001F00FC001F00FC001F00FC001F007C001F007E001F007E003F003F003F
001F006F000FC1C70007FF870000FE0300>
	 27 32 -2 21 30] 113 @dc
@F6 @sf
[<
FFFC00000FC000000780000007800000078000000780000007800000078000000780000007
80000007800000078000000780000007800000078000000780000007FFF00007803C000780
0F0007800780078007C0078003C0078003E0078003E0078003E0078003E0078003E0078003
E0078003C0078007C00780078007800F000F803C00FFFFF000>
	 27 34 -2 33 33] 80 @dc
@F7 @sf
[<
FF8000FF8000FF80001C00001C00001C00001C00001C00001C00001C00001C00001FFE001F
FF801FFFC01C03C01C01E01C00E01C00701C00701C00701C00701C00701C00E01C01E01C03
C0FFFFC0FFFF80FFFE00>
	 20 28 -1 27 24] 80 @dc
@F4 @sf
[<
03F8000FFF001C1F803007C07007E0FC03F0FC03F0FE03F8FE03F87C03F83803F80003F800
03F80003F00003F01803E01807E01E0FC01FFF0019FC001800001800001800001800001BC0
001FF8001FFE001FFF001FFF801FFFC01E01E0100020>
	 21 32 -3 31 28] 53 @dc
[<
C00000E00000E000007000007000003800003800003800001C00001C00000E00000E00000E
000007000007000007000003800003800001C00001C00001C00000E00000E0000070000070
00007000003800003800001C00001C00001C00000E00000E00000700000700000700000380
0003800003800001C00001C00000E00000E00000E0000070000070000038000038000018>
	 21 49 -3 36 28] 47 @dc
[<
FFFF8000FFFF800007F0000007F0000007F0000007F0000007F0000007F0000007F0000007
F0000007F0000007F0000007F0000007F0000007F0000007FFFF0007FFFFE007F007F007F0
01FC07F000FC07F0007E07F0007E07F0007F07F0007F07F0007F07F0007F07F0007F07F000
7E07F0007E07F000FC07F001FC07F007F0FFFFFFE0FFFFFF00>
	 32 34 -2 33 38] 80 @dc
[<
FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FF00FF00>
	 11 35 -2 34 16] 108 @dc
@F6 @sf
[<
FFE0FFE0>
	 11 2 -1 11 16] 45 @dc
[<
C00000C00000C000006000006000006000003000003000003000001800001800001800000C
00000C00000C00000600000600000600000300000300000300000180000180000180000180
0000C00000C00000C000006000006000006000003000003000003000001800001800001800
000C00000C00000C00000600000600000600000300000300000300000180000180000080>
	 17 49 -3 36 24] 47 @dc
[<
083F000C41C00C80600F00700E00380E003C0E001C0E001E0E001E0E001E0E001E0E001E0E
001E0E001E0E001C0E003C0E00380F00300E80600E61C00E1F000E00000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E00001E0000FE00000E0000>
	 23 35 -1 34 27] 98 @dc
[<
03F0000C1C001006002007004003804003C08001C0E001C0F001E0F001E07001E00001E000
01E00001E00001E00001C00001C0100380180380140700130E0010F8001000001000001000
0010000010000010000013E0001FF8001FFE001FFF001E0700100080>
	 19 34 -2 32 24] 53 @dc
@F9 @sf
[<
FFFF000003E0000001E0000001E0000001E0000001E0000000F0000000F0000000F0000000
F0000000780000007800000078000000780000003C0000003C0000003C0000003C0000001E
0000001E0000001E0000801E0040400F0020400F0020600F0020200F002020078020100780
20180780201E0780E00FFFFFF0>
	 28 31 -8 30 33] 84 @dc

7 @eop0

0 0 7 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1743 145 y @F8 @sf({)23 b @F12 @sf(The)d(searc)o(h)g(for)g(con)o(tiguous)h
(pieces)h(to)d(mak)o(e)h(an)h(en)o(try)f(pro)q(ceeds)h(linearly)l(,)i
(from)d(page)g(to)-1696 57 y(page,)c(and)h(from)g(the)g(b)q(eginnin)q(g)h
(to)e(end)h(within)h(a)f(page.)25 b(Th)o(us,)17 b(a)f(new)h(page)g(will)i
(nev)o(er)e(b)q(e)-1695 56 y(allo)q(cated,)d(if)f(enough)g(empt)o(y)g
(space)g(is)h(a)o(v)m(ailable)g(on)f(an)g(existing)h(page;)f(and)g(if)h
(more)e(than)h(one)-1695 56 y(area)h(of)h(empt)o(y)g(space)g(is)h(a)o(v)m
(ailable)h(for)d(an)i(en)o(try)l(,)e(the)i(\014rst)e(one)i(is)f(alw)o(a)o
(ys)g(c)o(hosen.)-1707 161 y @F4 @sf(2.4.4)55 b(Directory)17 b(page)i
(header,)e(subsequen)n(t)i(pages)-970 488 y 3 -300 z 1 -299 a 1200 -3 z 
1198 149 a 3 -150 z -1198 151 a 300 -3 z 298 -1 a 3 -150 z -298 -149 a 1200 
-3 z -1 149 a 3 -300 z 1 -299 a 1200 -3 z 1198 149 a 3 -150 z -1198 151 a 
300 -3 z 298 -1 a 3 -150 z -298 -149 a 1200 -3 z -1 149 a 3 -300 z 1 -299 a 
1200 -3 z 1198 149 a 3 -150 z -1198 151 a 300 -3 z 298 -1 a 3 -150 z -298 
-149 a 1200 -3 z -75 -58 a @F6 @sf(0)-24 150 y(4)-155 -300 y(P)o(age)e
(Header)442 506 y(Diagram)f(4)-617 -206 y @F12 @sf(\015ist)264 -150 y(dir)s 
14 -2 z 14 x(page)s 14 -2 z 13 x(magic)-951 452 y(Simil)q(ar)h(to)f(the)g
(directory)h(header)f(on)h(the)f(\014rst)g(page,)g(but)h(there)f(are)g(no)g 
@F9 @sf(p)n(gc)n(ount)g @F12 @sf(and)h @F9 @sf(pnhimark)g @F12 @sf(\014elds.)
-1909 57 y(Explanations:)-204 145 y @F10 @sf(\017)23 b @F9 @sf(dir)s 14 
-2 z 14 x(p)n(age)s 14 -2 z 13 x(magic)c @F12 @sf(is)f(a)g(consistency)h
(c)o(hec)o(k/debugging)g(\015ag.)29 b(Its)18 b(v)m(alue)h(m)o(ust)f(b)q(e)h 
@F7 @sf(DIR)s 14 -2 z 14 x(PAGE)s 14 -2 z 13 x(MAGIC)-1796 56 y @F12 @sf
(\(see)c(App)q(endix)i(F\).)-474 161 y @F4 @sf(2.4.5)55 b(Directory/P)n
(age)18 b(header)g(and)h(hash)g(table)-834 207 y 1206 -3 z 300 w 3 -300 z 
1203 x 3 -300 z -1203 3 a 1206 -3 z 3 -149 a 1200 -3 z 338 -58 a @F12 @sf
(Directory)14 b(or)h(P)o(age)g(Header)-378 150 y(Hash)g(T)l(able)-974 -19 y 
@F6 @sf(pieces)g(1-4)-205 -131 y(piece)g(0)-127 -169 y(Directory/P)o(age)h
(Header)f(and)i(Hash)g(T)l(able)-79 544 y(Diagram)f(5)-1011 95 y @F12 @sf
(Explanations:)-204 146 y @F10 @sf(\017)23 b @F9 @sf(hashT)m(able)14 b 
@F12 @sf(is)h(a)g(table)h(of)f(heads)g(of)g(hash)g(c)o(hains.)21 b(It)15 b
(has)g(128)g(slots.)-1328 173 y(2.4)29 b(Structures)650 b(7)542 b(Marc)o
(h)14 b(2,)h(1993)f(13:59)-1911 b
7 @eop1

8 @bop0
@F8 @sf
[<
FFFF0FFFF0FFFF0FFFF007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0
007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E
0007FFFFFE0007FFFFFE0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007
E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E0007E00FFFF0F
FFF0FFFF0FFFF0>
	 36 31 -2 30 41] 72 @dc
[<
FFE3FFFFE3FF1F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F
00F81F00F81F00F81F80F81FC0F81F61F01F3FE01F0FC01F00001F00001F00001F00001F00
001F00001F00001F00001F00001F0000FF0000FF0000>
	 24 32 -3 31 29] 104 @dc
[<
03F8FF07FCFF0F06F81F01F81F01F81F00F81F00F81F00F81F00F81F00F81F00F81F00F81F
00F81F00F81F00F81F00F81F00F81F00F8FF07F8FF07F8>
	 24 20 -3 19 29] 117 @dc
@F3 @sf
[<
00FF800003FFF0000FFFF8001F01FE003C007F0078003F8078003F80FC001FC0FE001FC0FE
001FE0FE001FE0FE001FE07C001FE018001FE000001FE000001FE000001FC000001FC00000
1F800C003F000E003E000F80FC000FFFF8000E7FC0000E0000000E0000000E0000000E0000
000E0000000E0000000FFE00000FFFC0000FFFE0000FFFF0000FFFF8000FFFFC000FFFFE00
0F803F000C000300>
	 27 39 -3 38 34] 53 @dc
[<
FFFFFCFFFFFCFFFFFC01FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001
FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE
0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE00
01FE00FFFFFCFFFFFCFFFFFC>
	 22 41 -2 40 26] 73 @dc
[<
FFFE1FFFC3FFF8FFFE1FFFC3FFF8FFFE1FFFC3FFF80FE001FC003F800FE001FC003F800FE0
01FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC
003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F
800FE001FC003F800FE001FC003F800FE001FC003F800FF001FE003F800FF001FE003F800F
D801FF003F800FCC01F9803F000FC603F8C07F00FFC383F0707E00FFC1FFE03FFC00FFC07F
800FF000>
	 53 27 -3 26 58] 109 @dc
[<
FFFE000000FFFE000000FFFE0000000FE00000000FE00000000FE00000000FE00000000FE0
0000000FE00000000FE00000000FE00000000FE00000000FE1FC00000FE7FF80000FFE0FE0
000FF803F0000FF001F8000FE001FC000FE000FE000FE000FF000FE000FF000FE0007F000F
E0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE0007F800FE000
7F000FE0007F000FE000FF000FE000FE000FE000FC000FF001F8000FF803F000FFFE07E000
FFE7FF8000FFE1FE0000>
	 33 39 -2 26 38] 112 @dc
[<
003FC3FF8000FFF3FF8003F03BFF8007C00FF8000F8007F8001F8003F8003F8003F8007F00
03F8007F0003F8007F0003F800FF0003F800FF0003F800FF0003F800FF0003F800FF0003F8
00FF0003F800FF0003F8007F0003F8007F0003F8007F0003F8003F8003F8001F8003F8000F
C007F80007E00FF80003F03FF80000FFFBF800001FE3F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F80000003FF80000003FF80000003FF800>
	 33 42 -2 41 38] 100 @dc
[<
7FFF807FFF807FFF8007F00007F00007F00007F00007F00007F00007F00007F00007F00007
F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F000FFFF
C0FFFFC0FFFFC007F00007F00007F00007F00007F00007F00007F00007F03E07F07F03F07F
03F87F01F87F00FE3E003FFC0007F0>
	 24 42 -2 41 21] 102 @dc
/@F13 @newfont
@F13 @sf
[<
07C7E00FE7F01FFFE03C1F00700F00700F00E00700E00700E00700E00700E00700E0070070
0700780F003C1F001FFF000FF70003C700000700000700000700000700003F00007F00003F
00>
	 20 25 -1 24 22] 100 @dc
[<
7FFFFFFF7FFF01C001C001C001C001C001C001C001C001C001C001C001C07FC07FC07FC000
00000000000000018003C003C00180>
	 16 26 -3 25 22] 105 @dc
[<
FFFC00FFFC00FFFC0007000007000007000007000007000007000007000007000007800007
800007C00007F040FF7FE0FF3FE0FF0FC0>
	 19 18 -1 17 22] 114 @dc
[<
063C000EFF000FFF800F83C00F01E00E00E00E00700E00700E00700E00700E00700E00700E
00E00F00E00F83C00FFF800EFF000E3E000E00000E00000E00000E00007E0000FE00007E00
00>
	 20 25 0 24 22] 98 @dc
[<
FFFF80FFFF80FFFF80>
	 17 3 -2 -2 22] 95 @dc
[<
7F03C0FF87E07F07E01C0E701C0E701C0E201C0E001C0E001C0E001C0E001C1C001FFC001F
F8001FFC001C1E001C0F001C07001C07001C07001C07001C0F001C1E007FFC00FFF8007FE0
00>
	 20 25 -1 24 22] 82 @dc
[<
03F00FFC1FFE3C0F78077007E000E000FFFFFFFFFFFFE0077007780E3C1E1FFC0FF803E0>
	 16 18 -3 17 22] 101 @dc
[<
0F83E03FE7E07FFFE0783E00E00E00E00E00E00E00700E003E0E001FFE0003FE00000E0000
0E00300E00783C007FF8003FF0001FE000>
	 19 18 -2 17 22] 97 @dc
[<
7F0F00FF9F007F1F001C17001C37001C37001C37001C77001C77001C67001C67001CE7001C
E7001CE7001CC7001CC7001DC7001DC7001D87001D87001D87001D07007F1FC0FF3FE07E1F
C0>
	 19 25 -1 24 22] 78 @dc
[<
0F1E000F1E000F1E001DB7001DB7001DB7001DB70019B30019F30019F30038E38038038038
0380380380380380FF1FE0FFBFE0FF1FE0>
	 19 18 -1 17 22] 119 @dc
[<
FFFF80FFFF80FFFF8001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C000FFC000FFC000FFC0
00>
	 17 25 -2 24 22] 108 @dc
[<
C7E0FFF8FFFCF81EF00EE00E600E003C07F81FF07F807000E01CE01CF03C7FFC3FFC0FEC>
	 15 18 -3 17 22] 115 @dc
@F3 @sf
[<
003FC00000FFF00003FFFC0007E07E000FC03F001F803F801F801FC03F001FC03F001FE07F
001FE07F001FE07F001FE07F001FE0FF001FE0FF001FE0FF001FE0FF001FC0FF801FC0FF80
1F80FFC03F00FFC03E00FF707C00FF3FF800FF0FC000FF0000007F0000007F0000007F0000
003F8000003F801F001F803F801FC03F800FC03F8007E03F8003F01F8001FC0F0000FFFE00
003FFC000007F000>
	 27 39 -3 38 34] 54 @dc
[<
FFFFFFFFF0FFFFFFFFF0FFFFFFFFF003FC001FF803FC0003F803FC0001F803FC0000F803FC
00007803FC00003803FC00003C03FC00001C03FC00001C03FC00001C03FC01C01C03FC01C0
0E03FC01C00E03FC01C00E03FC03C00003FC03C00003FC0FC00003FFFFC00003FFFFC00003
FFFFC00003FC0FC00003FC03C00003FC03C00003FC01C03803FC01C03803FC01C03803FC01
C07803FC00007003FC00007003FC00007003FC0000F003FC0001F003FC0001F003FC0007F0
03FC001FE0FFFFFFFFE0FFFFFFFFE0FFFFFFFFE0>
	 39 41 -3 40 45] 69 @dc
[<
FFF01FFF80FFF01FFF80FFF01FFF8003C007F00001C00FE00001E01FE00000F01FC0000078
3F8000003C7F0000001EFE0000001FFE0000000FFC00000007F800000007F00000000FF000
00000FF00000001FF00000003FF80000007F3C000000FF1E000000FE0F000001FC07800003
F807800007F003C000FFFC0FFF00FFFC0FFF00FFFC0FFF00>
	 33 27 -1 26 36] 120 @dc
@F4 @sf
[<
00FF0003FFC00783E00F00F01E00F83E007C3C007C7C007E7C007E7C007EFC007EFC007EFC
007EFC007EFE007CFE007CFF00F8FD80F0FCFFE0FC7FC0FC08007C00007C00007E00F03E01
F83E01F81F01F80F01F807C0F003F07000FFE0001F80>
	 23 32 -2 31 28] 54 @dc
[<
0003FE0000001FFFC00000FF00F00001F800380003F0000C0007C00006000F800003001F80
0003003F000003803F000001807F000001807E000001807E00000000FE00000000FE000000
00FE00000000FE00000000FE00000000FE00000000FE00000000FE000000007E000001807E
000001807F000001803F000003803F000003801F800007800F8000078007C0000F8003E000
1F8001F8003F8000FF01E380001FFF81800003FE0080>
	 33 34 -3 33 40] 67 @dc
@F12 @sf
[<
FFFFFFFFFFF0>
	 44 1 0 12 45] 124 @dc
@F13 @sf
[<
7FC7F0FFE7F87FC7F00E03800E03800E03800E03800E03800E03800E03800E03800E03800E
03800F03800F87807FFF00FEFE007E3C00>
	 21 18 0 17 22] 110 @dc
[<
00F80001FC0003FE0007870007038007038007038007010007000007000007000007000007
0000070000070000FFFF00FFFF007FFF00070000070000070000070000030000>
	 17 23 -1 22 22] 116 @dc
@F8 @sf
[<
0007FC00003FFF8000FE01C003F0007007E000380FC000181F80000C3F00000C3F0000067F
0000067E0000067E000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
00007E0000067E0000067F0000063F00000E3F00000E1F80001E0FC0001E07E0003E03F000
FE00FE03DE003FFF0E0007FC02>
	 31 31 -3 30 38] 67 @dc
@F13 @sf
[<
00E001E0038007000E001C001C0038003800700070007000E000E000E000E000E000E000E0
00E000E000700070007000380038001C001C000E000700038001E000E0>
	 11 33 -6 28 22] 40 @dc
[<
FFFEFFFEFFFE03800380038003800380038003800380038003800380038003800380038003
80038003800380FFFEFFFEFFFE>
	 15 25 -3 24 22] 73 @dc
[<
03E3F007FBF80FFFF00E0F800E03800E03800E03800E03800E03800E03800E03800E03800E
03800E03800E03807E1F80FE3F807E1F80>
	 21 18 0 17 22] 117 @dc
[<
03F00FF81FFC3E0E78077007F000E000E000E000E000E0007000780C3C1E1FFE0FFC03F8>
	 16 18 -3 17 22] 99 @dc
[<
7FF800FFFE007FFF001C0F801C07801C03C01C01C01C01C01C00E01C00E01C00E01C00E01C
00E01C00E01C00E01C00E01C01E01C01C01C01C01C03C01C07801C0F007FFF00FFFE007FF8
00>
	 19 25 0 24 22] 68 @dc
[<
7F1FC0FFBFE07F1FC01C07001C07001C07001C07001C07001C07001C07001C07001C07001F
FF001FFF001FFF001C07001C07001C07001C07001C07001C07001C07007F1FC0FFBFE07F1F
C0>
	 19 25 -1 24 22] 72 @dc
[<
01C00001C00001C00001C00071C700F9CF807FFF001FFC0007F00007F0001FFC007FFF00F9
CF8071C70001C00001C00001C00001C000>
	 17 18 -2 21 22] 42 @dc
[<
40E070381C1C3C7C7C78380000000000000000387C7C7C38>
	 6 24 -7 17 22] 59 @dc
[<
7FC7F0FFE7F87FC7F00E03800E03800E03800E03800E03800E03800E03800E03800E03800E
03800F03800F87800FFF000EFE000E3C000E00000E00000E00000E00007E0000FE00007E00
00>
	 21 25 0 24 22] 104 @dc
[<
FE3C78FE7CF8FE7CF83870E03870E03870E03870E03870E03870E03870E03870E03870E038
70E03C78E03C78E0FFFFE0FFEFC0F9C380>
	 21 18 0 17 22] 109 @dc
[<
7FC000FFE0007FC0000E00000E00000E00000E00000E00000E00000E3C000EFF000FFF800F
83C00F01E00E00E00E00700E00700E00700E00700E00700E00700E00E00F00E00F83C07FFF
80FEFF007E3E00>
	 20 27 0 17 22] 112 @dc
[<
00E00001F00001F00003B80003B80003B800071C00071C00071C00071C000E0E000E0E000E
0E001E0F001C07007F1FC0FF1FE07F1FC0>
	 19 18 -1 17 22] 118 @dc
[<
03E0000FF8001FFC003C1E00780F00700700F00780E00380E00380E00380E00380E0038070
0700780F003C1E001FFC000FF80003E000>
	 17 18 -2 17 22] 111 @dc
[<
FF8000FFC000FF80001C00001C00001C00001C00001C00001C00001C1C001C1C001FFC001F
FC001FFC001C1C001C1C001C00001C00001C00E01C00E01C00E01C00E0FFFFE0FFFFE0FFFF
E0>
	 19 25 -1 24 22] 70 @dc
[<
3FFE007FFF003FFE0001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C000FFFF00FFFF007FFF0001C00001C00001C30001E78000FF80007F80001F
00>
	 17 25 -1 24 22] 102 @dc
[<
03F8000FFE003FFF807C07C07001C0E000E0E000E0E000E0E000E07803C03FFF801FFF001F
FC001800003800001BE0001FF0000FF8001C1C00380E00380E00380E00380E00380E001C1C
C00FFFE007F7E003E3C0>
	 19 28 -1 17 22] 103 @dc
[<
07FC000FFE0007FC0000E00000E00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E00000E00000E00000E000E0E0E0E0E0E0E0E0E0E0E0E0FFFFE0FFFFE07FFF
E0>
	 19 25 -1 24 22] 84 @dc
[<
C000E000700038001C000E000E000700070003800380038001C001C001C001C001C001C001
C001C001C0038003800380070007000E000E001C0038007000E000C000>
	 10 33 -5 28 22] 41 @dc
@F7 @sf
[<
7FC3FCFFE7FE7FC3FC0E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E
00E00E00E00F00E00F80E00FC1C07FFFC0FEFF807E3E00>
	 23 20 0 19 24] 110 @dc
@F7 @sf
[<
7FFF007FFF007FFF0001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C000FFFFC0FFFFC07FFFC001C00001C00001C00001C0C000E1
E000FFE0007FC0001F80>
	 19 28 -1 27 24] 102 @dc
@F8 @sf
[<
FFFFFE0000FFFFFFC00007E007F00007E001F80007E000FC0007E0007E0007E0003F0007E0
003F0007E0001F8007E0001F8007E0001F8007E0001FC007E0001FC007E0001FC007E0001F
C007E0001FC007E0001FC007E0001FC007E0001FC007E0001FC007E0001F8007E0001F8007
E0001F8007E0003F0007E0003F0007E0007E0007E000FC0007E001F80007E007F000FFFFFF
C000FFFFFE0000>
	 34 31 -2 30 40] 68 @dc
[<
FFE000FFE0001F00001F00001F00001F00001F00001F00001F00001F1F801F7FE01FC1F81F
80FC1F007C1F007E1F003E1F003F1F003F1F003F1F003F1F003F1F003F1F003E1F007E1F00
7E1F80FC1FE1F8FF7FF0FF1FC0>
	 24 29 -2 19 29] 112 @dc

8 @eop0

0 0 8 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1840 145 y @F10 @sf(\017)23 b @F8 @sf(Hash)18 b(function:)k @F12 @sf(the)
15 b(hash)h(function)h(has)e(128)g(p)q(ossible)i(v)m(alues.)23 b(The)16 b
(hash)f(table)h(has)g(one)g(en)o(try)-1796 57 y(for)f(eac)o(h)h(p)q
(ossible)i(v)m(alue.)23 b(Eac)o(h)16 b(en)o(try)g(is)g(one)g(b)o(yte;)g
(it)g(is)h(the)f(piece)h(n)o(um)o(b)q(er)g(\(within)f(the)h(curren)o(t)-1796 
56 y(page\))d(of)h(the)g(\014rst)g(piece)i(of)e(the)g(\014rst)g(directory)g
(en)o(try)g(on)g(the)g(hash)h(c)o(hain.)-1476 182 y @F3 @sf(2.5)70 b(Imp)r
(orted)22 b(functions)-736 141 y @F12 @sf(F)l(rom)14 b(the)i(Directory)f
(Bu\013er)g(pac)o(k)m(age:)-618 135 y @F13 @sf(dirb_Read)-198 45 y
(dirb_New)-176 46 y(dirb_Releas)o(e)-350 245 y @F3 @sf(2.6)70 b(Exp)r
(orted)23 b(functions)-734 140 y @F4 @sf(2.6.1)55 b(dir)s 17 -2 z 17 x
(Create)33 b @F12 @sf(|)16 b(Create)f(an)g(en)o(try)f(in)j(a)d(directory)l
(.)-1125 202 y @F13 @sf(int)21 b @F8 @sf(dir)s 16 -2 z 16 x(Create)p 
@F13 @sf(\()-346 56 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*dir;)-562 
57 y(IN)g(char)g(*name;)-306 56 y(IN)g(epi)s 13 -2 z 12 x(volFileId)s 13 
-2 z 11 x(t)h(*fid;)-512 57 y(IN)f(logTranRec)r 13 -2 z 12 x(t)h(tranId;)
-497 56 y(\))-22 202 y @F8 @sf(P)o(arameters)-192 108 y @F7 @sf(dir)g 
@F12 @sf(-)31 b(directory)15 b(in)h(whic)o(h)g(an)g(en)o(try)e(is)i(to)f
(b)q(e)g(created.)-1018 75 y @F7 @sf(name)22 b @F12 @sf(-)31 b(name)15 b
(of)g(the)g(en)o(try)l(.)-528 75 y @F7 @sf(fid)22 b @F12 @sf(-)31 b(ob)s
(ject)15 b(to)f(whic)o(h)i(the)f(en)o(try)g(is)h(to)e(refer.)-864 76 y 
@F7 @sf(tranId)22 b @F12 @sf(-)31 b(transaction)14 b(ID.)-583 170 y @F8 @sf
(Description)-262 95 y @F12 @sf(This)d(function)h(assumes)f(that)f(no)h
(en)o(try)f(of)g(the)h(giv)o(en)h(name)e(already)i(exists)f(in)g(the)g
(directory)l(.)19 b(It)11 b(creates)f(an)-1909 57 y(en)o(try)k(with)h(the)g
(giv)o(en)g(name.)k(The)c(sub\014eld)q(s)g(of)g(its)f @F9 @sf(\014d)h 
@F12 @sf(\014elds)g(are)g(copied)g(from)f(corresp)q(onding)i(sub\014elds)
-1908 56 y(of)f(the)g @F7 @sf(fid)g @F12 @sf(parameter.)-433 129 y(2.6)29 b
(Exp)q(orted)16 b(functions)474 b(8)542 b(Marc)o(h)14 b(2,)h(1993)f(13:59)
-1911 b
8 @eop1

9 @bop0
@F8 @sf
[<
FFFF007F80FFFF01FFC007E003F86007E007F03007E00FE03007E00FE00007E00FE00007E0
0FE00007E00FC00007E00FC00007E00FC00007E00F800007E00F800007E01F000007E03E00
0007FFFC000007FFFF000007E01FC00007E007E00007E003F00007E003F00007E003F80007
E003F80007E003F80007E003F80007E003F00007E003F00007E007E00007E01FC000FFFFFF
0000FFFFF80000>
	 36 31 -2 30 39] 82 @dc
@F7 @sf
[<
FFFE00FFFF80FFFFC01C03E01C00E01C00F01C00701C00701C00701C00701C00F01C00E01C
03C01FFFC01FFF001FFF801C07C01C01C01C01E01C00E01C00E01C00E01C00E01C01C01C03
C0FFFF80FFFF00FFFC00>
	 20 28 -1 27 24] 66 @dc
@F7 @sf
[<
000700000700000F00000E00001E00001C000FFC003FFE007FFF00787F0070F700F0E780E1
E380E1E380E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E003
80E00380E00380E00380F00780700700780F007FFF003FFE000FF800>
	 17 34 -3 27 24] 81 @dc
[<
007C0001FF0003FF800783C00F01E00E00E01C00701C00701C00701C00701C00701C00701C
00701C00701C00701C00701C00701C00701C00701C00701C00701C00701C00701C00701C00
70FF83FEFF83FEFF83FE>
	 23 28 0 27 24] 85 @dc
@F7 @sf
[<
E7F800FFFE00FFFF80F80780F001C0E001E0E000E06000E00000E00000E00001C00003C000
0F8000FF0007FE001FF0003F0000780000700000E00000E00380E00380E003807007807C0F
803FFF801FFF8003F380>
	 19 28 -2 27 24] 83 @dc
@F7 @sf
[<
01F00007FC000FFE001F1F001C07003803807803C07001C07001C0F001E0E000E0E000E0E0
00E0E000E0E000E0E000E0E000E0E000E0E000E07001C07001C07803C03803801C07001F1F
000FFE0007FC0001F000>
	 19 28 -2 27 24] 48 @dc
@F4 @sf
[<
FFFFFFF0FFFFFFF007F007F007F001F007F000F007F0007007F0007007F0003807F0003807
F0001807F0001807F0001807F0001807F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000
0007F0000007F0000007F0000007F00000FFFFE000FFFFE000>
	 29 34 -2 33 34] 76 @dc

9 @eop0

0 0 9 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y(If)i(a)g(free)h(list)g(en)o(try)e(on)i(some)e(page)h(is)h
(found)g(to)e(b)q(e)i(corrupted,)g(this)f(function)h(will)q 19 x(ignore)g
(the)f(rest)g(of)-1910 57 y(that)c(free)i(list)g(and)f(resume)h(searc)o
(hing)f(for)g(free)g(space)g(on)h(the)f(next)g(page.)-1329 145 y @F8 @sf
(Return)j(Co)q(des)-250 96 y @F7 @sf(EFBIG)58 b @F12 @sf(A)18 b(directory)h
(could)g(not)e(b)q(e)i(expanded)g(b)q(ecause)g(it)g(w)o(ould)f(ha)o(v)o(e)g
(exceeded)h(the)f(maxim)o(um)-1712 56 y(size)e(\(64K)e(pages,)h(as)g
(explained)i(ab)q(o)o(v)o(e\).)-867 75 y @F7 @sf(EIO)48 b @F12 @sf(An)14 b
(I/O)f(error)f(o)q(ccurred)i(while)h(reading)e(the)g(directory)g(to)g
(searc)o(h)g(for)f(space)h(for)g(the)g(new)g(en)o(try)l(.)-1840 75 y @F7 @sf
(EDQUOT)52 b @F12 @sf(A)16 b(directory)f(could)h(not)f(b)q(e)h(expanded)g
(due)g(to)f(a)f(v)o(olume)i(quota.)-1368 75 y @F7 @sf(ENOSPC)52 b @F12 @sf
(A)16 b(directory)f(could)h(not)f(b)q(e)h(expanded)g(due)g(to)f(a)f
(partition)i(size)g(limit.)-1466 76 y @F7 @sf(0)53 b @F12 @sf(Success.)-306 
195 y 1875 -8 z 139 w @F4 @sf(2.6.2)i(dir)s 17 -2 z 17 x(Length)33 b 
@F12 @sf(|)16 b(Size)g(of)f(a)g(directory)l(,)g(in)h(b)o(ytes.)-1082 202 y 
@F13 @sf(int)21 b @F8 @sf(dir)s 16 -2 z 16 x(Length)p @F13 @sf(\()-352 57 y
(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*dir;)-562 56 y(\))-22 202 y 
@F8 @sf(P)o(arameters)-192 108 y @F7 @sf(dir)h @F12 @sf(-)31 b(directory)
15 b(whose)g(size)i(is)e(desired.)-820 170 y @F8 @sf(Description)-262 96 y 
@F12 @sf(F)l(or)i(directories)j(of)d(more)h(than)g(one)g(page,)g(the)h
(size)g(is)f(alw)o(a)o(ys)f(a)h(m)o(ultiple)q 19 x(of)g(the)g(page)g(size)h
(\(8K\).)e(F)l(or)-1910 56 y(directories)i(that)f(\014t)g(on)g(one)g
(page,)g(the)g(size)h(is)g(calculated)h(from)d(the)h @F9 @sf(pnhimark)h 
@F12 @sf(\014eld)g(in)g(the)f(directory)-1909 57 y(header.)-144 145 y 
@F8 @sf(Return)g(Co)q(des)-250 96 y @F7 @sf(0)53 b @F12 @sf(An)16 b(I/O)f
(error)g(o)q(ccurred)h(while)g(reading)g(the)f(\014rst)g(page)g(of)g(the)g
(directory)l(.)-1484 195 y 1875 -8 z 145 w(2.6)29 b(Exp)q(orted)16 b
(functions)474 b(9)542 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
9 @eop1

10 @bop0
@F4 @sf
[<
FFFF800FF0FFFF803FF807F000FF0C07F000FE0607F001FC0607F001FC0007F001FC0007F0
01FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F003F80007F007F0
0007F00FE00007FFFF800007FFFFC00007F007F00007F001F80007F000FC0007F0007E0007
F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007E0007F000
FC0007F001F80007F007F000FFFFFFC000FFFFFE0000>
	 39 34 -2 33 42] 82 @dc

10 @eop0

0 0 10 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F4 @sf(2.6.3)55 b(dir)s 17 -2 z 17 x(Delete)32 b @F12 @sf(|)
15 b(Delete)h(an)f(en)o(try)g(from)g(a)f(directory)l(.)-1167 197 y @F13 @sf
(int)21 b @F8 @sf(dir)s 16 -2 z 16 x(Delete)p @F13 @sf(\()-339 56 y(IN)g
(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*dir;)-562 57 y(IN)g(int)h(offset;)
-307 56 y(IN)f(logTranRec)r 13 -2 z 12 x(t)h(tranId;)-497 57 y(\))-22 197 y 
@F8 @sf(P)o(arameters)-192 107 y @F7 @sf(dir)g @F12 @sf(-)31 b(directory)
15 b(from)g(whic)o(h)h(the)f(en)o(try)g(is)h(to)e(b)q(e)i(deleted.)-1084 
74 y @F7 @sf(offset)22 b @F12 @sf(-)31 b(piece)16 b(n)o(um)o(b)q(er)g(of)e
(the)i(en)o(try)f(to)f(b)q(e)i(deleted.)-1010 75 y @F7 @sf(tranId)22 b 
@F12 @sf(-)31 b(transaction)14 b(Id.)-573 166 y @F8 @sf(Description)-262 
95 y @F12 @sf(The)i(en)o(try)f(at)g(the)h(giv)o(en)h(o\013set)d(is)j
(deleted;)g(the)e(o\013set)g(m)o(ust)g(ha)o(v)o(e)h(b)q(een)h(pro)o(vided)f
(b)o(y)g(an)f(earlier)i(call)g(to)-1910 57 y @F7 @sf(dir)s 14 -2 z 14 x
(Lookup)p @F12 @sf(.)-246 96 y(If)f(the)h(hash)f(c)o(hain)h(that)e(the)h
(en)o(try)g(should)h(b)q(e)g(on)f(is)h(found)f(to)f(b)q(e)i(corrupted,)f
(that)g(is,)g(the)g(en)o(try)g(is)h(not)-1910 56 y(on)f(it,)g(this)g
(function)h(pro)q(ceeds)g(to)e(free)h(the)h(en)o(try)e(an)o(yw)o(a)o(y)l
(,)g(without)h(mo)q(difying)h(the)f(hash)g(c)o(hain)h(in)g(an)o(y)-1910 
56 y(w)o(a)o(y)l(.)-87 96 y(If)g(a)f(free)h(area)f(is)h(found)g(to)f(b)q
(e)i(corrupted,)f(this)g(function)g(puts)g(the)g(deleted)h(en)o(try)e(on)h
(the)f(free)h(list)h(just)-1910 56 y(b)q(efore)c(the)f(corrupted)h(area,)f
(and)h(do)q(es)f(not)h(attempt)e(to)h(coalesce)h(the)g(deleted)h(en)o(try)e
(with)h(the)f(corrupted)-1909 57 y(area.)-97 142 y @F8 @sf(Return)18 b(Co)q
(des)-250 96 y @F7 @sf(EIO)53 b @F12 @sf(An)15 b(I/O)h(error)e(o)q
(ccurred)i(in)g(reading)g(the)f(directory)l(.)-1066 75 y @F7 @sf(0)53 b 
@F12 @sf(Success.)-306 189 y 1875 -8 z 139 w @F4 @sf(2.6.4)i(dir)s 17 -2 z 
17 x(Replace)33 b @F12 @sf(|)15 b(Change)g(a)g(directory)h(en)o(try)l(.)
-1056 197 y @F13 @sf(int)21 b @F8 @sf(dir)s 16 -2 z 16 x(Replace)p @F13 @sf
(\()-371 125 y @F12 @sf(2.6)29 b(Exp)q(orted)16 b(functions)463 b(10)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
10 @eop1

11 @bop0
@F4 @sf
[<
FFFFE000FFFFE00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007
F0000007F0180007F0180007F0180007F0180007F0380007F0780007FFF80007FFF80007F0
780007F0380007F0180007F0180007F0180C07F0180C07F0000C07F0000C07F0001C07F000
1C07F0001807F0003807F0007807F001F8FFFFFFF8FFFFFFF8>
	 30 34 -2 33 35] 70 @dc
[<
FF80FFE0FF80FFE00E003E0007007E000380FC0001C0F80000C1F0000063E0000037C00000
3FC000001F8000001F0000003F0000007F800000F9800001F8C00003F0600003E0700007C0
38000F801C00FFE07FC0FFE07FC0>
	 27 22 -1 21 30] 120 @dc
@F8 @sf
[<
FF81FF80FF81FF800E00FC000701F8000381F0000183E00000C7C000006F8000007F800000
3F0000003E0000007E000000FF000001F3800003E1800007E0C00007C0E0000F807000FFE1
FF00FFE1FF00>
	 25 20 -1 19 28] 120 @dc

11 @eop0

0 0 11 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F13 @sf(IN)21 b(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*dir;)
-562 57 y(IN)g(int)h(offset;)-307 56 y(IN)f(epi)s 13 -2 z 12 x(volFileId)s 
13 -2 z 11 x(t)h(*fid;)-512 56 y(IN)f(logTranRec)r 13 -2 z 12 x(t)h
(tranId;)-497 57 y(\))-22 177 y @F8 @sf(P)o(arameters)-192 104 y @F7 @sf
(dir)g @F12 @sf(-)31 b(directory)l(.)-327 72 y @F7 @sf(offset)22 b @F12 @sf
(-)31 b(piece)16 b(n)o(um)o(b)q(er)g(of)e(the)i(en)o(try)f(to)f(b)q(e)i
(mo)q(di\014ed.)-1039 72 y @F7 @sf(fid)22 b @F12 @sf(-)31 b(ob)s(ject)15 b
(to)f(whic)o(h)i(the)f(en)o(try)g(is)h(to)e(refer.)-864 71 y @F7 @sf
(tranId)22 b @F12 @sf(-)31 b(transaction)14 b(ID.)-583 149 y @F8 @sf
(Description)-262 96 y @F12 @sf(The)h(en)o(try)g(is)h(c)o(hanged)f(to)g
(refer)g(to)g(the)g(designated)h(\014le.)-1023 131 y @F8 @sf(Return)i(Co)q
(des)-250 96 y @F7 @sf(EIO)53 b @F12 @sf(An)15 b(I/O)h(error)e(o)q
(ccurred)i(in)g(reading)g(the)f(directory)l(.)-1066 71 y @F7 @sf(0)53 b 
@F12 @sf(Success.)-306 167 y 1875 -8 z 136 w @F4 @sf(2.6.5)i(dir)s 17 -2 z 
17 x(FixDotDot)33 b @F12 @sf(|)15 b(Change)g(\\..")k(en)o(try)c(of)g(a)g
(directory)l(.)-1272 177 y @F13 @sf(int)21 b @F8 @sf(dir)s 16 -2 z 16 x
(FixDotDot)p @F13 @sf(\()-440 57 y(IN)g(struct)g(Dir)s 13 -2 z 12 x
(Handle)g(*dir;)-562 56 y(IN)g(epi)s 13 -2 z 12 x(volFileId)s 13 -2 z 11 x
(t)h(*fid;)-512 57 y(IN)f(logTranRec)r 13 -2 z 12 x(t)h(tranId;)-497 56 y
(\))-22 177 y @F8 @sf(P)o(arameters)-192 105 y @F7 @sf(dir)g @F12 @sf(-)
31 b(directory)l(.)-327 71 y @F7 @sf(fid)22 b @F12 @sf(-)31 b(ob)s(ject)
15 b(to)f(whic)o(h)i(the)f(en)o(try)g(is)h(to)e(refer)i(\(new)f(paren)o(t)f
(directory\).)-1329 72 y @F7 @sf(tranId)22 b @F12 @sf(-)31 b(transaction)
14 b(ID.)-583 178 y(2.6)29 b(Exp)q(orted)16 b(functions)463 b(11)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
11 @eop1

12 @bop0
@F4 @sf
[<
FFF00600FFFFFFF00F00FFFF06000F0007E006001F8007E006001F8007E006001F8007E006
003FC007E006003FC007E006007E6007E006007E6007E00600FC3007E00600FC3007E00601
F81807E00601F81807E00601F81807E00603F00C07E00603F00C07E00607E00607E00607E0
0607E0060FC00307E0060FC00307E0060FC00307E0061F800187E0061F800187E0063F0000
C7E0063F0000C7E0067E000067E0067E000067E006FC000037E006FC000037E006FC000037
E007F800001FE0FFF800001FFFFFF000000FFF>
	 48 34 -2 33 53] 77 @dc
[<
FFE0FFC0FFE0FFC01F003C001F007C001F00F8001F01F0001F01E0001F03E0001F07C0001F
0F80001FCF00001FFF00001F7E00001F1C00001F0E00001F0700001F0380001F01C0001F00
60001F0038001F00FF801F00FF801F0000001F0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F0000001F000000FF000000FF000000>
	 26 35 -2 34 30] 107 @dc
@F8 @sf
[<
FFF00C03FFF8FFF01E03FFF806001E001F0006003F001F0006003F001F0006003F001F0006
007D801F0006007D801F000600F8C01F000600F8C01F000601F0601F000601F0601F000603
E0301F000603E0301F000607C0181F000607C0181F000607C0181F00060F800C1F00060F80
0C1F00061F00061F00061F00061F00063E00031F00063E00031F00067C00019F00067C0001
9F0006F80000DF0006F80000DF0006F80000DF0007F000007F00FFF000007FF8FFE000003F
F8>
	 45 31 -2 30 50] 77 @dc
[<
FFC3FFFFC3FF1E00F81E01F01E01E01E03C01E07C01E0F801F0F001F9E001FFC001F7C001F
18001F0C001F07001F03801F00C01F00F01F01FE1F01FE1F00001F00001F00001F00001F00
001F00001F00001F00001F00001F0000FF0000FF0000>
	 24 32 -2 31 28] 107 @dc

12 @eop0

0 0 12 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F8 @sf(Description)-262 96 y @F12 @sf(The)f(\\..")k(en)o(try)c
(is)h(c)o(hanged)f(to)g(refer)g(to)g(the)g(designated)h(paren)o(t)f
(directory)l(.)-1374 95 y(Corruption)g(c)o(hec)o(king)h(is)g(done)f(as)g
(for)g(dir)s 14 -2 z 14 x(Lo)q(okup)h(\(see)f(b)q(elo)o(w\).)-1170 133 y 
@F8 @sf(Return)j(Co)q(des)-250 96 y @F7 @sf(EIO)53 b @F12 @sf(An)15 b(I/O)h
(error)e(o)q(ccurred)i(in)g(reading)g(the)f(directory)l(.)-1066 72 y @F7 @sf
(ENOENT)52 b @F12 @sf(The)16 b(directory)f(had)h(no)f(\\..")k(en)o(try)l
(.)g(\(A)c(rather)g(serious)g(error.\))-1409 170 y 1875 -8 z 137 w @F4 @sf
(2.6.6)55 b(dir)s 17 -2 z 17 x(Mak)n(eDir)33 b @F12 @sf(|)16 b(Create)e
(an)i(empt)o(y)e(directory)l(.)-1106 180 y @F13 @sf(int)21 b @F8 @sf(dir)s 
16 -2 z 16 x(Mak)o(eDir)p @F13 @sf(\()-395 56 y(IN)g(struct)g(Dir)s 13 -2 z 
12 x(Handle)g(*dir;)-562 56 y(IN)g(epi)s 13 -2 z 12 x(volFileId)s 13 -2 z 
11 x(t)h(*me;)-490 57 y(IN)f(epi)s 13 -2 z 12 x(volFileId)s 13 -2 z 11 x
(t)h(*parent;)-578 56 y(IN)f(logTranRec)r 13 -2 z 12 x(t)h(tranId;)-497 
57 y(\))-22 180 y @F8 @sf(P)o(arameters)-192 105 y @F7 @sf(dir)g @F12 @sf
(-)31 b(\(handle)16 b(for\))e(directory)i(to)e(b)q(e)i(created.)-859 72 y 
@F7 @sf(me)23 b @F12 @sf(-)30 b(directory)15 b(to)g(b)q(e)h(used)g(as)f
(\\.".)j(\(This)e(w)o(ould)f(normally)h(refer)f(to)g(the)g(same)g(ob)s
(ject)g(as)f @F7 @sf(dir)p @F12 @sf(.\))-1771 72 y @F7 @sf(parent)22 b 
@F12 @sf(-)31 b(directory)15 b(to)f(b)q(e)i(used)g(as)f(\\..".)-767 72 y 
@F7 @sf(tranId)22 b @F12 @sf(-)31 b(transaction)14 b(Id.)-573 151 y @F8 @sf
(Description)-262 96 y @F12 @sf(A)f(new)h(directory)g(is)g(created.)19 b
(Strictly)14 b(sp)q(eaking,)h(w)o(e)e(should)h(sa)o(y)f(that)g(the)g
(caller)i(has)e(created)g(an)h(empt)o(y)-1910 56 y(\014le,)i(and)f(this)h
(function)g(\()p @F7 @sf(dir)s 14 -2 z 13 x(MakeDir)p @F12 @sf(\))e(initi)q
(aliz)q(es)i(that)f(\014le)h(to)f(b)q(e)h(an)f(empt)o(y)g(directory)l(.)
-1628 133 y @F8 @sf(Return)j(Co)q(des)-250 96 y @F7 @sf(EDQUOT)52 b @F12 @sf
(A)16 b(directory)f(could)h(not)f(b)q(e)h(initial)q(ize)q(d)h(due)e(to)g
(a)g(v)o(olume)g(quota.)-1374 72 y @F7 @sf(ENOSPC)52 b @F12 @sf(A)16 b
(directory)f(could)h(not)f(b)q(e)h(initial)q(ize)q(d)h(due)e(to)g(a)g
(partition)g(size)h(limi)q(t.)-1543 208 y(2.6)29 b(Exp)q(orted)16 b
(functions)463 b(12)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
12 @eop1

13 @bop0
@F4 @sf
[<
01E00003F00003F00003F00003F00003F00003F00003F00001F00001F00001F00000F00000
F00000F000007800007800003800001800001C00000C00000600C00300C00300C00180E000
C0E000607FFFF07FFFF87FFFF87FFFFC7FFFFE7FFFFE780000600000>
	 23 34 -3 33 28] 55 @dc
@F13 @sf
[<
1FFC003FFE007FFF00780F00F00780F00780E00380E00380E00380E00380E00380E00380E0
0380E00380E00380E00380E00380E00380E00380E00380F00780780F007FFF003FFE001FFC
00>
	 17 25 -2 24 22] 79 @dc
[<
00F80003FE0007FF000707000E03800E03801C01C01C01C01C01C01C01C01C01C01C01C01C
01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C07F07F0FF8FF87F07
F0>
	 21 25 0 24 22] 85 @dc
@F12 @sf
[<
FFE001001F0003000E000300040007000400070004000F0004001F0004001F0004003D0004
003D00040079000400F1000400F1000401E1000401E1000403C1000407810004078100040F
0100040F0100041E0100043C0100043C0100047801000478010004F0010005E0010005E001
0007C0038007C007C0FF803FF8>
	 29 31 -2 30 34] 78 @dc

13 @eop0

0 0 13 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y 1875 -8 z 140 w @F4 @sf(2.6.7)55 b(dir)s 17 -2 z 17 x(Lo)r
(okup)33 b @F12 @sf(|)16 b(Lo)q(ok)f(up)g(a)g(name)h(in)g(a)e(directory)l
(.)-1155 202 y @F13 @sf(int)21 b @F8 @sf(dir)s 16 -2 z 16 x(Lo)q(okup)p 
@F13 @sf(\()-363 56 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*dir;)-562 
56 y(IN)g(char)g(*name;)-306 57 y(OUT)g(epi)s 13 -2 z 12 x(volField)s 13 
-2 z 11 x(t)h(*fid;)-512 56 y(OUT)f(int)g(*offset;)-350 57 y(\))-22 202 y 
@F8 @sf(P)o(arameters)-192 108 y @F7 @sf(dir)h @F12 @sf(-)31 b(directory)
15 b(in)h(whic)o(h)g(the)g(name)f(is)h(to)e(b)q(e)i(lo)q(ok)o(ed)g(up.)-1085 
75 y @F7 @sf(name)22 b @F12 @sf(-)31 b(name)15 b(to)g(b)q(e)g(lo)q(ok)o
(ed)h(up.)-608 75 y @F7 @sf(fid)22 b @F12 @sf(-)31 b(place)16 b(to)f
(record)g(ob)s(ject)f(found)i(b)o(y)f(lo)q(okup.)-925 75 y @F7 @sf(offset)
22 b @F12 @sf(-)31 b(place)16 b(to)e(record)h(piece)i(n)o(um)o(b)q(er)f
(of)e(ob)s(ject.)-1059 170 y @F8 @sf(Description)-262 96 y @F12 @sf(The)h
(directory)g(is)g(searc)o(hed)g(for)f(an)g(en)o(try)g(with)h(the)g(giv)o
(en)g(name.)20 b(If)14 b(an)h(en)o(try)f(is)h(found,)g(the)g(sub\014elds)h
(of)-1910 57 y(its)d @F9 @sf(\014d)f @F12 @sf(\014eld)i(are)e(copied)h(in)o
(to)g(the)f(corresp)q(onding)i(sub\014elds)g(of)e(the)g @F7 @sf(fid)g 
@F12 @sf(parameter,)g(and)h(its)f(piece)i(n)o(um)o(b)q(er)-1909 56 y(is)i
(copied)g(in)o(to)f(the)h(lo)q(cation)g(p)q(oin)o(ted)g(to)e(b)o(y)h @F7 @sf
(offset)p @F12 @sf(.)-970 96 y(If,)f(during)g(the)f(searc)o(h)g(of)g(a)g
(hash)g(c)o(hain,)h(an)f(en)o(try)g(is)h(found)f(to)g(b)q(e)h(corrupted,)f
(the)g(rest)g(of)g(the)g(hash)h(c)o(hain)-1909 56 y(is)i(ignored,)f(and)g
(the)h(searc)o(h)f(resumes)g(on)g(the)g(next)h(page)f(\(if)g(an)o(y\).)-1208 
145 y @F8 @sf(Return)j(Co)q(des)-250 96 y @F7 @sf(EIO)53 b @F12 @sf(An)15 b
(I/O)h(error)e(o)q(ccurred)i(in)g(reading)g(the)f(directory)l(.)-1066 75 y 
@F7 @sf(ENOENT)52 b @F12 @sf(No)15 b(en)o(try)g(b)o(y)g(the)h(sp)q(eci\014ed)h
(name)e(w)o(as)f(found)i(in)g(the)f(directory)l(.)-1366 75 y @F7 @sf(0)53 b 
@F12 @sf(Success.)-306 196 y 1875 -8 z 297 w(2.6)29 b(Exp)q(orted)16 b
(functions)463 b(13)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
13 @eop1

14 @bop0
@F4 @sf
[<
01FF000FFFC01F01F03C0038780038F8001CF0001CF0001EF0001EF0003EF000FE7801FE78
07FC3C1FFC1E7FF807FFF003FFE007FFC00FFF801FFFC01FF9E03FE0F03F80783F00783E00
783C00781C00781C00F00E00F00703E003FFC000FE00>
	 23 32 -2 31 28] 56 @dc
[<
80FF80C7FFE0FF00F8FC003CF0003CE0001EE0001EC0001FC0001FC0001F00003F00003F00
007F0003FF003FFE03FFFE0FFFFC1FFFF83FFFF07FFFC07FFF00FFE000FF0000FC0000FC00
0CF8000CF8000C78001C78001C7C003C3C007C1F03FC07FF8C01FC04>
	 24 34 -3 33 31] 83 @dc
@F12 @sf
[<
000FE0000078182000E00460038002E0070001E00F0001E01E0001E01E0001E03C0001E03C
0001E07C0001E0780001E0F80003E0F8007FFCF8000000F8000000F8000000F8000000F800
0000F8000000F8000000780000207C0000203C0000203C0000601E0000601E0000600F0000
E0070001E0038002E000E004E000781860000FE020>
	 30 33 -3 31 36] 71 @dc

14 @eop0

0 0 14 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F4 @sf(2.6.8)55 b(dir)s 17 -2 z 17 x(PieceScan)33 b @F12 @sf
(|)16 b(Iterate)f(o)o(v)o(er)f(all)i(directory)f(en)o(tries.)-1244 202 y 
@F13 @sf(int)21 b @F8 @sf(dir)s 16 -2 z 16 x(PieceScan)p @F13 @sf(\()-420 
56 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*afile;)-606 57 y(IN)g(u)s 
13 -2 z 13 x(long)g(apiece;)-366 56 y(\))-22 202 y @F8 @sf(P)o(arameters)
-192 108 y @F7 @sf(afile)h @F12 @sf(-)31 b(directory)15 b(in)h(whic)o(h)g
(to)f(lo)q(cate)g(en)o(tries.)-895 75 y @F7 @sf(apiece)22 b @F12 @sf(-)31 b
(n)o(um)o(b)q(er)15 b(of)g(piece)h(within)h(directory)l(.)-941 171 y @F8 @sf
(Description)-262 95 y @F12 @sf(Giv)o(en)f(a)f(piece)h(n)o(um)o(b)q(er,)g
(this)f(returns)h(either)g(the)f(same)g(piece)i(n)o(um)o(b)q(er,)e(if)h
(it)f(is)h(the)f(start)f(of)h(a)g(directory)-1909 57 y(en)o(try)l(,)g(or)f
(if)i(not,)e(the)i(n)o(um)o(b)q(er)f(of)g(the)g(next)h(piece)g(that)f
(starts)f(an)h(en)o(try)l(.)-1310 95 y(The)i(purp)q(ose)g(of)f(this)h(is)h
(to)e(enable)h(the)g(caller)h(to)e(iterate)g(o)o(v)o(er)g(all)i(en)o
(tries)f(in)g(a)f(directory)l(.)25 b(It)17 b(w)o(ould)g(b)q(e)-1909 57 y
(used)c(in)g(the)f(implemen)o(tation)h(of)f @F9 @sf(r)n(e)n(addir)p @F12 @sf
(.)19 b(It)12 b(is)g(assumed)h(that)e(the)h(directory)g(can)h(b)q(e)f
(arbitrarily)h(c)o(hanged)-1909 56 y(b)q(et)o(w)o(een)g(t)o(w)o(o)e
(successiv)o(e)i(calls)h(to)d(the)i(function.)19 b(Th)o(us,)13 b(the)f
(piece)i(n)o(um)o(b)q(er)f(argumen)o(t)e(could)j(b)q(e)f(to)q(o)e(large)
-1909 57 y(for)k(the)h(directory;)h(if)f(this)h(is)f(the)g(case,)g(the)g
(return)g(v)m(alue)h(is)g(zero.)22 b(The)16 b(piece)i(n)o(um)o(b)q(er)e
(argumen)o(t)f(could)-1908 56 y(indicate)g(a)f(piece)h(that)e(is)h
(neither)g(the)g(start)f(of,)g(nor)g(within,)i(a)e(directory)h(en)o(try;)g
(the)f(function)i(will)g(detect)-1909 57 y(this)h(case)f(and)g(\014nd)h
(the)f(next)h(actual)f(en)o(try)l(,)g(if)g(an)o(y)l(.)-930 95 y(If)h(the)g
(argumen)o(t)g(is)g(the)g(piece)i(n)o(um)o(b)q(er)e(of)g(a)f(v)m(alid)q 
17 x(directory)h(en)o(try)l(,)g(the)g(result)h(will)g(b)q(e)g(the)f(same)g
(piece)-1908 57 y(n)o(um)o(b)q(er.)40 b(Th)o(us,)23 b(the)f(caller)h(has)e
(the)h(resp)q(onsibil)q(i)q(t)o(y)g(for)f(adv)m(ancing)i(this)f(n)o(um)o
(b)q(er,)i(to)d(carry)g(out)g(an)-1909 56 y(iteration.)g(Normally)16 b
(the)f(piece)i(n)o(um)o(b)q(er)f(w)o(ould)f(b)q(e)h(adv)m(anced,)g(after)f
(making)h(use)f(of)g(a)g(directory)h(en)o(try)l(,)-1910 57 y(b)o(y)f(the)g
(length)h(of)f(that)g(en)o(try)f(\(i.e.)20 b(b)o(y)15 b(the)h(v)m(alue)g
(of)f(the)g @F9 @sf(length)g @F12 @sf(\014eld\).)-1280 95 y(The)g(follo)o
(wing)h(guaran)o(tee)f(is)h(made:)-659 96 y(If)26 133 y(1.)22 b(a)e
(series)h(of)e(calls)j(to)d @F7 @sf(dir)s 14 -2 z 14 x(PieceScan)g @F12 @sf
(is)i(made,)g(starting)f(with)g(piece)i(0)e(and)h(ending)g(when)g(0)f(is)
-1795 56 y(returned;)15 b(and)-328 94 y(2.)22 b(the)16 b(argumen)o(t)f(of)h
(eac)o(h)g(call)i(is)e(equal)h(to)f(the)g(argumen)o(t)f(of)h(the)g
(previous)h(call,)h(plus)f(the)f(length)h(of)-1796 56 y(the)e(directory)g
(en)o(try)g(from)g(that)f(call,)i(as)f(describ)q(ed)i(ab)q(o)o(v)o(e;)d
(and)-1221 94 y(3.)22 b(a)c(particular)h(en)o(try)g @F9 @sf(e)f @F12 @sf
(exists)h(at)g(the)f(time)i(of)e(the)h(\014rst)f(call,)i(and)f(con)o(tin)o
(ues)h(to)e(exist)h(up)g(to)f(and)-1795 57 y(includi)q(ng)f(the)e(time)g
(of)g(the)g(last)h(call,)g(whatev)o(er)e(other)h(c)o(hanges)g(ma)o(y)g(b)q
(e)g(made)h(to)e(the)h(directory;)-1892 171 y(2.6)29 b(Exp)q(orted)16 b
(functions)463 b(14)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
14 @eop1

15 @bop0
@F4 @sf
[<
03F8000FFE001C0F801E03C03F01E03F00F03F00F83F00F81E007C00007C00007C00207E07
FC7E0FFE7E1E037E3E01FE7C00FE7C00FEFC007EFC007EFC007EFC007EFC007CFC007CFC00
7C7C00787C00F83E00F01E01F00F83E007FF8001FE00>
	 23 32 -2 31 28] 57 @dc
[<
FFFFE0FFFFE003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003
F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F8
0003F80003F80003F80003F80003F80003F80003F800FFFFE0FFFFE0>
	 19 34 -1 33 21] 73 @dc
[<
FFFFFFFCFFFFFFFC07F001FC07F0003E07F0001E07F0000E07F0000E07F0000607F0000607
F0000607F0000307F0180307F0180307F0180007F0180007F0380007F0780007FFF80007FF
F80007F0780007F0380007F0180007F0180607F0180607F0180607F0000607F0000E07F000
0E07F0000C07F0001C07F0003C07F000FCFFFFFFFCFFFFFFFC>
	 32 34 -2 33 37] 69 @dc
[<
FFE0FFE0FFE0FFE0FFE0FFE01F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F801F801F001F801F801F001F403E
403E001F303E303E00FF1FFC1FFC00FF07F007F000>
	 43 22 -2 21 48] 109 @dc
@F8 @sf
[<
FFFFFFFF07E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007E007
E007E007E007E007E007E007E007E007E007E007E0FFFFFFFF>
	 16 31 -2 30 20] 73 @dc
[<
FFFFFFF0FFFFFFF007E003F007E000F807E0007807E0003807E0001807E0001807E0001807
E0000C07E0600C07E0600C07E0600007E0E00007E1E00007FFE00007FFE00007E1E00007E0
E00007E0600007E0603007E0603007E0003007E0003007E0007007E0006007E000E007E001
E007E007E0FFFFFFE0FFFFFFE0>
	 30 31 -2 30 34] 69 @dc
@F7 @sf
[<
7FFCFFFE7FFC03800380038003800380038003800380038003800380038003800380038003
804380FB80FF803F800F800780038003800180>
	 15 28 -5 27 24] 49 @dc
@F4 @sf
[<
00FE0007FFC00F83E01F01F03E00F83E00F87C007C7C007C7C007CFC007EFC007EFC007EFC
007EFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007EFC007C7C007C7C00
7C7C007C3E00F83E00F81F01F00F83E007FFC000FE00>
	 23 32 -2 31 28] 48 @dc
[<
FFF00000C0FFF00001C006000003C006000003C006000007C00600000FC00600001FC00600
003FC00600007FC00600007FC0060000FFC0060001FEC0060003FCC0060007F8C0060007F0
C006000FF0C006001FE0C006003FC0C006007F80C00600FF00C00600FE00C00601FE00C006
03FC00C00607F800C0060FF000C0060FE000C0061FE000C0063FC000C0067F8000C006FF00
00C007FE0000C007FC0000C0FFFC001FFEFFF8001FFE>
	 39 34 -2 33 44] 78 @dc

15 @eop0

0 0 15 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y(then)g(one)f(and)g(only)h(one)f(of)g(the)g(calls)i(to)d @F7 @sf
(dir)s 14 -2 z 14 x(PieceScan)g @F12 @sf(will)j(return)e(the)g(index)i
(\(piece)f(n)o(um)o(b)q(er\))f(of)g @F9 @sf(e)p @F12 @sf(.)-1890 96 y(If)g
(a)g(corrupt)g(en)o(try)g(or)g(free)g(area)g(is)g(found,)g(0)g(is)h
(returned.)-1057 145 y @F8 @sf(Return)i(Co)q(des)-250 96 y @F7 @sf(0)53 b 
@F12 @sf(No)15 b(pieces)i(left)e(in)h(the)f(directory)l(.)-748 195 y 1875 
-8 z 140 w @F4 @sf(2.6.9)55 b(dir)s 17 -2 z 17 x(IsEmpt)n(y)32 b @F12 @sf
(|)16 b(Emptiness)g(of)e(directory)l(.)-1022 201 y @F13 @sf(int)21 b @F8 @sf
(dir)s 16 -2 z 16 x(IsEmpt)o(y)p @F13 @sf(\()-388 57 y(IN)g(struct)g(Dir)s 
13 -2 z 12 x(Handle)g(*dir;)-562 56 y(\))-22 202 y @F8 @sf(P)o(arameters)
-192 108 y @F7 @sf(dir)h @F12 @sf(-)31 b(directory)15 b(of)g(whic)o(h)h
(to)f(determine)h(emptiness.)-1060 171 y @F8 @sf(Description)-262 95 y 
@F12 @sf(Determines)g(if)f(there)h(are)e(an)o(y)h(en)o(tries)h(in)g(a)f
(directory)g(other)g(than)g(\\.")k(and)d(\\..".)-1466 96 y(If)f(an)o(y)g
(en)o(try)g(or)g(free)g(area)g(is)g(found)h(to)e(b)q(e)i(corrupted,)f(the)h
(directory)f(is)h(treated)e(as)h(empt)o(y)l(.)-1665 145 y @F8 @sf(Return)j
(Co)q(des)-250 96 y @F7 @sf(1)53 b @F12 @sf(Directory)15 b(is)h(empt)o(y)l
(,)e(or)h(I/O)h(errors)e(o)q(ccurred)i(to)f(prev)o(en)o(t)g(\014nding)h
(en)o(tries)g(in)g(it.)-1546 75 y @F7 @sf(0)53 b @F12 @sf(Directory)15 b
(is)h(not)e(empt)o(y)l(.)-609 195 y 1875 -8 z 140 w @F4 @sf(2.6.10)55 b
(dir)s 17 -2 z 17 x(NamePie)o(ces)32 b @F12 @sf(|)16 b(Num)o(b)q(er)f(of)g
(pieces)i(required)f(for)f(a)f(name.)-1442 265 y(2.6)29 b(Exp)q(orted)16 b
(functions)463 b(15)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
15 @eop1

16 @bop0
@F8 @sf
[<
FFF0000600FFF00006000600000E000600001E000600003E000600007E00060000FE000600
00FE00060001FE00060003F600060007E60006000FE60006001FC60006001F860006003F06
0006007E06000600FC06000601FC06000601F806000603F006000607E00600060FC0060006
1F800600063F800600063F000600067E00060006FC00060007F800060007F0000600FFF000
FFF0FFE000FFF0>
	 36 31 -2 30 41] 78 @dc
@F7 @sf
[<
01FC000FFF801FFFC07E03F07800F0E00038E00038E00038E000387000707801F03FFFE01F
FFC01FFE001C000038000039E0001FF8001FFC001E1E001C0E003807003807003807003807
003807001C0E001E1E300FFFF807FFF801E1F0>
	 21 31 -1 19 24] 103 @dc
@F4 @sf
[<
0003FF00C0001FFFC3C0007F80E7C001FC003FC003F0001FC007E0001FC00FC0001FC01F80
001FC03F00001FC03F00001FC07F00001FC07F00001FC07E000FFFFCFE000FFFFCFE000000
00FE00000000FE00000000FE00000000FE00000000FE00000000FE000000007E000000C07E
000000C07F000000C03F000001C03F000001C01F800003C00FC00003C007C00007C003F000
0FC001F8003FC0007F00F1C0001FFFC0C00003FE0040>
	 38 34 -3 33 44] 71 @dc
@F13 @sf
[<
7FFFE0FFFFE07FFFE01C00E01C00E01C00E01C00E01C00E01C00001C1C001C1C001FFC001F
FC001FFC001C1C001C1C001C00001C00001C01C01C01C01C01C01C01C07FFFC0FFFFC07FFF
C0>
	 19 25 -1 24 22] 69 @dc
[<
3C00003F00007F80007BC00079C00001C00000E00000E00000E00000F00000F00000F00001
B80001B800039800039C00039C00071C00071C00070E000E0E000E0E000E07001C07007F1F
C0FF9FE07F1FC0>
	 19 27 -1 17 22] 121 @dc
@F8 @sf
[<
0007FC0600003FFF8E0000FE01FE0003F000FE0007E0007E000FC0007E001F80007E003F00
007E003F00007E007F00007E007E00007E007E00007E00FE003FFFE0FE003FFFE0FE000000
00FE00000000FE00000000FE00000000FE000000007E000006007E000006007F000006003F
00000E003F00000E001F80001E000FC0001E0007E0003E0003F000FE0000FE03DE00003FFF
0E000007FC0200>
	 35 31 -3 30 41] 71 @dc
@F13 @sf
[<
7F0000FF80007F00001C00001C00001C00001C00001C00001C00001C00001FF8001FFE001F
FF001C0F801C03801C03C01C01C01C01C01C01C01C03C01C03801C0F807FFF00FFFE007FF8
00>
	 18 25 -1 24 22] 80 @dc
@F7 @sf
[<
063E000EFF800FFFC00FC1E00F80E00F00700F00700E00380E00380E00380E00380E00380E
00380E00700F00700F80E00FC1E00FFFC00EFF800E3E000E00000E00000E00000E00000E00
007E0000FE00007E0000>
	 21 28 0 27 24] 98 @dc

16 @eop0

0 0 16 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 202 y @F13 @sf(int)21 b @F8 @sf(dir)s 16 -2 z 16 x(NamePieces)p 
@F13 @sf(\()-469 56 y(IN)g(int)h(length;)-307 56 y(\))-22 201 y @F8 @sf(P)o
(arameters)-192 108 y @F7 @sf(length)g @F12 @sf(-)28 b(length)14 b(\(as)f
(returned)i(b)o(y)e @F7 @sf(strlen)p @F12 @sf(\))g(of)g(a)h(name)g(used,)g
(or)f(ab)q(out)h(to)f(b)q(e)i(used,)f(in)h(a)e(directory)-1712 56 y(en)o
(try)l(.)-310 170 y @F8 @sf(Description)-262 95 y @F12 @sf(The)i(return)h
(v)m(alue)g(is)g(the)f(n)o(um)o(b)q(er)h(of)e(pieces)j(required)f(to)f
(hold)h(the)f(directory)g(en)o(try)l(.)-1542 96 y 1875 -8 z 139 w @F4 @sf
(2.6.11)55 b(dir)s 17 -2 z 17 x(GetPiece)32 b @F12 @sf(|)16 b(P)o(oin)o
(ter)f(to)f(an)h(en)o(try)l(.)-996 201 y @F13 @sf(struct)21 b(DirEntry)o 
21 x(*)g @F8 @sf(dir)s 16 -2 z 16 x(GetPiece)p @F13 @sf(\()-704 57 y(IN)g
(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*dir;)-562 56 y(IN)g(long)g
(pieceno;)-350 56 y(OUT)g(struct)g(Dir)s 13 -2 z 12 x(Page)g(**dpPP;)-584 
57 y(\))-22 201 y @F8 @sf(P)o(arameters)-192 107 y @F7 @sf(dir)h @F12 @sf
(-)31 b(directory)15 b(in)h(whic)o(h)g(the)g(en)o(try)f(is)g(found.)-884 
75 y @F7 @sf(pieceno)22 b @F12 @sf(-)30 b(index)17 b(of)e(the)g(en)o(try;)f
(distance)i(in)g(pieces)h(from)d(the)i(b)q(eginnin)q(g)g(of)f(the)g
(directory)l(.)-1692 75 y @F7 @sf(dpPP)22 b @F12 @sf(-)32 b(p)q(oin)o(ter)
17 b(to)e(a)h(lo)q(cation)g(in)h(whic)o(h)g(to)e(put)h(a)g(p)q(oin)o(ter)g
(to)f(the)h(\014rst)g(b)o(yte)g(of)f(the)h(bu\013er)g(for)f(the)-1712 57 y
(page)g(holding)h(the)g(en)o(try)l(.)-656 169 y @F8 @sf(Description)-262 
96 y @F12 @sf(The)j(return)f(v)m(alue)i(is)f(a)f(p)q(oin)o(ter)h(to)f(the)g
(en)o(try)g(\(i.e.)30 b(to)18 b(the)h(\014rst)f(b)o(yte)g(of)g(its)h(\014rst)f
(piece\).)31 b(The)18 b(bu\013er)-1909 56 y(on)h(whic)o(h)h(it)f(o)q
(ccurs)g(is)g(lo)q(c)o(k)o(ed,)h(and)f(m)o(ust)g(b)q(e)g(released)h
(subsequen)o(tly)g(b)o(y)f(passing)g(the)g(bu\013er)g(p)q(oin)o(ter)-1909 
57 y(pro)o(vided)d(in)g @F7 @sf(dpp)f @F12 @sf(to)f @F7 @sf(dirb)s 14 -2 z 
14 x(Release)g @F12 @sf(\(see)h(Directory)g(Bu\013er)g(pac)o(k)m(age\).)
-1293 95 y 1875 -8 z 125 w(2.6)29 b(Exp)q(orted)16 b(functions)463 b(16)
530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
16 @eop1

17 @bop0
@F8 @sf
[<
03FFFFC003FFFFC00007E0000007E0000007E0000007E0000007E0000007E0000007E00000
07E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007
E000C007E006C007E006C007E006C007E006E007E00E6007E00C6007E00C7007E01C7C07E0
7C7FFFFFFC7FFFFFFC>
	 31 30 -2 29 36] 84 @dc
[<
0030018000007803C000007803C000007803C00000FC07E00000FC07E00001F60FB00001F6
0F300001F60F300003E31E180003E31E180007C1BE0C0007C1BC0C0007C1BC0C000F80F806
000F80F806001F00F803001F00F00300FFE7FE1FE0FFE7FE1FE0>
	 35 20 -1 19 38] 119 @dc
[<
001C0000001C0000003E0000003E0000007F0000007F000000FF800000F9800001F9C00001
F0C00001F0C00003E0600003E0600007C0300007C030000F8018000F8018001F001C00FFE0
7F80FFE07F80>
	 25 20 -1 19 28] 118 @dc
[<
387CFEFEFE7C38>
	 7 7 -4 6 15] 46 @dc
@F4 @sf
[<
FFFF83FFFEFFFF83FFFE07F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0
001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001F
C007F0001FC007F0001FC007FFFFFFC007FFFFFFC007F0001FC007F0001FC007F0001FC007
F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F000
1FC007F0001FC007F0001FC0FFFF83FFFEFFFF83FFFE>
	 39 34 -2 33 44] 72 @dc
@F4 @sf
[<
FFE00FFFF8FFE00FFFF80600007F000600007F00030000FE00030000FE00038001FE000180
01FC00018001FC0000FFFFF80000FFFFF80000E007F800006007F00000600FF00000300FE0
0000300FE00000381FE00000181FC00000183FC000000C3F8000000C3F8000000E7F800000
067F00000006FF00000003FE00000003FE00000003FE00000001FC00000001FC00000000F8
00000000F800000000F8000000007000000000700000>
	 37 34 -2 33 42] 65 @dc
@F8 @sf
[<
FFE00FFFE0FFE00FFFE00E0000FE00060000FC00060001FC00030001F800030001F8000180
03F000018003F00001FFFFF00000FFFFE00000C007E00000600FC00000600FC00000701FC0
0000301F800000303F800000183F000000183F0000000C7E0000000C7E0000000EFE000000
06FC00000006FC00000003F800000003F800000001F000000001F000000001F000000000E0
00000000E00000>
	 35 31 -2 30 40] 65 @dc

17 @eop0

0 0 17 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F8 @sf(The)i(follo)o(wing)g(functions)h(are)e(exp)q(orted)h
(only)f(to)h(the)g(directory)f(salv)m(age)h(pac)o(k)m(age.)-1725 96 y 1875 
-8 z 136 w @F4 @sf(2.6.12)55 b(dir)s 17 -2 z 17 x(Hash)34 b @F12 @sf(|)16 b
(Hash)f(v)m(alue)h(of)f(a)g(name.)-949 174 y @F13 @sf(int)21 b @F8 @sf
(dir)s 16 -2 z 16 x(Hash)p @F13 @sf(\()-309 57 y(IN)g(char)g(*string;)-350 
56 y(\))-22 175 y @F8 @sf(P)o(arameters)-192 104 y @F7 @sf(string)h @F12 @sf
(-)31 b(name)15 b(to)f(b)q(e)i(hashed.)-669 147 y @F8 @sf(Description)-262 
95 y @F12 @sf(The)f(return)h(v)m(alue)g(is)g(an)f(in)o(teger)g(in)h([0,)e
(127].)-820 96 y 1875 -8 z 136 w @F4 @sf(2.6.13)55 b(dir)s 17 -2 z 17 x
(AddP)n(age)35 b @F12 @sf(|)16 b(Add)f(a)g(new)h(page)f(to)f(a)h
(directory)l(.)-1223 175 y @F13 @sf(int)21 b @F8 @sf(dir)s 16 -2 z 16 x
(AddP)o(age)p @F13 @sf(\()-401 56 y(IN)g(struct)g(Dir)s 13 -2 z 12 x
(Handle)g(*dir;)-562 57 y(IN)g(logTranRec)r 13 -2 z 12 x(t)h(tranId;)-497 
56 y(IN)f(int)h(pageno;)-307 56 y(\))-22 175 y @F8 @sf(P)o(arameters)-192 
104 y @F7 @sf(dir)g @F12 @sf(-)31 b(directory)15 b(to)g(whic)o(h)h(a)f
(page)g(is)h(to)e(b)q(e)i(added.)-957 71 y @F7 @sf(tranId)22 b @F12 @sf(-)
31 b(transaction)14 b(ID.)-513 72 y @F7 @sf(pageno)22 b @F12 @sf(-)31 b(n)o
(um)o(b)q(er)15 b(of)g(page)g(to)f(b)q(e)i(added.)-853 147 y @F8 @sf
(Description)-262 95 y @F12 @sf(The)h(page)g(and)g(its)g(bu\013er)g(are)g
(initiali)q(zed)q(,)h(with)f(all)h(the)f(righ)o(t)g(magic)g(n)o(um)o(b)q
(ers,)g(an)g(empt)o(y)f(hash)h(table,)-1909 57 y(and)g(a)g(free)g(list)g
(with)h(one)f(en)o(try)f(represen)o(ting)i(the)f(whole)g(page.)25 b(The)
18 b @F7 @sf(pageno)e @F12 @sf(argumen)o(t)g(m)o(ust)g(not)h(b)q(e)-1909 
56 y(zero.)-94 125 y(2.6)29 b(Exp)q(orted)16 b(functions)463 b(17)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
17 @eop1

18 @bop0
@F0 @sf
[<
0007FF8000003FFFF00001FFFFFE0003FFFFFF0007FC03FFC01FE000FFE01F80007FF03FC0
003FF87FE0003FFC7FF0003FFCFFF0001FFEFFF8001FFEFFF8001FFEFFF8001FFFFFF8001F
FF7FF0001FFF7FF0001FFF3FE0001FFF1FC0001FFF0200001FFF0000001FFE0000001FFE00
00001FFC0000003FFC0000003FF80000003FF00000007FE0000000FF80000003FE00000FFF
F800000FFF8000000FFFC00000001FF000000007FC00000003FE00000001FF00000001FF80
000000FFC0000000FFE003F0007FF007F8007FF00FFC007FF01FFE007FF81FFE007FF81FFE
007FF81FFE007FF81FFE007FF81FFC007FF80FF8007FF00FF0007FF00780007FE003C000FF
C001F000FF8000FE03FF00007FFFFE00001FFFF0000003FF8000>
	 40 57 -4 55 49] 51 @dc
@F1 @sf
[<
E00003FFC00000F0007FFFF80000F803FFFFFF0000FC0FFFFFFF8000FE3FFFFFFFE000FFFF
FC007FF000FFFF80000FF800FFFE000007FC00FFF8000003FE00FFE0000001FE00FFC00000
00FF00FF80000000FF80FF00000000FF80FE000000007F80FE000000007FC0FC000000007F
C0FC000000007FC0FC000000007FE0F8000000007FE0F8000000007FE0F8000000007FE0F8
00000000FFE0F800000000FFE07800000001FFE00000000003FFE00000000007FFE0000000
000FFFE0000000001FFFC000000000FFFFC00000000FFFFFC0000001FFFFFF8000003FFFFF
FF800001FFFFFFFF00000FFFFFFFFF00003FFFFFFFFE00007FFFFFFFFE0000FFFFFFFFFC00
03FFFFFFFFF80007FFFFFFFFF00007FFFFFFFFE0000FFFFFFFFFC0001FFFFFFFFF00001FFF
FFFFFC00003FFFFFFFF000003FFFFFFF0000007FFFFFE00000007FFFFE000000007FFFC000
000000FFFF0000000000FFFC0000001F00FFF80000001F00FFF00000001F00FFE00000001F
00FFE00000003F00FFC00000003F00FFC00000003F00FFC00000003F007FC00000007F007F
C00000007F007FC0000000FF003FC0000001FF003FE0000001FF001FE0000003FF001FF000
0007FF000FF000001FFF0007FC00003FFF0007FE0000FFFF0003FFC00FFEFF0000FFFFFFFC
7F00007FFFFFF03F00001FFFFFC01F000007FFFF000F0000007FF0000700>
	 51 73 -7 71 66] 83 @dc
[<
FFFFFF80FFFFFF80FFFFFF80FFFFFF80FFFFFF8001FFC00001FFC00001FFC00001FFC00001
FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FF
C00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC0
0001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC000
01FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001
FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FF
C00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC0
0003FFC000FFFFC000FFFFC000FFFFC000FFFFC000FFFFC000007FC000>
	 25 72 -4 71 32] 108 @dc
@F13 @sf
[<
7F1FC0FF1FE07F1FC01C07001C07001C07001FFF000FFE000FFE000E0E000E0E00071C0007
1C00071C00071C00071C0003180003B80003B80003B80001B00001B00001F00001F00000E0
00>
	 19 25 -1 24 22] 65 @dc
[<
FFFFE0FFFFE0FFFFE01C00E01C00E01C00E01C00E01C00401C00001C00001C00001C00001C
00001C00001C00001C00001C00001C00001C00001C00001C00001C0000FFC000FFC000FFC0
00>
	 19 25 -1 24 22] 76 @dc
[<
7F87F0FFCFF07F87F00E07800E07000E0E000F1E000FBC000FF8000FF0000EF0000E78000E
3C000E1E000E0F000E7FE00E7FE00E7FE00E00000E00000E00000E00007E0000FE00007E00
00>
	 20 25 0 24 22] 107 @dc
[<
FE0FE0FE0FE0FE0FE038038038038038038038038038038038E38038E38039F38039B38039
B38039B38039B3803BBB803B1B803B1B803B1B803B1B803B1B803A0B80FE0FE0FE0FE0FC07
E0>
	 19 25 -1 24 22] 77 @dc
@F13 @sf
[<
03E0000FF8001FFC001E3C003C1E00780F00700700700700F00780E00380E00380E00380E0
0380E00380E00380E00380E00380700700700700780F00380E001E3C001FFC000FF80003E0
00>
	 17 25 -2 24 22] 48 @dc
@F4 @sf
[<
FFFF83FFFCFFFF83FFFC07F0003FC007F0007F8007F0007F0007F000FF0007F001FE0007F0
01FC0007F003F80007F007F80007F007F00007F00FE00007F01FE00007F01FC00007F83F80
0007FE7F800007F77F000007F3FE000007F1FE000007F0FC000007F038000007F018000007
F00E000007F007000007F003800007F001C00007F000E00007F000300007F000180007F000
0E0007F000070007F0000380FFFF803FFCFFFF803FFC>
	 38 34 -2 33 44] 75 @dc
@F8 @sf
[<
001FF80000FFFF0001F81F8007E007E00FC003F01F8001F83F8001FC3F0000FC7F0000FE7F
0000FE7E00007EFE00007FFE00007FFE00007FFE00007FFE00007FFE00007FFE00007FFE00
007FFE00007F7E00007E7E00007E7F0000FE3F0000FC1F0000F81F8001F80FC003F007E007
E001F81F8000FFFF00001FF800>
	 32 31 -3 30 39] 79 @dc
[<
FFFF03FFF0FFFF03FFF007E0007F0007E0007E0007E000FC0007E000FC0007E001F80007E0
03F00007E007E00007E00FE00007E00FC00007E01F800007F03F000007F87F000007EC7E00
0007E6FC000007E3F8000007E1F8000007E0F0000007E030000007E018000007E00C000007
E006000007E003800007E001C00007E000600007E000300007E000180007E0001E00FFFF00
FFE0FFFF00FFE0>
	 36 31 -2 30 41] 75 @dc

18 @eop0

0 0 18 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(Chapter)34 b(3)-436 246 y @F1 @sf(Directory)41 b(Salv)
-7 b(ager)41 b(P)m(ac)m(k)-7 b(age)-1423 280 y @F3 @sf(3.1)70 b(Imp)r
(orted)22 b(functions)-736 141 y @F12 @sf(F)l(rom)14 b(the)i(Directory)f
(pac)o(k)m(age:)-481 131 y @F13 @sf(dir_AddPage)o -241 46 a(dir_Delete)-220 
46 y(dir_Hash)-176 45 y(dir_Lookup)-220 46 y(dir_MakeDir)o -241 46 a
(dir_NamePie)o(ces)-394 154 y @F12 @sf(F)l(rom)f(the)i(Directory)f(Bu\013er)g
(pac)o(k)m(age:)-618 132 y @F13 @sf(dirb_Read)-198 46 y(dirb_Read0)-220 
45 y(dirb_Releas)o(e)-350 241 y @F3 @sf(3.2)70 b(Exp)r(orted)23 b
(functions)-734 141 y @F4 @sf(3.2.1)55 b(dirs)s 17 -2 z 17 x(OK)34 b 
@F12 @sf(|)15 b(Chec)o(k)h(directory)f(for)g(damage.)-1028 199 y @F13 @sf
(int)21 b @F8 @sf(dirs)s 16 -2 z 16 x(OK)p @F13 @sf(\()-294 56 y(IN)g
(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*file;)-584 57 y(IN)g(void)g
(\(*Log\)\(\);)-372 125 y @F12 @sf(3.2)29 b(Exp)q(orted)16 b(functions)463 b
(18)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
18 @eop1

19 @bop0
@F7 @sf
[<
7F03F0FF87F87F03F01C01C01C03801C03801C07001C07001C0E001C0E001E1C001F1C001F
B8001FB8001DF0001DF0001CF0001C70001C38001C3C001C1E001C0E001C07001C07801C03
C07F07F0FF87F87F07F0>
	 21 28 -1 27 24] 75 @dc
@F12 @sf
[<
7FFFFFE0FFFFFFF00000000000000000000000000000000000000000000000000000000000
000000FFFFFFF07FFFFFE0>
	 28 12 -3 16 35] 61 @dc
/@F11 @newfont
@F11 @sf
[<
000001C00000078000001E00000078000001E00000078000000E00000038000000F0000003
C000000F0000003C000000F0000000F00000003C0000000F00000003C0000000F000000038
0000000E0000000780000001E0000000780000001E0000000780000001C0>
	 26 26 -4 23 35] 60 @dc

19 @eop0

0 0 19 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F13 @sf(\))-22 202 y @F8 @sf(P)o(arameters)-192 108 y @F7 @sf
(file)22 b @F12 @sf(-)31 b(directory)15 b(to)g(b)q(e)h(c)o(hec)o(k)o(ed)f
(for)g(damage.)-876 75 y @F7 @sf(Log)22 b @F12 @sf(-)31 b(function)16 b
(to)f(whic)o(h)h(to)e(pass)h(error)g(message)f(strings.)-1159 170 y @F8 @sf
(Description)-262 96 y @F7 @sf(dirs)s 14 -2 z 14 x(OK)h @F12 @sf(reads)g
(the)g(directory)g(header,)g(and)h(c)o(hec)o(ks)f(for)g(the)g(follo)o
(wing)h(problems:)-1418 133 y @F10 @sf(\017)23 b @F12 @sf(I/O)15 b(errors)g
(reading)g(the)h(page;)-609 94 y @F10 @sf(\017)23 b @F9 @sf(dir)s 14 -2 z 
14 x(magic)15 b @F12 @sf(not)g(equal)h(to)e @F7 @sf(DIR)s 14 -2 z 14 x
(MAGIC)p @F12 @sf(.)-728 94 y @F10 @sf(\017)23 b @F12 @sf(in)o(v)m(alid)
17 b @F9 @sf(p)n(gc)n(ount)e @F12 @sf(\(=)e(0\);)-476 93 y @F10 @sf(\017)
23 b @F12 @sf(if)15 b @F9 @sf(p)n(gc)n(ount)g @F12 @sf(=)e(1,)i(in)o(v)m
(alid)i @F9 @sf(pnhimark)f @F12 @sf(\()p @F11 @sf(<)c @F12 @sf(5\);)-885 
133 y @F7 @sf(dirs)s 14 -2 z 14 x(OK)j @F12 @sf(then)g(reads)g(ev)o(ery)g
(page,)g(c)o(hec)o(king)h(for)f(the)g(follo)o(wing)h(problems:)-1284 133 y 
@F10 @sf(\017)23 b @F12 @sf(I/O)15 b(errors)g(reading)g(the)h(page;)-609 
94 y @F10 @sf(\017)23 b @F9 @sf(dir)s 14 -2 z 14 x(p)n(age)s 14 -2 z 13 x
(magic)16 b @F12 @sf(\014eld)g(not)f(equal)h(to)e @F7 @sf(DIR)s 14 -2 z 
14 x(PAGE)s 14 -2 z 14 x(MAGIC)g @F12 @sf(\(except)i(on)f(the)g(\014rst)g
(page\);)-1561 94 y @F10 @sf(\017)23 b @F12 @sf(in)o(v)m(alid)17 b @F9 @sf
(\015ist)e @F12 @sf(\()p @F11 @sf(<)d @F12 @sf(5\);)-401 94 y @F10 @sf(\017)
23 b @F12 @sf(an)o(y)14 b(in)o(v)m(ali)q(d)j @F9 @sf(hashT)m(able)d @F12 @sf
(en)o(tries)i(\()p @F11 @sf(<)c @F12 @sf(5\).)-820 133 y(On)k(eac)o(h)f
(page,)g @F7 @sf(dirs)s 14 -2 z 13 x(OK)g @F12 @sf(follo)o(ws)g(do)o(wn)g
(the)h(free)f(list,)h(c)o(hec)o(king)g(eac)o(h)f(free)g(area)g(for)f(in)o
(v)m(ali)q(d)j(\014elds:)-1728 133 y @F10 @sf(\017)23 b @F9 @sf(dir)s 14 
-2 z 14 x(entry)s 14 -2 z 13 x(magic)16 b @F12 @sf(not)e(equal)i(to)f 
@F7 @sf(NON)s 14 -2 z 14 x(ENTRY)s 14 -2 z 13 x(MAGIC)p @F12 @sf(;)-984 
93 y @F10 @sf(\017)23 b @F12 @sf(in)o(v)m(alid)17 b @F9 @sf(next)e @F12 @sf
(\014eld)h(\()p @F11 @sf(<)d @F12 @sf(5\);)-508 94 y @F10 @sf(\017)23 b 
@F9 @sf(length)14 b @F12 @sf(\014eld)j(0)d(or)h(p)q(oin)o(ting)h(past)f
(the)g(end)h(of)f(the)g(page;)-1046 94 y @F10 @sf(\017)23 b @F9 @sf(inuse)
14 b @F12 @sf(\014eld)j(not)d(clear.)-517 133 y(It)h(also)g(c)o(hec)o(ks)h
(the)f(free)g(area)g(for)g(problems)g(in)h(relation)g(to)f(other)g(areas)f
(on)h(the)g(free)h(list:)-1554 133 y @F10 @sf(\017)23 b @F12 @sf
(consecutiv)o(e)16 b(free)f(areas)g(that)f(ha)o(v)o(e)h(not)g(b)q(een)h
(coalesced;)-1143 148 y(3.2)29 b(Exp)q(orted)16 b(functions)463 b(19)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
19 @eop1

20 @bop0

20 @eop0
0 0 20 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1840 145 y @F10 @sf(\017)23 b @F12 @sf(free)15 b(areas)f(that)h(are)g
(out)g(of)f(address)i(order)f(on)g(the)g(free)g(list.)-1207 133 y @F7 @sf
(dirs)s 14 -2 z 14 x(OK)h @F12 @sf(constructs)h(a)f(map)h(of)f(free)h
(pieces)i(while)f(follo)o(wing)f(do)o(wn)g(the)g(free)g(list.)26 b(It)17 b
(c)o(hec)o(ks)g(whether)g(a)-1910 57 y(free)e(blo)q(c)o(k)h(o)o(v)o
(erlaps)f(existing)h(free)f(blo)q(c)o(ks,)h(using)g(this)g(map.)-1096 95 y
(After)g(c)o(hec)o(king)i(the)f(free)g(list,)g @F7 @sf(dirs)s 14 -2 z 14 x
(OK)f @F12 @sf(follo)o(ws)h(do)o(wn)g(eac)o(h)g(hash)f(c)o(hain)i(in)g
(turn,)e(c)o(hec)o(king)i(eac)o(h)f(en)o(try)-1910 57 y(on)e(the)g(c)o
(hain)h(for)f(in)o(v)m(alid)q 16 x(\014elds:)-522 133 y @F10 @sf(\017)23 b 
@F9 @sf(dir)s 14 -2 z 14 x(entry)s 14 -2 z 13 x(magic)16 b @F12 @sf(not)e
(equal)i(to)f @F7 @sf(ENTRY)s 14 -2 z 13 x(MAGIC)p @F12 @sf(;)-895 93 y 
@F10 @sf(\017)23 b @F12 @sf(in)o(v)m(alid)17 b @F9 @sf(next)e @F12 @sf
(\014eld)h(\()p @F11 @sf(<)d @F12 @sf(5\);)-508 94 y @F10 @sf(\017)23 b 
@F9 @sf(length)14 b @F12 @sf(\014eld)j(0)d(or)h(p)q(oin)o(ting)h(past)f
(the)g(end)h(of)f(the)g(page;)-1046 94 y @F10 @sf(\017)23 b @F9 @sf(inuse)
14 b @F12 @sf(\014eld)j(not)d(set;)-412 94 y @F10 @sf(\017)23 b @F12 @sf
(a)15 b(name)g(of)f(zero)i(length;)-489 94 y @F10 @sf(\017)23 b @F12 @sf
(a)15 b(name)g(longer)g(than)g(255)g(c)o(haracters;)-746 93 y @F10 @sf(\017)
23 b @F12 @sf(a)15 b(name)g(that)f(w)o(ould)i(not)f(\014t)g(in)h(the)f(n)o
(um)o(b)q(er)g(of)g(pieces)i(giv)o(en)f(b)o(y)f @F9 @sf(length)p @F12 @sf
(;)-1368 94 y @F10 @sf(\017)23 b @F12 @sf(a)15 b(name)g(that)f(is)i(to)q
(o)e(short)h(to)g(require)h(the)f(n)o(um)o(b)q(er)g(of)g(pieces)i(giv)o
(en)e(b)o(y)h @F9 @sf(length)p @F12 @sf(.)-1562 133 y(It)f(also)g(c)o(hec)o
(ks)h(that)e(the)i(name)f(hashes)g(to)g(a)g(v)m(alue)h(di\013eren)o(t)f
(from)g(that)f(of)h(the)g(c)o(hain)h(the)g(en)o(try)e(is)i(on.)-1873 96 y 
@F7 @sf(dirs)s 14 -2 z 14 x(OK)e @F12 @sf(constructs)h(a)g(map)g(of)f
(pieces)j(used)e(in)h(directory)f(en)o(tries,)g(based)h(on)f(the)g(lo)q
(cations)h(and)f(sizes)h(of)-1910 56 y(en)o(tries)i(found)f(on)g(hash)g(c)o
(hains.)27 b(It)17 b(c)o(hec)o(ks)g(whether)h(eac)o(h)f(en)o(try)g(o)o(v)o
(erlaps)f(existing)i(en)o(tries,)g(using)g(this)-1909 57 y(map.)i(When)15 b
(it)g(has)f(\014nished)q 16 x(all)i(the)e(hash)h(c)o(hains,)h(it)f(c)o
(hec)o(ks)g(for)f(consistency)h(b)q(et)o(w)o(een)h(the)e(map)h(of)f(free)
-1909 56 y(pieces)j(and)e(the)g(map)g(of)g(pieces)i(used)e(in)h(en)o
(tries)g(\(they)f(should)h(b)q(e)g(exactly)g(complemen)o(tary\).)-1702 96 y 
@F7 @sf(dirs)s 14 -2 z 14 x(OK)e @F12 @sf(do)q(es)h(not)f(p)q(erform)g(an)o
(y)h(consistency)g(c)o(hec)o(ks)g(on)f @F9 @sf(\014d)h @F12 @sf(\014elds)h
(in)f(directory)g(en)o(tries.)20 b(This)15 b(is)g(left)g(to)-1910 56 y
(higher-lev)o(el)q 17 x(comp)q(onen)o(ts)g(of)g(the)g(v)o(olume)g(salv)m
(ager.)-950 96 y @F7 @sf(dirs)s 14 -2 z 14 x(OK)h @F12 @sf(coun)o(ts)h
(the)g(n)o(um)o(b)q(er)g(of)g(en)o(tries)g(with)g(the)g(names)g(\\.")25 b
(and)17 b(\\..".)24 b(Of)17 b(course,)g(there)g(should)h(b)q(e)-1909 56 y
(exactly)e(one)f(of)g(eac)o(h.)-392 96 y(Up)q(on)e(encoun)o(tering)g(an)o
(y)e(damage,)h @F7 @sf(dirs)s 14 -2 z 14 x(OK)g @F12 @sf(comp)q(oses)g(an)g
(error)f(message)h(and)g(passes)g(it)h(to)e(the)i(function)-1909 56 y(p)q
(oin)o(ted)j(to)f(b)o(y)g @F7 @sf(Log)p @F12 @sf(.)k(It)c(then)h(returns)f
(without)g(c)o(hec)o(king)h(for)f(further)g(damage.)-1437 146 y @F8 @sf
(Return)j(Co)q(des)-250 95 y @F7 @sf(0)53 b @F12 @sf(The)15 b(directory)h
(is)g(damaged)f(in)h(some)e(w)o(a)o(y)l(.)-855 75 y @F7 @sf(1)53 b @F12 @sf
(The)15 b(directory)h(is)g(not)e(kno)o(wn)h(to)g(b)q(e)h(damaged.)-1012 
273 y(3.2)29 b(Exp)q(orted)16 b(functions)463 b(20)530 b(Marc)o(h)14 b(2,)h
(1993)f(13:59)-1911 b
20 @eop1

21 @bop0
@F4 @sf
[<
000E0000000E0000001F0000001F0000003F8000003F8000007FC000007CC000007CC00000
F8600000F8600001F0300001F0300003E0180003E0180007E01C0007C00C000FC00E000F80
06000F800600FFE01FE0FFE01FE0>
	 27 22 -1 21 30] 118 @dc
@F9 @sf
[<
81F80000C6060000E80380007000C0006000E0006000600060007000200030002000380020
003800000038000000380000007800000078000001F800001FF000007FF00001FFE00001FF
800003F8000003C0000003C00000038000000380010003800100038001000180010001C001
8000C003800060038000300580001C18C00007E040>
	 26 33 -3 31 26] 83 @dc

21 @eop0

0 0 21 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y 1875 -8 z 138 w @F4 @sf(3.2.2)55 b(dirs)s 17 -2 z 17 x(Salv)m
(age)33 b @F12 @sf(|)16 b(Salv)m(age)g(a)f(damaged)f(directory)l(.)-1138 
192 y @F13 @sf(void)21 b @F8 @sf(dirs)s 16 -2 z 15 x(Salv)m(age)p @F13 @sf
(\()-403 57 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*fromFil)o(e;)-671 
56 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*toFile;)o -627 57 a(IN)g
(void)g(\(*Log\)\(\);)-372 56 y(\))-22 192 y @F8 @sf(P)o(arameters)-192 
106 y @F7 @sf(fromFile)h @F12 @sf(-)30 b(damaged)15 b(directory)l(.)-638 
74 y @F7 @sf(toFile)22 b @F12 @sf(-)31 b(\(handle)16 b(for\))e(directory)h
(to)g(replace)h @F7 @sf(fromFile)p @F12 @sf(.)-1071 74 y @F7 @sf(Log)22 b 
@F12 @sf(-)31 b(function)16 b(to)f(whic)o(h)h(to)e(pass)h(error)g(message)f
(strings.)-1159 162 y @F8 @sf(Description)-262 95 y @F7 @sf(dirs)s 14 -2 z 
14 x(Salvage)j @F12 @sf(repairs)h(a)f(directory)l(.)29 b(Eac)o(h)17 b
(page)h(of)f(the)h(directory)h(is)f(rewritten)g(in)h(place.)28 b(Indivi)q
(du)q(al)-1908 57 y(en)o(tries)16 b(are)f(either)g(preserv)o(ed)h(or)f
(destro)o(y)o(ed,)f(and)i(hash)f(c)o(hains)h(are)f(completely)h(rebuil)q
(t)g(to)e(con)o(tain)i(only)-1909 56 y(the)j(preserv)o(ed)g(en)o(tries.)
30 b(Because)19 b(the)g(directory)g(is)g(carefully)h(rebuilt)g(in)g
(place,)g(blo)q(c)o(k)f(addresses)g(used)-1909 57 y(b)o(y)f(it)g(are)f
(unc)o(hanged.)29 b(A)18 b(damaged)f(directory)h(in)h(a)f(readonly)g
(clone)h(\014leset)g(can)e(b)q(e)i(salv)m(aged)f(without)-1909 56 y
(damaging)d(the)g(cop)o(y-on-write)h(references)g(from)e(the)h(read/write)g
(\014leset.)-1316 96 y @F7 @sf(dirs)s 14 -2 z 14 x(Salvage)e @F12 @sf(mak)o
(es)g(t)o(w)o(o)g(assumptions)h(ab)q(out)g(the)g(nature)g(of)f(the)h
(damage)g(to)f(the)h(data)f(it)i(is)f(trying)g(to)-1910 56 y(salv)m(age:)
21 b(\014rst,)14 b(that)h(all)h(p)q(oin)o(ters)g(on)f(the)h(page)f(\()p 
@F9 @sf(next)f @F12 @sf(p)q(oin)o(ters,)i(the)f(free)h(list)g(head,)f(and)h
(the)f(hash)h(c)o(hain)-1909 56 y(heads\))i(are)g(useless;)i(second,)e
(that)g(if)g(an)g(en)o(try)g @F9 @sf(lo)n(oks)f @F12 @sf(v)m(alid)i
(\(i.e.,)f(all)h(its)f(\014elds)i(pass)d(the)h(v)m(alid)q(it)o(y)h(tests)
-1910 57 y(p)q(erformed)c(b)o(y)h @F7 @sf(dirs)s 14 -2 z 13 x(OK)p @F12 @sf
(\),)e(it)i(is)g(v)m(alid,)g(and)f(should)i(b)q(e)e(salv)m(aged.)-1172 96 y
(Because)22 b(of)f(the)g(assumption)g(of)g(useless)h(p)q(oin)o(ters,)h 
@F7 @sf(dirs)s 14 -2 z 14 x(Salvage)d @F12 @sf(\014nds)i(en)o(tries)f(b)o
(y)g(a)g(linear)i(searc)o(h)-1910 56 y(through)e(eac)o(h)g(page.)37 b(A)o
(t)21 b(eac)o(h)g(piece,)i(it)f(runs)f(the)g(\014eld)h(v)m(alidi)q(t)o(y)g
(tests)e(from)h @F7 @sf(Dirs)s 14 -2 z 13 x(OK)p @F12 @sf(.)g(If)g(the)g
(piece)-1908 56 y(app)q(ears)c(to)f(b)q(e)i(the)f(start)f(of)g(a)h(v)m
(alid)i(free)e(area,)f(it)h(uses)g(the)g @F9 @sf(length)g @F12 @sf(\014eld)h
(to)e(skip)i(o)o(v)o(er)e(the)h(rest)g(of)f(that)-1910 57 y(area.)j(If)c
(the)f(piece)i(app)q(ears)e(to)g(b)q(e)h(the)f(start)g(of)f(a)h(v)m(alid)q 
15 x(en)o(try)l(,)g(it)h(creates)f(an)g(iden)o(tical)q 16 x(en)o(try)g(in)h
(the)f(new)-1909 56 y(directory)l(,)i(and)g(then)g(uses)g(the)f @F9 @sf
(length)g @F12 @sf(\014eld)i(to)e(skip)i(o)o(v)o(er)d(the)i(rest)f(of)h
(the)f(en)o(try)l(.)22 b(If)15 b(the)h(piece)h(is)f(neither)-1908 57 y(a)e
(v)m(alid)h(free)f(area)g(nor)g(a)f(v)m(alid)j(en)o(try)l(,)e(the)g @F9 @sf
(length)f @F12 @sf(\014eld)i(is)g(ignored)f(and)g(the)h(searc)o(h)e(con)o
(tin)o(ues)i(at)e(the)h(next)-1909 56 y(piece.)-110 96 y(Note)j(that)h(in)g
(testing)g(for)f(a)h(v)m(alid)h(free)f(area,)g @F9 @sf(dirs)s 14 -2 z 14 x
(Salvage)f @F12 @sf(do)q(es)h(not)f(p)q(erform)h(the)g(tests)f(of)h(the)f
(area's)-1910 56 y(relationship)f(to)e(other)g(free)g(areas.)19 b(In)c
(testing)g(for)f(a)g(v)m(alid)i(en)o(try)l(,)e(it)h(do)q(es)f(not)h(p)q
(erform)f(the)g(c)o(hec)o(k)h(on)f(the)-1909 57 y(hash)h(v)m(alue)g(of)f
(the)h(name.)20 b(These)14 b(omissions)i(are)e(consequences)h(of)g(the)f
(assumption)h(of)f(useless)h(p)q(oin)o(ters,)-1909 56 y(and)g(the)h
(linear)g(searc)o(h.)-429 125 y(3.2)29 b(Exp)q(orted)16 b(functions)463 b
(21)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
21 @eop1

22 @bop0
@F7 @sf
[<
7F07F0FF8FF87F07F01E03C00E03800E0780070700070F00038E00039E0001DC0001F80000
F80000F00000700000F00000F00001F80001F80003DC00039C00078E00070E000F07000E07
007F8FE07F9FE07F8FE0>
	 21 28 -1 27 24] 88 @dc

22 @eop0

0 0 22 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y(If)h @F9 @sf(p)n(gc)n(ount)f @F12 @sf(in)h(the)g(directory)f
(header)h(is)g(in)o(v)m(ali)q(d,)h(or)e(if)h(there)f(is)h(an)f(I/O)h
(error)f(reading)h(the)f(\014rst)h(page)f(of)-1910 57 y(the)e(old)h
(directory)l(,)g(or)f(if)h(there)f(is)h(an)g(I/O)f(error)g(while)i
(deleting)g(the)e(dumm)o(y)h(en)o(tries)g(for)e(\\.")19 b(and)c(\\..")k
(in)-1909 56 y(the)d(new)f(directory)l(,)h @F7 @sf(dirs)s 14 -2 z 13 x
(Salvage)f @F12 @sf(do)q(es)h(not)f(create)g(an)o(y)g(en)o(tries)h(in)g
(the)g(new)f(directory)l(.)21 b(If)16 b(there)g(is)f(an)-1909 56 y(I/O)f
(error)g(reading)g(an)o(y)g(other)g(page)f(of)h(the)g(old)h(directory)l(,)f
(or)g(if)g(the)g(magic)g(n)o(um)o(b)q(er)h(in)f(an)o(y)g(page)g(header)-1909 
57 y(is)20 b(in)o(v)m(ali)q(d,)h @F7 @sf(dirs)s 14 -2 z 14 x(Salvage)d 
@F12 @sf(go)q(es)i(to)f(the)g(next)h(page.)32 b @F7 @sf(dirs)s 14 -2 z 14 x
(Salvage)18 b @F12 @sf(c)o(hec)o(ks)i(whether)g(the)f(new)h(en)o(try)-1910 
56 y(already)14 b(exists)g(in)h(the)f(new)g(directory;)g(if)h(so,)e(it)h
(just)g(go)q(es)f(to)h(the)g(next)f(en)o(try)l(.)20 b(\(This)14 b(e\013ectiv)o
(ely)h(prev)o(en)o(ts)-1910 57 y(the)j(formation)g(of)g(duplicate)i(en)o
(tries)e(in)i(the)e(new)g(directory)l(.)30 b(Note)18 b(that)f @F7 @sf
(dirs)s 14 -2 z 14 x(OK)h @F12 @sf(do)q(es)h(not)e(c)o(hec)o(k)i(for)-1910 
56 y(dupli)q(cate)d(en)o(tries;)g(this)g(problem)g(is)g(caugh)o(t)f(only)h
(b)o(y)f @F7 @sf(dirs)s 14 -2 z 14 x(Salvage)p @F12 @sf(,)f(serendipi)q
(tously)l(.\))22 b(If)16 b @F7 @sf(dir)s 14 -2 z 13 x(Create)-1910 57 y 
@F12 @sf(returns)f(an)g(error)g(co)q(de,)g @F7 @sf(dirs)s 14 -2 z 14 x
(Salvage)f @F12 @sf(stops)h(trying)g(to)f(create)h(new)h(en)o(tries.)-1422 
95 y(In)h(an)o(y)f(of)g(the)h(ab)q(o)o(v)o(e)f(error)g(cases,)g @F7 @sf
(dirs)s 14 -2 z 14 x(Salvage)g @F12 @sf(comp)q(oses)g(an)h(error)e
(message,)h(and)h(passes)g(it)f(to)g(the)-1909 57 y(function)g(p)q(oin)o
(ted)g(to)f(b)o(y)g @F7 @sf(Log)p @F12 @sf(.)-546 145 y @F8 @sf(Return)j
(Co)q(des)-250 96 y @F7 @sf(0)53 b @F12 @sf(Success;)16 b(other)f(return)g
(co)q(des)g(are)g(or'ed)g(together)g(from:)-1108 75 y @F7 @sf(DIRS)s 14 
-2 z 14 x(EXIT)s 14 -2 z 13 x(NODOT)53 b @F12 @sf(Missing)16 b(\\.")-623 
75 y @F7 @sf(DIRS)s 14 -2 z 14 x(EXIT)s 14 -2 z 13 x(NODOTDOT)52 b @F12 @sf
(Missing)16 b(\\..")-707 75 y @F7 @sf(DIRS)s 14 -2 z 14 x(EXIT)s 14 -2 z 
13 x(BAD)53 b @F12 @sf(Serious)16 b(problems,)f(should)i(probably)e(pun)o
(t)h(and)f(remo)o(v)o(e)g(directory)-1579 75 y @F7 @sf(DIRS)s 14 -2 z 14 x
(EXIT)s 14 -2 z 13 x(IO)53 b @F12 @sf(I/O)16 b(error,)e(unkno)o(wn)h
(state)-901 1429 y(3.2)29 b(Exp)q(orted)16 b(functions)463 b(22)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
22 @eop1

23 @bop0
@F0 @sf
[<
0007FFFFFFC00007FFFFFFC00007FFFFFFC00007FFFFFFC0000001FFC000000001FFC00000
0001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC0000000
01FFC000000001FFC000FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC0F80000
FFC0007C0000FFC0003C0000FFC0001E0000FFC0000F0000FFC0000F8000FFC00007C000FF
C00003C000FFC00001E000FFC00000F000FFC00000F800FFC000007C00FFC000003C00FFC0
00001E00FFC000000F00FFC000000F80FFC0000007C0FFC0000003C0FFC0000001E0FFC000
0000F0FFC0000000F8FFC00000007CFFC00000003CFFC00000001EFFC00000000FFFC00000
000FFFC000000007FFC000000003FFC000000001FFC000000000FFC000000000FFC0000000
007FC0000000003FC0000000001FC0000000000FC0000000000FC00000000007C000>
	 42 55 -3 54 49] 52 @dc
@F1 @sf
[<
FFFFFFFFFFFFF80000FFFFFFFFFFFFFFC000FFFFFFFFFFFFFFF000FFFFFFFFFFFFFFFC00FF
FFFFFFFFFFFFFF00001FFF800001FFFF80001FFF8000003FFFE0001FFF8000001FFFE0001F
FF80000007FFF0001FFF80000007FFF8001FFF80000003FFFC001FFF80000001FFFC001FFF
80000001FFFE001FFF80000000FFFE001FFF80000000FFFE001FFF80000000FFFF001FFF80
000000FFFF001FFF80000000FFFF001FFF800000007FFF001FFF800000007FFF001FFF8000
00007FFF001FFF800000007FFF001FFF80000000FFFF001FFF80000000FFFE001FFF800000
00FFFE001FFF80000000FFFE001FFF80000000FFFC001FFF80000001FFFC001FFF80000001
FFF8001FFF80000003FFF8001FFF80000003FFF0001FFF80000007FFE0001FFF8000000FFF
C0001FFF8000003FFF00001FFF800000FFFC00001FFFFFFFFFFFF000001FFFFFFFFFFF8000
001FFFFFFFFFFE0000001FFFFFFFFFFFC000001FFF800007FFF000001FFF800001FFFC0000
1FFF8000007FFE00001FFF8000003FFF00001FFF8000001FFF80001FFF8000000FFFC0001F
FF8000000FFFE0001FFF80000007FFE0001FFF80000007FFF0001FFF80000003FFF0001FFF
80000003FFF8001FFF80000003FFF8001FFF80000003FFF8001FFF80000003FFF8001FFF80
000003FFF8001FFF80000003FFF8001FFF80000003FFF8001FFF80000003FFF8001FFF8000
0003FFF0001FFF80000007FFF0001FFF80000007FFF0001FFF80000007FFE0001FFF800000
0FFFC0001FFF8000001FFFC0001FFF8000003FFF80001FFF8000007FFF00001FFF800001FF
FE00FFFFFFFFFFFFFFF800FFFFFFFFFFFFFFF000FFFFFFFFFFFFFFC000FFFFFFFFFFFFFE00
00FFFFFFFFFFFFE00000>
	 72 71 -4 70 84] 66 @dc
[<
00003FFE007FFFE00001FFFF807FFFE00007FFFFE07FFFE0001FFFFFF87FFFE0003FFC00FC
7FFFE0007FF0003E7FF800007FE0001F7FF00000FFE0000F7FF00000FFE00007FFF00001FF
E00003FFF00001FFE00001FFF00001FFE00001FFF00001FFE00001FFF00001FFE00000FFF0
0001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE000
00FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001
FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FF
F00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE0
0000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF000
01FFE00000FFF00001FFE00000FFF00003FFE00001FFF000FFFFE0007FFFF000FFFFE0007F
FFF000FFFFE0007FFFF000FFFFE0007FFFF000FFFFE0007FFFF000007FE000003FF000>
	 59 46 -4 45 66] 117 @dc
[<
3FFFFFE03FFFFFF800003FFFFFE03FFFFFF800003FFFFFE03FFFFFF800003FFFFFE03FFFFF
F800003FFFFFE03FFFFFF80000007FF000007FF0000000007FF000007FF0000000007FF000
007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF000000000
7FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF000
0000007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF00000
7FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007F
F000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF00000
00007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007F
F0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF0
00007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000
007FF000007FF0000000007FF000007FF0000000007FF000007FF0000000007FF000007FF0
000000FFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFF0000FFFFFFFF
FFFFFFFF0000FFFFFFFFFFFFFFFF0000007FE000007FE0000000007FE000007FE000000000
7FE000007FE0000000007FE000007FE0000000007FE000007FE0000000007FE000007FE000
0000007FE000007FE0000000007FE000007FE0000000007FE000007FE0000000007FE00000
7FE0000000007FE000007FE0001C00007FE00001FFE0007F00007FE00001FFE000FF80007F
E00003FFE001FFC0003FF00003FFE001FFC0003FF00003FFF003FFE0001FF80003FFF003FF
E0001FFC0003FFF803FFE0000FFE0001FFF803FFE00007FF0001FFFC01FFC00003FFC000FF
FF01FFC00000FFFC00FFFFC0FF8000003FFFFFFFFFFFFF8000000FFFFFFC3FFFFE00000001
FFFFF007FFFC000000000FFF80007FE000>
	 75 72 -2 71 69] 11 @dc
@F3 @sf
[<
0000FFE00000000FFFFE0000003FC07F800000FF001FE00001FC0007F00003F80003F80007
F00001FC000FF00001FE001FE00000FF001FE00000FF003FC000007F803FC000007F807FC0
00007FC07FC000007FC07F8000003FC0FF8000003FE0FF8000003FE0FF8000003FE0FF8000
003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF8000003FE0FF800000
3FE07F8000003FC07F8000003FC07F8000003FC07FC000007FC03FC000007F803FC000007F
801FE00000FF001FE00000FF000FF00001FE0007F00001FC0003F80003F80001FC0007F000
007F001FC000003FC07F80000007FFFC00000000FFE00000>
	 43 41 -4 40 52] 79 @dc
[<
00078003C00000078003C000000FC007E000000FC007E000000FC007E000001FE00FF00000
1FE00FF000003FF01FF800003FF01FB800003FF01FB800007F783F3C00007F383F1C0000FF
383F1E0000FE1C7E0E0000FE1C7E0E0001FE1EFC0F0001FC0EFC070001FC0EFC070003F807
F8038003F807F8038007F807F803C007F003F001C007F003F001C00FE007E000E0FFFE7FFC
0FFEFFFE7FFC0FFEFFFE7FFC0FFE>
	 47 27 -1 26 50] 119 @dc
@F9 @sf
[<
000007C0FFF00C200F801C1007803C1007803C0807803C0807803C0003C01E0003C01E0003
C01E0003C01E0001E00F0001E00E0001E01E0001E01C0000F0380000FFF00000F01E0000F0
0700007801C0007801E0007800F0007800F0003C0078003C0078003C0078003C0078001E00
78001E0070001E00E0001E03C001FFFF00>
	 29 32 -3 30 33] 82 @dc
@F9 @sf
[<
04000800000006000800000006000C00000007001E00000007001E00000007801F00000007
801F0000000FC01E8000000F601E8000000F201E4000000F101E4000000F101E2000000F08
1E2000000F081E1000000F041E0800000F041E0800000F021E0400000F021E0400000F011E
0200000F009E0200000F009E0100000F005E0100000F005E0080000F003E00C0000F003E00
40000F003C0020000F003C0020000F003C0010000F003C0010001F003C0018001F003E001C
00FFF1FFC0FF80>
	 41 32 -9 30 45] 87 @dc
@F3 @sf
[<
FFFE3FFF80FFFE3FFF80FFFE3FFF800FE003F8000FE003F8000FE003F8000FE003F8000FE0
03F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8
000FE003F8000FE003F8000FE003F8000FE003F8000FF003F8000FF003F8000FF803F8000F
F803F0000FEE03F0000FE787E0000FE1FFC0000FE07F00000FE00000000FE00000000FE000
00000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE0000000
0FE00000000FE0000000FFE0000000FFE0000000FFE0000000>
	 33 42 -3 41 38] 104 @dc

23 @eop0

0 0 23 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(Chapter)34 b(4)-436 246 y @F1 @sf(Directory)41 b
(Bu\013er)g(P)m(ac)m(k)-7 b(age)-1313 280 y @F3 @sf(4.1)70 b(Ov)n(erview)o 
-440 141 a @F12 @sf(The)18 b(directory)g(bu\013er)f(pac)o(k)m(age)h(is)g
(resp)q(onsible)h(for)e(cac)o(hing)i(pages)e(of)g(directories.)28 b(Since)
19 b(it)f(sits)g(ab)q(o)o(v)o(e)-1910 56 y(the)13 b(ano)q(de)h(la)o(y)o
(er,)f(whic)o(h)h(has)f(its)g(o)o(wn)g(disk)h(bu\013er)f(system,)g(there)g
(are)g(really)h(t)o(w)o(o)e(la)o(y)o(ers)h(of)g(cac)o(hing)g(going)-1909 
57 y(on.)20 b(This)c(ma)o(y)e(seem)h(w)o(asteful,)g(but)g(it)h(is)g(a)e
(signi\014c)q(an)o(t)i(programming)e(con)o(v)o(enience.)-1538 95 y(The)h
(page)f(size)h(used)g(b)o(y)g(the)f(bu\013er)g(pac)o(k)m(age)h(\(8K\))f
(is)h(the)f(same)g(as)g(that)g(used)h(b)o(y)f(the)h(directory)f(pac)o(k)m
(age)-1909 57 y(prop)q(er.)27 b(In)18 b(AFS)f(3,)g(this)h(page)f(size)h
(\(whic)o(h)g(w)o(as)f(then)h(2K\))f(w)o(as)f(also)i(kno)o(wn)f(to)f(lo)o
(w)o(er-lev)o(el)j(pac)o(k)m(ages;)-1910 56 y(in)c(particular,)g(the)g
(imp)q(orted)g(functions)h @F9 @sf(R)n(e)n(al)r(lyR)n(e)n(ad)d @F12 @sf
(and)i @F9 @sf(R)n(e)n(al)r(lyWrite)f @F12 @sf(read)h(data)f(in)h(units)g
(of)g(this)g(page)-1910 57 y(size.)-83 95 y(Since)j(the)e(directory)g
(bu\013er)g(pac)o(k)m(age)h(do)q(es)f(not)g(exp)q(ort)g(the)g(bu\013er)g
(data)g(structure,)f(it)i(is)f(not)g(necessary)-1909 57 y(to)j(describ)q
(e)i(that)e(structure)g(to)g(see)h(ho)o(w)f(the)h(pac)o(k)m(age)g(in)o
(terfaces)g(with)f(other)h(pac)o(k)m(ages.)33 b(Ho)o(w)o(ev)o(er,)19 b(I)
-1909 56 y(describ)q(e)c(it)e(in)h(the)f(next)g(section)g(so)g(as)f(to)g
(allo)o(w)i(b)q(etter)f(understanding)h(of)e(whatev)o(er)h(p)q(erformance)g
(issues)-1909 57 y(ma)o(y)h(arise.)-202 182 y @F3 @sf(4.2)70 b(Data)23 b
(structures)f(and)i(algorithms)-1103 141 y @F12 @sf(A)e(bu\013er)g
(consists)g(of)g(a)g(descriptor)g(and)h(a)e(data)h(blo)q(c)o(k.)41 b(The)
22 b(bu\013er)g(p)q(o)q(ol)h(consists)f(of)g(an)g(arra)o(y)f(of)-1910 56 y
(descriptors)14 b(and)f(an)h(arra)o(y)e(of)h(data)g(blo)q(c)o(ks.)20 b
(Eac)o(h)13 b(descriptor)h(con)o(tains)g(\(among)e(other)h(things\))h(a)f
(p)q(oin)o(ter)-1909 56 y(to)k(the)h(corresp)q(onding)g(data)f(blo)q(c)o
(k.)29 b(In)18 b(principl)q(e,)i(these)d(p)q(oin)o(ters)i(are)e
(unnecessary)l(,)i(since)g(they)e(nev)o(er)-1909 57 y(c)o(hange)12 b(and)g
(are)g(easily)h(deriv)o(ed)g(from)e(the)h(arra)o(y)f(indexes.)20 b(Ho)o(w)o
(ev)o(er,)11 b(most)g(of)h(the)g(co)q(de)h(uses)f(the)g(p)q(oin)o(ters)-1909 
56 y(\(rather)i(than)h(arra)o(y)f(indexes\))j(to)d(get)h(around.)-841 96 y
(The)g(t)o(w)o(o)f(arra)o(ys)g(are)h(allo)q(cated)h(b)o(y)f(calli)q(ng)h 
@F7 @sf(osi)s 14 -2 z 14 x(Alloc)f @F12 @sf(during)h(initiali)q(zation.)
-1421 85 y(The)f(descriptor)h(data)f(structure)g(is)g(as)g(follo)o(ws:)-853 
184 y(4.2)29 b(Data)14 b(structures)h(and)h(algorithms)219 b(23)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
23 @eop1

24 @bop0
@F13 @sf
[<
001F80007F8000FF8001E00001C00001C00001C00001C00001C00001C00001C00001C00001
C00003C0007F8000FF0000FF00007F800003C00001C00001C00001C00001C00001C00001C0
0001C00001C00001C00001E00000FF80007F80001F80>
	 17 32 -2 28 22] 123 @dc
[<
003FE0007FF0003FE000070000070000070000070000070000070007C7001FE7003FF7003C
3F00700F00700F00E00700E00700E00700E00700E00700E00700700F00700F003C1F001FF7
000FE70007C700>
	 20 27 -2 17 22] 113 @dc
[<
C00000E00000E000007000007000003800003800001C00001C00000E00000E000007000007
000003800003800001C00001C00000E00000E000007000007000003800003800001C00001C
00000E00000E00000700000700000380000380000180>
	 17 32 -2 28 22] 47 @dc
[<
7F1FC0FF3FE07F1FC00E0E00071C00073C0003B80001F00001E00000E00001F00003F00003
B800073C000F1C007F1FC07F3FC07F1FC0>
	 19 18 -1 17 22] 120 @dc
[<
7C0000FF0000FF800003C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001E00000FF00007F80007F8000FF0001E00001C00001C00001C00001C00001C00001C0
0001C00001C00001C00003C000FF8000FF00007C0000>
	 17 32 -2 28 22] 125 @dc
@F9 @sf
[<
FFF8000F800007800007800007800007800003C00003C00003C00003C00001E00001E00001
E00001E00000F00000F00000F00000F000007800007800007800007800003C00003C00003C
00003C00001E00001E00001E00001F0001FFF0>
	 20 31 -3 30 18] 73 @dc
@F7 @sf
[<
7F07F0FF8FF87F07F01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C
01C01FFFC01FFFC01FFFC01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01
C07F07F0FF8FF87F07F0>
	 21 28 -1 27 24] 72 @dc
@F8 @sf
[<
0003FC0000001FFF8000007E03C00000F800600001F000300001F000180003E000180007E0
000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C
0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007
E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C0007E0000C00FFFF01
FFE0FFFF01FFE0>
	 35 31 -2 30 40] 85 @dc
@F7 @sf
[<
0707000F8F800F8F800D8D800DDD800DDD800DDD801CD9C01CD9C01CF9C01CF9C01C71C01C
01C01C01C03800E03800E03800E0FF8FF8FF8FF8FF8FF8>
	 21 20 -1 19 24] 119 @dc
@F8 @sf
[<
181F801C7FE01EC1F81F807C1F007C1F003E1F003E1F003F1F003F1F003F1F003F1F003F1F
003F1F003E1F003E1F007E1F807C1FE0F81F7FF01F1FC01F00001F00001F00001F00001F00
001F00001F00001F00001F00001F0000FF0000FF0000>
	 24 32 -2 31 29] 98 @dc

24 @eop0

0 0 24 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F13 @sf(struct)21 b(buffer)f({)-218 46 y(struct)h(squeue)f
(lruq;)152 b(/*)21 b(links)g(to)g(lru)g(queue)g(*/)-1090 45 y(struct)g
(Dir_Hand)o(le)f(dir;)87 b(/*)21 b(directory)f(*/)-894 46 y(long)h(page;)
348 b(/*)21 b(page)g(number)f(within)h(directory)f(*/)-1308 46 y(struct)h
(buffer)f(*hashNext;)o 43 x(/*)h(next)g(pointer)f(in)i(hash)f(chain)f(*/)
-1264 45 y(caddr_t)g(data;)283 b(/*)21 b(pointer)f(to)i(data)f(block)f(*/)
-1155 46 y(char)h(lockers;)282 b(/*)21 b(use)g(count)g(*/)-894 46 y(char)g
(hashIndex;)o 239 x(/*)g(current)f(hash)h(index)g(*/)-1199 45 y(};)-44 146 y 
@F8 @sf(Hash)15 b(function:)k @F12 @sf(Directory)13 b(pages)f(are)h
(hashed.)20 b(The)13 b(hash)f(function)i(tak)o(es)e(in)o(to)h(accoun)o(t)f
(the)h(directory)-1909 56 y(\014le)k(and)f(the)f(page)h(n)o(um)o(b)q(er.)
21 b(The)16 b @F9 @sf(hashIndex)f @F12 @sf(\014eld)i(in)g(a)e(bu\013er)h
(descriptor)g(mak)o(es)f(it)h(easy)f(to)g(determine)-1908 57 y(what)g
(hash)g(c)o(hain)h(the)f(bu\013er)g(is)h(on,)f(so)g(that)f(it)i(can)f(b)q
(e)h(remo)o(v)o(ed)e(if)i(it)g(is)f(needed)i(for)d(a)h(new)h(request.)-1837 
95 y(In)21 b(AFS)f(3,)h(the)g(hash)f(function)i(w)o(as)d(the)i(lo)o
(w-order)f(5)g(bits)h(of)f(the)g(\014rst)g(w)o(ord)g(of)g(the)g(pac)o(k)m
(age)h(user's)-1910 57 y @F7 @sf(DirHandle)14 b @F12 @sf(structure.)20 b
(This)15 b(w)o(ord)g(had)g(di\013eren)o(t)h(con)o(ten)o(ts)e(dep)q(endi)q
(ng)j(on)e(who)g(the)g(directory)g(pac)o(k)m(age)-1909 56 y(user)h(w)o
(as,)g(and)g(moreo)o(v)o(er,)f(in)i(the)g(\014le)g(serv)o(er,)f(where)g
(the)h(w)o(ord)e(w)o(as)h(divided)q 17 x(in)o(to)h(t)o(w)o(o)e(t)o(w)o
(o-b)o(yte)g(\014elds,)-1909 57 y(the)e(lo)o(w-order)g(5)g(bits)h(had)f
(di\013eren)o(t)h(meaning)f(dep)q(end)q(ing)i(on)e(whether)g(the)h(arc)o
(hitecture)f(w)o(as)f(big-endi)q(an)-1908 56 y(or)j(little-endi)q(an.)21 b
(Th)o(us)16 b(if)f(this)h(hash)f(function)h(w)o(as)f(an)o(y)f(go)q(o)q(d,)h
(it)h(w)o(as)e(purely)i(b)o(y)f(acciden)o(t.)-1666 96 y(With)g(the)g(new)h 
@F7 @sf(DirHandle)d @F12 @sf(ob)s(ject)i(structure)f(\(see)h(Chapter)g
(6\),)f(the)h(pac)o(k)m(age)g(user)g(pro)o(vides)h(a)f(function)-1909 56 y
(that)i(extracts)g(a)h(hashable)h(v)m(alue)g(from)e(the)h(directory)h
(handle)g(\014elds.)29 b(Curren)o(tly)18 b(the)g(directory)g(bu\013er)-1909 
57 y(pac)o(k)m(age)h(will)h(tak)o(e)e(the)h(lo)o(w)o(est)f(5)g(bits)h(of)g
(this)g(v)m(alue,)h(but)f(the)g(n)o(um)o(b)q(er)g(5)f(could)i(b)q(e)f(c)o
(hanged)g(in)h(other)-1910 56 y(v)o(ersions.)34 b(The)20 b(pac)o(k)m(age)g
(user)g(is)h(free)f(to)f(extract)g(a)h(v)m(alue)h(that)e(is)i(lik)o(ely)g
(to)f(b)q(e)g(random.)34 b(The)20 b(v)m(alue)-1908 57 y(supplie)q(d)c(b)o
(y)f(the)g(vno)q(de)g(ops)g(la)o(y)o(er)g(at)f(this)h(writing)g(is)h(the)f
(sum)f(of)h(the)g(directory's)f(index)i(in)g(the)f(v)o(olume)-1909 56 y
(table)e(and)g(the)g(page)g(n)o(um)o(b)q(er.)19 b(In)14 b(an)f(earlier)g
(v)o(ersion,)h(the)f(ano)q(de)g(handle)h(\(whic)o(h)f(is)h(a)e(p)q(oin)o
(ter\))h(w)o(as)f(used,)-1909 56 y(but)j(this)h(w)o(as)e(not)h(\\random")f
(enough.)-706 96 y(A)j(p)q(oin)o(ter)h(to)f(the)g(bu\013er)h(most)e(recen)o
(tly)i(accessed)g(serv)o(es)f(as)g(a)g(cac)o(he)h(of)f(size)h(1)f(to)g(b)o
(ypass)g(hash)h(c)o(hain)-1909 56 y(searc)o(hes.)-174 96 y @F8 @sf(LR)o(U)g
(algorithm:)k @F12 @sf(A)15 b(queue)i(of)e(all)h(bu\013ers)g(is)g(main)o
(tained)g(in)h(LR)o(U)f(order:)k(when)c(a)f(bu\013er)h(is)g(accessed)-1909 
57 y(\(via)e @F7 @sf(dirb)s 14 -2 z 13 x(Read)g @F12 @sf(or)f @F7 @sf
(dirb)s 14 -2 z 14 x(New)p @F12 @sf(\),)g(it)h(is)g(tak)o(en)g(out)f(of)g
(the)h(queue)h(and)f(put)g(bac)o(k)g(in)h(at)e(the)h(head,)g(and)g(when)
-1909 56 y(there)h(is)h(a)f(request)g(for)g(a)g(new)g(bu\013er,)g(the)g
(new)g(bu\013er)h(is)f(tak)o(en)g(from)g(the)g(tail.)-1437 96 y @F8 @sf
(lo)q(c)o(k)o(ers:)22 b @F12 @sf(The)17 b @F9 @sf(lo)n(ckers)e @F12 @sf
(\014eld)j(in)g(a)e(bu\013er)h(is)g(incremen)o(ted)h(when)f(the)g(bu\013er)g
(\014rst)f(starts)f(to)h(b)q(e)i(accessed)-1909 56 y(\(function)d @F7 @sf
(dirb)s 14 -2 z 14 x(Read)f @F12 @sf(or)g @F7 @sf(dirb)s 14 -2 z 14 x(New)p 
@F12 @sf(\),)f(and)i(decremen)o(ted)g(when)g(the)g(accessor)f(signals)i
(that)e(it)h(is)g(\014nished)-1908 56 y(\(function)20 b @F7 @sf(dirb)s 14 
-2 z 13 x(Release)p @F12 @sf(\).)31 b(A)19 b(non-zero)h(v)m(alue)g(th)o
(us)f(indic)q(ates)h(that)e(the)i(bu\013er)f(should)h(not)f(b)q(e)h(used)
-1909 57 y(to)i(satisfy)g(requests)h(\()p @F9 @sf(i.e.)p @F12 @sf(,)g(the)g
(LR)o(U)g(algorithm)f(should)i(ignore)f(the)f(bu\013er\).)42 b(This)23 b
(ensures)g(that)f(if)-1909 56 y(someone)g(w)o(an)o(ts)f(to)g(examine)i(t)o
(w)o(o)e(pages)h(from)f(the)h(same)g(directory)g(at)g(the)g(same)g(time,)h
(the)f(bu\013er)-1909 57 y(pac)o(k)m(age)14 b(w)o(on't)f(try)g(to)h(use)g
(the)g(same)g(bu\013er)g(for)f(b)q(oth)i(pages.)k(It)14 b(is)h @F9 @sf
(not)e @F12 @sf(a)h(mec)o(hanism)h(for)e(lo)q(c)o(king)i(in)g(the)-1909 
56 y(usual)h(\(m)o(ultipro)q(cessing\))g(sense)g(of)f(the)g(w)o(ord.)-836 
96 y @F8 @sf(Status)e(v)m(ariables:)18 b @F12 @sf(Tw)o(o)10 b(status)g(v)m
(ariables)j(are)d(main)o(tained)i(and)f(can)g(b)q(e)h(queried)g(b)o(y)f
(calls)h(to)e @F7 @sf(dirb)s 14 -2 z 13 x(Stat)p @F12 @sf(.)-1910 56 y
(The)h(v)m(ariable)i @F9 @sf(c)n(al)r(ls)d @F12 @sf(coun)o(ts)g(requests)h
(to)g(access)g(directory)g(pages)g(\()p @F9 @sf(i.e.)p @F12 @sf(,)g(calls)h
(to)f @F7 @sf(dirb)s 14 -2 z 13 x(Read)p @F12 @sf(\).)18 b(The)11 b(v)m
(ariable)-1908 57 y @F9 @sf(ios)j @F12 @sf(coun)o(ts)g(requests)h(that)f
(resulted)h(in)h(reading)f(of)f(the)g(disk)i(\(or)d(at)h(least,)h
(resulted)g(in)g(calls)h(to)e @F7 @sf(dh)s 14 -2 z 14 x(Read)p @F12 @sf
(\).)-1911 191 y(4.3)29 b(P)o(artial)15 b(pages)584 b(24)530 b(Marc)o(h)
14 b(2,)h(1993)f(13:59)-1911 b
24 @eop1

25 @bop0

25 @eop0
0 0 25 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F3 @sf(4.3)70 b(P)n(artial)22 b(pages)-549 141 y @F12 @sf
(The)13 b(directory)f(bu\013er)h(pac)o(k)m(age)f(m)o(ust)g(pro)q(ceed)h
(with)g(caution)g(in)g(reading)g(the)f(\014rst)g(page)h(of)f(a)g
(directory)l(.)19 b(If)-1909 56 y(a)12 b(directory)h(\014ts)f(in)h(one)g
(page,)f(it)h(ma)o(y)f(b)q(e)h(less)g(than)f(one)h(page)f(long.)19 b(F)l
(or)12 b(suc)o(h)h(a)f(directory)l(,)h(if)g(the)f(pac)o(k)m(age)-1909 57 y
(simply)18 b(called)f(the)g @F7 @sf(dh)s 14 -2 z 14 x(Read)e @F12 @sf
(function,)i(requesting)g(8K)f(b)o(ytes)h(to)e(b)q(e)i(read,)f(that)g
(function)h(w)o(ould)f(return)-1909 56 y(an)e(error)g(co)q(de.)20 b
(Instead,)15 b(when)g(the)f(pac)o(k)m(age)g(gets)g(a)g(request)h(to)e
(read)i(the)f(\014rst)g(page)g(of)g(the)h(directory)l(,)f(it)-1909 57 y
(\014rst)h(calls)h @F7 @sf(dh)s 14 -2 z 14 x(Len)f @F12 @sf(to)f
(determine)j(ho)o(w)d(m)o(uc)o(h)h(of)g(that)g(page)g(exists,)g(and)g
(then)h(reads)f(as)g(m)o(uc)o(h)g(as)g(it)g(can.)-1895 182 y @F3 @sf(4.4)
70 b(Exp)r(orted)23 b(functions)-734 140 y @F4 @sf(4.4.1)55 b(dirb)s 17 
-2 z 17 x(Read)34 b @F12 @sf(|)15 b(Access)h(a)f(directory)g(page.)-993 
202 y @F13 @sf(caddr)s 13 -2 z 12 x(t)21 b @F8 @sf(dirb)s 16 -2 z 16 x
(Read)p @F13 @sf(\()-420 57 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g
(*fid;)-562 56 y(IN)g(int)h(page;)-263 57 y(\))-22 202 y @F8 @sf(P)o
(arameters)-192 108 y @F7 @sf(fid)g @F12 @sf(-)31 b(directory)15 b(to)g(b)q
(e)h(accessed.)-628 75 y @F7 @sf(page)22 b @F12 @sf(-)31 b(page)15 b(n)o
(um)o(b)q(er)g(\(within)h(the)g(directory\))f(of)g(page)g(to)f(b)q(e)i
(accessed.)-1406 170 y @F8 @sf(Description)-262 96 y @F12 @sf(This)g
(function)g(returns)f(a)g(p)q(oin)o(ter)h(to)f(the)g(start)f(of)h(an)h
(in-core)g(image)f(\(bu\013er\))g(of)g(the)g(giv)o(en)h(page)f(of)g(the)
-1909 56 y(giv)o(en)h(directory)l(.)-306 96 y(It)i(incremen)o(ts)h(the)f
(status)f(v)m(ariable)j @F9 @sf(c)n(al)r(ls)p @F12 @sf(.)27 b(If)19 b(the)f
(page)g(w)o(as)f(not)h(already)g(in)h(a)f(bu\013er,)h(that)e(is,)i(if)g
(it)f(is)-1909 56 y(necessary)d(to)g(call)h @F7 @sf(dh)s 14 -2 z 14 x
(Read)f @F12 @sf(to)f(\014ll)j(a)e(bu\013er,)g(the)g(status)f(v)m(ariable)j 
@F9 @sf(ios)e @F12 @sf(is)g(also)h(incremen)o(ted.)-1662 96 y(The)h
(resulting)h(bu\013er)e(is)i(\\lo)q(c)o(k)o(ed")e(and)h(cannot)g(b)q(e)g
(used)g(for)g(an)o(y)f(other)g(page)h(un)o(til)h(the)e(corresp)q(onding)
-1908 56 y(call)g(to)f @F7 @sf(dirb)s 14 -2 z 14 x(Release)p @F12 @sf(.)
-433 96 y(If)g(no)h(bu\013er)f(is)g(a)o(v)m(ailable)q 16 x(b)q(ecause)i
(all)f(bu\013ers)f(are)g(lo)q(c)o(k)o(ed,)g(the)g(function)h @F7 @sf(Die)f 
@F12 @sf(is)h(called.)-1592 95 y(When)d @F7 @sf(page)e @F12 @sf(is)i
(zero,)g(this)f(function)i(determines)f(whether)f(the)h(directory)f(is)h
(less)g(than)f(one)h(page)f(in)h(length,)-1909 57 y(and)j(if)g(so,)f(it)h
(only)g(reads)g(as)f(m)o(uc)o(h)h(of)f(the)h(page)g(as)f(there)h(is.)22 b
(If)16 b @F7 @sf(page)f @F12 @sf(is)h(non-zero)g(or)f(if)h(the)g
(directory)g(is)-1909 56 y(more)f(than)g(one)g(page)g(long,)g(this)h
(function)g(alw)o(a)o(ys)e(tries)i(to)e(read)i(a)e(full)j(page)e(of)g
(data.)-1568 198 y(4.4)29 b(Exp)q(orted)16 b(functions)463 b(25)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
25 @eop1

26 @bop0
@F8 @sf
[<
01FC0007FF001F8FC01E03C03E03E07C01F07C01F07C01F0FC01F8FC01F8FC01F8FC01F8FC
01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F8FC01F87C01F07C01F07C01F03E03
E01E03C01F07C007FF0001FC00>
	 21 29 -2 28 26] 48 @dc
@F4 @sf
[<
001800C000003800E000003C01E000007C01F000007E03F000007E03F00000FE03D80000FB
07D80001FB079C0001F38F8C0001F18F0C0003E18F060003E0DF060007E0DE070007C0DE03
0007C07E03000F807C01800F807C01800F807801801F007800C0FFE7FF07F8FFE7FF07F8>
	 37 22 -1 21 40] 119 @dc

26 @eop0

0 0 26 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F8 @sf(Return)i(Co)q(des)-250 96 y @F7 @sf(0)53 b @F12 @sf(F)l
(ailure)16 b(caused)g(b)o(y)f(unsuccessful)q 16 x(call)i(to)d @F7 @sf(dh)s 
14 -2 z 14 x(Read)p @F12 @sf(.)-1079 195 y 1875 -8 z 140 w @F4 @sf(4.4.2)
55 b(dirb)s 17 -2 z 17 x(Read0)34 b @F12 @sf(|)15 b(Access)h(a)f
(directory)g(page.)-1021 201 y @F13 @sf(caddr)s 13 -2 z 12 x(t)21 b @F8 @sf
(dirb)s 16 -2 z 16 x(Read0)p @F13 @sf(\()-446 57 y(IN)g(struct)g(Dir)s 13 
-2 z 12 x(Handle)g(*fid;)-562 56 y(IN)g(int)h(page;)-263 57 y(OUT)f(int)g
(*reallength;)o -437 56 a(\))-22 202 y @F8 @sf(P)o(arameters)-192 108 y 
@F7 @sf(fid)h @F12 @sf(-)31 b(directory)l(.)-327 75 y @F7 @sf(page)22 b 
@F12 @sf(-)31 b(page)15 b(n)o(um)o(b)q(er.)-433 75 y @F7 @sf(reallength)
22 b @F12 @sf(-)30 b(p)q(oin)o(ter)16 b(to)e(place)i(to)f(put)g(the)h(n)o
(um)o(b)q(er)f(of)g(b)o(ytes)g(read.)-1358 171 y @F8 @sf(Description)-262 
95 y @F12 @sf(This)f(is)g(similar)h(to)e @F7 @sf(dirb)s 14 -2 z 13 x(Read)p 
@F12 @sf(,)g(but)h(if)g(the)g(page)f(n)o(um)o(b)q(er)h(is)g(zero,)f(the)h
(n)o(um)o(b)q(er)g(of)f(b)o(ytes)g(actually)h(read)g(is)-1909 57 y
(recorded)h(in)h(the)e(lo)q(cation)i(p)q(oin)o(ted)g(to)e(b)o(y)g
(reallength.)21 b(This)15 b(enables)h(the)f(salv)m(ager)g(to)f(c)o(hec)o
(k)h(that)f(length)-1909 56 y(against)h(the)g @F9 @sf(pnhimark)h @F12 @sf
(\014eld)g(if)g(the)f(directory)h(is)f(only)h(one)f(page)g(long.)-1279 96 y 
1875 -8 z 139 w @F4 @sf(4.4.3)55 b(dirb)s 17 -2 z 17 x(New)34 b @F12 @sf
(|)15 b(Access)h(a)f(newly)h(created)f(directory)h(page.)-1267 202 y 
@F13 @sf(caddr)s 13 -2 z 12 x(t)21 b @F8 @sf(dirb)s 16 -2 z 16 x(New)p 
@F13 @sf(\()-406 57 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*fid;)-562 
56 y(IN)g(int)h(page;)-263 57 y(\))-22 270 y @F12 @sf(4.4)29 b(Exp)q
(orted)16 b(functions)463 b(26)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
26 @eop1

27 @bop0

27 @eop0
0 0 27 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F8 @sf(P)o(arameters)-192 105 y @F7 @sf(fid)22 b @F12 @sf(-)
31 b(directory)15 b(to)g(whic)o(h)h(new)f(page)g(is)h(to)f(b)q(e)h(added.)
-1013 73 y @F7 @sf(page)22 b @F12 @sf(-)31 b(page)15 b(n)o(um)o(b)q(er)g
(of)g(new)h(page.)-755 154 y @F8 @sf(Description)-262 96 y @F12 @sf(This)e
(function)h(is)f(similar)h(to)d @F7 @sf(dirb)s 14 -2 z 14 x(Read)p @F12 @sf
(,)h(but)h(since)h(the)e(page)h(is)g(kno)o(wn)f(not)g(to)g(exist)h(y)o
(et,)f(there)h(is)g(nev)o(er)-1909 56 y(an)o(y)h(need)h(to)e(read)i(it)f
(from)g(disk.)20 b(Also,)15 b(the)h(function)g(do)q(es)f(not)g(incremen)o
(t)h(the)f(status)g(v)m(ariable)h @F9 @sf(c)n(al)r(ls)p @F12 @sf(.)-1863 
96 y 1875 -8 z 137 w @F4 @sf(4.4.4)55 b(dirb)s 17 -2 z 17 x(Release)32 b 
@F12 @sf(|)16 b(End)g(of)e(accessing)i(of)f(directory)g(page.)-1262 183 y 
@F13 @sf(void)21 b @F8 @sf(dirb)s 16 -2 z 16 x(Release)p @F13 @sf(\()-415 
56 y(IN)g(caddr)s 13 -2 z 12 x(t)h(bp;)-300 57 y(\))-22 183 y @F8 @sf(P)o
(arameters)-192 105 y @F7 @sf(bp)h @F12 @sf(-)30 b(p)q(oin)o(ter)16 b(to)e
(the)i(\014rst)e(b)o(yte)h(of)g(the)g(bu\013er)h(for)e(the)h(page.)-1183 
155 y @F8 @sf(Description)-262 95 y @F12 @sf(This)h(function)g(releases)g
(a)e(bu\013er)i(for)e(re-use.)21 b(It)15 b(do)q(es)g(so)g(b)o(y)g(\\unlo)q
(c)o(king")i(the)e(bu\013er.)-1562 96 y(If)f @F9 @sf(bp)h @F12 @sf(is)f
(zero,)g(this)h(function)g(do)q(es)f(nothing.)20 b(Consequen)o(tly)l(,)15 b
(the)f(follo)o(wing)h(programming)f(discipl)q(ine)q 15 x(can)-1909 56 y(b)q
(e)h(adopted:)k(ev)o(ery)14 b(v)m(alue)h(returned)g(from)e @F7 @sf(dirb)s 
14 -2 z 14 x(Read)g @F12 @sf(should)j(ev)o(en)o(tually)f(b)q(e)f(passed)h
(to)e @F7 @sf(dirb)s 14 -2 z 14 x(Release)p @F12 @sf(,)-1911 57 y
(regardless)18 b(of)g(whether)g(that)f(v)m(alue)i(is)f(a)g(v)m(alid)i(p)q
(oin)o(ter)e(or)f(a)h(\(zero\))f(return)h(co)q(de.)29 b(I)18 b(ha)o(v)o(e)f
(not)h(c)o(hec)o(k)o(ed)-1909 56 y(whether)d(this)h(discipl)q(i)q(ne)h(w)o
(as)d(adhered)i(to)f(in)h(the)f(existing)h(\(AFS)f(3\))f(co)q(de.)-1356 
96 y 1875 -8 z 137 w @F4 @sf(4.4.5)55 b(dirb)s 17 -2 z 17 x(Ann)n(ul)35 b 
@F12 @sf(|)15 b(Disasso)q(ciate)h(bu\013ers)f(from)f(a)h(directory)l(.)-1273 
183 y @F13 @sf(void)21 b @F8 @sf(dirb)s 16 -2 z 16 x(Ann)o(ul)p @F13 @sf
(\()-384 56 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*fid;)-562 57 y(\))
-22 229 y @F12 @sf(4.4)29 b(Exp)q(orted)16 b(functions)463 b(27)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
27 @eop1

28 @bop0

28 @eop0
0 0 28 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F8 @sf(P)o(arameters)-192 108 y @F7 @sf(fid)22 b @F12 @sf(-)
31 b(directory)15 b(to)g(b)q(e)h(remo)o(v)o(ed.)-700 167 y @F8 @sf
(Description)-262 96 y @F12 @sf(F)l(or)c(eac)o(h)h(bu\013er)g(asso)q
(ciated)h(with)f(the)g(directory)l(,)g(its)h @F9 @sf(\014d)e @F12 @sf
(\014eld)j(is)e(cleared,)h(with)f(the)g(e\013ect)g(that)f(the)h(bu\013er)
-1909 56 y(w)o(ould)j(not)e(b)q(e)i(found)g(b)o(y)f(subsequen)o(t)h(calls)g
(to)f @F7 @sf(dirb)s 14 -2 z 13 x(Read)p @F12 @sf(,)f(if)i(there)f(w)o
(ere)g(an)o(y)l(.)-1434 96 y(This)k(function)h(should)g(b)q(e)g(called)g
(when)f(old)h(handles)g(asso)q(ciated)f(with)g(a)g(directory)g(b)q(ecome)g
(obsolete.)-1909 56 y(F)l(or)d(instance,)i(in)g(the)f(DCE)f(LFS)i(vno)q
(de)f(ops)g(la)o(y)o(er,)g(when)h(a)e(directory)h(is)h(deleted,)g(a)f
(directory)g(handle)-1908 57 y(for)e(it)g(is)h(constructed)f(and)g(passed)h
(to)e @F7 @sf(dirb)s 14 -2 z 14 x(Annul)p @F12 @sf(.)-940 95 y 1875 -8 z 
139 w @F4 @sf(4.4.6)55 b(dirb)s 17 -2 z 17 x(Init)33 b @F12 @sf(|)16 b
(Initiali)q(ze)h(directory)e(bu\013er)h(pac)o(k)m(age.)-1155 199 y @F13 @sf
(void)21 b @F8 @sf(dirb)s 16 -2 z 16 x(Init)p @F13 @sf(\()-327 56 y(IN)g
(int)h(abuffers)o(;)-350 57 y(\))-22 198 y @F8 @sf(P)o(arameters)-192 108 y 
@F7 @sf(abuffers)g @F12 @sf(-)30 b(n)o(um)o(b)q(er)16 b(of)f(bu\013ers)g
(to)f(allo)q(cate.)-915 167 y @F8 @sf(Description)-262 96 y @F12 @sf(This)k
(function)g(allo)q(cates)g(bu\013ers,)g(and)f(initi)q(ali)q(zes)i(all)f
(the)g(bu\013ers)f(and)g(all)i(the)e(static)g(v)m(ariables)i(of)e(this)-1909 
56 y(pac)o(k)m(age)f(\()p @F9 @sf(e.g.)p @F12 @sf(,)f(the)g(time)i(coun)o
(ter)e(and)h(the)g(hash)g(table\).)21 b(An)o(y)16 b(previous)h(bu\013ers)e
(or)h(v)m(ariable)h(v)m(alues)g(are)-1910 57 y(lost.)-84 95 y(The)c
(argumen)o(t)f(m)o(ust)h(b)q(e)g(a)g(p)q(ositiv)o(e)h(in)o(teger.)19 b(In)
13 b(addition,)h(an)f(argumen)o(t)f(of)h(1)f(is)i(in)o(v)m(alid)q(,)g(as)e
(it)i(will)g(cause)-1909 57 y(deadlo)q(c)o(k)g(\(the)g(directory)g(pac)o
(k)m(age)f(m)o(ust)g(b)q(e)h(able)h(to)e(lo)q(ok)g(at)g(2)h(pages)f(sim)o
(ultaneously\).)20 b(The)14 b(size)h(of)e(an)o(y)-1910 56 y(cac)o(he)i
(a\013ects)g(its)g(p)q(erformance,)g(and)h(should)g(b)q(e)g(c)o(hosen)f
(carefully)l(.)-1216 96 y 1875 -8 z 139 w @F4 @sf(4.4.7)55 b(dirb)s 17 -2 z 
17 x(Stat)34 b @F12 @sf(|)16 b(Displa)o(y)f(pac)o(k)m(age)g(status)g(v)m
(ariables.)-1141 267 y(4.4)29 b(Exp)q(orted)16 b(functions)463 b(28)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
28 @eop1

29 @bop0
@F9 @sf
[<
3C07C00000620C600000F31E100000798F18000031860C000001C00E000001C00E000000C0
06000000E007000000E007000000E007000000E00700000060038000007003800000700380
0000700380000070038000007001C000003801C000003801C000003801C000003801C00000
3800E000001C00E000001C00E000001C00E000001C00E000001C00700000FFFFFF80000E00
7000000E007000000E007000000E0038000007003800000700380000070038000003031860
0003879CF00001878CF00000C3867000003F03E0>
	 36 41 2 31 28] 11 @dc

29 @eop0

0 0 29 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F13 @sf(void)21 b @F8 @sf(dirb)s 16 -2 z 16 x(Stat)p @F13 @sf
(\()-338 57 y(OUT)g(int)g(*abuffers;)-394 56 y(OUT)g(int)g(*acalls;)-350 
56 y(OUT)g(int)g(*aios;)-306 57 y(\))-22 202 y @F12 @sf(The)i(v)m(ariable)h
(p)q(oin)o(ted)f(to)f(b)o(y)g @F9 @sf(abu\013ers)h @F12 @sf(is)g(set)f(to)g
(the)h(n)o(um)o(b)q(er)g(of)f(bu\013ers)g(\(as)g(originally)i(passed)f(to)
-1910 56 y @F7 @sf(dirb)s 14 -2 z 14 x(Init)p @F12 @sf(\).)28 b(The)18 b
(v)m(ariable)i(p)q(oin)o(ted)f(to)f(b)o(y)g @F9 @sf(ac)n(al)r(ls)g @F12 @sf
(is)h(set)f(to)f(the)i(in)o(ternal)g(status)e(v)m(ariable)j @F9 @sf(c)n
(al)r(ls)p @F12 @sf(.)28 b(The)-1909 57 y(v)m(ariable)17 b(p)q(oin)o(ted)f
(to)e(b)o(y)h @F9 @sf(aios)h @F12 @sf(is)f(set)g(to)g(the)g(in)o(ternal)h
(status)e(v)m(ariable)j @F9 @sf(ios)p @F12 @sf(.)-1340 2033 y(4.4)29 b
(Exp)q(orted)16 b(functions)463 b(29)530 b(Marc)o(h)14 b(2,)h(1993)f
(13:59)-1911 b
29 @eop1

30 @bop0
@F0 @sf
[<
000FFC0000007FFFC00001FFFFF00003FFFFFC0007F00FFE000FC003FF001F0000FF803E00
00FFC03C00007FE07F00007FF07FC0007FF0FFE0003FF8FFE0003FF8FFF0003FF8FFF0003F
FCFFF0003FFCFFE0003FFC7FE0003FFC3FC0003FFC1F80003FFC0600003FFC0000003FFC00
00003FFC0000003FF80000003FF80000003FF80000003FF00700007FF00F00007FE00F8000
7FC00FC000FF800FF000FF000FFE03FE000FBFFFF8000F8FFFE0000F81FF00000F80000000
0F800000000F800000000F800000000F800000000F800000000F800000000F800000000FFF
F800000FFFFE00000FFFFF80000FFFFFE0000FFFFFF0000FFFFFF8000FFFFFFC000FFFFFFE
000FFFFFFF000FFFFFFF800FF8007FC00F800007C004000000C0>
	 38 57 -5 55 49] 53 @dc
@F1 @sf
[<
FFFFFFFFFFFFFFC0FFFFFFFFFFFFFFC0FFFFFFFFFFFFFFC0FFFFFFFFFFFFFFC0FFFFFFFFFF
FFFFC0001FFFC0007FFFE0001FFFC0000FFFE0001FFFC00003FFE0001FFFC00000FFE0001F
FFC000007FE0001FFFC000003FE0001FFFC000001FE0001FFFC000001FE0001FFFC000000F
E0001FFFC0000007F0001FFFC0000007F0001FFFC0000003F0001FFFC0000003F0001FFFC0
000003F0001FFFC0000001F0001FFFC0000001F0001FFFC0000001F0001FFFC0000001F000
1FFFC0000001F0001FFFC0000000F8001FFFC0000000F8001FFFC0000000F8001FFFC00000
00F8001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFF
C000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000
001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000
000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001F
FFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC0000000
00001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC0
00000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC00000000000
1FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC00000
0000001FFFC000000000FFFFFFFFFF000000FFFFFFFFFF000000FFFFFFFFFF000000FFFFFF
FFFF000000FFFFFFFFFF000000>
	 61 71 -4 70 71] 76 @dc

30 @eop0

0 0 30 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(Chapter)34 b(5)-436 246 y @F1 @sf(Loggi)q(ng)-406 262 y 
@F12 @sf(All)14 b(c)o(hanges)g(to)e(directory)i(\014les)g(in)g(DCE)e(LFS)i
(m)o(ust)e(b)q(e)i(logged.)20 b(Changes)13 b(to)f(directory)i(\014les)g
(in)g(the)f(cac)o(he)-1909 56 y(manager)h(are)h(not)g(logged.)-480 96 y
(Ordinaril)q(y)l(,)20 b(a)d(single)j(function)f(call)g(will)g(not)f(mak)o
(e)g(c)o(hanges)g(to)f(more)h(than)g(one)g(directory)g(page.)28 b(But)-1909 
56 y(if)17 b(a)f(new)h(page)g(m)o(ust)f(b)q(e)h(added)h(to)e(accommo)q
(date)g(a)g(new)h(en)o(try)l(,)f(mo)q(di\014cations)i(will)g(b)q(e)g(made)e
(b)q(oth)h(to)-1910 57 y(that)c(page)g(and)g(to)g(the)g(\014rst)g(page)g
(\(mo)q(difying)h(the)f @F9 @sf(p)n(gc)n(ount)g @F12 @sf(in)h(the)g
(directory)f(header\).)19 b(Within)c(a)e(page,)g(a)-1910 56 y(single)g
(call,)g(suc)o(h)f(as)g @F7 @sf(dir)s 14 -2 z 13 x(Create)f @F12 @sf(or)g 
@F7 @sf(dir)s 14 -2 z 14 x(Delete)p @F12 @sf(,)g(will)q 13 x(in)h(general)g
(mak)o(e)g(t)o(w)o(o)e(or)h(more)g(mo)q(di\014cations;)j(for)-1910 57 y
(instance,)f @F7 @sf(dir)s 14 -2 z 14 x(Create)e @F12 @sf(will)q 13 x
(write)i(the)f(new)h(en)o(try)l(,)f(and)g(in)h(addition)h(will)g(mak)o(e)d
(one)i(or)e(t)o(w)o(o)g(mo)q(di\014cations)-1908 56 y(to)17 b(the)g(free)h
(list:)25 b(one)18 b(to)f(c)o(hange)g(a)g(p)q(oin)o(ter,)i(and)e(one)h
(more,)f(if)h(the)g(en)o(try)f(w)o(as)f(split)j(o\013)e(from)f(a)i(larger)
-1910 57 y(free)d(area,)f(to)h(mo)q(dify)h(the)f(remainder)h(of)f(that)f
(area.)-947 95 y(All)19 b(c)o(hanges)f(made)f(b)o(y)h(one)g(function)g
(call)h(m)o(ust)e(b)q(e)i(logged)f(under)g(the)g(same)f(transaction)h(ID.)f
(In)h(fact,)-1910 57 y(more)11 b(than)h(one)f(function)i(call)f(ma)o(y)f
(b)q(e)h(asso)q(ciated)g(with)g(a)f(single)i(transaction)e(ID;)h(for)e
(instance,)j(a)e(rename)-1909 56 y(will)17 b(ordinarily)f(require)g(b)q
(oth)g(a)f @F7 @sf(dir)s 14 -2 z 13 x(Delete)g @F12 @sf(and)g(a)g @F7 @sf
(dir)s 14 -2 z 14 x(Create)p @F12 @sf(.)-1212 96 y(Log)i(en)o(tries)h
(should)h(b)q(e)f(small.)28 b(When)18 b(a)f(c)o(hange)g(is)h(made)g(on)f
(some)h(page,)f(it)h(is)g(m)o(uc)o(h)g(b)q(etter)f(to)g(log)h(a)-1910 56 y
(c)o(hange)d(to)g(a)g(piece)h(or)f(ev)o(en)h(a)e(few)h(b)o(ytes)g(than)g
(to)g(log)g(a)g(c)o(hange)g(to)g(the)g(whole)h(page.)-1545 96 y(In)k(AFS)g
(3,)f(the)h(directory)g(pac)o(k)m(age)f(prop)q(er)h(wrote)f(c)o(hanges)g
(to)g(directory)h(bu\013ers,)g(and)g(the)f(directory)-1909 56 y(bu\013er)d
(pac)o(k)m(age)g(w)o(as)f(left)h(in)h(c)o(harge)f(of)f(writing)i(those)f
(bu\013ers)g(to)f(the)h(disk.)23 b(\(I)16 b(use)g(the)g(term)g(\\disk")g
(for)-1910 57 y(con)o(v)o(enience,)k(but)e(of)f(course)h(the)g(k)o(ernel)h
(had)f(its)g(o)o(wn)f(bu\013er)h(system,)g(whic)o(h)g(w)o(as)f(transparen)o
(t)g(to)g(the)-1909 56 y(directory)e(and)h(directory)f(bu\013er)h(pac)o(k)m
(ages.\))j(W)l(rites)d(to)e(disk)i(w)o(ould)g(o)q(ccur)f(in)i(t)o(w)o(o)c
(cases:)20 b(up)q(on)c(explic)q(it)-1908 57 y(request)c(\()p @F9 @sf(i.e.)p 
@F12 @sf(,)g(b)o(y)g(calls)h(to)f @F7 @sf(DFlush)f @F12 @sf(and)h @F7 @sf
(DFlushEntry)p @F12 @sf(\),)f(or)g(b)o(y)h(acciden)o(t)h(\()p @F9 @sf
(i.e.)p @F12 @sf(,)f(when)h(a)f(bu\013er)g(w)o(as)f(needed)-1908 56 y(and)
16 b(all)h(the)g(a)o(v)m(ailable)g(bu\013ers)f(w)o(ere)g(dirt)o(y\).)23 b
(In)16 b(the)h(case)f(of)f(expli)q(cit)j(request,)e(it)g(should)h(b)q(e)g
(noted)f(that)-1910 57 y(the)g(requests)g(nev)o(er)h(come)f(from)f(the)h
(directory)h(pac)o(k)m(age)f(itself,)h(but)f(from)g(its)g(users.)23 b(In)
17 b(either)f(case,)g(an)-1909 56 y(en)o(tire)g(bu\013er)f(w)o(ould)g(b)q
(e)h(written,)f(using)h @F7 @sf(ReallyWrite)p @F12 @sf(.)-1020 96 y(In)e
(the)g(DCE)f(LFS,)h(sev)o(eral)g(asp)q(ects)f(of)h(this)g(structure)f(m)o
(ust)g(b)q(e)i(c)o(hanged,)f(to)f(accommo)q(date)g(transaction)-1910 56 y
(logging.)-154 96 y(It)i(is)g(no)f(longer)h(the)f(case)h(that)f(en)o(tire)h
(pages)f(are)g(written)h(to)f(disk.)20 b(Small)c(groups)e(of)g(b)o(ytes,)g
(represen)o(ting)-1909 125 y(5)h(Logging)737 b(30)530 b(Marc)o(h)14 b(2,)h
(1993)f(13:59)-1911 b
30 @eop1

31 @bop0

31 @eop0
0 0 31 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y(indivi)q(dual)q 19 x(en)o(tries)h(or)g(headers,)h(are)f
(written.)27 b(Where)17 b(b)q(efore)h(the)f(directory)h(bu\013er)f(pac)o
(k)m(age)h(imp)q(orted)-1909 57 y @F7 @sf(ReallyWrite)12 b @F12 @sf(to)h
(write)h(pages)f(to)g(disk,)i(no)o(w)e(the)h @F9 @sf(dir)n(e)n(ctory)h(p)n
(ackage)g(pr)n(op)n(er)f @F12 @sf(will)h(call)g(the)e(corresp)q(onding)-1908 
56 y @F7 @sf(dh)s 14 -2 z 14 x(Read)21 b @F12 @sf(function;)k(and)d(the)f
(parameters)g(are)g(c)o(hanged,)i(for)e(no)o(w)g(they)g(m)o(ust)g(inclu)q
(de)i(a)e(b)o(yte)h(coun)o(t)-1910 56 y(\(formerly)15 b(this)g(w)o(as)g
(assumed)g(to)g(b)q(e)g(2K,)g(the)h(size)g(of)f(a)f(page\),)h(and)g(a)g
(transaction)g(ID.)-1580 96 y(The)e(implemen)q -1 x(tation)h(of)e @F7 @sf
(dh)s 14 -2 z 14 x(Read)h @F12 @sf(and)g @F7 @sf(dh)s 14 -2 z 14 x(Write)f 
@F12 @sf(is)i(of)e(in)o(terest.)20 b(In)13 b(AFS)g(3,)g(these)g(functions)h
(p)q(erformed)-1909 57 y(I/O)e(in)g(di\013eren)o(t)g(w)o(a)o(ys)e(dep)q
(endi)q(ng)j(on)e(whic)o(h)h(comp)q(onen)o(t)g(supplie)q(d)h(them.)18 b
(In)12 b(the)g(cac)o(he)f(manager,)h(whic)o(h)-1909 56 y(w)o(as)17 b(part)g
(of)g(the)h(k)o(ernel)g(and)g(used)g(the)g(w)o(orkstat)o(ion's)f(nativ)o
(e)g(\014le)i(system,)e(they)h(used)g @F7 @sf(vn)s 14 -2 z 14 x(rdwr)p 
@F12 @sf(,)f(or)g(an)-1909 56 y(equiv)m(ale)q(n)o(t)e(function)h(dep)q
(endi)q(ng)g(on)e(the)h(k)o(ernel.)20 b(In)15 b(the)g(\014le)h(serv)o(er,)e
(whic)o(h)h(w)o(as)f(outside)h(the)g(k)o(ernel)g(and)-1909 57 y(did)j(not)e
(use)h(an)o(y)g(\014le)g(system,)g(they)f(called)q 18 x @F7 @sf(iread)g 
@F12 @sf(and)h @F7 @sf(iwrite)p @F12 @sf(,)f(whic)o(h)h(p)q(erformed)g(sp)q
(ecial)i(afs)d(system)-1910 56 y(calls)i(\()p @F7 @sf(AFSCALL)s 14 -2 z 
13 x(IREAD)e @F12 @sf(and)g @F7 @sf(AFSCALL)s 14 -2 z 14 x(IWRITE)p @F12 @sf
(\).)f(These)i(in)g(turn)g(are)f(implemen)o(ted,)i(within)g(the)f(k)o
(ernel,)-1909 57 y(either)f(b)o(y)f(the)g(same)g(function)h(\()p @F7 @sf
(vn)s 14 -2 z 14 x(rdwr)p @F12 @sf(\),)e(or)g(b)o(y)i(the)f(roughly)g
(equiv)m(al)q(en)o(t)h(ino)q(de)h(op)q(eration)e @F7 @sf(rdwri)p @F12 @sf
(.)-1823 95 y(In)i(the)g(DCE)f(LFS,)h(generic)g(vno)q(de)h(op)q(erations)e
(and)h(functions)h(suc)o(h)f(as)f @F7 @sf(rdwri)g @F12 @sf(are)g(at)g(to)q
(o)g(high)i(a)e(lev)o(el)-1908 57 y(to)d(b)q(e)h(suitable)h(for)e(the)h
(directory)g(pac)o(k)m(age,)g(b)q(ecause)g(at)f(their)i(lev)o(el,)g
(logging)f(is)g(not)f(a)o(v)m(ailable.)21 b @F7 @sf(dh)s 14 -2 z 14 x
(Write)-1910 56 y @F12 @sf(will)15 b(call)g(the)e(ano)q(de)h(writing)g
(function)g @F7 @sf(epia)s 14 -2 z 14 x(write)p @F12 @sf(,)e(and)i
(symmetrically)l(,)g @F7 @sf(dh)s 14 -2 z 14 x(Read)f @F12 @sf(will)i
(call)g @F7 @sf(epia)s 14 -2 z 13 x(read)p @F12 @sf(.)-1910 96 y(Because)k
(the)g(directory)g(pac)o(k)m(age)g(prop)q(er)g(is)g(no)o(w)g(in)g(c)o
(harge)g(of)f(writing)h(to)f(disk,)j(the)d(directory)h(bu\013er)-1909 56 y
(pac)o(k)m(age)c(is)h(not.)j(It)d(no)f(longer)g(exp)q(orts)g(functions)h
(equiv)m(al)q(en)o(t)g(to)f(the)g(old)h @F7 @sf(DFlush)e @F12 @sf(and)h 
@F7 @sf(DFlushEntry)p @F12 @sf(.)-1869 96 y(In)23 b(the)g(sp)q
(eci\014cations)h(for)e(functions)h @F7 @sf(dir)s 14 -2 z 14 x(Create)p 
@F12 @sf(,)g @F7 @sf(dir)s 14 -2 z 14 x(Delete)p @F12 @sf(,)g(and)f @F7 @sf
(dir)s 14 -2 z 14 x(MakeDir)p @F12 @sf(,)h(I)g(ha)o(v)o(e)f(added)-1909 
56 y(transaction)15 b(ID)g(parameters.)-538 1458 y(5)g(Logging)737 b(31)
530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
31 @eop1

32 @bop0
@F0 @sf
[<
0000FFC0000007FFF800001FFFFE00007FFFFF0000FF80FFC001FE003FE003FC001FF007FC
001FF00FF8001FF80FF8000FFC1FF8000FFC1FF0000FFE3FF0000FFE3FF0000FFE3FF0000F
FF7FF0000FFF7FF0000FFF7FF0000FFF7FF0000FFF7FF0000FFFFFF0000FFFFFF0000FFFFF
F0000FFFFFF0000FFEFFF8000FFEFFF8000FFEFFF8000FFCFFF8000FFCFFFC000FF8FFFC00
1FF0FFFE001FF0FFF6003FE0FFF3807F80FFF1F7FF00FFF0FFFE007FF07FF0007FF0000000
7FF00000007FF00000003FF00000003FF00000003FF80007C01FF8000FE01FF8001FF00FF8
003FF80FFC003FF807FC003FF803FC003FF801FE001FF800FF000FF0007F0007F0003FC001
F0001FE001E0000FFC07C00003FFFF8000007FFF0000000FF800>
	 40 57 -4 55 49] 54 @dc
@F1 @sf
[<
FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFF
F801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0001FFFC00000003FFF8000001FFFC00000003F
FF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF800000
1FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC000
00003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF
8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001F
FFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000
003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF80
00001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFF
C00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC0000000
3FFF8000001FFFFFFFFFFFFFFF8000001FFFFFFFFFFFFFFF8000001FFFFFFFFFFFFFFF8000
001FFFFFFFFFFFFFFF8000001FFFFFFFFFFFFFFF8000001FFFC00000003FFF8000001FFFC0
0000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003F
FF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF800000
1FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC000
00003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF
8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001F
FFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000
003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF80
00001FFFC00000003FFF8000001FFFC00000003FFF8000FFFFFFFFF801FFFFFFFFF0FFFFFF
FFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FF
FFFFFFF0>
	 84 71 -4 70 93] 72 @dc
[<
00001FF803FFFF800001FFFF03FFFF800007FFFFC3FFFF80001FFFFFF3FFFF80007FF807FB
FFFF8000FFE000FFFFE00001FFC0003FFFC00003FF00001FFFC00007FF00000FFFC0000FFE
000007FFC0001FFC000003FFC0001FFC000003FFC0003FFC000003FFC0003FFC000003FFC0
003FF8000003FFC0007FF8000003FFC0007FF8000003FFC0007FF8000003FFC000FFF80000
03FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FFC000FF
F8000003FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FF
C0007FF8000003FFC0007FF8000003FFC0007FF8000003FFC0003FFC000003FFC0003FFC00
0003FFC0001FFC000003FFC0001FFC000003FFC0000FFE000003FFC0000FFE000003FFC000
07FF000007FFC00003FF80000FFFC00001FFC0001FFFC00000FFF0007FFFC000007FFC03FF
FFC000001FFFFFF9FFC0000007FFFFE1FFC0000000FFFF81FFC00000000FFC01FFC0000000
000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0
000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC00000000000
01FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC00000
00000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FF
C0000000000003FFC00000000000FFFFC00000000000FFFFC00000000000FFFFC000000000
00FFFFC00000000000FFFFC00000000000007FC000>
	 57 72 -4 71 66] 100 @dc
[<
FFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFE000FFFE000000FFFE000000F
FFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE0
00000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE00000
0FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFF
E000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000
000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000F
FFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE0
00000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE00000
0FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000FFFFFF
FFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFE>
	 39 71 -3 70 45] 73 @dc
[<
3FFFFFF800003FFFFFF800003FFFFFF800003FFFFFF800003FFFFFF80000007FF000000000
7FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007F
F0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0
000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF000
0000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF00000
00007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000
007FF0000000007FF0000000007FF0000000007FF0000000FFFFFFFE0000FFFFFFFE0000FF
FFFFFE0000FFFFFFFE0000FFFFFFFE0000007FE0000000007FE0000000007FE0000000007F
E0000000007FE0000000007FE0000000007FE0000000007FE0000000007FE0000000007FE0
000000007FE0003800007FE000FE00007FE001FF00007FE003FF80003FE003FF80003FF007
FFC0003FF007FFC0001FF807FFC0000FF807FFC0000FFC03FF800007FF03FF800001FFC1FF
000000FFFFFF0000003FFFFC00000007FFF800000000FFC000>
	 42 72 -3 71 36] 102 @dc
@F13 @sf
[<
3F807FC0FFE0F0F06070003800380038003800380038003800380038003800380038003800
38003800380038003800381FF81FF81FF800000000000000000030007800780030>
	 13 35 -2 25 22] 106 @dc
[<
07E0001FF8003FFC00781E00E00700F00380600380000380000380000300000700001E0007
FC0007F00007FC00003E00000E00000700000700300700780700781E003FFC001FF80007E0
00>
	 17 25 -2 24 22] 51 @dc
[<
7FFF80FFFF807FFF803803801E03800F000003800001C00000E000007000003800001C0000
0E00000700000700000380000380600380F00380F00780E00700783E003FFC001FF80007E0
00>
	 17 25 -2 24 22] 50 @dc
[<
FFFFC0FFFFC0FFFFC07801C03C01C01E01C00F000007800003E00001F000007800003C0070
1E00700F007007807FFFC07FFFC03FFFC0>
	 18 18 -1 17 22] 122 @dc
[<
FFF0FFF0FFF0E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E0
00E000E000E000E000E000E000E000E000E000E000FFF0FFF0FFF0>
	 12 32 -8 28 22] 91 @dc
[<
03E0000FF8001FFC003C1E00380700700780700380700380E00380E00380F00380F00700F8
0F00FFFE00EFFC00E3F800700000700000780600380F001C0F000F070007FE0003FC0000F8
00>
	 17 25 -2 24 22] 54 @dc
[<
FFF0FFF0FFF000700070007000700070007000700070007000700070007000700070007000
700070007000700070007000700070007000700070FFF0FFF0FFF0>
	 12 32 -1 28 22] 93 @dc

32 @eop0

0 0 32 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(Chapter)34 b(6)-436 246 y @F1 @sf(Dir)7 b 36 -2 z 37 x
(Handle)40 b(In)m(terface)-1083 251 y @F13 @sf(struct)21 b(Dir_Hand)o(le)f
({)-327 46 y(struct)h(dh_ops)f({)-240 45 y(int)i(\(*dh_rea)o(d\)\(\);)o 
326 x(/*)f(read)g(disk)g(object)g(*/)-1178 46 y(void)g(\(*dh_write\)\()o
(\);)282 b(/*)21 b(write)g(disk)g(object)f(*/)-1199 46 y(int32)h
(\(*dh_len\)\(\))o(;)304 b(/*)21 b(length)g(of)g(disk)g(object)g(*/)-1287 
45 y(int)h(\(*dh_has)o(h\)\(\);)o 326 x(/*)f(value)g(to)g(be)h(hashed)e
(*/)-1221 46 y(int)i(\(*dh_eq\))o(\(\);)369 b(/*)21 b(compare)f(handles)h
(*/)-1156 46 y(void)g(\(*dh_zero\)\(\))o(;)304 b(/*)21 b(blank)g(out)g
(obsolete)f(handle)h(*/)-1374 45 y(void)g(\(*dh_copy\)\(\))o(;)304 b(/*)
21 b(copy)g(handle)g(*/)-1156 46 y(})h(*)f(dh_ops;)-241 46 y(int32)g
(dh_data[6])o(;)413 b(/*)21 b(private)f(data)h(*/)-1264 45 y(};)-44 158 y 
@F12 @sf(The)d(priv)m(ate)h(data)f(area)g(is)g(supp)q(osed)h(to)f(b)q(e)h
(large)f(enough)h(to)e(accommo)q(date)h(the)g(largest)g(of)g(the)g(data)
-1910 57 y(areas)13 b(required)i(b)o(y)f(users)f(of)h(this)g(pac)o(k)m
(age.)19 b(Alternativ)o(ely)l(,)c(it)f(w)o(ould)g(ha)o(v)o(e)g(b)q(een)g
(p)q(ossible)q 15 x(to)f(supply)i(only)-1909 56 y(ro)q(om)j(for)g(a)g(p)q
(oin)o(ter.)30 b(In)19 b(that)f(case,)h(b)q(ecause)g(directory)g(bu\013ers)f
(are)g(long-li)q(v)o(ed,)i(the)f(directory)f(bu\013er)-1909 57 y(pac)o(k)m
(age)d(w)o(ould)h(ha)o(v)o(e)e(to)h(someho)o(w)f(determine)i(the)f(size)h
(of)f(the)g(data)g(area,)f(and)h(then)g(call)i @F9 @sf(mal)r(lo)n(c)d 
@F12 @sf(to)h(get)-1910 56 y(an)g(area)g(of)g(that)f(size)i(for)f(its)g(o)o
(wn)g(use.)20 b(It)15 b(w)o(as)g(easier)g(just)g(to)g(assume)g(that)f(6)h
(w)o(ould)h(b)q(e)g(enough.)-1773 96 y(In)d(AFS)g(3,)g(the)g(priv)m(ate)g
(data)f(area)h(include)q(d)h(an)f(ino)q(de)h(n)o(um)o(b)q(er)f(and)g(a)g
(device,)h(to)e(b)q(e)i(useful)f(for)g(accessing)-1909 56 y(\014les.)20 b
(In)15 b(the)f(AFS)h(3)e(cac)o(he)i(manager,)e(there)h(w)o(as)g(just)g(an)g
(ino)q(de)h(n)o(um)o(b)q(er,)f(b)q(ecause)h(eac)o(h)g(cac)o(he)f(manager)
-1910 57 y(\\knew")h(whic)o(h)i(device)g(its)f(o)o(wn)f(cac)o(he)h(w)o(as)f
(on.)22 b(In)16 b(the)g(DCE)f(LFS,)h(the)g(priv)m(ate)g(data)f(area)h(con)o
(tains)f(an)-1909 56 y(ano)q(de)h(handle.)-276 96 y(The)f(functions)h(in)g
(the)g @F9 @sf(dh)s 14 -2 z 14 x(ops)f @F12 @sf(\014eld)i(are)d(describ)q
(e)q(d)j(b)q(elo)o(w.)-1066 139 y @F4 @sf(6.1)56 b(dh)s 17 -2 z 17 x(read)
34 b @F12 @sf(|)15 b(Read)h(data)f(from)f(disk.)-831 202 y @F13 @sf(int)
21 b @F8 @sf(dh)s 16 -2 z 16 x(read)p @F13 @sf(\()-286 138 y @F12 @sf(6.1)
29 b(dh)s 14 -2 z 14 x(read)691 b(32)530 b(Marc)o(h)14 b(2,)h(1993)f
(13:59)-1911 b
32 @eop1

33 @bop0

33 @eop0
0 0 33 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F13 @sf(IN)21 b(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*dir;)
-562 57 y(IN)g(int)h(dirAddr;)o -328 56 a(OUT)f(caddr)s 13 -2 z 12 x(t)g
(data;)-365 56 y(IN)g(int)h(dataLen;)o -328 57 a(\))-22 202 y @F8 @sf(P)o
(arameters)-192 108 y @F7 @sf(dir)g @F12 @sf(-)31 b(directory)15 b(whose)g
(data)g(has)g(to)g(b)q(e)g(read.)-868 75 y @F7 @sf(dirAddr)22 b @F12 @sf
(-)30 b(address)16 b(within)g(the)f(directory)l(.)-804 75 y @F7 @sf(data)
22 b @F12 @sf(-)31 b(address)15 b(in)h(memory)f(where)g(the)g(data)g(has)g
(to)g(b)q(e)g(copied.)-1204 75 y @F7 @sf(dataLen)22 b @F12 @sf(-)30 b
(length)16 b(of)f(data)g(in)h(b)o(ytes.)-770 171 y @F8 @sf(Description)-262 
95 y @F12 @sf(Read)g(data)e(from)h(the)g(directory)g(on)h(disk,)f(in)o(to)g
(memory)l(.)-1032 146 y @F8 @sf(Return)j(Co)q(des)-250 95 y @F7 @sf(0)53 b 
@F12 @sf(if)16 b(failure.)-256 75 y @F7 @sf(1)53 b @F12 @sf(if)16 b
(success.)-341 195 y 1875 -8 z 140 w @F4 @sf(6.2)56 b(dh)s 17 -2 z 17 x
(write)33 b @F12 @sf(|)16 b(W)l(rite)f(data)g(to)f(disk.)-808 202 y @F13 @sf
(int)21 b @F8 @sf(dh)s 16 -2 z 16 x(write)p @F13 @sf(\()-304 56 y(IN)g
(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*dir;)-562 57 y(IN)g(logTranRec)r 
13 -2 z 12 x(t)h(tranId;)-497 56 y(IN)f(int)h(dirAddr;)o -328 57 a(IN)f
(caddr)s 13 -2 z 12 x(t)h(data;)-344 56 y(IN)f(int)h(dataLen;)o -328 57 a
(\))-22 355 y @F12 @sf(6.2)29 b(dh)s 14 -2 z 14 x(write)676 b(33)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
33 @eop1

34 @bop0

34 @eop0
0 0 34 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F8 @sf(P)o(arameters)-192 108 y @F7 @sf(dir)22 b @F12 @sf(-)
31 b(directory)15 b(whose)g(data)g(has)g(to)g(b)q(e)g(read.)-868 75 y 
@F7 @sf(tranId)22 b @F12 @sf(-)31 b(transaction)14 b(Id.)-503 75 y @F7 @sf
(dirAddr)22 b @F12 @sf(-)30 b(address)16 b(within)g(the)f(directory)l(.)
-804 76 y @F7 @sf(data)22 b @F12 @sf(-)31 b(address)15 b(in)h(memory)l(.)
-549 75 y @F7 @sf(dataLen)22 b @F12 @sf(-)30 b(length)16 b(of)f(data)g(in)h
(b)o(ytes.)-770 170 y @F8 @sf(Description)-262 96 y @F12 @sf(W)l(rite)f
(the)h(data)e(to)h(the)g(directory)g(on)h(disk.)-791 145 y @F8 @sf(Return)i
(Co)q(des)-250 96 y @F7 @sf(0)53 b @F12 @sf(if)16 b(success.)-341 195 y 
1875 -8 z 139 w @F4 @sf(6.3)56 b(dh)s 17 -2 z 17 x(len)33 b @F12 @sf(|)16 b
(Determine)f(the)h(length)g(of)e(the)i(directory)f(in)h(b)o(ytes.)-1309 
202 y @F13 @sf(int32)21 b @F8 @sf(dh)s 16 -2 z 16 x(len)p @F13 @sf(\()-297 
57 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g(*dir;)-562 56 y(\))-22 202 y 
@F8 @sf(P)o(arameters)-192 108 y @F7 @sf(dir)h @F12 @sf(-)31 b(directory)
15 b(whose)g(length)h(is)g(to)f(b)q(e)g(determined.)-1073 170 y @F8 @sf
(Description)-262 96 y @F12 @sf(Return)h(the)f(length)h(of)f(the)g
(directory)g(in)h(b)o(ytes.)-865 96 y 1875 -8 z 337 w(6.4)29 b(dh)s 14 -2 z 
14 x(hash)686 b(34)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
34 @eop1

35 @bop0
@F8 @sf
[<
0007FF0007FF0000F80000F80000F80000F80000F80000F80000F803F8F80FFEF81F87F83F
01F87E00F87E00F87C00F8FC00F8FC00F8FC00F8FC00F8FC00F8FC00F87C00F87E00F83E01
F83F01F81F877807FE3801F818>
	 24 29 -2 19 28] 113 @dc

35 @eop0

0 0 35 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F4 @sf(6.4)56 b(dh)s 17 -2 z 17 x(hash)35 b @F12 @sf(|)15 b
(A)g(n)o(um)o(b)q(er)h(to)e(b)q(e)i(used)g(b)o(y)f(the)h(bu\013er)f(pac)o
(k)m(age)g(hash)g(algorith.)-1566 202 y @F13 @sf(int)21 b @F8 @sf(dh)s 16 
-2 z 16 x(hash)p @F13 @sf(\()-290 56 y(IN)g(struct)g(Dir)s 13 -2 z 12 x
(Handle)g(*dir;)-562 57 y(IN)g(int)h(page;)-263 56 y(\))-22 202 y @F8 @sf
(P)o(arameters)-192 108 y @F7 @sf(dir)g @F12 @sf(-)31 b(directory)15 b
(whose)g(data)g(has)g(to)g(b)q(e)g(read.)-868 75 y @F7 @sf(page)22 b 
@F12 @sf(-)31 b(page)15 b(n)o(um)o(b)q(er)g(within)i(the)e(directory)l(.)
-912 171 y @F8 @sf(Description)-262 95 y @F12 @sf(returns)g(a)g(v)m(alue)h
(used)g(b)o(y)f(bu\013er)g(pac)o(k)m(age)h(hash)f(algorithm.)-1090 96 y 
1875 -8 z 139 w @F4 @sf(6.5)56 b(dh)s 17 -2 z 17 x(eq)33 b @F12 @sf(|)16 b
(Determine)f(equalit)o(y)h(of)f(directories.)-1023 202 y @F13 @sf(int)21 b 
@F8 @sf(dh)s 16 -2 z 16 x(eq)p @F13 @sf(\()-238 57 y(IN)g(struct)g(Dir)s 
13 -2 z 12 x(Handle)g(*dira;)-584 56 y(IN)g(struct)g(Dir)s 13 -2 z 12 x
(Handle)g(*dirb;)-584 57 y(\))-22 202 y @F8 @sf(P)o(arameters)-192 108 y 
@F7 @sf(dira)h @F12 @sf(-)31 b(one)15 b(of)g(the)g(directory)h(handles.)
-732 75 y @F7 @sf(dirb)22 b @F12 @sf(-)31 b(the)15 b(other)g(directory)g
(handle.)-767 170 y @F8 @sf(Description)-262 96 y @F12 @sf(Determines)h
(the)f(equalit)o(y)h(of)f(the)g(t)o(w)o(o)f(directories)i(represen)o(ted)g
(b)o(y)f @F9 @sf(dir)n(a)g @F12 @sf(and)h @F9 @sf(dirb)p @F12 @sf(.)-1503 
294 y(6.5)29 b(dh)s 14 -2 z 14 x(eq)733 b(35)530 b(Marc)o(h)14 b(2,)h
(1993)f(13:59)-1911 b
35 @eop1

36 @bop0
@F4 @sf
[<
FFFFE0FFFFE07C03E03E00E03F00601F80700F807007C03007E03003F03001F00000F80000
FC00C07E00C03E00C01F00E01F80600FC07007C07C03E07FFFF07FFFF0>
	 20 22 -2 21 25] 122 @dc

36 @eop0

0 0 36 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F8 @sf(Return)i(Co)q(des)-250 96 y @F7 @sf(0)53 b @F12 @sf
(if)16 b(the)f(directories)h(are)f(not)g(the)g(same.)-764 74 y @F7 @sf(1)
53 b @F12 @sf(if)16 b(the)f(directories)h(are)f(the)g(same.)-753 192 y 1875 
-8 z 140 w @F4 @sf(6.6)56 b(dh)s 17 -2 z 17 x(zero)33 b @F12 @sf(|)16 b
(Zero)f(the)g(directory)g(handle.)-924 199 y @F13 @sf(void)21 b @F8 @sf
(dh)s 16 -2 z 16 x(zero)p @F13 @sf(\()-303 56 y(IN)g(struct)g(Dir)s 13 -2 z 
12 x(Handle)g(*dir;)-562 56 y(\))-22 199 y @F8 @sf(P)o(arameters)-192 108 y 
@F7 @sf(dir)h @F12 @sf(-)31 b(handle)16 b(of)f(the)g(directory)h(to)e(b)q
(e)i(zero)q(ed.)-937 168 y @F8 @sf(Description)-262 96 y @F12 @sf(Blanks)g
(out)f(an)g(obsolete)g(handle,)h(making)g(it)f(unrecognizabl)q(e)h(to)f 
@F9 @sf(dh)s 14 -2 z 14 x(e)n(q)p @F12 @sf(.)-1313 95 y 1875 -8 z 139 w 
@F4 @sf(6.7)56 b(dh)s 17 -2 z 17 x(cop)n(y)34 b @F12 @sf(|)16 b(Cop)o(y)e
(directory)i(handles.)-890 199 y @F13 @sf(void)21 b @F8 @sf(dh)s 16 -2 z 
16 x(cop)o(y)p @F13 @sf(\()-313 57 y(IN)g(struct)g(Dir)s 13 -2 z 12 x
(Handle)g(*dirto;)-606 56 y(IN)g(struct)g(Dir)s 13 -2 z 12 x(Handle)g
(*dirfrom)o(;)-649 57 y(\))-22 199 y @F8 @sf(P)o(arameters)-192 107 y 
@F7 @sf(dirto)h @F12 @sf(-)31 b(destination)16 b(directory)l(.)-610 75 y 
@F7 @sf(dirfrom)22 b @F12 @sf(-)30 b(source)16 b(directory)l(.)-632 206 y
(6.7)29 b(dh)s 14 -2 z 14 x(cop)o(y)686 b(36)530 b(Marc)o(h)14 b(2,)h
(1993)f(13:59)-1911 b
36 @eop1

37 @bop0
@F9 @sf
[<
3C0000660000F300007B000031800001800001C00001C00000C00000E00000E00000E00000
E000007000007000007000007000007000007000003800003800003800003800003800001C
00001C00001C00001C0001FFE0000E00000E00000E00000E00000E00000700000700000718
00033C00033C00019C000078>
	 22 41 2 31 14] 102 @dc

37 @eop0

0 0 37 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y @F8 @sf(Description)-262 96 y @F12 @sf(Cop)o(y)f(the)g
(information)g(from)g @F9 @sf(dirfr)n(om)g @F12 @sf(to)g @F9 @sf(dirto)h 
@F12 @sf(directory)f(handle.)-1215 95 y 1875 -8 z 2383 w(6.7)29 b(dh)s 14 
-2 z 14 x(cop)o(y)686 b(37)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
37 @eop1

38 @bop0
@F0 @sf
[<
0003E00000000007F0000000000FF8000000001FFC000000001FFC000000001FFC00000000
1FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000000F
FC000000000FFC000000000FFC000000000FFC000000000FFC0000000007FC0000000007FC
0000000007FC0000000003FE0000000003FE0000000003FE0000000001FE0000000001FE00
00000000FE0000000000FF00000000007F00000000007F00000000003F00000000003F8000
0000001F80000000000F80000000000FC00000000007E00000000003E00000000003F00000
F00001F80000F00000FC0000F000007E00007800003E00007800001F00007800001F80007C
00000FC0007C000007E0007FFFFFFFF0003FFFFFFFF0003FFFFFFFF8003FFFFFFFFC003FFF
FFFFFE003FFFFFFFFF003FFFFFFFFF803FFFFFFFFFC01FFFFFFFFFC01FFFFFFFFFC01FFFFF
FFFFC01FF0000000001F00000000001E0000000000>
	 42 59 -5 57 49] 55 @dc
@F12 @sf
[<
007FFE000007C0000003C0000003C0000003C0000003C0000003C0000003C0000003C00000
03C0000003C0000003C0000003C0000007C0000007A000000FB000001F1000001E0800003E
0800003C0400007C040000F8020000F0030001F0010001E0008003E0008007C00040078000
400F8000601F8000F8FFF003FF>
	 32 31 -1 30 34] 89 @dc
[<
07000F800F800F800700000000000000000000000200020002000200020002000300010001
80018000C000E000700038603CF03CF03CE03C4038403830700FC0>
	 14 32 -3 31 21] 63 @dc
@F8 @sf
[<
3FF8FFF0003FF8FFF00007C01F000007C01F000007C01F000007C01F000007C01F000007C0
1F000007C01F000007C01F000007C01F000007C01F000007C01F000007C01F000007C01F00
0007C01F000007C01F000007C01F0000FFFFFFF800FFFFFFF80007C01F000007C01F000007
C01F000007C01F000007C01F000007C03F078007C07F0FC003E07F0FC001E07F8FC000F83F
C7C0007FF9FF80000FF07F00>
	 34 32 0 31 31] 11 @dc
[<
01C00003E00007F00007F00007F00003E00001C00000000000000000000000000000C00000
C00000C00000C00000C00000C00000E00000E000007000007C00003E00001F00301F80780F
C0FC0FC0FC0FC0FC0FC0780F80381F801FFE0007F800>
	 18 32 -3 31 25] 63 @dc

38 @eop0

0 0 38 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(Chapter)34 b(7)-436 246 y @F1 @sf(Issue)40 b(List)-439 
241 y @F12 @sf(1.)22 b @F8 @sf(Hashing.)38 b @F12 @sf(W)l(e)21 b(decided)q
(,)i(using)f(a)f(bac)o(k-of-the-en)o(v)o(elop)q(e)i(calculation,)h(that)c
(the)h(on-disk)h(hash)-1795 57 y(table)d(at)f(the)h(fron)o(t)f(of)g(the)h
(directory)g(in)g(the)g(old)h(AFS)e(3)h(directory)g(format)e(did)j(not)e
(sa)o(v)o(e)g(m)o(uc)o(h)-1795 56 y(disk)e(activit)o(y)l(.)23 b(F)l(or)16 b
(a)f(small)i(directory)l(,)f(sa)o(y)g(one)g(that)f(\014t)h(on)g(one)g(2K)g
(page)g(\(ab)q(out)g(43)f(en)o(tries\),)h(of)-1796 57 y(course)f(no)g
(disk)h(activit)o(y)g(w)o(ould)f(b)q(e)h(sa)o(v)o(ed.)k(Let's)15 b
(consider)h(the)g(other)f(extreme:)20 b(a)15 b(directory)g(with)-1795 56 y
(ab)q(out)e(10,000)f(en)o(tries.)19 b(A)o(t)13 b(ab)q(out)g(64)g(en)o
(tries/page,)h(this)g(directory)f(w)o(ould)h(ha)o(v)o(e)f(ab)q(out)g(120)g
(pages.)-1796 57 y(With)i(128)g(hash)h(c)o(hains,)g(eac)o(h)f(hash)h(c)o
(hain)g(w)o(ould)g(ha)o(v)o(e)f(ab)q(out)h(80)f(en)o(tries)g(on)h(it,)f
(whic)o(h)i(w)o(ould)f(b)q(e)-1795 56 y(distributed)k(fairly)g(ev)o(enly)g
(among)e(the)h(pages;)i(so)d(tra)o(v)o(ersing)g(a)h(hash)g(c)o(hain,)i
(one)e(w)o(ould)g(on)g(the)-1795 57 y(a)o(v)o(erage)c(hit)i(ab)q(out)f
(30-40)g(pages.)23 b(It)16 b(w)o(ould)h(only)g(tak)o(e)f(ab)q(out)g(5-6)g
(lo)q(okups)h(to)f(hit)h(all)g(120)f(pages.)-1796 56 y(Y)l(ou)f(w)o(ould,)g
(in)h(e\013ect,)f(read)g(the)g(whole)h(directory)f(in)o(to)h(core.)-1112 
75 y(If)e(y)o(ou're)f(going)h(to)f(read)h(the)g(whole)h(directory)f(in)o
(to)g(core,)f(wh)o(y)h(b)q(other)g(with)g(the)g(hash)g(table?)21 b(And)-1795 
57 y(so,)14 b(no)h(more)g(hash)g(table.)-462 75 y(Though)21 b(the)g(hash)g
(table)g(did)h(not)f(sa)o(v)o(e)f(disk)i(activit)o(y)l(,)g(it)g(at)e
(least)h(a)o(v)o(oided)g(the)g(CPU)g(activit)o(y)-1795 56 y(asso)q(ciated)h
(with)g(linear)h(searc)o(h.)40 b(W)l(e)22 b(still)i(consider)e(it)h
(desirable)g(to)e(a)o(v)o(oid)h(this)h(activit)o(y)l(,)g(and)-1795 57 y
(hence,)e(w)o(e)f(ha)o(v)o(e)f(added)h(a)g(p)q(er-page)g(hash)g(table.)33 b
(An)20 b(alternate)g(metho)q(d)g(w)o(ould)g(ha)o(v)o(e)f(b)q(een)i(to)-1796 
56 y(disp)q(ense)16 b(with)f(an)o(y)g(on-disk)h(hash)e(table)i
(altogether,)e(and)h(sa)o(v)o(e)f(the)h(results)g(of)f(linear)i(searc)o(h)f
(in)g(an)-1795 57 y(in-core)f(hash)f(table.)20 b(The)13 b(rationale)h(for)e
(this)i(is)g(that,)e(if)i(y)o(ou're)e(going)h(to)g(read)g(the)g(whole)h
(directory)-1795 56 y(in)o(to)e(core)g(an)o(yw)o(a)o(y)l(,)f(wh)o(y)i(not)e
(sort)h(it)g(out)g(in)o(tell)q(igen)o(tly)i(while)g(it's)e(there?)20 b(I)
12 b(consider)i(that)d(either)i(the)-1795 56 y(p)q(er-page)j(on-disk)h
(hash)f(tables,)g(or)f(the)h(whole-dire)q(ctory)g(in-core)h(hash)f(table,)g
(w)o(ould)h(b)q(e)f(e\013ectiv)o(e)-1795 57 y(solutions)c(to)g(the)g(CPU)g
(activit)o(y)g(problem.)19 b(I)13 b(think)f(the)h(whole-directory)g
(in-core)f(hash)h(table)f(w)o(ould)-1795 56 y(b)q(e)k(more)e(cum)o(b)q
(ersome,)h(dealin)q(g)h(with)f(v)o(ery)g(large)h(directories)g(\(and)f(p)q
(erhaps)h(limited)h(memory\).)-1821 94 y(2.)22 b @F8 @sf(Eliminate)16 b
(bu\013er)e(pac)o(k)m(age?)20 b @F12 @sf(In)13 b(AFS)g(3,)f(the)h(\014le)h
(serv)o(er)e(w)o(as)g(not)g(part)h(of)f(the)h(k)o(ernel,)g(and)g(since)-1794 
57 y(getting)j(in)o(to)h(and)g(out)f(of)h(the)g(k)o(ernel)g(had)g(a)g
(high)g(o)o(v)o(erhead,)g(it)g(w)o(as)f(b)q(ene\014ci)q(al)i(for)e(the)h
(directory)-1795 56 y(pac)o(k)m(age)c(to)g(ha)o(v)o(e)g(its)h(o)o(wn)f
(bu\013er)h(pac)o(k)m(age.)19 b(In)14 b(the)g(DFS)f(\014le)i(serv)o(er,)e
(the)g(\014le)i(system)e(is)h(part)f(of)g(the)-1795 57 y(k)o(ernel,)k(and)g
(there)g(is)g(no)g(longer)g(an)o(y)g(p)q(erformance)f(justi\014cation)i
(for)e(this)h(pac)o(k)m(age;)h(it)f(is)g(solely)h(a)-1796 56 y
(programming)d(con)o(v)o(enience.)24 b(W)l(e)16 b(ha)o(v)o(e)f(considered)i
(elimi)q(nating)g(it.)23 b(But)16 b(the)g(programming)f(con-)-1795 56 y(v)o
(enience)h(is)f(not)f(to)g(b)q(e)h(sneered)h(at,)d(esp)q(eci)q(ally)k(in)e
(the)g(curren)o(t)f(organization,)g(in)i(whic)o(h)f(indivi)q(du)q(al)-1794 
57 y(directory)h(pages)f(are)h(self-con)o(tained)h(units.)22 b(Ev)o(ery)
15 b(function)i(either)g(follo)o(ws)e(a)h(hash)g(c)o(hain)g(within)-1794 
56 y(a)f(page,)f(or)h(p)q(erforms)g(linear)h(searc)o(h)f(through)g(a)g
(page.)-1094 137 y(7)g(Issue)h(List)705 b(38)530 b(Marc)o(h)14 b(2,)h
(1993)f(13:59)-1911 b
38 @eop1

39 @bop0
@F7 @sf
[<
FFFFE0FFFFE0FFFFE07000E07800E03C00E01C00E01E00E00F000007000007800003C00001
C00001E00000F000007000007800003C00001C00001E00000F007007007007807003C07001
C07FFFE07FFFE03FFFE0>
	 19 28 -2 27 24] 90 @dc
@F12 @sf
[<
7FE3FE3FF00700700700070070070007007007000700700700070070070007007007000700
70070007007007000700700700070070070007007007000700700700070070070007007007
000700700700070070070007007007000700700700FFFFFFFF000700700000070070000007
007000000700700000070070000007007000000700F00F000300F00F000380F80F0001C07C
060000F04F0400001F81F800>
	 36 32 0 31 38] 14 @dc

39 @eop0

0 0 39 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1794 145 y(Ev)o(en)h(if)g(the)g(bu\013er)g(pac)o(k)m(age)g(remains,)g(p)q
(erhaps)g(it)g(should)h(not)f(b)q(e)g(part)g(of)f(the)h(in)o(terface)g(sp)q
(ec)h(of)-1796 57 y(the)g(directory)h(pac)o(k)m(age.)30 b(In)19 b(AFS)g
(3,)g(it)f(exp)q(orted)h(functions)h @F7 @sf(DFlush)p @F12 @sf(,)e @F7 @sf
(DFlushEntry)p @F12 @sf(,)o 18 x(and)h @F7 @sf(DZap)-1796 56 y @F12 @sf
(to)f(other)g(pac)o(k)m(ages.)29 b(The)19 b(former)f(t)o(w)o(o,)g(ho)o(w)o
(ev)o(er,)g(are)g(obsolete)h(due)g(to)f(logging,)h(and)g(the)g(latter)-1796 
56 y(only)d(exists)h(to)e(solv)o(e)h(problems)h(of)e(obsolete)i(data,)e
(whic)o(h)i(could)g(no)f(doubt)g(b)q(e)h(solv)o(ed)f(b)o(y)g(putting)-1795 
57 y(some)21 b(kind)i(of)e(v)o(ersion)h(iden)o(ti\014er)h(in)f(directory)g
(handles.)40 b(The)22 b(only)g(other)g(exp)q(orted)g(function)-1795 56 y
(is)e @F7 @sf(dirb)s 14 -2 z 14 x(Release)p @F12 @sf(,)g(whic)o(h)h(m)o
(ust)e(b)q(e)i(exp)q(orted)g(to)e(the)h(cac)o(he)h(manager)e(in)i(order)f
(to)g(release)g(the)-1795 57 y(bu\013ers)c(gotten)g(when)h @F7 @sf(dir)s 
14 -2 z 13 x(GetPiece)f @F12 @sf(is)h(called)h(on)e(b)q(ehalf)i(of)e @F9 @sf
(r)n(e)n(addir)p @F12 @sf(.)23 b(It)17 b(w)o(ould)g(not)f(b)q(e)h(di\016cult)
-1794 56 y(to)f(eliminate)i(this)f(in)o(terface)g(as)g(w)o(ell,)g(e.g.)24 b
(b)o(y)17 b(requiring)h(the)f(caller)g(of)g @F7 @sf(dir)s 14 -2 z 13 x
(GetPiece)f @F12 @sf(to)g(pass)h(in)-1795 57 y(its)f(o)o(wn)g(bu\013er)g
(space.)24 b(If)17 b(that)f(w)o(ere)g(done,)g(the)h(directory)f(bu\013er)h
(pac)o(k)m(age)f(w)o(ould)h(b)q(e)g(completely)-1794 56 y(in)o(visibl)q(e)c
(to)e(an)o(y)o(one)g(except)h(the)g(directory)g(pac)o(k)m(age,)g(and)g(it)g
(could)g(b)q(e)h(k)o(ept)e(or)g(elimi)q(nated,)i(without)-1795 57 y
(a\013ecting)i(the)g(in)o(terface)g(sp)q(ecs.)-560 71 y(More)j(imp)q
(ortan)o(t)h(is)g(the)g(p)q(erformance)h(problem)f(asso)q(ciated)h(with)f
(cop)o(ying)h(data)e(from)g(the)i(disk)-1795 57 y(bu\013ers)e(to)g(the)h
(directory's)f(bu\013ers.)30 b(There)19 b(are)f(only)h(t)o(w)o(o)e(w)o(a)o
(ys)h(to)g(a)o(v)o(oid)g(this.)30 b(One)20 b(w)o(ould)f(b)q(e)-1795 56 y
(to)e(ha)o(v)o(e)g(a)h(large)g(enough)g(cac)o(he,)h(and)f(therefore)g(a)f
(high)i(enough)f(hit)h(ratio,)f(that)f(the)h(extra)f(data)-1796 57 y(cop)o
(ying)f(is)h(unimp)q(ortan)o(t.)24 b(The)16 b(other)g(w)o(ould)h(b)q(e)g
(to)f(someho)o(w)f(use)i(the)g(lo)o(w-lev)o(el)g(disk)h(bu\013ers)e(as)-1796 
56 y(directory)e(bu\013ers.)19 b(An)c(obstacle)f(to)g(this)g(is)h(that)e
(the)h(directory)h(page)f(size)h(\(8K\))e(m)o(ust)h(b)q(e)h(iden)o(tical)
-1794 56 y(across)i(all)j(platforms,)e(while)i(the)e(lo)o(w-lev)o(el)i
(disk)f(bu\013ers)f(ma)o(y)g(ha)o(v)o(e)g(di\013eren)o(t)h(sizes)g(on)f
(di\013eren)o(t)-1795 57 y(platforms,)c(or)h(ev)o(en)g(on)g(di\013eren)o
(t)h(disks)g(on)f(the)g(same)g(platform.)-1228 87 y(3.)22 b @F8 @sf
(Calling)i(con)o(v)o(en)o(tion.)33 b @F12 @sf(P)o(erhaps)19 b(a)g
(function)i(that)e(tak)o(es)f(a)i(transaction)f(ID)h(argumen)o(t)e(should)
-1794 56 y(ha)o(v)o(e)i(it)g(as)g(the)h(\014rst)f(one?)37 b(Or)20 b
(should)i(w)o(e)e(stic)o(k)h(with)f(the)h(curren)o(t)f(con)o(v)o(en)o
(tion,)i(in)f(whic)o(h)g(the)-1795 56 y(directory)15 b(handle)i(argumen)o
(t)d(alw)o(a)o(ys)g(comes)h(\014rst?)-980 87 y(4.)22 b @F8 @sf(No)15 b
(more)f(allomaps.)21 b @F12 @sf(I)13 b(realized)i(that)e(the)g(allo)q
(cation)i(map)e(\()p @F9 @sf(al)r(lomap)p @F12 @sf(\))g(in)h(the)g(old)f
(AFS)h(3)f(format)-1797 57 y(did)j(not)f(sa)o(v)o(e)f(an)o(y)h(disk)h
(activit)o(y)l(,)f(and)h(so)e(I)i(elimin)q(ated)g(it.)-1052 71 y(The)d 
@F9 @sf(al)r(lomap)i @F12 @sf(w)o(as)e(a)g(map)g(in)i(the)e(header)h(of)g
(the)f(directory)l(,)h(consisting)h(of)e(one)h(b)o(yte)f(for)g(eac)o(h)h
(page,)-1796 57 y(giving)j(the)f(n)o(um)o(b)q(er)h(of)f(free)g(pieces)i
(on)e(that)g(page.)23 b(F)l(unction)17 b @F7 @sf(dir)s 14 -2 z 14 x
(Create)p @F12 @sf(,)e(in)i(searc)o(hing)g(for)e(free)-1795 56 y(space)e
(to)g(put)h(a)f(new)h(en)o(try)l(,)f(could)i(use)f(this)g(map)f(to)g
(determine)i(if)f(it)g(w)o(as)e(w)o(orth)o(while)i(to)f(searc)o(h)g(on)-1795 
57 y(a)g(page.)19 b(This)c(w)o(ould)f(in)h(principl)q(e)g(sa)o(v)o(e)e
(the)h(disk)h(activit)o(y)f(asso)q(ciated)g(with)g(examining)h(that)e
(page.)-1796 71 y(Ho)o(w)o(ev)o(er,)e @F7 @sf(dir)s 14 -2 z 14 x(Create)g 
@F12 @sf(m)o(ust)h(lo)q(ok)g(up)h(the)f(en)o(try)g(\(to)f(mak)o(e)h(sure)g
(it)g(do)q(es)h(not)e(already)i(exist\))f(b)q(efore)-1795 57 y(creating)j
(it.)20 b(As)14 b(w)o(e)h(ha)o(v)o(e)f(seen)h(in)h(the)f(discussion)h(of)f
(hash)g(tables,)f(it)h(is)h(not)e(p)q(ossible)j(to)d(a)o(v)o(oid)g(the)-1795 
56 y(disk)h(activit)o(y)g(asso)q(ciated)g(with)g(lo)q(okups;)g(w)o(e)g
(should)h(exp)q(ect)f(that,)f(after)g(only)h(a)g(handful)h(of)e(them,)-1796 
56 y(the)20 b(whole)g(\014le)h(will)h(ha)o(v)o(e)d(b)q(een)i(brough)o(t)f
(in)g(from)g(disk.)35 b(Th)o(us)19 b(the)h @F7 @sf(allomap)f @F12 @sf
(serv)o(ed)h(no)g(useful)-1794 57 y(purp)q(ose.)-226 87 y(5.)i @F8 @sf
(Magic)d(n)o(um)o(b)q(ers)o(.)h @F12 @sf(These)c(ha)o(v)o(e)g(b)q(een)h
(collected)g(in)g(an)e(App)q(endi)q(x.)23 b(Ultimately)17 b(w)o(e)e
(should)i(ha)o(v)o(e)-1796 56 y(a)h(cen)o(tral)g(directory)h(of)f(magic)g
(n)o(um)o(b)q(ers,)h(to)f(a)o(v)o(oid)g(con\015icts)h(in)g(c)o(ho)q(osing)g
(them,)g(and)f(to)g(enable)-1794 56 y(users)d(to)f(\014gure)i(out)f(what)f
(they)i(are)e(lo)q(oking)j(at.)-940 87 y(6.)22 b @F8 @sf(Salv)m(ager)g
(functions.)31 b @F12 @sf(Since)20 b(the)f(goal)g(of)f(the)h(logging)g
(system)g(is)g(to)f(reduce)i(the)e(need)i(to)e(run)-1795 57 y @F9 @sf
(fsck)11 b @F12 @sf(and)i(the)g(v)o(olume)g(salv)m(ager,)f(w)o(e)h(ha)o(v)o
(e)f(considered)i(reducing)f(the)g(functionalit)o(y)h(of)e(the)g
(directory)-1795 56 y(salv)m(ager,)h(whic)o(h)g(is)g(part)f(of)g(the)h(v)o
(olume)g(salv)m(ager.)19 b(Ho)o(w)o(ev)o(er,)12 b(it)h(is)g(apparen)o(t)f
(that)g(in)i(case)f(of)f(media)-1795 56 y(failure,)17 b(b)q(oth)g @F9 @sf
(fsck)f @F12 @sf(and)h(the)f(v)o(olume)h(salv)m(ager)g(will)i(b)q(e)e
(just)f(as)g(essen)o(tial)i(as)e(they)h(are)f(under)h(AFS)-1795 57 y(3.)i
(Th)o(us)c(w)o(e)g(ha)o(v)o(e)f(presen)o(ted)i(a)e(design)i(for)e(a)h
(directory)g(salv)m(ager)g(that)f(is)i(fully)g(equiv)m(al)q(en)o(t)g(to)e
(that)-1796 56 y(of)g(AFS)i(3.)-306 150 y(7)f(Issue)h(List)705 b(39)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
39 @eop1

40 @bop0
@F0 @sf
[<
FFFFFC0001FFFFFFF0FFFFFC0001FFFFFFF0FFFFFC0001FFFFFFF0FFFFFC0001FFFFFFF000
FF00000001FFE000007E00000003FFE000003E00000003FFC000003F00000007FFC000001F
00000007FF8000001F0000000FFF8000001F8000000FFF8000000F8000000FFF0000000FC0
00001FFF00000007C000001FFE00000007E000003FFE00000003E000003FFC00000003FFFF
FFFFFC00000003FFFFFFFFFC00000001FFFFFFFFF800000001FFFFFFFFF800000000F80000
FFF000000000F80000FFF000000000FC0001FFF0000000007C0001FFE0000000007E0003FF
E0000000003E0003FFC0000000003E0003FFC0000000003F0007FFC0000000001F0007FF80
000000001F800FFF80000000000F800FFF00000000000F801FFF00000000000FC01FFF0000
00000007C01FFE000000000007E03FFE000000000003E03FFC000000000003F07FFC000000
000001F07FF8000000000001F07FF8000000000001F8FFF8000000000000F8FFF000000000
0000FDFFF00000000000007DFFE00000000000007DFFE00000000000007FFFE00000000000
003FFFC00000000000003FFFC00000000000001FFF800000000000001FFF80000000000000
1FFF800000000000000FFF000000000000000FFF0000000000000007FE0000000000000007
FE0000000000000007FE0000000000000003FC0000000000000003FC0000000000000001F8
0000000000000001F800000000>
	 68 59 -3 58 75] 65 @dc
[<
FFFFFC3FFFFFFFFFFC3FFFFFFFFFFC3FFFFFFFFFFC3FFFFF03FF0000FFC003FF0000FFC003
FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF
0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF00
00FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000FFC003FF0000
FFC003FF0000FFC003FF8000FFC003FF8000FFC003FF8000FFC003FEC000FFC003FEE000FF
C003FE6000FF8007FE3001FF80FFFE1C01FF00FFFE0F03FE00FFFE07FFFC00FFFE01FFF800
00FE007FC000>
	 48 38 -4 37 55] 110 @dc
[<
0001FF80FFFF000FFFF0FFFF003FFFFCFFFF00FFC07EFFFF01FE000FFFE003FC0007FFC007
F80003FFC00FF80001FFC01FF00000FFC03FF00000FFC03FF00000FFC07FE00000FFC07FE0
0000FFC07FE00000FFC0FFE00000FFC0FFE00000FFC0FFE00000FFC0FFE00000FFC0FFE000
00FFC0FFE00000FFC0FFE00000FFC0FFE00000FFC0FFE00000FFC07FE00000FFC07FE00000
FFC07FE00000FFC03FE00000FFC03FF00000FFC01FF00000FFC01FF00000FFC00FF80000FF
C007FC0001FFC003FE0003FFC001FF000FFFC000FFE03FFFC0003FFFFEFFC0000FFFF8FFC0
0000FFC0FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000
000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC00000
0000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000001FFC0000000
3FFFC00000003FFFC00000003FFFC00000003FFFC0000000003FC0>
	 48 60 -3 59 55] 100 @dc
[<
FFFFF8FFFFF8FFFFF8FFFFF803FF0003FF0003FF0003FF0003FF0003FF0003FF0003FF0003
FF0003FF0003FF0003FF0003FF0003FF0003FF0003FF0003FF0003FF0003FF0003FF0003FF
0003FF0003FF0003FF0003FF0003FF0003FF0003FF0007FF00FFFF00FFFF00FFFF00FFFF00
00FF0000000000000000000000000000000000000000000000000000000000000000F00003
FC0007FE000FFE000FFF001FFF001FFF001FFF000FFF000FFE0007FE0003FC0000F000>
	 21 61 -3 60 27] 105 @dc
[<
FFFF801FFFFEFFFF801FFFFEFFFF801FFFFEFFFF801FFFFE01FC0003FF8000FC0003FF0000
7C0007FE00003E000FFC00001F001FFC00000F803FF8000007C07FF0000003E07FE0000003
F0FFC0000001F9FF80000000FBFF800000007FFF000000003FFE000000001FFC000000001F
F8000000003FF8000000007FF0000000007FE000000000FFF000000001FFF800000003FFFC
00000007FF3E0000000FFE1F0000000FFC1F8000001FF80FC000003FF007C000007FF003E0
0000FFE001F00000FFC000F80001FF8000FC00FFFFF007FFFCFFFFF007FFFCFFFFF007FFFC
FFFFF007FFFC>
	 47 38 -2 37 52] 120 @dc
@F1 @sf
[<
FFFFFFC000000000FFFFFFC000000000FFFFFFC000000000FFFFFFC000000000FFFFFFC000
00000001FFE0000000000001FFE0000000000001FFE0000000000001FFE0000000000001FF
E0000000000001FFE0000000000001FFE0000000000001FFE0000000000001FFE000000000
0001FFE0000000000001FFE0000000000001FFE0000000000001FFE0000000000001FFE000
0000000001FFE0000000000001FFE01FF800000001FFE0FFFF80000001FFE3FFFFF0000001
FFEFFFFFFC000001FFFFE03FFE000001FFFF0007FF800001FFFE0003FFC00001FFFC0001FF
E00001FFF80000FFF00001FFF000007FF80001FFE000007FF80001FFE000003FFC0001FFE0
00003FFC0001FFE000001FFE0001FFE000001FFE0001FFE000001FFF0001FFE000001FFF00
01FFE000000FFF0001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE00000
0FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FF
E000000FFF8001FFE000000FFF8001FFE000000FFF0001FFE000001FFF0001FFE000001FFF
0001FFE000001FFF0001FFE000001FFE0001FFE000003FFE0001FFE000003FFC0001FFE000
003FFC0001FFE000007FF80001FFF00000FFF00001FFF80000FFE00003FFFE0001FFC000FF
FFFF8007FF8000FFFFDFF01FFF0000FFFFCFFFFFFC0000FFFFC3FFFFF00000FFFFC07FFFC0
0000007FC00FFC000000>
	 57 66 -4 45 66] 112 @dc
[<
FFFFFFFFFF00000000FFFFFFFFFF00000000FFFFFFFFFF00000000FFFFFFFFFF00000000FF
FFFFFFFF00000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001F
FFC00000000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFF
C00000000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC0
0000000000001FFFC00000000000001FFFC00000000000001FFFC00000000000001FFFC000
00000000001FFFC0007C000000001FFFC0007C000000001FFFC0007C000000001FFFC0007C
000000001FFFC0007C000000001FFFC0007C000000001FFFC000FC000000001FFFC000FC00
0000001FFFC000FC000000001FFFC001FC000000001FFFC003FC000000001FFFC01FFC0000
00001FFFFFFFFC000000001FFFFFFFFC000000001FFFFFFFFC000000001FFFFFFFFC000000
001FFFFFFFFC000000001FFFC01FFC000000001FFFC003FC000000001FFFC001FC00000000
1FFFC000FC000000001FFFC000FC000000001FFFC000FC000000001FFFC0007C000000001F
FFC0007C000F80001FFFC0007C000F80001FFFC0007C000F80001FFFC0007C000F80001FFF
C0007C001F00001FFFC00000001F00001FFFC00000001F00001FFFC00000001F00001FFFC0
0000001F00001FFFC00000003F00001FFFC00000003F00001FFFC00000007F00001FFFC000
00007E00001FFFC0000000FE00001FFFC0000000FE00001FFFC0000001FE00001FFFC00000
03FE00001FFFC000000FFE00001FFFC000003FFE00001FFFC00003FFFE00FFFFFFFFFFFFFF
FE00FFFFFFFFFFFFFFFC00FFFFFFFFFFFFFFFC00FFFFFFFFFFFFFFFC00FFFFFFFFFFFFFFFC
00>
	 65 70 -4 69 75] 70 @dc
@F7 @sf
[<
00700000F80000F80000D80001DC0001DC0001DC00018C00038E00038E00038E00038E0007
07000707000707000707000F07800E03800E03800E03800E03801C01C01C01C01C01C01C01
C0FF07F8FF07F8FF07F8>
	 21 28 -1 27 24] 86 @dc

40 @eop0

0 0 40 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(App)s(endix)34 b(A)-531 246 y @F1 @sf(epi)7 b 36 -2 z 
37 x(v)m(olFil)q(e)q(Id)g 36 -2 z 37 x(t)40 b(Structure)-1278 262 y @F12 @sf
(In)17 b(AFS)f(3,)g(the)g(cac)o(he)g(manager)g(passed)g(to)f(the)i
(directory)f(pac)o(k)m(age)g(parameters)f(of)h(t)o(yp)q(e)g @F7 @sf
(ViceFid)p @F12 @sf(,)f(and)-1909 56 y(the)e(\014le)h(serv)o(er)f(passed)g
(parameters)f(of)h(t)o(yp)q(e)g @F7 @sf(AFSFid)p @F12 @sf(,)f(while)q 14 x
(the)h(directory)h(pac)o(k)m(age)f(itself)h(accessed)f(these)-1909 57 y
(parameters)i(as)g(arra)o(ys)g(of)g(t)o(yp)q(e)h @F7 @sf(long)p @F12 @sf
(.)k(The)c(t)o(w)o(o)f(structures)g(had)h(exactly)g(the)g(same)f(\014elds)i
(with)f(exactly)-1909 56 y(the)i(same)g(meanings,)i(so)d(the)i @F9 @sf(\014d)f
@F12 @sf(\014eld)h(in)h(a)e(directory)g(en)o(try)g(had)g(the)h(same)f
(structure)g(and)g(seman)o(tics)-1909 57 y(whether)d(the)h(directory)f(w)o
(as)f(created)i(b)o(y)f(a)g(cac)o(he)g(manager)g(or)f(a)h(\014le)h(serv)o
(er.)-1397 95 y(In)d(DCE)g(LFS,)g(the)g(directory)g(pac)o(k)m(age)f(and)i
(all)f(its)g(callers)h(in)g(all)g(comp)q(onen)o(ts)f(use)g(the)g @F7 @sf
(epi)s 14 -2 z 14 x(volFileId)s 14 -2 z 13 x(t)-1910 57 y @F12 @sf
(structure)i(for)g(these)g(parameters.)k(This)d(is)f(de\014ned)i(in)f(an)f
(inclu)q(de)i(\014le)f(in)g(the)f(ano)q(de)h(la)o(y)o(er.)-1658 95 y(The)h 
@F7 @sf(epi)s 14 -2 z 14 x(volFileId)s 14 -2 z 13 x(t)g @F12 @sf
(structure)f(has)h(an)g(index)h(and)f(a)g(uniqui\014)q(er.)26 b(Both)17 b
(of)f(them)h(are)g(unsigned)h(and)-1909 57 y(32)d(bits)i(long.)22 b(Th)o
(us)16 b(it)g(can)g(b)q(e)h(seen)f(that)g(an)g(epi)s 14 -2 z 14 x(v)o
(olFileId)s 14 -2 z 15 x(t)g(and)g(a)g(Dir)s 14 -2 z 13 x(Handle)h(are)f
(b)q(oth)g(handles)h(for)-1910 56 y(a)e(\014le,)h(but)f(they)g(are)g(at)g
(completely)h(di\013eren)o(t)g(lev)o(els,)g(and)f(should)h(not)f(b)q(e)h
(confused)g(with)f(one)h(another.)-1896 1129 y(A)f(epi)s 14 -2 z 15 x(v)o
(olFileId)s 14 -2 z 15 x(t)g(Structure)397 b(40)530 b(Marc)o(h)14 b(2,)h
(1993)f(13:59)-1911 b
40 @eop1

41 @bop0
@F0 @sf
[<
FFFFFFFFFFF80000FFFFFFFFFFFF8000FFFFFFFFFFFFE000FFFFFFFFFFFFF800007FF00001
FFFC00007FF000003FFE00007FF000001FFF00007FF000000FFF80007FF0000007FFC0007F
F0000003FFC0007FF0000003FFE0007FF0000001FFE0007FF0000001FFF0007FF0000001FF
F0007FF0000001FFF0007FF0000001FFF0007FF0000001FFF0007FF0000001FFF0007FF000
0001FFF0007FF0000001FFF0007FF0000001FFE0007FF0000001FFE0007FF0000003FFC000
7FF0000003FFC0007FF0000007FF80007FF0000007FF00007FF000000FFE00007FF000001F
FC00007FF000007FF000007FFFFFFFFFC000007FFFFFFFFE0000007FFFFFFFFE0000007FF0
000FFF8000007FF00001FFE000007FF000007FF000007FF000003FF800007FF000001FFC00
007FF000001FFE00007FF000000FFF00007FF000000FFF00007FF0000007FF00007FF00000
07FF80007FF0000007FF80007FF0000007FF80007FF0000007FF80007FF0000007FF80007F
F0000007FF80007FF0000007FF80007FF000000FFF00007FF000000FFF00007FF000001FFE
00007FF000001FFE00007FF000003FFC00007FF000007FF800007FF00001FFF000FFFFFFFF
FFFFC000FFFFFFFFFFFF0000FFFFFFFFFFFC0000FFFFFFFFFFC00000>
	 60 59 -4 58 70] 66 @dc
@F1 @sf
[<
FFFFFFFFF8007FFFFFFFE0FFFFFFFFF8007FFFFFFFE0FFFFFFFFF8007FFFFFFFE0FFFFFFFF
F8007FFFFFFFE0FFFFFFFFF8007FFFFFFFE0001FFFC0000000FFFFC000001FFFC00000007F
FF8000001FFFC0000000FFFF0000001FFFC0000001FFFF0000001FFFC0000001FFFE000000
1FFFC0000003FFFC0000001FFFC0000007FFF80000001FFFC000000FFFF80000001FFFC000
000FFFF00000001FFFC000001FFFE00000001FFFC000003FFFC00000001FFFC000007FFFC0
0000001FFFC000007FFF800000001FFFC00000FFFF000000001FFFC00001FFFE000000001F
FFC00003FFFE000000001FFFC00003FFFC000000001FFFC00007FFF8000000001FFFC0000F
FFF0000000001FFFC0001FFFF0000000001FFFC0001FFFE0000000001FFFC0003FFFC00000
00001FFFE0007FFF80000000001FFFF000FFFF80000000001FFFF800FFFF00000000001FFF
FC01FFFE00000000001FFFFE03FFFC00000000001FFFFF87FFFC00000000001FFFDFC7FFF8
00000000001FFFCFEFFFF000000000001FFFC7FFFFF000000000001FFFC3FFFFE000000000
001FFFC1FFFFC000000000001FFFC0FFFF8000000000001FFFC03FFF8000000000001FFFC0
1FFF0000000000001FFFC00FFE0000000000001FFFC007FC0000000000001FFFC003FC0000
000000001FFFC000FE0000000000001FFFC0007F0000000000001FFFC0003F800000000000
1FFFC0001FC000000000001FFFC0000FF000000000001FFFC00007F800000000001FFFC000
01FC00000000001FFFC00000FE00000000001FFFC000007F00000000001FFFC000003FC000
0000001FFFC000001FE0000000001FFFC0000007F0000000001FFFC0000003F8000000001F
FFC0000001FC000000001FFFC0000000FE000000001FFFC00000007F800000001FFFC00000
001FC00000001FFFC00000000FE00000001FFFC000000007F00000001FFFC000000003F800
00001FFFC000000001FE0000001FFFC000000003FF8000FFFFFFFFF80000FFFFFFC0FFFFFF
FFF80000FFFFFFC0FFFFFFFFF80000FFFFFFC0FFFFFFFFF80000FFFFFFC0FFFFFFFFF80000
FFFFFFC0>
	 83 71 -4 70 93] 75 @dc
[<
FFFFFFF0000000000F0000FFFFFFF0000000001F8000FFFFFFF0000000003F8000FFFFFFF0
000000007F8000FFFFFFF000000000FF8000007FE00000000000FF8000001F800000000001
FF8000001F800000000003FF8000001F800000000007FF8000001F80000000000FFF800000
1F80000000001FFF8000001F80000000001FFF8000001F80000000003FFF8000001F800000
00007FFF8000001F8000000000FFFF8000001F8000000001FFFF8000001F8000000003FFFF
8000001F8000000003FFFF8000001F8000000007FFFF8000001F800000000FFFFF8000001F
800000001FFFFF8000001F800000003FFFFF8000001F800000007FFFDF8000001F80000000
7FFFDF8000001F80000000FFFF9F8000001F80000001FFFF1F8000001F80000003FFFE1F80
00001F80000007FFFC1F8000001F8000000FFFF81F8000001F8000000FFFF81F8000001F80
00001FFFF01F8000001F8000003FFFE01F8000001F8000007FFFC01F8000001F800000FFFF
801F8000001F800001FFFF001F8000001F800001FFFF001F8000001F800003FFFE001F8000
001F800007FFFC001F8000001F80000FFFF8001F8000001F80001FFFF0001F8000001F8000
3FFFE0001F8000001F80003FFFC0001F8000001F80007FFFC0001F8000001F8000FFFF8000
1F8000001F8001FFFF00001F8000001F8003FFFE00001F8000001F8007FFFC00001F800000
1F8007FFF800001F8000001F800FFFF800001F8000001F801FFFF000001F8000001F803FFF
E000001F8000001F807FFFC000001F8000001F80FFFF8000001F8000001F80FFFF0000001F
8000001F81FFFF0000001F8000001F83FFFE0000001F8000001F87FFFC0000001F8000001F
8FFFF80000001F8000001F9FFFF00000001F8000001F9FFFE00000001F8000001FBFFFE000
00001F8000001FFFFFC00000001F8000001FFFFF800000001F8000001FFFFF000000001F80
00001FFFFE000000001F8000001FFFFC000000007FE000FFFFFFFC000000FFFFFFF0FFFFFF
F8000000FFFFFFF0FFFFFFF0000000FFFFFFF0FFFFFFE0000000FFFFFFF0FFFFFFC0000000
FFFFFFF0>
	 84 71 -4 70 93] 78 @dc
[<
FFFFFFFEFFFFFFFEFFFFFFFEFFFFFFFEFFFFFFFEFFFFFFFEFFFFFFFEFFFFFFFEFFFFFFFEFF
FFFFFE>
	 31 10 -1 27 40] 45 @dc
@F13 @sf
[<
01F00007FC000FFE001F0F003C0700380380700380700380F00000E00000E00000E00000E0
0000E00000E00000E00000F000007003807003803803803C07801F0F800FFF8007FB8001F1
80>
	 17 25 -2 24 22] 67 @dc
[<
7FFC00FFFF007FFF801C07801C03C01C01C01C01C01C01C01C01C01C03C01C03801C1F001F
FE001FFE001FFF001C07001C07801C03801C03801C03801C07801C0F007FFF00FFFE007FF8
00>
	 18 25 -1 24 22] 66 @dc
[<
0E0E000F1E000F1E001B1B0019130019B30019B30019B30019B30019B30019B30039B38039
F38039F38038E3803803803803803803803001807001C07001C07001C0FC07E0FE0FE0FC07
E0>
	 19 25 -1 24 22] 87 @dc
[<
FFFF80FFFF80FFFF807003807803803C03801C03801E03800F000007000007800003C00001
C00001E00000F000007000007800003C00E01C00E01E00E00F00E00700FFFF80FFFF807FFF
80>
	 17 25 -2 24 22] 90 @dc

41 @eop0

0 0 41 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(App)s(endix)34 b(B)-526 246 y @F1 @sf(Kernel)41 b(vs)f
(Non-k)m(ernel)g(P)m(ac)m(k)-7 b(ages)-1612 262 y @F12 @sf(In)19 b(AFS)e
(3,)h(k)o(ernel)h(and)f(non-k)o(ernel)h(v)o(ersions)f(of)g(the)g(bu\013er)f
(pac)o(k)m(age)h(w)o(ere)g(di\013eren)o(t)g(from)f(eac)o(h)h(other,)-1910 
56 y(and)d(in)g(the)f(source)h(tree,)f(they)g(w)o(ere)g(separate)g(\014les.)
21 b(In)15 b(the)f(DFS,)g(they)g(will)i(still)g(b)q(e)f(di\013eren)o(t)g
(from)e(eac)o(h)-1909 57 y(other,)h(but)i(b)q(oth)f(will)i(use)e(the)h
(same)f(source)g(\014le.)21 b(This)16 b(app)q(endix)h(lists)f(the)f
(di\013erences.)-1532 128 y @F10 @sf(\017)23 b @F12 @sf(The)16 b(k)o
(ernel)i(v)o(ersion)e(uses)h(lo)q(c)o(ks.)24 b(Sp)q(eci)q(\014call)q(y)l
(,)18 b(there)f(is)g(a)f(single)i(lo)q(c)o(k)f(on)f(the)h(en)o(tire)g
(bu\013er)f(p)q(o)q(ol.)-1795 57 y(An)o(y)d(function)g(that)g(ev)o(er)f
(uses)i(a)e(bu\013er)h(obtains)g(a)g(write)g(lo)q(c)o(k.)19 b(The)14 b
(non-k)o(ernel)g(v)o(ersion)f(nominally)-1794 56 y(uses)j(the)h(same)f(lo)q
(c)o(k,)g(but)h(this)f(is)h(sup)q(er\015uous)h(since)f(the)g(salv)m(ager)f
(is)h(a)f(non-threaded)h(user-space)-1795 57 y(program.)-227 89 y @F10 @sf
(\017)23 b @F12 @sf(The)16 b(k)o(ernel)i(v)o(ersion)f(gets)f(bu\013er)g
(storage)g(from)g(the)g(k)o(ernel.)25 b(Bu\013er)17 b(descriptors)g(and)f
(bu\013er)h(data)-1796 56 y(areas)d(\(describ)q(ed)j(in)f(subsection)g
(4.2\))e(are)h(obtained)h(b)o(y)f(callin)q(g)h @F7 @sf(osi)s 14 -2 z 14 x
(Alloc)e @F12 @sf(instead)i(of)f @F7 @sf(malloc)p @F12 @sf(.)-1804 89 y 
@F10 @sf(\017)23 b @F12 @sf(The)17 b(k)o(ernel)g(v)o(ersion)h(is)f(bulle)q
(t-pro)q(ofed)h(against)e(the)h(p)q(ossibil)q(i)q(t)o(y)h(that)e(the)h
(initiali)q(zation)i(function)-1795 57 y(\()p @F7 @sf(dirb)s 14 -2 z 13 x
(Init)p @F12 @sf(\))14 b(will)j(b)q(e)f(called)h(more)d(than)i(once.)-902 
78 y @F10 @sf(\017)23 b @F12 @sf(The)15 b(functions)h(imp)q(orted)g(b)o(y)f
(the)g(v)o(ersions)h(had)f(di\013eren)o(t)g(names,)g(as)g(follo)o(ws:)-1421 
133 y @F13 @sf(Name)21 b(in)261 b(Name)21 b(in)-567 45 y(Cache)f(Manager)
130 b(other)-524 92 y(Dir)21 b(Buffer)f(Pkg)109 b(Dir)21 b(Buffer)f(Pkgs)
-741 91 y(dirp_Rea)o(d)217 b(ReallyRea)o(d)-633 46 y(dirp_Wri)o(te)195 b
(ReallyWri)o(te)-655 91 y(dirp_Zap)o 239 x(FidZap)-546 46 y(dirp_Cpy)o 239 x
(FidCpy)-546 45 y(dirp_Eq)260 b(FidEq)-524 108 y @F12 @sf(As)16 b(a)f
(matter)g(of)g(fact,)h(there)g(w)o(as)f(no)g(go)q(o)q(d)h(reason)g(for)f
(the)h(use)g(of)g(di\013eren)o(t)g(names.)22 b(The)16 b(issue)h(of)-1796 
57 y(names)h(for)g(these)h(functions)g(is)g(irrelev)m(an)o(t)h(in)f(the)g
(DCE)f(LFS)g(sources,)h(as)g(the)f(functions)i(will)g(b)q(e)-1795 56 y
(accessed)15 b(through)g(p)q(oin)o(ters)h(in)g(\014elds)g(in)g(the)g
(directory)f(handle)i(structure.)-1474 125 y(B)e(Kernel)i(vs)e(Non-k)o
(ernel)h(P)o(ac)o(k)m(ages)273 b(41)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)
-1911 b
41 @eop1

42 @bop0

42 @eop0
0 0 42 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y(In)i(AFS)f(3,)f(the)i(directory)f(pac)o(k)m(age)g(also)g(had)g
(k)o(ernel)h(and)f(non-k)o(ernel)h(v)o(ersions.)26 b(These)17 b(w)o(ere)g
(compiled)-1908 57 y(from)11 b(the)g(same)g(source)h(\014le)g(using)g
(conditional)q 12 x(compilation.)20 b(The)12 b(only)g(di\013erence)h(w)o
(as)d(that)h(in)h(the)g(k)o(ernel)-1909 56 y(v)o(ersion,)j(the)h(names)f
(of)g(all)h(exp)q(orted)g(functions)g(w)o(ere)f(rede\014ned)i(to)e(ha)o(v)o
(e)g(the)g(pre\014x)h @F7 @sf(dir)s 14 -2 z 14 x @F12 @sf(.)k(In)c(the)g
(DCE)-1910 56 y(LFS)j(source)g(\014les,)h(b)q(oth)f(k)o(ernel)h(and)f
(non-k)o(ernel)h(v)o(ersions)f(will)h(follo)o(w)f(the)g(same)f(naming)i
(con)o(v)o(en)o(tion,)-1910 57 y(and)15 b(so)g(will)i(not)e(b)q(e)h
(di\013eren)o(t)f(from)g(eac)o(h)g(other.)-879 2348 y(B)g(Kernel)i(vs)e
(Non-k)o(ernel)h(P)o(ac)o(k)m(ages)273 b(42)530 b(Marc)o(h)14 b(2,)h(1993)f
(13:59)-1911 b
42 @eop1

43 @bop0
@F1 @sf
[<
FFFFFFC07FFFFFE03FFFFFF0FFFFFFC07FFFFFE03FFFFFF0FFFFFFC07FFFFFE03FFFFFF0FF
FFFFC07FFFFFE03FFFFFF0FFFFFFC07FFFFFE03FFFFFF001FFE00000FFF000007FF80001FF
E00000FFF000007FF80001FFE00000FFF000007FF80001FFE00000FFF000007FF80001FFE0
0000FFF000007FF80001FFE00000FFF000007FF80001FFE00000FFF000007FF80001FFE000
00FFF000007FF80001FFE00000FFF000007FF80001FFE00000FFF000007FF80001FFE00000
FFF000007FF80001FFE00000FFF000007FF80001FFE00000FFF000007FF80001FFE00000FF
F000007FF80001FFE00000FFF000007FF80001FFE00000FFF000007FF80001FFE00000FFF0
00007FF80001FFE00000FFF000007FF80001FFE00000FFF000007FF80001FFE00000FFF000
007FF80001FFE00000FFF000007FF80001FFE00000FFF000007FF80001FFE00000FFF00000
7FF80001FFE00000FFF000007FF80001FFE00000FFF000007FF80001FFE00000FFF000007F
F80001FFF00000FFF800007FF80001FFF00000FFF800007FF80001FFF00000FFF800007FF8
0001FFF80000FFFC00007FF80001FFFC0000FFFE00007FF80001FFDC0000FFEE00007FF000
01FFDE0000FFEF00007FF00001FFCF0001FFE78000FFF00003FFC7C001FFC3E000FFE000FF
FFC3E003FFC1F001FFE000FFFFC1FC07FF80FE03FFC000FFFFC0FFFFFF007FFFFF8000FFFF
C03FFFFE001FFFFF0000FFFFC00FFFF80007FFFC0000007FC001FFC00000FFE00000>
	 92 46 -4 45 99] 109 @dc
@F9 @sf
[<
03E1F0000E1308000C0F04001C0F02001C0602001C0701001C0701001C0700801C0700801C
0700800E0380400E0380400E038040870380404701C0604301C0E04381C1E02301C3E03300
E3C00E00C1C0>
	 27 20 -4 19 30] 119 @dc
[<
8040202010080804043C3C3C3C1C>
	 6 14 -3 4 14] 44 @dc

43 @eop0

0 0 43 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(App)s(endix)34 b(C)-527 246 y @F1 @sf(P)m(erformance)
40 b(Issues)-1001 262 y @F12 @sf(I)21 b(am)e(not)h(a)o(w)o(are)f(of)h(an)o
(y)g @F9 @sf(known,)i(actual)e @F12 @sf(p)q(erformance)h(problems)g(in)g
(the)f(AFS)g(3)g(directory)h(pac)o(k)m(age.)-1910 56 y(Under)i(the)f
(circumstances,)j(therefore,)e(it)g(w)o(ould)g(ha)o(v)o(e)e(b)q(een)j
(sensible)g(to)e(lea)o(v)o(e)g(w)o(ell)i(enough)e(alone.)-1909 57 y(Ho)o
(w)o(ev)o(er,)14 b(w)o(e)h(could)h(not)f(resist)g(considering)i(some)d
(areas)h(of)g(p)q(oten)o(tial)h(p)q(erformance)f(impro)o(v)o(emen)o(t.)k
(W)l(e)-1909 56 y(elimin)q(ated)h(the)f(whole-directory)h(hash)f(table)g
(and)h(added)f(p)q(er-page)h(hash)f(tables,)h(and)f(w)o(e)f(elimi)q(nated)
-1908 57 y(the)c @F9 @sf(al)r(lomap)p @F12 @sf(.)20 b(W)l(e)14 b(ha)o(v)o
(e)f(also)h(considered)h(mo)q(difying)g(or)f(eliminati)q(ng)h(the)f
(directory)g(bu\013er)g(pac)o(k)m(age.)19 b(F)l(or)-1910 56 y(detailed)f
(discussions)f(of)f(all)h(three)f(of)f(these)i(issues,)f(the)g(reader)g
(is)h(referred)f(to)f(Chapter)h(7.)22 b(In)17 b(addition,)-1909 57 y(w)o
(e)f(replaced)h(the)f(p)q(er-page)g(bit)h(map)f(with)g(a)f(p)q(er-page)i
(free)f(list.)23 b(It)16 b(should)h(b)q(e)f(ob)o(vious)g(that)g(the)g
(latter)-1910 56 y(metho)q(d)f(is)h(less)g(CPU-in)o(tensiv)o(e)g(than)f
(the)h(former.)-925 1320 y(C)f(P)o(erformance)f(Issues)506 b(43)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
43 @eop1

44 @bop0
@F0 @sf
[<
FFFFFFFFFFC0000000FFFFFFFFFFFE000000FFFFFFFFFFFF800000FFFFFFFFFFFFF0000000
7FF80003FFF80000007FF800003FFE0000007FF800000FFF0000007FF8000003FF8000007F
F8000001FFC000007FF8000000FFE000007FF80000007FF000007FF80000003FF800007FF8
0000003FFC00007FF80000001FFC00007FF80000001FFE00007FF80000000FFE00007FF800
00000FFF00007FF80000000FFF00007FF800000007FF00007FF800000007FF80007FF80000
0007FF80007FF800000007FF80007FF800000007FF80007FF800000007FFC0007FF8000000
07FFC0007FF800000007FFC0007FF800000007FFC0007FF800000007FFC0007FF800000007
FFC0007FF800000007FFC0007FF800000007FFC0007FF800000007FFC0007FF800000007FF
C0007FF800000007FFC0007FF800000007FFC0007FF800000007FF80007FF800000007FF80
007FF800000007FF80007FF800000007FF80007FF800000007FF00007FF800000007FF0000
7FF80000000FFF00007FF80000000FFE00007FF80000000FFE00007FF80000001FFC00007F
F80000001FFC00007FF80000003FF800007FF80000003FF800007FF80000007FF000007FF8
000000FFE000007FF8000001FFC000007FF8000003FF8000007FF800000FFF0000007FF800
003FFE0000007FF80003FFF80000FFFFFFFFFFFFE00000FFFFFFFFFFFF800000FFFFFFFFFF
FC000000FFFFFFFFFFC0000000>
	 66 59 -4 58 76] 68 @dc
@F1 @sf
[<
FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07F
FFFFE001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FF
E00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF0
0001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE000
00FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001
FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FF
F00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFF00000FFF00001FFF0
0000FFF00001FFF00000FFF00001FFF80000FFF00001FFFC0000FFF00001FFDC0000FFE000
01FFDE0000FFE00001FFCF0001FFE00001FFC7C001FFC00001FFC3E003FFC00001FFC1FC07
FF800001FFC0FFFFFF000001FFC03FFFFE000001FFC00FFFF8000001FFC001FFC0000001FF
C0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000000000
0001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000
0000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001
FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000
000003FFC00000000000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC0
0000000000FFFFC00000000000007FC00000000000>
	 59 72 -4 71 66] 104 @dc
[<
7FFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC07FFE0007FFC03FFF0000FFE01F
FF00003FE01FFF80001FE00FFFC0000FE007FFE0000FE003FFE00007E003FFF00007E001FF
F80003E000FFFC0003E0007FFC0003E0007FFE0003E0003FFF0003F0001FFF8001F0000FFF
8001F0000FFFC001F00007FFE001F00003FFF000000001FFF800000001FFF800000000FFFC
000000007FFE000000003FFF000000001FFF00003E001FFF80003E000FFFC0003E0007FFE0
003E0003FFE0003E0003FFF0003F0001FFF8003F0000FFFC003F00007FFC003F80007FFE00
1F80003FFF001FC0001FFF801FE0000FFF801FF0000FFFC01FFE0007FFE01FFFFFFFFFF01F
FFFFFFFFF01FFFFFFFFFF01FFFFFFFFFE0>
	 44 46 -3 45 53] 122 @dc

44 @eop0

0 0 44 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(App)s(endix)34 b(D)-532 246 y @F1 @sf(Sync)m
(hronization)41 b(Issues)-1178 262 y @F8 @sf(Access)15 b(to)h(directory)g
(bu\013ers:)i @F12 @sf(If)c(the)g(directory)g(bu\013ers)f(are)h(in)h(the)e
(k)o(ernel,)i(they)f(m)o(ust)f(b)q(e)h(protected)-1909 56 y(from)h(the)h
(e\013ects)f(of)g(sharing)h(b)o(y)g(m)o(ultiple)h(pro)q(cesses.)22 b(This)
16 b(is)g(accomplished)q 17 x(b)o(y)f(putting)h(a)g(lo)q(c)o(k)g(on)f(the)
-1909 57 y(en)o(tire)h(directory)f(bu\013er)g(structure.)20 b(An)o(y)15 b
(function)h(that)f(ev)o(er)g(uses)g(a)g(bu\013er)g(obtains)h(a)e(write)i
(lo)q(c)o(k.)-1804 95 y @F8 @sf(Access)11 b(to)i(directories)f(for)g
(individual)q 13 x(functions:)19 b @F12 @sf(Some)10 b(functions)i(in)f
(the)g(directory)f(pac)o(k)m(age)h(m)o(ust)-1910 57 y(b)q(e)19 b
(protected)g(from)f(the)h(e\013ects)f(of)g(sharing)h(of)f(directories)i(b)o
(y)f(m)o(ultiple)h(pro)q(cesses.)31 b(This)19 b(is)g(generally)-1908 56 y
(done)d(outside)f(the)h(directory)f(pac)o(k)m(age,)g(b)o(y)g(lo)q(c)o
(king)h(mec)o(hanisms)g(in)g(the)f(calli)q(ng)h(mo)q(dule.)-1621 96 y(The)
10 b(follo)o(wing)h(functions)g(require)g(write)f(lo)q(c)o(ks:)18 b @F7 @sf
(dir)s 14 -2 z 14 x(Create)p @F12 @sf(,)10 b @F7 @sf(dir)s 14 -2 z 14 x
(Delete)p @F12 @sf(,)g @F7 @sf(dir)s 14 -2 z 13 x(Replace)p @F12 @sf(,)g 
@F7 @sf(dir)s 14 -2 z 14 x(FixDotDot)p @F12 @sf(.)-1962 95 y(The)19 b
(follo)o(wing)h(functions)g(require)h(read)e(lo)q(c)o(ks:)28 b @F7 @sf
(dir)s 14 -2 z 14 x(Lookup)p @F12 @sf(,)19 b @F7 @sf(dir)s 14 -2 z 14 x
(PieceScan)p @F12 @sf(,)f @F7 @sf(dir)s 14 -2 z 14 x(IsEmpty)p @F12 @sf(.)
31 b(Lo)q(c)o(ks)-1909 57 y(are)15 b(required)h(b)q(ecause)h(eac)o(h)e
(function)h(m)o(ust)f(examine)h(\(p)q(oten)o(tially\))g(more)f(than)g(one)h
(page)f(of)g(the)g(direc-)-1908 56 y(tory)l(,)h(and)h(m)o(ust)f(get)g(a)h
(consisten)o(t)g(\\snapshot.")23 b(This)17 b(rule)h(is)f(sligh)o(tly)h
(relaxed)g(for)e @F7 @sf(dir)s 14 -2 z 13 x(PieceScan)p @F12 @sf(,)g(as)
-1910 57 y(describ)q(ed)h(in)f(the)f(sp)q(eci\014)q(cations)h(of)f(that)g
(function.)-935 95 y(The)22 b(follo)o(wing)g(functions)h(do)f(not)f
(require)h(lo)q(c)o(ks,)i(although)e(they)f(access)h(a)g(directory:)33 b 
@F7 @sf(dir)s 14 -2 z 14 x(Length)p @F12 @sf(,)-1911 57 y @F7 @sf(dir)s 
14 -2 z 14 x(GetPiece)p @F12 @sf(,)16 b @F7 @sf(dir)s 14 -2 z 14 x
(MakeDir)p @F12 @sf(.)25 b(The)18 b(former)f(t)o(w)o(o,)o 17 x(ho)o(w)o
(ev)o(er,)f(are)h(usually)i(called)g(in)f(a)f(situation)h(where)-1909 56 y
(the)g(directory)g(is)g(lo)q(c)o(k)o(ed,)h(in)g(order)f(that)f(their)h
(results)g(b)q(e)h(consisten)o(t)f(with)g(some)g(previous)g(call)h(to)e
(the)-1909 57 y(directory)e(pac)o(k)m(age.)-360 95 y @F8 @sf(Access)d(to)g
(directories)h(b)q(et)o(w)o(een)f(calls)i(to)f(readdir:)k @F12 @sf(In)12 b
(general,)f(a)g(directory)g(can)g(c)o(hange)g(arbitrarily)-1909 57 y(b)q
(et)o(w)o(een)19 b(successiv)o(e)g(calls)h(of)d(the)i(VFS)f(function)h 
@F9 @sf(r)n(e)n(addir)p @F12 @sf(.)30 b(When)19 b(this)f(happ)q(ens,)i(it)f
(is)g(necessary)f(that)-1910 56 y(the)f(p)q(oin)o(ter)g(returned)h(b)o(y)e
(one)h(call)i(b)q(e)e(usable)h(in)g(the)f(follo)o(wing)g(call.)26 b(This)
18 b(is)f(accomplished)q 18 x(b)o(y)g(clev)o(er)-1909 57 y(writing)f(of)e
(the)i(function)g @F7 @sf(dir)s 14 -2 z 14 x(PieceScan)p @F12 @sf(.)o -782 
95 a @F8 @sf(Access)h(from)g(diskless)g(w)o(orkstations:)j @F12 @sf(In)c
(AFS)f(3,)g(w)o(orkstat)o(ions)g(accessed)h(user)f(\014les)i(one)e(c)o(h)o
(unk)h(at)-1910 57 y(a)j(time,)h(a)f(c)o(h)o(unk)h(b)q(eing)g(ab)q(out)g
(64K)f(b)o(ytes.)32 b(Ho)o(w)o(ev)o(er,)18 b(when)i(a)f(w)o(orkstation)f
(fetc)o(hed)i(a)f(directory)l(,)h(it)-1909 56 y(fetc)o(hed)15 b(the)f
(whole)h(directory)g(at)e(once.)20 b(This)15 b(ensured)g(that)f(the)g
(directory)h(fetc)o(hed)g(really)g(represen)o(ted)g(a)-1910 57 y(snapshot)e
(of)h(the)g(master)f(v)o(ersion)h(on)f(the)h(\014le)h(serv)o(er,)e(and)h
(not)g(a)f(set)g(of)h(snapshots)f(of)h(individ)q(ual)h(c)o(h)o(unks,)-1909 
56 y(whic)o(h)h(migh)o(t)f(not)g(b)q(e)h(consisten)o(t)f(with)h(eac)o(h)f
(other.)-937 182 y(D)g(Sync)o(hronization)h(Issues)434 b(44)530 b(Marc)o
(h)14 b(2,)h(1993)f(13:59)-1911 b
44 @eop1

45 @bop0

45 @eop0
0 0 45 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 145 y(What)h(happ)q(ened)i(if)f(a)g(w)o(orkstat)o(ion)f(did)i(not)e
(ha)o(v)o(e)g(enough)i(cac)o(he)e(space)h(to)f(hold)i(an)f(en)o(tire)g
(directory?)-1909 57 y(This)i(w)o(ould)f(ha)o(v)o(e)f(b)q(een)i(esp)q(eci)q
(all)q(y)g(lik)o(ely)h(with)e(diskless)h(w)o(orkstations,)e(but)h(AFS)g(3)g
(did)h(not)e(supp)q(ort)-1909 56 y(diskless)f(cac)o(he)e(managers.)-487 
96 y(W)l(e)d(did)h(not)f(fully)i(consider)f(the)f(implic)q(ations)h(of)f
(dealing)h(with)g(c)o(h)o(unks)f(of)g(directories,)h(rather)f(than)g
(whole)-1909 56 y(directories,)j(in)g(the)f(cac)o(he)g(manager.)19 b
(Eviden)o(tly)d(with)e(the)g(old)h(directory)f(format,)f(in)i(whic)o(h)g
(there)f(w)o(ould)-1909 57 y(certainly)19 b(b)q(e)f(hash)f(p)q(oin)o(ters)h
(from)f(one)h(c)o(h)o(unk)f(to)g(another,)g(inconsi)q(stency)i(b)q(et)o(w)o
(een)f(c)o(h)o(unks)f(could)i(not)-1910 56 y(b)q(e)d(tolerated.)21 b(But)
16 b(in)g(the)g(new)g(format,)e(in)i(whic)o(h)h(inconsistency)g(w)o(ould)f
(result)g(in)h(nothing)f(w)o(orse)f(than)-1910 56 y(ha)o(ving)g(more)g
(than)g(one)h(en)o(try)e(with)i(the)f(same)g(name,)g(it)g(migh)o(t)g(ha)o
(v)o(e)g(b)q(een)i(p)q(ossible)g(to)d(liv)o(e)i(with)g(it.)-1842 96 y(AFS)k
(4)f(has)h(b)o(ypassed)g(this)h(issue,)g(b)q(ecause)g(the)f(cac)o(he)g
(manager)f(do)q(es)i(not)e(cac)o(he)h(directories)h(for)e(the)-1909 56 y
(purp)q(ose)13 b(of)f(doing)h(lo)q(okups.)20 b(It)12 b(cac)o(hes)h(the)f
(results)h(of)f(indi)q(vidu)q(al)i(lo)q(okups,)f(that)f(is,)h(it)g(has)f
(the)h(equiv)m(alen)q -1 x(t)-1909 57 y(of)18 b(the)g(directory)h(name)f
(lo)q(okup)h(cac)o(he)g(\(dnlc\))g(in)g(the)g(BSD)f(\014le)i(system.)28 b
(The)19 b(cac)o(he)g(manager)e(cac)o(hes)-1909 56 y(c)o(h)o(unks)g(of)g
(directories)h(only)g(for)e(the)i(purp)q(ose)f(of)g(p)q(erforming)h @F9 @sf
(r)n(e)n(addir)p @F12 @sf(;)f(in)h(this)g(case)f(consistency)h(is)g(not)
-1910 57 y(an)d(issue.)-169 1818 y(D)g(Sync)o(hronization)h(Issues)434 b
(45)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
45 @eop1

46 @bop0
@F0 @sf
[<
FFFFFFFFFFFFF800FFFFFFFFFFFFF800FFFFFFFFFFFFF800FFFFFFFFFFFFFC00007FF80001
FFFC00007FF800001FFC00007FF8000007FC00007FF8000003FC00007FF8000001FC00007F
F8000000FE00007FF80000007E00007FF80000003E00007FF80000003E00007FF80000003E
00007FF80000001E00007FF80000001F00007FF80000001F00007FF80000000F00007FF800
00000F00007FF8003C000F00007FF8003C000F00007FF8003C000780007FF8003C00078000
7FF8003C000780007FF8003C000000007FF8007C000000007FF8007C000000007FF800FC00
0000007FF803FC000000007FFFFFFC000000007FFFFFFC000000007FFFFFFC000000007FFF
FFFC000000007FF803FC000000007FF800FC000000007FF8007C000000007FF8007C000000
007FF8003C000000007FF8003C001E00007FF8003C001E00007FF8003C001E00007FF8003C
003C00007FF8003C003C00007FF80000003C00007FF80000003C00007FF80000007C00007F
F80000007C00007FF80000007C00007FF8000000F800007FF8000000F800007FF8000001F8
00007FF8000003F800007FF8000007F800007FF800001FF800007FF80001FFF800FFFFFFFF
FFFFF000FFFFFFFFFFFFF000FFFFFFFFFFFFF000FFFFFFFFFFFFF000>
	 57 59 -4 58 65] 69 @dc
@F1 @sf
[<
0000000000000000FFF000FFFFFFFFF000001FFFFC00FFFFFFFFF000007FFFFE00FFFFFFFF
F00001FFFFFF00FFFFFFFFF00003FFFC1F80FFFFFFFFF00007FFF007C0001FFF8000000FFF
E007E0001FFF8000001FFFE003E0001FFF8000003FFFC003F0001FFF8000003FFFC001F000
1FFF8000007FFFC001F0001FFF8000007FFFC001F0001FFF8000007FFF8001F0001FFF8000
007FFF8000E0001FFF8000007FFF800000001FFF8000007FFF800000001FFF8000007FFF80
0000001FFF8000007FFF800000001FFF8000007FFF800000001FFF8000007FFF000000001F
FF8000007FFF000000001FFF8000007FFF000000001FFF8000007FFF000000001FFF800000
7FFF000000001FFF8000007FFF000000001FFF8000007FFF000000001FFF8000007FFE0000
00001FFF800000FFFE000000001FFF800000FFFE000000001FFF800001FFFC000000001FFF
800001FFF8000000001FFF800003FFF0000000001FFF800007FFE0000000001FFF80001FFF
C0000000001FFF80007FFF80000000001FFFFFFFFFFE00000000001FFFFFFFFFF800000000
001FFFFFFFFFFE00000000001FFFFFFFFFFFC0000000001FFF80001FFFF0000000001FFF80
0003FFF8000000001FFF800000FFFE000000001FFF8000003FFF000000001FFF8000001FFF
800000001FFF8000000FFFC00000001FFF8000000FFFE00000001FFF8000000FFFE0000000
1FFF80000007FFF00000001FFF80000007FFF00000001FFF80000007FFF80000001FFF8000
0007FFF80000001FFF80000007FFF80000001FFF80000007FFF80000001FFF80000007FFF8
0000001FFF80000007FFF80000001FFF80000007FFF80000001FFF80000007FFF80000001F
FF80000007FFF00000001FFF80000007FFF00000001FFF8000000FFFE00000001FFF800000
0FFFE00000001FFF8000000FFFC00000001FFF8000001FFF800000001FFF8000003FFF8000
00001FFF8000007FFF000000001FFF800001FFFC000000001FFF80001FFFF8000000FFFFFF
FFFFFFFFE0000000FFFFFFFFFFFFFF80000000FFFFFFFFFFFFFE00000000FFFFFFFFFFFFF0
00000000FFFFFFFFFFFC0000000000>
	 84 72 -4 70 89] 82 @dc
@F8 @sf
[<
FFFFFF00FFFFFFE007C007F007C003F807C001FC07C000FC07C000FE07C000FE07C000FE07
C000FE07C000FE07C000FC07C001FC07C001F807C003F007FFFFC007FFFF8007C00FE007C0
07F007C003F807C001F807C001FC07C001FC07C001FC07C001FC07C001FC07C001F807C003
F007C007E0FFFFFFC0FFFFFE00>
	 31 31 -2 30 37] 66 @dc
@F12 @sf
[<
FFFFFC>
	 22 1 0 12 23] 123 @dc
@F8 @sf
[<
000000F0000001F8000003FC000007FE000007FE000007FF00000FFF00000F0700000E0300
1FFE0300FFFF0001F81F8007F81FE00FD833F01F8FE1F83F87C1FC3F0000FC7F0000FE7E00
007E7E00007EFE00007FFE00007FFE00007FFE00007FFE00007FFE00007FFE00007FFE0000
7FFE00007F7E00007E7F0000FE7F0000FE3F0000FC1F8001F81F8001F80FC003F007E007E0
01F81F8000FFFF00001FF800>
	 32 40 -3 30 39] 81 @dc

46 @eop0

0 0 46 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(App)s(endix)34 b(E)-521 246 y @F1 @sf(Return)40 b(Co)s
(des)-725 262 y @F12 @sf(The)15 b(follo)o(wing)f(are)g(all)i(the)e(error)g
(return)g(co)q(des)h(that)e(can)h(b)q(e)h(returned)g(b)o(y)f(directory)h
(pac)o(k)m(age)f(functions.)-1909 56 y(If)k(the)f(directory)h(pac)o(k)m
(age)g(gets)f(an)g(error)g(co)q(de)h(from)f(some)g(function)h(that)f(it)h
(calls,)h(it)e(do)q(es)h(not)f(return)-1909 57 y(that)d(co)q(de)i(to)f
(its)g(caller,)h(but)g(returns)f(its)g(o)o(wn)g(co)q(de,)g(whic)o(h)h
(will)h(b)q(e)f(one)f(of)g(the)g(follo)o(wing.)-1652 145 y @F8 @sf(EFBIG)
23 b @F12 @sf({)13 b(A)g(directory)g(could)h(not)f(b)q(e)h(expanded)g(b)q
(ecause)g(it)g(w)o(ould)f(ha)o(v)o(e)g(exceeded)h(the)f(maxim)o(um)h(size)
-1795 57 y(\(64K)g(pages\).)-367 93 y @F8 @sf(EIO)23 b @F12 @sf({)15 b(An)h
(I/O)f(error)g(o)q(ccurred)h(while)g(reading)g(a)f(directory)l(.)-1121 94 y 
@F8 @sf(ENOENT)24 b @F12 @sf({)15 b(No)g(en)o(try)g(with)g(the)g(sp)q
(eci\014)q(ed)i(name)e(w)o(as)f(found)i(in)g(the)f(directory)l(.)-1497 94 y 
@F8 @sf(EDQUOT)24 b @F12 @sf({)15 b(An)h(op)q(eration)f(w)o(ould)h(ha)o(v)o
(e)e(exceeded)j(a)e(v)o(olume)h(quota.)-1317 94 y @F8 @sf(ENOSPC)23 b 
@F12 @sf({)15 b(An)g(op)q(eration)h(w)o(ould)f(ha)o(v)o(e)g(exceeded)i(a)d
(partition)i(size)g(limit.)-1402 1025 y(E)f(Return)h(Co)q(des)611 b(46)530 b
(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
46 @eop1

47 @bop0
@F0 @sf
[<
FFFFFFFF800000FFFFFFFF800000FFFFFFFF800000FFFFFFFF800000007FF800000000007F
F800000000007FF800000000007FF800000000007FF800000000007FF800000000007FF800
000000007FF800000000007FF800000000007FF800000000007FF800000000007FF8000000
00007FF800000000007FF800000000007FF800780000007FF800780000007FF80078000000
7FF800780000007FF800780000007FF800780000007FF800F80000007FF800F80000007FF8
01F80000007FF807F80000007FFFFFF80000007FFFFFF80000007FFFFFF80000007FFFFFF8
0000007FF807F80000007FF801F80000007FF800F80000007FF800F80000007FF800780000
007FF800780000007FF800780078007FF800780078007FF800780078007FF8007800F0007F
F8000000F0007FF8000000F0007FF8000000F0007FF8000000F0007FF8000001F0007FF800
0001F0007FF8000003E0007FF8000003E0007FF8000007E0007FF800000FE0007FF800001F
E0007FF800007FE0007FF80003FFE0FFFFFFFFFFFFC0FFFFFFFFFFFFC0FFFFFFFFFFFFC0FF
FFFFFFFFFFC0>
	 53 59 -4 58 62] 70 @dc
@F1 @sf
[<
FFFFFFF00003C00007FFFFFFFFFFFFFFF00007E00007FFFFFFFFFFFFFFF00007E00007FFFF
FFFFFFFFFFF0000FF00007FFFFFFFFFFFFFFF0000FF00007FFFFFFFF007FE000000FF00000
00FFF800001F8000001FF8000000FFF800001F8000001FF8000000FFF800001F8000003FFC
000000FFF800001F8000003FFC000000FFF800001F8000007FFE000000FFF800001F800000
7FFE000000FFF800001F800000FFFF000000FFF800001F800000FFFF000000FFF800001F80
0001FFF7800000FFF800001F800001FFF7800000FFF800001F800001FFF7800000FFF80000
1F800003FFE3C00000FFF800001F800003FFE3C00000FFF800001F800007FFC1E00000FFF8
00001F800007FFC1E00000FFF800001F80000FFF80F00000FFF800001F80000FFF80F00000
FFF800001F80001FFF00780000FFF800001F80001FFF00780000FFF800001F80001FFF0078
0000FFF800001F80003FFE003C0000FFF800001F80003FFE003C0000FFF800001F80007FFC
001E0000FFF800001F80007FFC001E0000FFF800001F8000FFF8000F0000FFF800001F8000
FFF8000F0000FFF800001F8001FFF000078000FFF800001F8001FFF000078000FFF800001F
8003FFE00003C000FFF800001F8003FFE00003C000FFF800001F8003FFE00003C000FFF800
001F8007FFC00001E000FFF800001F8007FFC00001E000FFF800001F800FFF800000F000FF
F800001F800FFF800000F000FFF800001F801FFF0000007800FFF800001F801FFF00000078
00FFF800001F803FFE0000003C00FFF800001F803FFE0000003C00FFF800001F807FFC0000
001E00FFF800001F807FFC0000001E00FFF800001F807FFC0000001E00FFF800001F80FFF8
0000000F00FFF800001F80FFF80000000F00FFF800001F81FFF00000000780FFF800001F81
FFF00000000780FFF800001F83FFE000000003C0FFF800001F83FFE000000003C0FFF80000
1F87FFC000000001E0FFF800001F87FFC000000001E0FFF800001F87FFC000000001E0FFF8
00001F8FFF8000000000F0FFF800001F8FFF8000000000F0FFF800001F9FFF000000000078
FFF800001F9FFF000000000078FFF800001FBFFE00000000003CFFF800001FBFFE00000000
003CFFF800001FFFFC00000000001EFFF800001FFFFC00000000001EFFF800001FFFF80000
0000000FFFF800FFFFFFF800000000000FFFFFFFFFFFFFF800000000000FFFFFFFFFFFFFF0
000000000007FFFFFFFFFFFFF0000000000007FFFFFFFFFFFFE0000000000003FFFFFF>
	 104 71 -4 70 113] 77 @dc
[<
01F0001FF800000001F800FFFF80000001FC03FFFFF0000001FE0FFFFFFC000001FF1FE01F
FE000001FFBF0007FF800001FFFE0001FFC00001FFFC0000FFE00001FFF800007FF00001FF
F000003FF80001FFE000003FF80001FFE000001FFC0001FFE000001FFC0001FFE000001FFE
0001FFE000001FFE0001FFE000000FFF0001FFE000000FFF0001FFE000000FFF0001FFE000
000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001
FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000F
FF8001FFE000000FFF0001FFE000000FFF0001FFE000000FFF0001FFE000000FFF0001FFE0
00001FFE0001FFE000001FFE0001FFE000001FFC0001FFE000001FFC0001FFE000003FF800
01FFF000007FF00001FFF800007FE00001FFFE0001FFC00001FFFF8003FF800001FFDFF00F
FF000001FFCFFFFFFC000001FFC3FFFFF0000001FFC07FFFC0000001FFC00FFC00000001FF
C0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000000000
0001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000
0000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001
FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000
000003FFC00000000000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC0
0000000000FFFFC00000000000007FC00000000000>
	 57 72 -4 71 66] 98 @dc
@F8 @sf
[<
001FFFE000001FFFE0000000FC00000000FC00000000FC00000000FC00000000FC00000000
FC00000000FC00000000FC00000000FC00000000FC00000000FC00000001FC00000001FE00
000003FF00000007F30000000FE18000000FE1C000001FC0C000003F806000003F80700000
7F00300000FE00180001FC001C0001FC000C0003F800060007F000070007F0000380FFFE00
3FF8FFFE003FF8>
	 37 31 -1 30 40] 89 @dc

47 @eop0

0 0 47 @bop1 1304 50 a @F12 @sf(OSF\(tm\))15 b(DCE)f(Licensee)q(s)i(Only)
-1908 496 y @F0 @sf(App)s(endix)34 b(F)-518 246 y @F1 @sf(Magic)40 b(Num)m
(b)s(ers)-829 262 y @F12 @sf(The)16 b(follo)o(wing)g(are)e(the)i(magic)f
(n)o(um)o(b)q(ers)h(used)g(b)o(y)f(the)g(directory)h(pac)o(k)m(age.)k
(They)15 b(act)g(as)g(a)g(sanit)o(y)g(c)o(hec)o(k)-1909 56 y(for)g(the)g
(on-disk)h(data)e(structures.)-620 146 y @F8 @sf(ENTR)l(Y)s 16 -2 z 16 x
(MA)o(GIC)21 b @F12 @sf({)15 b(0x76e694c1.)o -689 94 a @F8 @sf(NON)s 16 
-2 z 16 x(ENTR)l(Y)s 16 -2 z 16 x(MA)o(GIC)21 b @F12 @sf({)15 b
(0xb937c268.)o -834 93 a @F8 @sf(DIR)s 16 -2 z 16 x(MA)o(GIC)21 b @F12 @sf
({)15 b(0x2c70bf7f.)-590 94 y @F8 @sf(DIR)s 16 -2 z 16 x(P)l(A)o(GE)s 16 
-2 z 15 x(MA)o(GIC)o 22 x @F12 @sf({)g(0xb63185f6)o(.)-765 1232 y(F)g
(Magic)g(Num)o(b)q(ers)574 b(47)530 b(Marc)o(h)14 b(2,)h(1993)f(13:59)-1911 b
47 @eop1

(\nEND-JOB directory-ispec.dvi\n) print flush
restore

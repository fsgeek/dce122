%!PS-Adobe-2.0
%%Creator: VAX DOCUMENT V1.2B
%%+Copyright (c) 1986,1987,1988,1989 DIGITAL EQUIPMENT CORPORATION.  
%%+All Rights Reserved.
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
/DEC_DVC$dict where {					%FIND DICTIONARY
  pop
}{ %else
  /DEC_DVC$dict 300 dict def
} ifelse 
/BeginDVC$PSDoc {					%BEGIN DOCUMENT
  vmstatus pop pop 0 eq {
    DEC_DVC$dict begin  InitializeState
  }{ %else
    /DVC$PSJob save def  DEC_DVC$dict begin  InitializeState
    /DVC$PSFonts save def
  } ifelse
} def
/EndDVC$PSDoc {						%END DOCUMENT
% --- Preserving current page count ---
  vmstatus pop pop 0 eq {
    end
  }{ %else
    DVC$PSFonts restore  end  DVC$PSJob restore
  } ifelse
} def
%
DEC_DVC$dict begin
%
mark					% CREATE ISOLatin1 ENCODING
/ISOLatin1
  8#000 1 8#054 {StandardEncoding exch get} for 
  /minus
  8#056 1 8#217 {StandardEncoding exch get} for 
  /dotlessi 
  8#301 1 8#317 {StandardEncoding exch get} for 
  /space /exclamdown /cent /sterling /currency /yen /brokenbar /section 
  /dieresis /copyright /ordfeminine /guillemotleft /logicalnot /hyphen 
  /registered /macron /degree /plusminus /twosuperior /threesuperior /acute 
  /mu /paragraph /periodcentered /cedilla /onesuperior /ordmasculine 
  /guillemotright /onequarter /onehalf /threequarters /questiondown /Agrave 
  /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla /Egrave /Eacute 
  /Ecircumflex /Edieresis /Igrave /Iacute /Icircumflex /Idieresis /Eth /Ntilde 
  /Ograve /Oacute /Ocircumflex /Otilde /Odieresis /multiply /Oslash /Ugrave 
  /Uacute /Ucircumflex /Udieresis /Yacute /Thorn /germandbls /agrave /aacute 
  /acircumflex /atilde /adieresis /aring /ae /ccedilla /egrave /eacute 
  /ecircumflex /edieresis /igrave /iacute /icircumflex /idieresis /eth /ntilde
  /ograve /oacute /ocircumflex /otilde /odieresis /divide /oslash /ugrave 
  /uacute /ucircumflex /udieresis /yacute /thorn /ydieresis 
  /ISOLatin1 where not {256 array astore def} if 
cleartomark
%
/DECMCS ISOLatin1 256 array copy def
mark						% CREATE DECMCS ENCODING
  8#240 8#244 8#246 8#254 8#255 8#256 8#257 8#264 
  8#270 8#276 8#320 8#336 8#360 8#376 8#377
  counttomark
  {DECMCS exch /.notdef put} repeat		% STACK NOW CONTAINS MARK
  8#250 /currency   8#327 /OE   8#335 /Ydieresis   8#367 /oe   8#375 /ydieresis
  counttomark -1 bitshift			% DIVIDE BY 2
  {DECMCS 3 1 roll put} repeat			% STACK NOW CONTAINS MARK
cleartomark
%
/DOCPSE DECMCS 256 array copy def 
mark						% CREATE DOCPSE ENCODING
  8#055 /hyphen
  8#201 /bullet    8#202 /emdash     8#203 /endash    8#204 /dagger
  8#205 /daggerdbl 8#206 /registered 8#207 /trademark %8#210 /Delta
  8#211 /fi        8#212 /fl
  counttomark -1 bitshift			% DIVIDE BY 2
  {DOCPSE 3 1 roll put} repeat			% STACK NOW CONTAINS MARK
cleartomark
%
/reencodedict 10 dict def			%Local storage for "ReENCODE"
/ReENCODE {		% /basefont /newfont encoding ReENCODE
    /newencoding exch def	%ARG: NAME OF ENCODING VECTOR
    /newfontname exch def	%ARG: NEW NAME FOR FONT AFTER RE-ENCODING
    findfont
    /basefontdict exch def	%ARG: NAME OF FONT TO BE RE-ENCODED
    basefontdict maxlength dict begin	%CREATE AND OPEN NEW DICT
	basefontdict {		%COPY ENTRIES FROM BASE FONT DICT TO NEW ONE
	    1 index /FID ne {
		def		%IF NOT THE ONE WE'RE ENCODING, JUST COPY PTRS
	    } { %else
		pop pop		%IGNORE FID AND ENCODING FOR ONE WE'RE ENCODING
	    } ifelse
	} forall
	/FontName newfontname def	%DEFINE NEW NAME 
	/Encoding newencoding def	%DEFINE NEW ENCODING VECTOR
	newfontname currentdict definefont	%TURN IT INTO A PS FONT
	pop			%IGNORE MODIFIED DICT RETURNED BY DEFINEFONT
    end
} bind def
%
/cvsstr 64 string def
/tempmatrix matrix def
%
/BP {							% BEGIN PAGE
  /Magnification exch def
  /Colorsused 0 def
  /RVmatrix matrix def
  /DVC$PSPage save def
} def
%
/EP {DVC$PSPage restore} def				% END PAGE
%
/XP {				% EXIT PAGE (TEMPORARILY) TO ADD FONTS/CHARS
  % SAVE CURRENT POINT AND COLOR INFORMATION SO IT CAN BE RESET LATER
  matrix currentmatrix aload pop currentrgbcolor Colorsused
  /Xpos where {pop Xpos} {0} ifelse
  /Ypos where {pop Ypos} {0} ifelse
  /currentpoint cvx stopped {0 0 moveto currentpoint} if 
  /DVC$PSPage where {pop DVC$PSPage restore} if
  moveto
  /Ypos exch def  /Xpos exch def
  /Colorsused exch def setrgbcolor
  matrix astore setmatrix
} def
%
/RP {/DVC$PSPage save def} def		% RESUME PAGE
%
/PF {GlobalMode  LocalMode} def			% PURGE FONTS TO RECLAIM MEMORY
%
/GlobalMode {		% SWITCH TO BASE SAVE/RESTORE LEVEL, SAVING STATE
  RVmatrix aload pop
  PortraitMode  PaperWidth  PaperHeight  PxlResolution  Resolution 
  Magnification Ymax        Xorigin      Yorigin        RasterScaleFactor
  % SAVE CURRENTPOINT INFORMATION TO RESET LATER
  /currentpoint cvx stopped {0 0 moveto currentpoint} if 
  /DVC$PSPage where {pop DVC$PSPage restore} if
  DVC$PSFonts restore  RecoverState
} def
%
/RecoverState {					% PRESERVE STATE AT BASE LEVEL
  18 copy
  /Ypos exch def           /Xpos exch def        /RasterScaleFactor exch def
  /Yorigin exch def        /Xorigin exch def     /Ymax exch def
  /Magnification exch def  /Resolution exch def  /PxlResolution exch def
  /PaperHeight exch def    /PaperWidth exch def  /PortraitMode exch def
  matrix astore /RVmatrix exch def
  DoInitialScaling
  RVmatrix concat
  PortraitMode not {PaperWidth 0 SetupLandscape} if
  Xpos Ypos moveto
} def
%
/InitializeState {		% INITIALIZE STATE VARIABLES TO DEFAULT VALUES
  /Resolution 3600 def  /PxlResolution 300 def
  /RasterScaleFactor PxlResolution Resolution div def
  /PortraitMode true def
  /Magnification 1000 def  /Xorigin 0 def  /Yorigin 0 def
  /Xpos 0 def  /Ypos 0 def  /InitialMatrix matrix currentmatrix def
  /Colorsused 0 def /RVmatrix matrix def
} def
%
/LocalMode {		% SWITCH FROM BASE SAVE/RESTORE LEVEL, RESTORING STATE
  /Ypos exch def  /Xpos exch def  /RasterScaleFactor exch def
  /Yorigin exch def  /Xorigin exch def  /Ymax exch def
  /Magnification exch def  /Resolution exch def  /PxlResolution exch def
  /PaperHeight exch def  /PaperWidth exch def  /PortraitMode exch def
  matrix astore /RVmatrix exch def
  DoInitialScaling
  RVmatrix concat
  PortraitMode not {PaperWidth 0 SetupLandscape} if
  Xpos Ypos moveto
  /DVC$PSFonts save def  /DVC$PSPage save def
} def
%							% ABBREVIATIONS 
/S /show load def
/SV /save load def
/RST /restore load def
/Yadjust {Ymax exch sub} def
%
/SXY {		% (x,y) POSITION ABSOLUTE, JUST SET Xpos & Ypos, DON'T MOVE
  Yadjust  /Ypos exch def /Xpos exch def
} def
%
/XY {						% (x,y) POSITION ABSOLUTE
  Yadjust  2 copy /Ypos exch def /Xpos exch def  moveto
} def
%
/X {						% (x,0) POSITION ABSOLUTE
  currentpoint exch pop   2 copy /Ypos exch def /Xpos exch def  moveto
} def
%
/Y {						% (0,y) POSITION ABSOLUTE 
  currentpoint pop exch Yadjust  2 copy
  /Ypos exch def /Xpos exch def  moveto
} def
%
/xy {						% (x,y) POSITION RELATIVE
  neg rmoveto  currentpoint /Ypos exch def /Xpos exch def
} def
%
/x {						% (x,0) POSITION RELATIVE
  0 rmoveto  currentpoint /Ypos exch def /Xpos exch def
} def
%
/y {						% (0,y) POSITION RELATIVE
  0 exch neg rmoveto  currentpoint /Ypos exch def /Xpos exch def
} def
%
/R {						% DRAW A RULE
  /ht exch def  /wd exch def   gsave
% 0 setgray
  currentpoint  newpath  moveto
  0 ht rlineto  wd 0 rlineto
  0 ht neg rlineto  wd neg 0 rlineto
  closepath fill  grestore  wd 0 rmoveto
  currentpoint /Ypos exch def /Xpos exch def
} def
%
/RES {		% <PXL-file resolution(pix/inch)> <resolution(pix/inch)> RES
  /Resolution exch def  /PxlResolution exch def
  /RasterScaleFactor PxlResolution Resolution div def
  DoInitialScaling
} def
%
/DoInitialScaling {					% DO INITIAL SCALING
  InitialMatrix setmatrix  72 Resolution div dup scale
} def
%
/PM {		% <paper-height(pix)> <paper-width(pix)> PM
  XP
    /PaperWidth exch def  /PaperHeight exch def
    /Ymax PaperHeight def /PortraitMode true def
    DoInitialScaling
  RP
} def  
%
/SetupLandscape {translate  90 rotate} def
/LM {		% <paper-height(pix)> <paper-width(pix)> LM 
  XP
    /PaperWidth exch def  /PaperHeight exch def
    /Ymax PaperWidth def  /PortraitMode false def
    DoInitialScaling PaperWidth 0 SetupLandscape
  RP
} def  
%
/MAG {						% CHANGE MAGNIFICATION SETTING
  XP  /Magnification exch def  RP
} def
%
/SPB {		%  <xoffset><yoffset>SPB - BEGIN "\SPECIAL" MODE
  Yadjust /Yorigin exch def /Xorigin exch def
  currentrgbcolor Colorsused
  GlobalMode Xorigin Yorigin translate
  Resolution 72 div dup scale			% RESTORE DEFAULT SCALING
  Magnification 1000 div dup scale		% ADJUST FOR ANY MAGNIFICATION
  /Xpos Xpos 72 Resolution div mul 1000 Magnification div mul def
  /Ypos Ypos 72 Resolution div mul 1000 Magnification div mul def
  /spsavobj save def	%SAVE STATE & STACK DEPTH FOR CLEANUP AFTER FIGURE
  /showpage {} def	%DISABLE DURING FIGURE; `RESTORE' WILL BLOW DEF AWAY
  /DEC$EDMS_setrgbcolor /setrgbcolor load def	% save standard definition
  /setrgbcolor {				% create new definition
    /DEC$EDMS_SEPARATE_COLORS where		% if separating colors
    { pop DEC$EDMS_SEPARATE_COLORS 0 ne		% and not on color pass 0
      { pop pop pop 1 1 1 } if			% ...then write white
     } if
    DEC$EDMS_setrgbcolor			% set color as now specified
  } def
  /DEC$EDMS_image /image load def		% save standard definition
  /image {					% create new definition
    /DEC$EDMS_SEPARATE_COLORS where		% if separating colors
    { pop DEC$EDMS_SEPARATE_COLORS 0 ne		% and not on color pass 0
      { gsave					% ...save current device state
        nulldevice				% ...make no marks
        DEC$EDMS_image				% ...process the image
        grestore				% ...restore old device state
      }
      { DEC$EDMS_image } ifelse			% if on color pass 0 - image
    }
    { DEC$EDMS_image } ifelse			% if not separating colors - image
  } def  mark
} def
%
/SPE {		% SPE - END "\SPECIAL" MODE
  cleartomark
  spsavobj restore 
  1000 Magnification div dup scale	% UN-ADJUST FOR ANY MAGNIFICATION
  72 Resolution div dup scale		% RESTORE DEFAULT INTERNAL SCALING
  LocalMode
  /Colorsused exch def setrgbcolor
} def
%
/PP
%
% If DEC$EDMS_MAKE_FILM is defined, it will add the crop & alignment marks,
% and the document name, page number, & ink color identifiers to the page.
%
% Formal Arguments:	None
%
% Referenced Variables: DocumentName
%			Colorsused
%			Currentpagecount
% 			DEC$EDMS_MAKE_FILM
%
% Referenced Procedures: AlignMark
%
% Side Effects: Leaves the current font as Helvetica 8 point.
%		Creates the variable "junkstr".
%
{ /PageNumber exch def
  /DEC$EDMS_MAKE_FILM where					% if making film...
  { pop 2 DEC$EDMS_SEPARATE_COLORS exp cvi Colorsused and 0 ne	% and if the correct separation
    { /Helvetica findfont 400 scalefont setfont
      20 setlinewidth 0 setgray
      PaperWidth 150 add PaperHeight 100 add moveto		% show the ink color
      (Ink: ) show DEC$EDMS_COLOR_NAMES DEC$EDMS_SEPARATE_COLORS get show
      PaperWidth 150 add PaperHeight 600 add moveto
      (Page: ) show						% show the page number
      /junkstr 4 string def PageNumber junkstr cvs show
      ( of ) show DEC$EDMS_TOTAL_PAGES junkstr cvs show
      150 PaperHeight 100 add moveto				% show the document name
      (Document: ) show DEC$EDMS_DOCUMENT_ID show
      150 -500 moveto 						% show ownership text
      (This film is the property of Digital Equipment Corporation) show stroke

      /mask 15							% all crop marks on by default
      /DEC$EDMS_SUPPRESS_CROPMARKS where				% if defined, xor in the suppression mask
          { pop DEC$EDMS_SUPPRESS_CROPMARKS xor } if def

      mask 1 and 1 eq
        { PaperWidth PaperHeight moveto				% Upper Right
          450 0 rmoveto 1350 0 rlineto -1800 1800 rmoveto 0 -1350 rlineto } if

      mask 2 and 2 eq
        { PaperWidth 0 moveto					% Lower Right
          450 0 rmoveto 1350 0 rlineto -1800 -1800 rmoveto 0 1350 rlineto } if

      mask 4 and 4 eq
        { 0 0 moveto						% Lower Left
          -450 0 rmoveto -1350 0 rlineto 1800 -1800 rmoveto 0 1350 rlineto } if

      mask 8 and 8 eq
        { 0 PaperHeight moveto					% Upper Left
          -450 0 rmoveto -1350 0 rlineto 1800 1800 rmoveto 0 -1350 rlineto } if
      stroke

      /mask 15							% all registration marks on by default
      /DEC$EDMS_SUPPRESS_REGMARKS where				% if defined, xor in the suppression mask
          { pop DEC$EDMS_SUPPRESS_REGMARKS xor } if def

      mask 1 and 1 eq						% Top Center
         { gsave PaperWidth 2 div PaperHeight
	   /DEC$EDMS_POSITION_REGMARKS where
	     { pop DEC$EDMS_POSITION_REGMARKS -50 mul add } if
	   translate AlignMark grestore } if

      mask 2 and 2 eq						% Right Center
        { gsave PaperWidth
	 /DEC$EDMS_POSITION_REGMARKS where
	  { pop DEC$EDMS_POSITION_REGMARKS -50 mul add } if
	  PaperHeight 2 div translate AlignMark grestore } if

      mask 4 and 4 eq						% Bottom Center
        { gsave PaperWidth 2 div 0
	 /DEC$EDMS_POSITION_REGMARKS where
	  { pop DEC$EDMS_POSITION_REGMARKS 50 mul add } if
	 translate AlignMark grestore } if

      mask 8 and 8 eq						% Left Center
        { gsave 0
	 /DEC$EDMS_POSITION_REGMARKS where
	  { pop DEC$EDMS_POSITION_REGMARKS 50 mul add } if
	 PaperHeight 2 div translate AlignMark grestore } if
      showpage
    }
    { erasepage } ifelse
  }
  { showpage } ifelse
} def
/CLRP {erasepage} def
%
/DMF {		%  /font-name <point-size(pix)> DMF
  /psz exch def  /nam exch def  nam findfont psz scalefont setfont
} def
%
/concatnam {	%  /abcd (xxx) concatnam  ==> /abcdxxx
  /xxx exch def  /nam exch def
  /namstr nam cvsstr cvs def
  /newnam namstr length xxx length add string def
  newnam 0 namstr putinterval
  newnam namstr length xxx putinterval
  newnam cvn 
} def
%
/strip {	%  /abcdef 2 strip ==> /cdef
  /num exch def  /nam exch def
  /namstr nam cvsstr cvs def
  /newlen namstr length num sub def
  namstr num newlen getinterval  cvn
} def
%		ROUTINES TO HANDLE PACKING/UNPACKING NUMBERS
/PackHW {	% <target> <pos> <num> PackHW --> <new target>
  /num exch def  /pos exch def  /target exch def
  num 16#0000FFFF and 1 pos sub 16 mul bitshift  target or
} def
/PackByte {	% <target> <pos> <num> PackByte --> <new target>
  /num exch def  /pos exch def  /target exch def
  num 16#000000FF and 3 pos sub 8 mul bitshift   target or
} def
/UnpkHW {	%  <pos> <num> UnpkHW --> <unpacked value>
  /num exch def  /pos exch def
  num 1 pos sub -16 mul bitshift 16#0000FFFF and
  dup 16#00007FFF gt {16#00010000 sub} if
} def
/UnpkByte {	%  <pos> <num> UnpkByte --> <unpacked value>
  /num exch def  /pos exch def
  num 3 pos sub -8 mul bitshift 16#000000FF and
  dup 16#0000007F gt {16#00000100 sub} if
} def
%
/DPSF {		% /procname size /fontname DPSF
    findfont exch scalefont
    [ exch /setfont cvx ] cvx def
} bind def
%
/PXLBuildCharDict 17 dict def
/CMEncodingArray 256 array def
0 1 255 {CMEncodingArray exch dup cvsstr cvs cvn put} for
/RasterConvert {RasterScaleFactor div} def
/TransformBBox {
  aload pop
  /BB-ury exch def  /BB-urx exch def  /BB-lly exch def  /BB-llx exch def
  [ BB-llx RasterConvert BB-lly RasterConvert 
    BB-urx RasterConvert BB-ury RasterConvert ]
} def
/RunLengthToRasters {
  % none yet
} def
/GenerateRasters {			% GENERATE RASTERS FOR "IMAGEMASK"
  rasters  runlength 1 eq {RunLengthToRasters} if
} def
%
/int-dict-name {int (-dict) concatnam} def
/int-dict {int (-dict) concatnam cvx load} def
%
/DefinePXLFont {
	%  <int-font-name><ext-font-name><pt-sz(pix)><PXL mag><num-chars>...
	%  ...[llx lly urx ury]<newfont-fg>DefinePXLFont
  /newfont exch def  /bb exch def      /num exch def  /psz exch def
  /dsz exch def      /pxlmag exch def  /ext exch def  /int exch def
  /fnam ext (-) concatnam pxlmag cvsstr cvs concatnam def
  newfont not {
    int-dict-name 13 dict def
    int-dict begin
      /FontType 3 def  /FontMatrix [ 1 dsz div 0 0 1 dsz div 0 0 ] def
      /FontBBox bb TransformBBox def  /Encoding CMEncodingArray def
      /CharDict 1 dict def  CharDict begin  /Char-Info num array def  end
      /BuildChar {
        PXLBuildCharDict begin
          /char exch def  /fontdict exch def
          fontdict /CharDict get /Char-Info get char get aload pop
          /rasters exch def  /PackedWord1 exch def
          0 PackedWord1 UnpkHW 16#7FFF ne {
	    /PackedWord2 exch def  /wx 0 PackedWord1 UnpkHW def
            /rows 2 PackedWord1 UnpkByte def  /cols 3 PackedWord1 UnpkByte def
            /llx 0 PackedWord2 UnpkByte def   /lly 1 PackedWord2 UnpkByte def
            /urx 2 PackedWord2 UnpkByte def   /ury 3 PackedWord2 UnpkByte def
	  }{ %else
	    /PackedWord2 exch def  /PackedWord3 exch def  /PackedWord4 exch def
            /wx 1 PackedWord1 UnpkHW def    /rows 0 PackedWord2 UnpkHW def
            /cols 1 PackedWord2 UnpkHW def  /llx 0 PackedWord3 UnpkHW def
            /lly 1 PackedWord3 UnpkHW def   /urx 0 PackedWord4 UnpkHW def
            /ury 1 PackedWord4 UnpkHW def
          } ifelse
          rows 0 lt {
	    /rows rows neg def /runlength 1 def
	  }{ %else
	    /runlength 0 def
	  } ifelse
          wx 0
          llx RasterConvert lly RasterConvert 
          urx RasterConvert ury RasterConvert setcachedevice
          rows 0 ne {
	    gsave
	      cols rows true  RasterScaleFactor 
              0 0 RasterScaleFactor neg llx .5 add neg ury .5 add 
              tempmatrix astore  GenerateRasters imagemask
            grestore
          } if
        end
      } def
    end
    fnam int-dict definefont pop 
  } if 
  int-dict-name fnam findfont psz scalefont def
  currentdict int [ int-dict /setfont cvx ] cvx put
} def 
/PXLF { true  DefinePXLFont} def	% SIGNAL THAT FONT IS ALREADY LOADED
/PXLNF {false  DefinePXLFont} def	% SIGNAL THAT FONT IS NOT ALREADY LOADED
%
/PXLC {	% <int-font-name><code><wx><llx><lly><urx><ury>...
	% ...<rows><cols><runlength><rasters>PXLC
  /rasters exch def  /runlength exch def  /cols exch def  /rows exch def
  /ury exch def      /urx exch def        /lly exch def   /llx exch def
  /wx exch def       /code exch def       /int exch def
  % SEE IF LONG OR SHORT FORMAT IS REQUIRED
  true cols CKSZ rows CKSZ ury CKSZ urx CKSZ lly CKSZ llx CKSZ 
  TackRunLengthToRows {
    int-dict /CharDict get /Char-Info get code 
    [ 0 0 llx PackByte 1 lly PackByte 2 urx PackByte 3 ury PackByte
      0 0 wx PackHW 2 rows PackByte 3 cols PackByte rasters ] put
  }{ %else
    int-dict /CharDict get /Char-Info get code 
    [ 0 0 urx PackHW 1 ury PackHW   0 0 llx PackHW 1 lly PackHW
      0 0 rows PackHW 1 cols PackHW 0 0 16#7FFF PackHW 1 wx PackHW rasters ] put
  } ifelse
} def
%
/CKSZ {abs 127 le and} def
/TackRunLengthToRows {runlength 0 ne {/rows rows neg def} if} def
%
/PLOTC {
  % <wx><dsz><psz><llx><lly><urx><ury><rows><cols><runlength><rasters>PLOTC
  /rasters exch def  /runlength exch def  /cols exch def  /rows exch def
  /ury exch def      /urx exch def        /lly exch def   /llx exch def
  /psz exch def      /dsz exch def        /wx exch def
  % "PLOT" A CHARACTER'S RASTER PATTERN
  rows 0 ne {
    gsave
      currentpoint translate  psz dsz div dup scale
      cols rows true  RasterScaleFactor 0 0 RasterScaleFactor 
      neg llx .5 add neg ury .5 add  tempmatrix astore
      GenerateRasters imagemask
    grestore
  } if
  wx x
} def
%
/AlignMark
%
% This procedure draws an alignment mark centered on the coordinate system
% origin. If the variable DEC$EDMS_SEPARATE_COLORS = 0 then a "positive"
% alignment mark is drawn. If DEC$EDMS_SEPARATE_COLORS <> 0 then a "negative"
% alignment mark is drawn. 
%
% Formal Arguments: NONE
%
% Referenced Variables: DEC$EDMS_SEPARATE_COLORS
%
% Referenced Procedures: NONE
%
% Side Effects: NONE
%
{ DEC$EDMS_SEPARATE_COLORS 0 eq
  { 0 0 300 0 360 arc
    0 -450 moveto 0 450 lineto -450 0 moveto 450 0 lineto stroke }
  { 0 0 450 0 360 arc fill 1 setgray 0 0 300 0 360 arc 
    0 -450 moveto 0 450 lineto -450 0 moveto 450 0 lineto stroke 0 setgray }
  ifelse
} bind def


/SC
% If not making film, the following procedure sets the current color using the
% RGB color model. If making film, the procedure notes the "color pass" and,
% if the specified color index matches the color pass, subsequent marks are
% written in black. If the specified color index does not match the color pass,
% marks are written in white. Use of colors on individual pages is also tracked
% to allow pages that don't use a particular color to be suppressed on that
% color pass (by the code in the /PP routine).
%
% Formal Arguments: color index (on stack)
%
% Referenced Variables: Colorsused
%			DEC$EDMS_SEPARATE_COLORS
%			DEC$EDMS_SUPPRESS_COLOR
%
% Referenced Procedures: NONE
%
% Side Effects: Modifies the variable Colorsused to record use of the color.
%
{ /DEC$EDMS_SUPPRESS_COLOR where		% if suppressing color
  { pop 0 setgray pop }				% .then set "color" to Black 
  { /DEC$EDMS_SEPARATE_COLORS where		% .else if separating colors
    { pop dup DEC$EDMS_SEPARATE_COLORS eq	% ..and if on this color pass
      { 0 setgray /Colorsused Colorsused	% ...then write black (do write)
        2 3 index exp cvi or def }		% ...and note use of the "color"
      { 1 setgray } ifelse pop }		% ...else write white (don't write)
    { dup (  ) cvs dup length 15 add string     % ..using the color index,
      /tstr exch def                            % ..build up the name of the
      tstr 0 (DEC$EDMS_COLOR_) putinterval      % ..potential external color
      tstr exch 15 exch putinterval             % ..name procedure
      tstr cvn where                            % ..and see if it is defined
      { pop pop tstr cvn cvx exec }             % ...if it is, execute it
      { DEC$EDMS_COLOR_ARRAY exch get		% ..else execute the internal
        exec } ifelse				% ..color setting procedure
    } ifelse
  } ifelse
} def

/RV                                          % .. gross recto/verso translate
{ /DEC$EDMS_ENABLE_RECTOVERSO where
      { pop
	/RVmatrix DEC$EDMS_ENABLE_RECTOVERSO 50 mul 0 matrix translate def
	RVmatrix concat
      } if
} def

end  %DEC_DVC$dict
%%EndProlog
%%BeginSetup
/DEC$EDMS_MAKE_FILM where	% if we are making film...
 { pop				% ..clean up the stack
   54 dup translate		% ..make room for the film info
 } if
BeginDVC$PSDoc
/PaperWidth 8.500 Resolution mul def
/PaperHeight 11.000 Resolution mul def
/Ymax PaperHeight def
CLRP 300 3600 RES
%>  Postamble of file CMA$:<BUTENHOF.DOCUMENT.CMA.ARCH>CMA.DVI_PS.
% DefineFont:F171 Category:15 Pointsize:14
% DownloadPSFont
%!PS-Adobe-2.0
%%Title: PostScript Digital Logo Font, v1.1
%%Creator: Ned Batchelder
%%CreationDate: 9-Nov-87
%%DocumentFonts: Symbol
%%DocumentSuppliedFonts: DigitalLogo
%%EndComments
%
%		    DIGITAL INTERNAL USE ONLY
% 
% INTRODUCTION:
% This rendition of the Digital logo was prepared by Ned Batchelder using 
% Adobe Illustrator and hand manipulation of the resulting PostScript code.
% Photographic masters of the logo were obtained from David Comberg in the
% Graphic Design Group. Additional consultation was provided by Elliot
% Hendrickson, one of the original designers of the logo.
% 
% USE:
% This file defines a new PostScript font, called /DigitalLogo. It consists
% of three characters. (d) is the entire Digital logo, (t) is a small
% trademark symbol, and (T) is a large trademark symbol. The font is designed
% so that the argument to scalefont is the height of the logo. There is no
% extra white space around the logo at all. The trademarks are designed to be
% shown right after the logo, and they align themselves. The only correct
% strings to show with this font are (d), (dt), and (dT). There is an entry
% (named GapWidth) in the font dictionary which gives the unscaled width of
% the gap between the blocks. This distance is given because it is used as a
% unit to determine how much space to leave around the logo.
% 
% HISTORY:
% The logo was designed in 1957 by Elliot Hendrickson, who was then working
% as an independent designer. He was contracted by DEC to do a brochure, and
% DEC wanted a logo to accompany it. The logo up to then had been the letters
% DEC in blocks the shape of the plug-in cards that DEC had been producing.
% Elliot re-worked the logo, incorporating letters which were hand-drawn for 
% the purpose by Arthur Hover(?). The logo has been maintained since then in 
% conventional technology, ie, film masters. There was at least one reworking 
% of the logo at some point.
% 
% The masters I received had a number of interesting features. The boxes were
% not all the same width, and there seemed to be no logic to which boxes were
% wider. The 'g' was the narrowest, and the 'i' and 'l' were second widest.
% Also, the two 'i's were not exactly the same shape. On ten-inch masters,
% (one box to an 8½x11 sheet), the boxes were not rectangles, but were very
% slightly tapered in wierd ways. I assume that the tapering is the result of
% too many reproductions, but the difference in widths may have been
% deliberate at some time. Elliot reports that when he drew it, all boxes
% were the same width. I have retained the different widths in my version,
% since the experts I had at hand did not seem to think I should make them
% uniform.
% 
% Please feel free to use this logo, but keep in mind the following:
% 
% 1. This code is for INTERNAL USE ONLY.
% 2. I am not entirely happy with the final shapes of the letters, and am
% hoping to improve them. Please allow for future updates to this code.
% 3. Only use this logo within the guidelines of the Corporate Identity
% program. If you use this font precisely as is, you can't get in much
% trouble. Don't take the shapes and do strange things with them. 
% In particular, the Identity states that the logo is a one-color logo: The
% letters are actually holes in the blocks, through which the background can
% be seen. Do not modify this code so that the letters are always white.
% 
% Edit history:
% 
% 21-Sep-87 nmb	    Created as a standalone file with demo.
%  6-Nov-87 nmb	    Converted to font form.
%  9-Nov-87 nmb	    Removed // uses for compatibility with LW Classics
%

%%BeginFont: DigitalLogo
10 dict begin

/FontInfo 3 dict def
FontInfo begin
    /Notice
(The Digital logo is a registered trademark of Digital Equipment Corporation.)
    def
    /FullName (Digital logo) def
    /version (1.1) def
    end

/FontType 3 def				% This is a user-defined font
/FontMatrix matrix def			% Use an identity transform
/FontBBox [ 0 0 3.383 1 ] def		% Logo itself is biggest
/GapWidth .070 def			% The width of the gap between boxes

/Encoding 256 array def
0 1 255 { Encoding exch /.notdef put } bind for

Encoding
dup (d) 0 get /DEC-logo put		% (d) gives logo
dup (t) 0 get /smalltrademark put	% (t) gives small trademark
    (T) 0 get /largetrademark put	% (T) gives large trademark

/Work 15 dict def			% for doing work in font.

/BuildChar {
    exch begin				% Use the font dictionary
	Work begin
	    Encoding exch get		% Look up the character name
	    load			% Pull out the procedure
	    exec			% Run it.
	    end				% Work
	end				% fontdict
    } bind def

Work begin

/.notdef {} def

%
% - `DEC-logo' -
%
% Images a DEC logo with the lower left corner at the current origin, with a
% height of one unit, in the current color.
% 

/m /moveto load def
/l /lineto load def
/c /curveto load def

/DEC-logo {
    3.383 0 0 0 3.383 1 setcachedevice
    {	% D
	% d counter
	.2930 .3513 m
	.2932 .3217 .2587 .2758 .2167 .2757 c
	.1719 .2759 .1280 .3165 .1280 .3977 c
	.1280 .4801 .1718 .5225 .2153 .5227 c
	.2587 .5225 .2932 .4760 .2930 .4407 c
	closepath
	% d outside
	.2953 .5787 m
	.2953 .7600 l
	.3843 .7600 l
	.3843 .1960 l
	.2923 .1960 l
	.2923 .2220 l
	.2848 .2144 .2531 .1813 .1990 .1813 c
	.1426 .1812 .0417 .2282 .0417 .3977 c
	.0417 .5414 .1171 .6157 .2067 .6157 c
	.2399 .6157 .2725 .6039 .2953 .5787 c
	closepath
	% d box
	.432 0.0 m
	.432 1.0 l
	.000 1.0 l
	.000 0.0 l
	closepath
	} exec
    {	% I
	% i box
	.927 0.0 m
	.927 1.0 l
	.502 1.0 l
	.502 0.0 l
	closepath
	% i body
	.6695 .196 m
	.6695 .600 l
	.7595 .600 l
	.7595 .196 l
	closepath
	% i dot
	.6695 .655 m
	.6695 .755 l
	.7595 .755 l
	.7595 .655 l
	closepath
	} exec
    {	% G
	% g counter
	1.2813 .4478 m
	1.2813 .4837 1.2409 .5208 1.2035 .5208 c
	1.1713 .5208 1.1215 .5003 1.1215 .4084 c
	1.1215 .3105 1.1827 .2962 1.2030 .2962 c
	1.2433 .2962 1.2813 .3239 1.2813 .3667 c
	closepath
	% g box
	0.997 1.0 m
	1.415 1.0 l
	1.415 0.0 l
	0.997 0.0 l
	closepath
	% g outside
	1.2822 .5609 m
	1.2729 .5742 1.2424 .6044 1.1988 .6044 c
	1.1311 .6043 1.0367 .5652 1.0367 .3955 c
	1.0368 .2617 1.1437 .2168 1.1876 .2168 c
	1.2350 .2167 1.2702 .2443 1.2798 .2547 c
	1.2798 .2126 l
	1.2798 .1815 1.2479 .1511 1.1945 .1511 c
	1.1485 .1512 1.1437 .1807 1.1437 .1953 c
	1.0497 .1953 l
	1.0497 .1486 1.0798 .0804 1.1888 .0803 c
	1.2864 .0803 1.3186 .1176 1.3325 .1316 c
	1.3442 .1434 1.3617 .1758 1.3617 .2017 c
	1.3617 .6 l
	1.2823 .6 l
	closepath
	} exec
    {	% I
	% i box
	1.910 0.0 m
	1.910 1.0 l
	1.485 1.0 l
	1.485 0.0 l
	closepath
	% i body
	1.6525 .196 m
	1.6525 .6 l
	1.7425 .6 l
	1.7425 .196 l
	closepath
	% i dot
	1.6525 .655 m
	1.6525 .755 l
	1.7425 .755 l
	1.7425 .655 l
	closepath
	} exec
    {	% T
	% t
	2.2128 .7525 m
	2.1305 .7525 l
	2.1305 .6071 l
	2.0874 .6071 l
	2.0874 .5396 l
	2.1305 .5396 l
	2.1305 .2852 l
	2.1305 .2367 2.1554 .1986 2.2248 .1987 c
	2.2573 .1987 2.2560 .1985 2.2842 .2034 c
	2.2842 .2874 l
	2.2658 .2842 2.2601 .2829 2.2511 .2832 c
	2.2338 .2837 2.2128 .2898 2.2128 .3206 c
	2.2128 .5395 l
	2.2780 .5395 l
	2.2780 .6071 l
	2.2128 .6071 l
	closepath
	% t box
	2.404 0.0 m
	1.980 0.0 l
	1.980 1.0 l
	2.404 1.0 l
	closepath
	} exec
    {	% A
	% a box
	2.474 0.0 m
	2.474 1.0 l
	2.888 1.0 l
	2.888 0.0 l
	closepath
	% a outside
	2.5439 .4728 m
	2.6210 .4728 l
	2.6210 .5138 2.6422 .5353 2.6826 .5353 c
	2.7470 .5354 2.7449 .5067 2.7448 .4708 c
	2.7050 .4553 2.7087 .4557 2.6480 .4419 c
	2.5709 .4241 2.5237 .3911 2.5236 .3112 c
	2.5237 .2331 2.5793 .1914 2.6420 .1915 c
	2.7048 .1914 2.7178 .2117 2.7438 .2290 c
	2.7438 .1978 l
	2.8422 .1978 l
	2.8190 .2352 2.8251 .2425 2.8249 .2706 c
	2.8250 .2926 2.8249 .5080 2.8249 .5080 c
	2.8250 .5507 2.8028 .5768 2.7883 .5855 c
	2.7521 .6071 2.7074 .6097 2.6826 .6098 c
	2.5945 .6096 2.5438 .5653 2.5439 .4728 c
	closepath
	% a counter
	2.7448 .3946 m
	2.7448 .3401 l
	2.7448 .3152 2.7145 .2670 2.6550 .2669 c
	2.6260 .2668 2.6098 .2883 2.6097 .3162 c
	2.6098 .3442 2.6335 .3657 2.6536 .3697 c
	2.6745 .3739 2.7226 .3862 2.7448 .3946 c
	closepath
	} exec
    {	% L
	% l box
	3.383 0.0 m
	3.383 1.0 l
	2.958 1.0 l
	2.958 0.0 l
	closepath
	% l
	3.1255 .196 m
	3.1255 .765 l
	3.2155 .765 l
	3.2155 .196 l
	closepath
	} exec
    fill
    } bind def

%
% % pct `trademark' --
%
% Borrow the sans-serif trademark symbol from /Symbol. AFM file says:
%	C 228 ; WX 786 ; N trademarksans ; B 5 293 725 673 ;
% We scale it down to pct percent of the height of the logo and superscript 
% it some, and voila!
%

/trademark {
    /s exch .380 div def
    /w s .725 mul .070 add def
    /u 1 .673 s mul sub def
    w 0 0 u w 1 setcachedevice
    /Symbol findfont s scalefont setfont
    .070 u m					% Superscript it
    (\344) show
    } bind def

% 
% These are two different trademarks (just different sizes).
%

/smalltrademark { .15 trademark } def
/largetrademark { .25 trademark } def

end						% Work dictionary

currentdict					% Get the font dict
end						% Close it up
/DigitalLogo exch definefont pop		% Define the font.

%%EndFont
% EndDownloadPSFont
/F171 700.0 /DigitalLogo DPSF
% DefineFont:F169 Category:15 Pointsize:9
% DownloadPSFont
%!PS-Adobe-2.0
%%Title: DEC Modular Callout Font, v1.1, 3-Mar-88
%%Creator: Ned Batchelder, DEC
%%CreationDate: 3-Mar-88
%%DocumentNeededFonts: Helvetica
%%DocumentSuppliedFonts: DEC_Callout
%%EndComments
%%BeginFont: DEC_Callout
18 dict begin
    /FontName /DEC_Callout def
    /FontInfo 10 dict dup begin
	/version (1.1, 3-Mar-88) readonly def
	/FullName (DEC Modular Callout Font) readonly def
	/Notice (Copyright 1988, Digital Equipment Corporation.) readonly def
    end
    readonly def

    /FontBBox [ 0 -75 1000 -75 add ] def

    /Encoding [
	32 { /.notdef } repeat
	/cx0 /cx1 /cx2 /cx3 /cx4 /cx5 /cx6 /cx7 /cx8 /cx9
	/bx0 /bx1 /bx2 /bx3 /bx4 /bx5 /bx6 /bx7 /bx8 /bx9
	/mx0 /mx1 /mx2 /mx3 /mx4 /mx5 /mx6 /mx7 /mx8 /mx9
	/ex0 /ex1 /ex2 /ex3 /ex4 /ex5 /ex6 /ex7 /ex8 /ex9
	184 { /.notdef } repeat
    ] def

    /FontMatrix [ .001 0 0 .001 0 0 ] def
    /FontType 3 def

    % Note: The numbers for scaling and translation in BuildChar are determined
    % from selection of Helvetica as the BaseFont. Changing the base font will
    % require changing those numbers.
    %   Digit height = .732	(x 900 = 659)
    %   Digit width =  .556 (x 900 = 500)

    /BaseFont /Helvetica findfont 900 scalefont def

    /str (         ) def
    /BuildChar {
	exch begin
	    Encoding exch get			% the callout name
	    str cvs
	    (x) search {
	        exch pop cvx exec		% Call either c, b, m, or e.
	    } {%else
	        pop 
	    } ifelse
	end
    } bind def

    /c {					% (digit) `c' --
	1000 0 setcharwidth

	0 -75 translate
	500 500 500 0 360 arc
    /DEC$EDMS_SEPARATE_COLORS where
      { pop DEC$EDMS_SEPARATE_COLORS 0 eq  { 0 } { 1 } ifelse setgray }
      { 0 setgray } ifelse fill

	BaseFont setfont
	1 setgray

	% The baseline is (1000-digitht)/2 = 170
	% The x offset is (1000-digitwd)/2 = 250

	250 170 moveto
	show
    } bind def

    /b {
	500 0 setcharwidth

	0 -75 translate
	500 500 500 90 270 arc
	closepath
    /DEC$EDMS_SEPARATE_COLORS where
      { pop DEC$EDMS_SEPARATE_COLORS 0 eq  { 0 } { 1 } ifelse setgray }
      { 0 setgray } ifelse fill

	BaseFont setfont
	1 setgray

	% A double-digit number.
	% We scale down the digits by .75 x .9 to fit them better.
	% Digitht now = .9 x 659 = 593
	% Digitwd now = .75 x 500 = 375
	% baseline = (1000 - digitht)/2 = 203
	% x offset = (1000 - 2*digitwd)/2 = 125 

	125 203 moveto
	.75 .9 scale
	show
    } bind def

    /m {
	375 0 setcharwidth
	0 -75 translate
	0 0 moveto 375 0 lineto 375 1000 lineto 0 1000 lineto
	closepath
    /DEC$EDMS_SEPARATE_COLORS where
      { pop DEC$EDMS_SEPARATE_COLORS 0 eq  { 0 } { 1 } ifelse setgray }
      { 0 setgray } ifelse fill

	BaseFont setfont
	1 setgray

	0 203 moveto
	.75 .9 scale
	show
    } bind def

    /e {
	500 0 setcharwidth

	0 -75 translate
	0 500 500 270 90 arc
	closepath
    /DEC$EDMS_SEPARATE_COLORS where
      { pop DEC$EDMS_SEPARATE_COLORS 0 eq  { 0 } { 1 } ifelse setgray }
      { 0 setgray } ifelse fill

	BaseFont setfont
	1 setgray

	% A double-digit number.
	% We scale down the digits by .75 x .9 to fit them better.
	% Digitht now = .9 x 659 = 593
	% Digitwd now = .75 x 500 = 375
	% baseline = (1000 - digitht)/2 = 203
	% x offset = (1000 - 2*digitwd)/2 = 125 

	0 203 moveto
	.75 .9 scale
	show
    } bind def
    FontName currentdict
end
definefont pop
%%EndFont
% EndDownloadPSFont
/F169 450.0 /DEC_Callout DPSF
% DefineFont:F163 Category:10 Pointsize:6
/NewCenturySchlbk-Roman /NewCenturySchlbk-Roman@DOCPSE DOCPSE ReENCODE
/F163 300.0 /NewCenturySchlbk-Roman@DOCPSE DPSF
% DefineFont:F161 Category:10 Pointsize:8
/NewCenturySchlbk-Bold /NewCenturySchlbk-Bold@DOCPSE DOCPSE ReENCODE
/F161 400.0 /NewCenturySchlbk-Bold@DOCPSE DPSF
% DefineFont:F159 Category:10 Pointsize:8
/F159 400.0 /NewCenturySchlbk-Roman@DOCPSE DPSF
% DefineFont:F154 Category:10 Pointsize:10
/NewCenturySchlbk-BoldItalic /NewCenturySchlbk-BoldItalic@DOCPSE DOCPSE ReENCODE
/F154 500.0 /NewCenturySchlbk-BoldItalic@DOCPSE DPSF
% DefineFont:F153 Category:10 Pointsize:10
/F153 500.0 /NewCenturySchlbk-Bold@DOCPSE DPSF
% DefineFont:F149 Category:10 Pointsize:11
/F149 550.0 /NewCenturySchlbk-Bold@DOCPSE DPSF
% DefineFont:F148 Category:10 Pointsize:11
/NewCenturySchlbk-Italic /NewCenturySchlbk-Italic@DOCPSE DOCPSE ReENCODE
/F148 550.0 /NewCenturySchlbk-Italic@DOCPSE DPSF
% DefineFont:F147 Category:10 Pointsize:11
/F147 550.0 /NewCenturySchlbk-Roman@DOCPSE DPSF
% DefineFont:F98 Category:10 Pointsize:9
/Courier /Courier@DOCPSE DOCPSE ReENCODE
/F98 450.0 /Courier@DOCPSE DPSF
% DefineFont:F40 Category:10 Pointsize:9
/Helvetica-Bold /Helvetica-Bold@DOCPSE DOCPSE ReENCODE
/F40 450.0 /Helvetica-Bold@DOCPSE DPSF
% DefineFont:F38 Category:10 Pointsize:9
/Helvetica /Helvetica@DOCPSE DOCPSE ReENCODE
/F38 450.0 /Helvetica@DOCPSE DPSF
% DefineFont:F36 Category:10 Pointsize:10
/F36 500.0 /Helvetica-Bold@DOCPSE DPSF
% DefineFont:F33 Category:10 Pointsize:11
/Helvetica-BoldOblique /Helvetica-BoldOblique@DOCPSE DOCPSE ReENCODE
/F33 550.0 /Helvetica-BoldOblique@DOCPSE DPSF
% DefineFont:F32 Category:10 Pointsize:11
/F32 550.0 /Helvetica-Bold@DOCPSE DPSF
% DefineFont:F31 Category:10 Pointsize:11
/Helvetica-Oblique /Helvetica-Oblique@DOCPSE DOCPSE ReENCODE
/F31 550.0 /Helvetica-Oblique@DOCPSE DPSF
% DefineFont:F30 Category:10 Pointsize:11
/F30 550.0 /Helvetica@DOCPSE DPSF
% DefineFont:F28 Category:10 Pointsize:12
/F28 600.0 /Helvetica-Bold@DOCPSE DPSF
% DefineFont:F24 Category:10 Pointsize:14
/F24 700.0 /Helvetica-Bold@DOCPSE DPSF
% DefineFont:F20 Category:10 Pointsize:18
/F20 900.0 /Helvetica-Bold@DOCPSE DPSF
%>  Postamble of file cma_contents.
% DefineFont:F152 Category:10 Pointsize:10
/F152 500.0 /NewCenturySchlbk-Italic@DOCPSE DPSF
% DefineFont:F151 Category:10 Pointsize:10
/F151 500.0 /NewCenturySchlbk-Roman@DOCPSE DPSF
%>  Postamble of file cma_index.
% DefineFont:F155 Category:10 Pointsize:9
/F155 450.0 /NewCenturySchlbk-Roman@DOCPSE DPSF
%%BeginDEC$EDMSInfo
/DEC$EDMS_DOCUMENT_ID () def
/DEC$EDMS_COLOR_NAMES [ (BLACK) (BLACK) (BLACK) (BLACK) ] def
/DEC$EDMS_COLOR_ARRAY [
  { 0 setgray }         %color 0 procedure
  { 0 setgray }         %color 1 procedure
  { 0 setgray }         %color 2 procedure
  { 0 setgray }         %color 3 procedure
] def
/DEC$EDMS_TOTAL_PAGES 0 def
%%EndDEC$EDMSInfo
/DEC$EDMS_MAKE_FILM where
{ pop /DEC$EDMS_SEPARATE_COLORS where
  { pop }
  { (ERROR - DEC$EDMS_MAKE_FILM requires DEC$EDMS_SEPARATE_COLORS be defined) = quit } ifelse
} if
/DEC$EDMS_SEPARATE_COLORS where
{ pop /DEC$EDMS_SUPPRESS_COLOR where
  { pop (ERROR - DEC$EDMS_SEPARATE_COLORS and DEC$EDMS_SUPPRESS_COLOR are mutually exclusive) = quit } if
  DEC$EDMS_SEPARATE_COLORS 1 gt { (ERROR - No such color used in this file) = quit } if
} if
/DVC$PSFonts save def
%%EndSetup
%
%%Page: I 1
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 3899 12616 XY F20(Concert)S 297 x(Multithrea)S -2 x(d\207)S 299 x
(Architec)S -2 x(ture)S 3899 19590 XY F30(Revisi)S -2 x(on:)S 244 x
(X1.1-4)S 182 x(\(not)S 183 x(reviewed)S 181 x(by)S 182 x(Architecture)S
183 x(Board\))S 3899 20586 XY(31\203Octobe)S -2 x(r\2031990)S 3899 21583 XY
(Status:)S 244 x F31(Draft)S 3899 24571 XY F30(Issued)S 182 x(by:)S
243 x(CMA)S 183 x(project)S 182 x(team)S 183 x(\(David)S 182 x(Butenhof,)S
182 x(Robert)S 182 x(Conti,)S 182 x(Paul)S 182 x(Curtin,)S 183 x(W)S
-10 x(ebb)S 182 x(Scales\))S 3899 25568 XY(T)S -61 x(echni)S -2 x(cal)S
182 x(writer:)S 244 x(Kathleen)S 182 x(Johnso)S -2 x(n)S 3899 32541 XY
(\207)S 182 x(Concert)S 182 x(Multithread,)S 183 x(DEC,)S 182 x(V)S
-40 x(AX,)S 184 x(and)S 182 x(VMS)S 184 x(are)S 182 x(trademarks)S 183 x
(of)S 183 x(Digi)S -2 x(tal)S 183 x(Equipmen)S -2 x(t)S 183 x(Corporation.)S
3899 33637 XY F171(dt)S 3899 34758 XY F32(Digital)S 183 x(Equipment)S
183 x(Corporation)S
%%EndCustomColor: 0
1 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ Helvetica-Oblique DigitalLogo
%%PageCustomColors: 0
%
%%Page: II 2
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(The)S 157 x(information)S 156 x(in)S 156 x(this)S
156 x(document)S 156 x(is)S 156 x(subject)S 156 x(to)S 157 x(change)S
156 x(without)S 156 x(notice)S 157 x(and)S 155 x(should)S 155 x(not)S
157 x(be)S 156 x(con-)S 3899 X 648 y(strued)S 153 x(as)S 153 x(a)S 153 x
(commitment)S 154 x(by)S 153 x(Digital)S 153 x(Equip)S -2 x(ment)S 154 x
(Corporation.)S 233 x(Digital)S 153 x(Equi)S -2 x(pment)S 154 x(Corporation)S
3899 X 647 y(assumes)S 181 x(no)S 183 x(responsi)S -2 x(bility)S 182 x
(for)S 183 x(any)S 182 x(errors)S 184 x(that)S 182 x(may)S 183 x(app)S
-2 x(ear)S 183 x(in)S 182 x(this)S 182 x(document.)S 3899 6298 XY(No)S
188 x(responsibi)S -2 x(lity)S 189 x(is)S 188 x(assumed)S 187 x(for)S
190 x(the)S 189 x(use)S 188 x(or)S 190 x(reliab)S -2 x(ility)S 188 x
(of)S 190 x(software)S 189 x(on)S 189 x(equipmen)S -2 x(t)S 190 x(that)S
188 x(is)S 189 x(not)S 3899 X 647 y(supp)S -2 x(lied)S 182 x(by)S 182 x
(Digital)S 182 x(Equip)S -2 x(ment)S 183 x(Corporation)S 181 x(or)S
183 x(its)S 182 x(af\211liated)S 182 x(companie)S -2 x(s.)S 4945 8689 XY
F98(_________________________________________________)S 3899 10681 XY
F147(Copyright)S 182 x(\251)S 182 x(1989,)S 182 x(1990)S 181 x(by)S
183 x(Digital)S 182 x(Equi)S -2 x(pment)S 183 x(Corporation)S 3899 11678 XY
(This)S 169 x(work)S 169 x(may)S 169 x(not)S 169 x(be)S 169 x(copied)S
168 x(or)S 169 x(reproduced)S 168 x(in)S 169 x(whole)S 168 x(or)S 170 x
(in)S 168 x(part)S 169 x(for)S 170 x(any)S 168 x(commercial)S 169 x
(purpose.)S 3899 X 647 y(Permission)S 264 x(to)S 265 x(copy)S 265 x
(in)S 264 x(whole)S 265 x(or)S 265 x(in)S 264 x(part)S 264 x(without)S
265 x(payment)S 264 x(of)S 266 x(fee)S 265 x(is)S 264 x(granted)S 265 x
(for)S 265 x(nonpro\211t)S 3899 X 648 y(educationa)S -2 x(l)S 152 x
(and)S 150 x(research)S 152 x(purposes)S 150 x(provided)S 151 x(that)S
151 x(all)S 151 x(such)S 152 x(whole)S 151 x(or)S 152 x(partial)S 150 x
(copies)S 151 x(include)S 151 x(the)S 3899 X 647 y(following:)S 250 x
(a)S 185 x(notice)S 186 x(that)S 185 x(such)S 186 x(copying)S 185 x
(is)S 185 x(by)S 186 x(permission)S 184 x(of)S 186 x(Digital)S 185 x
(Equipmen)S -2 x(t)S 186 x(Corporation)S 185 x(in)S 3899 X 648 y(Maynard,)S
211 x(Massachusetts;)S 217 x(an)S 205 x(acknowledgement)S 205 x(of)S
207 x(the)S 206 x(authors)S 205 x(and)S 205 x(indi)S -2 x(vidual)S 205 x
(contributors)S 3899 X 647 y(to)S 231 x(the)S 231 x(work;)S 257 x(and)S
230 x(all)S 230 x(appli)S -2 x(cable)S 231 x(portions)S 230 x(of)S 232 x
(the)S 231 x(copyright)S 231 x(notice.)S 390 x(Copying,)S 243 x(reproducing)S
230 x(or)S 3899 X 648 y(republi)S -2 x(shing)S 229 x(for)S 230 x(any)S
229 x(other)S 229 x(purpose)S 228 x(shall)S 228 x(require)S 229 x(a)S
229 x(license)S 228 x(with)S 230 x(payment)S 228 x(of)S 230 x(fee)S
230 x(to)S 229 x(Digital)S 3899 X 648 y(Equip)S -2 x(ment)S 183 x(Corporation.)S
242 x(All)S 182 x(rights)S 182 x(reserved.)S 4945 17954 XY F98(_________________________________________________)S
3899 37373 XY F36(ii)S
%%EndCustomColor: 0
2 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Courier
%%PageCustomColors: 0
%
% < Beginning of included file cma_contents.DVI_PS >
%%Page: III 3
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 13911 4050 XY F28(CONTENTS)S 3899 6740 XY(Chapter)S 199 x(1)S 599 x
(CONC)S -2 x(ERT)S 199 x(MUL)S -44 x(TITHREAD)S 198 x(ARC)S -2 x(HITECTURE)S
191 x F151(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26934 X
(1)S 4945 7736 XY(1.1)S 249 x(Overview)S 91 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
26934 X(1)S 4945 8733 XY(1.2)S 249 x(Goals)S 378 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26934 X(2)S 3899 10227 XY F28(Chapter)S 199 x
(2)S 599 x(CMA)S 198 x(CONCE)S -2 x(PTS)S 180 x F151(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26934 X(5)S 4945 11223 XY(2.1)S 249 x(Objects)S 166 x(and)S 166 x
(Operations)S 103 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26934 X(5)S 5294 X 698 y(2.1.1)S 250 x(Attributes)S 165 x(Objects)S
248 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
26934 X(5)S 5294 X 697 y(2.1.2)S 250 x(Threads)S 210 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26934 X
(6)S 5294 X 697 y(2.1.3)S 250 x(Mutexes)S 146 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26934 X(6)S 5294 X
698 y(2.1.4)S 250 x(Condition)S 166 x(V)S -47 x(ariables)S 215 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26934 X(6)S 4945 15009 XY
(2.2)S 249 x(Handles)S 358 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26934 X(7)S 4945 16005 XY
(2.3)S 249 x(Scheduling)S 168 x(and)S 166 x(Synchr)S 2 x(onization)S
129 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26934 X
(8)S 5294 X 698 y(2.3.1)S 250 x(Scheduling)S 167 x(Policies)S 166 x
(De\211ned)S 166 x(by)S 167 x(the)S 166 x(Architecture)S 261 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26934 X(8)S 5294 X 697 y(2.3.2)S
250 x(Scheduling)S 167 x(Priorities)S 166 x(De\211ned)S 166 x(by)S 167 x
(the)S 166 x(Architecture)S 145 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
26934 X(9)S 4945 18396 XY(2.4)S 249 x(Memory)S 167 x(Coherency)S 178 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(10)S 4945 19393 XY(2.5)S 249 x(Exceptions)S 357 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26685 X(1)S -28 x(1)S 5294 X 697 y(2.5.1)S 250 x(Requirements)S
165 x(for)S 167 x(Exception)S 166 x(Handling)S 158 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26685 X(1)S -28 x(1)S 5294 X 697 y
(2.5.2)S 250 x(Exceptions)S 166 x(De\211ned)S 166 x(by)S 167 x(the)S
166 x(Architecture)S 134 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
26658 X(12)S 5294 X 698 y(2.5.3)S 250 x(The)S 166 x F153(cma_e_alerted)S
167 x F151(Exception)S 286 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(12)S 4945 22481 XY(2.6)S 249 x(Error)S 167 x(Checking)S 176 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(12)S 4945 23477 XY(2.7)S
249 x(Notation)S 166 x(Used)S 166 x(for)S 166 x(Interfaces)S 110 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 26658 X(13)S 4945 24474 XY(2.8)S 249 x(Langu)S 2 x(age)S 166 x
(T)S -30 x(ailoring)S 132 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(14)S 4945 25470 XY
(2.9)S 249 x(Implementation)S 166 x(T)S -31 x(ailoring)S 198 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(14)S 5294 X 697 y(2.9.1)S 250 x(Mapping)S
166 x(Objects)S 166 x(onto)S 166 x(Operating)S 167 x(System)S 165 x
(Entities)S 207 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(15)S
3899 27662 XY F28(Chapter)S 199 x(3)S 599 x(CMA)S 198 x(LIBRAR)S -23 x
(Y)S 198 x(SER)S -11 x(VICES)S 344 x F151(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(17)S 4945 28658 XY
(3.1)S 249 x(CMA)S 166 x(Library)S 167 x(Attributes)S 165 x(Objects)S
129 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(18)S 5294 X 697 y(3.1.1)S 250 x F152(cma_lib_attr_create)S 292 x F151
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(18)S
5294 X 698 y(3.1.2)S 250 x F152(cma_lib_attr_delete)S 329 x F151(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(19)S 4945 31049 XY
(3.2)S 249 x(CMA)S 166 x(Library)S 167 x(Atomic)S 165 x(Queue)S 167 x
(Objects)S 122 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(20)S 5294 X 697 y(3.2.1)S
250 x(Introduction)S 166 x(to)S 166 x(CMA)S 166 x(Library)S 167 x(Atomic)S
165 x(Queue)S 167 x(Objects)S 179 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(20)S 5294 X
698 y(3.2.2)S 250 x(Atomic)S 165 x(Queue)S 166 x(Creation)S 166 x(Attributes)S
81 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(21)S 5642 X 697 y(3.2.2.)S 2 x(1)S 249 x
F152(cma_lib_attr_set_que)S 2 x(uesize)S 230 x F151(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(21)S 5642 X 697 y(3.2.2.)S 2 x(2)S
249 x F152(cma_lib_attr_get_qu)S 2 x(euesize)S 184 x F151(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(22)S 5294 X 698 y(3.2.3)S
250 x F152(cma_lib_queue_create)S 121 x F151(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(22)S 5294 X 697 y(3.2.4)S 250 x F152(cma_lib_queue_delete)S
158 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(23)S
-416 x 37373 Y F36(iii)S
%%EndCustomColor: 0
3 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: IV 4
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 5294 3972 XY F151(3.2.5)S 250 x F152(cma_lib_queue_dequeu)S 2 x
(e)S 210 x F151(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(23)S 5294 X 697 y(3.2.6)S
250 x F152(cma_lib_queue_enqueu)S 2 x(e)S 210 x F151(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(24)S 5294 X 697 y(3.2.7)S 250 x F152(cma_lib_queue_requeu)S
2 x(e)S 293 x F151(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(24)S 5294 X 698 y
(3.2.8)S 250 x F152(cma_lib_queue_try_de)S 2 x(queue)S 212 x F151(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(25)S 5294 X 697 y(3.2.9)S 250 x F152(cma_lib_queue_try_en)S 2 x(queue)S
212 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(26)S 5294 X 698 y(3.2.10)S 250 x F152(cma_lib_queue_try_requ)S
2 x(eue)S 317 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(26)S 5294 X 697 y(3.2.1)S -27 x(1)S 249 x F152(cma_lib_queue_tr)S
2 x(y_enqueue_int)S 265 x F151(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(27)S
3899 9650 XY F28(Chapter)S 199 x(4)S 599 x(CMA)S 198 x(CORE)S 198 x
(SER)S -12 x(VICES)S 355 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(29)S 4945 10647 XY(4.1)S 249 x(Handles)S 358 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(29)S 5294 X 697 y(4.1.1)S 250 x(Specifying)S 167 x(a)S
166 x(Null)S 166 x(Handle)S 120 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(29)S 5294 X
697 y(4.1.2)S 250 x F152(cma_handle_assign)S 302 x F151(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(30)S 5294 X 698 y(4.1.3)S
250 x F152(cma_handle_equal)S 214 x F151(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(30)S 4945 13735 XY(4.2)S
249 x(Attributes)S 166 x(Objects)S 116 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(31)S 5294 X 697 y(4.2.1)S 250 x F152(cma_attr_create)S 253 x F151(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 26658 X(31)S 5294 X 698 y(4.2.2)S 250 x F152(cma_attr_delete)S
290 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(32)S 4945 16126 XY(4.3)S 249 x(Thread)S
167 x(Objects)S 229 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(33)S 5294 X 697 y(4.3.1)S 250 x(Thread)S 166 x(States)S 165 x(and)S
167 x(T)S -31 x(ransitions)S 371 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
26658 X(34)S 5294 X 698 y(4.3.2)S 250 x(Thread)S 166 x(Creation)S 166 x
(and)S 167 x(T)S -46 x(ermination)S 201 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(34)S
5642 X 697 y(4.3.2.)S 2 x(1)S 249 x F152(cma_thread_cre)S 2 x(ate)S
328 x F151(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(34)S 5642 X 698 y
(4.3.2.)S 2 x(2)S 249 x F152(cma_thread_de)S 2 x(tach)S 162 x F151(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 26658 X(37)S 5642 X 697 y(4.3.2.)S 2 x
(3)S 249 x F152(cma_thread_exit)S 2 x(_error)S 376 x F151(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(37)S 5642 X 697 y(4.3.2.)S 2 x(4)S 249 x F152(cma_thread_exit)S 2 x
(_normal)S 139 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(38)S 5642 X 698 y(4.3.2.)S 2 x(5)S 249 x F152
(cma_thread_join)S 201 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(38)S 5294 X 697 y(4.3.3)S 250 x(Thread)S 166 x
(Creation)S 166 x(Attributes)S 200 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 26658 X(39)S 5642 X 697 y(4.3.3.)S 2 x
(1)S 249 x F152(cma_attr_set_in)S 2 x(herit_sched)S 177 x F151(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(40)S 5642 X 698 y(4.3.3.)S
2 x(2)S 249 x F152(cma_attr_get)S 2 x(_inherit_sch)S 2 x(ed)S 129 x
F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(41)S 5642 X
697 y(4.3.3.)S 2 x(3)S 249 x F152(cma_attr_set_prior)S 2 x(ity)S 326 x
F151(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(41)S 5642 X 698 y(4.3.3.)S 2 x(4)S 249 x
F152(cma_attr_get)S 2 x(_priority)S 280 x F151(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(42)S 5642 X 697 y(4.3.3.)S 2 x(5)S 249 x F152(cma_attr_set_sc)S 2 x
(hed)S 190 x F151(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(42)S
5642 X 697 y(4.3.3.)S 2 x(6)S 249 x F152(cma_attr_get)S 2 x(_sched)S
144 x F151(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(43)S 5642 X 698 y
(4.3.3.)S 2 x(7)S 249 x F152(cma_attr_set_st)S 2 x(acksize)S 338 x F151
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(44)S 5642 X 697 y(4.3.3.)S 2 x(8)S 249 x F152(cma_attr_get)S
2 x(_stacksize)S 292 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(44)S 5642 X 698 y(4.3.3.)S
2 x(9)S 249 x F152(cma_attr_set_g)S 2 x(uardsize)S 136 x F151(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(45)S 5642 X 697 y(4.3.3.)S 2 x(10)S 249 x F152(cma_attr_get)S 2 x(_guardsize)S
112 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(46)S 5294 X 697 y(4.3.4)S 250 x(Thread)S 166 x(Scheduling)S
168 x(Operations)S 368 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(46)S 5642 X 698 y(4.3.4.)S 2 x(1)S 249 x F152(cma_thread_set)S 2 x
(_priority)S 269 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(46)S 5642 X 697 y(4.3.4.)S 2 x(2)S 249 x
F152(cma_thread_set)S 2 x(_sched)S 134 x F151(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(47)S 5642 X 697 y(4.3.4.)S 2 x(3)S 249 x F152(cma_yield)S 237 x F151
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(48)S 5642 X 698 y(4.3.4.)S
2 x(4)S 249 x F152(cma_delay)S 117 x F151(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(49)S 5294 X 697 y(4.3.5)S 250 x(Thread)S 166 x(Information)S
167 x(Operations)S 165 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(49)S 5642 X 698 y(4.3.5.)S 2 x(1)S 249 x F152(cma_thread_g)S 2 x(et_self)S
286 x F151(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(50)S 5642 X 697 y(4.3.5.)S
2 x(2)S 249 x F152(cma_thread_g)S 2 x(et_priority)S 223 x F151(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(50)S
5642 X 697 y(4.3.5.)S 2 x(3)S 249 x F152(cma_thread_g)S 2 x(et_sched)S
88 x F151(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(51)S 3899 37373 XY F36(iv)S
%%EndCustomColor: 0
4 PP EP
%%PageTrailer
%%PageFonts: NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Helvetica-Bold
%%PageCustomColors: 0
%
%%Page: V 5
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4945 3969 XY F151(4.4)S 249 x(CMA)S 166 x(Synchron)S 2 x(ization)S
165 x(Objects)S 366 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(51)S 5294 X 698 y(4.4.1)S 250 x(Introduction)S
166 x(to)S 166 x(CMA)S 166 x(Synchron)S 2 x(ization)S 165 x(Objects)S
125 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
26658 X(51)S 5294 X 697 y(4.4.2)S 250 x(Mutex)S 167 x(Objects)S 247 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(52)S 5642 X 698 y(4.4.2.)S 2 x(1)S
249 x F152(cma_mutex_create)S 150 x F151(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(52)S 5642 X 697 y(4.4.2.)S 2 x(2)S 249 x F152
(cma_mutex_delete)S 187 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(53)S 5642 X 697 y(4.4.2.)S 2 x(3)S 249 x F152(cma_mutex_lock)S
283 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(53)S 5642 X 698 y(4.4.2.)S 2 x(4)S 249 x F152(cma_mutex_try_lock)S
286 x F151(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(55)S 5642 X 697 y(4.4.2.)S
2 x(5)S 249 x F152(cma_mutex_unlock)S 273 x F151(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(55)S 5294 X 697 y(4.4.3)S 250 x(Condition)S 166 x
(V)S -47 x(ariables)S 215 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(56)S 5642 X 698 y(4.4.3.)S 2 x(1)S 249 x F152
(cma_cond_create)S 165 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(57)S 5642 X 697 y(4.4.3.)S 2 x(2)S 249 x F152
(cma_cond_delet)S 2 x(e)S 200 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(57)S 5642 X 698 y(4.4.3.)S 2 x(3)S 249 x
F152(cma_cond_broadcast)S 167 x F151(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(58)S 5642 X 697 y(4.4.3.)S 2 x(4)S 249 x F152(cma_cond_sign)S 2 x(al)S
98 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(59)S 5642 X 697 y(4.4.3.)S 2 x(5)S 249 x F152(cma_cond_sign)S 2 x(al_int)S
101 x F151(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(60)S 5642 X 698 y(4.4.3.)S
2 x(6)S 249 x F152(cma_cond_wait)S 196 x F151(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(60)S 5294 X 697 y(4.4.4)S
250 x(T)S -13 x(imed)S 166 x(Condition)S 166 x(W)S -37 x(aits)S 340 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(62)S 5642 X 698 y(4.4.4.)S 2 x(1)S
249 x F152(cma_cond_timed_wait)S 133 x F151(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(62)S 5642 X 697 y(4.4.4.)S 2 x(2)S 249 x(Operations)S 165 x(on)S 167 x
(T)S -13 x(ime)S 324 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(63)S 5991 X 697 y
(4.4.4.2.)S 2 x(1)S 249 x F152(cma_time_get_expirat)S 2 x(ion)S 272 x
F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(63)S 5294 X 698 y(4.4.5)S
250 x(The)S 166 x(`)S -9 x(`Global)S 165 x(Lock')S -9 x(')S 293 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(64)S 5642 X 697 y(4.4.5.)S 2 x(1)S 249 x F152(cma_lock_global)S 264 x
F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(65)S 5642 X 697 y(4.4.5.)S 2 x(2)S 249 x F152(cma_unlock_global)S 254 x
F151(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(65)S 4945 19611 XY(4.5)S
249 x(Initialization)S 147 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(65)S 5294 X 697 y(4.5.1)S 250 x(CMA)S
165 x(Service)S 167 x(Initialization)S 366 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(66)S 5642 X 697 y(4.5.1.)S
2 x(1)S 249 x F152(cma_init)S 233 x F151(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(66)S 5294 X 698 y(4.5.2)S 250 x(Client)S 165 x
(One-time)S 166 x(Initializati)S -2 x(on)S 264 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(66)S 5642 X 697 y(4.5.2.)S 2 x(1)S
249 x F152(cma_t_once)S 167 x F151(structure)S 308 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(67)S 5642 X 698 y(4.5.2.)S 2 x(2)S 249 x F152(cma_once)S 348 x F151
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(67)S 5642 X 697 y(4.5.2.)S
2 x(3)S 249 x(Example:)S 221 x(client)S 167 x(one-time)S 166 x(initialization)S
112 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 26658 X(68)S 4945 24791 XY(4.6)S 249 x
(Client)S 166 x(Per)S -8 x(-Thread)S 166 x(Context)S 263 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(69)S 5294 X 698 y(4.6.1)S 250 x F152(cma_key_create)S
363 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(69)S 5294 X 697 y(4.6.2)S 250 x F152
(cma_key_set_cont)S 2 x(ext)S 143 x F151(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(70)S 5294 X 697 y(4.6.3)S 250 x F152
(cma_key_get_cont)S 2 x(ext)S 97 x F151(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(71)S 4945 27880 XY(4.7)S 249 x(Alerting)S
167 x(Threads)S 95 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(71)S
5294 X 697 y(4.7.1)S 250 x(Why)S 166 x(are)S 166 x(Alerts)S 166 x(Needed?)S
333 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(72)S 5294 X 697 y(4.7.2)S 250 x(Overview)S
166 x(and)S 166 x(T)S -45 x(erminology)S 358 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(72)S 5642 X 698 y(4.7.2.)S
2 x(1)S 249 x(Sending)S 167 x(an)S 166 x(Alert)S 359 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 26658 X(72)S 5642 X 697 y(4.7.2.)S 2 x
(2)S 249 x(Receiving)S 167 x(an)S 166 x(alert,)S 167 x(and)S 166 x(pending)S
167 x(alerts)S 187 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(72)S 5642 X 698 y
(4.7.2.)S 2 x(3)S 249 x(Delivering)S 167 x(an)S 166 x(alert)S 206 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(73)S 5642 X 697 y(4.7.2.)S
2 x(4)S 249 x(Invariants)S 107 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(73)S 5642 X 697 y(4.7.2.)S 2 x(5)S 249 x(Alertable)S 165 x(operations)S
210 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 26658 X(73)S 5642 X 698 y(4.7.2.)S 2 x
(6)S 249 x(Alertsafe)S 165 x(routines)S 157 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(74)S 5294 X 697 y(4.7.3)S 250 x(Synchronou)S
2 x(s)S 165 x(Delivery)S 167 x(of)S 166 x(Alerts)S 240 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(74)S 5642 X 698 y(4.7.3.)S 2 x(1)S 249 x
(Alertable)S 165 x(and)S 167 x(alertsafe)S 165 x(CMA)S 166 x(operations)S
117 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(75)S -278 x 37373 Y F36(v)S
%%EndCustomColor: 0
5 PP EP
%%PageTrailer
%%PageFonts: NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Helvetica-Bold
%%PageCustomColors: 0
%
%%Page: VI 6
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 5294 3969 XY F151(4.7.4)S 250 x(Deferring)S 166 x(Delivery)S 167 x
(of)S 166 x(Alerts)S 90 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 26658 X(75)S 5642 X 698 y(4.7.4.)S 2 x(1)S 249 x
(Possible)S 165 x(dangers)S 167 x(of)S 166 x(deferring)S 167 x(alerts)S
272 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(76)S 5294 X
697 y(4.7.5)S 250 x(Asynchronous)S 167 x(Delivery)S 167 x(of)S 166 x
(Alerts)S 262 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(77)S 5642 X 698 y(4.7.5.)S
2 x(1)S 249 x(When)S 166 x(to)S 166 x(use)S 166 x(asynchron)S 2 x(ous)S
166 x(delivery)S 265 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(77)S 5642 X 697 y(4.7.5.)S 2 x(2)S 249 x(When)S 166 x F152(not)S 167 x
F151(to)S 166 x(use)S 166 x(asynchron)S 2 x(ous)S 166 x(delivery)S 267 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(77)S 5642 X 697 y(4.7.5.)S 2 x(3)S 249 x(What)S
165 x(to)S 166 x(assume)S 166 x(about)S 166 x(external)S 167 x(routines)S
315 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 26658 X(77)S 5294 X 698 y(4.7.6)S 250 x(Routines)S 165 x(for)S
167 x(Controlling)S 166 x(Alerts)S 277 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(78)S 5642 X 697 y(4.7.6.)S 2 x(1)S 249 x F152(cma_thread_alert)S
307 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(78)S
5642 X 697 y(4.7.6.)S 2 x(2)S 249 x F152(cma_alert_test)S 129 x F151
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(79)S 5642 X 698 y(4.7.6.)S 2 x(3)S 249 x F152(cma_alert_disable_asynch)S
136 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(79)S 5642 X 697 y(4.7.6.)S 2 x(4)S 249 x F152(cma_alert_restore)S 2 x
(_asynch)S 246 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(80)S 5642 X 698 y(4.7.6.)S 2 x(5)S 249 x F152(cma_alert_enable_asynch)S
302 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(80)S 5642 X 697 y(4.7.6.)S 2 x(6)S 249 x F152(cma_alert_defer_all)S
117 x F151(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(81)S 5642 X 697 y
(4.7.6.)S 2 x(7)S 249 x F152(cma_alert_restore)S 2 x(_all)S 317 x F151
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(81)S 5294 X 698 y(4.7.7)S 250 x(Implementation)S
165 x(Details)S 170 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(82)S 3899 15227 XY
F28(Chapter)S 199 x(5)S 599 x(LANGUA)S -2 x(GE)S 199 x(SUPPORT)S 198 x
(FOR)S 199 x(CMA)S 198 x(SER)S -11 x(VICES)S 89 x F151(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 26658 X(85)S 4945 16223 XY(5.1)S 249 x
(Support)S 167 x(for)S 166 x(Inline)S 166 x(Expansion)S 166 x(of)S 166 x
(Subprograms)S 310 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(85)S 4945 17220 XY(5.2)S
249 x(Support)S 167 x(for)S 166 x(Shared)S 166 x(V)S -46 x(ariables)S
259 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 26658 X(85)S 4945 18216 XY(5.3)S 249 x(Support)S 167 x(for)S
166 x(Exception)S 166 x(Handlers)S 241 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 26658 X(85)S 4945 19212 XY(5.4)S 249 x(Support)S
167 x(for)S 166 x(Alerts)S 135 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(86)S
3899 20707 XY F28(Chapter)S 199 x(6)S 599 x(OPERA)S -46 x(TING)S 199 x
(SYSTEM)S 198 x(SUPPORT)S 198 x(FOR)S 199 x(CMA)S 199 x(SER)S -12 x
(VICES)S 331 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(89)S 4945 21703 XY(6.1)S
249 x(Support)S 167 x(for)S 166 x(T)S -31 x(rue)S 167 x(Parallel)S 166 x
(Thread)S 167 x(Execution)S 148 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
26658 X(89)S 5294 X 697 y(6.1.1)S 250 x(Support)S 166 x(for)S 166 x
(Alerting)S 166 x(Threads)S 95 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 26658 X(89)S 4945 23397 XY(6.2)S 249 x(Support)S 167 x
(for)S 166 x(Fully)S 167 x(Reentrant)S 166 x(System)S 166 x(Services)S
148 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 26658 X(89)S 5294 X 697 y(6.2.1)S 250 x
(Support)S 166 x(for)S 166 x(Thread)S 167 x(Synchronou)S 2 x(s)S 165 x
(I/O)S 163 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(89)S 4945 25090 XY(6.3)S 249 x(Support)S 167 x(for)S 166 x
(sharing)S 167 x(of)S 166 x(resources)S 149 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 26658 X(90)S 4945 26086 XY(6.4)S 249 x
(Support)S 167 x(for)S 166 x(CMA)S 165 x(Initialization)S 153 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(90)S 4945 27083 XY(6.5)S 249 x(Support)S 167 x(for)S 166 x(Debuggers)S
289 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(90)S 3899 28577 XY F28(Chapter)S 179 x(7)S 598 x(SCOPE)S 178 x(OF)S
179 x(THE)S 179 x(CONCER)S -2 x(T)S 179 x(MUL)S -44 x(TITHREAD)S 178 x
(ARC)S -2 x(HITECTURE)S 79 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 26658 X(91)S 4945 29573 XY(7.1)S 249 x(Extent)S 167 x(of)S
166 x(the)S 166 x(Architecture)S 338 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(91)S 4945 30570 XY(7.2)S 249 x(Conformity)S 167 x(of)S 166 x(an)S 166 x
(Implementation)S 166 x(W)S -19 x(ith)S 166 x(the)S 166 x(Architecture)S
257 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 26658 X(92)S 3899 32064 XY F28(Appendix)S 201 x(A)S 597 x
(REFERE)S -2 x(NCES)S 112 x F151(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(93)S 3899 33558 XY F28(Appendix)S 201 x(B)S 597 x(PRED)S -2 x(EFINED)S
199 x(TYPES,)S 198 x(V)S -44 x(ALUES)S -2 x(,)S 200 x(AND)S 198 x(EXCEP)S
-2 x(TIONS)S 189 x F151(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(95)S 4945 34555 XY(B.1)S 249 x(Prede\211ned)S 167 x(T)S -25 x(ypes)S
300 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 26658 X(95)S 4945 35551 XY(B.2)S 249 x
(Prede\211ned)S 167 x(V)S -46 x(alues)S 108 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
26658 X(96)S 3899 37373 XY F36(vi)S
%%EndCustomColor: 0
6 PP EP
%%PageTrailer
%%PageFonts: NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Helvetica-Bold
%%PageCustomColors: 0
%
%%Page: VII 7
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4945 3969 XY F151(B.3)S 249 x(Prede\211ned)S 167 x(Exceptions)S
317 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(97)S 3899 5464 XY F28(Appendix)S 201 x(C)S 597 x(GLOSSAR)S -23 x(Y)S
267 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(99)S 3899 6958 XY F28(Appendix)S 201 x(D)S 597 x(EXAMP)S -2 x(LES)S
312 x F151(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 745 x
(101)S 4945 7954 XY(D.1)S 249 x(Examples)S 166 x(of)S 166 x(Using)S
166 x(CMA)S 166 x(Synchronization)S 167 x(Operations)S 238 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 745 x(101)S 3899 9449 XY F28(Appendix)S 201 x(E)S 597 x
(QUICK)S 198 x(REFEREN)S -2 x(CE)S 199 x(GUIDE)S 198 x(T)S -10 x(O)S
199 x(CMA)S 198 x(OPERA)S -45 x(TIONS)S 101 x F151(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 745 x(105)S 4945 10445 XY(E.1)S 249 x(Ada)S 166 x(Quick)S
166 x(Reference)S 167 x(Guide)S 239 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 745 x(105)S 4945 11441 XY
(E.2)S 249 x(C)S 166 x(Quick)S 166 x(Reference)S 167 x(Guide)S 204 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 772 x(1)S -27 x(12)S 3899 12936 XY
F28(Appendix)S 201 x(F)S 598 x(IMPLEMEN)S -2 x(T)S -44 x(A)S -44 x(TION-DEPEN)S
-2 x(DENT)S 199 x(CHA)S -2 x(RACTERIS)S -2 x(TICS)S 235 x F151(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 745 x(125)S 3899 14729 XY F28(INDEX)S 3899 16373 XY(FIGURES)S 4596 X
697 y F151(1)S 6688 X(Thread)S 167 x(State)S 166 x(T)S -31 x(ransition)S
166 x(Diagram)S 230 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(34)S 3899 18714 XY F28(T)S
-44 x(ABLES)S 4596 X 697 y F151(1)S 6688 X(CMA)S 166 x(Core)S 166 x
(Operations)S 165 x(that)S 166 x(Interact)S 166 x(Specially)S 167 x
(with)S 165 x(Alerts)S 371 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X
(75)S 4596 X 698 y(2)S 6688 X(Operational)S 166 x(Model)S 166 x(of)S
166 x(Alerts)S 360 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 26658 X(82)S 4596 X 697 y(3)S 6688 X(Private)S 167 x(Data)S 165 x
(T)S -25 x(ypes)S 258 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 26658 X(95)S 4596 X 698 y(4)S 6688 X(Environmen)S 2 x(tal)S
165 x(Data)S 166 x(T)S -26 x(ypes)S 262 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(96)S 4596 X 697 y(5)S 6688 X
(Prede\211n)S 2 x(ed)S 166 x(V)S -47 x(alues)S 285 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x
(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(96)S 4596 X 697 y
(6)S 6688 X(Exception)S 167 x(Names)S 105 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 160 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S
161 x(.)S 161 x(.)S 161 x(.)S 161 x(.)S 160 x(.)S 26658 X(98)S -554 x
37373 Y F36(vii)S
%%EndCustomColor: 0
7 PP EP
%%PageTrailer
%%PageFonts: NewCenturySchlbk-Roman
%%+ Helvetica-Bold
%%PageCustomColors: 0
%
% < End of included file cma_contents.DVI_PS >
%%Page: 1 8
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 12890 6666 XY F20(CHAPTER)S 500 x(1)S 8312 8161 XY F24(CONC)S -2 x
(ERT)S 277 x(MUL)S -53 x(TITHREAD)S 275 x(ARCH)S -2 x(ITECTURE)S 3899 10203 XY
F28(1.1)S 599 x(Overview)S 3899 11199 XY F147(This)S 182 x(document)S
182 x(de\211nes)S 182 x(the)S 182 x(Concert)S 183 x(Multithread)S 181 x
(Architecture)S 183 x(\(CMA\).)S 3899 12195 XY(The)S 172 x(Concert)S
173 x(Multithread)S 171 x(Architecture)S 172 x(de\211nes)S 171 x(portable)S
171 x(services)S 172 x(for)S 173 x(creating)S 172 x(and)S 171 x(controlling)S
3899 X 648 y(multipl)S -2 x(e)S 190 x(threads)S 190 x(of)S 190 x(execution)S
190 x(within)S 190 x(the)S 190 x(addres)S -2 x(s)S 190 x(space)S 190 x
(provided)S 188 x(by)S 191 x(a)S 189 x(single)S 190 x(process)S -181 y
F159(1)S 23 x 181 y F147(.)S 267 x(This)S 3899 X 648 y(capabi)S -2 x
(lity)S 183 x(is)S 181 x(called)S 182 x F148(multithreading)S F147(.)S
3899 14487 XY(Multithreadi)S -2 x(ng)S 338 x(brings)S 337 x(numerous)S
338 x(advantages)S 336 x(to)S 338 x(appli)S -2 x(cations)S 337 x(programs.)S
710 x(On)S 338 x(a)S 338 x(system)S 3899 X 647 y(which)S 216 x(provides)S
215 x(hardware)S 216 x(and)S 215 x(software)S 217 x(supp)S -2 x(ort)S
217 x(for)S 217 x(parall)S -2 x(el)S 216 x(execution)S 216 x(\(`)S -9 x
(`kernel)S 215 x(threads')S -11 x(')S 216 x(or)S 3899 X 648 y(`)S -10 x
(`lightweight)S 145 x(processes')S -11 x(')S 145 x(on)S 146 x(multipl)S
-2 x(e)S 146 x(processor)S 145 x(hardware\),)S 154 x(the)S 146 x(use)S
145 x(of)S 146 x(threads)S 145 x(can)S 145 x(speed)S 145 x(up)S 145 x
(ex-)S 3899 X 648 y(ecution)S 146 x(of)S 147 x(an)S 145 x(appli)S -2 x
(cation)S 146 x(program)S 147 x(by)S 146 x(providin)S -2 x(g)S 147 x
(it)S 146 x(with)S 146 x(the)S 147 x(abi)S -2 x(lity)S 146 x(to)S 147 x
(utiliz)S -2 x(e)S 147 x(all)S 145 x(the)S 146 x(processors)S 3899 X
647 y(simultan)S -2 x(eously)S -61 x(.)S 3899 18073 XY(Even)S 173 x
(on)S 173 x(unip)S -2 x(rocessor)S 174 x(hardware,)S 175 x(multithread)S
-2 x(ing)S 173 x(provides)S 172 x(signi\211cant)S 172 x(bene\211ts.)S
240 x(For)S 174 x(example,)S 3899 X 648 y(if)S 245 x(the)S 246 x(CMA)S
244 x(implementation)S 244 x(provides)S 244 x(I/O)S 246 x(which)S 245 x
(blocks)S 245 x(only)S 245 x(the)S 245 x(thread)S 245 x(that)S 245 x
(initia)S -2 x(tes)S 246 x(the)S 3899 X 648 y(I/O,)S 236 x(then)S 235 x
(threads)S 234 x(can)S 235 x(be)S 235 x(used)S 234 x(to)S 236 x(carry)S
236 x(on)S 235 x(concurrent)S 235 x(I/O)S 236 x(activities)S 234 x(that)S
235 x(would)S 235 x(otherwise)S 3899 X 647 y(have)S 197 x(to)S 197 x
(be)S 197 x(performed)S 197 x(in)S 196 x(series.)S 287 x(An)S 196 x
(appli)S -2 x(cation)S 197 x(can)S 197 x(also)S 196 x(easil)S -2 x(y)S
198 x(overlap)S 196 x(time-consuming)S 197 x(I/O)S 3899 X 648 y(operations)S
147 x(with)S 149 x(computational)S 147 x(activities.)S 232 x(If)S 149 x
(an)S 148 x(appli)S -2 x(cation)S 149 x(dedi)S -2 x(cates)S 149 x(a)S
149 x(thread)S 148 x(to)S 149 x(monitor)S 149 x(the)S 3899 X 647 y(user)S
194 x(interface,)S 198 x(an)S 194 x(appli)S -2 x(cation)S 194 x(can)S
195 x(easi)S -2 x(ly)S 195 x(and)S 193 x(quickly)S 194 x(respond)S 193 x
(to)S 195 x(user)S 194 x(requests\202even)S 194 x(while)S 3899 X 648 y
(the)S 182 x(previous)S 182 x(user)S 183 x(request)S 182 x(is)S 182 x
(being)S 182 x(worked)S 182 x(on)S 183 x(by)S 182 x(other)S 183 x(threads.)S
3899 22955 XY(The)S 161 x(incorporation)S 159 x(of)S 161 x(multithread)S
-2 x(ing)S 160 x(in)S 160 x(appli)S -2 x(cations)S 160 x(lead)S -2 x
(s)S 161 x(to)S 160 x(faster)S 161 x(execution,)S 165 x(the)S 160 x
(possib)S -2 x(ility)S 3899 X 648 y(of)S 243 x(executing)S 243 x(during)S
242 x(I/O)S 243 x(waits,)S 258 x(and)S 242 x(more)S 243 x(responsive)S
242 x(user)S 242 x(interfaces.)S 424 x(An)S 243 x(app)S -2 x(lication)S
242 x(that)S 3899 X 647 y(takes)S 182 x(good)S 182 x(advantage)S 182 x
(of)S 183 x(threads)S 182 x(can)S 182 x(gain)S 182 x(a)S 182 x(signi\211cant)S
182 x(improvement)S 182 x(in)S 182 x(quali)S -2 x(ty)S -60 x(.)S 3899 25247 XY
(The)S 236 x(scope)S 235 x(of)S 237 x(CMA)S 235 x(services)S 236 x(is)S
235 x(those)S 235 x(threads)S 235 x(that)S 236 x(execute)S 236 x(appl)S
-2 x(ication)S 235 x(programs,)S 250 x(share)S 235 x(an)S 3899 X 647 y
(address)S 180 x(space,)S 182 x(and)S 181 x(have)S 182 x(a)S 182 x(lifetime)S
182 x(no)S 182 x(longer)S 182 x(than)S 182 x(the)S 182 x(lifetime)S
181 x(of)S 183 x(the)S 182 x(shared)S 181 x(address)S 181 x(space.)S
3899 26890 XY(For)S 183 x(a)S 183 x(general)S 182 x(introduction)S 181 x
(to)S 183 x(programming)S 183 x(with)S 182 x(threads,)S 182 x(see)S
182 x(Reference)S 183 x([1].)S 3899 27887 XY(The)S 183 x(anticip)S -2 x
(ated)S 182 x(clients)S 182 x(of)S 183 x(CMA)S 182 x(services)S 183 x
(includ)S -2 x(e:)S 3899 X 896 y(\201)S 714 x(Appl)S -2 x(ications)S
214 x(programmers)S 216 x(who)S 215 x(wish)S 215 x(to)S 216 x(exploit)S
214 x(the)S 216 x(bene\211ts)S 214 x(of)S 216 x(multithreadi)S -2 x
(ng)S 216 x(without)S 4945 X 648 y(resorting)S 154 x(to)S 155 x(soluti)S
-2 x(ons)S 154 x(that)S 154 x(are)S 154 x(speci\211c)S 154 x(to)S 154 x
(indi)S -2 x(vidual)S 153 x(operating)S 153 x(systems)S 154 x(and)S
153 x(are)S 155 x(therefore)S 4945 X 647 y(nonportabl)S -2 x(e.)S 3899 X
897 y(\201)S 714 x(Compil)S -2 x(ers)S 183 x(providing)S 181 x(language-de\211ned)S
181 x(parall)S -2 x(el)S 183 x(entities.)S 3899 34326 XY 6720 24 R 4106 34721 XY
F163(1)S 225 x 140 y F159(By)S 135 x(`)S -6 x(`process')S -8 x(')S 137 x
(is)S 135 x(meant)S 136 x(the)S 137 x(entity)S 137 x(that)S 136 x(the)S
137 x(underlying)S 136 x(operating)S 136 x(system)S 136 x(provides)S
135 x(for)S 136 x(the)S 137 x(execution)S 137 x(of)S 136 x(user)S 136 x
(appli)S -2 x(cations)S 136 x(and)S 4497 X 498 y(that)S 135 x(has)S
135 x(an)S 135 x(associa)S -2 x(ted)S 136 x(addres)S -2 x(s)S 135 x
(space)S 134 x(that)S 136 x(is)S 134 x(suitabl)S -2 x(e)S 136 x(for)S
135 x(sharing)S 135 x(by)S 135 x(multiple)S 135 x(threads.)S 184 x(W)S
-15 x(ith)S 135 x(the)S 136 x(advent)S 136 x(of)S 135 x(multithreading,)S
4497 X 498 y(a)S 132 x(process)S 132 x(can)S 133 x(be)S 132 x(thou)S
2 x(ght)S 133 x(of)S 133 x(as)S 132 x(merely)S 133 x(the)S 133 x(shared)S
133 x(state)S 132 x(that)S 133 x(threads)S 132 x(manipulate.)S -897 x
37573 Y F36(Concert)S 166 x(Multithread)S 167 x(Architecture)S 498 x
(1)S
%%EndCustomColor: 0
8 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 2 9
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(The)S 164 x(Concert)S 164 x(Multithread)S 162 x(Architecture)S
164 x(is)S 163 x(controlled)S 163 x(by)S 164 x(an)S 163 x(Architecture)S
164 x(Review)S 164 x(Board)S 162 x(and)S 163 x(is)S 3899 X 648 y(part)S
182 x(of)S 183 x(DEC')S -21 x(s)S 183 x(App)S -2 x(lication)S 182 x
(Integration)S 182 x(Architecture)S 183 x(\(AIA\).)S 12318 5600 XY F153
(IMPLEMENTOR'S)S 165 x(NOTE)S 4796 X 897 y(The)S 165 x(assumpti)S 2 x
(ons)S 166 x(the)S 167 x(architecture)S 166 x(makes)S 166 x(regarding)S
167 x(a)S 167 x(process)S 166 x(are)S 166 x(that:)S 4796 X 897 y F36
(1.)S 631 x F153(It)S 166 x(has)S 167 x(an)S 166 x(address)S 167 x(space.)S
4796 X 896 y F36(2.)S 631 x F153(CMA)S 201 x(objects)S 203 x(can)S 203 x
(be)S 202 x(dyna)S 2 x(mically)S 203 x(allo)S 2 x(cated,)S 213 x(initial)S
2 x(ized,)S 213 x(and)S 203 x(dealloca)S 2 x(ted)S 203 x(in)S 202 x
(the)S 5842 X 598 y(address)S 166 x(space.)S 4796 X 897 y F36(3.)S 631 x
F153(This)S 230 x(address)S 231 x(space)S 230 x(is)S 231 x(not)S 231 x
(to)S 231 x(be)S 230 x(deleted)S 231 x(until)S 231 x(the)S 231 x(last)S
231 x(thread)S 230 x(has)S 231 x(terminated)S 5842 X 597 y(\(possibly)S
167 x(invol)S 2 x(untarily\).)S 3899 11877 XY F28(1.2)S 599 x(Goals)S
3899 12873 XY F147(The)S 212 x(primary)S 212 x(goal)S 211 x(of)S 213 x
(the)S 212 x(CMA)S 211 x(effor)S 2 x(t)S 212 x(is)S 211 x(to)S 212 x
(de\211ne)S 211 x(multithreadin)S -2 x(g)S 213 x(services)S 211 x(that)S
212 x(enhance)S 212 x(the)S 3899 X 648 y(portabil)S -2 x(ity)S 211 x
(of)S 211 x(appli)S -2 x(cations)S 210 x(on)S 211 x(a)S 210 x(wide)S
210 x(range)S 211 x(of)S 211 x(operating)S 210 x(systems.)S 328 x(In)S
211 x(order)S 211 x(to)S 211 x(achieve)S 210 x(this,)S 3899 X 647 y
(the)S 208 x(CMA)S 208 x(architecture)S 209 x(provides)S 207 x(the)S
208 x(same)S 208 x(interface)S 209 x(on)S 208 x(all)S 207 x(operating)S
208 x(systems)S 208 x(on)S 208 x(which)S 208 x(it)S 208 x(is)S 3899 X
648 y(implemented)S -2 x(.)S 3899 15812 XY(Other)S 183 x(goals)S 182 x
(are:)S 3899 X 897 y(\201)S 714 x F149(Capability:)S 236 x F147(T)S
-50 x(o)S 167 x(provide)S 166 x(suf\211cient)S 166 x(capabil)S -2 x
(ity)S 167 x(and)S 166 x(ef\211ciency)S 167 x(so)S 167 x(that)S 167 x
(portable)S 165 x(appli)S -2 x(cations)S 4945 X 647 y(can)S 247 x(largely)S
247 x(avoid)S 246 x(the)S 247 x(direct)S 247 x(use)S 247 x(of)S 248 x
(non-portable)S 246 x(features)S 247 x(provided)S 246 x(by)S 247 x(the)S
248 x(underlyi)S -2 x(ng)S 4945 X 648 y(operating)S 182 x(system.)S
3899 X 896 y(\201)S 714 x F149(Supp)S 2 x(ort)S 165 x(Parallel)S 164 x
(Languages:)S 234 x F147(T)S -50 x(o)S 164 x(provide)S 164 x(operations)S
164 x(that)S 164 x(have)S 164 x(suf\211cient)S 165 x(capab)S -2 x(ility)S
164 x(to)S 4945 X 648 y(meet)S 203 x(the)S 204 x(requirements)S 202 x
(of)S 204 x(langua)S -2 x(ges)S 204 x(which)S 203 x(supp)S -2 x(ort)S
204 x(medium)S 202 x(to)S 203 x(large)S 203 x(grain)S 203 x(parall)S
-2 x(elism)S 4945 X 648 y(\(which)S 183 x(includ)S -2 x(es)S 183 x(Ada\).)S
3899 X 896 y(\201)S 714 x F149(Portability:)S 243 x F147(T)S -50 x(o)S
181 x(de\211ne)S 180 x(operations)S 179 x(that)S 181 x(can)S 181 x(be)S
180 x(ef\211ciently)S 181 x(implemented)S 180 x(on)S 180 x(all)S 180 x
(important)S 4945 X 648 y(contemporary)S 183 x(operating)S 182 x(systems.)S
3899 X 896 y(\201)S 714 x F149(Essential)S 191 x(Primitives:)S 260 x
F147(T)S -50 x(o)S 191 x(simpli)S -2 x(fy)S 192 x(implementation)S 190 x
(efforts)S 192 x(by)S 191 x(carefully)S 192 x(de\211ni)S -2 x(ng)S 192 x
(an)S 190 x(es-)S 4945 X 648 y(sential)S 203 x(\(or)S 206 x(core\))S
205 x(set)S 205 x(of)S 205 x(operations)S 203 x(upon)S 204 x(which)S
205 x(a)S 204 x(rich)S 205 x(libra)S -2 x(ry)S 206 x(of)S 205 x(portable)S
203 x(operations)S 204 x(can)S 4945 X 648 y(eventually)S 182 x(be)S
182 x(built.)S 3899 X 896 y(\201)S 714 x F149(Ef\211ciency:)S 267 x
F147(T)S -50 x(o)S 195 x(provide)S 194 x(synchronization)S 193 x(operations)S
194 x(that)S 194 x(may)S 195 x(be)S 195 x(imple)S -2 x(mented)S 195 x
(as)S 194 x(inlin)S -2 x(e)S 4945 X 648 y(instructions)S 150 x(in)S
152 x(the)S 151 x(appl)S -2 x(ication)S 151 x(program)S 152 x(when)S
151 x(there)S 152 x(is)S 151 x(no)S 152 x(contention)S 151 x(by)S 151 x
(multiple)S 150 x(threads)S 4945 X 647 y(for)S 183 x(the)S 183 x(same)S
182 x(synchronizati)S -2 x(on)S 183 x(construct.)S 4945 X 897 y(For)S
212 x(example,)S 218 x(the)S 211 x(intent)S 211 x(is)S 211 x(that)S
211 x(locking)S 211 x(and)S 210 x(unlocking)S 211 x(a)S 211 x(mutex)S
211 x(should)S 210 x(be)S 211 x(done)S 211 x(with)S 211 x(a)S 4945 X
648 y(few)S 154 x(instructions)S 152 x(of)S 153 x(compiler)S -10 x(-generated)S
153 x(inlin)S -2 x(e)S 154 x(code)S 152 x(\(when)S 154 x(feasible)S
-2 x(\).)S 235 x(Also,)S 158 x(thread)S 153 x(creation)S 4945 X 647 y
(has)S 160 x(been)S 161 x(de\211ned)S 160 x(so)S 160 x(it)S 161 x(can)S
161 x(be)S 161 x(extremely)S 162 x(fast)S 161 x(\(little)S 161 x(more)S
161 x(than)S 161 x(a)S 161 x(context)S 162 x(switch)S 161 x(time\)\202so)S
4945 X 648 y(that)S 182 x(users)S 182 x(can)S 183 x(create)S 183 x(threads)S
182 x(without)S 182 x(hesitation)S -2 x(.)S 3899 X 896 y(\201)S 714 x
F149(Language)S 182 x(Portability:)S 243 x F147(T)S -50 x(o)S 183 x
(allow)S 182 x(access)S 182 x(to)S 183 x(CMA)S 182 x(operations)S 181 x
(from)S 184 x(any)S 182 x(language.)S 3899 30955 XY(Non-goals)S 182 x
(are:)S 3899 X 897 y(\201)S 714 x(T)S -50 x(o)S 253 x(provide)S 252 x
(interfaces)S 253 x(to)S 254 x(every)S 253 x(underlying)S 252 x(operating)S
253 x(system)S 253 x(feature)S 253 x(related)S 252 x(to)S 254 x(multi-)S
4945 X 647 y(threading.)S 243 x(\(The)S 183 x(architecture)S 183 x(cannot)S
182 x(provide)S 182 x(non-portable)S 182 x(features\).)S 3899 X 897 y
(\201)S 714 x(T)S -50 x(o)S 252 x(allow)S 251 x(imple)S -2 x(mentations)S
251 x(to)S 252 x(be)S 251 x(portable.)S 450 x(Only)S 252 x(the)S 252 x
(CMA)S 251 x(interface)S 252 x(is)S 251 x(required)S 251 x(to)S 252 x
(be)S 4945 X 648 y(portable.)S 3899 37373 XY F36(2)S 498 x(Concert)S
166 x(Multithread)S 167 x(Architecture)S
%%EndCustomColor: 0
9 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 3 10
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F147(\201)S 714 x(T)S -50 x(o)S 218 x(ensure)S 217 x(that)S
217 x(client)S 217 x(code)S 218 x(written)S 218 x(in)S 217 x(different)S
218 x(langua)S -2 x(ges)S 218 x(looks)S 217 x(simil)S -2 x(ar)S -40 x
(.)S 349 x(Differing)S 218 x(lan-)S 4945 X 648 y(guage)S 186 x(semantics)S
185 x(cause)S 185 x(CMA)S 185 x(language)S 185 x(bindi)S -2 x(ngs)S
186 x(to)S 186 x(represent)S 185 x(some)S 186 x(CMA)S 185 x(constructs)S
186 x(dif-)S 4945 X 647 y(ferently)S -60 x(.)S 481 x(The)S 262 x(bindi)S
-2 x(ng)S 262 x(for)S 263 x(each)S 261 x(language)S 261 x(should)S 260 x
(provide)S 261 x(the)S 262 x(`)S -10 x(`id)S -2 x(eal')S -10 x(')S 261 x
(bindi)S -2 x(ng)S 262 x(for)S 263 x(that)S 4945 X 648 y(particular)S
211 x(language.)S 333 x(The)S 212 x(ideal)S 211 x(language)S 212 x(bind)S
-2 x(ings)S 212 x(will)S 212 x(app)S -2 x(ear)S 213 x(in)S 212 x(a)S
212 x(future)S 213 x(app)S -2 x(endix)S 212 x(of)S 4945 X 648 y(this)S
182 x(document.)S 3899 X 896 y(\201)S 714 x(T)S -50 x(o)S 227 x(de\211ne)S
226 x(objects)S 227 x(and)S 226 x(operations)S 226 x(that)S 227 x(can)S
227 x(be)S 226 x(shared)S 226 x(among)S 227 x(multiple)S 226 x(processes.)S
376 x(CMA)S 4945 X 648 y(objects)S 183 x(all)S -2 x(ocated)S 183 x(within)S
181 x(one)S 183 x(process)S 182 x(are)S 183 x(not)S 182 x(generally)S
182 x(meaningful)S 182 x(to)S 183 x(any)S 182 x(other)S 183 x(process.)S
18604 37373 XY F36(Concert)S 166 x(Multithread)S 167 x(Architecture)S
498 x(3)S
%%EndCustomColor: 0
10 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%PageCustomColors: 0
%
%%Page: 5 11
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 12890 6666 XY F20(CHAPTER)S 500 x(2)S 12664 8161 XY F24(CMA)S 319 x
(CON)S -2 x(CEPTS)S 3899 10203 XY F28(2.1)S 599 x(Objects)S 200 x(and)S
200 x(Operation)S 2 x(s)S 3899 11199 XY F147(CMA)S 137 x(interfaces)S
138 x(are)S 137 x(de\211ned)S 136 x(in)S 137 x(terms)S 138 x(of)S 138 x
(objects)S 138 x(and)S 137 x(the)S 137 x(operations)S 137 x(that)S 137 x
(appl)S -2 x(y)S 138 x(to)S 138 x(those)S 137 x(objects.)S 3899 X 648 y
(The)S 183 x(CMA)S 182 x(objects)S 182 x(are:)S 3899 X 896 y(\201)S
714 x(Attributes)S 182 x(objects)S 3899 X 897 y(\201)S 714 x(Threads)S
3899 X 897 y(\201)S 714 x(Mutexes)S 3899 X 896 y(\201)S 714 x(Condi)S
-2 x(tion)S 183 x(variabl)S -2 x(es)S 3899 16529 XY(Some)S 162 x(examples)S
160 x(of)S 162 x(operations)S 160 x(for)S 163 x(these)S 161 x(objects)S
161 x(are)S 162 x(waiting)S 161 x(for)S 162 x(a)S 161 x(thread)S 161 x
(to)S 162 x(terminate,)S 166 x(locking)S 3899 X 648 y(a)S 182 x(mutex,)S
183 x(and)S 182 x(signali)S -2 x(ng)S 183 x(a)S 182 x(condition)S 182 x
(variabl)S -2 x(e.)S 3899 18173 XY(T)S -39 x(wo)S 245 x(operations)S
243 x(common)S 244 x(to)S 245 x(all)S 243 x(objects)S 244 x(are)S 244 x
(creation)S 244 x(and)S 243 x(deletion.)S 428 x(From)S 245 x(the)S 244 x
(time)S 244 x(that)S 244 x(an)S 3899 X 648 y(object)S 183 x(has)S 182 x
(been)S 182 x(created)S 182 x(until)S 182 x(it)S 182 x(has)S 182 x(been)S
182 x(deleted,)S 182 x(the)S 182 x(object)S 183 x(is)S 182 x(said)S
181 x(to)S 183 x(exist.)S 3899 19817 XY(When)S 161 x(an)S 161 x(object)S
163 x(is)S 161 x(created,)S 166 x(the)S 162 x(storage)S 162 x(for)S
163 x(the)S 162 x(object)S 162 x(is)S 162 x(allocated)S 160 x(and)S
161 x(initial)S -2 x(ized,)S 165 x(and)S 161 x(a)S 162 x(`)S -10 x(`han-)S
3899 X 647 y(dle')S -11 x(')S 181 x(for)S 182 x(the)S 181 x(object)S
181 x(is)S 181 x(returned)S 181 x(to)S 181 x(the)S 181 x(caller)S -41 x
(.)S 243 x(The)S 182 x(hand)S -2 x(le)S 181 x(is)S 181 x(the)S 181 x
(only)S 181 x(means)S 180 x(of)S 182 x(referring)S 182 x(to)S 181 x
(an)S 3899 X 648 y(object)S 174 x(and)S 173 x(performing)S 174 x(an)S
174 x(operation)S 173 x(upon)S 173 x(the)S 174 x(object.)S 241 x(\(Handles)S
173 x(are)S 174 x(discus)S -2 x(sed)S 174 x(in)S 173 x(Section)S 174 x
(2.2\).)S 3899 22108 XY(The)S 169 x(deletion)S 168 x(operation)S 167 x
(is)S 169 x(effectively)S 169 x(an)S 169 x(assertion)S 168 x(that)S
168 x(no)S 169 x(more)S 169 x(operations)S 168 x(will)S 168 x(be)S 168 x
(performed)S 3899 X 648 y(on)S 193 x(the)S 193 x(object)S 193 x(using)S
192 x(the)S 193 x(handl)S -2 x(e)S 193 x(provided)S 192 x(at)S 193 x
(creation)S 193 x(and)S 192 x(that)S 193 x(the)S 192 x(object)S 194 x
(can)S 193 x(be)S 192 x(dealloca)S -2 x(ted.)S 3899 X 647 y(If)S 255 x
(the)S 255 x(delete)S 254 x(operation)S 254 x(is)S 254 x(not)S 254 x
(called,)S 272 x(storage)S 255 x(for)S 255 x(CMA)S 255 x(objects)S 254 x
(may)S 255 x(build)S 253 x(up)S 254 x(\(there)S 256 x(is)S 254 x(no)S
3899 X 648 y(automatic)S 182 x(reclamation\).)S 3899 25047 XY(Whil)S
-2 x(e)S 162 x(programs)S 161 x(are)S 162 x(required)S 160 x(to)S 162 x
(delete)S 160 x(objects)S 162 x(explicitl)S -2 x(y)S -60 x(,)S 166 x
(CMA)S 161 x(implementa)S -2 x(tions)S 161 x(are)S 161 x(strongly)S
3899 X 648 y(urged)S 144 x(to)S 143 x(cache)S 144 x(objects)S 144 x
(when)S 144 x(they)S 144 x(are)S 143 x(deleted\202as)S 142 x(a)S 144 x
(means)S 143 x(of)S 144 x(greatly)S 144 x(speedi)S -2 x(ng)S 144 x(up)S
143 x(subsequen)S -2 x(t)S 3899 X 647 y(creation.)S 3899 27837 XY F32
(2.1.1)S 547 x(Attribut)S 2 x(es)S 181 x(Objects)S 3899 28833 XY F147
(Attributes)S 166 x(are)S 167 x(detai)S -2 x(led)S 166 x(properties)S
166 x(of)S 168 x(objects.)S 238 x(Attributes)S 166 x(are)S 167 x(speci\211ed)S
165 x(by)S 167 x(pass)S -2 x(ing)S 167 x(an)S 166 x(optional)S 3899 X
648 y F148(attributes)S 182 x(object)S 183 x F147(to)S 183 x(any)S 182 x
(object)S 183 x(creation)S 182 x(operation.)S 3899 30477 XY(The)S 201 x
(detail)S -2 x(ed)S 200 x(format)S 201 x(of)S 201 x(an)S 200 x(attributes)S
200 x(object,)S 205 x(like)S 200 x(any)S 200 x(other)S 201 x(object,)S
206 x(is)S 199 x(private)S 200 x(to)S 201 x(each)S 200 x(imple-)S 3899 X
647 y(mentation.)S 346 x(But,)S 226 x(an)S 216 x(attributes)S 216 x
(object)S 218 x(conceptuall)S -2 x(y)S 218 x(has)S 216 x(several)S 216 x
(\211elds)S 216 x(whose)S 217 x(values)S 216 x(are)S 217 x(the)S 3899 X
648 y F148(individual)S 198 x(attributes)S F147(.)S 288 x(The)S 198 x
(indi)S -2 x(vidual)S 196 x(attributes)S 196 x(in)S 197 x(the)S 197 x
(attributes)S 197 x(object)S 198 x(conceptuall)S -2 x(y)S 198 x(make)S
3899 X 648 y(up)S 182 x(an)S 182 x(open-ended)S 181 x(set)S 183 x(of)S
183 x(optiona)S -2 x(l)S 183 x(parameters)S 182 x(for)S 183 x(object)S
183 x(creation.)S 3899 33416 XY(An)S 224 x(example)S 224 x(of)S 226 x
(an)S 224 x(indivi)S -2 x(dual)S 224 x(attribute)S 224 x(is)S 225 x
(the)S 224 x(minimum)S 225 x(amount)S 224 x(of)S 225 x(memory)S 226 x
(required)S 224 x(for)S 226 x(a)S 3899 X 647 y(thread')S -21 x(s)S 176 x
(stack.)S 242 x(Implementation)S -2 x(s)S 177 x(are)S 177 x(expected)S
176 x(to)S 177 x(choose)S 177 x(a)S 176 x(good)S 177 x(default)S 176 x
(for)S 177 x(this)S 176 x(so)S 177 x(that)S 177 x(most)S 3899 X 648 y
(appl)S -2 x(ications)S 204 x(do)S 204 x(not)S 205 x(have)S 204 x(to)S
205 x(specify)S 205 x(this)S 204 x(attribute.)S 310 x(On)S 205 x(the)S
204 x(other)S 205 x(hand,)S 210 x(certain)S 204 x(appli)S -2 x(cations)S
3899 X 648 y(need)S 221 x(control)S 221 x(over)S 222 x(this)S 221 x
(detail)S -2 x(.)S 360 x(The)S 222 x(attributes)S 221 x(mechanism)S
220 x(allows)S 220 x(those)S 222 x(who)S 221 x(can)S 221 x(accept)S
222 x(the)S 22867 37373 XY F36(CMA)S 165 x(Concepts)S 498 x(5)S
%%EndCustomColor: 0
11 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 6 12
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(default)S 181 x(setting)S 182 x(to)S 182 x(bene\211t)S
182 x(from)S 183 x(a)S 181 x(simple)S 181 x(interface,)S 183 x(yet)S
182 x(provides)S 181 x(those)S 182 x(appl)S -2 x(ications)S 181 x(that)S
182 x(need)S 3899 X 648 y(the)S 182 x(control)S 183 x(with)S 183 x(a)S
182 x(way)S 183 x(to)S 183 x(specify)S 182 x(it.)S 3899 5650 XY(The)S
231 x(CMA)S 229 x(architecture)S 231 x(de\211nes)S 229 x(some)S 230 x
(attributes)S 230 x(that)S 230 x(must)S 230 x(be)S 230 x(recognized)S
230 x(by)S 230 x(all)S 229 x(implemen-)S 3899 X 648 y(tations)S 196 x
(\(portable)S 196 x(attributes\).)S 286 x(It)S 197 x(also)S 196 x(allows)S
195 x(implementation)S -2 x(s)S 197 x(to)S 197 x(de\211ne)S 196 x(their)S
196 x(own)S 197 x(attributes)S 3899 X 647 y(\(non-portable)S 204 x(attributes\).)S
311 x(These)S 204 x(are)S 205 x(analogous,)S 210 x(respectively)S -62 x
(,)S 211 x(to)S 205 x(standard)S 204 x(and)S 203 x(implementa-)S 3899 X
648 y(tion)S 226 x(de\211ned)S 225 x(pragmas)S 225 x(for)S 228 x(a)S
226 x(programming)S 226 x(language.)S 374 x(See)S 227 x(Section)S 226 x
(4.2)S 226 x(for)S 227 x(more)S 227 x(information)S 3899 X 647 y(about)S
182 x(attributes)S 182 x(objects.)S 3899 9735 XY F32(2.1.2)S 547 x(Threads)S
3899 10731 XY F147(A)S 231 x F148(thread)S 232 x F147(is)S 231 x(a)S
232 x(single)S 231 x(sequen)S -2 x(tial)S 231 x(\212ow)S 232 x(of)S
233 x(control.)S 392 x(It)S 232 x(is)S 231 x(the)S 232 x(active)S 232 x
(execution)S 231 x(of)S 233 x(a)S 231 x(designated)S 3899 X 648 y(routine)S
196 x(\(including)S 196 x(any)S 197 x(nested)S 196 x(routine)S 196 x
(invocations\).)S 286 x(W)S -21 x(ithin)S 196 x(a)S 197 x(single)S 196 x
(thread,)S 200 x(there)S 197 x(is)S 196 x(at)S 197 x(any)S 3899 X 647 y
(instant)S 218 x(a)S 218 x(single)S 218 x(point)S 218 x(of)S 220 x(execution.)S
352 x(Having)S 219 x(multiple)S 218 x(threads)S 218 x(in)S 218 x(a)S
219 x(program)S 219 x(means)S 218 x(that)S 219 x(at)S 3899 X 648 y(any)S
210 x(instant)S 209 x(the)S 211 x(program)S 211 x(has)S 209 x(multiple)S
209 x(points)S 209 x(of)S 211 x(execution,)S 218 x(one)S 210 x(in)S
210 x(each)S 210 x(of)S 211 x(its)S 210 x(threads.)S 327 x(Y)S -61 x
(ou)S 3899 X 647 y(can)S 182 x(mostly)S 183 x(view)S 182 x(the)S 183 x
(threads)S 182 x(as)S 182 x(executing)S 182 x(simultaneous)S -2 x(ly)S
-61 x(.)S 3899 14318 XY(CMA)S 169 x(threads)S 168 x(execute)S 170 x
(within)S 168 x(a)S 169 x(single)S 168 x(address)S 168 x(spa)S -2 x
(ce,)S 173 x(so)S 169 x(that)S 169 x(the)S 169 x(threads)S 168 x(can)S
169 x(read)S 169 x(and)S 168 x(write)S 3899 X 647 y(the)S 245 x(same)S
245 x(memory)S 246 x(locations.)S 431 x(Y)S -61 x(ou)S 245 x(must)S
246 x(use)S 245 x(CMA)S 244 x(synchronization)S 244 x(operations)S 244 x
(\(detailed)S 244 x(in)S 3899 X 648 y(Section)S 183 x(4.4\))S 182 x
(to)S 183 x(ensure)S 182 x(that)S 183 x(the)S 182 x(shared)S 182 x(memory)S
183 x(is)S 182 x(accessed)S 182 x(correctly)S -60 x(.)S 3899 16609 XY
(See)S 183 x(Section)S 182 x(4.3)S 183 x(for)S 183 x(information)S 182 x
(about)S 182 x(CMA)S 182 x(thread)S 182 x(operations.)S 3899 18103 XY
F32(2.1.3)S 547 x(Mutexes)S 3899 19100 XY F147(A)S 140 x F148(mutex)S
141 x F147(is)S 141 x(a)S 140 x(synchronization)S 140 x(object)S 141 x
(that)S 141 x(provides)S 139 x(mutual)S 141 x(exclusion)S 140 x(among)S
140 x(threads.)S 229 x(Mutexes)S 3899 X 647 y(ensure)S 182 x(that)S
182 x(for)S 184 x(a)S 182 x(particular)S 182 x(region)S 182 x(of)S 183 x
(code,)S 183 x(only)S 182 x(one)S 183 x(thread)S 182 x(can)S 182 x(execute)S
183 x(there)S 183 x(at)S 182 x(any)S 183 x(time.)S 3899 20744 XY(The)S
167 x(simples)S -2 x(t)S 167 x(way)S 168 x(that)S 166 x(threads)S 166 x
(interact)S 167 x(is)S 167 x(through)S 167 x(access)S 166 x(to)S 167 x
(shared)S 166 x(memory)S -60 x(.)S 239 x(In)S 167 x(a)S 166 x(high-level)S
3899 X 647 y(language,)S 262 x(that)S 246 x(is)S 246 x(typically)S 246 x
(expressed)S 245 x(as)S 246 x(access)S 247 x(to)S 247 x(global)S 245 x
(variables)S -2 x(.)S 436 x(Mutexes)S 247 x(are)S 247 x(used)S 245 x
(to)S 3899 X 648 y(avoid)S 199 x(errors)S 202 x(that)S 200 x(occur)S
201 x(when)S 200 x(more)S 201 x(than)S 200 x(one)S 201 x(thread)S 200 x
(tries)S 200 x(to)S 201 x(access)S 200 x(the)S 200 x(shared)S 200 x
(variabl)S -2 x(es)S 201 x(at)S 3899 X 647 y(the)S 182 x(same)S 183 x
(time.)S 3899 23683 XY(A)S 165 x(mutex)S 166 x(has)S 164 x(two)S 166 x
(states:)S 235 x(locked)S 165 x(and)S 164 x(unlocked.)S 237 x(See)S
166 x(Section)S 165 x(4.4.2)S 165 x(for)S 166 x(information)S 165 x
(about)S 165 x(CMA)S 3899 X 647 y(mutex)S 183 x(operations)S -2 x(.)S
3899 25824 XY F32(2.1.4)S 547 x(Condition)S 183 x(V)S -30 x(ariables)S
3899 26821 XY F147(A)S 164 x F148(condition)S 165 x(variable)S 165 x
F147(is)S 164 x(a)S 165 x(synchroniza)S -2 x(tion)S 165 x(object)S 165 x
(that)S 164 x(is)S 164 x(used)S 164 x(in)S 164 x(conjunction)S 164 x
(with)S 164 x(a)S 165 x(mutex.)S 238 x(A)S 3899 X 647 y(condition)S
181 x(variable)S 182 x(all)S -2 x(ows)S 183 x(a)S 182 x(thread)S 182 x
(to)S 183 x(block)S 182 x(until)S 182 x(some)S 182 x(event)S 183 x(happe)S
-2 x(ns.)S 3899 28465 XY(T)S -28 x(ypicall)S -2 x(y)S -60 x(,)S 254 x
(a)S 239 x(thread)S 239 x(holdi)S -2 x(ng)S 240 x(a)S 239 x(mutex)S
239 x(determines)S 239 x(from)S 240 x(shared)S 239 x(data)S 238 x(guarded)S
238 x(by)S 240 x(the)S 239 x(mutex)S 3899 X 647 y(that)S 211 x(it)S
211 x(cannot)S 211 x(proceed,)S 218 x(and)S 210 x(then)S 211 x(waits)S
211 x(on)S 211 x(a)S 211 x(condition)S 210 x(variable)S 210 x(associated)S
210 x(with)S 211 x(some)S 211 x(state)S 3899 X 648 y(of)S 242 x(the)S
241 x(shared)S 241 x(data.)S 419 x(W)S -41 x(aiting)S 241 x(on)S 241 x
(the)S 242 x(conditi)S -2 x(on)S 242 x(variabl)S -2 x(e)S 242 x(automaticall)S
-2 x(y)S 242 x(releases)S 240 x(the)S 242 x(mutex.)S 3899 X 647 y(Eventuall)S
-2 x(y)S -60 x(,)S 169 x(when)S 166 x(another)S 165 x(thread)S 165 x
(modi\211es)S 165 x(the)S 165 x(shared)S 165 x(data)S 165 x(so)S 165 x
(that)S 165 x(the)S 166 x(\211rst)S 166 x(thread)S 165 x(is)S 165 x
(able)S 164 x(to)S 3899 X 648 y(proceed,)S 175 x(it)S 172 x(signals)S
171 x(the)S 173 x(condition)S 171 x(variable.)S 240 x(This)S 172 x(wakes)S
172 x(up)S 172 x(a)S 173 x(thread)S 172 x(waiting)S 172 x(on)S 173 x
(the)S 172 x(condition,)S 3899 X 647 y(which)S 240 x(after)S 240 x(reacquiring)S
239 x(the)S 240 x(lock)S 240 x(resumes)S 240 x(its)S 239 x(execution)S
240 x(after)S 240 x(the)S 240 x(wait)S 240 x(operation)S 239 x(with)S
240 x(the)S 3899 X 648 y(mutex)S 183 x(locked.)S 3899 33346 XY(A)S 206 x
(condition)S 205 x(variabl)S -2 x(e)S 207 x(is)S 205 x(always)S 206 x
(associa)S -2 x(ted)S 206 x(with)S 206 x(a)S 206 x(particular)S 206 x
(mutex,)S 212 x(and)S 206 x(with)S 206 x(the)S 206 x(data)S 205 x(pro-)S
3899 X 648 y(tected)S 183 x(by)S 182 x(that)S 183 x(mutex.)S 3899 34990 XY
(See)S 183 x(Section)S 182 x(4.4.3)S 183 x(for)S 183 x(more)S 183 x
(information)S 182 x(about)S 182 x(condition)S 181 x(variables.)S 3899 37373 XY
F36(6)S 498 x(CMA)S 165 x(Concepts)S
%%EndCustomColor: 0
12 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 7 13
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4032 XY F28(2.2)S 599 x(Handles)S 3899 5028 XY F147(A)S 190 x F148
(handle)S 190 x F147(is)S 190 x(a)S 191 x(generaliz)S -2 x(ed)S 191 x
(poin)S -2 x(ter;)S 196 x(its)S 190 x(internal)S 189 x(details)S 189 x
(are)S 191 x(private)S 190 x(to)S 191 x(the)S 190 x(CMA)S 190 x(implementa-)S
3899 X 647 y(tion.)S 254 x(A)S 185 x(handle)S 185 x(provides)S 185 x
(the)S 186 x(means)S 185 x(for)S 187 x(referring)S 187 x(to)S 186 x
(a)S 186 x(CMA)S 186 x(object.)S 254 x(Handles)S 185 x(are)S 186 x(allocated)S
185 x(by)S 3899 X 648 y(the)S 158 x(user)S 158 x(appl)S -2 x(ication)S
158 x(and)S 157 x(can)S 158 x(be)S 157 x(freely)S 159 x(copied)S 157 x
(around)S 158 x(by)S 158 x(the)S 158 x(program)S 158 x(and)S 157 x(stored)S
158 x(in)S 158 x(any)S 158 x(class)S 3899 X 648 y(of)S 223 x(storage.)S
362 x(Objects,)S 233 x(on)S 222 x(the)S 222 x(other)S 223 x(hand,)S
231 x(are)S 222 x(managed)S 222 x(by)S 222 x(the)S 222 x(CMA)S 222 x
(implemen)S -2 x(tation.)S 363 x(Since)S 3899 X 647 y(CMA)S 162 x(objects)S
162 x(are)S 162 x(only)S 162 x(accessed)S 162 x(via)S 162 x(hand)S -2 x
(les,)S 166 x(one)S 162 x(can)S 163 x(usua)S -2 x(lly)S 162 x(think)S
162 x(of)S 163 x(the)S 162 x(handl)S -2 x(e)S 163 x(as)S 161 x(if)S
163 x(it)S 162 x(were)S 3899 X 648 y(the)S 182 x(object)S 183 x(itself.)S
244 x(This)S 182 x(is)S 182 x(the)S 182 x(viewpoint)S 182 x(that)S 183 x
(is)S 182 x(used)S 181 x(when)S 183 x(describi)S -2 x(ng)S 183 x(the)S
183 x(CMA)S 182 x(services.)S 3899 9262 XY(CMA)S 191 x(objects)S 192 x
(are)S 192 x(accessed)S 191 x(by)S 192 x(handl)S -2 x(es,)S 194 x(rather)S
192 x(than)S 192 x(pointers,)S 193 x(because)S 191 x(handles)S 190 x
(make)S 192 x(greater)S 3899 X 648 y(robustness)S 245 x(and)S 245 x
(portabil)S -2 x(ity)S 247 x(possi)S -2 x(ble.)S 434 x(Handles)S 245 x
(allow)S 245 x(a)S 246 x(CMA)S 246 x(implemen)S -2 x(tation)S 246 x
(to)S 246 x(optionall)S -2 x(y)S 3899 X 647 y(provide)S 182 x(extra)S
183 x(checking)S 182 x(in)S 182 x(order)S 183 x(to)S 183 x(detect)S
182 x(the)S 183 x(following)S 182 x(kinds)S 181 x(of)S 183 x(run-time)S
183 x(errors:)S 3899 X 897 y(\201)S 714 x(Using)S 182 x(an)S 182 x(unini)S
-2 x(tializ)S -2 x(ed)S 183 x(hand)S -2 x(le.)S 3899 X 896 y(\201)S
714 x(Using)S 182 x(a)S 182 x(handl)S -2 x(e)S 183 x(that)S 182 x(has)S
182 x(been)S 182 x(overwritten)S 183 x(and)S 182 x(corrupted.)S 3899 X
897 y(\201)S 714 x(Using)S 182 x(a)S 182 x(handl)S -2 x(e)S 183 x(whose)S
182 x(object)S 183 x(no)S 182 x(longer)S 183 x(exists)S 182 x(\(a)S
183 x(`)S -10 x(`dan)S -2 x(gling)S 183 x(hand)S -2 x(le')S -10 x('\).)S
3899 14343 XY(Providing)S 182 x(robustness)S 181 x(for)S 183 x(CMA)S
182 x(services)S 182 x(is)S 181 x(important)S 182 x(because)S 181 x
(most)S 182 x(CMA)S 182 x(objects)S 182 x(are)S 182 x(heavily)S 3899 X
647 y(shared)S 129 x(and)S 130 x(concurrently)S 131 x(accessed)S 130 x
(by)S 130 x(multiple)S 129 x(threads\202errors)S 131 x(in)S 130 x(such)S
130 x(an)S 130 x(environment)S 130 x(would)S 3899 X 648 y(otherwise)S
231 x(be)S 230 x(very)S 232 x(dif\211cult)S 230 x(to)S 231 x(detect)S
231 x(and)S 230 x(debug.)S 388 x(Portability)S 230 x(is)S 230 x(also)S
230 x(enhanced)S 230 x(because)S 230 x(the)S 3899 X 648 y(contents)S
206 x(of)S 208 x(hand)S -2 x(les)S 207 x(depen)S -2 x(ds)S 206 x(on)S
207 x(the)S 207 x(impl)S -2 x(ementation\202a)S 206 x(thread)S 206 x
(handle,)S 212 x(for)S 207 x(example,)S 213 x(might)S 3899 X 647 y(actually)S
182 x(be)S 182 x(a)S 182 x(special)S 181 x(identi\211er)S 181 x(generated)S
183 x(by)S 182 x(an)S 182 x(operating)S 182 x(system.)S 3899 17929 XY
(The)S 224 x(internal)S 222 x(format)S 224 x(of)S 224 x(handl)S -2 x
(es)S 224 x(and)S 222 x(objects)S 223 x(is)S 223 x(private)S 223 x(to)S
224 x(the)S 223 x(CMA)S 223 x(implementati)S -2 x(on;)S 244 x(it)S 224 x
(can)S 3899 X 648 y(choose)S 230 x(any)S 230 x(internal)S 229 x(format)S
231 x(that)S 230 x(supports)S 229 x(the)S 230 x(CMA)S 230 x(interface)S
231 x(speci\211)S -2 x(cations,)S 242 x(and)S 229 x(can)S 230 x(even)S
3899 X 648 y(change)S 182 x(these)S 182 x(internal)S 181 x(formats)S
182 x(from)S 183 x(one)S 182 x(release)S 181 x(to)S 183 x(the)S 182 x
(next.)S 244 x(A)S 182 x(hand)S -2 x(le)S 182 x(may)S 182 x(be)S 182 x
(implemented)S 3899 X 647 y(as)S 206 x(a)S 206 x(simple)S 205 x(pointer)S
-41 x(,)S 213 x(but)S 206 x(it)S 206 x(may)S 207 x(also)S 206 x(have)S
206 x(a)S 206 x(more)S 207 x(complicated)S 205 x(structure)S 207 x(\(such)S
207 x(as)S 206 x(a)S 206 x(pointer)S 3899 X 648 y(and)S 181 x(instance)S
182 x(count\))S 183 x(in)S 182 x(order)S 183 x(to)S 183 x(facilitate)S
182 x(checks.)S 3899 21516 XY(All)S 209 x(handl)S -2 x(es)S 210 x(provided)S
209 x(by)S 210 x(a)S 210 x(given)S 210 x(implementa)S -2 x(tion)S 210 x
(must)S 210 x(have)S 210 x(the)S 210 x(same)S 210 x(internal)S 209 x
(format)S 210 x(and)S 3899 X 648 y(size.)S 385 x(This)S 230 x(ensures)S
229 x(that)S 230 x(the)S 230 x(language)S 229 x(bindin)S -2 x(gs)S 231 x
(for)S 230 x(languages)S 229 x(that)S 230 x(have)S 230 x(only)S 230 x
(weak)S 230 x(typing)S 3899 X 647 y(capabi)S -2 x(lities)S 167 x(will)S
168 x(be)S 167 x(simple,)S 170 x(and)S 168 x(that)S 168 x(possi)S -2 x
(ble)S 168 x(future)S 168 x(common)S 169 x(operations)S 167 x(and)S
167 x(conventions)S 168 x(for)S 3899 X 648 y(handl)S -2 x(es)S 186 x
(are)S 186 x(feasibl)S -2 x(e.)S 254 x(In)S 186 x(all)S 184 x(language)S
185 x(bindi)S -2 x(ngs,)S 187 x(the)S 186 x(constant)S 185 x F149(cma_c_handle_size)S
185 x F147(gives)S 186 x(the)S 3899 X 647 y(number)S 182 x(of)S 183 x
(bytes)S 183 x(required)S 181 x(for)S 184 x(the)S 182 x(handles)S 181 x
(of)S 183 x(the)S 183 x(current)S 183 x(implementa)S -2 x(tion.)S 3899 25103 XY
(A)S 212 x(client)S 212 x(appl)S -2 x(ication)S 212 x(must)S 212 x(use)S
212 x(only)S 212 x(handl)S -2 x(es)S 212 x(and)S 212 x(implementa)S
-2 x(tion-de\211ned)S 211 x(operations)S 212 x(to)S 212 x(ma-)S 3899 X
647 y(nipul)S -2 x(ate)S 183 x(objects.)S 3899 26746 XY(Handles)S 145 x
(are)S 145 x(meaningful)S 145 x(only)S 146 x(within)S 145 x(a)S 146 x
(single)S 145 x(process)S 145 x(address)S 144 x(space.)S 231 x(Attempting)S
145 x(to)S 146 x(access)S 146 x(an)S 3899 X 648 y(object)S 173 x(from)S
175 x(a)S 173 x(process)S 172 x(other)S 174 x(than)S 173 x(the)S 173 x
(one)S 173 x(in)S 173 x(which)S 173 x(it)S 173 x(was)S 173 x(created\202for)S
174 x(example,)S 174 x(by)S 173 x(means)S 173 x(of)S 3899 X 648 y(multipl)S
-2 x(y)S 172 x(mapped)S 171 x(memory\202can)S 172 x(result)S 172 x(in)S
171 x(unpredi)S -2 x(ctable)S 172 x(results)S 171 x(\(it)S 172 x(is)S
171 x(incorrect,)S 175 x(but)S 172 x(the)S 172 x(error)S 3899 X 647 y
(is)S 182 x(not)S 182 x(necessarily)S 182 x(checked\).)S 3899 29685 XY
(Every)S 223 x(CMA)S 222 x(implementation)S 221 x(is)S 223 x(required)S
221 x(to)S 223 x(support)S 222 x(the)S 223 x(allocation)S 221 x(of)S
224 x(hand)S -2 x(les)S 222 x(from)S 224 x(the)S 223 x(fol-)S 3899 X
648 y(lowing)S 229 x(classes)S 229 x(of)S 231 x(storage:)S 338 x(static,)S
242 x(automatic,)S 242 x(heap,)S 241 x(and)S 229 x(per)S -10 x(-thread)S
230 x(static)S 230 x(\(if)S 230 x(it)S 230 x(exists\).)S 386 x(An)S
3899 X 648 y(implementa)S -2 x(tion)S 166 x(must)S 166 x(not)S 167 x
(impose)S 165 x(an)S 166 x(alignmen)S -2 x(t)S 167 x(requirement)S 166 x
(for)S 167 x(handl)S -2 x(es)S 166 x(that)S 167 x(would)S 165 x(exclude)S
3899 X 647 y(allocati)S -2 x(on)S 183 x(in)S 182 x(any)S 182 x(one)S
183 x(of)S 183 x(these)S 182 x(storage)S 183 x(classe)S -2 x(s.)S 3899 32624 XY
(The)S 178 x(langua)S -2 x(ge)S 178 x(bindi)S -2 x(ng)S 178 x(for)S
178 x(each)S 177 x(language)S 177 x(must)S 177 x(ensure)S 177 x(that)S
177 x(changes)S 177 x(in)S 177 x(the)S 178 x(representation)S 176 x
(of)S 3899 X 648 y(private)S 221 x(data)S 220 x(types)S 221 x(\(for)S
222 x(example,)S 231 x(handl)S -2 x(es\))S 222 x(do)S 220 x(not)S 222 x
(require)S 221 x(modi\211cati)S -2 x(on)S 221 x(to)S 222 x(the)S 221 x
(user)S 30 x(')S -21 x(s)S 221 x(source)S 3899 X 648 y(code.)S 231 x
(\(The)S 146 x(CMA)S 145 x(interfaces)S 145 x(are)S 145 x(also)S 144 x
(de\211ned)S 144 x(so)S 145 x(that)S 145 x(clients)S 144 x(do)S 145 x
(not)S 145 x(have)S 145 x(to)S 146 x(recompile)S 144 x(when)S 146 x
(the)S 3899 X 647 y(implementa)S -2 x(tion)S 157 x(changes)S 156 x(internal)S
155 x(object)S 157 x(formats\).)S 236 x(If)S 157 x(user)S -10 x(-de\211ned)S
155 x(types)S 157 x(are)S 156 x(permitted)S 156 x(by)S 157 x(the)S 3899 X
648 y(language,)S 155 x(the)S 149 x(language)S 148 x(bindi)S -2 x(ng)S
150 x(should)S 147 x(provide)S 148 x(a)S 149 x(type)S 149 x(de\211nition)S
148 x(for)S 150 x(each)S 148 x(kind)S 149 x(of)S 149 x(handl)S -2 x
(e.)S 233 x(If)S 150 x(a)S 22867 37373 XY F36(CMA)S 165 x(Concepts)S
498 x(7)S
%%EndCustomColor: 0
13 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 8 14
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(language)S 155 x(supports)S 155 x(`)S -10 x(`strong)S
156 x(typing')S -11 x(',)S 162 x(the)S 156 x(bind)S -2 x(ing)S 156 x
(must)S 156 x(take)S 156 x(advantage)S 155 x(of)S 157 x(it\202so)S 155 x
(that)S 156 x(improper)S 3899 X 648 y(mixtures)S 182 x(of)S 183 x(types)S
183 x(and)S 181 x(operations)S 182 x(can)S 182 x(be)S 182 x(detected)S
182 x(at)S 183 x(compile)S 182 x(time)S 182 x(rather)S 183 x(than)S
182 x(at)S 182 x(run)S 183 x(time.)S 3899 6148 XY F28(2.3)S 599 x(Scheduling)S
201 x(and)S 200 x(Synchronization)S 3899 7145 XY F147(This)S 193 x(section)S
192 x(explains)S 192 x(the)S 193 x(architecture')S -21 x(s)S 193 x(view)S
194 x(of)S 193 x(scheduli)S -2 x(ng)S 194 x(and)S 192 x(synchroniza)S
-2 x(tion.)S 275 x(These)S 194 x(are)S 3899 X 647 y(viewed)S 182 x(as)S
182 x(orthogonal)S 182 x(functions)S 182 x(\(see)S 183 x(also)S 182 x
(Reference)S 183 x([2]\).)S 3899 8788 XY(Synchronization)S 202 x(has)S
202 x(to)S 204 x(do)S 202 x(with)S 203 x(determining)S 203 x(when)S
203 x(a)S 203 x(thread)S 202 x(must)S 203 x(wait)S 203 x(for)S 204 x
(some)S 203 x(event)S 203 x(and)S 3899 X 648 y(when)S 158 x(that)S 157 x
(event)S 158 x(has)S 157 x(eventually)S 157 x(occurred)S 159 x(so)S
157 x(the)S 158 x(thread)S 157 x(can)S 158 x(become)S 158 x(eligib)S
-2 x(le)S 158 x(to)S 158 x(execute.)S 236 x(CMA)S 3899 X 648 y(services)S
157 x(includ)S -2 x(e)S 157 x(synchronization)S 155 x(operations)S 156 x
(in)S 156 x(order)S 157 x(to)S 157 x(allow)S 156 x(a)S 157 x(client)S
156 x(to)S 158 x(specify)S 156 x(synchroniza-)S 3899 X 647 y(tion)S
182 x(in)S 182 x(a)S 182 x(portable)S 182 x(way)S -61 x(.)S 3899 11727 XY
(`)S -10 x(`Scheduli)S -2 x(ng)S 161 x(policy')S -10 x(')S 160 x(is)S
161 x(the)S 161 x(mechanis)S -2 x(m)S 162 x(that)S 160 x(determines)S
160 x(which)S 161 x(of)S 162 x(the)S 160 x(threads)S 161 x(that)S 160 x
(are)S 161 x(eligibl)S -2 x(e)S 3899 X 648 y(to)S 130 x(execute)S 130 x
(may)S 130 x(actually)S 129 x(run)S 130 x(on)S 129 x(a)S 130 x(processor)S
-41 x(.)S 226 x(A)S 130 x(wide)S 129 x(variety)S 130 x(of)S 130 x(schedulin)S
-2 x(g)S 130 x(policies)S 129 x(are)S 129 x(possibl)S -2 x(e,)S 3899 X
647 y(each)S 155 x(app)S -2 x(ropriate)S 155 x(for)S 156 x(different)S
155 x(types)S 155 x(of)S 155 x(appli)S -2 x(cation;)S 164 x(a)S 155 x
(scheduli)S -2 x(ng)S 155 x(policy)S 155 x(used)S 154 x(for)S 156 x
(\212ight)S 154 x(control)S 3899 X 648 y(threads)S 182 x(on)S 182 x
(a)S 182 x(\211ghter)S 183 x(jet)S 183 x(would)S 182 x(not)S 183 x(be)S
182 x(ideal)S 181 x(for)S 183 x(a)S 183 x(time-shared)S 181 x(computer)S
183 x(system.)S 3899 15164 XY F32(2.3.1)S 547 x(Scheduling)S 183 x(Policies)S
182 x(De\211ned)S 181 x(by)S 182 x(the)S 183 x(Architecture)S 3899 16161 XY
F148([This)S 184 x(section)S 184 x(is)S 183 x(prelimi)S 2 x(nary)S 182 x
(and)S 181 x(subject)S 183 x(to)S 182 x(change:)S 244 x(comments)S 184 x
(are)S 182 x(welc)S 2 x(ome.])S 3899 17157 XY F147(The)S 128 x(CMA)S
127 x(architecture)S 128 x(speci\211es)S 127 x(four)S 128 x(scheduli)S
-2 x(ng)S 128 x(policies)S 126 x(which)S 128 x(an)S 127 x(implementation)S
126 x(is)S 127 x(required)S 3899 X 648 y(to)S 183 x(supp)S -2 x(ort)S
-181 y F159(1)S 25 x 181 y F147(.)S 244 x(An)S 182 x(implementati)S
-2 x(on)S 183 x(may)S 182 x(support)S 182 x(addi)S -2 x(tional)S 182 x
(poli)S -2 x(cies.)S 3899 X 896 y(\201)S 714 x F149(cma_c_sc)S -2 x
(hed_\211fo)S F147(:)S 349 x(FIFO)S 2 x(,)S 235 x(or)S 235 x(`)S -10 x
(`First)S 235 x(In)S 235 x(First)S 235 x(Out')S -10 x('.)S 401 x(Threads)S
234 x(are)S 235 x(scheduled)S 233 x(strictly)S 235 x(in)S 4945 X 648 y
(order)S 267 x(of)S 268 x(their)S 267 x(priority)S -61 x(.)S 497 x(A)S
267 x(thread)S 267 x(executes)S 267 x(until)S 266 x(it)S 267 x(blocks,)S
288 x(or)S 268 x(until)S 266 x(a)S 267 x(higher)S 267 x(priority)S 4945 X
647 y(thread)S 237 x(becomes)S 238 x(able)S 237 x(to)S 238 x(execute.)S
410 x(Higher)S 238 x(priority)S 237 x(threads)S 237 x(immediately)S
237 x(preempt)S 237 x(lower)S 4945 X 648 y(priority)S 182 x(threads.)S
3899 X 897 y(\201)S 714 x F149(cma_c_sc)S -2 x(hed_rr)S F147(:)S 240 x
(RR,)S 171 x(or)S 172 x(`)S -10 x(`Round)S 170 x(Robin)S -2 x(')S -10 x
('.)S 240 x(Much)S 172 x(like)S 171 x(FIFO,)S 173 x(except)S 171 x(that)S
172 x(a)S 171 x(thread)S 171 x(is)S 171 x(only)S 4945 X 647 y(allowed)S
143 x(to)S 144 x(execute)S 145 x(for)S 145 x(a)S 144 x(certain)S 145 x
(amount)S 143 x(of)S 145 x(time)S 144 x(before)S 145 x(giving)S 144 x
(up)S 144 x(the)S 144 x(processor)S 144 x(to)S 145 x(another)S 4945 X
648 y(thread)S 197 x(of)S 198 x(the)S 197 x(same)S 197 x(priority)S
197 x(which)S 198 x(is)S 196 x(able)S 197 x(to)S 197 x(execute.)S 289 x
(It)S 198 x(will)S 197 x(als)S -2 x(o)S 198 x(give)S 198 x(up)S 196 x
(the)S 198 x(processor)S 4945 X 647 y(if)S 239 x(it)S 239 x(blocks,)S
253 x(or)S 239 x(when)S 239 x(a)S 238 x(higher)S 239 x(priority)S 239 x
(thread)S 238 x(becomes)S 239 x(able)S 238 x(to)S 239 x(execute.)S 414 x
(This)S 238 x(ensures)S 4945 X 648 y(`)S -10 x(`fairness')S -11 x(')S
182 x(only)S 182 x(between)S 183 x(threads)S 182 x(of)S 183 x(the)S
182 x(same)S 182 x(priority)S -61 x(.)S 3899 X 896 y(\201)S 714 x F149
(cma_c_sc)S -2 x(hed_thr)S 2 x(oughput)S F147(:)S 345 x(The)S 233 x
(throughput)S 232 x(schedulin)S -2 x(g)S 233 x(policy)S 232 x(is)S 232 x
(designed)S 231 x(to)S 233 x(ensure)S 4945 X 648 y(fairness,)S 231 x
(and)S 221 x(to)S 222 x(prevent)S 222 x(starvation)S 221 x(and)S 221 x
(priority)S 222 x(inversion)S 220 x(among)S 222 x(threads.)S 361 x(T)S
-50 x(o)S 222 x(achieve)S 4945 X 648 y(these)S 130 x(goals,)S 141 x
(higher)S 130 x(priority)S 130 x(threads)S 130 x(do)S 130 x(not)S 130 x
(preempt)S 131 x(lower)S 130 x(priority)S 131 x(threads,)S 140 x(and)S
130 x(a)S 130 x(thread')S -21 x(s)S 4945 X 647 y(priority)S 215 x(may)S
215 x(be)S 214 x(violated)S 214 x(\(the)S 215 x(scheduler)S 214 x(may)S
215 x(choose)S 215 x(to)S 215 x(overlook)S 215 x(a)S 214 x(high)S 214 x
(priority)S 215 x(thread)S 4945 X 648 y(in)S 168 x(favor)S 169 x(of)S
169 x(a)S 168 x(lower)S 168 x(priority)S 168 x(thread)S 168 x(which)S
168 x(has)S 168 x(been)S 167 x(unable)S 167 x(to)S 169 x(make)S 168 x
(signi\211can)S -2 x(t)S 169 x(progress\).)S 4945 X 647 y(All)S 172 x
(throughput)S 173 x(threads)S 173 x(are)S 173 x(of)S 174 x(lower)S 173 x
(priority)S 173 x(than)S 173 x(FIFO)S 175 x(and)S 172 x(RR)S 173 x(threads,)S
174 x(to)S 174 x(ensure)S 173 x(that)S 4945 X 648 y(they)S 183 x(do)S
182 x(not)S 182 x(interfere)S 184 x(with)S 182 x(real)S 182 x(time)S
183 x(operation.)S 3899 X 897 y(\201)S 714 x F149(cma_c_sc)S -2 x(hed_background)S
2 x F147(:)S 316 x(These)S 219 x(are)S 219 x(threads)S 218 x(which)S
219 x(should)S 218 x(make)S 218 x(progress)S 219 x(eventu-)S 4945 X
647 y(ally)S -62 x(,)S 216 x(but)S 208 x(which)S 209 x(are)S 208 x(not)S
209 x(critical)S 208 x(to)S 209 x(the)S 209 x(performance)S 209 x(of)S
209 x(the)S 209 x(system.)S 322 x(They)S 209 x(are)S 209 x(not)S 209 x
(sched-)S 4945 X 648 y(uled)S 217 x(when)S 218 x(any)S 218 x(FIFO)S
219 x(or)S 219 x(RR)S 217 x(thread)S 218 x(is)S 217 x(ready)S 218 x
(to)S 218 x(run.)S 351 x(However)S -40 x(,)S 228 x(they)S 218 x(are)S
218 x(guaranteed)S 217 x(to)S 4945 X 647 y(eventually)S 149 x(make)S
149 x(progress)S 150 x(against)S 149 x(compute-bound)S 149 x(throughput)S
149 x(threads.)S 232 x(Like)S 150 x(throughput)S 4945 X 648 y(threads,)S
170 x(they)S 168 x(do)S 167 x(not)S 168 x(preempt)S 167 x(lower)S 168 x
(priority)S 167 x(threads,)S 170 x(and)S 167 x(their)S 167 x(priority)S
168 x(ordering)S 167 x(may)S 168 x(be)S 4945 X 647 y(ignored)S 182 x
(to)S 183 x(ensure)S 182 x(that)S 182 x(starvation)S 182 x(does)S 182 x
(not)S 183 x(occur)S -40 x(.)S 3899 34824 XY 6996 24 R 4106 35219 XY
F163(1)S 225 x 140 y F159(FIFO)S 127 x(and)S 128 x(RR)S 127 x(are)S
128 x(intended)S 128 x(to)S 128 x(conform)S 129 x(to)S 128 x(the)S 128 x
(draft)S 127 x(POSIX)S 127 x(1003.)S -2 x(4)S 128 x(speci\211cati)S
-2 x(on;)S 130 x(through)S 2 x(put)S 128 x(and)S 128 x(background)S
128 x(are)S 127 x(de\211ned)S 129 x(by)S 4497 X 498 y(CMA)S 132 x(to)S
133 x(support)S 133 x(non-realtime)S 133 x(threads.)S 3899 37573 XY
F36(8)S 498 x(CMA)S 165 x(Concepts)S
%%EndCustomColor: 0
14 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 9 15
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4012 XY F147(\201)S 714 x(Addi)S -2 x(tionally)S -62 x(,)S 245 x
(the)S 232 x(symbol)S 231 x F149(cma_c_sche)S -2 x(d_default)S 234 x
F147(de\211nes)S 231 x(the)S 232 x(default)S 231 x(schedul)S -2 x(ing)S
232 x(policy)S 4945 X 648 y(for)S 185 x(the)S 185 x(implementa)S -2 x
(tion.)S 250 x(It)S 185 x(may)S 184 x(map)S 184 x(on)S 185 x(to)S 184 x
(any)S 185 x(of)S 185 x(the)S 185 x(de\211ned)S 183 x(schedul)S -2 x
(ing)S 185 x(poli)S -2 x(cies)S 185 x(\(or)S 185 x(an)S 4945 X 647 y
(addi)S -2 x(tional,)S 232 x(implemen)S -2 x(tation)S 222 x(de\211ned)S
221 x(policy\).)S 363 x(Implementations)S 221 x(are)S 222 x(encouraged)S
222 x(to)S 223 x(make)S 4945 X 648 y F148(cma_c_sched_throughput)S 215 x
F147(the)S 216 x(default,)S 224 x(to)S 216 x(ensure)S 216 x(that)S 216 x
(threads)S 215 x(are)S 216 x(schedul)S -2 x(ed)S 216 x(fairly)S -61 x
(,)S 224 x(and)S 4945 X 648 y(that)S 182 x(starvation)S 182 x(does)S
182 x(not)S 183 x(occur)S -40 x(.)S 3899 7699 XY(If)S 175 x(the)S 175 x
(implemen)S -2 x(tation)S 174 x(platform)S 175 x(cannot)S 174 x(support)S
174 x(the)S 175 x(throughput)S 174 x(and/or)S 174 x(background)S 174 x
(classes)S -181 y F159(2)S 23 x 181 y F147(,)S 3899 X 647 y(the)S 182 x
(CMA)S 183 x(architecture)S 182 x(allows)S 182 x(an)S 182 x(implementati)S
-2 x(on)S 183 x(to)S 183 x(map)S 181 x(them)S 183 x(into)S 182 x(low)S
183 x(priority)S 182 x(RR.)S 3899 9342 XY(The)S 260 x(architecture)S
261 x(provides)S 258 x(a)S 260 x(few)S 261 x(mechanisms)S 259 x(for)S
261 x(in\212ue)S -2 x(ncing)S 260 x(how)S 260 x(a)S 260 x(thread)S 260 x
(is)S 259 x(scheduled)S -2 x(.)S 3899 X 648 y(A)S 269 x(thread)S 268 x
(can)S 269 x(indi)S -2 x(cate)S 270 x(its)S 268 x(willingnes)S -2 x
(s)S 269 x(to)S 269 x(yield)S 269 x(the)S 269 x(processor)S 268 x(to)S
270 x(other)S 269 x(threads,)S 290 x(request)S 269 x(a)S 3899 X 647 y
(scheduli)S -2 x(ng)S 183 x(policy)S 182 x(or)S 183 x(priority)S 182 x
(setting,)S 183 x(or)S 182 x(delay)S 182 x(itself.)S 3899 11634 XY(The)S
246 x(scheduli)S -2 x(ng)S 246 x(policy)S 245 x(assigned)S 244 x(to)S
246 x(a)S 245 x(thread)S 246 x(also)S 244 x(controls)S 246 x(how)S 246 x
(synchronizati)S -2 x(on)S 246 x(operations)S 3899 X 647 y(behave)S
204 x(when)S 206 x(a)S 205 x(thread)S 204 x(is)S 205 x(blocked.)S 311 x
(Blocked)S 204 x(threads)S 204 x(running)S 205 x(under)S 205 x(RR)S
204 x(or)S 206 x(FIFO)S 206 x(scheduli)S -2 x(ng)S 3899 X 648 y(polici)S
-2 x(es)S 204 x(will)S 202 x(be)S 204 x(readied)S 202 x(in)S 203 x(strict)S
203 x(priority)S 204 x(order)S 203 x(when)S 204 x(they)S 203 x(are)S
204 x(awakened,)S 208 x(and)S 202 x(will)S 203 x(preempt)S 3899 X 647 y
(running)S 257 x(threads)S 257 x(of)S 258 x(lower)S 257 x(priority)S
-61 x(.)S 469 x(The)S 258 x(behavior)S 257 x(of)S 258 x(awakened)S 256 x
(threads)S 257 x(assi)S -2 x(gned)S 258 x(to)S 257 x(other)S 3899 X
648 y(scheduli)S -2 x(ng)S 183 x(polici)S -2 x(es)S 183 x(is)S 182 x
(unsp)S -2 x(eci\211ed.)S 3899 15220 XY(Real-time)S 185 x(threads)S
186 x(\(RR)S 186 x(and)S 185 x(FIFO)S 188 x(scheduli)S -2 x(ng)S 187 x
(poli)S -2 x(cies\))S 187 x(are)S 186 x(those)S 186 x(that)S 186 x(must)S
186 x(have)S 186 x(predictabl)S -2 x(e)S 3899 X 648 y(response)S 165 x
(times)S 166 x(to)S 166 x(events;)S 172 x(for)S 167 x(example,)S 169 x
(because)S 165 x(they)S 167 x(service)S 166 x(some)S 166 x(external)S
166 x(hardware)S 166 x(device.)S 3899 X 647 y(Compute-bound)S 186 x
(threads)S 188 x(should)S 186 x(use)S 188 x(the)S 188 x(throughput)S
188 x(or)S 188 x(background)S 187 x(schedulin)S -2 x(g)S 189 x(priorities)S
-2 x(,)S 190 x(to)S 3899 X 648 y(ensure)S 182 x(that)S 182 x(they)S
183 x(don')S -11 x(t)S 183 x(`)S -10 x(`starve')S -10 x(')S 182 x(other)S
183 x(threads.)S 3899 18657 XY F32(2.3.2)S 547 x(Scheduling)S 183 x
(Prioriti)S 2 x(es)S 182 x(De\211n)S -2 x(ed)S 182 x(by)S 183 x(the)S
182 x(Architecture)S 3899 19654 XY F148([This)S 184 x(section)S 184 x
(is)S 183 x(prelimi)S 2 x(nary)S 182 x(and)S 181 x(subject)S 183 x(to)S
182 x(change:)S 244 x(comments)S 184 x(are)S 182 x(welc)S 2 x(ome.])S
3899 20650 XY F147(Schedulin)S -2 x(g)S 176 x(priority)S 176 x(speci\211)S
-2 x(es)S 176 x(the)S 175 x(`)S -10 x(`relative)S 175 x(importance')S
-11 x(')S 176 x(of)S 176 x(threads)S 175 x(within)S 174 x(a)S 176 x
(given)S 175 x(scheduli)S -2 x(ng)S 3899 X 648 y(policy)S -62 x(.)S
240 x(The)S 170 x(CMA)S 170 x(architecture)S 170 x(speci\211es)S 169 x
(a)S 170 x(single)S 169 x(integer)S 170 x(range)S 170 x(for)S 171 x
(all)S 169 x(priority)S 169 x(values.)S 239 x(Higher)S 3899 X 647 y
(priority)S 183 x(values)S 182 x(mark)S 184 x(a)S 183 x(thread)S 183 x
(as)S 183 x(`)S -10 x(`more)S 183 x(important')S -10 x(',)S 183 x(lower)S
184 x(priority)S 183 x(values)S 183 x(mark)S 183 x(a)S 183 x(thread)S
183 x(as)S 3899 X 648 y(`)S -10 x(`less)S 151 x(important')S -11 x('.)S
234 x(The)S 153 x(priority)S 152 x(range,)S 159 x(and)S 152 x(which)S
153 x(segments)S 152 x(of)S 153 x(that)S 153 x(range)S 152 x(are)S 153 x
(assigned)S 151 x(to)S 153 x(each)S 3899 X 647 y(scheduli)S -2 x(ng)S
244 x(poli)S -2 x(cy)S -60 x(,)S 259 x(is)S 243 x(implementati)S -2 x
(on)S 244 x(de\211ned)S -2 x(.)S 427 x(The)S 243 x(architecture)S 244 x
(recommends)S 243 x(that)S 244 x(the)S 243 x(RR)S 3899 X 648 y(and)S
204 x(FIFO)S 206 x(scheduli)S -2 x(ng)S 205 x(policies)S 204 x(share)S
204 x(the)S 205 x(same)S 204 x(priority)S 205 x(range,)S 211 x(and)S
204 x(that)S 205 x(they)S 205 x(be)S 204 x(the)S 205 x(highest)S 3899 X
647 y(priority)S 182 x(values.)S -180 y F159(3)S 3899 25532 XY F147
(It)S 151 x(is)S 149 x(important)S 150 x(to)S 151 x(remember)S 151 x
(that)S 150 x(priority)S 150 x(can)S 150 x(only)S 150 x(be)S 150 x(used)S
150 x(to)S 150 x(specify)S 151 x(the)S 150 x(relative)S 150 x(importance)S
3899 X 647 y(of)S 209 x(threads.)S 322 x(It)S 209 x(must)S 209 x F148
(not)S 209 x F147(be)S 208 x(relied)S 208 x(upon)S 208 x(to)S 209 x
(control)S 209 x(mutual)S 209 x(exclusion)S 207 x(when)S 209 x(accessing)S
209 x(shared)S 3899 X 648 y(data.)S 472 x(W)S -20 x(ith)S 258 x(a)S
259 x(suf\211cient)S 259 x(number)S 259 x(of)S 259 x(processors)S 259 x
(availa)S -2 x(ble,)S 278 x(all)S 258 x(ready)S 259 x(threads,)S 278 x
(regardless)S 258 x(of)S 3899 X 647 y(priority)S -61 x(,)S 183 x(may)S
182 x(execute)S 183 x(simultaneous)S -2 x(ly)S -61 x(.)S 3899 28471 XY
(An)S 163 x(impl)S -2 x(ementation)S 163 x(may)S 163 x(have)S 163 x
(some)S 163 x(special)S 162 x(rules)S 163 x(for)S 164 x(using)S 162 x
(different)S 164 x(priorities.)S 236 x(For)S 164 x(example,)S 3899 X
647 y(an)S 143 x(implementati)S -2 x(on)S 144 x(might)S 143 x(require)S
144 x(a)S 143 x(special)S 142 x(privilege)S 143 x(to)S 144 x(set)S 143 x
(a)S 143 x(thread')S -21 x(s)S 144 x(priority)S 143 x(above)S 143 x
(a)S 144 x(certain)S 3899 X 648 y(value,)S 156 x(or)S 150 x(to)S 150 x
(create)S 150 x(a)S 150 x(thread)S 149 x(with)S 149 x(a)S 150 x(priority)S
149 x(above)S 150 x(a)S 149 x(certain)S 150 x(value.)S 232 x(An)S 149 x
(implementati)S -2 x(on)S 150 x(should)S 3899 X 647 y(report)S 183 x
(such)S 182 x(special)S 181 x(rule)S 182 x(violations)S 181 x(by)S 183 x
(raisin)S -2 x(g)S 183 x(an)S 182 x(exception.)S 3899 31410 XY(Under)S
211 x(the)S 211 x F148(cma_c_sched_throughput)S 212 x F147(and)S 210 x
F148(cma_c_sched_background)S 212 x F147(scheduli)S -2 x(ng)S 212 x
(policie)S -2 x(s,)S 220 x(the)S 3899 X 647 y(implementa)S -2 x(tion)S
167 x(is)S 167 x(allowed)S 166 x(to)S 168 x(dynamicall)S -2 x(y)S 168 x
(change)S 167 x(a)S 167 x(thread')S -21 x(s)S 167 x(actual)S 167 x(`)S
-10 x(`execution)S 167 x(priority')S -10 x(')S 167 x(as)S 167 x(a)S
3899 X 648 y(means)S 182 x(of)S 183 x(providin)S -2 x(g)S 183 x(fairness)S
182 x(or)S 183 x(responsivenes)S -2 x(s,)S 183 x(or)S 183 x(to)S 183 x
(meet)S 182 x(deadli)S -2 x(nes.)S 3899 34198 XY 6996 24 R 4106 34592 XY
F163(2)S 225 x 141 y F159(For)S 103 x(example,)S 109 x(a)S 103 x(strictl)S
-2 x(y)S 104 x(POSIX)S 103 x(conformant)S 104 x(system)S 103 x(which)S
104 x(maps)S 102 x(the)S 104 x(POSIX)S 103 x F161(SCHED_OTHER)S 104 x
F159(scheduling)S 103 x(class)S 102 x(into)S 103 x F161(SCHED_)S 4497 X
498 y(RR)S 132 x F159(or)S 133 x F161(SCHED_FIFO)S 4106 X 486 y F163
(3)S 225 x 140 y F159(This)S 132 x(de\211nition)S 133 x(is)S 132 x(intended)S
134 x(to)S 133 x(conform)S 133 x(to)S 134 x(the)S 133 x(draft)S 132 x
(POSIX)S 132 x(1003.)S -2 x(4)S 133 x(standard)S -2 x(.)S 22867 37573 XY
F36(CMA)S 165 x(Concepts)S 498 x(9)S
%%EndCustomColor: 0
15 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 10 16
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(A)S 191 x(new)S 192 x(thread)S 191 x(receives)S 192 x
(its)S 191 x(initi)S -2 x(al)S 191 x(priority)S 192 x(\(and)S 191 x
(schedul)S -2 x(ing)S 192 x(poli)S -2 x(cy\))S 193 x(either)S 191 x
(from)S 193 x(the)S 191 x(attributes)S 3899 X 648 y(object)S 136 x(associa)S
-2 x(ted)S 136 x(with)S 135 x(it,)S 145 x(or)S 136 x(from)S 137 x(the)S
135 x(creating)S 136 x(thread,)S 145 x(depend)S -2 x(ing)S 136 x(on)S
135 x(the)S 136 x(setting)S 135 x(of)S 136 x(the)S 136 x(`)S -11 x(`inherit)S
3899 X 647 y(scheduli)S -2 x(ng')S -10 x(')S 256 x(attribute)S 255 x
(\(see)S 256 x(Section)S 256 x(4.3.3.1\).)S 464 x(The)S 256 x(default)S
256 x(may)S 256 x(be)S 255 x(changed)S 255 x(by)S 256 x(altering)S 256 x
(the)S 3899 X 648 y(attributes)S 207 x(object)S 208 x(used)S 207 x(in)S
207 x(thread)S 208 x(creation.)S 319 x(A)S 208 x(thread)S 207 x(may)S
208 x(also)S 207 x(change)S 207 x(its)S 208 x(own)S 208 x(priority)S
207 x(as)S 208 x(it)S 3899 X 648 y(executes)S 183 x(\(see)S 182 x(Section)S
183 x(4.3.4.1\).)S 3899 7593 XY(The)S 143 x(CMA)S 142 x(architecture)S
142 x(de\211nes)S 142 x(several)S 142 x(symbols)S 141 x(which)S 143 x
(de\211ne)S 141 x(the)S 143 x(range)S 142 x(and)S 142 x(midp)S -2 x
(oint)S 142 x(of)S 143 x(prior-)S 3899 X 647 y(ity)S 125 x(values)S
124 x(for)S 126 x(each)S 125 x(scheduli)S -2 x(ng)S 126 x(poli)S -2 x
(cy;)S 146 x(these)S 124 x(symbols)S 125 x(must)S 125 x(be)S 124 x(provided)S
124 x(by)S 125 x(all)S 124 x(implementation)S -2 x(s.)S 3899 X 648 y
(It)S 195 x(is)S 194 x(legal)S 194 x(\(though)S 196 x(not)S 194 x(recommended\))S
195 x(for)S 196 x(a)S 195 x(policy')S -21 x(s)S 194 x(range)S 195 x
(to)S 195 x(map)S 195 x(to)S 195 x(a)S 194 x(single)S 194 x(priority)S
195 x(value;)S 3899 X 648 y(all)S 181 x(three)S 183 x(symbols)S 182 x
(for)S 183 x(that)S 183 x(poli)S -2 x(cy)S 184 x(must)S 182 x(still)S
181 x(be)S 183 x(de\211ned)S -2 x(.)S 3899 X 896 y(\201)S 714 x F149
(cma_c_prio_\211fo_min)S F147(:)S 243 x(The)S 183 x(lowest)S 182 x(priority)S
182 x(in)S 183 x(the)S 182 x(FIFO)S 184 x(scheduli)S -2 x(ng)S 183 x
(policy)S -62 x(.)S 3899 X 897 y(\201)S 714 x F149(cma_c_prio_\211fo_mid)S
F147(:)S 271 x(The)S 197 x(middl)S -2 x(e)S 197 x(priority)S 196 x(in)S
196 x(the)S 197 x(FIFO)S 197 x(schedulin)S -2 x(g)S 197 x(policy)S -61 x
(.)S 285 x(This)S 197 x(is)S 196 x(the)S 4945 X 647 y(recommended)S
191 x(value)S 191 x(for)S 192 x(threads)S 191 x(which)S 191 x(require)S
191 x(the)S 191 x(FIFO)S 193 x(scheduli)S -2 x(ng)S 192 x(poli)S -2 x
(cy)S 192 x(but)S 192 x(have)S 191 x(no)S 4945 X 648 y(vital)S 182 x
(requirements)S 182 x(regarding)S 182 x(their)S 183 x(relative)S 182 x
(importance.)S 3899 X 897 y(\201)S 714 x F149(cma_c_prio_\211fo_max)S
F147(:)S 242 x(The)S 183 x(highest)S 182 x(priority)S 183 x(in)S 182 x
(the)S 182 x(FIFO)S 184 x(scheduli)S -2 x(ng)S 183 x(policy)S -62 x
(.)S 3899 X 896 y(\201)S 714 x F149(cma_c_prio_rr_min)S F147(:)S 243 x
(The)S 183 x(lowest)S 183 x(priority)S 182 x(in)S 182 x(the)S 183 x
(RR)S 181 x(scheduling)S 181 x(policy)S -61 x(.)S 3899 X 897 y(\201)S
714 x F149(cma_c_prio_rr_mid)S F147(:)S 406 x(The)S 265 x(midd)S -2 x
(le)S 264 x(priority)S 264 x(in)S 263 x(the)S 264 x(RR)S 263 x(scheduli)S
-2 x(ng)S 264 x(policy)S -61 x(.)S 488 x(This)S 263 x(is)S 264 x(the)S
4945 X 647 y(recommended)S 240 x(value)S 240 x(for)S 241 x(threads)S
240 x(which)S 240 x(require)S 240 x(the)S 241 x(RR)S 240 x(schedul)S
-2 x(ing)S 240 x(policy)S 240 x(but)S 240 x(have)S 241 x(no)S 4945 X
648 y(vital)S 182 x(requirements)S 182 x(regarding)S 182 x(their)S 183 x
(relative)S 182 x(importance.)S 3899 X 897 y(\201)S 714 x F149(cma_c_prio_rr_max)S
F147(:)S 243 x(The)S 183 x(highest)S 182 x(priority)S 182 x(in)S 182 x
(the)S 183 x(RR)S 182 x(schedul)S -2 x(ing)S 182 x(policy)S -61 x(.)S
3899 X 896 y(\201)S 714 x F149(cma_c_prio_through_min)S F147(:)S 244 x
(The)S 183 x(lowest)S 182 x(priority)S 183 x(in)S 182 x(the)S 182 x
(throughput)S 182 x(schedulin)S -2 x(g)S 183 x(policy)S -61 x(.)S 3899 X
897 y(\201)S 714 x F149(cma_c_prio_through_mid)S F147(:)S 306 x(The)S
214 x(midd)S -2 x(le)S 213 x(priority)S 214 x(in)S 213 x(the)S 213 x
(throughput)S 213 x(scheduli)S -2 x(ng)S 214 x(poli)S -2 x(cy)S -60 x
(.)S 4945 X 648 y(This)S 232 x(is)S 231 x(the)S 232 x(recommended)S
231 x(value)S 232 x(for)S 232 x(threads)S 231 x(which)S 232 x(require)S
232 x(the)S 232 x(throughput)S 231 x(scheduli)S -2 x(ng)S 4945 X 647 y
(policy)S 182 x(but)S 182 x(have)S 182 x(no)S 183 x(vital)S 182 x(requirements)S
182 x(regarding)S 182 x(their)S 182 x(relative)S 183 x(importance.)S
3899 X 897 y(\201)S 714 x F149(cma_c_prio_through_max)S F147(:)S 244 x
(The)S 182 x(highest)S 182 x(priority)S 183 x(in)S 182 x(the)S 182 x
(throughput)S 182 x(scheduling)S 181 x(policy)S -61 x(.)S 3899 X 896 y
(\201)S 714 x F149(cma_c_prio_back_mi)S -2 x(n)S F147(:)S 245 x(The)S
183 x(lowest)S 182 x(priority)S 182 x(in)S 182 x(the)S 183 x(background)S
182 x(schedul)S -2 x(ing)S 183 x(poli)S -2 x(cy)S -60 x(.)S 3899 X 897 y
(\201)S 714 x F149(cma_c_prio_back_mi)S -2 x(d)S F147(:)S 231 x(The)S
154 x(middle)S 153 x(priority)S 154 x(in)S 154 x(the)S 155 x(background)S
153 x(scheduli)S -2 x(ng)S 155 x(policy)S -62 x(.)S 235 x(This)S 4945 X
648 y(is)S 193 x(the)S 193 x(recommended)S 192 x(value)S 193 x(for)S
194 x(threads)S 192 x(which)S 193 x(require)S 193 x(the)S 193 x(background)S
193 x(schedul)S -2 x(ing)S 193 x(policy)S 4945 X 647 y(but)S 182 x(have)S
183 x(no)S 182 x(vital)S 182 x(requirements)S 182 x(regarding)S 182 x
(their)S 183 x(relative)S 182 x(importance.)S 3899 X 897 y(\201)S 714 x
F149(cma_c_prio_back_ma)S -2 x(x)S F147(:)S 244 x(The)S 183 x(highest)S
182 x(priority)S 182 x(in)S 182 x(the)S 183 x(background)S 182 x(schedul)S
-2 x(ing)S 183 x(poli)S -2 x(cy)S -60 x(.)S 3899 26970 XY F28(2.4)S
599 x(Memory)S 200 x(Coherency)S 3899 27966 XY F147(In)S 172 x(high)S
171 x(performance)S 172 x(multiprocessors)S 171 x(using)S 171 x(caches)S
172 x(and)S 171 x(running)S 171 x(multiple)S 171 x(threads,)S 173 x
(it)S 172 x(is)S 171 x(often)S 3899 X 648 y(necessary)S 211 x(to)S 212 x
(do)S 212 x(something)S 211 x(explicit)S 211 x(either)S 211 x(to)S 212 x
(ensure)S 212 x(that)S 211 x(recently)S 213 x(written)S 212 x(shared)S
211 x(data)S 210 x(will)S 3899 X 648 y(be)S 184 x(seen)S 183 x(by)S
184 x(all)S 183 x(threads,)S 184 x(or)S 184 x(that)S 184 x(the)S 184 x
(current)S 185 x(thread)S 183 x(will)S 184 x(see)S 183 x(all)S 183 x
(shared)S 183 x(data)S 183 x(recently)S 185 x(written;)S 3899 X 647 y
(that)S 182 x(is,)S 183 x(to)S 182 x(ensure)S 182 x(that)S 183 x(the)S
182 x(threads)S 182 x(share)S 182 x(a)S 183 x(coherent)S 182 x(view)S
183 x(of)S 183 x(the)S 183 x(`)S -10 x(`shared)S -2 x(')S -10 x(')S
183 x(memory)S -60 x(.)S 3899 30905 XY(The)S 181 x(following)S 181 x
(are)S 182 x(the)S 181 x(only)S 181 x(memory)S 182 x(coherency)S 182 x
(guarantees)S 180 x(the)S 182 x(architecture)S 181 x(currently)S 182 x
(makes)S 3899 X 648 y(\(these)S 183 x(depen)S -2 x(d)S 183 x(on)S 182 x
(some)S 182 x(concepts)S 183 x(de\211ned)S 181 x(in)S 182 x(later)S
182 x(sections)S 182 x(of)S 183 x(this)S 182 x(document\):)S 3899 X
897 y F36(1.)S 631 x F147(The)S 197 x(operation)S 196 x(`)S -10 x(`cma_mutex_lock')S
-11 x(')S 197 x(is)S 196 x(a)S 196 x(memory)S 198 x(synchroniza)S -2 x
(tion)S 197 x(point)S 195 x(for)S 198 x(all)S 195 x(writes)S 197 x(per-)S
4945 X 647 y(formed)S 168 x(in)S 168 x(another)S 168 x(thread)S 167 x
(that)S 168 x(were)S 169 x(performed)S 168 x(prior)S 168 x(to)S 169 x
(that)S 168 x(other)S 168 x(thread')S -21 x(s)S 168 x(invocation)S 167 x
(of)S 4945 X 648 y(`)S -10 x(`cma_mutex_unlock')S -11 x(',)S 177 x(`)S
-11 x(`cma_cond_wait')S -11 x(',)S 177 x(or)S 175 x(`)S -10 x(`cma_cond_timed)S
-2 x(_wait')S -10 x(',)S 176 x(for)S 176 x(the)S 174 x(same)S 174 x
(mutex)S 4945 X 647 y(object.)S 239 x(That)S 169 x(is,)S 172 x(any)S
168 x(reads)S 168 x(performed)S 169 x(after)S 170 x(acquiring)S 168 x
(a)S 168 x(mutex)S 169 x(obtain)S 168 x(data)S 168 x(that)S 169 x(is)S
168 x(consis-)S 4945 X 648 y(tent)S 183 x(with)S 182 x(data)S 182 x
(written)S 183 x(by)S 182 x(the)S 183 x(thread)S 182 x(that)S 182 x
(most)S 183 x(recently)S 183 x(unlocked)S 181 x(that)S 183 x(same)S
182 x(mutex.)S 3899 37373 XY F36(10)S 498 x(CMA)S 165 x(Concepts)S
%%EndCustomColor: 0
16 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 11 17
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F36(2.)S 631 x F147(The)S 227 x(operation)S 226 x(`)S -10 x
(`cma_cond_wait')S -11 x(')S 227 x(is)S 227 x(a)S 227 x(memory)S 228 x
(synchroniza)S -2 x(tion)S 227 x(point)S 226 x(for)S 228 x(all)S 226 x
(writes)S 227 x(per-)S 4945 X 648 y(formed)S 168 x(in)S 168 x(another)S
168 x(thread)S 167 x(that)S 168 x(were)S 169 x(performed)S 168 x(prior)S
168 x(to)S 169 x(that)S 168 x(other)S 168 x(thread')S -21 x(s)S 168 x
(invocation)S 167 x(of)S 4945 X 647 y(`)S -10 x(`cma_mutex_unlock')S
-11 x(',)S 177 x(`)S -11 x(`cma_cond_wait')S -11 x(',)S 177 x(or)S 175 x
(`)S -10 x(`cma_cond_timed)S -2 x(_wait')S -10 x(',)S 176 x(for)S 176 x
(the)S 174 x(same)S 174 x(mutex)S 4945 X 648 y(object.)S 239 x(That)S
169 x(is,)S 172 x(any)S 168 x(reads)S 168 x(performed)S 169 x(after)S
170 x(acquiring)S 168 x(a)S 168 x(mutex)S 169 x(obtain)S 168 x(data)S
168 x(that)S 169 x(is)S 168 x(consis-)S 4945 X 648 y(tent)S 154 x(with)S
154 x(data)S 152 x(written)S 155 x(by)S 153 x(the)S 154 x(thread)S 153 x
(that)S 154 x(most)S 154 x(recently)S 154 x(unlocked)S 153 x(that)S
153 x(same)S 154 x(mutex.)S 234 x(The)S 4945 X 647 y(above)S 182 x(guarantees)S
182 x(also)S 182 x(app)S -2 x(ly)S 183 x(to)S 183 x(`)S -11 x(`cma_cond_timed_wait')S
-11 x(')S 182 x(as)S 182 x(well)S 182 x(as)S 182 x(`)S -10 x(`cma_cond_wait')S
-11 x('.)S 3899 X 897 y F36(3.)S 631 x F147(The)S 194 x(thread)S 194 x
(creation)S 194 x(operation)S 193 x(`)S -10 x(`cma_thread_create')S
-10 x(')S 194 x(is)S 193 x(a)S 194 x(memory)S 195 x(synchronizati)S
-2 x(on)S 194 x(point)S 4945 X 647 y(for)S 215 x(all)S 213 x(prior)S
213 x(writes)S 214 x(performed)S 214 x(in)S 214 x(the)S 214 x(callin)S
-2 x(g)S 215 x(thread.)S 337 x(It)S 214 x(ensures)S 213 x(that)S 214 x
(the)S 214 x(effect)S 215 x(of)S 215 x(such)S 4945 X 648 y(writes)S
183 x(is)S 182 x(visib)S -2 x(le)S 183 x(to)S 182 x(the)S 183 x(created)S
182 x(thread.)S 3899 X 897 y F36(4.)S 631 x F147(The)S 196 x(operation)S
195 x(`)S -10 x(`cma_thread_join)S -2 x(')S -10 x(')S 196 x(is)S 195 x
(a)S 196 x(memory)S 196 x(synchronization)S 194 x(point)S 195 x(for)S
197 x(all)S 194 x(writes)S 196 x(per-)S 4945 X 647 y(formed)S 255 x
(in)S 255 x(the)S 254 x(thread)S 255 x(whose)S 254 x(termination)S 255 x
(is)S 254 x(being)S 254 x(awaited,)S 272 x(and)S 254 x(that)S 255 x
(were)S 255 x(performed)S 4945 X 648 y(during)S 170 x(that)S 171 x(thread')S
-22 x(s)S 171 x(entire)S 171 x(execution.)S 239 x(It)S 171 x(ensures)S
170 x(that)S 171 x(the)S 170 x(effec)S 2 x(t)S 171 x(of)S 171 x(such)S
170 x(writes)S 171 x(is)S 170 x(visibl)S -2 x(e)S 4945 X 647 y(to)S
183 x(the)S 182 x(calling)S 182 x(thread.)S 3899 13371 XY(The)S 214 x
(descrip)S -2 x(tion)S 213 x(of)S 214 x(memory)S 215 x(in)S 213 x(this)S
212 x(section)S 213 x(is)S 213 x(just)S 213 x(an)S 213 x(informal)S
213 x(speci\211cation)S 212 x(of)S 214 x(the)S 213 x(required)S 3899 X
648 y(behavior)S -41 x(.)S 241 x(A)S 177 x(future)S 177 x(appen)S -2 x
(dix)S 177 x(will)S 176 x(be)S 176 x(supp)S -2 x(lied)S 176 x(which)S
176 x(contains)S 176 x(a)S 177 x(rigorous)S 176 x(formal)S 177 x(speci\211cation)S
3899 X 647 y(of)S 183 x(the)S 183 x(behavi)S -2 x(or)S -40 x(.)S 3899 16161 XY
F28(2.5)S 599 x(Exceptions)S 3899 17157 XY F147(Exceptions)S 161 x(are)S
163 x(chosen)S 162 x(as)S 163 x(the)S 162 x(architecture')S -20 x(s)S
162 x(uniform)S 163 x(error)S 164 x(reporting)S 162 x(mechanism.)S 237 x
(Exceptions)S 3899 X 648 y(are)S 155 x(highly)S 154 x(valuabl)S -2 x
(e)S 155 x(in)S 155 x(producin)S -2 x(g)S 156 x(robust)S 154 x(software,)S
162 x(because)S 154 x(they)S 155 x(are)S 155 x(not)S 155 x(easil)S -2 x
(y)S 155 x(ignored)S 155 x(\(as)S 155 x(re-)S 3899 X 647 y(turn)S 162 x
(statuses)S 162 x(have)S 162 x(often)S 162 x(been)S 162 x(ignored)S
162 x(on)S 162 x(all)S 161 x(important)S 162 x(target)S 163 x(systems\).)S
237 x(Exceptions)S 161 x(are)S 163 x(als)S -2 x(o)S 3899 X 648 y(a)S
152 x(programming)S 153 x(langua)S -2 x(ge)S 153 x(concept)S 153 x(present)S
152 x(in)S 152 x(one)S 152 x(form)S 154 x(or)S 152 x(another)S 153 x
(in)S 152 x(most)S 152 x(modern)S 152 x(languages.)S 3899 20096 XY(Exceptions)S
227 x(are)S 229 x(buil)S -2 x(t)S 229 x(into)S 228 x(the)S 229 x(Ada)S
227 x(and)S 228 x(Modula)S 227 x(2)S 228 x(languages)S 228 x(and)S 227 x
(have)S 229 x(been)S 228 x(consid)S -2 x(ered)S 229 x(for)S 3899 X 648 y
(C++)S 182 x(\(see)S 183 x(Reference)S 183 x([10]\).)S 3899 21740 XY
(Accordingly)S -61 x(,)S 182 x(CMA)S 182 x(services)S 182 x(assume)S
181 x(that)S 182 x(an)S 182 x(exception)S 181 x(handli)S -2 x(ng)S 183 x
(package)S 181 x(exists)S 182 x(for)S 183 x(an)S 181 x(imple-)S 3899 X
647 y(mentation)S 182 x(and)S 181 x(assumes)S 182 x(certain)S 182 x
(properties)S 182 x(about)S 182 x(it.)S 3899 23384 XY(One)S 185 x(possib)S
-2 x(le)S 185 x(example)S 184 x(of)S 185 x(a)S 185 x(portable)S 184 x
(exception)S 185 x(package)S 184 x(for)S 186 x(the)S 185 x(C)S 184 x
(language)S 185 x(is)S 184 x(documented)S 184 x(in)S 3899 X 647 y(Reference)S
183 x([3].)S 3899 25526 XY F32(2.5.1)S 547 x(Requirements)S 182 x(for)S
183 x(Exception)S 182 x(Handling)S 3899 26522 XY F147(The)S 183 x(minimal)S
181 x(exception)S 182 x(handl)S -2 x(ing)S 183 x(needs)S 181 x(of)S
183 x(the)S 183 x(architecture)S 183 x(are)S 182 x(the)S 183 x(abili)S
-2 x(ty:)S 3899 X 897 y(\201)S 714 x(T)S -50 x(o)S 178 x F148(raise)S
178 x F147(a)S 177 x(particular)S 177 x(kind)S 176 x(of)S 178 x(exception)S
177 x(to)S 178 x(denote)S 177 x(that)S 177 x(a)S 178 x(particul)S -2 x
(ar)S 178 x(error)S 178 x(has)S 177 x(occurred)S 178 x(in)S 4945 X 647 y
(a)S 182 x(particular)S 182 x(stack)S 182 x(frame.)S 3899 X 897 y(\201)S
714 x(T)S -50 x(o)S 173 x(\(logically)S -62 x(,)S 175 x(at)S 172 x(least\))S
172 x(search)S 173 x(stack)S 172 x(frames)S 173 x(in)S 172 x(the)S 172 x
(thread)S 172 x(that)S 172 x(raised)S 172 x(the)S 172 x(exception)S
172 x(\(from)S 4945 X 647 y(the)S 183 x(most)S 182 x(recent)S 183 x
(to)S 183 x(oldest\))S 182 x(to)S 183 x(locate)S 182 x(a)S 182 x F148
(handler)S 183 x F147(for)S 183 x(that)S 183 x(kind)S 181 x(of)S 183 x
(exception.)S 3899 X 897 y(\201)S 714 x(For)S 194 x(such)S 193 x(a)S
192 x(handler)S 192 x(to)S 193 x(cause)S 193 x(an)S 192 x F148(unwind)S
194 x F147(\(or)S 193 x(\211naliz)S -2 x(ation\))S 193 x(of)S 194 x
(all)S 192 x(intervening)S 192 x(frames)S 194 x(from)S 4945 X 647 y
(the)S 183 x(stack)S 182 x(and)S 182 x(resume)S 182 x(execution)S 182 x
(at)S 183 x(a)S 182 x(program)S 183 x(location)S 182 x(desi)S -2 x(gnated)S
182 x(by)S 183 x(the)S 183 x(hand)S -2 x(ler)S -40 x(.)S 3899 X 897 y
(\201)S 714 x(For)S 159 x(exceptions)S 157 x(to)S 159 x(be)S 158 x(terminating\202the)S
157 x(architecture)S 159 x(uses)S 157 x(exceptions)S 157 x(only)S 158 x
(to)S 159 x(report)S 158 x(errors)S 4945 X 648 y(and)S 135 x(thus)S
135 x(does)S 135 x(not)S 135 x(require)S 135 x(continuable)S -181 y
F159(1)S 159 x 181 y F147(exceptions)S 135 x(\(on)S 136 x(the)S 135 x
(other)S 136 x(hand,)S 144 x(it)S 136 x(does)S 134 x(not)S 136 x(exclude)S
4945 X 647 y(the)S 183 x(poss)S -2 x(ibili)S -2 x(ty)S 184 x(of)S 183 x
(such)S 182 x(exceptions,)S 182 x(either\).)S 3899 34326 XY 6996 24 R
4106 34721 XY F163(1)S 225 x 140 y F159(Continuable)S 184 x(exceptions)S
184 x(result)S 184 x(in)S 184 x(execution)S 185 x(resuming)S 185 x(at)S
184 x(the)S 185 x(point)S 184 x(just)S 184 x(after)S 184 x(where)S 185 x
(they)S 185 x(were)S 184 x(raised,)S 196 x(unless)S 184 x(a)S 183 x
(handler)S 4497 X 498 y(intervenes.)S 259 x(That)S 160 x(kind)S 160 x
(of)S 160 x(exception)S 160 x(is)S 159 x(not)S 161 x(very)S 160 x(useful)S
160 x(for)S 160 x(indicating)S 159 x(an)S 160 x(error!)S 259 x(T)S -37 x
(erminating)S 160 x(exceptions)S 160 x(do)S 160 x(not)S 161 x(allow)S
159 x(such)S 4497 X 498 y(continuation.)S 22617 37573 XY F36(CMA)S 165 x
(Concepts)S 499 x(1)S -28 x(1)S
%%EndCustomColor: 0
17 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 12 18
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(The)S 194 x(architecture)S 194 x(requires)S 193 x
(that)S 193 x(if)S 194 x(an)S 193 x(exception)S 193 x(is)S 193 x(raised)S
193 x(by)S 193 x(a)S 193 x(CMA)S 194 x(operation,)S 195 x(the)S 194 x
(exception)S 3899 X 648 y(is)S 203 x(effectively)S 204 x(raised)S 203 x
(at)S 203 x(a)S 203 x(point)S 203 x(prior)S 203 x(to)S 204 x(the)S 203 x
(operation)S 202 x(having)S 203 x(started)S 203 x(\(that)S 204 x(is,)S
208 x(the)S 204 x(exception)S 3899 X 647 y(handl)S -2 x(er)S 200 x(is)S
199 x(assu)S -2 x(red)S 200 x(that)S 199 x(the)S 199 x(operation)S 198 x
(reporting)S 200 x(the)S 199 x(error)S 200 x(has)S 199 x F148(not)S
199 x F147(yet)S 200 x(been)S 198 x(performed,)S 204 x(and)S 3899 X
648 y(is)S 182 x(therefore)S 183 x(assured)S 182 x(that)S 182 x(it)S
182 x(need)S 182 x(not)S 183 x(try)S 183 x(to)S 183 x(undo)S 182 x(it\).)S
3899 7443 XY F32(2.5.2)S 547 x(Exceptions)S 182 x(De\211ned)S 181 x
(by)S 182 x(the)S 183 x(Architecture)S 3899 8440 XY F147(The)S 159 x
(exceptions)S 159 x(which)S 159 x(can)S 159 x(be)S 158 x(raised)S 158 x
(by)S 160 x(all)S 158 x(CMA)S 158 x(implementatio)S -2 x(ns)S 159 x
(are)S 159 x(documented)S 159 x(in)S 158 x(T)S -33 x(able)S 158 x(6)S
3899 X 647 y(in)S 186 x(Append)S -2 x(ix)S 187 x(B.)S 187 x(Some)S 187 x
(implementa)S -2 x(tions)S 186 x(may)S 187 x(also)S 186 x(raise)S 186 x
(additi)S -2 x(onal)S 186 x(exceptions;)S 189 x(these)S 186 x(must)S
187 x(be)S 3899 X 648 y(documented)S 182 x(in)S 182 x(App)S -2 x(endix)S
182 x(F)S -60 x(.)S 3899 11229 XY F32(2.5.3)S 547 x(The)S 182 x(cma_e_a)S
-2 x(lerted)S 183 x(Exception)S 3899 12225 XY F147(An)S 182 x(important)S
181 x(kind)S 181 x(of)S 183 x(exception)S 182 x(for)S 183 x(the)S 182 x
(architecture)S 182 x(is)S 182 x(the)S 182 x F149(cma_e_a)S -2 x(lerted)S
183 x F147(exception)S 182 x(which)S 3899 X 648 y(is)S 182 x(raised)S
181 x(in)S 182 x(a)S 183 x(thread)S 182 x(as)S 182 x(the)S 182 x(result)S
182 x(of)S 183 x(a)S 183 x(termination)S 181 x(request)S 183 x(\(`)S
-10 x(`Alert')S -11 x('\))S 183 x(from)S 184 x(another)S 182 x(thread.)S
3899 13869 XY(By)S 210 x(default,)S 217 x(this)S 209 x(exception)S 210 x
(is)S 210 x(only)S 210 x(raised)S 209 x(on)S 210 x(calls)S 209 x(to)S
210 x(`)S -10 x(`alertable')S -12 x(')S 210 x(operations.)S 326 x(However)S
-39 x(,)S 217 x(since)S 3899 X 648 y(termination)S 233 x(requests)S
234 x(are)S 235 x(initi)S -2 x(ated)S 234 x(asynchronously)S -62 x(,)S
248 x(provision)S 233 x(exists)S 234 x(to)S 234 x(allow)S 234 x(the)S
234 x(resulting)S 3899 X 647 y(exception)S 176 x(to)S 177 x(be)S 176 x
(raised)S 175 x(immediatel)S -2 x(y)S 177 x(upon)S 176 x(receipt)S 176 x
(of)S 177 x(the)S 176 x(alert.)S 242 x(See)S 176 x(Section)S 177 x(4.7)S
176 x(for)S 177 x(full)S 176 x(details)S 3899 X 648 y(on)S 182 x(alerts.)S
3899 17306 XY F28(2.6)S 599 x(Err)S -2 x(or)S 199 x(Checkin)S 2 x(g)S
3899 18303 XY F147(An)S 160 x(action)S 161 x(that)S 161 x(violates)S
160 x(some)S 161 x(CMA)S 161 x(rule)S 160 x(is)S 161 x(a)S 161 x(violation)S
160 x(of)S 161 x(the)S 161 x(architecture,)S 166 x(or)S -40 x(,)S 166 x
(more)S 161 x(simply)S -62 x(,)S 166 x(an)S 3899 X 647 y(error)S -40 x
(.)S 244 x(As)S 182 x(mentioned)S 182 x(in)S 182 x(Section)S 182 x(2.5,)S
183 x(CMA)S 182 x(services)S 182 x(report)S 183 x(errors)S 183 x(by)S
183 x(raising)S 181 x(exceptions.)S 3899 19947 XY(There)S 227 x(are)S
227 x(two)S 228 x(kinds)S 226 x(of)S 227 x(errors.)S 378 x(An)S 226 x
(action)S 227 x(is)S 226 x F148(ill)S 2 x(egal)S 227 x F147(if)S 228 x
(it)S 226 x(is)S 227 x(an)S 226 x(error)S 228 x(that)S 227 x(must)S
227 x(be)S 227 x(checked)S 3899 X 647 y(for)S 213 x(and)S 212 x(reported)S
213 x(by)S 212 x(all)S 212 x(implemen)S -2 x(tations.)S 334 x(An)S 212 x
(action)S 212 x(results)S 212 x(in)S 212 x F148(unpredictable)S 213 x
F147(behavior)S 212 x(if)S 213 x(it)S 3899 X 648 y(is)S 212 x(an)S 211 x
(error)S 213 x(that)S 213 x(may)S -61 x(,)S 220 x(but)S 212 x(need)S
211 x(not,)S 220 x(be)S 212 x(detected)S 212 x(by)S 212 x(an)S 212 x
(implementati)S -2 x(on.)S 333 x(The)S 213 x(unpredi)S -2 x(ctable)S
3899 X 647 y(behavior)S 223 x(resultin)S -2 x(g)S 224 x(from)S 225 x
(such)S 223 x(an)S 223 x(action)S 223 x(may)S 223 x(vary)S 224 x(between)S
223 x(implementation)S -2 x(s,)S 234 x(and)S 223 x(between)S 3899 X
648 y(versions)S 182 x(of)S 183 x(the)S 182 x(same)S 183 x(impl)S -2 x
(ementation.)S 3899 23533 XY(An)S 180 x(action)S 180 x(is)S 180 x F148
(legal)S 181 x F147(if)S 181 x(the)S 180 x(action)S 180 x(must)S 180 x
(result)S 181 x(in)S 179 x F148(corre)S 2 x(ct)S 180 x F147(and)S 180 x
F148(predictable)S 181 x F147(behavior)S 179 x(on)S 181 x(all)S 179 x
(imple-)S 3899 X 648 y(mentations.)S 3899 25177 XY(In)S 189 x(the)S
189 x(descriptions)S 188 x(of)S 189 x(CMA)S 189 x(services)S 189 x(that)S
189 x(follow)S -50 x(,)S 191 x(all)S 188 x(errors)S 190 x(result)S 189 x
(in)S 188 x F148(unpredictable)S 189 x F147(behavior)S -41 x(,)S 3899 X
647 y(unless)S 181 x(speci\211ed)S 181 x(otherwise.)S 3899 26821 XY
(T)S -39 x(wo)S 183 x(recommended)S 183 x(checks)S 182 x(are)S 183 x
(the)S 182 x(following:)S 3899 X 896 y(\201)S 714 x(Existence)S 182 x
(check\202does)S 182 x(the)S 183 x(hand)S -2 x(le)S 183 x(pas)S -2 x
(sed)S 182 x(in)S 182 x(refer)S 184 x(to)S 183 x(an)S 182 x(object)S
183 x(that)S 182 x(currently)S 183 x(exists?)S 4945 X 897 y(If)S 244 x
(this)S 243 x(check)S 243 x(fails,)S 258 x(the)S 244 x(exception)S 243 x
F149(cma_e)S -2 x(_existence)S 242 x F147(is)S 243 x(raised.)S 425 x
(This)S 243 x(check)S 244 x(is)S 242 x(strongly)S 4945 X 648 y(recommended)S
164 x(for)S 166 x(the)S 164 x(deletion)S 163 x(operation)S 164 x(\(where)S
165 x(the)S 165 x(cost)S 165 x(of)S 165 x(checking)S 164 x(is)S 164 x
(inconsequenti)S -2 x(al\).)S 3899 X 896 y(\201)S 714 x(Consis)S -2 x
(tency)S 183 x(check\202is)S 183 x(the)S 182 x(object)S 183 x(in)S 182 x
(a)S 182 x(reasonable)S 181 x(state)S 183 x(at)S 182 x(this)S 182 x
(point?)S 4945 X 897 y(If)S 205 x(this)S 203 x(check)S 205 x(fails,)S
209 x(the)S 204 x(exception)S 204 x F149(cma_e_in_use)S 203 x F147(is)S
204 x(raised)S -2 x(.)S 309 x(It)S 205 x(is)S 204 x(strongly)S 204 x
(recommended)S 4945 X 647 y(that)S 182 x(implementation)S -2 x(s)S 183 x
(check)S 183 x(at)S 182 x(object)S 183 x(deletion)S 181 x(that)S 183 x
(the)S 182 x(object)S 183 x(is)S 182 x(not)S 183 x(still)S 181 x(in)S
182 x(use.)S 3899 32798 XY(An)S 171 x(implementation)S 170 x(is)S 172 x
(encouraged)S 171 x(to)S 173 x(provide)S 171 x(a)S 172 x(debuggin)S
-2 x(g)S 173 x(mode)S 171 x(or)S 173 x(version)S 171 x(that)S 172 x
(performs)S 173 x(all)S 3899 X 648 y(checks.)S 3899 37373 XY F36(12)S
498 x(CMA)S 165 x(Concepts)S
%%EndCustomColor: 0
18 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 13 19
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
12318 3975 XY F153(IMPLEMENTOR'S)S 165 x(NOTE)S 4796 X 896 y(The)S 186 x
(checks)S 187 x(performed)S 186 x(by)S 187 x(the)S 187 x(implementati)S
2 x(on)S 187 x(and)S 188 x(when)S 187 x(they)S 187 x(are)S 187 x(performed)S
186 x(must)S 4796 X 598 y(be)S 165 x(documented)S 167 x(in)S 167 x(Appendix)S
168 x(F)S -56 x(.)S 3899 6964 XY F28(2.7)S 599 x(Notation)S 200 x(Used)S
199 x(for)S 200 x(Interfaces)S 3899 7960 XY F147(The)S 180 x(interface)S
181 x(to)S 180 x(each)S 180 x(CMA)S 180 x(operation)S 179 x(is)S 179 x
(illus)S -2 x(trated)S 180 x(in)S 180 x(both)S 180 x(Ada)S 179 x(and)S
179 x(C)S 180 x(langua)S -2 x(ge)S 181 x(notation)S 179 x(in)S 3899 X
647 y(this)S 200 x(document.)S 297 x(Section)S 201 x(E.1)S 200 x(provides)S
200 x(the)S 200 x(full)S 200 x(Ada)S 200 x(language)S 200 x(interface.)S
298 x(Section)S 200 x(E.2)S 201 x(provides)S 3899 X 648 y(the)S 182 x
(full)S 183 x(C)S 182 x(language)S 181 x(interface.)S 3899 10251 XY
(The)S 267 x(langua)S -2 x(ge)S 267 x(bindi)S -2 x(ngs)S 266 x(in)S
266 x(this)S 266 x(document)S 266 x(that)S 266 x(are)S 267 x(used)S
265 x(to)S 267 x(describe)S 266 x(the)S 266 x(CMA)S 266 x(operations)S
3899 X 648 y(are)S 204 x(constrained)S 204 x(with)S 204 x(a)S 204 x
(set)S 204 x(of)S 205 x(rules)S 204 x(in)S 204 x(order)S 205 x(to)S
204 x(illustrate)S 203 x(a)S 204 x(generic)S 205 x(interface)S 205 x
(that)S 204 x(is)S 204 x(largely)S 3899 X 647 y(indep)S -2 x(endent)S
225 x(of)S 227 x(the)S 226 x(capabi)S -2 x(lities)S 225 x(of)S 226 x
(any)S 226 x(language.)S 373 x(The)S 226 x(speci\211c)S 225 x(use)S
226 x(of)S 226 x(Ada)S 225 x(and)S 225 x(C)S 225 x(language)S 3899 X
648 y(syntax)S 219 x(is)S 219 x(intended)S 218 x(to)S 220 x(represent)S
219 x(a)S 219 x(simpl)S -2 x(e)S 220 x(metalanguage)S 218 x(that)S 220 x
(is)S 219 x(easi)S -2 x(ly)S 220 x(understood)S 218 x(by)S 220 x(most)S
3899 X 648 y(readers.)S 243 x(The)S 183 x(speci\211c)S 182 x(constraints)S
182 x(used)S 181 x(include:)S 3899 X 896 y(\201)S 714 x(Functions)S
230 x(are)S 230 x(avoided)S 228 x(except)S 230 x(for)S 231 x(those)S
230 x(that)S 230 x(return)S 230 x(boolean)S 229 x(or)S 230 x(integer)S
230 x(values.)S 385 x(\(Many)S 4945 X 648 y(implementa)S -2 x(tions)S
254 x(de\211ne)S 253 x(handl)S -2 x(es)S 254 x(as)S 253 x(small)S 253 x
(records,)S 272 x(and)S 253 x(many)S 254 x(languages)S 253 x(do)S 253 x
(not)S 254 x(allow)S 4945 X 647 y(records)S 183 x(\(or)S 183 x(structures\))S
183 x(to)S 183 x(be)S 182 x(returned)S 183 x(by)S 182 x(functions.\))S
3899 X 897 y(\201)S 714 x(Every)S 220 x(operation)S 219 x(speci\211ed)S
218 x(as)S 219 x(a)S 220 x(function)S 220 x(is)S 219 x(a)S 219 x(`)S
-10 x(`pure')S -10 x(')S 219 x(function\202that)S 220 x(is,)S 228 x
(it)S 220 x(does)S 219 x(not)S 220 x(have)S 4945 X 648 y(any)S 182 x
(output)S 182 x(parameters)S 182 x(or)S 183 x(side-effects.)S 3899 X
896 y(\201)S 714 x(The)S 163 x(direct)S 162 x(use)S 162 x(of)S 163 x
(pointer)S -41 x(,)S 167 x(address)S -2 x(,)S 167 x(or)S 163 x(other)S
163 x(machine-depend)S -2 x(ent)S 163 x(entities)S 161 x(is)S 162 x
(avoided.)S 236 x(\(The)S 4945 X 648 y(architecture)S 183 x(de\211nes)S
181 x(its)S 182 x(own)S 183 x(types)S 182 x(for)S 184 x(these)S 182 x
(entities.\))S 3899 X 896 y(\201)S 714 x(The)S 183 x(use)S 182 x(of)S
183 x(`)S -10 x(`optiona)S -2 x(l')S -10 x(')S 182 x(parameters)S 182 x
(is)S 182 x(avoided.)S 3899 20114 XY(Data)S 237 x(app)S -2 x(earing)S
237 x(in)S 237 x(the)S 237 x(interfaces)S 237 x(are)S 237 x(described)S
236 x(in)S 236 x(terms)S 237 x(of)S 238 x(programming)S 237 x(language)S
236 x F148(types)S F147(.)S 3899 X 648 y(There)S 183 x(are)S 183 x(two)S
183 x(basi)S -2 x(c)S 183 x(categories)S 183 x(of)S 183 x(types:)S 243 x
(private)S 182 x(and)S 182 x(environmental.)S 3899 21758 XY(A)S 220 x
(data)S 219 x(type)S 220 x(is)S 220 x(said)S 218 x(to)S 221 x(be)S 220 x
F148(private)S 220 x F147(if)S 221 x(its)S 219 x(internal)S 219 x(format)S
221 x(is)S 220 x(free)S 221 x(to)S 220 x(be)S 220 x(decided)S 219 x
(by)S 220 x(each)S 220 x(CMA)S 3899 X 648 y(implementa)S -2 x(tion)S
167 x(but)S 166 x(must)S 167 x(not)S 167 x(be)S 166 x(made)S 166 x(availab)S
-2 x(le)S 167 x(to)S 167 x(its)S 166 x(clients)S 166 x(\(to)S 167 x
(ensure)S 167 x(portabi)S -2 x(lity)S 167 x(of)S 167 x(client)S 3899 X
647 y(code\).)S 263 x(Clients)S 188 x(are)S 188 x(allowed)S 188 x(only)S
189 x(to)S 189 x(declare,)S 190 x(copy)S -61 x(,)S 191 x(and)S 188 x
(perform)S 190 x(equali)S -2 x(ty)S 190 x(tests)S 188 x(on)S 189 x(private)S
188 x(data)S 3899 X 648 y(types.)S 344 x(An)S 216 x(example)S 215 x
(of)S 217 x(a)S 216 x(private)S 216 x(data)S 215 x(type)S 216 x(is)S
215 x(the)S 217 x(detail)S -2 x(ed)S 216 x(format)S 217 x(of)S 217 x
(a)S 215 x(handle.)S 344 x(The)S 216 x(private)S 3899 X 647 y(types)S
182 x(are)S 183 x(listed)S 181 x(in)S 182 x(T)S -34 x(able)S 182 x(3)S
182 x(in)S 182 x(Append)S -2 x(ix)S 183 x(B.)S 3899 25345 XY(A)S 229 x
(data)S 228 x(type)S 229 x(is)S 228 x(said)S 228 x(to)S 229 x(be)S 228 x
F148(envir)S 2 x(onmental)S 229 x F147(if)S 229 x(the)S 229 x(data)S
228 x(type)S 229 x(is)S 228 x(expected)S 229 x(to)S 229 x(be)S 229 x
(de\211ned)S 228 x(by)S 229 x(the)S 3899 X 647 y(computing)S 200 x(environment.)S
299 x(These)S 201 x(types)S 200 x(are)S 201 x(not)S 201 x(private)S
200 x(to)S 201 x(the)S 201 x(CMA)S 200 x(implementation)S 199 x(because)S
3899 X 648 y(the)S 221 x(computing)S 220 x(environment)S 221 x(is)S
220 x(likel)S -2 x(y)S 221 x(to)S 221 x(de\211ne)S 220 x(a)S 221 x(rich)S
221 x(set)S 220 x(of)S 222 x(operation)S -2 x(s)S 221 x(on)S 221 x(these)S
220 x(types)S 220 x(and)S 3899 X 647 y(clients)S 140 x(may)S 141 x(legitimately)S
140 x(be)S 141 x(privy)S 141 x(to)S 141 x(their)S 141 x(internal)S 139 x
(formats.)S 231 x(If)S 141 x(some)S 141 x(CMA)S 141 x(environmental)S
140 x(type)S 3899 X 648 y(happ)S -2 x(ens)S 180 x(to)S 181 x(not)S 180 x
(be)S 180 x(provided)S 179 x(by)S 181 x(the)S 180 x(computing)S 180 x
(environment,)S 181 x(the)S 180 x(CMA)S 180 x(implementati)S -2 x(on)S
181 x(must)S 3899 X 648 y(provide)S 182 x(it.)S 247 x(An)S 182 x(example)S
183 x(of)S 184 x(an)S 183 x(environmental)S 182 x(data)S 183 x(type)S
183 x(is)S 183 x(the)S 183 x(data)S 183 x(format)S 184 x(used)S 182 x
(to)S 184 x(represent)S 3899 X 647 y(a)S 182 x(time)S 183 x(duration)S
-2 x(.)S 244 x(The)S 183 x(environmental)S 182 x(types)S 182 x(are)S
183 x(listed)S 181 x(in)S 182 x(T)S -34 x(able)S 182 x(4)S 182 x(in)S
182 x(Append)S -2 x(ix)S 183 x(B.)S 3899 30226 XY(The)S 157 x(language)S
156 x(bind)S -2 x(ing)S 157 x(illu)S -2 x(strations)S 156 x(within)S
156 x(the)S 157 x(text)S 157 x(of)S 158 x(the)S 156 x(architecture)S
157 x(do)S 157 x(not)S 156 x(de\211ne)S 156 x(all)S 156 x(types)S 3899 X
648 y(which)S 155 x(are)S 154 x(relevant)S 155 x(to)S 155 x(the)S 155 x
(CMA)S 154 x(service)S 155 x(being)S 154 x(described.)S 233 x(Those)S
155 x(types)S 155 x(which)S 154 x(are)S 155 x(omitted)S 155 x(from)S
3899 X 648 y(any)S 179 x(illu)S -2 x(stration)S 179 x(can)S 179 x(be)S
179 x(found)S 179 x(in)S 178 x(textual)S 179 x(form)S 180 x(in)S 179 x
(T)S -34 x(able)S 179 x(3)S 178 x(or)S 180 x(T)S -34 x(able)S 179 x
(4)S 179 x(\(both)S 179 x(in)S 178 x(Append)S -2 x(ix)S 180 x(B\);)S
179 x(or)S 3899 X 647 y(in)S 182 x(the)S 182 x(appropriate)S 181 x(language)S
182 x(bind)S -2 x(ing)S 183 x(section)S 182 x(of)S 183 x(Appen)S -2 x
(dix)S 182 x(E.)S 22590 37373 XY F36(CMA)S 165 x(Concepts)S 499 x(13)S
%%EndCustomColor: 0
19 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Bold
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 14 20
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4032 XY F28(2.8)S 599 x(Language)S 201 x(T)S -44 x(ailoring)S 3899 5028 XY
F147(The)S 245 x(actual)S 244 x(langua)S -2 x(ge)S 245 x(bindi)S -2 x
(ngs)S 245 x(for)S 245 x(each)S 245 x(langua)S -2 x(ge)S 245 x(should)S
243 x(de\211ne)S 244 x(the)S 245 x(CMA)S 244 x(interface)S 244 x(in)S
245 x(the)S 3899 X 647 y(manner)S 163 x(most)S 163 x(natural)S 162 x
(for)S 164 x(the)S 163 x(language.)S 237 x(This)S 162 x(includes)S 162 x
(use)S 163 x(of)S 163 x(functions)S 163 x(and)S 162 x(optional)S 162 x
(parame-)S 3899 X 648 y(ters.)S 265 x(The)S 190 x(bindi)S -2 x(ngs)S
190 x(will)S 189 x(use)S 189 x(language-depe)S -2 x(ndent)S 189 x(\(but)S
190 x(not)S 190 x(machine-depen)S -2 x(dent\))S 190 x(notations)S 189 x
(for)S 3899 X 648 y(pointers)S 182 x(and)S 181 x(addresse)S -2 x(s.)S
3899 7967 XY(Languages)S 219 x(\(such)S 220 x(as)S 219 x(C\))S 219 x
(that)S 220 x(do)S 219 x(not)S 219 x(provide)S 219 x(support)S 219 x
(for)S 220 x(`)S -10 x(`private)S 219 x(types')S -11 x(')S 220 x(require)S
219 x(alterations)S 3899 X 647 y(to)S 193 x(the)S 193 x(de\211niti)S
-2 x(on)S 193 x(\211le)S 192 x(for)S 194 x(each)S 193 x(platform.)S
274 x(The)S 194 x(`)S -10 x(`ide)S -2 x(al')S -10 x(')S 192 x(language)S
192 x(bindin)S -2 x(g)S 194 x(provided)S 191 x(by)S 193 x(the)S 193 x
(CMA)S 3899 X 648 y(architecture)S 155 x(for)S 156 x(such)S 154 x(languages)S
154 x(must)S 155 x(therefore)S 156 x(be)S 154 x(treated)S 155 x(as)S
154 x(a)S 155 x(generic)S 155 x(template)S 154 x(which)S 155 x(must)S
3899 X 648 y(be)S 182 x(customized)S 181 x(for)S 184 x(each)S 182 x
(platform.)S 3899 10906 XY(Whil)S -2 x(e)S 134 x(gratuitous)S 134 x
(differences)S 134 x(between)S 134 x(language)S 133 x(bindi)S -2 x(ngs)S
134 x(should)S 132 x(be)S 134 x(avoided,)S 143 x(a)S 134 x(given)S 133 x
(language)S 3899 X 647 y(may)S 201 x(not)S 202 x(be)S 201 x(able)S 200 x
(to)S 201 x(support)S 201 x(the)S 201 x(CMA)S 201 x(interfaces)S 201 x
(exactly)S 202 x(as)S 200 x(publis)S -2 x(hed)S 201 x(in)S 201 x(this)S
200 x(document.)S 300 x(As)S 3899 X 648 y(each)S 152 x(langua)S -2 x
(ge-speci\211c)S 152 x(interface)S 153 x(module)S 151 x(is)S 151 x(written,)S
159 x(the)S 152 x(following)S 152 x(sorts)S 152 x(of)S 152 x(deviations)S
151 x(from)S 153 x(the)S 3899 X 648 y(interfaces)S 182 x(in)S 182 x
(this)S 182 x(document)S 183 x(are)S 182 x(permitted:)S 3899 X 896 y
(\201)S 714 x(Shortening)S 172 x(and)S 172 x(possib)S -2 x(ly)S 173 x
(renaming)S 172 x(of)S 173 x(identi)S -2 x(\211ers,)S 175 x(when)S 173 x
(necessary)S 172 x(to)S 173 x(avoid)S 171 x(con\212icts)S 173 x(with)S
4945 X 648 y(language)S 182 x(rules)S 182 x(for)S 183 x(identi\211)S
-2 x(ers,)S 183 x(or)S 183 x(simply)S 182 x(to)S 182 x(help)S 182 x
(ensure)S 182 x(wider)S 182 x(portability)S -62 x(.)S 3899 X 896 y(\201)S
714 x(Specifying)S 159 x(the)S 159 x(exact)S 160 x(parameter)S 159 x
(passi)S -2 x(ng)S 160 x(mechanism)S 158 x(\(e.g.)S 237 x(reference,)S
165 x(value,)S 164 x(or)S 160 x(descriptor\))S 4945 X 648 y(for)S 183 x
(each)S 183 x(parameter)S 182 x(to)S 183 x(a)S 182 x(CMA)S 182 x(operation.)S
3899 X 897 y(\201)S 714 x(Providing)S 185 x(built-in)S 184 x(supp)S
-2 x(ort)S 186 x(or)S 185 x(`)S -10 x(`syntactic)S 185 x(sugar')S -10 x
(')S 185 x(for)S 186 x(certain)S 185 x(heavily)S 184 x(used)S 184 x
(operations.)S 250 x(See)S 4945 X 647 y(Chapter)S 182 x(5)S 182 x(for)S
183 x(suggested)S 182 x(features.)S 3899 18976 XY F28(2.9)S 599 x(Impleme)S
2 x(ntation)S 200 x(T)S -44 x(ailoring)S 3899 19972 XY F147(Whil)S -2 x
(e)S 232 x(the)S 232 x(architecture')S -21 x(s)S 232 x(primary)S 231 x
(requirement)S 232 x(is)S 231 x(to)S 231 x(provide)S 231 x(appl)S -2 x
(ication)S 231 x(portabili)S -2 x(ty)S -60 x(,)S 244 x(it)S 232 x(als)S
-2 x(o)S 3899 X 647 y(recognizes)S 130 x(that)S 129 x(an)S 130 x(implementati)S
-2 x(on)S 130 x(may)S 131 x(legitimatel)S -2 x(y)S 131 x(need)S 129 x
(to)S 131 x(associa)S -2 x(te)S 131 x(specia)S -2 x(l)S 130 x(attributes)S
130 x(with)S 3899 X 648 y(CMA)S 184 x(objects,)S 186 x(or)S 186 x(may)S
185 x(need)S 184 x(to)S 185 x(de\211ne)S 184 x(addi)S -2 x(tional)S
184 x(operations)S 184 x(on)S 185 x(CMA)S 184 x(objects.)S 251 x(CMA)S
185 x(interfaces)S 3899 X 648 y(supp)S -2 x(ort)S 183 x(such)S 183 x
(tailorin)S -2 x(g.)S 3899 22911 XY(First,)S 157 x(all)S 149 x(CMA)S
150 x(object)S 150 x(creation)S 150 x(operations)S 149 x(accept)S 150 x
(an)S 150 x(optiona)S -2 x(l)S 150 x(attributes)S 149 x(object.)S 234 x
(An)S 149 x(implemen-)S 3899 X 647 y(tation)S 182 x(can)S 182 x(provide)S
182 x(non-portable)S 182 x(operation)S -2 x(s)S 183 x(that)S 182 x(modify)S
183 x(the)S 182 x(attributes)S 182 x(object.)S 3899 24555 XY(Second,)S
255 x(an)S 240 x(implementati)S -2 x(on)S 241 x(is)S 240 x(all)S -2 x
(owed)S 241 x(to)S 240 x(provide)S 240 x(addi)S -2 x(tional)S 240 x
(operations)S 239 x(for)S 241 x F148(any)S 240 x F147(object.)S 418 x
(If)S 3899 X 647 y(such)S 182 x(operations)S 181 x(have)S 183 x(the)S
182 x(pre\211x)S 183 x(`)S -10 x(`cma')S -11 x(',)S 183 x(they)S 183 x
(must)S 182 x(also)S 182 x(have)S 182 x(the)S 183 x(suf\211x)S 183 x
(`)S -11 x(`_np')S -11 x(')S 183 x(\(non-portable\).)S 12318 26149 XY
F153(IMPLEMENTOR'S)S 165 x(NOTE)S 4796 27942 XY F36(1.)S 631 x F153
(Examples)S 218 x(of)S 218 x(non-porta)S 2 x(ble)S 217 x(attributes)S
219 x(that)S 218 x(these)S 219 x(mechanisms)S 218 x(can)S 218 x(support)S
219 x(are:)S 5842 X 598 y(processor)S 226 x(af\211nity)S -54 x(,)S 241 x
(addit)S 2 x(ional)S 227 x(kinds)S 227 x(of)S 226 x(priority)S -54 x
(,)S 241 x(access)S 227 x(control)S 227 x(lists)S 227 x(and)S 227 x
(other)S 5842 X 597 y(system-dependent)S 148 x(thread)S 147 x(attributes,)S
152 x(alternat)S 2 x(e)S 146 x(object)S 148 x(alloca)S 2 x(tion)S 148 x
(methods,)S 152 x(alter-)S 5842 X 598 y(nate)S 184 x(spin)S 184 x(counts)S
184 x(for)S 183 x(mutexes,)S 188 x(ability)S 185 x(to)S 184 x(enable)S
184 x(event)S 183 x(logg)S 2 x(ing)S 184 x(for)S 183 x(a)S 183 x(class)S
184 x(of)S 184 x(ob-)S 5842 X 598 y(jects,)S 167 x(etc.)S 4796 X 897 y
F36(2.)S 631 x F153(All)S 157 x(operations)S 158 x(having)S 158 x(the)S
156 x(`)S -8 x(`cma')S -9 x(')S 156 x(pre\211x)S 157 x(must)S 156 x
(be)S 156 x(registered)S 157 x(with)S 157 x(the)S 156 x(CMA)S 156 x
(Archi-)S 5842 X 597 y(tecture)S 166 x(Review)S 166 x(Board.)S 5842 X
897 y(The)S 130 x(Architecture)S 132 x(Review)S 131 x(Board)S 131 x
(will)S 132 x(quickly)S 132 x(decide)S 132 x(whether)S 131 x(or)S 131 x
(not)S 132 x(the)S 131 x(portable)S 5842 X 598 y(part)S 162 x(of)S 163 x
(the)S 163 x(architecture)S 162 x(shoul)S 2 x(d)S 162 x(be)S 162 x(extended)S
164 x(to)S 163 x(include)S 163 x(the)S 163 x(proposed)S 163 x(new)S
163 x(oper-)S 5842 X 598 y(ation.)S 258 x(In)S 179 x(either)S 178 x
(case,)S 181 x(it)S 179 x(will)S 178 x(decide)S 179 x(the)S 178 x(name)S
178 x(that)S 179 x(the)S 178 x(implementatio)S 2 x(n)S 178 x(will)S
179 x(use)S 5842 X 597 y(for)S 151 x(the)S 153 x(operation.)S 219 x
(All)S 152 x(non-po)S 2 x(rtable)S 152 x(operation)S 2 x(s)S 152 x(provided)S
153 x(by)S 152 x(the)S 153 x(implementatio)S 2 x(n)S 5842 X 598 y(must)S
166 x(be)S 166 x(listed)S 167 x(in)S 166 x(Appendi)S 2 x(x)S 166 x(F)S
-56 x(.)S 3899 37373 XY F36(14)S 498 x(CMA)S 165 x(Concepts)S
%%EndCustomColor: 0
20 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 15 21
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4013 XY F32(2.9.1)S 547 x(Mapping)S 183 x(Objects)S 182 x(onto)S
183 x(Operating)S 182 x(System)S 183 x(Entit)S 2 x(ies)S 3899 5009 XY
F147(CMA)S 177 x(objects)S 177 x(can)S 177 x(be)S 177 x(mapp)S -2 x
(ed)S 177 x(onto)S 177 x(a)S 177 x(number)S 177 x(of)S 178 x(different)S
177 x(entities)S 176 x(provided)S 176 x(by)S 177 x(the)S 178 x(underlyi)S
-2 x(ng)S 3899 X 647 y(hardware)S 153 x(or)S 153 x(the)S 154 x(operatin)S
-2 x(g)S 154 x(system.)S 234 x(Portable)S 153 x(software)S 154 x(must)S
153 x(not)S 153 x(depend)S 152 x(on)S 153 x(how)S 153 x(this)S 153 x
(mappi)S -2 x(ng)S 3899 X 648 y(is)S 134 x(done,)S 144 x(and)S 133 x
(must)S 135 x(assu)S -2 x(me)S 135 x(that)S 135 x(the)S 134 x(mappi)S
-2 x(ng)S 135 x(could)S 134 x(change)S 134 x(in)S 134 x(a)S 135 x(future)S
135 x(release.)S 227 x(For)S 135 x(example,)S 144 x(it)S 3899 X 648 y
(is)S 174 x(important)S 173 x(that)S 174 x(appli)S -2 x(cations)S 174 x
(not)S 174 x(assume)S 173 x(a)S 174 x(correspondence)S 174 x(between)S
174 x(a)S 174 x(CMA)S 174 x(thread)S 174 x(and)S 173 x(an)S 3899 X 647 y
(operating)S 182 x(system)S 182 x(entity)S 183 x(\(uniprocessor)S 182 x
(implementa)S -2 x(tions)S 182 x(of)S 183 x(the)S 183 x(architecture)S
183 x(are)S 182 x(permitted\).)S 22590 37373 XY F36(CMA)S 165 x(Concepts)S
499 x(15)S
%%EndCustomColor: 0
21 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%PageCustomColors: 0
%
%%Page: 17 22
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 12890 6666 XY F20(CHAPTER)S 500 x(3)S 11163 8161 XY F24(CMA)S 303 x
(LIBRAR)S -27 x(Y)S 305 x(SER)S -13 x(VICES)S 3899 10153 XY F147(The)S
215 x(CMA)S 214 x(Library)S 215 x(Services)S 215 x(provide)S 214 x(higher)S
214 x(level)S 215 x(objects.)S 340 x(These)S 214 x(are)S 215 x(meant)S
215 x(to)S 214 x(solve)S 215 x(certain)S 3899 X 648 y(recurring)S 254 x
(multithread)S -2 x(ing)S 253 x(problems)S 252 x(simply)S 252 x(and)S
253 x(ef\211ciently)S -61 x(.)S 455 x(The)S 254 x(objects)S 253 x(and)S
252 x(operations)S 252 x(of)S 3899 X 647 y(the)S 217 x(CMA)S 216 x(Library)S
217 x(Services)S 218 x(will)S 216 x(be)S 216 x(implemented)S 216 x(on)S
216 x(all)S 216 x(platforms)S 217 x(where)S 217 x(the)S 217 x(CMA)S
216 x(`)S -10 x(`core')S -10 x(')S 217 x(is)S 3899 X 648 y(supp)S -2 x
(orted.)S 3899 13092 XY(Currently)S -61 x(,)S 183 x(the)S 182 x(following)S
183 x(CMA)S 182 x(Library)S 183 x(Services)S 182 x(are)S 183 x(implemented)S
-2 x(:)S 3899 X 897 y(\201)S 714 x(Library)S 183 x(attributes)S 182 x
(objects)S 4945 X 896 y(\201)S 714 x F149(cma_lib_attr_create)S F147
(:)S 243 x(Create)S 182 x(a)S 183 x(lib)S -2 x(rary)S 184 x(attributes)S
181 x(object.)S 4945 X 897 y(\201)S 714 x F149(cma_lib_attr_delete)S
F147(:)S 243 x(Delete)S 183 x(a)S 182 x(library)S 182 x(attributes)S
182 x(object.)S 3899 X 897 y(\201)S 714 x(Atomic)S 182 x(queues)S 4945 X
896 y(\201)S 714 x F149(cma_lib_queue_c)S -2 x(reate)S F147(:)S 244 x
(Create)S 182 x(an)S 182 x(atomic)S 183 x(queue.)S 4945 X 897 y(\201)S
714 x F149(cma_lib_queue_del)S -2 x(ete)S F147(:)S 244 x(Delete)S 182 x
(an)S 182 x(atomic)S 183 x(queue.)S 4945 X 897 y(\201)S 714 x F149(cma_lib_queue_deque)S
-2 x(ue)S F147(:)S 237 x(Remove)S 168 x(the)S 169 x(\211rst)S 168 x
(element)S 168 x(from)S 169 x(an)S 168 x(atomic)S 168 x(queue,)S 171 x
(block-)S 5991 X 647 y(ing)S 182 x(if)S 183 x(queue)S 182 x(is)S 182 x
(empty)S -61 x(.)S 4945 X 897 y(\201)S 714 x F149(cma_lib_queue_e)S
-2 x(nqueue)S F147(:)S 219 x(Insert)S 131 x(an)S 131 x(element)S 132 x
(at)S 131 x(the)S 132 x(end)S 131 x(of)S 132 x(the)S 132 x(atomic)S
131 x(queue,)S 142 x(block-)S 5991 X 647 y(ing)S 182 x(if)S 183 x(queue)S
182 x(is)S 182 x(full.)S 4945 X 897 y(\201)S 714 x F149(cma_lib_queue_try_enqueue_i)S
-2 x(nt)S F147(:)S 233 x(Attempt)S 158 x(to)S 159 x(insert)S 158 x(an)S
157 x(element)S 158 x(at)S 159 x(the)S 158 x(end)S 158 x(of)S 159 x
(the)S 5991 X 648 y(atomic)S 259 x(queue)S 258 x(from)S 260 x(interrupt)S
259 x(level,)S 278 x(without)S 259 x(blocking,)S 278 x(returning)S 259 x
(a)S 259 x(boolea)S -2 x(n)S 259 x(status)S 5991 X 647 y(code.)S 4945 X
897 y(\201)S 714 x F149(cma_lib_queue_re)S -2 x(queue)S F147(:)S 413 x
(Insert)S 266 x(an)S 267 x(element)S 266 x(at)S 267 x(the)S 267 x(front)S
267 x(of)S 267 x(the)S 267 x(atomic)S 267 x(queue,)S 5991 X 647 y(blocking)S
182 x(if)S 182 x(queue)S 182 x(is)S 182 x(full.)S 4945 X 897 y(\201)S
714 x F149(cma_lib_queue_try_dequeue)S F147(:)S 401 x(Attempt)S 262 x
(to)S 262 x(remove)S 262 x(an)S 262 x(element)S 261 x(from)S 263 x(the)S
262 x(atomic)S 5991 X 648 y(queue)S 182 x(without)S 182 x(blocking,)S
182 x(returning)S 183 x(a)S 182 x(boolean)S 182 x(status)S 181 x(code.)S
4945 X 896 y(\201)S 714 x F149(cma_lib_queue_try_enqueue)S F147(:)S
431 x(Attempt)S 277 x(to)S 277 x(insert)S 277 x(an)S 276 x(element)S
277 x(at)S 276 x(the)S 277 x(end)S 277 x(of)S 277 x(an)S 5991 X 648 y
(atomic)S 182 x(queue)S 182 x(without)S 183 x(blocking,)S 182 x(returning)S
182 x(a)S 183 x(boolean)S 181 x(status)S 182 x(code.)S 4945 X 896 y
(\201)S 714 x F149(cma_lib_queue_try_requeue)S F147(:)S 389 x(Attempt)S
255 x(to)S 256 x(insert)S 256 x(an)S 255 x(element)S 255 x(at)S 256 x
(the)S 255 x(front)S 257 x(of)S 256 x(an)S 5991 X 648 y(atomic)S 182 x
(queue)S 182 x(without)S 183 x(blocking,)S 182 x(returning)S 182 x(a)S
183 x(boolean)S 181 x(status)S 182 x(code.)S 4945 X 897 y(\201)S 714 x
F149(cma_lib_attr_get_queuesize)S F147(:)S 239 x(Determine)S 177 x(the)S
176 x(number)S 175 x(of)S 177 x(elements)S 175 x(availab)S -2 x(le)S
176 x(on)S 176 x(an)S 5991 X 647 y(atomic)S 182 x(queue)S 182 x(creating)S
183 x(using)S 182 x(the)S 182 x(speci\211ed)S 181 x(library)S 182 x
(attributes)S 182 x(object.)S 4945 X 897 y(\201)S 714 x F149(cma_lib_attr_set_queuesize)S
F147(:)S 239 x(Set)S 177 x(the)S 176 x(maximum)S 176 x(number)S 175 x
(of)S 177 x(elements)S 175 x(availa)S -2 x(ble)S 176 x(on)S 5991 X 647 y
(an)S 182 x(atomic)S 183 x(queue)S 181 x(creating)S 183 x(using)S 182 x
(the)S 182 x(speci\211ed)S 181 x(library)S 182 x(attributes)S 182 x
(object.)S 3899 34113 XY(At)S 270 x(this)S 269 x(time,)S 292 x(the)S
270 x(following)S 270 x(are)S 270 x(consid)S -2 x(ered)S 270 x(potential)S
269 x(candid)S -2 x(ates)S 270 x(for)S 270 x(future)S 271 x(CMA)S 269 x
(Library)S 3899 X 648 y(Services:)S 3899 X 896 y(\201)S 714 x(Thread)S
182 x(hierarchies)S 20955 37373 XY F36(CMA)S 165 x(Lib)S 2 x(rary)S
165 x(Services)S 499 x(17)S
%%EndCustomColor: 0
22 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 18 23
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3985 XY F147(\201)S 714 x(Barriers)S 3899 X 897 y(\201)S 714 x
(Readers/writers)S 182 x(locks)S 3899 X 897 y(\201)S 714 x(Compute)S
182 x(servers)S 183 x(with)S 182 x(associated)S 181 x(digraph)S 181 x
(of)S 183 x(work)S 183 x(items)S 3899 7273 XY F28(3.1)S 599 x(CMA)S
198 x(Library)S 200 x(Attributes)S 199 x(Objec)S 2 x(ts)S 3899 8269 XY
F32(3.1.1)S 547 x F33(cma_lib_attr_create)S 3899 9266 XY F147(An)S 178 x
(attributes)S 178 x(object)S 178 x(can)S 179 x(be)S 178 x(created)S
179 x(by)S 178 x(calling)S 177 x(the)S 179 x(procedure)S 178 x(that)S
179 x(has)S 177 x(the)S 179 x(following)S 178 x(declara-)S 3899 X 647 y
(tion:)S -101 x 10959 Y F98(procedure)S 269 x(CMA_LIB_ATTR_CREATE)S
269 x(\()S 8173 X 498 y(NEW_ATT)S 269 x(:)S 269 x(out)S 269 x(CMA_LIB_T_ATTR;)S
8173 X 499 y(ATT)S 10325 X(:)S 269 x(in)S 538 x(CMA_LIB_T_ATTR\);)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lib_attr_create)S 269 x(\()S 6021 X
498 y(cma_lib_t_attr)S 11401 X(*new_att,)S 6021 X 498 y(cma_lib_t_attr)S
11401 X(*att\))S 3899 16040 XY F147(Parameters:)S 3899 X 897 y F38(new_att)S
8282 X(A)S 150 x(variable)S 150 x(to)S 149 x(receive)S 151 x(a)S 149 x
(handle)S 151 x(for)S 149 x(the)S 150 x(new)S 149 x(attributes)S 150 x
(object.)S 3899 X 697 y(att)S 8282 X(An)S 172 x(attributes)S 172 x(object,)S
176 x(or)S 172 x F148(cma_c_null)S F38(.)S 266 x(This)S 171 x(param)S
2 x(eter)S 172 x(should)S 172 x(have)S 173 x(a)S 171 x(value)S 172 x
(other)S 172 x(than)S 172 x(cma_)S 8282 X 548 y(c_null)S 192 x(only)S
192 x(if)S 191 x(the)S 192 x(attributes)S 191 x(object)S 192 x(to)S
191 x(be)S 193 x(created)S 192 x(should)S 193 x(itself)S 190 x(have)S
193 x(some)S 192 x(special)S 192 x(attributes\202)S 8282 X 548 y(no)S
171 x(such)S 171 x(special)S 171 x(attributes)S 170 x(are)S 171 x(de\211ned)S
171 x(by)S 171 x(the)S 170 x(CMA)S 171 x(architecture,)S 176 x(but)S
170 x(may)S 171 x(be)S 171 x(de\211ned)S 172 x(by)S 170 x(some)S 8282 X
548 y(implementation.)S 3899 20274 XY 23316 48 R 3899 20872 XY(Error)S
10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X
299 y 23316 48 R 3899 21868 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 24409 XY
F147(This)S 225 x(operation)S 224 x(creates)S 225 x(an)S 224 x(attributes)S
225 x(object,)S 236 x(which)S 225 x(can)S 225 x(be)S 224 x(used)S 225 x
(when)S 225 x(creating)S 225 x(other)S 225 x(CMA)S 3899 X 647 y(Library)S
183 x(Services)S 183 x(objects.)S 3899 26053 XY(The)S 196 x(individ)S
-2 x(ual)S 195 x(attributes)S 196 x(\(internal)S 195 x(\211elds\))S
195 x(of)S 197 x(the)S 196 x(attributes)S 195 x(object)S 197 x(are)S
196 x(set)S 196 x(to)S 196 x(default)S 195 x(values.)S 3899 X 647 y
(Some)S 202 x(default)S 202 x(values)S 201 x(are)S 202 x(chosen)S 202 x
(by)S 202 x(the)S 202 x(CMA)S 202 x(architecture,)S 208 x(others)S 202 x
(are)S 202 x(chosen)S 202 x(by)S 202 x(the)S 202 x(imple-)S 3899 X 648 y
(mentation.)S 444 x(If)S 251 x(default)S 248 x(values)S 249 x(are)S
250 x(not)S 250 x(adeq)S -2 x(uate)S 250 x(for)S 250 x(the)S 250 x(appl)S
-2 x(ication,)S 266 x(then)S 250 x(that)S 249 x(appl)S -2 x(ication)S
3899 X 647 y(must)S 249 x(explicitl)S -2 x(y)S 250 x(specify)S 249 x
(the)S 249 x(values)S 248 x(it)S 249 x(actually)S 248 x(requires)S 249 x
(by)S 249 x(calling)S 248 x(the)S 249 x(appropri)S -2 x(ate)S 249 x
(`)S -10 x(`set)S 249 x(at-)S 3899 X 648 y(tributes')S -11 x(')S 200 x
(operations.)S 295 x(The)S 200 x(operations)S 199 x(appl)S -2 x(ying)S
200 x(to)S 200 x(a)S 200 x(particular)S 199 x(CMA)S 200 x(Library)S
200 x(Services)S 200 x(object)S 3899 X 648 y(are)S 182 x(documented)S
182 x(under)S 182 x(the)S 183 x(section)S 182 x(for)S 183 x(that)S 183 x
(object.)S 3899 30287 XY(Whenever)S 207 x(an)S 207 x(attributes)S 207 x
(object)S 207 x(is)S 207 x(used)S 207 x(to)S 208 x(create)S 207 x(another)S
208 x(CMA)S 207 x(Library)S 207 x(Services)S 208 x(object,)S 215 x(the)S
3899 X 647 y(values)S 125 x(of)S 126 x(the)S 125 x(individ)S -2 x(ual)S
125 x(attributes)S 125 x(determine)S 125 x(the)S 126 x(characteristics)S
125 x(of)S 126 x(the)S 125 x(new)S 126 x(object.)S 225 x(Attributes)S
3899 X 648 y(objects)S 167 x(act)S 167 x(like)S 166 x(add)S -2 x(itional)S
166 x(parameters)S 166 x(to)S 167 x(object)S 167 x(creation,)S 170 x
(and)S 166 x(changing)S 166 x(individ)S -2 x(ual)S 166 x(attributes)S
3899 X 648 y(does)S 186 x(not)S 187 x(affect)S 188 x(any)S 187 x(objects)S
187 x(that)S 187 x(were)S 187 x(previously)S 186 x(created)S 187 x(using)S
186 x(the)S 187 x(attributes)S 186 x(object.)S 257 x(\(There)S 3899 X
647 y(is)S 182 x(a)S 182 x(potential)S 181 x(performance)S 183 x(implicati)S
-2 x(on,)S 183 x(which)S 183 x(is)S 181 x(discussed)S 181 x(below\).)S
3899 33873 XY(An)S 127 x(attributes)S 128 x(object)S 128 x(can)S 128 x
(be)S 128 x(deleted)S 127 x(using)S 127 x F148(cma_lib_attr_delete)S
129 x F147(as)S 128 x(soon)S 128 x(as)S 127 x(it)S 128 x(is)S 128 x
(no)S 128 x(longer)S 128 x(needed)S 3899 X 648 y(to)S 183 x(create)S
183 x(objects.)S 3899 37373 XY F36(18)S 498 x(CMA)S 165 x(Library)S
167 x(Services)S
%%EndCustomColor: 0
23 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica-BoldOblique Courier Helvetica
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 19 24
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F147(The)S 210 x(architecture)S 211 x(requires)S 209 x
(that)S 210 x(any)S 209 x(object)S 211 x(created)S 210 x(by)S 210 x
(specifying)S 209 x(default)S 209 x(attributes)S 210 x(\(that)S 210 x
(is,)S 3899 X 648 y(by)S 170 x(specifying)S 170 x(an)S 170 x(attributes)S
170 x(object)S 171 x(to)S 170 x(which)S 171 x(no)S 170 x(attribute)S
170 x(set)S 170 x(operations)S 170 x(have)S 170 x(been)S 170 x(app)S
-2 x(lied\))S 170 x(is)S 3899 X 647 y(identica)S -2 x(l)S 213 x(to)S
213 x(an)S 212 x(object)S 213 x(created)S 213 x(by)S 212 x(specifying)S
213 x F148(cma_c_null)S 213 x F147(for)S 213 x(the)S 213 x F148(att)S
212 x F147(parameter)S 213 x(to)S 213 x(the)S 212 x(object)S 3899 X
648 y(creation)S 182 x(operation.)S 3899 6945 XY(Every)S 163 x(impl)S
-2 x(ementation)S 162 x(must)S 162 x(allow)S 161 x(any)S 162 x(CMA)S
162 x(object)S 163 x(to)S 162 x(be)S 162 x(created)S 162 x(using)S 162 x
(default)S 161 x(attributes,)S 166 x(or)S 3899 X 648 y(by)S 193 x(specifying)S
193 x(the)S 194 x(value)S 193 x F148(cma_c_null)S 194 x F147(for)S 195 x
(the)S 193 x(creation)S 193 x(attributes.)S 276 x(That)S 194 x(is,)S
196 x(no)S 193 x(implementation)S 3899 X 647 y(can)S 182 x(force)S 184 x
(an)S 182 x(appl)S -2 x(ication)S 182 x(to)S 183 x(explicitl)S -2 x
(y)S 183 x(set)S 183 x(any)S 182 x(attribute.)S 14771 9187 XY F153(NOTE)S
4796 10980 XY F36(1.)S 631 x F153(The)S 212 x(default)S 214 x(value)S
213 x(used)S 213 x(when)S 213 x(an)S 213 x(appl)S 2 x(ication)S 214 x
(fails)S 213 x(to)S 213 x(specify)S 214 x(an)S 213 x(indivi)S 2 x(dual)S
213 x(at-)S 5842 X 598 y(tribute)S 180 x(valu)S 2 x(e)S 180 x(depends)S
182 x(on)S 181 x(the)S 181 x(de\211nitio)S 2 x(n)S 180 x(of)S 181 x
(that)S 182 x(attribute.)S 266 x(For)S 180 x(some)S 181 x(attributes,)S
5842 X 598 y(the)S 135 x(CMA)S 133 x(architecture)S 135 x(de\211nes)S
136 x(the)S 135 x(default)S 135 x(valu)S 2 x(e)S 134 x(to)S 135 x(be)S
135 x(used.)S 212 x(For)S 134 x(other)S 135 x(attributes,)S 5842 X 597 y
(and)S 131 x(certainly)S 133 x(for)S 131 x(implementation)S 133 x(dependent)S
132 x(attributes,)S 139 x(the)S 132 x(implementation)S 133 x(de-)S 5842 X
598 y(\211nes)S 166 x(the)S 166 x(default)S 168 x(value)S 167 x(to)S
166 x(be)S 166 x(used.)S 4796 X 897 y F36(2.)S 631 x F153(CMA)S 208 x
(operations)S 210 x(are)S 209 x(de\211ned)S 210 x(so)S 209 x(that)S
210 x(an)S 209 x(implementat)S 2 x(ion)S 209 x(may)S 210 x(associate)S
210 x(caches)S 5842 X 598 y(with)S 270 x(any)S 272 x(attributes)S 271 x
(object.)S 535 x(Modifying)S 272 x(an)S 271 x(individ)S 2 x(ual)S 271 x
(attribute)S 271 x(after)S 270 x(the)S 270 x(at-)S 5842 X 597 y(tributes)S
168 x(object)S 169 x(has)S 168 x(been)S 168 x(used)S 169 x(to)S 169 x
(create)S 168 x(one)S 168 x(or)S 168 x(more)S 168 x(objects)S 169 x
(is)S 168 x(legal,)S 170 x(but)S 169 x(it)S 168 x(may)S 5842 X 598 y
(have)S 173 x(performance)S 173 x(implicati)S 2 x(ons.)S 243 x(Such)S
174 x(a)S 173 x(modi\211cat)S 2 x(ion)S 174 x(may)S 173 x(prevent)S
173 x(a)S 174 x(particular)S 5842 X 598 y(implementation)S 126 x(from)S
123 x(caching)S 125 x(the)S 124 x(objects)S 125 x(that)S 125 x(were)S
123 x(created)S 124 x(before)S 123 x(the)S 125 x(modi\211ca-)S 5842 X
598 y(tion.)S 219 x(Implementation)S 2 x(s)S 154 x(are)S 154 x(not)S
155 x(required)S 153 x(to)S 155 x(document)S 155 x(such)S 155 x(performance)S
154 x(effects.)S 4796 X 896 y F36(3.)S 631 x F153(Deleting)S 212 x(an)S
211 x(attributes)S 212 x(object)S 211 x(indicat)S 2 x(es)S 210 x(to)S
212 x(the)S 211 x(implementatio)S 2 x(n)S 211 x(that)S 212 x(any)S 211 x
(cache)S 5842 X 598 y(associated)S 168 x(with)S 166 x(the)S 167 x(attributes)S
166 x(object)S 167 x(can)S 167 x(be)S 165 x(immediately)S 168 x(\212ushed.)S
12318 19847 XY(IMPLEMENTOR'S)S 165 x(NOTE)S 4796 X 897 y(There)S 214 x
(may)S 216 x(someday)S 216 x(be)S 215 x(a)S 216 x(future)S 215 x(extensio)S
2 x(n)S 215 x(to)S 216 x(allo)S 2 x(w)S 215 x(a)S 216 x(user)S 215 x
(to)S 216 x(specify)S 216 x(where)S 215 x(CMA)S 4796 X 597 y(objects)S
178 x(are)S 178 x(placed,)S 182 x(much)S 178 x(as)S 179 x(users)S 178 x
(can)S 178 x(specify)S 179 x(memory)S 177 x(pool)S 2 x(s)S 178 x(on)S
178 x(some)S 178 x(systems.)S 258 x(Im-)S 4796 X 598 y(plementors)S
227 x(shoul)S 2 x(d)S 227 x(keep)S 228 x(this)S 228 x(possible)S 228 x
(future)S 227 x(extensio)S 2 x(n)S 227 x(in)S 228 x(mind.)S 406 x(This)S
228 x(is)S 227 x(just)S 228 x(one)S 4796 X 598 y(reason)S 166 x(why)S
166 x(all)S 168 x(object)S 166 x(creation)S 167 x(operation)S 2 x(s)S
166 x(take)S 167 x(an)S 166 x(attributes)S 167 x(object.)S 3899 24031 XY
F32(3.1.2)S 547 x F33(cma_lib_attr_delete)S 3899 25027 XY F147(An)S
180 x(attributes)S 180 x(object)S 181 x(can)S 180 x(be)S 181 x(deleted)S
179 x(by)S 181 x(calling)S 180 x(the)S 180 x(procedure)S 181 x(that)S
180 x(has)S 180 x(the)S 181 x(following)S 180 x(declara-)S 3899 X 648 y
(tion:)S -101 x 26721 Y F98(procedure)S 269 x(CMA_LIB_ATTR_DELETE)S
269 x(\()S 8173 X 498 y(ATT)S 10325 X(:)S 269 x(in)S 269 x(out)S 269 x
(CMA_LIB_T_ATTR\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lib_attr_delete)S 269 x(\()S 6021 X
499 y(cma_lib_t_attr)S 11401 X(*att\);)S 3899 30806 XY F147(Parameters:)S
3899 X 896 y F38(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S
149 x(attributes)S 150 x(object)S 149 x(that)S 150 x(wil)S -2 x(l)S
149 x(no)S 150 x(longer)S 151 x(be)S 150 x(referenced.)S 3899 32699 XY
23316 48 R 3899 33296 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 34293 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 20955 37373 XY F36
(CMA)S 165 x(Lib)S 2 x(rary)S 165 x(Services)S 499 x(19)S
%%EndCustomColor: 0
24 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%+ Helvetica-BoldOblique Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 20 25
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4248 XY F38(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 298 y 23316 48 R 3899 5244 XY
(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S
193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x
(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S
192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S
149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 7087 XY F147
(This)S 280 x(operation)S 279 x(should)S 279 x(be)S 280 x(called)S 280 x
(when)S 280 x(an)S 280 x(attributes)S 280 x(object)S 280 x(will)S 280 x
(no)S 280 x(longer)S 281 x(be)S 280 x(referenced)S 3899 X 647 y(through)S
203 x(the)S 202 x(handle)S 201 x(suppl)S -2 x(ied)S 202 x(by)S 203 x
F148(cma_lib_attr_create)S F147(.)S 304 x(The)S 203 x(effect)S 204 x
(of)S 203 x(this)S 202 x(operation)S 202 x(is)S 202 x(to)S 202 x(give)S
3899 X 648 y(permissi)S -2 x(on)S 183 x(to)S 183 x(reclaim)S 182 x(storage)S
182 x(for)S 184 x(the)S 182 x(attributes)S 182 x(object.)S 3899 9378 XY
(The)S 173 x(attributes)S 173 x(object)S 173 x(is)S 173 x(marked)S 172 x
(for)S 174 x(deletion,)S 174 x(and)S 173 x(the)S 173 x F148(att)S 172 x
F147(parameter)S 173 x(is)S 173 x(set)S 173 x(to)S 173 x(the)S 173 x
(value)S 173 x F148(cma_)S 3899 X 648 y(c_null)S F147(.)S 3899 11022 XY
(Call)S -2 x(ing)S 190 x(this)S 190 x(operation)S 189 x(for)S 191 x
(a)S 190 x(handle)S 189 x(of)S 191 x F148(cma_c_null)S 191 x F147(is)S
189 x(legal)S 190 x(and)S 189 x(has)S 190 x(no)S 190 x(effect.)S 268 x
(It)S 190 x(is)S 190 x(also)S 189 x(legal)S 3899 X 648 y(to)S 171 x
(call)S 171 x(this)S 171 x(operation)S 170 x(if)S 171 x(some)S 172 x
(objects)S 171 x(created)S 171 x(using)S 171 x(the)S 171 x(attributes)S
171 x(object)S 171 x(still)S 170 x(exist)S 171 x(\(the)S 172 x(other)S
3899 X 647 y(objects)S 182 x(will)S 182 x(not)S 183 x(be)S 182 x(affected\).)S
3899 13314 XY(The)S 211 x(results)S 211 x(of)S 212 x(this)S 210 x(operation)S
211 x(are)S 211 x F148(unpredictable)S 211 x F147(if)S 212 x(the)S 211 x
(handl)S -2 x(e)S 212 x(refers)S 212 x(to)S 211 x(an)S 211 x(attributes)S
210 x(object)S 3899 X 647 y(which)S 224 x(does)S 224 x(not)S 224 x(currently)S
225 x(exist)S 224 x(\(unless)S 223 x(it)S 224 x(is)S 224 x F148(cma_c_null)S
F147(\).)S 370 x(An)S 224 x(implementati)S -2 x(on)S 224 x(that)S 225 x
(reports)S 3899 X 648 y(this)S 182 x(error)S 183 x(raises)S 182 x(the)S
182 x F149(cma_e_e)S -2 x(xistence)S 182 x F147(exception.)S 3899 16103 XY
F28(3.2)S 599 x(CMA)S 198 x(Library)S 200 x(Atomic)S 200 x(Queue)S 200 x
(Objects)S 3899 17099 XY F32(3.2.1)S 547 x(Introduction)S 183 x(to)S
183 x(CMA)S 182 x(Library)S 183 x(Atomic)S 182 x(Queue)S 182 x(Objects)S
3899 18096 XY F147(The)S 131 x(CMA)S 129 x(Library)S 131 x(atomic)S
130 x(queue)S 130 x(object)S 131 x(impl)S -2 x(ements)S 131 x(a)S 130 x
(parad)S -2 x(igm)S 131 x(of)S 131 x(interthread)S 129 x(communication)S
3899 X 647 y(which)S 161 x(is)S 161 x(not)S 162 x(explici)S -2 x(tly)S
162 x(depend)S -2 x(ent)S 162 x(on)S 161 x(synchronization)S -2 x(.)S
237 x(This)S 161 x(is)S 161 x(especiall)S -2 x(y)S 162 x(convenient)S
161 x(when)S 162 x(no)S 3899 X 648 y(static)S 182 x(data)S 182 x(is)S
182 x(involved)S 181 x(in)S 182 x(the)S 183 x(communication.)S 3899 20387 XY
(The)S 167 x(primary)S 167 x(characteristic)S 167 x(of)S 168 x(an)S
167 x(`)S -10 x(`atomic)S 167 x(queue')S -11 x(')S 167 x(is)S 166 x
(that)S 167 x(any)S 167 x(operation)S 167 x(on)S 167 x(the)S 167 x(queue)S
166 x(is)S 167 x(guar-)S 3899 X 648 y(anteed)S 176 x(to)S 177 x(complete)S
176 x(before)S 177 x(any)S 177 x(other)S 177 x(operation)S 175 x(on)S
177 x(that)S 177 x(same)S 176 x(queue)S 176 x(can)S 176 x(begin.)S 241 x
(For)S 178 x(example,)S 3899 X 647 y(two)S 154 x(threads)S 152 x(cannot)S
153 x(interfere)S 153 x(with)S 153 x(one)S 153 x(another)S 153 x(if)S
154 x(both)S 152 x(attempt)S 153 x(to)S 154 x(enqueue)S 152 x(an)S 152 x
(element)S 153 x(simul-)S 3899 X 648 y(taneously)S -62 x(,)S 191 x(or)S
189 x(if)S 188 x(one)S 189 x(attempts)S 188 x(to)S 189 x(enqueue)S 188 x
(an)S 188 x(element)S 188 x(at)S 189 x(the)S 189 x(same)S 188 x(time)S
189 x(as)S 188 x(another)S 188 x(attempts)S 3899 X 647 y(to)S 183 x
(dequeu)S -2 x(e)S 183 x(an)S 182 x(element.)S 3899 23974 XY(The)S 165 x
(specia)S -2 x(l)S 164 x(operation)S 164 x F148(cma_lib_queue_try_enqueue_int)S
164 x F147(may)S 165 x(be)S 164 x(used)S 163 x(to)S 165 x(add)S 163 x
(a)S 164 x(data)S 163 x(element)S 164 x(to)S 3899 X 647 y(an)S 157 x
(atomic)S 156 x(queue)S 157 x(from)S 158 x(a)S 157 x F148(software)S
158 x(interrupt)S 157 x F147(handler)S -42 x(.)S 236 x(The)S 157 x(data)S
156 x(can)S 157 x(be)S 157 x(removed)S 157 x(by)S 157 x(code)S 157 x
(in)S 157 x(any)S 3899 X 648 y(thread.)S 364 x(The)S 223 x F148(cma_lib_queue_try_enqueue_int)S
223 x F147(operation)S 222 x(is)S 222 x(the)S 222 x(only)S 223 x(atomic)S
223 x(queue)S 222 x(operation)S 3899 X 647 y(which)S 182 x(may)S 183 x
(be)S 182 x(called)S 182 x(from)S 183 x(software)S 183 x(interrupt)S
182 x(handlers.)S 12318 26863 XY F153(IMPLEMENTOR'S)S 165 x(NOTE)S 4796 X
896 y(If)S 192 x(the)S 193 x(machine)S 193 x(architecture)S 193 x(supports)S
193 x(interlocked)S 194 x(queue)S 192 x(operatio)S 2 x(ns)S 192 x(\(or)S
192 x(something)S 4796 X 598 y(equivalent\),)S 144 x(then)S 137 x F148
(cma_lib_queue_try_enqueue_int)S 137 x F153(can)S 137 x(be)S 136 x(implemented)S
137 x(without)S 138 x(over-)S 4796 X 598 y(head.)S 427 x(On)S 235 x
(other)S 235 x(machines,)S 252 x(all)S 236 x(atomic)S 235 x(queue)S
235 x(operations)S 236 x(must)S 234 x(protect)S 235 x(themselves)S 4796 X
598 y(from)S 190 x(interruption)S 193 x(in)S 192 x(such)S 192 x(a)S
192 x(manner)S 191 x(that)S 193 x(data)S 192 x(can)S 192 x(be)S 192 x
(safely)S 192 x(enqueued)S 192 x(from)S 191 x(inter-)S 4796 X 597 y
(rupt)S 166 x(level.)S 3899 31147 XY F147(T)S -50 x(o)S 157 x(avoid)S
156 x(allocating)S 156 x(memory)S 158 x(at)S 157 x(interrupt)S 156 x
(level)S 157 x(\(which)S 157 x(may)S 157 x(not)S 157 x(be)S 157 x(supported)S
156 x(or)S 157 x(reliable)S 156 x(on)S 157 x(all)S 3899 X 647 y(platforms\),)S
227 x(each)S 217 x(atomic)S 218 x(queue)S 217 x(has)S 217 x(some)S 217 x
(number)S 218 x(of)S 218 x(pre-allocated)S 217 x(queue)S 217 x(items.)S
348 x(Each)S 218 x(item)S 3899 X 648 y(holds)S 212 x(CMA)S 213 x(Library)S
214 x(Services)S 214 x(internal)S 213 x(information,)S 221 x(plus)S
212 x(a)S 214 x(queue)S 213 x(element)S 213 x(address)S 212 x(speci\211ed)S
3899 X 647 y(by)S 227 x(the)S 227 x(client)S 227 x(program.)S 378 x
(The)S 227 x(number)S 227 x(of)S 228 x(pre-allocated)S 226 x(queue)S
227 x(items)S 226 x(can)S 227 x(be)S 227 x(controlled)S 227 x(by)S 227 x
(an)S 3899 X 648 y(attribute.)S 436 x(When)S 246 x(the)S 247 x(pre-allocated)S
245 x(items)S 247 x(have)S 246 x(been)S 247 x(exhausted,)S 262 x(an)S
246 x(attempt)S 247 x(to)S 247 x(enqueue)S 246 x(a)S 3899 X 648 y(new)S
180 x(element)S 180 x(will)S 179 x(fail.)S 242 x(The)S 181 x F148(cma_lib_queue_try_enqueue_int)S
F147(,)S 181 x(code_example>\(cma_lib)S -2 x(_queue_)S 3899 X 647 y
(try_requeue\),)S 169 x(and)S 164 x F148(cma_lib_queue_try_enqueue)S
164 x F147(operations)S 164 x(will)S 163 x(return)S 165 x(a)S 164 x
(failure)S 164 x(status)S 164 x(in)S 164 x(this)S 3899 X 648 y(case,)S
186 x(and)S 184 x(the)S 185 x(client)S 184 x(must)S 185 x(determine)S
185 x(what)S 185 x(to)S 185 x(do.)S 251 x(The)S 186 x F148(cma_lib_queue_enqueue)S
185 x F147(and)S 184 x F148(cma_lib_)S 3899 37373 XY F36(20)S 498 x
(CMA)S 165 x(Library)S 167 x(Services)S
%%EndCustomColor: 0
25 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 21 26
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F148(queue_requeue)S 185 x F147(operations)S 184 x(will)S
185 x(block)S 185 x(the)S 185 x(thread)S 185 x(until)S 184 x(one)S 185 x
(of)S 186 x(the)S 186 x(pre-allocated)S 184 x(items)S 185 x(is)S 184 x
(freed)S 3899 X 648 y(\(when)S 183 x(another)S 182 x(thread)S 182 x
(removes)S 183 x(an)S 182 x(element)S 182 x(from)S 184 x(the)S 182 x
(queue\).)S 3899 5650 XY(An)S 170 x(atomic)S 170 x(queue)S 170 x(maintains)S
169 x(a)S 171 x(lis)S -2 x(t)S 171 x(of)S 171 x(untyped)S 170 x(pointers)S
170 x(\()S F148(cma_t_address)S 171 x F147(type\))S 171 x(on)S 171 x
(behal)S -2 x(f)S 171 x(of)S 172 x(the)S 3899 X 648 y(client)S 232 x
(program.)S 395 x(The)S 234 x(CMA)S 232 x(Library)S 233 x(Services)S
233 x(guarantee)S 233 x(the)S 233 x(atomicity)S 233 x(of)S 233 x(operations)S
232 x(on)S 233 x(the)S 3899 X 647 y(queue.)S 284 x(Note)S 196 x(that)S
196 x(the)S 196 x(client)S 195 x(program)S 197 x(is)S 195 x(responsib)S
-2 x(le)S 196 x(for)S 197 x(the)S 196 x(consistency)S 196 x(of)S 197 x
(any)S 196 x(data)S 195 x(pointed)S 3899 X 648 y(to)S 215 x(by)S 215 x
(the)S 215 x(queue)S 215 x(element.)S 341 x(For)S 216 x(example,)S 222 x
(if)S 216 x(the)S 215 x(element)S 214 x(consists)S 215 x(of)S 215 x
(a)S 215 x(static)S 215 x(data)S 214 x(buffer)S -40 x(,)S 224 x(the)S
3899 X 647 y(client)S 182 x(is)S 182 x(responsi)S -2 x(ble)S 182 x(for)S
184 x(any)S 182 x(locking)S 182 x(protocol)S 183 x(necessary)S 182 x
(to)S 183 x(ensure)S 182 x(the)S 182 x(reliabil)S -2 x(ity)S 183 x(of)S
183 x(the)S 183 x(data.)S 3899 9735 XY F32(3.2.2)S 547 x(Atomic)S 183 x
(Queue)S 182 x(Creation)S 182 x(Attributes)S 3899 10731 XY F147(This)S
199 x(section)S 198 x(describes)S 198 x(the)S 200 x(indi)S -2 x(vidual)S
198 x(attributes)S 198 x(that)S 199 x(are)S 199 x(stored)S 199 x(in)S
199 x(an)S 199 x(attributes)S 198 x(object)S 199 x(and)S 3899 X 648 y
(that)S 182 x(affect)S 184 x(the)S 182 x(creation)S 183 x(of)S 183 x
(atomic)S 182 x(queue)S 182 x(objects.)S 3899 12375 XY(The)S 183 x(architecture)S
183 x(recognizes)S 182 x(the)S 182 x(following)S 182 x(queue)S 182 x
(creation)S 183 x(attributes:)S 3899 X 897 y(\201)S 714 x(Queue)S 182 x
(size)S 3899 14666 XY F32(3.2.2.1)S 547 x F33(cma_lib_attr_set_queue)S
-2 x(size)S 3899 X 897 y F147(The)S 184 x(queue)S 184 x(size)S 183 x
(attribute)S 184 x(for)S 185 x(an)S 183 x(atomic)S 184 x(queue)S 184 x
(can)S 184 x(be)S 184 x(changed)S 183 x(by)S 185 x(calli)S -2 x(ng)S
185 x(the)S 184 x(procedure)S 184 x(that)S 3899 X 648 y(has)S 182 x
(the)S 182 x(following)S 182 x(declaration:)S 4945 17257 XY F98(procedure)S
269 x(CMA_LIB_ATTR_SET_QUEUESIZE)S 269 x(\()S 8173 X 498 y(ATT)S 10863 X
(:)S 269 x(in)S 269 x(CMA_LIB_T_ATTR;)S 8173 X 498 y(QUEUESIZE)S 269 x
(:)S 269 x(in)S 269 x(CMA_T_NATURAL\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lib_attr_set_queuesize)S 269 x
(\()S 6021 X 498 y(cma_lib_t_attr)S 11401 X(*att,)S 6021 X 498 y(cma_t_natural)S
11401 X(queuesize\);)S 3899 22039 XY F147(Parameters:)S 3899 X 896 y
F38(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(modi\211ed.)S 3899 X 698 y
(queuesize)S 8282 X(The)S 150 x(new)S 150 x(value)S 150 x(for)S 150 x
(the)S 149 x(queue)S 151 x(size)S 149 x(attribute.)S 3899 24629 XY 23316 48 R
3899 25227 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 26223 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 698 y(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S
14409 X(One)S 150 x(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x
(supplied)S 150 x(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X
299 y 23316 48 R 3899 29461 XY F147(Set)S 226 x(the)S 226 x(maximum)S
225 x(number)S 226 x(of)S 226 x(elements)S 225 x(that)S 226 x(a)S 225 x
(queue)S 225 x(created)S 226 x(with)S 225 x(the)S 226 x(speci\211ed)S
224 x(attributes)S 3899 X 647 y(object)S 223 x(may)S 224 x(contain.)S
365 x(Each)S 223 x(queue)S 222 x(maintain)S -2 x(s)S 223 x(a)S 223 x
(\211xed)S 223 x(pool)S 223 x(of)S 223 x(availab)S -2 x(le)S 223 x(items)S
223 x(\(initiall)S -2 x(y)S 224 x(equal)S 3899 X 648 y(to)S 217 x(the)S
216 x(queue)S 216 x(size)S 215 x(speci\211ed)S 215 x(for)S 218 x(the)S
216 x(queue\).)S 346 x(Each)S 216 x(element)S 216 x(inserted)S 215 x
(on)S 217 x(the)S 216 x(queue)S 216 x(consumes)S 3899 X 648 y(one)S
188 x(of)S 190 x(these)S 188 x(items.)S 262 x(If)S 189 x(an)S 188 x
(`)S -10 x(`enqueue')S -11 x(')S 188 x(or)S 189 x(`)S -10 x(`requeue')S
-11 x(')S 189 x(operation)S 187 x(is)S 189 x(attempted)S 187 x(when)S
189 x(there)S 189 x(are)S 189 x(no)S 3899 X 647 y(items)S 232 x(free)S
234 x(in)S 232 x(the)S 232 x(pool,)S 245 x(then)S 233 x(the)S 232 x
(operation)S 232 x(will)S 232 x(block)S 232 x(\(or)S 233 x(`)S -10 x
(`try')S -9 x(')S 232 x(operations)S 232 x(will)S 232 x(return)S 233 x
(with)S 3899 X 648 y F148(cma_c_false)S 184 x F147(status\),)S 182 x
(until)S 182 x(an)S 182 x(item)S 182 x(is)S 182 x(freed)S 183 x(by)S
183 x(removing)S 183 x(some)S 182 x(element)S 182 x(from)S 184 x(the)S
182 x(queue.)S 20955 37373 XY F36(CMA)S 165 x(Lib)S 2 x(rary)S 165 x
(Services)S 499 x(21)S
%%EndCustomColor: 0
26 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Italic
%%+ NewCenturySchlbk-Roman Helvetica-BoldOblique
%%+ Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 22 27
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3996 XY F32(3.2.2.2)S 547 x F33(cma_lib_attr_get_queue)S -2 x(size)S
3899 X 896 y F147(The)S 176 x(queue)S 174 x(size)S 175 x(attribute)S
175 x(for)S 176 x(an)S 175 x(atomic)S 175 x(queue)S 175 x(can)S 175 x
(be)S 175 x(returned)S 175 x(by)S 176 x(callin)S -2 x(g)S 176 x(the)S
176 x(procedure)S 175 x(that)S 3899 X 648 y(has)S 182 x(the)S 182 x
(following)S 182 x(declaration:)S 4945 6586 XY F98(procedure)S 269 x
(CMA_LIB_ATTR_GET_QUEUESIZE)S 269 x(\()S 8173 X 498 y(ATT)S 10863 X
(:)S 269 x(in)S 269 x(CMA_LIB_T_ATTR;)S 8173 X 498 y(QUEUESIZE)S 269 x
(:)S 269 x(out)S 269 x(CMA_T_NATURAL\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lib_attr_get_queuesize)S 269 x
(\()S 6021 X 499 y(cma_lib_t_attr)S 11401 X(*att,)S 6021 X 498 y(cma_t_natural)S
11401 X(*queuesize\);)S 3899 11368 XY F147(Parameters:)S 3899 X 897 y
F38(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(used.)S 3899 X 697 y(queuesize)S
8282 X(A)S 150 x(variable)S 150 x(to)S 149 x(receive)S 151 x(the)S 149 x
(curren)S 2 x(t)S 149 x(value)S 150 x(of)S 149 x(the)S 150 x(queue)S
150 x(size)S 150 x(attribute.)S 3899 13958 XY 23316 48 R 3899 14556 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 15552 XY(cma_e_)S 2 x(existence)S 10026 X
(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x
(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S
2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S
10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x(requested)S
194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x(type)S 193 x
(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y(state)S 150 x
(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x(in.)S 3899 X 298 y
23316 48 R 3899 18093 XY F147(Return)S 189 x(the)S 189 x(current)S 190 x
(maximum)S 190 x(number)S 189 x(of)S 190 x(element)S 189 x(allowed)S
188 x(on)S 189 x(a)S 189 x(queue)S 189 x(that)S 189 x(is)S 189 x(created)S
189 x(using)S 3899 X 647 y(the)S 182 x(speci\211ed)S 181 x(attributes)S
182 x(object.)S 3899 20235 XY F32(3.2.3)S 547 x F33(cma_lib_queue)S
-2 x(_create)S 3899 21231 XY F147(An)S 188 x(atomic)S 189 x(queue)S
188 x(object)S 190 x(can)S 189 x(be)S 188 x(created)S 189 x(by)S 189 x
(calling)S 188 x(the)S 189 x(procedure)S 189 x(that)S 188 x(has)S 189 x
(the)S 189 x(following)S 188 x(dec-)S 3899 X 648 y(laration:)S 4945 22925 XY
F98(procedure)S 269 x(CMA_LIB_QUEUE_CREATE)S 269 x(\()S 8173 X 498 y
(NEW_QUEUE)S 269 x(:)S 269 x(out)S 269 x(CMA_LIB_T_QUEUE;)S 8173 X 498 y
(ATT)S 10863 X(:)S 269 x(in)S 538 x(CMA_LIB_T_ATTR\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lib_queue_create)S 269 x(\()S 6021 X
498 y(cma_lib_t_queue)S 11401 X(*new_queue,)S 6021 X 498 y(cma_lib_t_attr)S
11401 X(*att\);)S 3899 28006 XY F147(Parameters:)S 3899 X 896 y F38
(new_queue)S 8282 X(A)S 150 x(variable)S 150 x(that)S 149 x(receives)S
151 x(a)S 149 x(handle)S 151 x(designating)S 150 x(the)S 149 x(new)S
150 x(atomic)S 150 x(queue.)S 3899 X 698 y(att)S 8282 X(The)S 150 x
(library)S 150 x(attributes)S 149 x(to)S 150 x(be)S 150 x(used)S 150 x
(when)S 150 x(creating)S 150 x(the)S 150 x(queue.)S 3899 30596 XY 23316 48 R
3899 31194 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 32190 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 34730 XY F147(This)S 274 x(operation)S
272 x(creates)S 275 x(a)S 273 x(new)S 274 x(atomic)S 274 x(queue)S 273 x
(object,)S 298 x(which)S 274 x(may)S 274 x(be)S 273 x(used)S 274 x(to)S
274 x(communicate)S 3899 X 648 y(information)S 127 x(asynchronousl)S
-2 x(y)S 128 x(between)S 128 x(threads)S 126 x(or)S 128 x(within)S 127 x
(a)S 127 x(single)S 127 x(thread)S 127 x(\(for)S 129 x(example,)S 138 x
(between)S 3899 37373 XY F36(22)S 498 x(CMA)S 165 x(Library)S 167 x
(Services)S
%%EndCustomColor: 0
27 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 23 28
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F147(an)S 195 x(interrupt)S 196 x(routine)S 195 x(and)S
195 x(the)S 196 x(normal)S 195 x(thread)S 195 x(code\).)S 284 x(The)S
196 x F149(new_queue)S 196 x F147(handl)S -2 x(e)S 196 x(is)S 195 x
(not)S 196 x(affected)S 3899 X 648 y(by)S 251 x(termination)S 251 x
(of)S 252 x(the)S 251 x(thread)S 251 x(that)S 251 x(created)S 251 x
(it;)S 286 x(it)S 251 x(remains)S 251 x(valid)S 250 x(until)S 250 x
(explicitly)S 250 x(deleted)S 251 x(by)S 3899 X 647 y F148(cma_lib_queue_delete)S
F147(.)S 3899 6796 XY F32(3.2.4)S 547 x F33(cma_lib_queue)S -2 x(_delete)S
3899 7792 XY F147(An)S 190 x(atomic)S 191 x(queue)S 190 x(object)S 192 x
(can)S 191 x(be)S 190 x(deleted)S 190 x(by)S 191 x(calling)S 190 x(the)S
191 x(procedure)S 191 x(that)S 190 x(has)S 191 x(the)S 191 x(following)S
190 x(dec-)S 3899 X 648 y(laration:)S 4945 9486 XY F98(procedure)S 269 x
(CMA_LIB_QUEUE_DELETE)S 269 x(\()S 8173 X 498 y(QUEUE)S 269 x(:)S 269 x
(in)S 269 x(out)S 269 x(CMA_LIB_T_QUEUE\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lib_queue_delete)S 269 x(\()S 6021 X
498 y(cma_lib_t_queue)S 11401 X(*queue\);)S 3899 13570 XY F147(Parameters:)S
3899 X 897 y F38(queue)S 8282 X(The)S 150 x(handle)S 151 x(of)S 149 x
(the)S 150 x(queue)S 150 x(which)S 150 x(is)S 149 x(no)S 150 x(longer)S
150 x(needed)S 2 x(.)S 3899 15463 XY 23316 48 R 3899 16061 XY(Error)S
10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X
299 y 23316 48 R 3899 17057 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 697 y(cma_e_)S 2 x(in_use)S
10026 X(unpredictable)S 14409 X(The)S 243 x(operation)S 243 x(reque)S
2 x(sted)S 242 x(for)S 242 x(the)S 243 x(object)S 242 x(cannot)S 243 x
(be)S 242 x(perform)S 2 x(ed)S 14409 X 548 y(since)S 150 x(the)S 150 x
(object)S 149 x(is)S 150 x(stil)S -2 x(l)S 149 x(in)S 150 x(use.)S 3899 X
299 y 23316 48 R 3899 20843 XY F147(This)S 185 x(operation)S 184 x(declares)S
184 x(that)S 186 x(the)S 185 x(speci\211ed)S 184 x(atomic)S 185 x(queue)S
184 x(object)S 186 x(will)S 184 x(no)S 185 x(longer)S 186 x(be)S 185 x
(referenced.)S 3899 X 648 y(The)S 183 x(handl)S -2 x(e)S 183 x(is)S
182 x(set)S 182 x(to)S 183 x F148(cma_c_null)S 183 x F147(to)S 183 x
(minimiz)S -2 x(e)S 183 x(the)S 183 x(chance)S 182 x(of)S 183 x(erroneous)S
183 x(references.)S 3899 22487 XY(It)S 176 x(is)S 176 x(erroneous)S
175 x(to)S 177 x(delete)S 175 x(a)S 176 x(queue)S 175 x(when)S 176 x
(the)S 176 x(queue)S 175 x(is)S 176 x(not)S 176 x(empty)S -61 x(.)S
241 x(If)S 177 x(this)S 175 x(condition)S 175 x(is)S 176 x(detected,)S
3899 X 648 y(the)S 182 x(error)S 184 x F149(cma_e_)S -2 x(in_use)S 183 x
F147(will)S 182 x(be)S 182 x(raised.)S 3899 24629 XY F32(3.2.5)S 547 x
F33(cma_lib_queue)S -2 x(_dequeue)S 3899 25625 XY F147(An)S 140 x(element)S
141 x(can)S 141 x(be)S 141 x(removed)S 141 x(from)S 142 x(the)S 141 x
(front)S 142 x(of)S 142 x(an)S 140 x(atomic)S 141 x(queue)S 140 x(object)S
142 x(by)S 141 x(callin)S -2 x(g)S 142 x(the)S 141 x(procedure)S 3899 X
648 y(that)S 182 x(has)S 182 x(the)S 183 x(following)S 182 x(declaration)S
-2 x(:)S 4945 27319 XY F98(procedure)S 269 x(CMA_LIB_QUEUE_DEQUEUE)S
269 x(\()S 8173 X 498 y(QUEUE)S 11401 X(:)S 269 x(in)S 269 x(CMA_LIB_T_QUEUE;)S
8173 X 498 y(ELEMENT)S 11401 X(:)S 269 x(out)S 269 x(CMA_T_ADDRESS\);)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lib_queue_dequeue)S 269 x(\()S
6021 X 498 y(cma_lib_t_queue)S 11401 X(*queue,)S 6021 X 499 y(cma_t_address)S
11401 X(*element\);)S 3899 32400 XY F147(Parameters:)S 3899 X 896 y
F38(queue)S 8282 X(The)S 150 x(handle)S 151 x(of)S 149 x(the)S 150 x
(queue)S 150 x(from)S 150 x(which)S 150 x(the)S 149 x(element)S 150 x
(is)S 150 x(to)S 149 x(be)S 150 x(remove)S 2 x(d.)S -808 x 37373 Y F36
(CMA)S 165 x(Lib)S 2 x(rary)S 165 x(Services)S 499 x(23)S
%%EndCustomColor: 0
28 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold NewCenturySchlbk-Italic
%%+ Helvetica-BoldOblique Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 24 29
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4148 XY F38(element)S 8282 X(The)S 150 x(variable)S 150 x(in)S
150 x(which)S 149 x(the)S 149 x(addr)S 2 x(ess)S 150 x(of)S 149 x(the)S
150 x(removed)S 151 x(queue)S 151 x(element)S 150 x(is)S 149 x(to)S
149 x(be)S 150 x(returne)S 2 x(d.)S 3899 5144 XY 23316 48 R 3899 5742 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 6738 XY(cma_e_)S 2 x(existence)S 10026 X
(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x
(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S
2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S
10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x(requested)S
194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x(type)S 193 x
(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y(state)S 150 x
(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x(in.)S 3899 X 298 y
23316 48 R 3899 9279 XY F147(This)S 212 x(operation)S 212 x(removes)S
213 x(the)S 213 x(\211rst)S 213 x(element)S 213 x(on)S 212 x(the)S 213 x
(speci\211ed)S 211 x(queue,)S 220 x(and)S 212 x(returns)S 213 x(the)S
213 x(value)S 212 x(of)S 3899 X 647 y(that)S 141 x(element.)S 229 x
(If)S 142 x(the)S 141 x(queue)S 141 x(is)S 140 x(empty)S -61 x(,)S 150 x
(the)S 141 x(thread)S 141 x(will)S 140 x(be)S 141 x(blocked)S 140 x
(until)S 141 x(an)S 140 x(element)S 141 x(is)S 141 x(enqueued)S -2 x
(;)S 3899 X 648 y(at)S 184 x(which)S 184 x(time)S 184 x(the)S 184 x
(thread)S 183 x(will)S 184 x(resume,)S 184 x(the)S 184 x(new)S 185 x
(element)S 183 x(will)S 184 x(be)S 183 x(removed,)S 185 x(and)S 183 x
(the)S 185 x(operation)S 3899 X 647 y(will)S 182 x(return.)S 3899 12716 XY
F32(3.2.6)S 547 x F33(cma_lib_queue)S -2 x(_enqueue)S 3899 13712 XY
F147(An)S 167 x(element)S 168 x(can)S 168 x(be)S 167 x(added)S 166 x
(to)S 168 x(the)S 168 x(end)S 168 x(of)S 168 x(an)S 167 x(atomic)S 168 x
(queue)S 167 x(object)S 169 x(by)S 167 x(calling)S 167 x(the)S 168 x
(procedure)S 168 x(that)S 3899 X 648 y(has)S 182 x(the)S 182 x(following)S
182 x(declaration:)S 4945 15406 XY F98(procedure)S 269 x(CMA_LIB_QUEUE_ENQUEUE)S
269 x(\()S 8173 X 498 y(QUEUE)S 11401 X(:)S 269 x(in)S 269 x(CMA_LIB_T_QUEUE;)S
8173 X 498 y(ELEMENT)S 11401 X(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\);)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lib_queue_enqueue)S 269 x(\()S
6021 X 498 y(cma_lib_t_queue)S 11401 X(*queue,)S 6021 X 498 y(cma_t_address)S
11401 X(element\);)S 3899 20487 XY F147(Parameters:)S 3899 X 896 y F38
(queue)S 8282 X(The)S 150 x(handle)S 151 x(of)S 149 x(the)S 150 x(queue)S
150 x(to)S 150 x(which)S 149 x(the)S 150 x(element)S 150 x(is)S 149 x
(to)S 149 x(be)S 150 x(added.)S 3899 X 698 y(element)S 8282 X(The)S
150 x(addre)S 2 x(ss)S 149 x(of)S 150 x(the)S 149 x(queue)S 151 x(element)S
150 x(that)S 149 x(is)S 150 x(to)S 149 x(be)S 150 x(added.)S 3899 23077 XY
23316 48 R 3899 23675 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 24671 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 27211 XY F147(This)S 227 x(operation)S
226 x(add)S -2 x(s)S 227 x(a)S 227 x(new)S 227 x(element)S 227 x(to)S
227 x(the)S 227 x(end)S 226 x(of)S 228 x(the)S 227 x(speci\211)S -2 x
(ed)S 227 x(queue.)S 376 x(If)S 228 x(no)S 227 x(pre-allocated)S 3899 X
648 y(queue)S 252 x(items)S 252 x(are)S 252 x(availab)S -2 x(le)S 253 x
(for)S 253 x(the)S 253 x(queue,)S 269 x(the)S 253 x(thread)S 252 x(will)S
251 x(be)S 253 x(blocked)S 251 x(until)S 252 x(an)S 252 x(element)S
252 x(is)S 3899 X 648 y(removed)S 225 x(from)S 227 x(the)S 225 x(queue;)S
246 x(at)S 225 x(which)S 226 x(time)S 225 x(the)S 225 x(thread)S 225 x
(will)S 224 x(resume,)S 237 x(the)S 225 x(new)S 225 x(element)S 225 x
(will)S 225 x(be)S 3899 X 647 y(added)S -2 x(,)S 183 x(and)S 182 x(the)S
182 x(operation)S 182 x(will)S 182 x(return.)S 3899 30649 XY F32(3.2.7)S
547 x F33(cma_lib_queue)S -2 x(_requeue)S 3899 31645 XY F147(An)S 224 x
(element)S 224 x(can)S 225 x(be)S 224 x(added)S 223 x(to)S 225 x(the)S
225 x(front)S 226 x(of)S 225 x(an)S 224 x(atomic)S 225 x(queue)S 224 x
(object)S 225 x(by)S 225 x(calli)S -2 x(ng)S 225 x(the)S 225 x(procedure)S
3899 X 647 y(that)S 182 x(has)S 182 x(the)S 183 x(following)S 182 x
(declaration)S -2 x(:)S 3899 37373 XY F36(24)S 498 x(CMA)S 165 x(Library)S
167 x(Services)S
%%EndCustomColor: 0
29 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman Helvetica-BoldOblique
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 25 30
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3873 XY F98(procedure)S 269 x(CMA_LIB_QUEUE_REQUEUE)S 269 x(\()S
8173 X 498 y(QUEUE)S 11401 X(:)S 269 x(in)S 269 x(CMA_LIB_T_QUEUE;)S
8173 X 498 y(ELEMENT)S 11401 X(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\);)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lib_queue_requeue)S 269 x(\()S
6021 X 498 y(cma_lib_t_queue)S 11401 X(*queue,)S 6021 X 498 y(cma_t_address)S
11401 X(element\);)S 3899 8954 XY F147(Parameters:)S 3899 X 896 y F38
(queue)S 8282 X(The)S 150 x(handle)S 151 x(of)S 149 x(the)S 150 x(queue)S
150 x(to)S 150 x(which)S 149 x(the)S 150 x(element)S 150 x(is)S 149 x
(to)S 149 x(be)S 150 x(added.)S 3899 X 698 y(element)S 8282 X(The)S
150 x(addre)S 2 x(ss)S 149 x(of)S 150 x(the)S 149 x(queue)S 151 x(element)S
150 x(that)S 149 x(is)S 150 x(to)S 149 x(be)S 150 x(added.)S 3899 11544 XY
23316 48 R 3899 12142 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 298 y 23316 48 R 3899 13138 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 15678 XY F147(This)S 207 x(operation)S
207 x(adds)S 207 x(a)S 207 x(new)S 208 x(element)S 208 x(to)S 208 x
(the)S 208 x(front)S 209 x(of)S 208 x(the)S 208 x(speci\211ed)S 206 x
(queue.)S 320 x(If)S 208 x(no)S 208 x(pre-allocated)S 3899 X 648 y(queue)S
252 x(items)S 252 x(are)S 252 x(availab)S -2 x(le)S 253 x(for)S 253 x
(the)S 253 x(queue,)S 269 x(the)S 253 x(thread)S 252 x(will)S 251 x
(be)S 253 x(blocked)S 251 x(until)S 252 x(an)S 252 x(element)S 252 x
(is)S 3899 X 647 y(removed)S 225 x(from)S 227 x(the)S 225 x(queue;)S
246 x(at)S 225 x(which)S 226 x(time)S 225 x(the)S 225 x(thread)S 225 x
(will)S 224 x(resume,)S 237 x(the)S 225 x(new)S 225 x(element)S 225 x
(will)S 225 x(be)S 3899 X 648 y(added)S -2 x(,)S 183 x(and)S 182 x(the)S
182 x(operation)S 182 x(will)S 182 x(return.)S 3899 18617 XY(`)S -10 x
(`Requeu)S -2 x(ing')S -10 x(')S 199 x(allows)S 198 x(the)S 199 x(client)S
199 x(to)S 200 x(replace)S 198 x(an)S 199 x(item)S 199 x(which)S 199 x
(was)S 199 x(erroneously)S 199 x(removed)S 199 x(from)S 201 x(the)S
3899 X 648 y(queue.)S 321 x(For)S 210 x(example,)S 214 x(if)S 209 x
(a)S 208 x(single)S 208 x(queue)S 208 x(holds)S 207 x(information)S
208 x(of)S 209 x(various)S 208 x(types,)S 216 x(a)S 208 x(server)S 209 x
(thread)S 3899 X 647 y(can)S 243 x(remove)S 244 x(the)S 243 x(oldest)S
242 x(\(\211rst\))S 244 x(element)S 243 x(of)S 244 x(the)S 243 x(queue,)S
258 x(check)S 243 x(its)S 243 x(type,)S 259 x(and)S 242 x(then)S 243 x
F148(requeue)S 244 x F147(the)S 3899 X 648 y(element)S 212 x(if)S 213 x
(it')S -20 x(s)S 212 x(not)S 213 x(the)S 213 x(desired)S 211 x(type)S
213 x(\(rather)S 214 x(than)S 212 x F148(enqueuing)S 213 x F147(it,)S
220 x(which)S 213 x(would)S 212 x(place)S 212 x(it)S 213 x(at)S 213 x
(the)S 3899 X 648 y(end)S 182 x(of)S 183 x(the)S 182 x(queue\).)S 3899 22702 XY
F32(3.2.8)S 547 x F33(cma_lib_queue)S -2 x(_try_dequeu)S -2 x(e)S 3899 23698 XY
F147(An)S 140 x(element)S 141 x(can)S 141 x(be)S 141 x(removed)S 141 x
(from)S 142 x(the)S 141 x(front)S 142 x(of)S 142 x(an)S 140 x(atomic)S
141 x(queue)S 140 x(object)S 142 x(by)S 141 x(callin)S -2 x(g)S 142 x
(the)S 141 x(procedure)S 3899 X 648 y(that)S 182 x(has)S 182 x(the)S
183 x(following)S 182 x(declaration)S -2 x(:)S 4945 25392 XY F98(function)S
269 x(CMA_LIB_QUEUE_TRY_DEQUEUE)S 269 x(\()S 8173 X 498 y(QUEUE)S 11401 X
(:)S 269 x(in)S 269 x(CMA_LIB_T_QUEUE;)S 8173 X 498 y(ELEMENT)S 11401 X
(:)S 269 x(out)S 269 x(CMA_T_ADDRESS\))S 269 x(return)S 268 x(CMA_T_BOOLEAN;)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(cma_t_boolean)S 4945 X 498 y(cma_lib_queue_try_dequeue)S
269 x(\()S 6021 X 498 y(cma_lib_t_queue)S 11401 X(*queue,)S 6021 X 499 y
(cma_t_address)S 11401 X(*element\);)S 3899 30473 XY F147(Parameters:)S
3899 X 896 y F38(queue)S 8282 X(The)S 150 x(handle)S 151 x(of)S 149 x
(the)S 150 x(queue)S 150 x(from)S 150 x(which)S 150 x(the)S 149 x(element)S
150 x(is)S 150 x(to)S 149 x(be)S 150 x(remove)S 2 x(d.)S 3899 X 698 y
(element)S 8282 X(The)S 150 x(variable)S 150 x(in)S 150 x(which)S 149 x
(the)S 149 x(addr)S 2 x(ess)S 150 x(of)S 149 x(the)S 150 x(removed)S
151 x(queue)S 151 x(element)S 150 x(is)S 149 x(to)S 149 x(be)S 150 x
(returne)S 2 x(d.)S 3899 33063 XY 23316 48 R 3899 33661 XY(Error)S 10026 X
(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X 299 y
23316 48 R 3899 34657 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 20955 37373 XY F36(CMA)S 165 x(Lib)S 2 x(rary)S 165 x(Services)S
499 x(25)S
%%EndCustomColor: 0
30 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%+ NewCenturySchlbk-Roman Helvetica NewCenturySchlbk-Italic
%%+ Helvetica-BoldOblique
%%PageCustomColors: 0
%
%%Page: 26 31
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4248 XY F38(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 298 y 23316 48 R 3899 5244 XY
(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S
193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x
(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S
192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S
149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 7087 XY F147
(This)S 212 x(operation)S 212 x(removes)S 213 x(the)S 213 x(\211rst)S
213 x(element)S 213 x(on)S 212 x(the)S 213 x(speci\211ed)S 211 x(queue,)S
220 x(and)S 212 x(returns)S 213 x(the)S 213 x(value)S 212 x(of)S 3899 X
647 y(that)S 188 x(element.)S 259 x(If)S 188 x(the)S 188 x(queue)S 187 x
(is)S 187 x(empty)S -60 x(,)S 189 x(the)S 188 x(operation)S 187 x(will)S
187 x(return)S 188 x(with)S 188 x(the)S 188 x(status)S 187 x F148(cma_c_false)S
F147(.)S 3899 X 648 y(If)S 162 x(the)S 161 x(queue)S 161 x(is)S 161 x
(not)S 161 x(empty)S -61 x(,)S 166 x(the)S 162 x(\211rst)S 161 x(element)S
161 x(value)S 161 x(is)S 161 x(returned)S 161 x(in)S 161 x F149(elem)S
-2 x(ent)S F147(,)S 167 x(and)S 160 x(the)S 162 x(operation)S 3899 X
648 y(returns)S 183 x(with)S 182 x(the)S 183 x(status)S 181 x F148(cma_c_true)S
F147(.)S 3899 10524 XY F32(3.2.9)S 547 x F33(cma_lib_queue)S -2 x(_try_enqueu)S
-2 x(e)S 3899 11520 XY F147(An)S 167 x(element)S 168 x(can)S 168 x(be)S
167 x(added)S 166 x(to)S 168 x(the)S 168 x(end)S 168 x(of)S 168 x(an)S
167 x(atomic)S 168 x(queue)S 167 x(object)S 169 x(by)S 167 x(calling)S
167 x(the)S 168 x(procedure)S 168 x(that)S 3899 X 648 y(has)S 182 x
(the)S 182 x(following)S 182 x(declaration:)S 4945 13214 XY F98(function)S
269 x(CMA_LIB_QUEUE_TRY_ENQUEUE)S 269 x(\()S 8173 X 498 y(QUEUE)S 11401 X
(:)S 269 x(in)S 269 x(CMA_LIB_T_QUEUE;)S 8173 X 498 y(ELEMENT)S 11401 X
(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\))S 269 x(return)S 268 x(CMA_T_BOOLEAN;)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(cma_t_boolean)S 4945 X 498 y(cma_lib_queue_try_enqueue)S
269 x(\()S 6021 X 498 y(cma_lib_t_queue)S 11401 X(*queue,)S 6021 X 499 y
(cma_t_address)S 11401 X(element\);)S 3899 18295 XY F147(Parameters:)S
3899 X 897 y F38(queue)S 8282 X(The)S 150 x(handle)S 151 x(of)S 149 x
(the)S 150 x(queue)S 150 x(to)S 150 x(which)S 149 x(the)S 150 x(element)S
150 x(is)S 149 x(to)S 149 x(be)S 150 x(added.)S 3899 X 697 y(element)S
8282 X(The)S 150 x(addre)S 2 x(ss)S 149 x(of)S 150 x(the)S 149 x(queue)S
151 x(element)S 150 x(that)S 149 x(is)S 150 x(to)S 149 x(be)S 150 x
(added.)S 3899 20885 XY 23316 48 R 3899 21483 XY(Error)S 10026 X(Kind)S
149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X 299 y 23316 48 R
3899 22479 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S 14409 X
(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x
(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S
3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 298 y 23316 48 R 3899 25020 XY
F147(This)S 227 x(operation)S 226 x(add)S -2 x(s)S 227 x(a)S 227 x(new)S
227 x(element)S 227 x(to)S 227 x(the)S 227 x(end)S 226 x(of)S 228 x
(the)S 227 x(speci\211)S -2 x(ed)S 227 x(queue.)S 376 x(If)S 228 x(no)S
227 x(pre-allocated)S 3899 X 647 y(queue)S 204 x(items)S 205 x(are)S
204 x(availab)S -2 x(le)S 205 x(for)S 206 x(the)S 204 x(queue,)S 211 x
(the)S 204 x(operation)S 204 x(will)S 204 x(return)S 206 x(with)S 204 x
(the)S 205 x(status)S 204 x F148(cma_c_)S 3899 X 648 y(false)S F147
(.)S 386 x(Otherwise,)S 242 x(the)S 229 x(element)S 229 x(is)S 229 x
(added)S 228 x(to)S 230 x(the)S 230 x(queue,)S 241 x(and)S 228 x(the)S
230 x(operation)S 228 x(returns)S 230 x(with)S 230 x(the)S 3899 X 647 y
(status)S 182 x F148(cma_c_true)S F147(.)S 3899 28457 XY F32(3.2.10)S
547 x F33(cma_lib_queu)S -2 x(e_try_requeu)S -2 x(e)S 3899 29453 XY
F147(An)S 224 x(element)S 224 x(can)S 225 x(be)S 224 x(added)S 223 x
(to)S 225 x(the)S 225 x(front)S 226 x(of)S 225 x(an)S 224 x(atomic)S
225 x(queue)S 224 x(object)S 225 x(by)S 225 x(calli)S -2 x(ng)S 225 x
(the)S 225 x(procedure)S 3899 X 648 y(that)S 182 x(has)S 182 x(the)S
183 x(following)S 182 x(declaration)S -2 x(:)S 4945 31147 XY F98(function)S
269 x(CMA_LIB_QUEUE_TRY_REQUEUE)S 269 x(\()S 8173 X 498 y(QUEUE)S 11401 X
(:)S 269 x(in)S 269 x(CMA_LIB_T_QUEUE;)S 8173 X 498 y(ELEMENT)S 11401 X
(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\))S 269 x(return)S 268 x(CMA_T_BOOLEAN;)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(cma_t_boolean)S 4945 X 498 y(cma_lib_queue_try_requeue)S
269 x(\()S 6021 X 498 y(cma_lib_t_queue)S 11401 X(*queue,)S 6021 X 498 y
(cma_t_address)S 11401 X(element\);)S 3899 37373 XY F36(26)S 498 x(CMA)S
165 x(Library)S 167 x(Services)S
%%EndCustomColor: 0
31 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ NewCenturySchlbk-Bold Helvetica-BoldOblique
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 27 32
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3985 XY F147(Parameters:)S 3899 X 897 y F38(queue)S 8282 X(The)S
150 x(handle)S 151 x(of)S 149 x(the)S 150 x(queue)S 150 x(to)S 150 x
(which)S 149 x(the)S 150 x(element)S 150 x(is)S 149 x(to)S 149 x(be)S
150 x(added.)S 3899 X 698 y(element)S 8282 X(The)S 150 x(addre)S 2 x
(ss)S 149 x(of)S 150 x(the)S 149 x(queue)S 151 x(element)S 150 x(that)S
149 x(is)S 150 x(to)S 149 x(be)S 150 x(added.)S 3899 6576 XY 23316 48 R
3899 7174 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 298 y 23316 48 R 3899 8170 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 10710 XY F147(This)S 207 x(operation)S
207 x(adds)S 207 x(a)S 207 x(new)S 208 x(element)S 208 x(to)S 208 x
(the)S 208 x(front)S 209 x(of)S 208 x(the)S 208 x(speci\211ed)S 206 x
(queue.)S 320 x(If)S 208 x(no)S 208 x(pre-allocated)S 3899 X 648 y(queue)S
204 x(items)S 205 x(are)S 204 x(availab)S -2 x(le)S 205 x(for)S 206 x
(the)S 204 x(queue,)S 211 x(the)S 204 x(operation)S 204 x(will)S 204 x
(return)S 206 x(with)S 204 x(the)S 205 x(status)S 204 x F148(cma_c_)S
3899 X 647 y(false)S F147(.)S 386 x(Otherwise,)S 242 x(the)S 229 x(element)S
229 x(is)S 229 x(added)S 228 x(to)S 230 x(the)S 230 x(queue,)S 241 x
(and)S 228 x(the)S 230 x(operation)S 228 x(returns)S 230 x(with)S 230 x
(the)S 3899 X 648 y(status)S 182 x F148(cma_c_true)S F147(.)S 3899 13649 XY
(`)S -10 x(`Requeu)S -2 x(ing')S -10 x(')S 199 x(allows)S 198 x(the)S
199 x(client)S 199 x(to)S 200 x(replace)S 198 x(an)S 199 x(item)S 199 x
(which)S 199 x(was)S 199 x(erroneously)S 199 x(removed)S 199 x(from)S
201 x(the)S 3899 X 648 y(queue.)S 321 x(For)S 210 x(example,)S 214 x
(if)S 209 x(a)S 208 x(single)S 208 x(queue)S 208 x(holds)S 207 x(information)S
208 x(of)S 209 x(various)S 208 x(types,)S 216 x(a)S 208 x(server)S 209 x
(thread)S 3899 X 647 y(can)S 243 x(remove)S 244 x(the)S 243 x(oldest)S
242 x(\(\211rst\))S 244 x(element)S 243 x(of)S 244 x(the)S 243 x(queue,)S
258 x(check)S 243 x(its)S 243 x(type,)S 259 x(and)S 242 x(then)S 243 x
F148(requeue)S 244 x F147(the)S 3899 X 648 y(element)S 212 x(if)S 213 x
(it')S -20 x(s)S 212 x(not)S 213 x(the)S 213 x(desired)S 211 x(type)S
213 x(\(rather)S 214 x(than)S 212 x F148(enqueuing)S 213 x F147(it,)S
220 x(which)S 213 x(would)S 212 x(place)S 212 x(it)S 213 x(at)S 213 x
(the)S 3899 X 648 y(end)S 182 x(of)S 183 x(the)S 182 x(queue\).)S 3899 17734 XY
F32(3.2.1)S -31 x(1)S 548 x F33(cma_lib_que)S -2 x(ue_try_enque)S -2 x
(ue_int)S 3899 18730 XY F147(An)S 149 x(element)S 149 x(can)S 149 x
(be)S 149 x(added)S 148 x(to)S 149 x(the)S 150 x(end)S 149 x(of)S 149 x
(an)S 149 x(atomic)S 150 x(queue)S 148 x(object)S 150 x(from)S 150 x
(interrupt)S 149 x(level)S 149 x(by)S 150 x(calli)S -2 x(ng)S 3899 X
648 y(the)S 182 x(procedure)S 183 x(that)S 182 x(has)S 182 x(the)S 182 x
(following)S 183 x(declarati)S -2 x(on:)S 4945 20424 XY F98(function)S
269 x(CMA_LIB_QUEUE_TRY_ENQUEUE_INT)S 269 x(\()S 8173 X 498 y(QUEUE)S
11401 X(:)S 269 x(in)S 269 x(CMA_LIB_T_QUEUE;)S 8173 X 498 y(ELEMENT)S
11401 X(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\))S 269 x(return)S 268 x
(CMA_T_BOOLEAN;)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(cma_t_boolean)S 4945 X 498 y(cma_lib_queue_try_enqueue_int)S
269 x(\()S 6021 X 498 y(cma_lib_t_queue)S 11401 X(*queue,)S 6021 X 499 y
(cma_t_address)S 11401 X(element\);)S 3899 25505 XY F147(Parameters:)S
3899 X 896 y F38(queue)S 8282 X(The)S 150 x(handle)S 151 x(of)S 149 x
(the)S 150 x(queue)S 150 x(to)S 150 x(which)S 149 x(the)S 150 x(element)S
150 x(is)S 149 x(to)S 149 x(be)S 150 x(added.)S 3899 X 698 y(element)S
8282 X(The)S 150 x(addre)S 2 x(ss)S 149 x(of)S 150 x(the)S 149 x(queue)S
151 x(element)S 150 x(that)S 149 x(is)S 150 x(to)S 149 x(be)S 150 x
(added.)S 3899 28095 XY 23316 48 R 3899 28693 XY(Error)S 10026 X(Kind)S
149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X 299 y 23316 48 R
3899 29689 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S 14409 X
(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x
(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S
3899 X 697 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 32230 XY
F147(This)S 227 x(operation)S 226 x(add)S -2 x(s)S 227 x(a)S 227 x(new)S
227 x(element)S 227 x(to)S 227 x(the)S 227 x(end)S 226 x(of)S 228 x
(the)S 227 x(speci\211)S -2 x(ed)S 227 x(queue.)S 376 x(If)S 228 x(no)S
227 x(pre-allocated)S 3899 X 647 y(queue)S 204 x(items)S 205 x(are)S
204 x(availab)S -2 x(le)S 205 x(for)S 206 x(the)S 204 x(queue,)S 211 x
(the)S 204 x(operation)S 204 x(will)S 204 x(return)S 206 x(with)S 204 x
(the)S 205 x(status)S 204 x F148(cma_c_)S 3899 X 648 y(false)S F147
(.)S 386 x(Otherwise,)S 242 x(the)S 229 x(element)S 229 x(is)S 229 x
(added)S 228 x(to)S 230 x(the)S 230 x(queue,)S 241 x(and)S 228 x(the)S
230 x(operation)S 228 x(returns)S 230 x(with)S 230 x(the)S 3899 X 647 y
(status)S 182 x F148(cma_c_true)S F147(.)S 20955 37373 XY F36(CMA)S
165 x(Lib)S 2 x(rary)S 165 x(Services)S 499 x(27)S
%%EndCustomColor: 0
32 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica NewCenturySchlbk-Italic
%%+Helvetica-BoldOblique Courier
%%PageCustomColors: 0
%
%%Page: 28 33
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(This)S 151 x(operation)S 151 x(allows)S 151 x(a)S
151 x(client)S 151 x(program)S 152 x(to)S 152 x(add)S 150 x(elements)S
151 x(to)S 152 x(a)S 152 x(queue)S 151 x(from)S 152 x(a)S 152 x(software)S
152 x(interrupt)S 3899 X 648 y(handl)S -2 x(er)S -40 x(.)S 284 x(Threads)S
196 x(running)S 195 x(at)S 196 x(normal)S 195 x(non-interrupt)S 196 x
(level)S 196 x(can)S 195 x(add)S 195 x(or)S 197 x(remove)S 196 x(elements)S
196 x(from)S 3899 X 647 y(the)S 159 x(queue)S 159 x(normally)S -62 x
(.)S 236 x(The)S 160 x F148(cma_lib_queue_try_enqueue_int)S 159 x F147
(operation)S 159 x(is)S 158 x(the)S 159 x(only)S 159 x(atomic)S 159 x
(queue)S 3899 X 648 y(function)S 182 x(which)S 183 x(can)S 182 x(be)S
182 x(used)S 182 x(from)S 184 x(interrupt)S 182 x(level.)S 3899 37373 XY
F36(28)S 498 x(CMA)S 165 x(Library)S 167 x(Services)S
%%EndCustomColor: 0
33 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 29 34
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 12890 6666 XY F20(CHAPTER)S 500 x(4)S 11687 8161 XY F24(CMA)S 309 x
(COR)S -2 x(E)S 310 x(SER)S -12 x(VICES)S 3899 10153 XY F147(The)S 212 x
(CMA)S 211 x(Core)S 212 x(Services)S 212 x(provide)S 211 x(the)S 212 x
(portable)S 211 x(objects)S 212 x(and)S 211 x(operations)S 210 x(that)S
212 x(are)S 212 x(essentia)S -2 x(l)S 212 x(for)S 3899 X 648 y(multithreadi)S
-2 x(ng)S 183 x(regardless)S 181 x(of)S 183 x(target)S 184 x(pla)S -2 x
(tform.)S 3899 X 896 y(\201)S 714 x(Section)S 183 x(4.1)S 182 x(describes)S
181 x(the)S 183 x(null)S 181 x(handle)S 181 x(and)S 182 x(handl)S -2 x
(e)S 183 x(operations)S -2 x(.)S 3899 X 897 y(\201)S 714 x(Section)S
183 x(4.2)S 182 x(describes)S 181 x(attributes)S 182 x(objects)S 183 x
(and)S 181 x(operations.)S 3899 X 897 y(\201)S 714 x(Section)S 183 x
(4.3)S 182 x(describes)S 181 x(thread)S 182 x(objects)S 183 x(and)S
181 x(operations.)S 3899 X 896 y(\201)S 714 x(Section)S 183 x(4.4)S
182 x(describes)S 181 x(objects)S 183 x(and)S 181 x(operations)S 182 x
(for)S 183 x(synchronizing)S 181 x(with)S 183 x(another)S 182 x(thread.)S
3899 X 897 y(\201)S 714 x(Section)S 194 x(4.5)S 193 x(describes)S 193 x
(the)S 193 x(operations)S 193 x(for)S 194 x(initial)S -2 x(izing)S 193 x
(the)S 193 x(CMA)S 194 x(services,)S 196 x(and)S 193 x(for)S 194 x(creating)S
4945 X 647 y(sections)S 182 x(of)S 183 x(client)S 182 x(code)S 182 x
(which)S 183 x(are)S 182 x(executed)S 183 x(exactly)S 183 x(once.)S
3899 X 897 y(\201)S 714 x(Section)S 183 x(4.6)S 182 x(describes)S 181 x
(the)S 183 x(operations)S 181 x(for)S 183 x(saving)S 182 x(and)S 182 x
(restoring)S 183 x(per)S -10 x(-thread)S 182 x(client)S 182 x(context.)S
3899 X 897 y(\201)S 714 x(Section)S 183 x(4.7)S 182 x(describes)S 181 x
(the)S 183 x(operations)S 181 x(for)S 183 x(requesting)S 182 x(termination)S
182 x(of)S 183 x(\(`)S -10 x(`alerting')S -11 x('\))S 183 x(threads.)S
3899 18821 XY(The)S 177 x(sections)S 177 x(that)S 176 x(follow)S 178 x
(describi)S -2 x(ng)S 177 x(CMA)S 177 x(operations)S 176 x(use)S 176 x
(the)S 177 x(following)S 177 x(conventions)S 177 x(and)S 176 x(de\211-)S
3899 X 647 y(nitions)S 181 x(relating)S 182 x(to)S 183 x(alerting)S
182 x(threads.)S 3899 X 897 y(\201)S 714 x(`)S -10 x(`Alertabl)S -2 x
(e')S -10 x(')S 222 x(means)S 222 x(that)S 222 x(the)S 222 x(operation)S
221 x(may)S 223 x(raise)S 221 x(the)S 222 x F149(cma_e_ale)S -2 x(rted)S
223 x F147(exception)S 222 x(during)S 4945 X 647 y(its)S 161 x(execution.)S
237 x(`)S -10 x(`Not)S 162 x(alertabl)S -2 x(e')S -10 x(')S 162 x(means)S
161 x(that)S 162 x(the)S 162 x F149(cma_e_al)S -2 x(erted)S 163 x F147
(exception)S 161 x(is)S 162 x(not)S 162 x(raised)S 161 x(by)S 4945 X
648 y(the)S 183 x(operation)S -2 x(.)S 3899 X 897 y(\201)S 714 x(`)S
-10 x(`Alertsafe')S -11 x(')S 207 x(means)S 207 x(that)S 207 x(the)S
207 x(operation)S 206 x(may)S 208 x(be)S 207 x(called)S 206 x(with)S
207 x(the)S 207 x(asynchronous)S 206 x(delivery)S 207 x(of)S 4945 X
647 y(alert)S 222 x(exceptions)S 222 x(enabl)S -2 x(ed;)S 243 x(`)S
-10 x(`not)S 222 x(alertsafe')S -11 x(')S 222 x(means)S 222 x(that)S
222 x(the)S 223 x(operation)S 221 x(must)S 222 x(not)S 223 x(be)S 222 x
(called)S 4945 X 648 y(with)S 182 x(asynchronous)S 182 x(delivery)S
182 x(enabled)S -2 x(.)S 3899 24948 XY(CMA)S 177 x(operation)S -2 x
(s)S 177 x(are)S 177 x(not)S 177 x(alertable)S 176 x(and)S 176 x(are)S
177 x(not)S 177 x(alertsafe,)S 178 x(unless)S 176 x(speci\211ed)S 176 x
(otherwise.)S 241 x(A)S 177 x(more)S 3899 X 647 y(complete)S 154 x(description)S
154 x(of)S 155 x(alertable)S 154 x(and)S 154 x(alertsafe)S 154 x(can)S
155 x(be)S 154 x(found)S 155 x(in)S 154 x(Section)S 155 x(4.7.)S 235 x
(These)S 154 x(properties)S 3899 X 648 y(of)S 183 x(CMA)S 182 x(operations)S
181 x(can)S 183 x(be)S 182 x(ignored)S 182 x(on)S 183 x(a)S 182 x(\211rst)S
182 x(reading)S 182 x(of)S 183 x(this)S 182 x(document.)S 3899 27737 XY
F28(4.1)S 599 x(Handles)S 3899 28733 XY F147(The)S 191 x(operations)S
190 x(that)S 190 x(apply)S 190 x(to)S 191 x(all)S 190 x(handl)S -2 x
(es)S 191 x(are:)S 260 x(the)S 191 x(abili)S -2 x(ty)S 192 x(to)S 191 x
(specify)S 191 x(a)S 190 x(null)S 190 x(handl)S -2 x(e,)S 194 x(to)S
191 x(assi)S -2 x(gn)S 3899 X 648 y(handl)S -2 x(es,)S 183 x(and)S 182 x
(to)S 182 x(test)S 183 x(handl)S -2 x(es)S 183 x(for)S 183 x(equali)S
-2 x(ty)S -60 x(.)S 3899 30875 XY F32(4.1.1)S 547 x(Specifying)S 183 x
(a)S 182 x(Null)S 183 x(Handle)S 3899 31872 XY F147(The)S 180 x(need)S
178 x(often)S 180 x(arises)S 179 x(to)S 179 x(specify)S 180 x(no)S 179 x
(CMA)S 179 x(object)S 180 x(on)S 179 x(various)S 179 x(CMA)S 179 x(operations.)S
241 x(In)S 180 x(these)S 179 x(cases,)S 3899 X 647 y(a)S 182 x(null)S
182 x(hand)S -2 x(le)S 183 x(can)S 182 x(be)S 182 x(speci\211ed)S 181 x
(by)S 183 x(pass)S -2 x(ing)S 183 x(a)S 182 x(value)S 182 x(that)S 182 x
(has)S 182 x(the)S 183 x(following)S 182 x(declaration)S -2 x(:)S 21509 37373 XY
F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(29)S
%%EndCustomColor: 0
34 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 30 35
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4945 3903 XY F98(type)S 269 x(CMA_T_HANDLE)S 269 x(is)S 269 x(private;)S
4945 X 797 y(CMA_C_NULL)S 269 x(:)S 269 x(constant)S 269 x(CMA_T_HANDLE)S
269 x(:=)S 269 x(CMA_PRIVATE_NULL_HANDLE;)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(extern)S 269 x(cma_t_handle)S 269 x(cma_c_null;)S 3899 7290 XY
F148(Unpredictable)S 200 x F147(results)S 199 x(can)S 200 x(follow)S
200 x(from)S 202 x(pas)S -2 x(sing)S 200 x(a)S 200 x(null)S 199 x(handl)S
-2 x(e)S 200 x(for)S 201 x(a)S 200 x(parameter)S 200 x(that)S 200 x
(requires)S 3899 X 647 y(a)S 194 x(handle)S 193 x(\(unless)S 194 x(speci\211ed)S
193 x(otherwise\).)S 280 x(An)S 194 x(impl)S -2 x(ementation)S 194 x
(that)S 195 x(reports)S 194 x(the)S 195 x(error)S 195 x(raises)S 194 x
(the)S 3899 X 648 y F149(cma_e)S -2 x(_existence)S 182 x F147(exception.)S
3899 9581 XY(Passing)S 217 x(a)S 218 x(null)S 218 x(hand)S -2 x(le)S
218 x(is)S 218 x(legal)S 217 x(for)S 220 x(any)S 218 x(object)S 218 x
(deletion)S 217 x(operation)S 218 x(\(it)S 218 x(makes)S 218 x(such)S
218 x(operations)S 3899 X 648 y(idempotent)S -181 y F159(1)S 23 x 181 y
F147(\).)S 364 x(It)S 223 x(is)S 222 x(also)S 222 x(legal)S 221 x(to)S
223 x(pass)S 221 x(a)S 223 x(null)S 221 x(handl)S -2 x(e)S 223 x(instead)S
221 x(of)S 223 x(the)S 223 x(attributes)S 221 x(object)S 223 x(on)S
223 x(all)S 3899 X 647 y(object)S 220 x(creation)S 220 x(operations)S
-2 x(,)S 230 x(usuall)S -2 x(y)S 221 x(having)S 219 x(the)S 220 x(format)S
220 x(cma_XXX_create,)S 230 x(where)S 220 x(XXX)S 219 x(is)S 220 x(the)S
3899 X 648 y(object)S 183 x(name.)S -181 y F159(2)S 268 x 181 y F147
(In)S 182 x(the)S 183 x(latter)S 182 x(case,)S 183 x(it)S 182 x(indicates)S
181 x(that)S 182 x(default)S 182 x(attributes)S 182 x(are)S 183 x(to)S
182 x(be)S 183 x(used.)S 3899 13018 XY F32(4.1.2)S 547 x F33(cma_handle_)S
-2 x(assign)S 3899 14015 XY F147(The)S 200 x(value)S 199 x(of)S 201 x
(a)S 200 x(hand)S -2 x(le)S 200 x(can)S 200 x(be)S 199 x(copied)S 199 x
(by)S 200 x(calling)S 199 x(the)S 200 x(procedure)S 200 x(that)S 199 x
(has)S 199 x(the)S 200 x(following)S 200 x(decla-)S 3899 X 647 y(ration:)S
-649 x 15708 Y F98(procedure)S 269 x(CMA_HANDLE_ASSIGN)S 269 x(\()S
8173 X 498 y(HANDLE1)S 269 x(:)S 269 x(in)S 538 x(CMA_T_HANDLE;)S 8173 X
499 y(HANDLE2)S 269 x(:)S 269 x(out)S 269 x(CMA_T_HANDLE\);)S 4945 X
498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_handle_assign)S 269 x(\()S 6021 X
498 y(cma_t_handle)S 11132 X(*handle1,)S 6021 X 498 y(cma_t_handle)S
11132 X(*handle2\);)S 3899 20490 XY F147(Parameters:)S 3899 X 897 y
F38(handle1)S 8282 X(A)S 150 x(handle)S 150 x(whose)S 150 x(value)S
150 x(is)S 149 x(to)S 150 x(be)S 150 x(stored)S 150 x(into)S 149 x(handle2.)S
3899 X 697 y(handle2)S 8282 X(A)S 150 x(variable)S 150 x(to)S 149 x
(receive)S 151 x(the)S 149 x(value)S 150 x(from)S 150 x(handle1.)S 3899 23081 XY
F147(This)S 182 x(procedure)S 182 x(is)S 182 x(to)S 183 x(be)S 182 x
(used)S 182 x(to)S 183 x(assi)S -2 x(gn)S 183 x(handl)S -2 x(es.)S 3899 24077 XY
(Note:)S 339 x(The)S 231 x(architecture)S 231 x(requires)S 230 x(that)S
230 x(CMA)S 230 x(handl)S -2 x(es)S 231 x(can)S 230 x(be)S 230 x(copied)S
229 x(by)S 231 x(bitwise)S 229 x(assignment.)S 3899 X 648 y(If)S 185 x
(the)S 184 x(built-in)S 183 x(assignment)S 184 x(operator)S 184 x(for)S
185 x(a)S 184 x(language)S 184 x(is)S 183 x(capable)S 183 x(of)S 185 x
(assignin)S -2 x(g)S 185 x(records)S 185 x(\(or)S 185 x(struc-)S 3899 X
647 y(tures\),)S 245 x(the)S 232 x F148(cma_handle_assign)S 233 x F147
(procedure)S 231 x(need)S 232 x(not)S 232 x(be)S 232 x(used)S 231 x
(by)S 232 x(client)S 232 x(code)S 232 x(written)S 232 x(in)S 232 x(that)S
3899 X 648 y(language.)S 3899 27514 XY F32(4.1.3)S 547 x F33(cma_handle_)S
-2 x(equal)S 3899 28510 XY F147(A)S 212 x(hand)S -2 x(le)S 212 x(can)S
212 x(be)S 211 x(compared)S 212 x(with)S 212 x(another)S 211 x(handle)S
211 x(by)S 212 x(calli)S -2 x(ng)S 212 x(the)S 212 x(procedure)S 212 x
(that)S 212 x(has)S 211 x(the)S 212 x(fol-)S 3899 X 648 y(lowing)S 182 x
(declaration:)S 4945 30204 XY F98(function)S 269 x(CMA_HANDLE_EQUAL)S
269 x(\()S 8173 X 498 y(HANDLE1)S 269 x(:)S 269 x(in)S 269 x(CMA_T_HANDLE;)S
8173 X 498 y(HANDLE2)S 269 x(:)S 269 x(in)S 269 x(CMA_T_HANDLE\))S 269 x
(return)S 269 x(CMA_T_BOOLEAN;)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(cma_t_boolean)S 4945 X 499 y(cma_handle_equal)S 269 x(\()S
6021 X 498 y(cma_t_handle)S 11939 X(*handle1,)S 6021 X 498 y(cma_t_handle)S
11939 X(*handle2\);)S 3899 X 706 y 6996 24 R 4106 35090 XY F163(1)S
225 x 141 y F159(An)S 133 x(operation)S 133 x(is)S 131 x(idempotent)S
134 x(if)S 132 x(addi)S -2 x(tional)S 133 x(invocations)S 132 x(beyond)S
133 x(the)S 134 x(\211rst)S 133 x(have)S 133 x(no)S 133 x(additi)S -2 x
(onal)S 133 x(effects.)S 4106 X 486 y F163(2)S 225 x 140 y F159(This)S
132 x(document)S 134 x(uses)S 133 x(the)S 133 x(notation)S 134 x(XXX)S
131 x(to)S 133 x(indicate)S 132 x(where)S 134 x(various)S 132 x(text)S
133 x(substitutions)S 132 x(can)S 133 x(occur)S -29 x(.)S 3899 37573 XY
F36(30)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
35 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold Helvetica-BoldOblique
%%+ Helvetica
%%PageCustomColors: 0
%
%%Page: 31 36
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3985 XY F147(Parameters:)S 3899 X 897 y F38(handle1)S 8282 X(The)S
150 x(\211rst)S 150 x(handle)S 150 x(to)S 150 x(be)S 150 x(compare)S
2 x(d.)S 3899 X 698 y(handle2)S 8282 X(The)S 150 x(second)S 151 x(handle)S
150 x(to)S 150 x(be)S 150 x(compare)S 2 x(d.)S 3899 6576 XY F147(This)S
182 x(function)S 183 x(is)S 182 x(to)S 182 x(be)S 183 x(used)S 181 x
(to)S 183 x(compare)S 182 x(handles)S 181 x(for)S 184 x(equal)S -2 x
(ity)S -61 x(.)S 3899 7572 XY(The)S 175 x(value)S 173 x F148(cma_c_true)S
175 x F147(is)S 174 x(returned)S 174 x(if)S 174 x(the)S 175 x(hand)S
-2 x(les)S 174 x(have)S 174 x(values)S 173 x(indicating)S 173 x(that)S
174 x(they)S 175 x(designa)S -2 x(te)S 3899 X 648 y(the)S 210 x(same)S
209 x(object,)S 217 x(and)S 209 x(otherwise)S 209 x F148(cma_c_false)S
2 x F147(.)S 325 x(\(This)S 210 x(does)S 209 x F148(not)S 209 x F147
(involve)S 210 x(a)S 209 x(check)S 210 x(as)S 209 x(to)S 210 x(whether)S
3899 X 647 y(the)S 182 x(objects)S 183 x(currently)S 183 x(exist;)S
183 x(it)S 182 x(is)S 182 x(just)S 183 x(a)S 182 x(comparison)S 181 x
(of)S 184 x(hand)S -2 x(le)S 183 x(values)S -2 x(\).)S 3899 9863 XY
(Note:)S 379 x(the)S 250 x(architecture)S 251 x(requires)S 249 x(that)S
250 x(CMA)S 250 x(handl)S -2 x(es)S 250 x(can)S 250 x(be)S 250 x(tested)S
250 x(for)S 251 x(equality)S 249 x(by)S 250 x(bitwise)S 3899 X 648 y
(comparison.)S 493 x(For)S 266 x(example,)S 287 x(if)S 266 x(the)S 266 x
(buil)S -2 x(t-in)S 266 x(equality)S 265 x(operator)S 266 x(for)S 267 x
(a)S 265 x(language)S 265 x(is)S 266 x(capab)S -2 x(le)S 266 x(of)S
3899 X 648 y(comparing)S 157 x(records)S 158 x(\(sometimes)S 158 x(called)S
157 x(`)S -10 x(`structures')S -10 x('\),)S 163 x(the)S 158 x F148(cma_handle_equal)S
157 x F147(function)S 158 x(need)S 158 x(not)S 3899 X 647 y(be)S 182 x
(used)S 182 x(by)S 182 x(client)S 182 x(code)S 183 x(written)S 183 x
(in)S 182 x(that)S 182 x(language.)S 3899 13301 XY F28(4.2)S 599 x(Attributes)S
199 x(Objec)S 2 x(ts)S 3899 14297 XY F147(An)S 146 x(attributes)S 146 x
(object)S 147 x(is)S 146 x(a)S 146 x(CMA)S 147 x(object)S 147 x(that)S
146 x(can)S 147 x(be)S 146 x(used)S 146 x(to)S 147 x(specify)S 146 x
(the)S 147 x(attributes)S 146 x(when)S 146 x(creating)S 3899 X 647 y
(other)S 183 x(CMA)S 182 x(objects.)S 3899 16439 XY F32(4.2.1)S 547 x
F33(cma_attr_create)S 3899 17435 XY F147(An)S 178 x(attributes)S 178 x
(object)S 178 x(can)S 179 x(be)S 178 x(created)S 179 x(by)S 178 x(calling)S
177 x(the)S 179 x(procedure)S 178 x(that)S 179 x(has)S 177 x(the)S 179 x
(following)S 178 x(declara-)S 3899 X 648 y(tion:)S -101 x 19129 Y F98
(subtype)S 269 x(CMA_T_ATTR)S 269 x(is)S 269 x(CMA_T_HANDLE;)S 4945 X
797 y(procedure)S 269 x(CMA_ATTR_CREATE)S 269 x(\()S 8173 X 498 y(NEW_ATT)S
269 x(:)S 269 x(out)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(ATT)S 10325 X
(:)S 269 x(in)S 538 x(CMA_T_ATTR\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_create)S 269 x(\()S 6021 X
498 y(cma_t_attr)S 10056 X(*new_att,)S 6021 X 498 y(cma_t_attr)S 10056 X
(*att\);)S 3899 25007 XY F147(Parameters:)S 3899 X 896 y F38(new_att)S
8282 X(A)S 150 x(variable)S 150 x(to)S 149 x(be)S 150 x(modi\211ed)S
151 x(in)S 149 x(order)S 151 x(to)S 149 x(referenc)S 2 x(e)S 149 x(the)S
150 x(new)S 150 x(attributes)S 149 x(object.)S 3899 X 698 y(att)S 8282 X
(An)S 150 x(attributes)S 150 x(object,)S 149 x(or)S 150 x(cma_c_n)S
2 x(ull.)S 8282 X 647 y(This)S 179 x(param)S 2 x(eter)S 179 x(should)S
180 x(have)S 179 x(a)S 179 x(value)S 180 x(other)S 179 x(than)S 180 x
(cma_c_nu)S 2 x(ll)S 177 x(only)S 180 x(if)S 178 x(the)S 178 x(attributes)S
179 x(object)S 179 x(to)S 179 x(be)S 8282 X 548 y(created)S 182 x(should)S
180 x(itself)S 179 x(have)S 181 x(some)S 181 x(special)S 180 x(attributes\202no)S
181 x(such)S 181 x(special)S 180 x(attributes)S 180 x(are)S 181 x(de\211ned)S
181 x(by)S 8282 X 548 y(the)S 150 x(CMA)S 150 x(architecture,)S 150 x
(but)S 149 x(may)S 151 x(be)S 150 x(de\211ned)S 151 x(by)S 149 x(some)S
151 x(implementation.)S 3899 29340 XY 23316 48 R 3899 29938 XY(Error)S
10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X
299 y 23316 48 R 3899 30934 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 33475 XY
F147(This)S 225 x(operation)S 224 x(creates)S 225 x(an)S 224 x(attributes)S
225 x(object,)S 236 x(which)S 225 x(can)S 225 x(be)S 224 x(used)S 225 x
(when)S 225 x(creating)S 225 x(other)S 225 x(CMA)S 3899 X 647 y(objects.)S
21509 37373 XY F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(31)S
%%EndCustomColor: 0
36 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica NewCenturySchlbk-Italic
%%+Helvetica-BoldOblique Courier
%%PageCustomColors: 0
%
%%Page: 32 37
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(The)S 196 x(individ)S -2 x(ual)S 195 x(attributes)S
196 x(\(internal)S 195 x(\211elds\))S 195 x(of)S 197 x(the)S 196 x(attributes)S
195 x(object)S 197 x(are)S 196 x(set)S 196 x(to)S 196 x(default)S 195 x
(values.)S 3899 X 648 y(Some)S 202 x(default)S 202 x(values)S 201 x
(are)S 202 x(chosen)S 202 x(by)S 202 x(the)S 202 x(CMA)S 202 x(architecture,)S
208 x(others)S 202 x(are)S 202 x(chosen)S 202 x(by)S 202 x(the)S 202 x
(imple-)S 3899 X 647 y(mentation.)S 229 x(If)S 140 x(default)S 140 x
(values)S 139 x(are)S 140 x(not)S 140 x(adequate)S 139 x(for)S 141 x
(the)S 140 x(appl)S -2 x(ication,)S 148 x(then)S 140 x(that)S 140 x
(appl)S -2 x(ication)S 140 x(must)S 3899 X 648 y(explicitl)S -2 x(y)S
155 x(specify)S 154 x(the)S 155 x(values)S 153 x(it)S 154 x(actually)S
154 x(requires)S 153 x(by)S 155 x(calli)S -2 x(ng)S 155 x(the)S 154 x
F148(cma_attr_set_XXX)S 153 x F147(operations.)S 3899 6945 XY(Whenever)S
271 x(an)S 271 x(attributes)S 270 x(object)S 272 x(is)S 270 x(used)S
270 x(to)S 272 x(create)S 272 x(another)S 270 x(CMA)S 271 x(object,)S
294 x(the)S 271 x(values)S 271 x(of)S 272 x(the)S 3899 X 648 y(indi)S
-2 x(vidual)S 257 x(attributes)S 257 x(determine)S 258 x(the)S 258 x
(characteristics)S 258 x(of)S 259 x(the)S 258 x(new)S 258 x(object.)S
471 x(Attributes)S 258 x(objects)S 3899 X 647 y(act)S 222 x(like)S 220 x
(additi)S -2 x(onal)S 221 x(parameters)S 221 x(to)S 222 x(object)S 222 x
(creation,)S 231 x(and)S 221 x(changing)S 221 x(indi)S -2 x(vidual)S
221 x(attributes)S 220 x(does)S 3899 X 648 y(not)S 199 x(affect)S 201 x
(any)S 199 x(objects)S 199 x(that)S 199 x(were)S 200 x(previously)S
199 x(created)S 199 x(using)S 198 x(the)S 200 x(attributes)S 198 x(object.)S
295 x(\(There)S 200 x(is)S 199 x(a)S 3899 X 648 y(potential)S 181 x
(performance)S 183 x(impli)S -2 x(cation,)S 183 x(which)S 182 x(is)S
182 x(discusse)S -2 x(d)S 183 x(below\).)S 3899 10532 XY(An)S 190 x
(attributes)S 191 x(object)S 191 x(can)S 191 x(be)S 191 x(deleted)S
189 x(using)S 191 x F148(cma_attr_delete)S 191 x F147(as)S 191 x(soon)S
190 x(as)S 191 x(it)S 190 x(is)S 191 x(no)S 191 x(longer)S 191 x(needed)S
3899 X 647 y(to)S 183 x(create)S 183 x(objects.)S 3899 12176 XY(The)S
147 x(architecture)S 148 x(requires)S 147 x(that)S 147 x(any)S 147 x
(object)S 147 x(created)S 147 x(by)S 147 x(specifying)S 147 x(default)S
147 x(attributes)S 146 x(\(that)S 148 x(is,)S 154 x(by)S 3899 X 647 y
(specifying)S 161 x(an)S 161 x(attributes)S 161 x(object)S 162 x(to)S
162 x(which)S 162 x(no)S 162 x F148(cma_attr_set_XXX)S 160 x F147(operations)S
161 x(have)S 161 x(been)S 162 x(app)S -2 x(lied\))S 3899 X 648 y(is)S
180 x(iden)S -2 x(tical)S 180 x(to)S 180 x(an)S 180 x(object)S 181 x
(created)S 180 x(by)S 180 x(specifying)S 180 x F148(cma_c_null)S 181 x
F147(for)S 181 x(the)S 180 x F148(att)S 180 x F147(parameter)S 180 x
(to)S 180 x(the)S 181 x F148(cma_)S 3899 X 647 y(XXX_create)S 182 x
F147(operation.)S 3899 15115 XY(Every)S 163 x(impl)S -2 x(ementation)S
162 x(must)S 162 x(allow)S 161 x(any)S 162 x(CMA)S 162 x(object)S 163 x
(to)S 162 x(be)S 162 x(created)S 162 x(using)S 162 x(default)S 161 x
(attributes,)S 166 x(or)S 3899 X 647 y(by)S 193 x(specifying)S 193 x
(the)S 194 x(value)S 193 x F148(cma_c_null)S 194 x F147(for)S 195 x
(the)S 193 x(creation)S 193 x(attributes.)S 276 x(That)S 194 x(is,)S
196 x(no)S 193 x(implementation)S 3899 X 648 y(can)S 182 x(force)S 184 x
(an)S 182 x(appl)S -2 x(ication)S 182 x(to)S 183 x(explicitl)S -2 x
(y)S 183 x(set)S 183 x(any)S 182 x(attribute.)S 3899 17406 XY(Notes:)S
3899 X 897 y F36(1.)S 631 x F147(The)S 148 x(default)S 147 x(value)S
147 x(used)S 146 x(when)S 148 x(an)S 147 x(app)S -2 x(lication)S 147 x
(fails)S 146 x(to)S 148 x(specify)S 147 x(an)S 148 x(ind)S -2 x(ividual)S
146 x(attribute)S 147 x(value)S 4945 X 647 y(depend)S -2 x(s)S 186 x
(on)S 187 x(the)S 186 x(de\211niti)S -2 x(on)S 187 x(of)S 187 x(that)S
186 x(attribute.)S 255 x(For)S 187 x(some)S 186 x(attributes,)S 187 x
(the)S 186 x(CMA)S 186 x(architecture)S 4945 X 648 y(de\211nes)S 191 x
(the)S 192 x(default)S 191 x(value)S 192 x(to)S 192 x(be)S 192 x(used.)S
271 x(For)S 193 x(other)S 192 x(attributes,)S 194 x(and)S 192 x(certainly)S
191 x(for)S 193 x(implemen-)S 4945 X 647 y(tation)S 182 x(depend)S -2 x
(ent)S 183 x(attributes,)S 182 x(the)S 182 x(implementation)S 181 x
(de\211nes)S 182 x(the)S 182 x(default)S 182 x(value)S 182 x(to)S 183 x
(be)S 182 x(used.)S 3899 X 897 y F36(2.)S 631 x F147(CMA)S 187 x(operations)S
187 x(are)S 188 x(de\211ned)S 186 x(so)S 188 x(that)S 187 x(an)S 188 x
(implementa)S -2 x(tion)S 188 x(may)S 188 x(associa)S -2 x(te)S 188 x
(caches)S 188 x(with)S 188 x(any)S 4945 X 648 y(attributes)S 169 x(object.)S
240 x(Modifying)S 170 x(an)S 169 x(individ)S -2 x(ual)S 169 x(attribute)S
170 x(after)S 170 x(the)S 170 x(attributes)S 170 x(object)S 170 x(has)S
169 x(been)S 4945 X 647 y(used)S 204 x(to)S 205 x(create)S 205 x(one)S
205 x(or)S 205 x(more)S 205 x(objects)S 205 x(is)S 205 x(legal,)S 209 x
(but)S 205 x(it)S 205 x(may)S 205 x(have)S 204 x(performance)S 206 x
(impl)S -2 x(ications.)S 4945 X 648 y(Such)S 182 x(a)S 182 x(modi\211cati)S
-2 x(on)S 182 x(may)S 182 x(prevent)S 182 x(a)S 182 x(particular)S 181 x
(implementa)S -2 x(tion)S 182 x(from)S 183 x(caching)S 182 x(the)S 182 x
(objects)S 4945 X 647 y(that)S 215 x(were)S 215 x(created)S 215 x(before)S
215 x(the)S 215 x(modi\211cation.)S 339 x(Implementations)S 214 x(are)S
214 x(not)S 215 x(required)S 214 x(to)S 215 x(docu-)S 4945 X 648 y(ment)S
183 x(such)S 182 x(performance)S 183 x(effects.)S 3899 X 897 y F36(3.)S
631 x F147(Deleting)S 167 x(an)S 166 x(attributes)S 166 x(object)S 168 x
(indi)S -2 x(cates)S 167 x(to)S 167 x(the)S 167 x(implementation)S 166 x
(that)S 166 x(any)S 167 x(cache)S 167 x(associated)S 4945 X 647 y(with)S
182 x(the)S 183 x(attributes)S 182 x(object)S 183 x(can)S 182 x(be)S
182 x(immediately)S 182 x(\212ushed)S -2 x(.)S 12318 26970 XY F153(IMPLEMENTOR'S)S
165 x(NOTE)S 4796 X 897 y(There)S 214 x(may)S 216 x(someday)S 216 x
(be)S 215 x(a)S 216 x(future)S 215 x(extensio)S 2 x(n)S 215 x(to)S 216 x
(allo)S 2 x(w)S 215 x(a)S 216 x(user)S 215 x(to)S 216 x(specify)S 216 x
(where)S 215 x(CMA)S 4796 X 598 y(objects)S 178 x(are)S 178 x(placed,)S
182 x(much)S 178 x(as)S 179 x(users)S 178 x(can)S 178 x(specify)S 179 x
(memory)S 177 x(pool)S 2 x(s)S 178 x(on)S 178 x(some)S 178 x(systems.)S
258 x(Im-)S 4796 X 597 y(plementors)S 227 x(shoul)S 2 x(d)S 227 x(keep)S
228 x(this)S 228 x(possible)S 228 x(future)S 227 x(extensio)S 2 x(n)S
227 x(in)S 228 x(mind.)S 406 x(This)S 228 x(is)S 227 x(just)S 228 x
(one)S 4796 X 598 y(reason)S 166 x(why)S 166 x(all)S 168 x(object)S
166 x(creation)S 167 x(operation)S 2 x(s)S 166 x(take)S 167 x(an)S 166 x
(attributes)S 167 x(object.)S 3899 31154 XY F32(4.2.2)S 547 x F33(cma_attr_delete)S
3899 32151 XY F147(An)S 180 x(attributes)S 180 x(object)S 181 x(can)S
180 x(be)S 181 x(deleted)S 179 x(by)S 181 x(calling)S 180 x(the)S 180 x
(procedure)S 181 x(that)S 180 x(has)S 180 x(the)S 181 x(following)S
180 x(declara-)S 3899 X 647 y(tion:)S 3899 37373 XY F36(32)S 498 x(CMA)S
165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
37 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%+ Helvetica-BoldOblique
%%PageCustomColors: 0
%
%%Page: 33 38
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3873 XY F98(procedure)S 269 x(CMA_ATTR_DELETE)S 269 x(\()S 8173 X
498 y(ATT)S 10325 X(:)S 269 x(in)S 269 x(out)S 269 x(CMA_T_ATTR\);)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_delete)S 269 x(\()S 6021 X
498 y(cma_t_attr)S 10056 X(*att\);)S 3899 7957 XY F147(Parameters:)S
3899 X 897 y F38(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S
149 x(attributes)S 150 x(object)S 149 x(that)S 150 x(wil)S -2 x(l)S
149 x(no)S 150 x(longer)S 151 x(be)S 150 x(referenced.)S 3899 9850 XY
23316 48 R 3899 10448 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 11444 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 298 y 23316 48 R 3899 13985 XY F147(This)S 280 x(operation)S
279 x(should)S 279 x(be)S 280 x(called)S 280 x(when)S 280 x(an)S 280 x
(attributes)S 280 x(object)S 280 x(will)S 280 x(no)S 280 x(longer)S
281 x(be)S 280 x(referenced)S 3899 X 647 y(through)S 265 x(the)S 266 x
(handl)S -2 x(e)S 266 x(supp)S -2 x(lied)S 265 x(by)S 265 x F148(cma_attr_create)S
F147(.)S 493 x(The)S 266 x(effect)S 266 x(of)S 267 x(this)S 264 x(operation)S
265 x(is)S 265 x(to)S 265 x(give)S 3899 X 648 y(permissi)S -2 x(on)S
183 x(to)S 183 x(reclaim)S 182 x(storage)S 182 x(for)S 184 x(the)S 182 x
(attributes)S 182 x(object.)S 3899 16276 XY(The)S 173 x(attributes)S
173 x(object)S 173 x(is)S 173 x(marked)S 172 x(for)S 174 x(deletion,)S
174 x(and)S 173 x(the)S 173 x F148(att)S 172 x F147(parameter)S 173 x
(is)S 173 x(set)S 173 x(to)S 173 x(the)S 173 x(value)S 173 x F148(cma_)S
3899 X 648 y(c_null)S F147(.)S 3899 17920 XY(Call)S -2 x(ing)S 190 x
(this)S 190 x(operation)S 189 x(for)S 191 x(a)S 190 x(handle)S 189 x
(of)S 191 x F148(cma_c_null)S 191 x F147(is)S 189 x(legal)S 190 x(and)S
189 x(has)S 190 x(no)S 190 x(effect.)S 268 x(It)S 190 x(is)S 190 x(also)S
189 x(legal)S 3899 X 647 y(to)S 171 x(call)S 171 x(this)S 171 x(operation)S
170 x(if)S 171 x(some)S 172 x(objects)S 171 x(created)S 171 x(using)S
171 x(the)S 171 x(attributes)S 171 x(object)S 171 x(still)S 170 x(exist)S
171 x(\(the)S 172 x(other)S 3899 X 648 y(objects)S 182 x(will)S 182 x
(not)S 183 x(be)S 182 x(affected\).)S 3899 20211 XY(The)S 211 x(results)S
211 x(of)S 212 x(this)S 210 x(operation)S 211 x(are)S 211 x F148(unpredictable)S
211 x F147(if)S 212 x(the)S 211 x(handl)S -2 x(e)S 212 x(refers)S 212 x
(to)S 211 x(an)S 211 x(attributes)S 210 x(object)S 3899 X 648 y(which)S
224 x(does)S 224 x(not)S 224 x(currently)S 225 x(exist)S 224 x(\(unless)S
223 x(it)S 224 x(is)S 224 x F148(cma_c_null)S F147(\).)S 370 x(An)S
224 x(implementati)S -2 x(on)S 224 x(that)S 225 x(reports)S 3899 X 647 y
(this)S 182 x(error)S 183 x(raises)S 182 x(the)S 182 x F149(cma_e_e)S
-2 x(xistence)S 182 x F147(exception.)S 3899 23001 XY F28(4.3)S 599 x
(Thread)S 200 x(Objects)S 3899 23997 XY F147(A)S 226 x F148(thread)S
226 x F147(is)S 226 x(de\211ned)S 225 x(as)S 226 x(the)S 226 x(active)S
227 x(execution)S 226 x(of)S 227 x(a)S 226 x(designated)S 225 x(routine)S
226 x(\(includin)S -2 x(g)S 227 x(any)S 226 x(nested)S 3899 X 648 y
(routine)S 236 x(invocations)S -2 x(\).)S 406 x(If)S 236 x(the)S 236 x
(computer)S 237 x(is)S 235 x(a)S 236 x(multiprocessor)S -41 x(,)S 249 x
(a)S 236 x(thread)S 236 x(might)S 236 x(be)S 236 x(executed)S 236 x
(in)S 3899 X 647 y(parall)S -2 x(el)S 182 x(with)S 183 x(other)S 183 x
(threads.)S 3899 26289 XY(The)S 169 x(architecture)S 170 x(provides)S
168 x(a)S 169 x F148(thread)S 169 x(object)S 169 x F147(as)S 168 x(the)S
169 x(basic)S 169 x(means)S 168 x(of)S 170 x(de\211ni)S -2 x(ng)S 170 x
(and)S 168 x(controlling)S 169 x(the)S 3899 X 647 y(executing)S 183 x
(thread.)S 3899 27932 XY(Besid)S -2 x(es)S 249 x(merely)S 249 x(executing)S
249 x(in)S 248 x(parallel)S -2 x(,)S 266 x(threads)S 248 x(sometimes)S
248 x(need)S 249 x(to)S 249 x(synchronize)S 248 x(with)S 248 x(other)S
3899 X 648 y(threads.)S 466 x(The)S 257 x(architecture)S 258 x(provides)S
255 x(synchronization)S 256 x(objects)S 257 x(to)S 257 x(help)S 256 x
(programmers)S 257 x(ensure)S 3899 X 647 y(that)S 218 x(shared)S 218 x
(data)S 218 x(are)S 219 x(modi\211ed)S 217 x(properly)S -61 x(.)S 352 x
(`)S -10 x(`Modi\211ed)S 217 x(properly')S -11 x(')S 219 x(generally)S
218 x(means)S 218 x(that)S 219 x(certain)S 3899 X 648 y(boolean)S 181 x
(relations)S 182 x(\(called)S 181 x(invariants\))S 182 x(are)S 182 x
(true)S 183 x(before)S 183 x(and)S 182 x(after)S 183 x(the)S 183 x(modi\211cati)S
-2 x(on.)S -181 y F159(1)S 3899 34824 XY 6996 24 R 4106 35219 XY F163
(1)S 225 x 140 y F159(An)S 171 x(example)S 172 x(of)S 171 x(an)S 172 x
(invariant)S 171 x(\(stated)S 170 x(in)S 172 x(English\))S 170 x(is)S
171 x(that)S 172 x(`)S -7 x(`the)S 173 x(circular)S 170 x(buffer)S 22 x
(')S -15 x(s)S 171 x(output)S 173 x(pointer)S 172 x(always)S 170 x(points)S
171 x(to)S 172 x(the)S 172 x(oldest)S 4497 X 498 y(written)S 133 x(data)S
131 x(item)S 133 x(that)S 133 x(has)S 133 x(not)S 133 x(yet)S 133 x
(been)S 134 x(removed,)S 133 x(or)S 133 x(is)S 132 x(null')S -7 x('.)S
21509 37573 XY F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(33)S
%%EndCustomColor: 0
38 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%+ NewCenturySchlbk-Roman Helvetica NewCenturySchlbk-Italic
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 34 39
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4013 XY F32(4.3.1)S 547 x(Thread)S 182 x(States)S 183 x(and)S 182 x
(T)S -30 x(ransitions)S 3899 5009 XY F147(A)S 182 x(thread)S 182 x(changes)S
182 x(states)S 182 x(as)S 182 x(it)S 183 x(either)S 182 x(runs,)S 183 x
(waits)S 182 x(to)S 182 x(synchronize,)S 182 x(or)S 183 x(is)S 182 x
(ready)S 183 x(to)S 182 x(be)S 183 x(run.)S 3899 6005 XY(Figure)S 159 x
(1)S 158 x(illustrates)S 157 x(the)S 159 x(states)S 158 x(de\211ned)S
157 x(by)S 159 x(the)S 159 x(CMA)S 158 x(architecture)S 159 x(and)S
158 x(the)S 158 x(transitions)S 158 x(between)S 3899 X 648 y(states)S
182 x(for)S 183 x(a)S 183 x(typical)S 181 x(implementatio)S -2 x(n.)S
3899 7649 XY(A)S 198 x(thread)S 198 x(is)S 199 x F148(waiting)S 199 x
F147(if)S 199 x(it)S 198 x(is)S 198 x(not)S 199 x(eligibl)S -2 x(e)S
199 x(to)S 199 x(execute)S 199 x(because)S 198 x(it)S 199 x(is)S 198 x
(synchronizi)S -2 x(ng)S 199 x(with)S 199 x(another)S 3899 X 648 y(thread)S
178 x(or)S 178 x(external)S 179 x(event)S 178 x(of)S 179 x(some)S 178 x
(kind.)S 241 x(A)S 179 x(thread)S 177 x(is)S 178 x F148(ready)S 178 x
F147(if)S 179 x(it)S 178 x(is)S 178 x(eligib)S -2 x(le)S 178 x(to)S
179 x(be)S 178 x(executed)S 178 x(by)S 179 x(a)S 3899 X 647 y(processor)S
-41 x(.)S 274 x(A)S 192 x(thread)S 192 x(is)S 192 x F148(running)S 193 x
F147(if)S 192 x(it)S 193 x(is)S 192 x(currently)S 193 x(being)S 192 x
(executed)S 192 x(by)S 193 x(a)S 192 x(processor)S -41 x(.)S 274 x(A)S
192 x(thread)S 192 x(is)S 3899 X 648 y F148(terminated)S 183 x F147
(if)S 183 x(it)S 182 x(has)S 182 x(completed)S 182 x(all)S 181 x(its)S
182 x(work.)S 3899 11701 XY F32(Figure)S 182 x(1:)S 498 x(Thread)S 182 x
(State)S 183 x(T)S -30 x(ransition)S 182 x(Diagram)S 4975 X 818 y F98
(-----------)S 9010 X(---------)S 12776 X(-----------)S 806 x(--------------)S
4975 X 498 y(|)S 269 x(WAITING)S 269 x(|--->|)S 269 x(READY)S 269 x
(|<--->|)S 269 x(RUNNING)S 268 x(|-->|)S 269 x(TERMINATED)S 269 x(|)S
4975 X 498 y(-----------)S 9010 X(---------)S 12776 X(-----------)S
806 x(--------------)S 6051 X 498 y(|)S 13852 X(|)S 6051 X 498 y(+--------------)S
269 x(<------------+)S 3899 16304 XY F32(4.3.2)S 547 x(Thread)S 182 x
(Creation)S 182 x(and)S 182 x(T)S -41 x(ermination)S 3899 17301 XY F147
(The)S 183 x(operations)S 181 x(described)S 181 x(in)S 182 x(this)S
182 x(section)S 182 x(are)S 183 x(used)S 181 x(to:)S 3899 X 896 y(\201)S
714 x(Create)S 182 x(a)S 183 x(thread)S 182 x(object)S 182 x(and)S 182 x
(thread)S 3899 X 897 y(\201)S 714 x(Delete)S 183 x(a)S 182 x(thread)S
182 x(object)S 3899 X 897 y(\201)S 714 x(Cause)S 181 x(the)S 183 x(current)S
183 x(thread)S 182 x(to)S 183 x(exit)S 3899 X 896 y(\201)S 714 x(A)S
-41 x(wait)S 182 x(another)S 183 x(thread')S -21 x(s)S 182 x(termination)S
3899 X 897 y(\201)S 714 x(Obtain)S 182 x(another)S 182 x(thread')S -21 x
(s)S 182 x(exit)S 183 x(status)S 3899 23179 XY F32(4.3.2.1)S 547 x F33
(cma_thread_c)S -2 x(reate)S 3899 X 896 y F147(A)S 182 x(thread)S 182 x
(can)S 183 x(be)S 182 x(created)S 182 x(by)S 183 x(callin)S -2 x(g)S
183 x(the)S 183 x(procedure)S 182 x(that)S 183 x(has)S 181 x(the)S 183 x
(following)S 182 x(declaration:)S 4945 25121 XY F98(procedure)S 269 x
(CMA_THREAD_CREATE)S 269 x(\()S 8173 X 498 y(NEW_THREAD)S 11939 X(:)S
269 x(out)S 269 x(CMA_T_THREAD;)S 8173 X 499 y(ATTR)S 11939 X(:)S 269 x
(in)S 538 x(CMA_T_ATTR;)S 8173 X 498 y(START_ROUTINE)S 269 x(:)S 269 x
(in)S 538 x(CMA_T_START_ROUTINE;)S 8173 X 498 y(ARG)S 11939 X(:)S 269 x
(in)S 538 x(CMA_T_ADDRESS\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_thread_create)S 269 x(\()S 6021 X
498 y(cma_t_thread)S 11939 X(*new_thread,)S 6021 X 498 y(cma_t_attr)S
11939 X(*attr,)S 6021 X 498 y(cma_t_start_routine)S 807 x(start_routine,)S
6021 X 499 y(cma_t_address)S 11939 X(arg\);)S 3899 32195 XY F147(Parameters:)S
3899 37373 XY F36(34)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
39 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Courier Helvetica-BoldOblique
%%PageCustomColors: 0
%
%%Page: 35 40
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4148 XY F38(new_thread)S 8282 X(A)S 150 x(variable)S 150 x(that)S
149 x(receives)S 151 x(a)S 149 x(handle)S 151 x(for)S 149 x(the)S 150 x
(thread)S 150 x(object.)S 3899 X 697 y(att)S 8282 X(A)S 161 x(handle)S
161 x(for)S 161 x(an)S 161 x(attributes)S 160 x(object)S 161 x(which)S
160 x(de\211ne)S 2 x(s)S 160 x(details)S 160 x(about)S 161 x(the)S 161 x
(kind)S 161 x(of)S 160 x(thread)S 162 x(being)S 161 x(created.)S 8282 X
548 y(If)S 149 x(a)S 150 x(cma_c_n)S 2 x(ull)S 148 x(is)S 150 x(passed,)S
150 x(the)S 150 x(implementation)S 150 x(uses)S 150 x(default)S 149 x
(attributes.)S 3899 X 698 y(start_routine)S 8282 X(The)S 150 x(function)S
150 x(to)S 149 x(be)S 150 x(executed)S 151 x(as)S 150 x(the)S 149 x
(new)S 150 x(thread')S -8 x(s)S 150 x(start)S 149 x(routine.)S 3899 X
697 y(arg)S 8282 X(An)S 150 x(addre)S 2 x(ss)S 149 x(value)S 150 x(which)S
150 x(is)S 149 x(copied)S 150 x(and)S 150 x(passed)S 151 x(to)S 149 x
(the)S 150 x(thread')S -8 x(s)S 150 x(start)S 149 x(routine.)S 3899 7784 XY
23316 48 R 3899 8382 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 9378 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 11919 XY F147(The)S 171 x(`)S -10 x
(`main)S 169 x(thread)S 170 x(routine')S -10 x(')S 170 x(is)S 170 x
(a)S 171 x(function)S 170 x(of)S 172 x(type)S 170 x F148(cma_t_start_routine)S
F147(.)S 240 x(The)S 171 x(function)S 171 x(accepts)S 170 x(a)S 3899 X
647 y(single)S 149 x(argument)S 149 x(of)S 151 x(type)S 149 x F148(cma_t_address)S
F147(,)S 157 x(and)S 149 x(returns)S 149 x(a)S 150 x(function)S 149 x
(value)S 149 x(of)S 150 x(type)S 150 x F148(cma_t_address)S F147(.)S
3899 X 648 y(For)S 183 x(example,)S 182 x(the)S 183 x(following)S 182 x
(routine)S 182 x(is)S 182 x(compatible)S 181 x(with)S 183 x(the)S 183 x
F148(cma_t_start_routine)S 182 x F147(type:)S 4945 14260 XY F98(function)S
269 x(START_ROUTINE)S 269 x(\()S 8173 X 498 y(ARG)S 11939 X(:)S 269 x
(in)S 538 x(CMA_T_ADDRESS\))S 269 x(return)S 268 x(CMA_T_ADDRESS;)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(cma_t_address)S 4945 X 498 y(start_routine)S 269 x(\()S
6021 X 498 y(cma_t_address)S 11939 X(arg\);)S 3899 18345 XY F147(First,)S
296 x(an)S 272 x(internal)S 271 x(thread)S 273 x(object)S 273 x(is)S
272 x(created)S 272 x(to)S 273 x(describe)S 272 x(the)S 272 x(thread.)S
514 x(Then)S 273 x(the)S 272 x(associated)S 3899 X 647 y(executable)S
181 x(thread)S 182 x(is)S 181 x(created)S 182 x(with)S 182 x(attributes)S
182 x(speci\211)S -2 x(ed)S 182 x(by)S 182 x(the)S 182 x F148(att)S
182 x F147(parameter)S 181 x(\(or)S 183 x(with)S 182 x(default)S 3899 X
648 y(attributes)S 258 x(if)S 258 x(a)S 259 x(cma_c_null)S 257 x(is)S
258 x(passed)S -2 x(\).)S 473 x(See)S 258 x(Section)S 259 x(4.3.3)S
258 x(for)S 260 x(more)S 259 x(information)S 258 x(on)S 258 x(thread)S
3899 X 647 y(attributes.)S 243 x(Finally)S -62 x(,)S 183 x(if)S 183 x
(this)S 182 x(was)S 182 x(successful,)S 182 x(the)S 183 x F148(thread)S
182 x F147(parameter)S 182 x(is)S 182 x(written.)S 3899 21284 XY(The)S
130 x(architecture)S 130 x(requires)S 129 x(that)S 129 x(if)S 130 x
F148(cma_thread_create)S 130 x F147(succeeds,)S 140 x(then)S 129 x(the)S
130 x F148(start_routine)S 130 x F147(function)S 3899 X 647 y(must)S
148 x(be)S 148 x(called)S 147 x(unless)S 147 x(the)S 149 x(thread)S
147 x(is)S 148 x(not)S 148 x(scheduled)S 147 x(due)S 148 x(to)S 148 x
(its)S 148 x(associated)S 147 x(scheduli)S -2 x(ng)S 149 x(poli)S -2 x
(cy)S 149 x(\(see)S 3899 X 648 y(Section)S 183 x(2.3,)S 182 x(Scheduling)S
182 x(and)S 181 x(Synchronization\).)S 3899 23575 XY(The)S 196 x(thread)S
195 x(is)S 196 x(created)S 195 x(in)S 196 x(the)S 195 x F149(ready)S
196 x F147(state)S 196 x(and)S 195 x(thus)S 195 x(might)S 196 x(immediatel)S
-2 x(y)S 196 x(begin)S 196 x(executing)S 196 x(the)S 3899 X 648 y(function)S
182 x(speci\211ed)S 181 x(by)S 183 x(the)S 183 x F148(start_routine)S
182 x F147(parameter)S -40 x(.)S 3899 25219 XY(The)S 198 x F148(start_routine)S
198 x F147(is)S 197 x(pass)S -2 x(ed)S 197 x(a)S 198 x(copy)S 197 x
(of)S 198 x(the)S 198 x F148(arg)S 198 x F147(parameter)S -41 x(.)S
289 x(The)S 197 x(architecture)S 198 x(does)S 197 x(not)S 198 x(specify)S
3899 X 648 y(the)S 242 x(meaning)S 242 x(of)S 243 x(this)S 241 x(parameter)S
-40 x(.)S 423 x(The)S 243 x(architecture)S 242 x(requires)S 242 x(that)S
242 x(this)S 242 x(value)S 242 x(be)S 242 x(copied)S 241 x(into)S 3899 X
647 y(thread-speci\211c)S 187 x(storage)S 188 x(having)S 188 x(a)S 187 x
(lifetime)S 188 x(that)S 188 x(matches)S 188 x(the)S 188 x(execution)S
187 x(lifetime)S 188 x(of)S 189 x(the)S 188 x(created)S 3899 X 648 y
(thread.)S 3899 28158 XY(The)S 193 x(thread)S 193 x(object)S 193 x(remains)S
192 x(in)S 193 x(existence)S 192 x(until)S 192 x(the)S 193 x F148(cma_thread_detach)S
192 x F147(operation)S 192 x(is)S 193 x(called)S -2 x(,)S 196 x(or)S
3899 X 647 y(the)S 182 x(thread)S 182 x(terminates,)S 183 x(whichever)S
183 x(occurs)S 183 x(last.)S 3899 29802 XY(The)S 231 x(only)S 231 x
(synchronization)S 230 x(between)S 231 x(the)S 231 x(caller)S 230 x
(of)S 232 x F148(cma_thread_create)S 231 x F147(and)S 230 x(the)S 231 x
(newly)S 232 x(created)S 3899 X 647 y(thread)S 144 x(explicitly)S 144 x
(speci\211)S -2 x(ed)S 145 x(by)S 144 x(the)S 145 x(architecture)S 145 x
(is)S 144 x(through)S 145 x(the)S 144 x(use)S 144 x(of)S 146 x F148
(cma_thread_join)S F147(.)S 230 x(Clients)S 3899 X 648 y(can)S 189 x
(perform)S 189 x(additi)S -2 x(onal)S 189 x(synchroniza)S -2 x(tion)S
189 x(through)S 189 x(CMA)S 188 x(synchronization)S 188 x(operations)S
187 x(\(in)S 189 x(order)S 3899 X 647 y(to)S 222 x(obtain)S 221 x(more)S
223 x(detail)S -2 x(ed)S 222 x(results)S 221 x(of)S 223 x(their)S 222 x
(own)S 222 x(from)S 223 x(the)S 222 x(thread\).)S 362 x(And,)S 232 x
(implementa)S -2 x(tions)S 222 x(can)S 3899 X 648 y(de\211ne)S 166 x
(additi)S -2 x(onal)S 167 x(operation)S -2 x(s)S 167 x(that)S 167 x
(read)S 167 x(implementati)S -2 x(on-de\211ned)S 167 x(termination)S
166 x(results)S 166 x(from)S 169 x(the)S 3899 X 648 y(thread)S 182 x
(object.)S 3899 34036 XY(A)S 182 x(thread)S 182 x F148(terminates)S
184 x F147(by)S 182 x(one)S 183 x(of)S 183 x(the)S 182 x(following)S
182 x(means:)S 3899 X 897 y(\201)S 714 x(The)S 183 x(thread)S 182 x
(returns)S 183 x(from)S 183 x(its)S 182 x F148(start_routine)S 183 x
F147(function.)S 21509 37373 XY F36(CMA)S 165 x(Core)S 166 x(Services)S
499 x(35)S
%%EndCustomColor: 0
40 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ Courier NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 36 41
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(\201)S 714 x(An)S 171 x(exception)S 171 x(is)S 171 x
(raised)S 170 x(in)S 171 x(the)S 172 x(thread)S 171 x(and)S 170 x(is)S
171 x(not)S 172 x(hand)S -2 x(led.)S 240 x(\(An)S 171 x(exception)S
171 x(can)S 171 x(be)S 172 x(explici)S -2 x(tly)S 4945 X 648 y(raised)S
181 x(by)S 183 x(code)S 182 x(in)S 182 x(the)S 183 x F148(start)S 182 x
(routine)S 184 x F147(or)S 182 x(in)S 182 x(some)S 183 x(routine)S 182 x
(it)S 183 x(calls)S -2 x(.)S 3899 X 897 y(\201)S 714 x(The)S 179 x(thread)S
178 x(exits)S 178 x(\(within)S 178 x(some)S 178 x(routine\))S 179 x
(as)S 178 x(the)S 178 x(result)S 178 x(of)S 179 x(calling)S 177 x F148
(cma_thread_exit_normal)S 4945 X 647 y F147(or)S 183 x F148(cma_thread_exit_error)S
F147(.)S 3899 7294 XY(If)S 143 x(a)S 142 x(thread)S 142 x(terminates)S
142 x(by)S 143 x(returning)S 142 x(from)S 144 x(its)S 142 x F148(start_routine)S
143 x F147(function)S 142 x(or)S 143 x(by)S 143 x(calli)S -2 x(ng)S
143 x F148(cma_thread_)S 3899 X 648 y(exit_normal)S F147(,)S 261 x(it)S
245 x(is)S 244 x(considered)S 244 x(a)S 245 x(normal)S 244 x(termination.)S
430 x(The)S 245 x(following)S 245 x(detail)S -2 x(ed)S 245 x(activities)S
244 x(are)S 3899 X 647 y(performed,)S 183 x(in)S 182 x(the)S 183 x(order)S
182 x(shown:)S 3899 X 897 y F36(1.)S 631 x F147(The)S 181 x(return)S
180 x(value)S 180 x(of)S 181 x(the)S 180 x F148(start_routine)S 181 x
F147(function)S 180 x(and)S 179 x(the)S 181 x(termination)S 179 x(status)S
180 x F148(cma_c_term_)S 4945 X 647 y(normal)S 168 x F147(are)S 167 x
(copied)S 167 x(into)S 167 x(the)S 168 x(thread)S 167 x(object.)S 239 x
(This)S 167 x(permits)S 167 x(both)S 167 x(values)S 167 x(to)S 167 x
(be)S 168 x(obtain)S -2 x(ed)S 168 x(when)S 4945 X 648 y(another)S 182 x
(thread)S 182 x(later)S 183 x(calls)S 181 x F148(cma_thread_join)S F147
(.)S 4945 X 897 y(If)S 159 x(the)S 159 x F148(start_routine)S 159 x
F147(returns)S 159 x(normally)S -62 x(,)S 164 x(and)S 158 x(it)S 158 x
(is)S 158 x(actually)S 158 x(a)S 159 x(procedure)S 158 x(that)S 159 x
(does)S 157 x(not)S 159 x(return)S 4945 X 647 y(a)S 182 x(value,)S 183 x
(then)S 182 x(the)S 182 x F148(resul)S 2 x(t)S 182 x F147(obtained)S
181 x(by)S 183 x F148(cma_thread_join)S 182 x F147(is)S 181 x(unpredictabl)S
-2 x(e.)S 3899 X 897 y F36(2.)S 631 x F147(Each)S 184 x(per)S -10 x
(-thread)S 185 x(context)S 185 x(destructor)S 185 x(is)S 184 x(\211rst)S
184 x(removed)S 185 x(from)S 186 x(the)S 184 x(list)S 184 x(of)S 185 x
(destructors)S 185 x(for)S 185 x(this)S 4945 X 647 y(thread,)S 166 x
(and)S 162 x(is)S 162 x(then)S 163 x(called)S -2 x(.)S 238 x(This)S
162 x(step)S 162 x(destroys)S 162 x(all)S 162 x(the)S 163 x(per)S -10 x
(-thread)S 162 x(context)S 164 x(associa)S -2 x(ted)S 163 x(with)S 4945 X
648 y(the)S 183 x(current)S 183 x(thread.)S 243 x(See)S 183 x(Section)S
182 x(4.6.)S 4945 X 897 y(If)S 204 x(an)S 203 x(unhandl)S -2 x(ed)S
204 x(exception)S 203 x(occurs)S 204 x(when)S 203 x(calling)S 203 x
(a)S 203 x(destructor)S -40 x(,)S 209 x(the)S 204 x(steps)S 203 x(described)S
202 x(below)S 4945 X 647 y(for)S 183 x(an)S 182 x(unhandl)S -2 x(ed)S
183 x(exception)S 182 x(are)S 182 x(performed.)S 3899 X 897 y F36(3.)S
631 x F147(A)S 207 x(\212ag)S 207 x(is)S 206 x(set)S 207 x(in)S 207 x
(the)S 207 x(thread)S 207 x(object)S 207 x(indicatin)S -2 x(g)S 208 x
(that)S 207 x(the)S 207 x(thread)S 207 x(has)S 206 x(terminated.)S 317 x
(This)S 207 x(\212ag)S 4945 X 647 y(must)S 182 x(be)S 183 x(set)S 182 x
(in)S 182 x(order)S 183 x(for)S 183 x(callers)S 182 x(of)S 183 x F148
(cma_thread_join)S 182 x F147(to)S 183 x(return)S 183 x(from)S 183 x
(the)S 183 x(call.)S 3899 X 897 y F36(4.)S 631 x F147(A)S 209 x(broadcas)S
-2 x(t)S 209 x(is)S 209 x(done)S 208 x(so)S 209 x(that)S 208 x(all)S
208 x(threads)S 208 x(currently)S 210 x(waiting)S 208 x(in)S 208 x(a)S
209 x(call)S 208 x(to)S 209 x F148(cma_thread_join)S 4945 X 648 y F147
(can)S 182 x(return)S 183 x(from)S 184 x(the)S 182 x(call.)S 3899 X
896 y F36(5.)S 631 x F147(The)S 179 x(thread)S 177 x(object)S 179 x
(is)S 178 x(marked)S 177 x(to)S 179 x(indi)S -2 x(cate)S 179 x(that)S
178 x(it)S 178 x(is)S 178 x(no)S 178 x(longer)S 178 x(needed)S 177 x
(by)S 179 x(the)S 178 x(thread)S 178 x(itself.)S 4945 X 648 y(A)S 174 x
(check)S 175 x(is)S 174 x(made)S 174 x(to)S 175 x(determine)S 174 x
(if)S 175 x(the)S 174 x(thread)S 174 x(object)S 175 x(is)S 174 x(no)S
175 x(longer)S 174 x(needed)S 174 x(by)S 174 x(other)S 175 x(threads,)S
4945 X 647 y(that)S 150 x(is,)S 157 x(if)S 151 x F148(cma_thread_detach)S
150 x F147(has)S 150 x(alread)S -2 x(y)S 151 x(been)S 150 x(called.)S
232 x(If)S 151 x(the)S 151 x(latter)S 151 x(has)S 150 x(been)S 150 x
(called)S -2 x(,)S 158 x(then)S 4945 X 648 y(the)S 183 x(thread)S 182 x
(object)S 182 x(is)S 182 x(deallocated)S -2 x(.)S 3899 23085 XY(If)S
126 x(a)S 126 x(thread)S 125 x(terminates)S 126 x(by)S 126 x(failing)S
125 x(to)S 126 x(handl)S -2 x(e)S 126 x(an)S 126 x(exception,)S 137 x
(it)S 126 x(is)S 125 x(considered)S 125 x(an)S 125 x(error)S 127 x(termination.)S
3899 X 647 y(The)S 183 x(following)S 182 x(detail)S -2 x(ed)S 183 x
(activities)S 181 x(are)S 183 x(performed,)S 183 x(in)S 182 x(the)S
183 x(order)S 182 x(shown:)S 3899 X 897 y F36(1.)S 631 x F147(The)S
215 x F148(exit_status)S 215 x F147(of)S 216 x(the)S 215 x(thread)S
214 x(object)S 215 x(is)S 215 x(set)S 214 x(to)S 215 x(the)S 215 x(value)S
215 x F148(cma_c_term_error)S F147(.)S 342 x(However)S -39 x(,)S 223 x
(if)S 4945 X 648 y(it)S 173 x(is)S 173 x(the)S 173 x(particula)S -2 x
(r)S 174 x(exception)S 173 x F149(cma_e)S -2 x(_alerted)S F147(,)S 176 x
(the)S 173 x(exit)S 173 x(status)S 173 x(is)S 172 x(set)S 173 x(to)S
174 x(the)S 173 x(value)S 172 x F148(cma_c_)S 4945 X 647 y(term_alert)S
184 x F147(instea)S -2 x(d.)S 3899 X 897 y F36(2.)S 631 x F147(The)S
183 x(unwind)S 181 x(handlers)S 181 x(of)S 183 x(any)S 183 x(stack)S
182 x(frames)S 183 x(that)S 182 x(are)S 183 x(still)S 181 x(active)S
183 x(are)S 182 x(invoked.)S 3899 X 896 y F36(3.)S 631 x F147(Execution)S
182 x(continues)S 182 x(in)S 182 x(step)S 182 x(2)S 182 x(of)S 183 x
(the)S 183 x(normal)S 182 x(termination)S 182 x(steps)S 181 x(above.)S
3899 28813 XY(If)S 141 x(a)S 141 x(thread)S 140 x(terminates)S 141 x
(by)S 141 x(callin)S -2 x(g)S 142 x(the)S 141 x F148(cma_thread_exit_error)S
142 x F147(operation,)S 148 x(this)S 141 x(is)S 140 x(also)S 140 x(considered)S
3899 X 648 y(an)S 178 x(error)S 179 x(termination.)S 241 x(The)S 179 x
(same)S 178 x(steps)S 177 x(are)S 179 x(carried)S 178 x(out)S 178 x
(as)S 178 x(above)S 178 x(for)S 179 x(an)S 178 x(unhand)S -2 x(led)S
178 x(exception.)S 3899 X 647 y(\(The)S 183 x(effect)S 184 x(is)S 182 x
(as)S 182 x(if)S 183 x(a)S 182 x(special)S 181 x(implementati)S -2 x
(on)S 183 x(de\211ned)S 181 x(exception)S 182 x(has)S 182 x(been)S 182 x
(raised\).)S 3899 31105 XY(Note:)S 470 x(a)S 296 x(speci\211c)S 295 x
(implementation)S 295 x(is)S 295 x(allowed)S 295 x(to)S 296 x(de\211ne)S
295 x(its)S 296 x(own)S 296 x(conventions)S 295 x(for)S 297 x(extended)S
3899 X 647 y(exception-related)S 172 x(behavior)S -42 x(,)S 175 x(such)S
173 x(as)S 172 x(continuab)S -2 x(le)S 172 x(exceptions)S 172 x(that)S
173 x(by)S 172 x(default)S 172 x(do)S 172 x(not)S 173 x(terminate)S
3899 X 648 y(a)S 182 x(thread,)S 183 x(or)S 182 x(messages)S 182 x(for)S
184 x(unhan)S -2 x(dled)S 182 x(exceptions,)S 182 x(or)S 183 x(stack)S
182 x(tracebacks,)S 183 x(etc.)S 3899 37373 XY F36(36)S 498 x(CMA)S
165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
41 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 37 42
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3996 XY F32(4.3.2.2)S 547 x F33(cma_thread_de)S -2 x(tach)S 3899 X
896 y F147(Permission)S 273 x(to)S 273 x(delete)S 273 x(a)S 273 x(thread)S
273 x(object)S 274 x(is)S 273 x(indi)S -2 x(cated)S 273 x(by)S 274 x
(calli)S -2 x(ng)S 274 x(the)S 273 x(procedure)S 274 x(that)S 273 x
(has)S 273 x(the)S 3899 X 648 y(following)S 182 x(declaration:)S 4945 6586 XY
F98(procedure)S 269 x(CMA_THREAD_DETACH)S 269 x(\()S 8173 X 498 y(THREAD)S
269 x(:)S 269 x(in)S 269 x(out)S 269 x(CMA_T_THREAD\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_thread_detach)S 269 x(\()S 6021 X
498 y(cma_t_thread)S 11670 X(*thread\);)S 3899 10372 XY F147(Parameters:)S
3899 X 896 y F38(thread)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x
(the)S 149 x(thread)S 151 x(object.)S 3899 12265 XY 23316 48 R 3899 12862 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 13859 XY(cma_e_)S 2 x(existence)S 10026 X
(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x
(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S
2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S 2 x(r)S
10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x(requested)S
194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x(type)S 193 x
(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y(state)S 150 x
(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y
23316 48 R 3899 16399 XY F147(The)S 150 x(thread)S 148 x(object)S 150 x
(is)S 149 x(marked)S 149 x(to)S 149 x(indicate)S 148 x(that)S 150 x
(it)S 149 x(is)S 148 x(no)S 150 x(longer)S 149 x(needed)S 148 x(by)S
150 x(threads)S 148 x(other)S 150 x(than)S 149 x(the)S 3899 X 648 y
(executing)S 190 x(thread)S 189 x(itself.)S 264 x(A)S 189 x(check)S
190 x(is)S 189 x(made)S 189 x(to)S 190 x(determine)S 189 x(if)S 190 x
(the)S 190 x(thread)S 189 x(object)S 190 x(is)S 189 x(als)S -2 x(o)S
190 x(no)S 190 x(longer)S 3899 X 647 y(needed)S 184 x(by)S 185 x(the)S
186 x(thread)S 184 x(itself,)S 186 x(that)S 185 x(is,)S 186 x(if)S 185 x
(the)S 186 x(last)S 184 x(step)S 185 x(of)S 186 x(thread)S 185 x(termination)S
184 x(has)S 185 x(occurred)S 185 x(\(see)S 3899 X 648 y(Section)S 199 x
(4.3.2.1\).)S 293 x(If)S 199 x(the)S 199 x(latter)S 199 x(step)S 198 x
(has)S 198 x(occurred,)S 204 x(then)S 199 x(the)S 199 x(thread)S 198 x
(object)S 199 x(is)S 198 x(deallocated)S -2 x(.)S 293 x(The)S 3899 X
647 y F148(thread)S 182 x F147(parameter)S 182 x(is)S 182 x(set)S 183 x
(to)S 183 x(the)S 182 x(value)S 182 x F148(cma_c_null)S F147(.)S 3899 19986 XY
(Call)S -2 x(ing)S 183 x(this)S 182 x(operation)S 181 x(for)S 183 x
(a)S 183 x(handl)S -2 x(e)S 183 x(of)S 183 x F148(cma_c_null)S 183 x
F147(is)S 182 x(legal)S 182 x(and)S 181 x(has)S 182 x(no)S 183 x(effect.)S
3899 20982 XY(The)S 205 x(results)S 204 x(of)S 205 x(this)S 204 x(operation)S
203 x(are)S 205 x F148(unpredictable)S 205 x F147(if)S 205 x(the)S 204 x
(handl)S -2 x(e)S 205 x(refers)S 206 x(to)S 204 x(a)S 205 x(thread)S
204 x(object)S 205 x(that)S 3899 X 647 y(does)S 157 x(not)S 157 x(currently)S
158 x(exist)S 157 x(\(unless)S 157 x(it)S 157 x(is)S 157 x(cma_c_null\).)S
235 x(An)S 157 x(implementation)S 156 x(that)S 157 x(reports)S 158 x
(this)S 157 x(error)S 3899 X 648 y(will)S 182 x(raise)S 182 x(the)S
182 x F149(cma_e_e)S -2 x(xistence)S 182 x F147(exception.)S 3899 23273 XY
(Notes:)S 3899 X 897 y F36(1.)S 631 x F147(This)S 176 x(operation)S
175 x(must)S 175 x(be)S 176 x(called)S 175 x(when)S 176 x(a)S 176 x
(thread)S 175 x(object)S 176 x(will)S 176 x(no)S 175 x(longer)S 176 x
(be)S 176 x(referenced)S 177 x(by)S 176 x(any)S 4945 X 648 y(handl)S
-2 x(e\202except)S 179 x(those)S 178 x(references)S 179 x(that)S 178 x
(are)S 179 x(arranged)S 178 x(to)S 178 x(occur)S -40 x(,)S 180 x(by)S
178 x(client)S 178 x(suppl)S -2 x(ied)S 178 x(synchro-)S 4945 X 647 y
(nizati)S -2 x(on)S 183 x(code,)S 182 x(before)S 183 x(the)S 183 x(thread)S
182 x(terminates.)S 3899 X 897 y F36(2.)S 631 x F147(This)S 168 x(operation)S
168 x(must)S 169 x(eventually)S 168 x(be)S 169 x(called)S 167 x(for)S
170 x(every)S 169 x(thread)S 169 x(that)S 169 x(is)S 168 x(created,)S
172 x(or)S 169 x(storage)S 169 x(for)S 4945 X 647 y(thread)S 182 x(objects)S
183 x(will)S 181 x(build)S 181 x(up.)S 3899 28404 XY F32(4.3.2.3)S 547 x
F33(cma_thread_e)S -2 x(xit_error)S 3899 X 897 y F147(Normally)S -62 x
(,)S 197 x(a)S 194 x(thread)S 193 x(terminates)S 194 x(when)S 194 x
(the)S 194 x F148(start_routine)S 194 x F147(parameter)S 194 x(to)S
194 x(cma_thread_create)S 194 x(re-)S 3899 X 647 y(turns,)S 182 x(but)S
181 x(a)S 181 x(thread)S 180 x(can)S 182 x(also)S 180 x(terminate)S
181 x(execution)S 181 x(within)S 181 x(an)S 181 x(arbitrary)S 181 x
(routine)S 181 x(by)S 181 x(calling)S 181 x(the)S 3899 X 648 y(procedure)S
182 x(that)S 183 x(has)S 181 x(the)S 183 x(following)S 182 x(declaration:)S
4945 31642 XY F98(procedure)S 269 x(CMA_THREAD_EXIT_ERROR;)S 4945 X
498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_thread_exit_error)S 269 x(\(\);)S
3899 34431 XY F147(Parameters:)S 3899 X 897 y F38(none)S 21509 37373 XY
F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(37)S
%%EndCustomColor: 0
42 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 38 43
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(This)S 214 x(operation)S 214 x(causes)S 214 x(the)S
215 x(current)S 216 x(thread)S 214 x(to)S 215 x(begin)S 214 x(its)S
215 x(termination)S 214 x(activities)S 214 x(because)S 214 x(of)S 215 x
(an)S 3899 X 648 y(error)S -40 x(.)S 3899 5650 XY(It)S 159 x(should)S
158 x(only)S 158 x(be)S 159 x(called)S 158 x(if)S 159 x(some)S 158 x
(error)S 160 x(has)S 159 x(occurred)S 159 x(that)S 159 x(requires)S
158 x(thread)S 159 x(termination,)S 163 x(and)S 158 x(for)S 3899 X 648 y
(some)S 141 x(reason,)S 149 x(it)S 140 x(is)S 141 x(undes)S -2 x(irable)S
140 x(to)S 141 x(signify)S 141 x(the)S 141 x(error)S 141 x(by)S 141 x
(raising)S 140 x(an)S 141 x(app)S -2 x(lication-de\211n)S -2 x(ed)S
141 x(exception)S 3899 X 647 y(\(the)S 183 x(preferred)S 183 x(means)S
182 x(of)S 183 x(indi)S -2 x(cating)S 183 x(errors\).)S 3899 7942 XY
(The)S 203 x(effect)S 203 x(of)S 203 x(calling)S 201 x(this)S 202 x
(operation)S 201 x(is)S 202 x(identical)S 201 x(to)S 202 x(raising)S
202 x(a)S 202 x(specia)S -2 x(l)S 202 x(implementation)S 201 x(de\211ned)S
3899 X 647 y(exception)S 160 x(that)S 161 x(is)S 160 x(not)S 161 x(normally)S
160 x(handl)S -2 x(ed)S 161 x(by)S 161 x(exception)S 160 x(handl)S -2 x
(ers)S 161 x(establis)S -2 x(hed)S 160 x(by)S 161 x(the)S 161 x(appl)S
-2 x(ication)S 3899 X 648 y(code.)S 243 x(For)S 184 x(the)S 182 x(detailed)S
181 x(semantics)S 182 x(see)S 182 x(Section)S 183 x(4.3.2.1.)S 3899 10631 XY
F32(4.3.2.4)S 547 x F33(cma_thread_e)S -2 x(xit_normal)S 3899 X 897 y
F147(Normally)S -62 x(,)S 197 x(a)S 194 x(thread)S 193 x(terminates)S
194 x(when)S 194 x(the)S 194 x F148(start_routine)S 194 x F147(parameter)S
194 x(to)S 194 x(cma_thread_create)S 194 x(re-)S 3899 X 648 y(turns,)S
182 x(but)S 181 x(a)S 181 x(thread)S 180 x(can)S 182 x(also)S 180 x
(terminate)S 181 x(execution)S 181 x(within)S 181 x(an)S 181 x(arbitrary)S
181 x(routine)S 181 x(by)S 181 x(calling)S 181 x(the)S 3899 X 647 y
(procedure)S 182 x(that)S 183 x(has)S 181 x(the)S 183 x(following)S
182 x(declaration:)S 4945 13869 XY F98(procedure)S 269 x(CMA_THREAD_EXIT_NORMAL)S
269 x(\()S 7097 X 498 y(RESULT)S 538 x(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\);)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 499 y(cma_thread_exit_normal)S 269 x(\()S
7097 X 498 y(cma_t_address)S 807 x(result\);)S 3899 17954 XY F147(Parameters:)S
3899 X 897 y F38(result)S 8282 X(An)S 150 x(addre)S 2 x(ss)S 149 x(value)S
150 x(which)S 150 x(is)S 149 x(copied)S 150 x(and)S 150 x(returned)S
151 x(to)S 149 x(the)S 150 x(caller)S 149 x(of)S 150 x F148(thread_join)S
F38(.)S 3899 19847 XY F147(This)S 151 x(operation)S 149 x(causes)S 151 x
(the)S 151 x(current)S 151 x(thread)S 151 x(to)S 151 x(begin)S 150 x
(its)S 151 x(termination)S 150 x(activities)S 150 x(because)S 150 x
(of)S 151 x(a)S 151 x(pre-)S 3899 X 647 y(mature)S 181 x(successful)S
180 x(completion)S 179 x(\(where)S 182 x(it)S 180 x(is)S 180 x(not)S
181 x(necessary)S 180 x(or)S 181 x(convenient)S 181 x(to)S 180 x(allow)S
180 x(the)S 181 x(thread')S -21 x(s)S 3899 X 648 y(start)S 182 x(routine)S
183 x(to)S 182 x(return)S 183 x(normally)S 182 x(to)S 183 x(its)S 182 x
(caller\).)S 3899 22138 XY(The)S 203 x(effect)S 203 x(of)S 203 x(calling)S
201 x(this)S 202 x(operation)S 201 x(is)S 202 x(identical)S 201 x(to)S
202 x(raising)S 202 x(a)S 202 x(specia)S -2 x(l)S 202 x(implementation)S
201 x(de\211ned)S 3899 X 648 y(exception)S 160 x(that)S 161 x(is)S 160 x
(not)S 161 x(normally)S 160 x(handl)S -2 x(ed)S 161 x(by)S 161 x(exception)S
160 x(handl)S -2 x(ers)S 161 x(establis)S -2 x(hed)S 160 x(by)S 161 x
(the)S 161 x(appl)S -2 x(ication)S 3899 X 647 y(code)S 178 x(\(the)S
179 x(result)S 177 x(status)S 178 x(is)S 177 x(saved)S 178 x(in)S 177 x
(the)S 178 x(internal)S 177 x(thread)S 178 x(object)S 179 x(prior)S
177 x(to)S 179 x(raisin)S -2 x(g)S 179 x(the)S 178 x(exception\).)S
3899 X 648 y(For)S 183 x(the)S 183 x(detail)S -2 x(ed)S 182 x(semantics)S
182 x(see)S 182 x(Section)S 183 x(4.3.2.1.)S 3899 25476 XY F32(4.3.2.5)S
547 x F33(cma_thread_join)S 3899 X 896 y F147(A)S 240 x(thread)S 241 x
(can)S 240 x(await)S 241 x(termination)S 240 x(of)S 241 x(another)S
241 x(thread)S 240 x(by)S 241 x(calli)S -2 x(ng)S 241 x(the)S 241 x
(procedure)S 241 x(that)S 240 x(has)S 241 x(the)S 3899 X 648 y(following)S
182 x(declaration:)S 4945 28066 XY F98(procedure)S 269 x(CMA_THREAD_JOIN)S
269 x(\()S 8173 X 498 y(THREAD)S 11401 X(:)S 269 x(in)S 538 x(CMA_T_THREAD;)S
8173 X 498 y(EXIT_STATUS)S 269 x(:)S 269 x(out)S 269 x(CMA_T_EXIT_STATUS;)S
8173 X 498 y(RESULT)S 11401 X(:)S 269 x(out)S 269 x(CMA_T_ADDRESS\);)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 499 y(cma_thread_join)S 269 x(\()S 6021 X
498 y(cma_t_thread)S 11939 X(*thread;)S 6021 X 498 y(cma_t_exit_status)S
11939 X(*exit_status;)S 6021 X 498 y(cma_t_address)S 11939 X(*result\);)S
3899 37373 XY F36(38)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
43 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica-BoldOblique NewCenturySchlbk-Italic
%%+ Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 39 44
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3985 XY F147(Parameters:)S 3899 X 897 y F38(thread)S 8282 X(A)S
150 x(handle)S 150 x(for)S 150 x(the)S 149 x(thread)S 151 x(whose)S
150 x(termination)S 150 x(is)S 149 x(to)S 149 x(be)S 150 x(awaited.)S
3899 X 698 y(exit_status)S 8282 X(A)S 150 x(value)S 150 x(indicating)S
149 x(whether)S 150 x(the)S 150 x(thread)S 150 x(successfully)S 150 x
(terminated.)S 3899 X 697 y(result)S 8282 X(An)S 150 x(addre)S 2 x(ss)S
149 x(value)S 150 x(optionally)S 149 x(returne)S 2 x(d)S 149 x(by)S
150 x(the)S 150 x(thread')S -8 x(s)S 150 x(start)S 149 x(routine.)S
3899 7273 XY 23316 48 R 3899 7871 XY(Error)S 10026 X(Kind)S 149 x(of)S
150 x(Error)S 14409 X(Description)S 3899 X 299 y 23316 48 R 3899 8867 XY
(cma_e_)S 2 x(alerted)S 10026 X(alert)S 14409 X(This)S 149 x(exception)S
150 x(is)S 149 x(raised)S 150 x(when)S 149 x(an)S 150 x(alert)S 149 x
(is)S 148 x(delivered)S 150 x(to)S 149 x(the)S 149 x(thread)S 14409 X
548 y(\(see)S 151 x(Section)S 149 x(4.7\).)S 3899 X 698 y(cma_e_)S 2 x
(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x
(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x
(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 12653 XY F147(A)S 142 x(call)S 143 x
(to)S 143 x(this)S 142 x(operation)S 142 x(returns)S 143 x(after)S 144 x
(the)S 143 x(desi)S -2 x(gnated)S 143 x(thread)S 142 x(has)S 142 x(terminated)S
143 x(\(see)S 143 x(Section)S 143 x(4.3.2)S 3899 X 648 y(for)S 183 x
(the)S 183 x(detail)S -2 x(s)S 183 x(of)S 183 x(thread)S 182 x(termination\).)S
3899 14297 XY(The)S 145 x(value)S 144 x(returned)S 145 x(as)S 145 x
(the)S 144 x F148(exit_status)S 146 x F147(parameter)S 144 x(indicates)S
144 x(if)S 145 x(the)S 145 x(thread)S 144 x(terminated)S 144 x(normally)S
3899 X 647 y(due)S 198 x(to)S 199 x(an)S 199 x(error)S 199 x(\(that)S
199 x(is,)S 203 x(because)S 198 x(of)S 199 x(an)S 199 x(unhand)S -2 x
(led)S 198 x(exception\),)S 203 x(or)S 200 x(because)S 198 x(of)S 199 x
(an)S 198 x(alert)S 199 x(\()S F149(cma_)S 3899 X 648 y(c_term_normal)S
F147(,)S 182 x F149(cma_c_term_error)S F147(,)S 182 x(and)S 182 x F149
(cma_c_term_al)S -2 x(ert)S F147(,)S 184 x(respectively\).)S 3899 16588 XY
(The)S 166 x(value)S 166 x(returned)S 166 x(as)S 166 x(the)S 166 x F148
(result)S 167 x F147(parameter)S 166 x(is)S 166 x(whatever)S 167 x(add)S
-2 x(ress)S 166 x(the)S 167 x(thread)S 165 x(generates)S 166 x(as)S
166 x(its)S 3899 X 648 y(result.)S 229 x(The)S 139 x(thread')S -21 x
(s)S 139 x(result)S 138 x(is)S 139 x(normally)S 138 x(returned)S 139 x
(as)S 138 x(the)S 139 x(value)S 139 x(of)S 139 x(the)S 139 x F148(start_routine)S
139 x F147(function.)S 230 x(In)S 3899 X 647 y(order)S 137 x(for)S 138 x
(it)S 137 x(to)S 137 x(be)S 137 x(valid)S 136 x(to)S 137 x(read)S 137 x
(this)S 136 x(value,)S 146 x(two)S 138 x(things)S 136 x(are)S 138 x
(necessary:)S 220 x(the)S 137 x F148(exit_status)S 138 x F147(parameter)S
3899 X 648 y(must)S 195 x(have)S 194 x(the)S 195 x(value)S 195 x F148
(cma_c_term_normal)S F147(,)S 199 x(and)S 194 x(the)S 195 x F148(start_routine)S
195 x F147(function)S 195 x(for)S 196 x(the)S 195 x(particula)S -2 x
(r)S 3899 X 648 y(thread)S 182 x(must)S 182 x(return)S 183 x(a)S 183 x
(result)S 182 x(\(it)S 183 x(need)S 181 x(not\).)S 3899 20175 XY(Any)S
184 x(number)S 183 x(of)S 185 x(threads)S 183 x(may)S 184 x(call)S 183 x
(this)S 184 x(operation.)S 247 x(All)S 183 x(will)S 183 x(be)S 184 x
(awakened)S 182 x(when)S 184 x(the)S 184 x(designated)S 3899 X 647 y
(thread)S 182 x(terminates.)S 243 x(If)S 183 x(this)S 182 x(operation)S
182 x(is)S 182 x(executed)S 182 x(for)S 184 x(the)S 182 x(current)S
183 x(thread,)S 183 x(a)S 182 x(deadl)S -2 x(ock)S 183 x(results.)S
3899 21819 XY(Implementation)S -2 x(s)S 128 x(may)S 127 x(provide)S
127 x(addi)S -2 x(tional)S 127 x(operations)S 126 x(to)S 128 x(obtain)S
126 x(more)S 128 x(detailed)S 126 x(implementa)S -2 x(tion-)S 3899 X
647 y(depend)S -2 x(ent)S 188 x(termination)S 187 x(information)S 187 x
(\(such)S 188 x(as)S 187 x(more)S 188 x(detail)S -2 x(ed)S 187 x(exit)S
188 x(statuses)S 187 x(or)S 188 x(exception)S 187 x(infor-)S 3899 X
648 y(mation\).)S 3899 24110 XY(The)S 205 x(results)S 204 x(of)S 205 x
(this)S 204 x(operation)S 203 x(are)S 205 x F148(unpredictable)S 205 x
F147(if)S 205 x(the)S 204 x(handl)S -2 x(e)S 205 x(refers)S 206 x(to)S
204 x(a)S 205 x(thread)S 204 x(object)S 205 x(that)S 3899 X 648 y(no)S
192 x(longer)S 192 x(exists,)S 195 x(or)S 192 x(is)S 192 x F148(cma_c_null)S
F147(.)S 274 x(An)S 191 x(implementation)S 191 x(that)S 192 x(reports)S
192 x(the)S 192 x(error)S 194 x(will)S 191 x(raise)S 192 x(the)S 3899 X
647 y F149(cma_e)S -2 x(_existence)S 182 x F147(exception.)S 3899 26401 XY
(This)S 149 x(operation)S 149 x(is)S 149 x(alertable,)S 155 x(but)S
150 x(not)S 150 x(alertsafe.)S 232 x(\(For)S 151 x(a)S 149 x(discussi)S
-2 x(on)S 150 x(of)S 150 x(alerts)S 149 x(refer)S 151 x(to)S 150 x(Section)S
150 x(4.7\).)S 3899 27896 XY F32(4.3.3)S 547 x(Thread)S 182 x(Creation)S
182 x(Attributes)S 3899 28892 XY F147(This)S 199 x(section)S 198 x(describes)S
198 x(the)S 200 x(indi)S -2 x(vidual)S 198 x(attributes)S 198 x(that)S
199 x(are)S 199 x(stored)S 199 x(in)S 199 x(an)S 199 x(attributes)S
198 x(object)S 199 x(and)S 3899 X 648 y(that)S 182 x(affect)S 184 x
(the)S 182 x(creation)S 183 x(of)S 183 x(threads.)S 3899 30536 XY(The)S
183 x(architecture)S 183 x(recognizes)S 182 x(the)S 182 x(following)S
182 x(thread)S 183 x(creation)S 182 x(attributes:)S 3899 X 897 y(\201)S
714 x(Inherit)S 182 x(scheduli)S -2 x(ng)S 3899 X 896 y(\201)S 714 x
(Priority)S 3899 X 897 y(\201)S 714 x(Scheduling)S 181 x(policy)S 3899 X
896 y(\201)S 714 x(Stack)S 183 x(size)S 3899 X 897 y(\201)S 714 x(Stack)S
183 x(guard)S 182 x(size)S 21509 37373 XY F36(CMA)S 165 x(Core)S 166 x
(Services)S 499 x(39)S
%%EndCustomColor: 0
44 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 40 45
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3996 XY F32(4.3.3.1)S 547 x F33(cma_attr_set_inherit_sche)S -2 x
(d)S 3899 X 896 y F147(The)S 200 x(inherit)S 200 x(scheduli)S -2 x(ng)S
201 x(attribute)S 200 x(can)S 200 x(be)S 200 x(changed)S 199 x(by)S
201 x(calli)S -2 x(ng)S 201 x(the)S 200 x(procedure)S 200 x(that)S 200 x
(has)S 200 x(the)S 200 x(fol-)S 3899 X 648 y(lowing)S 182 x(declaration:)S
4945 6586 XY F98(procedure)S 269 x(CMA_ATTR_SET_INHERIT_SCHED)S 269 x
(\()S 8173 X 498 y(ATT)S 10325 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S
8173 X 498 y(SETTING)S 269 x(:)S 269 x(in)S 269 x(CMA_T_SCHED_INHERIT\);)S
4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_set_inherit_sched)S 269 x
(\()S 6021 X 499 y(cma_t_attr)S 11401 X(*att,)S 6021 X 498 y(cma_t_sched_inherit)S
269 x(setting\);)S 3899 11368 XY F147(Parameters:)S 3899 X 897 y F38
(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(modi\211ed.)S 3899 X 697 y
(setting)S 8282 X(The)S 150 x(new)S 150 x(value)S 150 x(for)S 150 x
(the)S 149 x(inherit)S 149 x(priority)S 150 x(attribute.)S 3899 13958 XY
23316 48 R 3899 14556 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 15552 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 697 y(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S
14409 X(One)S 150 x(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x
(supplied)S 150 x(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X
299 y 23316 48 R 3899 18790 XY F147(This)S 167 x(attribute)S 167 x(speci\211es)S
167 x(whether)S 168 x(threads)S 166 x(created)S 168 x(using)S 167 x
(this)S 167 x(attributes)S 167 x(object)S 168 x(will)S 167 x(inherit)S
167 x(the)S 3899 X 648 y(scheduli)S -2 x(ng)S 183 x(attributes)S 182 x
(of)S 184 x(the)S 183 x(creating)S 183 x(thread,)S 182 x(or)S 184 x
(will)S 182 x(use)S 182 x(the)S 183 x(scheduli)S -2 x(ng)S 183 x(attributes)S
182 x(stored)S 183 x(in)S 3899 X 647 y(the)S 182 x(attributes)S 182 x
(object)S 183 x(that)S 182 x(is)S 182 x(passed)S 181 x(to)S 183 x F148
(cma_thread_create)S F147(.)S 3899 21082 XY(A)S 153 x(value)S 153 x
(of)S 154 x F148(cma_c_sched_inheri)S 2 x(t)S 153 x F147(causes)S 153 x
(the)S 153 x(created)S 154 x(thread)S 153 x(to)S 154 x(inherit)S 152 x
(the)S 154 x(current)S 154 x(priority)S 153 x(and)S 3899 X 647 y(scheduli)S
-2 x(ng)S 183 x(policy)S 182 x(of)S 183 x(the)S 182 x(thread)S 182 x
(calling)S 182 x F148(cma_thread_create)S F147(.)S 3899 22725 XY(A)S
212 x(value)S 212 x(of)S 214 x F148(cma_c_sched_use_default)S 214 x
F147(causes)S 212 x(the)S 212 x(created)S 213 x(thread)S 212 x(to)S
213 x(start)S 213 x(execution)S 213 x(with)S 213 x(the)S 3899 X 648 y
(priority)S 156 x(and)S 155 x(scheduling)S 155 x(policy)S 156 x(stored)S
156 x(in)S 156 x(the)S 156 x(attributes)S 156 x(object)S 157 x(\(see)S
156 x(Section)S 157 x(2.3)S 156 x(for)S 157 x(information)S 3899 X 648 y
(on)S 182 x(CMA)S 182 x(scheduling)S 181 x(policies)S 181 x(and)S 182 x
(priorities\).)S 3899 25017 XY(The)S 295 x(CMA)S 294 x(architecture)S
295 x(speci\211es)S 293 x(the)S 295 x(default)S 294 x(value)S 294 x
(of)S 295 x(this)S 294 x(attribute)S 295 x(to)S 294 x(be)S 295 x F148
(cma_c_sched_)S 3899 X 647 y(inherit)S F147(\202priority)S 183 x(and)S
182 x(schedul)S -2 x(ing)S 183 x(poli)S -2 x(cy)S 184 x(are,)S 182 x
(by)S 183 x(default,)S 182 x(inherited)S 181 x(from)S 184 x(the)S 183 x
(creating)S 182 x(thread.)S 13729 26611 XY F153(USAGE)S 167 x(NOTE)S
4796 28404 XY(Inheriting)S 199 x(scheduli)S 2 x(ng)S 199 x(favors)S
199 x(the)S 199 x(case)S 198 x(where)S 198 x(a)S 199 x(thread)S 199 x
(is)S 199 x(creating)S 199 x(several)S 199 x(`)S -9 x(`helper')S -8 x
(')S 4796 X 598 y(threads\202threads)S 168 x(that)S 168 x(are)S 168 x
(intended)S 168 x(to)S 168 x(work)S 167 x(closely)S 169 x(with)S 168 x
(the)S 168 x(creating)S 168 x(thread)S 168 x(to)S 168 x(co-)S 4796 X
598 y(operatively)S 162 x(solve)S 162 x(the)S 161 x(same)S 161 x(problem.)S
220 x(For)S 160 x(example,)S 164 x(scheduling)S 162 x(inheritan)S 2 x
(ce)S 160 x(makes)S 161 x(it)S 4796 X 597 y(easy)S 191 x(to)S 190 x
(ensure)S 191 x(that)S 191 x(any)S 191 x(helper)S 191 x(threads)S 190 x
(created)S 191 x(in)S 191 x(a)S 190 x(sort)S 191 x(routine)S 191 x(execute)S
191 x(with)S 190 x(the)S 4796 X 598 y(same)S 166 x(priority)S 167 x
(as)S 166 x(the)S 166 x(caller)S -36 x(.)S 3899 37373 XY F36(40)S 498 x
(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
45 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 41 46
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3996 XY F32(4.3.3.2)S 547 x F33(cma_attr_get_inherit_sche)S -2 x
(d)S 3899 X 896 y F147(The)S 271 x(inherit)S 271 x(schedul)S -2 x(ing)S
271 x(attribute)S 271 x(can)S 270 x(be)S 271 x(obtained)S 270 x(by)S
271 x(calli)S -2 x(ng)S 272 x(the)S 271 x(procedure)S 270 x(that)S 271 x
(has)S 271 x(the)S 3899 X 648 y(following)S 182 x(declaration:)S 4945 6586 XY
F98(procedure)S 269 x(CMA_ATTR_GET_INHERIT_SCHED)S 269 x(\()S 8173 X
498 y(ATT)S 10325 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y
(SETTING)S 269 x(:)S 269 x(out)S 269 x(CMA_T_SCHED_INHERIT\);)S 4945 X
797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_get_inherit_sched)S 269 x
(\()S 6021 X 498 y(cma_t_attr)S 11401 X(*att,)S 6021 X 499 y(cma_t_sched_inherit)S
269 x(*setting\);)S 3899 11667 XY F147(Parameters:)S 3899 X 896 y F38
(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(read.)S 3899 X 698 y(setting)S
8282 X(The)S 150 x(value)S 150 x(of)S 150 x(the)S 149 x(inherit)S 149 x
(sched)S 2 x(uling)S 149 x(attribute.)S 3899 14257 XY 23316 48 R 3899 14855 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 15851 XY(cma_e_)S 2 x(existence)S 10026 X
(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x
(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S
2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S
10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x(requested)S
194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x(type)S 193 x
(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 547 y(state)S 150 x
(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x(in.)S 3899 X 698 y
(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S 14409 X(One)S 150 x
(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x(supplied)S 150 x
(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X 299 y 23316 48 R
3899 19488 XY F32(4.3.3.3)S 547 x F33(cma_attr_set_priority)S 3899 X
896 y F147(The)S 169 x(priority)S 169 x(attribute)S 169 x(can)S 169 x
(be)S 168 x(changed)S 169 x(by)S 169 x(calling)S 168 x(the)S 169 x(procedure)S
169 x(that)S 169 x(has)S 168 x(the)S 169 x(following)S 169 x(decla-)S
3899 X 648 y(ration:)S -649 x 22078 Y F98(procedure)S 269 x(CMA_ATTR_SET_PRIORITY)S
269 x(\()S 8173 X 498 y(ATT)S 10594 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S
8173 X 498 y(PRI)S 10594 X(:)S 269 x(in)S 269 x(CMA_T_PRIORITY\);)S
4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_set_priority)S 269 x(\()S
6021 X 498 y(cma_t_attr)S 11401 X(*att,)S 6021 X 499 y(cma_t_priority)S
11401 X(pri\);)S 3899 26860 XY F147(Parameters:)S 3899 X 897 y F38(att)S
8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(modi\211ed.)S 3899 X 697 y
(pri)S 8282 X(The)S 150 x(new)S 150 x(value)S 150 x(for)S 150 x(the)S
149 x(priority)S 150 x(attribute.)S 3899 29450 XY 23316 48 R 3899 30048 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 31044 XY(cma_e_)S 2 x(existence)S 10026 X
(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x
(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S
2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S
10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x(requested)S
194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x(type)S 193 x
(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y(state)S 150 x
(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x(in.)S 3899 X 697 y
(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S 14409 X(One)S 150 x
(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x(supplied)S 150 x
(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X 299 y 23316 48 R
3899 34282 XY F147(This)S 151 x(attribute)S 151 x(speci\211es)S 151 x
(the)S 151 x(user)S -10 x(-requested)S 151 x(initial)S 150 x(execution)S
151 x(priority)S 152 x(of)S 152 x(threads)S 151 x(created)S 151 x(using)S
3899 X 648 y(the)S 136 x(speci\211ed)S 134 x(attributes)S 135 x(object.)S
229 x(For)S 136 x(detailed)S 134 x(information)S 135 x(on)S 136 x(scheduli)S
-2 x(ng)S 136 x(policies)S 135 x(and)S 134 x(priorities,)S 3899 X 647 y
(see)S 182 x(Section)S 183 x(2.3.)S 21509 37373 XY F36(CMA)S 165 x(Core)S
166 x(Services)S 499 x(41)S
%%EndCustomColor: 0
46 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 42 47
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4009 XY F147(By)S 167 x(default,)S 169 x(the)S 167 x(created)S
167 x(thread)S 166 x(inherits)S 166 x(the)S 167 x(priority)S 166 x(of)S
167 x(the)S 167 x(thread)S 166 x(calling)S 166 x F148(cma_thread_create)S
F147(.)S 3899 X 647 y(In)S 128 x(order)S 129 x(for)S 129 x(the)S 129 x
(priority)S 128 x(attribute)S 128 x(to)S 129 x(be)S 128 x(used)S 127 x
(instead,)S 138 x(schedulin)S -2 x(g)S 129 x(inheritance)S 128 x(must)S
128 x(be)S 128 x(disab)S -2 x(led)S 3899 X 648 y(before)S 183 x(the)S
182 x(thread)S 182 x(is)S 182 x(created)S 183 x(\(see)S 183 x(Section)S
182 x(4.3.3.1\).)S 3899 6300 XY(The)S 248 x(CMA)S 246 x(architecture)S
248 x(recommends)S 247 x(that)S 247 x(the)S 248 x(midrange)S 246 x(priority)S
247 x(of)S 248 x(a)S 247 x(scheduling)S 246 x(policy)S 247 x(be)S 3899 X
648 y(used)S 257 x(by)S 257 x(`)S -10 x(`ordinary')S -11 x(')S 258 x
(threads)S 257 x(running)S 257 x(under)S 257 x(that)S 258 x(poli)S -2 x
(cy)S -60 x(.)S 469 x(This)S 258 x(all)S -2 x(ows)S 258 x(especiall)S
-2 x(y)S 258 x(important)S 3899 X 647 y(threads)S 200 x(to)S 202 x(be)S
201 x(placed)S 200 x(at)S 202 x(higher)S 201 x(priorities)S -2 x(,)S
207 x(and)S 200 x(less)S 201 x(important)S 201 x(threads)S 200 x(to)S
202 x(be)S 201 x(placed)S 200 x(at)S 201 x(lower)S 3899 X 648 y(priorities.)S
361 x(The)S 223 x(default)S 221 x(priority)S 222 x(in)S 222 x(a)S 222 x
(new)S 222 x(attributes)S 222 x(object)S 222 x(\(or)S 223 x(when)S 222 x
F148(cma_c_null)S 223 x F147(is)S 222 x(used)S 221 x(to)S 3899 X 647 y
(create)S 183 x(a)S 182 x(thread\))S 183 x(is)S 182 x(the)S 182 x(middle)S
181 x(of)S 183 x(the)S 183 x F148(cma_c_sched_default)S 183 x F147(policy')S
-21 x(s)S 182 x(priority)S 183 x(range.)S 12318 9837 XY F153(IMPLEMENTOR'S)S
165 x(NOTE)S 4796 X 897 y(The)S 174 x(scheduling)S 176 x(policies)S
176 x(supported)S 175 x(by)S 174 x(the)S 175 x(implementati)S 2 x(on)S
174 x(and)S 176 x(the)S 174 x(effect)S 174 x(of)S 175 x(setting)S 4796 X
597 y(priority)S 166 x(must)S 167 x(be)S 165 x(documented)S 167 x(in)S
167 x(Appendix)S 168 x(F)S -56 x(.)S 3899 12726 XY F32(4.3.3.4)S 547 x
F33(cma_attr_get_priority)S 3899 X 897 y F147(The)S 197 x(priority)S
196 x(attribute)S 196 x(can)S 197 x(be)S 196 x(obtained)S 195 x(by)S
197 x(calli)S -2 x(ng)S 197 x(the)S 197 x(procedure)S 196 x(that)S 197 x
(has)S 195 x(the)S 197 x(following)S 196 x(dec-)S 3899 X 647 y(laration:)S
4945 15316 XY F98(procedure)S 269 x(CMA_ATTR_GET_PRIORITY)S 269 x(\()S
8173 X 498 y(ATT)S 10594 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X
499 y(PRI)S 10594 X(:)S 269 x(out)S 269 x(CMA_T_PRIORITY\);)S 4945 X
797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_get_priority)S 269 x(\()S
6021 X 498 y(cma_t_attr)S 11401 X(*att,)S 6021 X 498 y(cma_t_priority)S
11401 X(*pri\);)S 3899 20397 XY F147(Parameters:)S 3899 X 897 y F38
(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(read.)S 3899 X 697 y(pri)S
8282 X(The)S 150 x(value)S 150 x(of)S 150 x(the)S 149 x(priority)S 150 x
(attribute.)S 3899 22988 XY 23316 48 R 3899 23585 XY(Error)S 10026 X
(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X 299 y
23316 48 R 3899 24582 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 27521 XY
F32(4.3.3.5)S 547 x F33(cma_attr_set_sch)S -2 x(ed)S 3899 X 896 y F147
(The)S 158 x(schedul)S -2 x(ing)S 158 x(poli)S -2 x(cy)S 158 x(attribute)S
157 x(can)S 158 x(be)S 157 x(changed)S 157 x(by)S 157 x(calling)S 157 x
(the)S 157 x(procedure)S 157 x(that)S 158 x(has)S 157 x(the)S 157 x
(follow-)S 3899 X 648 y(ing)S 182 x(declaration:)S 4945 30111 XY F98
(procedure)S 269 x(CMA_ATTR_SET_SCHED)S 269 x(\()S 8173 X 498 y(ATT)S
10594 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(POLICY)S 807 x
(:)S 269 x(in)S 269 x(CMA_T_SCHED_POLICY;)S 8173 X 498 y(PRIORITY)S
269 x(:)S 269 x(in)S 269 x(CMA_T_PRIORITY\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_set_sched)S 269 x(\()S 6021 X
499 y(cma_t_attr)S 11401 X(*att,)S 6021 X 498 y(cma_t_sched_policy)S
538 x(policy,)S 6021 X 498 y(cma_t_priority)S 11401 X(priority\);)S
3899 37373 XY F36(42)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
47 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%+ Helvetica-BoldOblique Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 43 48
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3985 XY F147(Parameters:)S 3899 X 897 y F38(att)S 8282 X(A)S 150 x
(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S 150 x(object)S
149 x(to)S 150 x(be)S 150 x(modi\211ed.)S 3899 X 698 y(policy)S 8282 X
(The)S 150 x(new)S 150 x(value)S 150 x(for)S 150 x(the)S 149 x(schedu)S
2 x(ling)S 149 x(policy)S 149 x(attribute.)S 3899 X 697 y(priority)S
8282 X(The)S 150 x(new)S 150 x(value)S 150 x(for)S 150 x(the)S 149 x
(schedu)S 2 x(ling)S 149 x(priority)S 149 x(attribute.)S 3899 7273 XY
23316 48 R 3899 7871 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 8867 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 697 y(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S
14409 X(One)S 150 x(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x
(supplied)S 150 x(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X
299 y 23316 48 R 3899 12105 XY F147(This)S 242 x(attribute)S 242 x(speci\211es)S
241 x(the)S 242 x(default)S 242 x(scheduli)S -2 x(ng)S 243 x(poli)S
-2 x(cy)S 243 x(and)S 242 x(priority)S 242 x(for)S 243 x(a)S 242 x(new)S
243 x(thread.)S 423 x(For)S 3899 X 648 y(more)S 183 x(detail)S -2 x
(ed)S 183 x(information)S 182 x(on)S 182 x(scheduli)S -2 x(ng)S 183 x
(policies)S 181 x(and)S 181 x(priorities,)S 182 x(see)S 182 x(Section)S
183 x(2.3.)S 3899 13749 XY(The)S 133 x(default)S 132 x(value)S 133 x
(for)S 133 x(the)S 133 x(scheduli)S -2 x(ng)S 133 x(policy)S -61 x(,)S
143 x(in)S 132 x(a)S 133 x(new)S 133 x(attributes)S 132 x(object)S 133 x
(\(or)S 134 x F148(cma_c_null)S F147(\))S 134 x(is)S 133 x F148(cma_)S
3899 X 647 y(c_sched_default)S F147(.)S 233 x(The)S 147 x(CMA)S 146 x
(architecture)S 147 x(recommends)S 147 x(that)S 146 x(implementation)S
-2 x(s)S 147 x(map)S 146 x(this)S 146 x(symbol)S 3899 X 648 y(to)S 217 x
(the)S 218 x F148(cma_c_sched_throughput)S 217 x F147(scheduli)S -2 x
(ng)S 218 x(poli)S -2 x(cy)S -60 x(.)S 349 x(The)S 217 x(default)S 217 x
(priority)S 217 x(is)S 217 x(the)S 217 x(midrange)S 217 x(of)S 3899 X
648 y(the)S 195 x(default)S 194 x(schedul)S -2 x(ing)S 195 x(poli)S
-2 x(cy)S -60 x(.)S 280 x(Use)S 195 x(of)S 195 x(the)S 194 x(midrange)S
195 x(is)S 194 x(recommended)S 194 x(for)S 196 x(most)S 194 x(threads,)S
198 x(as)S 194 x(it)S 3899 X 647 y(allows)S 141 x(especial)S -2 x(ly)S
142 x(important)S 142 x(threads)S 141 x(to)S 143 x(be)S 142 x(pla)S
-2 x(ced)S 142 x(at)S 143 x(higher)S 142 x(priority)S 141 x(values)S
142 x(and)S 141 x(less)S 141 x(important)S 3899 X 648 y(threads)S 182 x
(to)S 182 x(be)S 183 x(pla)S -2 x(ced)S 183 x(at)S 182 x(lower)S 183 x
(priority)S 182 x(values.)S 3899 18381 XY F32(4.3.3.6)S 547 x F33(cma_attr_get_sche)S
-2 x(d)S 3899 X 897 y F147(The)S 213 x(scheduling)S 212 x(policy)S 213 x
(attribute)S 213 x(can)S 213 x(be)S 213 x(obtain)S -2 x(ed)S 213 x(by)S
214 x(calli)S -2 x(ng)S 214 x(the)S 213 x(procedure)S 213 x(that)S 213 x
(has)S 213 x(the)S 213 x(fol-)S 3899 X 648 y(lowing)S 182 x(declaration:)S
4945 20972 XY F98(procedure)S 269 x(CMA_ATTR_GET_SCHED)S 269 x(\()S
8173 X 498 y(ATT)S 10594 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X
498 y(POLICY)S 807 x(:)S 269 x(out)S 269 x(CMA_T_SCHED_POLICY\);)S 4945 X
797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_get_sched)S 269 x(\()S 6021 X
498 y(cma_t_attr)S 11401 X(*att,)S 6021 X 498 y(cma_t_sched_policy)S
538 x(*policy\);)S 3899 26053 XY F147(Parameters:)S 3899 X 896 y F38
(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(modi\211ed.)S 3899 X 698 y
(policy)S 8282 X(The)S 150 x(value)S 150 x(for)S 150 x(the)S 149 x(sched)S
2 x(uling)S 149 x(policy)S 149 x(attribute.)S 3899 28643 XY 23316 48 R
3899 29241 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 30237 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 21509 37373 XY F36(CMA)S 165 x(Core)S
166 x(Services)S 499 x(43)S
%%EndCustomColor: 0
48 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica NewCenturySchlbk-Italic
%%+Helvetica-BoldOblique Courier
%%PageCustomColors: 0
%
%%Page: 44 49
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3996 XY F32(4.3.3.7)S 547 x F33(cma_attr_set_stack)S -2 x(size)S
3899 X 896 y F147(The)S 268 x(stacksize)S 267 x(attribute)S 267 x(can)S
268 x(be)S 268 x(changed)S 267 x(by)S 268 x(calli)S -2 x(ng)S 269 x
(the)S 267 x(procedure)S 268 x(that)S 268 x(has)S 267 x(the)S 268 x
(following)S 3899 X 648 y(declaration)S -2 x(:)S 4945 6586 XY F98(procedure)S
269 x(CMA_ATTR_SET_STACKSIZE)S 269 x(\()S 8173 X 498 y(ATT)S 10594 X
(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(STACKSIZE:)S 269 x
(in)S 269 x(CMA_T_NATURAL\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_set_stacksize)S 269 x(\()S
6021 X 498 y(cma_t_attr)S 10325 X(*att,)S 6021 X 499 y(cma_t_natural)S
807 x(stacksize\);)S 3899 11667 XY F147(Parameters:)S 3899 X 896 y F38
(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(modi\211ed.)S 3899 X 698 y
(stacksize)S 8282 X(The)S 150 x(new)S 150 x(value)S 150 x(for)S 150 x
(the)S 149 x(stacksize)S 150 x(attribute.)S 3899 14257 XY 23316 48 R
3899 14855 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 15851 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 547 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 698 y(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S
14409 X(One)S 150 x(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x
(supplied)S 150 x(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X
299 y 23316 48 R 3899 19089 XY F147(This)S 244 x(attribute)S 244 x(speci\211es)S
243 x(the)S 245 x(requested)S 243 x(minimum)S 244 x(size)S 243 x(\(in)S
245 x(bytes\))S 244 x(of)S 245 x(the)S 245 x(stack)S 244 x(needed)S
244 x(for)S 245 x(a)S 3899 X 648 y(thread.)S 233 x(An)S 153 x(implementati)S
-2 x(on)S 153 x(is)S 153 x(free)S 154 x(to)S 154 x(provide)S 152 x(more)S
154 x(stack)S 153 x(area)S 153 x(than)S 152 x(the)S 154 x(minimum)S
152 x(requested.)S 3899 20733 XY(The)S 161 x(CMA)S 160 x(architecture)S
162 x(does)S 160 x(not)S 161 x(specify)S 160 x(the)S 161 x(default)S
160 x(value)S 161 x(of)S 161 x(this)S 160 x(attribute.)S 236 x(It)S
161 x(is)S 160 x(implementa-)S 3899 X 647 y(tion)S 128 x(de\211ned.)S
225 x(Note:)S 216 x(the)S 129 x(desire)S 128 x(to)S 129 x(easily)S 128 x
(port)S 128 x(most)S 129 x(appl)S -2 x(ications)S 128 x(without)S 129 x
(modi\211cati)S -2 x(on)S 129 x(will)S 128 x(appl)S -2 x(y)S 3899 X
648 y(the)S 182 x(pressure)S 182 x(needed)S 182 x(to)S 182 x(ensure)S
183 x(that)S 182 x(implementati)S -2 x(ons)S 182 x(provide)S 182 x(suf\211cient)S
182 x(stack)S 183 x(by)S 182 x(default.)S 12318 22974 XY F153(IMPLEMENTOR'S)S
165 x(NOTE)S 4796 X 897 y(The)S 151 x(stacksiz)S 2 x(e)S 151 x(and)S
153 x(guardsiz)S 2 x(e)S 151 x(attributes)S 153 x(apply)S 153 x(only)S
153 x(to)S 152 x(the)S 153 x(initial)S 153 x(stack)S 153 x(segment)S
152 x(for)S 151 x(a)S 4796 X 598 y(thread.)S 247 x(An)S 174 x(implementati)S
2 x(on)S 174 x(is)S 175 x(free)S 174 x(to)S 174 x(provid)S 2 x(e)S 174 x
(additio)S 2 x(nal)S 175 x(\(non-portable\))S 175 x(operatio)S 2 x(ns)S
4796 X 598 y(that)S 144 x(allow)S 144 x(a)S 143 x(thread)S 144 x(to)S
144 x(switch)S 143 x(to)S 144 x(a)S 143 x(different)S 143 x(stack)S
144 x(segment)S 144 x(during)S 144 x(its)S 143 x(executio)S 2 x(n.)S
214 x(The)S 4796 X 597 y(detailed)S 164 x(mechanisms)S 164 x(by)S 163 x
(which)S 164 x(stacks)S 164 x(are)S 163 x(switched,)S 165 x(expanded,)S
166 x(or)S 163 x(stack)S 164 x(over\212ow)S 163 x(is)S 4796 X 598 y
(detected)S 166 x(are)S 166 x(not)S 167 x(de\211ned)S 167 x(by)S 166 x
(the)S 166 x(architecture.)S 4796 X 897 y(The)S 241 x(architecture)S
242 x(requires)S 241 x(that)S 243 x(implementation)S 2 x(s)S 241 x(detect)S
242 x(attempts)S 243 x(to)S 242 x(over\212ow)S 242 x(the)S 4796 X 598 y
(current)S 200 x(thread')S -18 x(s)S 201 x(stack,)S 211 x(and)S 201 x
(report)S 201 x(them)S 201 x(by)S 201 x(raising)S 202 x(the)S 201 x
(exception)S 202 x(cma_e_stackov)S 2 x(f.)S 4796 X 597 y(\(If)S 118 x
(this)S 120 x(is)S 120 x(not)S 120 x(feasible,)S 129 x(the)S 120 x(implementation)S
121 x(cannot)S 120 x(support)S 120 x(the)S 120 x(Ada)S 119 x(lang)S
2 x(uage)S 120 x(because)S 4796 X 598 y(Ada)S 166 x(requires)S 166 x
(implementation)S 2 x(s)S 166 x(to)S 166 x(report)S 166 x(over\212ow)S
167 x(attempts.\))S 3899 30347 XY F32(4.3.3.8)S 547 x F33(cma_attr_get_stacks)S
-2 x(ize)S 3899 X 896 y F147(The)S 261 x(stacksize)S 260 x(attribute)S
260 x(can)S 261 x(be)S 260 x(obtained)S 259 x(by)S 261 x(calling)S 260 x
(the)S 261 x(procedure)S 260 x(that)S 261 x(has)S 260 x(the)S 261 x
(following)S 3899 X 648 y(declaration)S -2 x(:)S 4945 32937 XY F98(procedure)S
269 x(CMA_ATTR_GET_STACKSIZE)S 269 x(\()S 8173 X 498 y(ATT)S 10594 X
(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(STACKSIZE:)S 269 x
(out)S 269 x(CMA_T_NATURAL\);)S 4945 X 797 y
(________________________________________________________________________________)S
3899 37373 XY F36(44)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
49 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 45 50
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3903 XY F98(void)S 4945 X 498 y(cma_attr_get_stacksize)S 269 x
(\()S 6021 X 498 y(cma_t_attr)S 10325 X(*att,)S 6021 X 498 y(cma_t_natural)S
807 x(*stacksize\);)S 3899 6393 XY F147(Parameters:)S 3899 X 897 y F38
(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(read.)S 3899 X 697 y(stacksize)S
8282 X(The)S 150 x(value)S 150 x(of)S 150 x(the)S 149 x(stacksize)S
150 x(attribute.)S 3899 8984 XY 23316 48 R 3899 9581 XY(Error)S 10026 X
(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X 299 y
23316 48 R 3899 10578 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 13517 XY
F32(4.3.3.9)S 547 x F33(cma_attr_set_guards)S -2 x(ize)S 3899 X 896 y
F147(The)S 256 x(guardsize)S 255 x(attribute)S 256 x(can)S 256 x(be)S
256 x(changed)S 256 x(by)S 256 x(callin)S -2 x(g)S 257 x(the)S 256 x
(procedure)S 256 x(that)S 256 x(has)S 256 x(the)S 256 x(following)S
3899 X 648 y(declaration)S -2 x(:)S 4945 16107 XY F98(procedure)S 269 x
(CMA_ATTR_SET_GUARDSIZE)S 269 x(\()S 8173 X 498 y(ATT)S 10863 X(:)S
269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(GUARDSIZE)S 269 x(:)S 269 x
(in)S 269 x(CMA_T_NATURAL\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_attr_set_guardsize)S 269 x(\()S
6021 X 498 y(cma_t_attr)S 10325 X(*att,)S 6021 X 499 y(cma_t_natural)S
807 x(guardsize\);)S 3899 21188 XY F147(Parameters:)S 3899 X 896 y F38
(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(modi\211ed.)S 3899 X 698 y
(guardsize)S 8282 X(The)S 150 x(new)S 150 x(value)S 150 x(for)S 150 x
(the)S 149 x(guards)S 2 x(ize)S 149 x(attribute.)S 3899 23778 XY 23316 48 R
3899 24376 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 25372 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 698 y(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S
14409 X(One)S 150 x(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x
(supplied)S 150 x(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X
299 y 23316 48 R 3899 28610 XY F147(This)S 172 x(attribute)S 172 x(speci\211es)S
172 x(the)S 172 x(requested)S 172 x(minimum)S 172 x(size)S 172 x(\(in)S
172 x(bytes\))S 173 x(of)S 174 x(a)S 172 x(guard)S 172 x(area)S 173 x
(for)S 173 x(the)S 173 x(stack)S 3899 X 648 y(of)S 183 x(a)S 182 x(thread.)S
3899 30254 XY(The)S 197 x(CMA)S 196 x(architecture)S 198 x(does)S 196 x
(not)S 197 x(specify)S 196 x(the)S 197 x(default)S 196 x(value)S 196 x
(of)S 198 x(this)S 196 x(attribute.)S 286 x(It)S 197 x(is)S 196 x(implemen-)S
3899 X 647 y(tation)S 182 x(de\211ned)S -2 x(.)S 3899 31898 XY(A)S 263 x
(guard)S 263 x(area)S 263 x(is)S 263 x(a)S 263 x(reserved)S 263 x(area)S
264 x(desi)S -2 x(gned)S 263 x(to)S 264 x(help)S 262 x(prevent)S 264 x
(and/or)S 263 x(detect)S 264 x(over\212ow)S 264 x(of)S 264 x(the)S 3899 X
647 y(thread')S -21 x(s)S 197 x(stack.)S 288 x(The)S 198 x(guard)S 197 x
(area)S 197 x(is)S 197 x(located)S 196 x(adjacent)S 197 x(to)S 197 x
(the)S 198 x(part)S 197 x(of)S 198 x(the)S 197 x(stack)S 197 x(that)S
198 x(the)S 197 x(thread)S 3899 X 648 y(normally)S 200 x(writes)S 202 x
(and)S 200 x(at)S 201 x(a)S 201 x(range)S 201 x(of)S 202 x(add)S -2 x
(resses)S 201 x(that)S 201 x(typically)S 200 x(would)S 201 x(be)S 201 x
(read)S 200 x(or)S 202 x(written)S 201 x(if)S 202 x(the)S 3899 X 647 y
(thread)S 182 x(attempted)S 182 x(to)S 183 x(over\212ow)S 183 x(its)S
182 x(stack.)S 3899 34837 XY(An)S 182 x(implementa)S -2 x(tion)S 183 x
(is)S 182 x(free)S 183 x(to)S 183 x(do)S 182 x(the)S 182 x(following)S
183 x(with)S 182 x(this)S 182 x(attribute:)S 3899 X 896 y(\201)S 714 x
(Ignore)S 183 x(it,)S 183 x(if)S 182 x(that)S 183 x(action)S 182 x(is)S
182 x(app)S -2 x(licable.)S 21509 37373 XY F36(CMA)S 165 x(Core)S 166 x
(Services)S 499 x(45)S
%%EndCustomColor: 0
50 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%+ NewCenturySchlbk-Roman Helvetica Helvetica-BoldOblique
%%PageCustomColors: 0
%
%%Page: 46 51
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(\201)S 714 x(T)S -34 x(reat)S 172 x(it)S 172 x(as)S
170 x(an)S 172 x(assertion)S 170 x(that)S 171 x(is)S 171 x(to)S 172 x
(be)S 171 x(checked)S 172 x(agains)S -2 x(t)S 172 x(a)S 171 x(\211xed)S
171 x(amount)S 172 x(of)S 172 x(guard)S 171 x(space)S 171 x(the)S 4945 X
648 y(implementa)S -2 x(tion)S 217 x(may)S 216 x(always)S 216 x(provide.)S
345 x(The)S 217 x(exception)S 216 x F149(cma_e_e)S -2 x(xquota)S 217 x
F147(can)S 217 x(be)S 216 x(raised)S 215 x(if)S 4945 X 647 y(the)S 183 x
(assertion)S 181 x(fails.)S 3899 X 897 y(\201)S 714 x(Use)S 182 x(it)S
182 x(to)S 183 x(actually)S 182 x(allo)S -2 x(cate)S 183 x(the)S 183 x
(guard)S 182 x(area.)S 3899 7294 XY(An)S 177 x(implementation)S 176 x
(is)S 178 x(free)S 178 x(to)S 179 x(provide)S 177 x(more)S 178 x(guard)S
178 x(area)S 177 x(than)S 178 x(the)S 178 x(minimum)S 177 x(requested.)S
241 x(Some)S 3899 X 648 y(implementa)S -2 x(tions)S 191 x(will)S 190 x
(ensure)S 190 x(that)S 191 x(a)S 190 x(read)S 191 x(or)S 191 x(write)S
191 x(to)S 191 x(the)S 191 x(guard)S 191 x(area)S 190 x(will)S 190 x
(raise)S 191 x(an)S 190 x(exception)S 3899 X 647 y(in)S 182 x(the)S
182 x(thread.)S 3899 9984 XY F32(4.3.3.10)S 547 x F33(cma_attr_get_gua)S
-2 x(rdsize)S 3899 X 897 y F147(The)S 249 x(guardsize)S 248 x(attribute)S
249 x(can)S 249 x(be)S 249 x(obtain)S -2 x(ed)S 249 x(by)S 249 x(calling)S
248 x(the)S 249 x(procedure)S 249 x(that)S 249 x(has)S 249 x(the)S 249 x
(following)S 3899 X 647 y(declaration)S -2 x(:)S 4945 12574 XY F98(procedure)S
269 x(CMA_ATTR_GET_GUARDSIZE)S 269 x(\()S 8173 X 498 y(ATT)S 10594 X
(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(GUARDSIZE:)S 269 x
(out)S 269 x(CMA_T_NATURAL\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 499 y(cma_attr_get_guardsize)S 269 x(\()S
6021 X 498 y(cma_t_attr)S 10325 X(*att,)S 6021 X 498 y(cma_t_natural)S
807 x(*guardsize\);)S 3899 17655 XY F147(Parameters:)S 3899 X 897 y
F38(att)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x(the)S 149 x(attributes)S
150 x(object)S 149 x(to)S 150 x(be)S 150 x(read.)S 3899 X 697 y(guardsize)S
8282 X(The)S 150 x(value)S 150 x(of)S 150 x(the)S 149 x(guard)S 2 x
(size)S 149 x(attribute.)S 3899 20245 XY 23316 48 R 3899 20843 XY(Error)S
10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X
299 y 23316 48 R 3899 21839 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 24878 XY
F32(4.3.4)S 547 x(Thread)S 182 x(Scheduling)S 182 x(Operations)S 3899 25874 XY
F147(The)S 183 x(operations)S 181 x(described)S 181 x(in)S 182 x(this)S
182 x(section)S 182 x(are)S 183 x(used)S 181 x(to:)S 3899 X 897 y(\201)S
714 x(Change)S 182 x(the)S 182 x(current)S 183 x(user)S -10 x(-assigned)S
182 x(priority)S 182 x(of)S 183 x(a)S 182 x(thread)S 3899 X 897 y(\201)S
714 x(Change)S 182 x(the)S 182 x(current)S 183 x(user)S -10 x(-assigned)S
182 x(schedul)S -2 x(ing)S 183 x(poli)S -2 x(cy)S 184 x(of)S 183 x(a)S
182 x(thread)S 3899 X 896 y(\201)S 714 x(Allow)S 182 x(a)S 182 x(thread)S
182 x(to)S 183 x(yield)S 181 x(the)S 183 x(processor)S 182 x(to)S 183 x
(other)S 183 x(threads.)S 3899 X 897 y(\201)S 714 x(Delay)S 182 x(the)S
183 x(execution)S 182 x(of)S 183 x(a)S 183 x(thread)S 182 x(for)S 183 x
(a)S 182 x(\211xed)S 183 x(amount)S 182 x(of)S 183 x(time)S 3899 30856 XY
F32(4.3.4.1)S 547 x F33(cma_thread_s)S -2 x(et_priority)S 3899 X 896 y
F147(The)S 274 x(current)S 274 x(priority)S 273 x(of)S 274 x(a)S 274 x
(thread)S 273 x(can)S 273 x(be)S 274 x(changed)S 272 x(by)S 274 x(calling)S
272 x(the)S 274 x(procedure)S 273 x(that)S 274 x(has)S 273 x(the)S 3899 X
648 y(following)S 182 x(declaration:)S 3899 37373 XY F36(46)S 498 x
(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
51 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold Helvetica-BoldOblique
%%+ Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 47 52
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3873 XY F98(procedure)S 269 x(CMA_THREAD_SET_PRIORITY)S 269 x(\()S
8173 X 498 y(THREAD)S 807 x(:)S 269 x(in)S 269 x(CMA_T_THREAD;)S 8173 X
498 y(PRIORITY)S 269 x(:)S 269 x(in)S 269 x(CMA_T_PRIORITY\);)S 4945 X
498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_thread_set_priority)S 269 x(\()S
6021 X 498 y(cma_t_thread)S 11401 X(*thread,)S 6021 X 498 y(cma_t_priority)S
11401 X(priority\);)S 3899 8655 XY F147(Parameters:)S 3899 X 896 y F38
(thread)S 8282 X(The)S 150 x(thread)S 151 x(whose)S 150 x(priority)S
149 x(is)S 149 x(to)S 150 x(be)S 150 x(changed.)S 3899 X 698 y(priority)S
8282 X(The)S 150 x(new)S 150 x(priority)S 149 x(value.)S 3899 11245 XY
23316 48 R 3899 11843 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 12839 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 698 y(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S
14409 X(One)S 150 x(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x
(supplied)S 150 x(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X
299 y 23316 48 R 3899 16077 XY F147(The)S 183 x(current)S 183 x(priority)S
182 x(of)S 183 x(the)S 183 x F148(thread)S 182 x F147(parameter)S 182 x
(is)S 182 x(modi\211ed.)S 3899 17073 XY(Changin)S -2 x(g)S 228 x(the)S
226 x(priority)S 227 x(of)S 227 x(a)S 227 x(thread)S 226 x(may)S 227 x
(cause)S 226 x(it)S 227 x(to)S 227 x(start)S 227 x(executing)S 227 x
(or)S 227 x(to)S 227 x(be)S 226 x(preempted.)S 376 x(A)S 3899 X 648 y
(thread)S 182 x(may)S 183 x(change)S 182 x(its)S 182 x(own)S 183 x(priority)S
-61 x(.)S 3899 18717 XY(The)S 213 x(exact)S 213 x(effect)S 214 x(of)S
213 x(setting)S 213 x(different)S 213 x(priority)S 212 x(values)S 212 x
(depend)S -2 x(s)S 213 x(on)S 212 x(the)S 213 x(scheduli)S -2 x(ng)S
213 x(priority)S 213 x(as-)S 3899 X 647 y(signed)S 162 x(to)S 163 x
(the)S 164 x(thread.)S 236 x(Refer)S 164 x(to)S 163 x(Section)S 164 x
(2.3)S 163 x(for)S 164 x(further)S 164 x(information)S 162 x(on)S 163 x
(schedulin)S -2 x(g)S 164 x(policies)S 161 x(and)S 3899 X 648 y(priorities.)S
3899 21407 XY F32(4.3.4.2)S 547 x F33(cma_thread_s)S -2 x(et_sched)S
3899 X 896 y F147(The)S 177 x(current)S 178 x(schedul)S -2 x(ing)S 177 x
(policy)S 176 x(of)S 177 x(a)S 177 x(thread)S 176 x(can)S 177 x(be)S
176 x(changed)S 177 x(by)S 177 x(calli)S -2 x(ng)S 177 x(the)S 177 x
(procedure)S 177 x(that)S 176 x(has)S 3899 X 648 y(the)S 182 x(following)S
183 x(declarati)S -2 x(on:)S 4945 23997 XY F98(procedure)S 269 x(CMA_THREAD_SET_SCHED)S
269 x(\()S 8173 X 498 y(THREAD)S 807 x(:)S 269 x(in)S 269 x(CMA_T_THREAD;)S
8173 X 498 y(POLICY)S 807 x(:)S 269 x(in)S 269 x(CMA_T_SCHED_POLICY)S
8173 X 499 y(PRIORITY)S 269 x(:)S 269 x(in)S 269 x(CMA_T_PRIORITY\);)S
4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_thread_set_sched)S 269 x(\()S 6021 X
498 y(cma_t_thread)S 11401 X(*thread,)S 6021 X 498 y(cma_t_sched_policy)S
538 x(policy,)S 6021 X 498 y(cma_t_priority)S 11401 X(priority\);)S
3899 29775 XY F147(Parameters:)S 3899 X 897 y F38(thread)S 8282 X(The)S
150 x(thread)S 151 x(whose)S 150 x(scheduling)S 150 x(policy)S 150 x
(is)S 149 x(to)S 149 x(be)S 150 x(changed)S 2 x(.)S 3899 X 697 y(policy)S
8282 X(The)S 150 x(new)S 150 x(scheduling)S 150 x(policy)S 150 x(value.)S
3899 X 698 y(priority)S 8282 X(The)S 150 x(new)S 150 x(scheduling)S
150 x(priority)S 150 x(value.)S 3899 33063 XY 23316 48 R 3899 33661 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 34657 XY(cma_e_)S 2 x(existence)S 10026 X
(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x
(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S
2 x(tly)S 148 x(exist.)S 21509 37373 XY F36(CMA)S 165 x(Core)S 166 x
(Services)S 499 x(47)S
%%EndCustomColor: 0
52 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%+ NewCenturySchlbk-Roman Helvetica NewCenturySchlbk-Italic
%%+ Helvetica-BoldOblique
%%PageCustomColors: 0
%
%%Page: 48 53
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4248 XY F38(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 298 y 23316 48 R 3899 5244 XY
(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S
193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x
(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S
192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S
149 x(passed)S 151 x(in.)S 3899 X 697 y(cma_e_)S 2 x(badparam)S 10026 X
(ill)S -2 x(egal)S 14409 X(One)S 150 x(or)S 150 x(more)S 151 x(parame)S
2 x(ters)S 149 x(supplied)S 150 x(had)S 151 x(an)S 150 x(invalid)S 149 x
(value.)S 3899 X 299 y 23316 48 R 3899 7784 XY F147(The)S 183 x(current)S
183 x(scheduli)S -2 x(ng)S 183 x(policy)S 182 x(and)S 181 x(priority)S
183 x(of)S 183 x(the)S 182 x(speci\211ed)S 181 x F148(thread)S 183 x
F147(is)S 182 x(modi\211ed)S -2 x(.)S 3899 8781 XY(Changin)S -2 x(g)S
197 x(the)S 197 x(schedul)S -2 x(ing)S 196 x(policy)S 196 x(and)S 196 x
(priority)S 196 x(of)S 197 x(a)S 196 x(thread)S 196 x(may)S 196 x(cause)S
196 x(it)S 197 x(to)S 196 x(start)S 197 x(executing)S 196 x(or)S 3899 X
647 y(to)S 183 x(be)S 182 x(preempted.)S 243 x(A)S 182 x(thread)S 182 x
(may)S 183 x(change)S 182 x(its)S 182 x(own)S 183 x(policy)S 182 x(and)S
182 x(priority)S -62 x(.)S 3899 10424 XY(Refer)S 183 x(to)S 183 x(Section)S
182 x(2.3)S 183 x(for)S 183 x(information)S 182 x(on)S 182 x(schedulin)S
-2 x(g)S 183 x(policies)S 181 x(and)S 182 x(priorities.)S 3899 11819 XY
F32(4.3.4.3)S 547 x F33(cma_yield)S 3899 X 897 y F147(A)S 201 x(thread)S
202 x(can)S 201 x(indicate)S 200 x(its)S 202 x(willi)S -2 x(ngness)S
201 x(to)S 202 x(release)S 201 x(its)S 202 x(processor)S 201 x(by)S
202 x(callin)S -2 x(g)S 203 x(the)S 201 x(procedure)S 202 x(that)S 3899 X
647 y(has)S 182 x(the)S 182 x(following)S 182 x(declaration:)S 4945 14409 XY
F98(procedure)S 269 x(CMA_YIELD;)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 499 y(cma_yield)S 269 x(\(\);)S 3899 17498 XY
F147(Parameters:)S 3899 X 897 y F38(none)S 3899 19391 XY F147(This)S
123 x(operation)S 123 x(noti\211es)S 122 x(the)S 124 x(schedul)S -2 x
(er)S 124 x(that)S 123 x(the)S 124 x(current)S 124 x(thread)S 123 x
(is)S 123 x(willin)S -2 x(g)S 124 x(to)S 124 x(release)S 123 x(its)S
123 x(processor)S 3899 X 647 y(to)S 183 x(other)S 182 x(threads)S 182 x
(of)S 183 x(the)S 183 x(same)S 182 x(\(or)S 183 x(higher\))S 183 x(priority)S
-61 x(.)S 3899 21035 XY(If)S 175 x(the)S 175 x(thread')S -21 x(s)S 175 x
(schedul)S -2 x(ing)S 175 x(policy)S 174 x(is)S 175 x F148(cma_c_sched_rr)S
176 x F147(or)S 175 x F148(cma_c_sched_\211fo)S F147(,)S 178 x(then)S
174 x(this)S 175 x(operation)S 3899 X 647 y(allows)S 177 x(other)S 178 x
(threads)S 177 x(of)S 179 x(the)S 178 x(same)S 177 x(or)S 179 x(higher)S
178 x(priority)S 177 x(to)S 179 x(execute;)S 180 x(if)S 178 x(no)S 178 x
(such)S 178 x(thread)S 177 x(is)S 178 x(ready)S 177 x(to)S 3899 X 648 y
(execute,)S 230 x(the)S 220 x(invoking)S 219 x(thread)S 219 x(continues.)S
355 x(If)S 220 x(the)S 220 x(thread')S -21 x(s)S 219 x(schedulin)S -2 x
(g)S 221 x(poli)S -2 x(cy)S 221 x(is)S 219 x F148(cma_c_sched_)S 3899 X
647 y(throughput)S 225 x F147(or)S 227 x F148(cma_c_sched_background)S
226 x F147(\(or)S 227 x(another)S -41 x(,)S 238 x(implementati)S -2 x
(on)S 227 x(speci\211c)S 225 x(policy\),)S 238 x(then)S 3899 X 648 y
(the)S 182 x(operation)S 182 x(is)S 182 x(implementa)S -2 x(tion)S 183 x
(de\211ned)S -2 x(,)S 183 x(and)S 182 x(may)S 182 x(even)S 183 x(be)S
182 x(ignored.)S 13729 24571 XY F153(USAGE)S 167 x(NOTE)S 4796 26365 XY
(This)S 183 x(operatio)S 2 x(n)S 184 x(allows)S 185 x(knowledge)S 185 x
(about)S 184 x(the)S 185 x(details)S 185 x(of)S 184 x(an)S 184 x(applica)S
2 x(tion)S 184 x(to)S 185 x(be)S 183 x(used)S 184 x(to)S 4796 X 597 y
(increase)S 192 x(fairness.)S 301 x(It)S 192 x(can)S 193 x(increase)S
193 x(fairness)S 192 x(of)S 192 x(access)S 193 x(to)S 193 x(the)S 192 x
(processor)S 193 x(by)S 192 x(removing)S 4796 X 598 y(the)S 167 x(current)S
168 x(thread)S 168 x(from)S 167 x(the)S 168 x(processor)S -37 x(.)S
227 x(It)S 168 x(can)S 168 x(increase)S 168 x(fairness)S 168 x(of)S
167 x(access)S 168 x(to)S 168 x(shared)S 4796 X 598 y(resources)S 111 x
(by)S 112 x(removing)S 113 x(the)S 112 x(current)S 111 x(thread)S 112 x
(from)S 112 x(the)S 112 x(processor)S 112 x(as)S 112 x(soon)S 113 x
(as)S 112 x(it)S 112 x(is)S 113 x(\211nished)S 4796 X 598 y(with)S 166 x
(the)S 167 x(resource.)S 4796 X 896 y(As)S 154 x(a)S 154 x(general)S
155 x(guid)S 2 x(eline,)S 157 x(yieldi)S 2 x(ng)S 155 x(should)S 155 x
(be)S 154 x(considered)S 155 x(whenever)S 154 x(a)S 155 x(thread)S 155 x
(is)S 154 x(execut-)S 4796 X 598 y(ing)S 135 x(code)S 134 x(that)S 136 x
(could)S 135 x(starve)S 135 x(other)S 134 x(threads)S 135 x(if)S 134 x
(the)S 135 x(scheduling)S 136 x(policy)S 136 x(were)S 133 x(`)S -9 x
(`run-current-)S 4796 X 598 y(thread-till-block)S 2 x(ed')S -9 x(')S
166 x(on)S 167 x(a)S 166 x(uniprocessor)S -36 x(.)S 4796 X 896 y(This)S
200 x(operatio)S 2 x(n)S 200 x(shoul)S 2 x(d)S 200 x(be)S 201 x(used)S
201 x(carefully)S 201 x(and)S 202 x(sparingly)S -54 x(,)S 210 x(as)S
201 x(misuse)S 201 x(can)S 201 x(actually)S 202 x(in-)S 4796 X 598 y
(crease)S 143 x(overhead)S 144 x(because)S 144 x(of)S 143 x(unnecessary)S
144 x(context)S 145 x(switching)S 145 x(without)S 144 x(increasing)S
145 x(fair-)S 4796 X 598 y(ness.)S 427 x(For)S 234 x(example,)S 252 x
(it)S 235 x(is)S 235 x(counter)S 235 x(productive)S 235 x(for)S 235 x
(a)S 234 x(thread)S 235 x(to)S 235 x(yield)S 236 x(while)S 235 x(it)S
234 x(has)S 235 x(a)S 4796 X 598 y(needed)S 166 x(resource)S 166 x(locked.)S
3899 37373 XY F36(48)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
53 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ Helvetica-BoldOblique Courier NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 49 54
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
12318 3975 XY F153(IMPLEMENTOR'S)S 165 x(NOTE)S 4796 X 896 y(The)S 169 x
(exact)S 171 x(effects)S 169 x(of)S 170 x(yieldi)S 2 x(ng)S 170 x(for)S
169 x(the)S 170 x(scheduli)S 2 x(ng)S 170 x(policy)S 171 x(used)S 171 x
(by)S 170 x(the)S 170 x(implementatio)S 2 x(n)S 4796 X 598 y(must)S
166 x(be)S 166 x(described)S 166 x(in)S 166 x(Appendix)S 168 x(F)S -56 x
(.)S 3899 6864 XY F32(4.3.4.4)S 547 x F33(cma_delay)S 3899 X 897 y F147
(A)S 125 x(thread)S 125 x(can)S 125 x(wait)S 126 x(for)S 126 x(a)S 125 x
(speci\211ed)S 124 x(period)S 125 x(of)S 126 x(time)S 125 x(by)S 126 x
(calling)S 124 x(the)S 126 x(procedure)S 125 x(that)S 126 x(has)S 124 x
(the)S 126 x(following)S 3899 X 647 y(declaration)S -2 x(:)S 4945 9454 XY
F98(procedure)S 269 x(CMA_DELAY)S 269 x(\()S 8173 X 498 y(TIME_INTERVAL)S
269 x(:)S 269 x(in)S 269 x(CMA_T_INTERVAL\);)S 4945 X 499 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_delay)S 269 x(\()S 6021 X 498 y
(cma_t_interval)S 12208 X(interval\);)S 3899 13240 XY F147(Parameters:)S
3899 X 897 y F38(time_interval)S 8282 X(The)S 150 x(time)S 150 x(interval)S
149 x(to)S 149 x(delay)S -32 x(.)S 3899 15133 XY 23316 48 R 3899 15731 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 16727 XY(cma_e_)S 2 x(alerted)S 10026 X
(alert)S 14409 X(This)S 149 x(exception)S 150 x(is)S 149 x(raised)S
150 x(when)S 149 x(an)S 150 x(alert)S 149 x(is)S 148 x(delivered)S 150 x
(to)S 149 x(the)S 149 x(thread)S 14409 X 548 y(\(see)S 151 x(Section)S
149 x(4.7\).)S 3899 X 697 y(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x
(egal)S 14409 X(One)S 150 x(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S
149 x(supplied)S 150 x(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S
3899 X 299 y 23316 48 R 3899 19267 XY F147(The)S 182 x(execution)S 183 x
(of)S 182 x(the)S 183 x(current)S 183 x(thread)S 181 x(enters)S 182 x
(the)S 183 x(waiting)S 181 x(state)S 182 x(for)S 183 x(an)S 182 x(elapsed)S
181 x F148(wall)S 183 x(clock)S 183 x F147(time)S 3899 X 648 y(at)S
196 x(least)S 195 x(as)S 196 x(long)S 195 x(as)S 196 x(the)S 196 x(interval)S
195 x(speci\211ed.)S 283 x(The)S 197 x(interval)S 195 x(is)S 196 x(a)S
195 x(number)S 196 x(of)S 197 x(seconds,)S 199 x(speci\211)S -2 x(ed)S
196 x(as)S 3899 X 648 y(a)S 179 x(\212oating)S 179 x(point)S 179 x(value.)S
242 x(See)S 180 x(Section)S 179 x(4.4.4.2)S 179 x(for)S 181 x(more)S
180 x(information)S 179 x(on)S 179 x(the)S 180 x F148(cma_t_interval)S
180 x F147(type.)S 3899 21559 XY(The)S 161 x(error)S 161 x F149(cma_e)S
-2 x(_badparam)S 161 x F147(will)S 160 x(be)S 160 x(raised)S 159 x(if)S
160 x(the)S 161 x(interval)S 159 x(speci\211ed)S 159 x(is)S 160 x(less)S
159 x(than)S 160 x(0.0)S 160 x(seconds,)S 3899 X 647 y(or)S 222 x(too)S
222 x(large)S 221 x(for)S 222 x(the)S 222 x(implementati)S -2 x(on.)S
361 x(Delaying)S 221 x(for)S 222 x(an)S 222 x(interval)S 221 x(of)S
222 x(0.0)S 221 x(seconds)S 221 x(is)S 221 x(legal;)S 240 x(this)S 3899 X
648 y(may)S 183 x(result)S 182 x(in)S 182 x(the)S 182 x(thread)S 182 x
(giving)S 183 x(up)S 182 x(the)S 182 x(processor)S -41 x(,)S 183 x(or)S
183 x(in)S 182 x(delivering)S 182 x(a)S 182 x(pendin)S -2 x(g)S 183 x
(alert.)S 3899 23850 XY(This)S 182 x(operation)S 182 x(is)S 182 x(alertsafe)S
182 x(and)S 181 x(alertable.)S 243 x(\(For)S 184 x(a)S 182 x(discuss)S
-2 x(ion)S 182 x(of)S 183 x(alerts)S 182 x(refer)S 184 x(to)S 183 x
(Section)S 182 x(4.7\).)S 3899 25345 XY F32(4.3.5)S 547 x(Thread)S 182 x
(Information)S 183 x(Operations)S 3899 26341 XY F147(The)S 183 x(operations)S
181 x(of)S 183 x(this)S 182 x(section)S 182 x(are)S 183 x(used)S 181 x
(to)S 183 x(obtain)S 182 x(information)S 182 x(about)S 182 x(a)S 182 x
(thread.)S 3899 27337 XY(The)S 183 x(operations)S 181 x(described)S
181 x(in)S 182 x(this)S 182 x(section)S 182 x(are)S 183 x(used)S 181 x
(to:)S 3899 X 897 y(\201)S 714 x(Obtain)S 182 x(the)S 182 x(handle)S
181 x(of)S 183 x(the)S 183 x(current)S 183 x(thread.)S 3899 X 897 y
(\201)S 714 x(Obtain)S 182 x(the)S 182 x(current)S 184 x(priority)S
182 x(of)S 183 x(any)S 182 x(thread.)S 3899 X 896 y(\201)S 714 x(Obtain)S
182 x(the)S 182 x(current)S 184 x(schedul)S -2 x(ing)S 183 x(poli)S
-2 x(cy)S 183 x(of)S 183 x(any)S 183 x(thread.)S 21509 37373 XY F36
(CMA)S 165 x(Core)S 166 x(Services)S 499 x(49)S
%%EndCustomColor: 0
54 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Bold
%%+ Helvetica-BoldOblique NewCenturySchlbk-Roman
%%+ Courier Helvetica NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 50 55
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3996 XY F32(4.3.5.1)S 547 x F33(cma_thread_ge)S -2 x(t_self)S 3899 X
896 y F147(A)S 172 x(thread)S 171 x(can)S 172 x(obtain)S 171 x(its)S
171 x(own)S 172 x(handle)S 171 x(by)S 172 x(callin)S -2 x(g)S 173 x
(the)S 172 x(procedure)S 171 x(that)S 172 x(has)S 171 x(the)S 172 x
(following)S 172 x(declara-)S 3899 X 648 y(tion:)S -101 x 6586 Y F98
(procedure)S 269 x(CMA_THREAD_GET_SELF)S 269 x(\()S 8173 X 498 y(THREAD)S
269 x(:)S 269 x(out)S 269 x(CMA_T_THREAD\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_thread_get_self)S 269 x(\()S 6021 X
498 y(cma_t_thread)S 11401 X(*thread\);)S 3899 10372 XY F147(Parameters:)S
3899 X 896 y F38(thread)S 8282 X(A)S 150 x(variable)S 150 x(that)S 149 x
(receives)S 151 x(the)S 149 x(handle)S 151 x(for)S 149 x(the)S 150 x
(thread)S 150 x(object)S 150 x(of)S 149 x(the)S 150 x(current)S 150 x
(thread.)S 3899 12265 XY F147(Note:)S 360 x(caution)S 240 x(should)S
239 x(be)S 241 x(exercised)S 240 x(as)S 240 x(to)S 241 x(how)S 241 x
(this)S 240 x(value)S 240 x(is)S 241 x(used.)S 417 x(Usage)S 240 x(should)S
239 x(take)S 241 x(into)S 3899 X 647 y(account)S 239 x(that)S 238 x
(this)S 238 x(value)S 238 x(becomes)S 238 x(meaningless)S 237 x(when)S
239 x(the)S 239 x(thread)S 238 x(object)S 239 x(has)S 238 x(been)S 238 x
(deleted\202)S 3899 X 648 y(that)S 263 x(is,)S 283 x(after)S 264 x(the)S
263 x(thread)S 263 x(has)S 262 x(terminated)S 263 x(its)S 262 x(execution)S
263 x(and)S 263 x(cma_thread_d)S -2 x(etach)S 264 x(has)S 262 x(been)S
3899 X 647 y(called.)S 3899 15602 XY F32(4.3.5.2)S 547 x F33(cma_thread_ge)S
-2 x(t_priority)S 3899 X 897 y F147(The)S 268 x(current)S 268 x(priority)S
267 x(of)S 268 x(a)S 267 x(thread)S 267 x(can)S 267 x(be)S 267 x(obtained)S
266 x(by)S 268 x(calli)S -2 x(ng)S 268 x(the)S 267 x(procedure)S 268 x
(that)S 267 x(has)S 267 x(the)S 3899 X 647 y(following)S 182 x(declaration:)S
4945 18192 XY F98(procedure)S 269 x(CMA_THREAD_GET_PRIORITY)S 269 x
(\()S 8173 X 499 y(THREAD)S 807 x(:)S 538 x(in)S 269 x(CMA_T_THREAD;)S
8173 X 498 y(PRIORITY)S 269 x(:)S 538 x(out)S 269 x(CMA_T_PRIORITY\);)S
4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_thread_get_priority)S 269 x(\()S
6021 X 498 y(cma_t_thread)S 11939 X(*thread,)S 6021 X 498 y(cma_t_priority)S
269 x(*)S 11939 X(priority\);)S 3899 22974 XY F147(Parameters:)S 3899 X
897 y F38(thread)S 8282 X(The)S 150 x(thread)S 151 x(whose)S 150 x(current)S
150 x(priority)S 150 x(is)S 149 x(desired.)S 3899 X 697 y(priority)S
8282 X(A)S 150 x(variable)S 150 x(to)S 149 x(receive)S 151 x(the)S 149 x
(curren)S 2 x(t)S 149 x(priority)S 149 x(value.)S 3899 25565 XY 23316 48 R
3899 26162 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 27159 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 29699 XY F147(The)S 183 x(current)S
183 x(priority)S 182 x(of)S 183 x(the)S 183 x F148(thread)S 182 x F147
(parameter)S 182 x(is)S 182 x(obtained.)S 3899 30695 XY(The)S 243 x
(current)S 243 x(priority)S 242 x(may)S 243 x(be)S 242 x(different)S
243 x(from)S 243 x(the)S 243 x(initi)S -2 x(al)S 242 x(priority)S 242 x
(of)S 243 x(the)S 243 x(thread)S 242 x(if)S 243 x(the)S 242 x(client)S
3899 X 648 y(modi\211es)S 181 x(priorities)S 182 x(usin)S -2 x(g)S 183 x
F148(cma_thread_set_priority)S F147(.)S 3899 32339 XY(The)S 144 x(exact)S
145 x(effect)S 145 x(of)S 145 x(different)S 144 x(priority)S 144 x(values)S
143 x(is)S 143 x(depend)S -2 x(ent)S 144 x(upon)S 144 x(the)S 144 x
(schedul)S -2 x(ing)S 144 x(policy)S 143 x(assigned)S 3899 X 648 y(to)S
183 x(the)S 182 x(thread.)S 243 x(Refer)S 183 x(to)S 183 x(Section)S
183 x(2.3)S 182 x(for)S 183 x(further)S 184 x(information)S 182 x(on)S
182 x(priorities.)S 3899 37373 XY F36(50)S 498 x(CMA)S 165 x(Core)S
166 x(Services)S
%%EndCustomColor: 0
55 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 51 56
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3996 XY F32(4.3.5.3)S 547 x F33(cma_thread_ge)S -2 x(t_sched)S
3899 X 896 y F147(The)S 171 x(current)S 171 x(schedulin)S -2 x(g)S 171 x
(policy)S 170 x(of)S 172 x(a)S 170 x(thread)S 170 x(can)S 171 x(be)S
170 x(obtained)S 169 x(by)S 171 x(calling)S 170 x(the)S 170 x(procedure)S
171 x(that)S 170 x(has)S 3899 X 648 y(the)S 182 x(following)S 183 x
(declarati)S -2 x(on:)S 4945 6586 XY F98(procedure)S 269 x(CMA_THREAD_GET_SCHED)S
269 x(\()S 8173 X 498 y(THREAD)S 807 x(:)S 269 x(in)S 269 x(CMA_T_THREAD;)S
8173 X 498 y(POLICY)S 807 x(:)S 269 x(out)S 269 x(CMA_T_SCHED_POLICY\);)S
4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_thread_get_sched)S 269 x(\()S 6021 X
499 y(cma_t_thread)S 11401 X(*thread,)S 6021 X 498 y(cma_t_sched_policy)S
538 x(*policy\);)S 3899 11368 XY F147(Parameters:)S 3899 X 897 y F38
(thread)S 8282 X(The)S 150 x(thread)S 151 x(whose)S 150 x(scheduling)S
150 x(policy)S 150 x(is)S 149 x(to)S 149 x(be)S 150 x(obtained.)S 3899 X
697 y(policy)S 8282 X(The)S 150 x(schedu)S 2 x(ling)S 149 x(policy)S
149 x(value.)S 3899 13958 XY 23316 48 R 3899 14556 XY(Error)S 10026 X
(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X 299 y
23316 48 R 3899 15552 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 298 y 23316 48 R 3899 18093 XY
F147(The)S 186 x(current)S 186 x(scheduli)S -2 x(ng)S 186 x(policy)S
185 x(of)S 186 x(the)S 185 x F148(thread)S 185 x F147(parameter)S 186 x
(is)S 185 x(returned.)S 252 x(Refer)S 186 x(to)S 186 x(Section)S 185 x
(2.3)S 186 x(for)S 3899 X 647 y(further)S 183 x(information)S 182 x
(on)S 183 x(schedul)S -2 x(ing)S 183 x(poli)S -2 x(cies.)S 3899 20235 XY
F28(4.4)S 599 x(CMA)S 198 x(Synchronizatio)S 2 x(n)S 199 x(Objects)S
3899 21231 XY F32(4.4.1)S 547 x(Introduction)S 183 x(to)S 183 x(CMA)S
182 x(Synchronization)S 183 x(Objects)S 3899 22227 XY F147(The)S 209 x
(CMA)S 209 x(synchroniza)S -2 x(tion)S 209 x(objects)S 209 x(are)S 209 x
(intended)S 207 x(to)S 209 x(allow)S 209 x(concurrently)S 209 x(executing)S
209 x(threads)S 208 x(to)S 3899 X 648 y(ef\211ciently)S 182 x(and)S
182 x(reliabl)S -2 x(y)S 183 x(synchronize)S 182 x(with)S 182 x(each)S
183 x(other)S -41 x(.)S 3899 23871 XY(The)S 216 x(only)S 216 x(synchroniza)S
-2 x(tion)S 216 x(objects)S 216 x(provided)S 214 x(by)S 216 x(the)S
216 x(CMA)S 215 x(core)S 217 x(layer)S 215 x(are)S 216 x(mutexes)S 216 x
(and)S 215 x(condi-)S 3899 X 648 y(tion)S 207 x(variabl)S -2 x(es.)S
318 x(These)S 207 x(are)S 207 x(ef\211cient,)S 214 x(easy)S 207 x(to)S
207 x(use,)S 213 x(and)S 206 x(form)S 208 x(a)S 207 x(complete)S 207 x
(set)S 207 x(from)S 208 x(which)S 207 x(other)S 3899 X 647 y(synchronizati)S
-2 x(on)S 183 x(objects)S 182 x(can)S 183 x(be)S 182 x(constructed)S
183 x(\(see)S 182 x(References)S 183 x([4],)S 184 x([5]\).)S 3899 26162 XY
(Examples)S 181 x(of)S 183 x(using)S 182 x(CMA)S 182 x(synchronizati)S
-2 x(on)S 183 x(objects)S 182 x(are)S 183 x(given)S 182 x(in)S 183 x
(App)S -2 x(endix)S 182 x(D.)S 3899 27159 XY(These)S 149 x(operations)S
147 x(may)S 149 x(cause)S 148 x(a)S 149 x(thread)S 148 x(to)S 149 x
(transition)S 148 x(from)S 150 x(the)S 149 x F149(running)S 150 x F147
(into)S 148 x(the)S 149 x F149(waiting)S 149 x F147(state)S 3899 X 647 y
(or)S 183 x(from)S 183 x(the)S 183 x F149(waiting)S 182 x F147(state)S
183 x(into)S 182 x(the)S 182 x F149(ready)S 183 x F147(state.)S 3899 28803 XY
(The)S 201 x(order)S 202 x(in)S 200 x(which)S 201 x(waiting)S 201 x
(threads)S 200 x(are)S 202 x(readied)S 199 x(out)S 201 x(of)S 202 x
(the)S 201 x F149(waiting)S 202 x F147(state)S 200 x(depends)S 200 x
(on)S 201 x(each)S 3899 X 647 y(thread')S -21 x(s)S 183 x(scheduli)S
-2 x(ng)S 184 x(poli)S -2 x(cy)S -60 x(.)S 246 x(Threads)S 183 x(running)S
183 x(under)S 183 x(the)S 183 x F148(cma_c_sched_rr)S 185 x F147(or)S
184 x F148(cma_c_sched_\211fo)S 3899 X 648 y F147(polici)S -2 x(es)S
186 x(must)S 185 x(be)S 186 x(readied)S 184 x(in)S 185 x(strict)S 186 x
(priority)S 185 x(order)S -40 x(.)S 253 x(For)S 186 x(other)S 186 x
(scheduli)S -2 x(ng)S 186 x(policies)S -2 x(,)S 187 x(the)S 186 x(ordering)S
3899 X 647 y(is)S 182 x(unspeci)S -2 x(\211ed.)S 21509 37373 XY F36
(CMA)S 165 x(Core)S 166 x(Services)S 499 x(51)S
%%EndCustomColor: 0
56 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 52 57
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4013 XY F32(4.4.2)S 547 x(Mutex)S 183 x(Objects)S 3899 5009 XY
F147(A)S 166 x F148(mutex)S 168 x F147(is)S 166 x(a)S 166 x(synchronization)S
166 x(object)S 167 x(used)S 166 x(to)S 167 x(allow)S 166 x(multipl)S
-2 x(e)S 167 x(threads)S 166 x(to)S 168 x(quickl)S -2 x(y)S 168 x(seriali)S
-2 x(ze)S 167 x(their)S 3899 X 647 y(access)S 222 x(to)S 222 x(shared)S
221 x(data.)S 361 x(The)S 222 x(name)S 222 x(derives)S 221 x(from)S
223 x(the)S 222 x(capabil)S -2 x(ity)S 222 x(it)S 222 x(provides,)S
231 x(namely)S -61 x(,)S 232 x(mutual)S 3899 X 648 y(exclusion.)S 3899 7300 XY
(Conceptual)S -2 x(ly)S -61 x(,)S 177 x(the)S 175 x(thread)S 174 x(that)S
175 x(has)S 174 x(locked)S 174 x(a)S 175 x(mutex)S 175 x(becomes)S 175 x
(its)S 174 x(`)S -10 x(`current)S 175 x(owner')S -9 x(')S 174 x(and)S
174 x(remains)S 3899 X 648 y(the)S 182 x(owner)S 183 x(until)S 182 x
(the)S 183 x(same)S 182 x(thread)S 182 x(\(and)S 182 x(only)S 182 x
(that)S 182 x(thread\))S 183 x(has)S 182 x(unlocked)S 181 x(it)S -181 y
F159(1)S 24 x 181 y F147(.)S 3899 8944 XY(The)S 183 x(operations)S 181 x
(described)S 181 x(in)S 182 x(this)S 182 x(section)S 182 x(are)S 183 x
(used)S 181 x(to:)S 3899 X 897 y(\201)S 714 x(Create)S 182 x(a)S 183 x
(mutex)S 3899 X 896 y(\201)S 714 x(Delete)S 183 x(a)S 182 x(mutex)S
3899 X 897 y(\201)S 714 x(Lock)S 183 x(a)S 183 x(mutex)S 3899 X 897 y
(\201)S 714 x(T)S -34 x(ry)S 184 x(to)S 182 x(lock)S 183 x(a)S 182 x
(mutex,)S 183 x(without)S 183 x(blocking)S 182 x(the)S 182 x(thread)S
3899 X 896 y(\201)S 714 x(Unlock)S 182 x(a)S 182 x(mutex)S 3899 14822 XY
F32(4.4.2.1)S 547 x F33(cma_mutex_cre)S -2 x(ate)S 3899 X 897 y F147
(A)S 182 x(mutex)S 183 x(can)S 182 x(be)S 183 x(created)S 182 x(by)S
183 x(callin)S -2 x(g)S 183 x(the)S 183 x(procedure)S 182 x(that)S 182 x
(has)S 182 x(the)S 183 x(following)S 182 x(declaration:)S 4945 16765 XY
F98(procedure)S 269 x(CMA_MUTEX_CREATE)S 269 x(\()S 8173 X 498 y(NEW_MUTEX)S
269 x(:)S 269 x(out)S 269 x(CMA_T_MUTEX;)S 8173 X 498 y(ATT)S 10863 X
(:)S 269 x(in)S 538 x(CMA_T_ATTR\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_mutex_create)S 269 x(\()S 6021 X
498 y(cma_t_mutex)S 269 x(*new_mutex,)S 6021 X 498 y(cma_t_attr)S 538 x
(*att\);)S 3899 21846 XY F147(Parameters:)S 3899 X 896 y F38(new_mutex)S
8282 X(A)S 150 x(variable)S 150 x(that)S 149 x(receives)S 151 x(a)S
149 x(handle)S 151 x(designating)S 150 x(the)S 149 x(new)S 150 x(mutex.)S
3899 X 698 y(att)S 8282 X(The)S 150 x(attributes)S 150 x(to)S 149 x
(be)S 150 x(used)S 150 x(when)S 150 x(creating)S 150 x(the)S 150 x(mutex.)S
3899 24436 XY 23316 48 R 3899 25034 XY(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 299 y 23316 48 R 3899 26030 XY
(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x
(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S
150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X
697 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X
(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 28571 XY
F147(The)S 183 x(mutex)S 183 x(is)S 182 x(created)S 182 x(and)S 182 x
(initia)S -2 x(lized)S 181 x(to)S 183 x(the)S 182 x F149(unlocked)S
184 x F147(state.)S 3899 29567 XY(Mutexes)S 203 x(created)S 204 x(using)S
202 x F148(cma_mutex_create)S 204 x F147(are)S 204 x(not)S 203 x(automaticall)S
-2 x(y)S 204 x(deall)S -2 x(ocated)S 204 x(if)S 203 x(the)S 203 x(creating)S
3899 X 647 y(thread)S 182 x(terminates,)S 182 x(but)S 183 x(are)S 182 x
(presumed)S 182 x(to)S 182 x(be)S 183 x(shared)S 181 x(among)S 183 x
(multipl)S -2 x(e)S 183 x(threads.)S 3899 34824 XY 6996 24 R 4106 35219 XY
F163(1)S 225 x 140 y F159(It)S 160 x(is)S 158 x(optional)S 160 x(for)S
159 x(an)S 160 x(implementation)S 160 x(to)S 160 x(implement)S 160 x
(or)S 160 x(check)S 161 x(`)S -7 x(`mute)S 2 x(x)S 159 x(ownership')S
-6 x('.)S 258 x(Those)S 160 x(that)S 160 x(do)S 160 x(might)S 160 x
(be)S 159 x(able)S 159 x(to)S 160 x(provide)S 4497 X 498 y(addi)S -2 x
(tional)S 132 x(debugging)S 133 x(features)S 133 x(and)S 133 x(deadl)S
-2 x(ock)S 134 x(detection.)S 3899 37573 XY F36(52)S 498 x(CMA)S 165 x
(Core)S 166 x(Services)S
%%EndCustomColor: 0
57 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Helvetica-BoldOblique
%%+ Courier Helvetica NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 53 58
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3996 XY F32(4.4.2.2)S 547 x F33(cma_mutex_de)S -2 x(lete)S 3899 X
896 y F147(A)S 182 x(mutex)S 183 x(can)S 182 x(be)S 183 x(deleted)S
181 x(by)S 183 x(calli)S -2 x(ng)S 183 x(the)S 183 x(procedure)S 182 x
(that)S 182 x(has)S 182 x(the)S 183 x(following)S 182 x(declaration)S
-2 x(:)S 4945 5938 XY F98(procedure)S 269 x(CMA_MUTEX_DELETE)S 269 x
(\()S 8173 X 498 y(MUTEX)S 269 x(:)S 269 x(in)S 269 x(out)S 269 x(CMA_T_MUTEX\);)S
4945 X 499 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_mutex_delete)S 269 x(\()S 6021 X
498 y(cma_t_mutex)S 269 x(*mutex\);)S 3899 9724 XY F147(Parameters:)S
3899 X 897 y F38(mutex)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x
(the)S 149 x(mutex)S 151 x(object)S 149 x(that)S 149 x(will)S 148 x
(no)S 150 x(longer)S 150 x(be)S 150 x(referen)S 2 x(ced.)S 3899 11617 XY
23316 48 R 3899 12215 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 13211 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 698 y(cma_e_)S 2 x(in_use)S 10026 X(ill)S -2 x(egal)S
14409 X(The)S 243 x(operation)S 243 x(reque)S 2 x(sted)S 242 x(for)S
242 x(the)S 243 x(object)S 242 x(cannot)S 243 x(be)S 242 x(perform)S
2 x(ed)S 14409 X 548 y(since)S 150 x(the)S 150 x(object)S 149 x(is)S
150 x(stil)S -2 x(l)S 149 x(in)S 150 x(use.)S 3899 X 299 y 23316 48 R
3899 16997 XY F147(This)S 155 x(operation)S 154 x(should)S 154 x(be)S
155 x(called)S 154 x(when)S 155 x(a)S 155 x(mutex)S 156 x(object)S 155 x
(will)S 155 x(no)S 155 x(longer)S 155 x(be)S 155 x(referenced.)S 236 x
(The)S 155 x(effect)S 3899 X 647 y(of)S 183 x(this)S 182 x(operation)S
181 x(is)S 182 x(to)S 183 x(give)S 183 x(permissi)S -2 x(on)S 183 x
(to)S 183 x(reclaim)S 182 x(storage)S 182 x(for)S 184 x(the)S 182 x
(mutex)S 183 x(object.)S 3899 18641 XY(The)S 183 x(mutex)S 183 x(object)S
183 x(is)S 182 x(deleted)S 181 x(and)S 182 x(the)S 182 x F148(mutex)S
183 x F147(parameter)S 182 x(is)S 182 x(set)S 182 x(to)S 183 x(the)S
183 x(value)S 182 x F148(cma_c_null)S F147(.)S 3899 19637 XY(It)S 125 x
(is)S 124 x(illegal)S 123 x(to)S 125 x(call)S 124 x(this)S 124 x(operation)S
124 x(if)S 125 x(the)S 125 x(mutex)S 125 x(has)S 124 x(a)S 124 x(current)S
126 x(owner)S 125 x(\(or)S 125 x(equivalently)S -62 x(,)S 137 x(is)S
124 x F149(locked)S F147(\).)S 3899 X 648 y(The)S 183 x F149(cma_e)S
-2 x(_in_use)S 183 x F147(exception)S 182 x(is)S 182 x(raised.)S 3899 21281 XY
(Call)S -2 x(ing)S 183 x(this)S 182 x(operation)S 181 x(for)S 183 x
(a)S 183 x(handl)S -2 x(e)S 183 x(of)S 183 x F148(cma_c_null)S 183 x
F147(is)S 182 x(legal)S 182 x(and)S 181 x(has)S 182 x(no)S 183 x(effect.)S
3899 22277 XY(The)S 180 x(results)S 180 x(of)S 181 x(this)S 179 x(operation)S
180 x(are)S 180 x F148(unpredictable)S 180 x F147(if)S 181 x(the)S 180 x
(handle)S 179 x(refers)S 181 x(to)S 180 x(a)S 180 x(mutex)S 181 x(object)S
181 x(which)S 3899 X 648 y(does)S 154 x(not)S 155 x(currently)S 156 x
(exist)S 155 x(\(unless)S 154 x(it)S 155 x(is)S 154 x F148(cma_c_null)S
F147(\))S 2 x(.)S 234 x(An)S 155 x(implementa)S -2 x(tion)S 155 x(that)S
155 x(reports)S 155 x(this)S 155 x(error)S 3899 X 647 y(raises)S 181 x
(the)S 183 x F149(cma_e_e)S -2 x(xistence)S 182 x F147(exception.)S
3899 24967 XY F32(4.4.2.3)S 547 x F33(cma_mutex_lock)S 3899 X 897 y
F147(A)S 182 x(mutex)S 183 x(can)S 182 x(be)S 183 x(locked)S 182 x(by)S
182 x(calling)S 182 x(the)S 182 x(procedure)S 182 x(that)S 183 x(has)S
182 x(the)S 182 x(following)S 182 x(declaration:)S 4945 26910 XY F98
(procedure)S 269 x(CMA_MUTEX_LOCK)S 269 x(\()S 8173 X 498 y(MUTEX)S
269 x(:)S 269 x(in)S 538 x(CMA_T_MUTEX\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_mutex_lock)S 269 x(\()S 6021 X
498 y(cma_t_mutex)S 269 x(*mutex\);)S 3899 30695 XY F147(Parameters:)S
3899 X 897 y F38(mutex)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x
(the)S 149 x(mutex)S 151 x(to)S 149 x(be)S 150 x(locked.)S 3899 32588 XY
23316 48 R 3899 33186 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 34182 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 21509 37373 XY F36
(CMA)S 165 x(Core)S 166 x(Services)S 499 x(53)S
%%EndCustomColor: 0
58 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 54 59
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4248 XY F38(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 298 y 23316 48 R 3899 5244 XY
(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S
193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x
(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S
192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S
149 x(passed)S 151 x(in.)S 3899 X 697 y(cma_e_)S 2 x(in_use)S 10026 X
(ill)S -2 x(egal)S 14409 X(The)S 243 x(operation)S 243 x(reque)S 2 x
(sted)S 242 x(for)S 242 x(the)S 243 x(object)S 242 x(cannot)S 243 x
(be)S 242 x(perform)S 2 x(ed)S 14409 X 548 y(since)S 150 x(the)S 150 x
(object)S 149 x(is)S 150 x(stil)S -2 x(l)S 149 x(in)S 150 x(use.)S 3899 X
299 y 23316 48 R 3899 8332 XY F147(An)S 231 x(attempt)S 231 x(is)S 230 x
(made)S 231 x(to)S 232 x(lock)S 231 x(the)S 231 x(mutex)S 232 x(for)S
232 x(the)S 231 x(current)S 232 x(thread.)S 390 x(If)S 231 x(the)S 232 x
(mutex)S 231 x(was)S 232 x(alread)S -2 x(y)S 3899 X 648 y(locked,)S
182 x(the)S 183 x(current)S 184 x(thread)S 182 x(waits)S 182 x(for)S
184 x(the)S 183 x(mutex)S 183 x(to)S 183 x(become)S 183 x(availa)S -2 x
(ble.)S 244 x(This)S 183 x(operation)S 181 x(returns)S 3899 X 647 y
(with)S 182 x(the)S 183 x(mutex)S 183 x(in)S 182 x(the)S 182 x F149
(locked)S 183 x F147(state)S 182 x(and)S 182 x(with)S 182 x(the)S 183 x
(current)S 183 x(thread)S 182 x(as)S 182 x(its)S 182 x(current)S 183 x
F148(owner)S F147(.)S 3899 10624 XY(It)S 216 x(is)S 215 x(illegal)S
-2 x(,)S 225 x(and)S 215 x(all)S 215 x(impl)S -2 x(ementations)S 215 x
(of)S 217 x(the)S 215 x(CMA)S 216 x(architecture)S 216 x(must)S 216 x
(either)S 215 x(deadlock)S 215 x(\(just\))S 3899 X 647 y(the)S 155 x
(calli)S -2 x(ng)S 155 x(thread)S 154 x(or)S 155 x(report)S 155 x(an)S
154 x(error)S -39 x(,)S 160 x(when)S 155 x(the)S 155 x(current)S 155 x
(owner)S 155 x(of)S 155 x(a)S 155 x(mutex)S 155 x(calls)S 154 x(this)S
154 x(operation)S 3899 X 648 y(in)S 188 x(an)S 187 x(attempt)S 188 x
(to)S 189 x(lock)S 188 x(the)S 188 x(mutex)S 189 x(a)S 188 x(second)S
187 x(time.)S 261 x(\(That)S 189 x(is,)S 189 x(an)S 188 x(implemen)S
-2 x(tation)S 188 x(is)S 188 x(not)S 188 x(allowed)S 3899 X 647 y(to)S
159 x(permit)S 159 x(multiple)S 158 x(locking)S 159 x(of)S 160 x(the)S
159 x(same)S 159 x(mutex)S 160 x(to)S 159 x(succeed\).)S 237 x(If)S
159 x(the)S 160 x(implemen)S -2 x(tation)S 159 x(reports)S 160 x(the)S
3899 X 648 y(error)S -40 x(,)S 224 x(it)S 215 x(raises)S 214 x(the)S
215 x F149(cma_e_in_use)S 214 x F147(exception.)S 341 x(Thus,)S 224 x
(the)S 215 x(following)S 215 x(always)S 214 x(either)S 215 x(deadlocks)S
3899 X 648 y(or)S 183 x(an)S 182 x(error)S 183 x(is)S 182 x(reported:)S
7097 14908 XY F98(cma_mutex_lock\(m\);)S 7097 X 498 y(cma_mutex_lock\(m\);)S
13284 X(/*)S 269 x(Deadlocks)S 269 x(here)S 269 x(or)S 268 x(raises)S
269 x(cma_e_in_use)S 269 x(*/)S 3899 16402 XY F147(Note:)S 386 x(operations)S
253 x(on)S 253 x(mutexes)S 254 x(are)S 254 x(not)S 254 x(alertsafe.)S
457 x(\(For)S 255 x(a)S 254 x(discuss)S -2 x(ion)S 254 x(of)S 254 x
(alerts)S 253 x(refer)S 255 x(to)S 255 x(Sec-)S 3899 X 648 y(tion)S
127 x(4.7\).)S 226 x(Therefore,)S 140 x(asynchronous)S 127 x(alert)S
127 x(delivery)S 127 x(must)S 128 x(be)S 127 x(disab)S -2 x(led,)S 138 x
(or)S 128 x(alerts)S 128 x(must)S 127 x(be)S 127 x(deferred)S 3899 X
647 y(before)S 183 x(locking)S 182 x(a)S 182 x(mutex.)S 12318 18644 XY
F153(IMPLEMENTOR'S)S 165 x(NOTE)S 4796 X 896 y(The)S 164 x(preemption)S
165 x(of)S 165 x(a)S 165 x(lower)S 164 x(priority)S 166 x(thread)S 165 x
(that)S 165 x(has)S 166 x(locked)S 165 x(a)S 165 x(mutex)S 165 x(might)S
165 x(result)S 165 x(in)S 4796 X 598 y(the)S 167 x(inde\211nite)S 168 x
(blocking)S 168 x(of)S 167 x(higher)S 167 x(priority)S 167 x(threads)S
168 x(waiting)S 168 x(for)S 166 x(the)S 167 x(same)S 167 x(mutex.)S
224 x(The)S 4796 X 598 y(execution)S 144 x(of)S 143 x(the)S 143 x(waiting)S
145 x(higher)S 143 x(priority)S 144 x(threads)S 143 x(can)S 143 x(be)S
143 x(blocked)S 144 x(for)S 142 x(as)S 144 x(long)S 144 x(as)S 143 x
(there)S 4796 X 597 y(is)S 194 x(a)S 195 x(suf\211cient)S 195 x(number)S
194 x(of)S 194 x(runnable)S 195 x(threads)S 195 x(of)S 194 x(any)S 196 x
(priority)S 195 x(between)S 194 x(the)S 195 x(lower)S 194 x(and)S 4796 X
598 y(the)S 198 x(higher)S 199 x(priority)S 199 x(values.)S 320 x(Because)S
198 x(the)S 199 x(higher)S 198 x(priority)S 199 x(threads)S 199 x(behave)S
199 x(as)S 199 x(if)S 198 x(they)S 4796 X 598 y(had)S 130 x(the)S 129 x
(same)S 129 x(priority)S 130 x(as)S 130 x(the)S 129 x(thread)S 130 x
(that)S 130 x(holds)S 131 x(the)S 129 x(mutex,)S 138 x(this)S 130 x
(phenomenon)S 130 x(is)S 130 x(called)S 4796 X 598 y F154(prior)S -2 x
(ity)S 165 x(inversio)S -2 x(n)S F153(.)S 4796 X 896 y(Note)S 249 x
(that)S 250 x(priority)S 250 x(inversion)S 250 x(is)S 249 x(a)S 249 x
(general)S 250 x(phenomenon)S 250 x(and)S 250 x(can)S 250 x(occur)S
249 x(when)S 249 x F154(any)S 4796 X 598 y F153(resource)S 165 x(is)S
166 x(acquired)S 167 x(by)S 166 x(a)S 166 x(low)S 167 x(priority)S 167 x
(thread.)S 4796 X 897 y(Priority)S 166 x(inversion)S 167 x(is)S 167 x
(usually)S 168 x(viewed)S 166 x(as)S 167 x(a)S 166 x(problem)S 166 x
(because)S 166 x(it)S 167 x(counters)S 166 x(the)S 167 x(intent)S 167 x
(of)S 4796 X 598 y(scheduling)S 201 x(policy)S 201 x(by)S 200 x(defeating)S
200 x(the)S 200 x(effect)S 199 x(of)S 200 x(priority)S -55 x(.)S 323 x
(The)S 199 x(priority)S 200 x(of)S 200 x(threads)S 200 x(run-)S 4796 X
597 y(ning)S 224 x(under)S 225 x(the)S 224 x F148(cma_c_sched_rr)S 225 x
F153(and)S 224 x F148(cma_c_sched_\211fo)S 225 x F153(schedulin)S 2 x
(g)S 224 x(policies)S 225 x(is)S 225 x(\211xed;)S 4796 X 598 y(however)S
-37 x(,)S 186 x(for)S 182 x(other)S 183 x(implementation)S 2 x(-de\211ned)S
182 x(scheduli)S 2 x(ng)S 182 x(poli)S 2 x(cies,)S 187 x(the)S 182 x
(CMA)S 181 x(architec-)S 4796 X 598 y(ture)S 137 x(encourages)S 138 x
(implementatio)S 2 x(ns)S 137 x(to)S 138 x(prevent)S 138 x(or)S 137 x
(reduce)S 137 x(the)S 138 x(severity)S 138 x(of)S 137 x(this)S 138 x
(problem.)S 4796 X 598 y(There)S 154 x(are)S 154 x(a)S 156 x(number)S
154 x(of)S 155 x(possible)S 156 x(solutio)S 2 x(ns)S 155 x(that)S 156 x
(an)S 155 x(implementat)S 2 x(ion)S 155 x(can)S 156 x(choose;)S 160 x
(some)S 4796 X 597 y(of)S 166 x(them)S 166 x(are:)S 4796 X 897 y(\201)S
744 x(Boost)S 166 x(the)S 167 x(priority)S 166 x(of)S 167 x(a)S 166 x
(thread)S 167 x(when)S 166 x(it)S 166 x(\211rst)S 166 x(locks)S 167 x
(a)S 167 x(mutex.)S 4796 X 897 y(\201)S 744 x(Boost)S 136 x(the)S 136 x
(priority)S 137 x(of)S 136 x(the)S 137 x(owner)S 136 x(of)S 136 x(a)S
136 x(mutex)S 137 x(whenever)S 135 x(a)S 137 x(thread)S 136 x(of)S 136 x
(high)S 2 x(er)S 135 x(priority)S 5842 X 597 y(starts)S 166 x(to)S 167 x
(wait)S 166 x(for)S 166 x(the)S 167 x(same)S 166 x(mutex.)S 4796 X 897 y
(\201)S 744 x(Dynamically)S 159 x(adjust)S 158 x(thread)S 158 x(priorities)S
158 x(to)S 158 x(ensure)S 157 x(that)S 158 x(no)S 157 x(ready)S 158 x
(thread)S 157 x(is)S 158 x(blocked)S 5842 X 598 y(inde\211nitel)S 2 x
(y)S 202 x(from)S 201 x(access)S 202 x(to)S 203 x(a)S 202 x(processor)S
-37 x(.)S 329 x(\(Note)S 202 x(that)S 203 x(this)S 203 x(soluti)S 2 x
(on)S 202 x(applies)S 203 x(to)S 203 x(all)S 5842 X 598 y(cases)S 166 x
(of)S 166 x(priority)S 167 x(inversion,)S 168 x(not)S 167 x(just)S 167 x
(those)S 166 x(associ)S 2 x(ated)S 166 x(with)S 167 x(CMA)S 165 x(mutexes\).)S
4796 34683 XY(See)S 175 x(References)S 175 x([2],)S 177 x([6],)S 178 x
(and)S 176 x([7])S 175 x(for)S 175 x(further)S 175 x(discussion)S 177 x
(of)S 175 x(the)S 176 x(problem)S 175 x(and)S 177 x(potential)S 4796 X
598 y(solution)S 2 x(s.)S 3899 37373 XY F36(54)S 498 x(CMA)S 165 x(Core)S
166 x(Services)S
%%EndCustomColor: 0
59 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Bold
%%+ NewCenturySchlbk-Italic Courier NewCenturySchlbk-BoldItalic
%%PageCustomColors: 0
%
%%Page: 55 60
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3996 XY F32(4.4.2.4)S 547 x F33(cma_mutex_try_lock)S 3899 X 896 y
F147(A)S 219 x(mutex)S 219 x(can)S 219 x(be)S 219 x(locked)S 219 x(without)S
219 x(blockin)S -2 x(g)S 220 x(the)S 219 x(current)S 220 x(thread)S
219 x(by)S 219 x(calli)S -2 x(ng)S 220 x(the)S 219 x(procedure)S 219 x
(that)S 3899 X 648 y(has)S 182 x(the)S 182 x(following)S 182 x(declaration:)S
4945 6586 XY F98(function)S 269 x(CMA_MUTEX_TRY_LOCK)S 269 x(\()S 8173 X
498 y(MUTEX)S 269 x(:)S 269 x(in)S 269 x(CMA_T_MUTEX\))S 269 x(return)S
269 x(CMA_T_BOOLEAN;)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(cma_t_boolean)S 4945 X 498 y(cma_mutex_try_lock)S 269 x
(\()S 6021 X 498 y(cma_t_mutex)S 269 x(*mutex\);)S 3899 10372 XY F147
(Parameters:)S 3899 X 896 y F38(mutex)S 8282 X(The)S 150 x(mutex)S 151 x
(to)S 149 x(be)S 150 x(locked.)S 3899 12265 XY 23316 48 R 3899 12862 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 13859 XY(cma_e_)S 2 x(existence)S 10026 X
(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x
(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S
2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S 2 x(r)S
10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x(requested)S
194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x(type)S 193 x
(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y(state)S 150 x
(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y
23316 48 R 3899 16399 XY F147(When)S 183 x(you)S 185 x(call)S 183 x
(cma_mutex_try_lock,)S 186 x(an)S 184 x(attempt)S 184 x(is)S 184 x(made)S
184 x(to)S 184 x(immediately)S 183 x(lock)S 185 x(the)S 184 x(mutex)S
185 x(for)S 3899 X 648 y(the)S 173 x(current)S 173 x(thread.)S 240 x
(If)S 174 x(this)S 172 x(is)S 172 x(successful,)S 175 x(the)S 172 x
(boolean)S 172 x(value)S 172 x F148(cma_c_true)S 174 x F147(is)S 172 x
(returned,)S 175 x(with)S 173 x(the)S 3899 X 647 y(mutex)S 183 x(in)S
182 x(the)S 182 x F149(locked)S 183 x F147(state)S 182 x(and)S 182 x
(with)S 182 x(the)S 183 x(current)S 183 x(thread)S 182 x(as)S 182 x
(its)S 182 x(owner)S -40 x(.)S 3899 18691 XY(If)S 198 x(the)S 198 x
(mutex)S 197 x(was)S 198 x(alread)S -2 x(y)S 198 x(locked)S 197 x(\(even)S
198 x(if)S 198 x(by)S 197 x(the)S 198 x(current)S 198 x(thread\),)S
202 x(the)S 197 x(boolean)S 196 x(value)S 197 x F148(cma_c_)S 3899 X
647 y(false)S 184 x F147(is)S 182 x(returned)S 182 x(\(the)S 183 x(thread)S
182 x(does)S 182 x(not)S 182 x(wait)S 183 x(to)S 182 x(acquire)S 182 x
(the)S 183 x(lock\).)S 3899 20334 XY(Note:)S 386 x(operations)S 253 x
(on)S 253 x(mutexes)S 254 x(are)S 254 x(not)S 254 x(alertsafe.)S 457 x
(\(For)S 255 x(a)S 254 x(discuss)S -2 x(ion)S 254 x(of)S 254 x(alerts)S
253 x(refer)S 255 x(to)S 255 x(Sec-)S 3899 X 648 y(tion)S 127 x(4.7\).)S
226 x(Therefore,)S 140 x(asynchronous)S 127 x(alert)S 127 x(delivery)S
127 x(must)S 128 x(be)S 127 x(disab)S -2 x(led,)S 138 x(or)S 128 x(alerts)S
128 x(must)S 127 x(be)S 127 x(deferred)S 3899 X 647 y(before)S 183 x
(trying)S 183 x(to)S 183 x(lock)S 182 x(a)S 182 x(mutex.)S 3899 23024 XY
F32(4.4.2.5)S 547 x F33(cma_mutex_un)S -2 x(lock)S 3899 X 897 y F147
(A)S 182 x(mutex)S 183 x(can)S 182 x(be)S 183 x(unlocked)S 181 x(by)S
183 x(callin)S -2 x(g)S 183 x(the)S 183 x(procedure)S 182 x(that)S 182 x
(has)S 182 x(the)S 183 x(following)S 182 x(declaration:)S 4945 24967 XY
F98(procedure)S 269 x(CMA_MUTEX_UNLOCK)S 269 x(\()S 8173 X 498 y(MUTEX)S
269 x(:)S 269 x(in)S 538 x(CMA_T_MUTEX\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_mutex_unlock)S 269 x(\()S 6021 X
499 y(cma_t_mutex)S 269 x(*mutex\);)S 3899 28753 XY F147(Parameters:)S
3899 X 896 y F38(mutex)S 8282 X(The)S 150 x(mutex)S 151 x(to)S 149 x
(be)S 150 x(unlocked.)S 3899 30646 XY 23316 48 R 3899 31243 XY(Error)S
10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X
299 y 23316 48 R 3899 32240 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 21509 37373 XY F36(CMA)S 165 x
(Core)S 166 x(Services)S 499 x(55)S
%%EndCustomColor: 0
60 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 56 61
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4248 XY F38(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 298 y 23316 48 R 3899 5244 XY
(cma_e_)S 2 x(in_use)S 10026 X(unpredictable)S 14409 X(The)S 243 x(operation)S
243 x(reque)S 2 x(sted)S 242 x(for)S 242 x(the)S 243 x(object)S 242 x
(cannot)S 243 x(be)S 242 x(perform)S 2 x(ed)S 14409 X 548 y(since)S
150 x(the)S 150 x(object)S 149 x(is)S 150 x(stil)S -2 x(l)S 149 x(in)S
150 x(use.)S 3899 X 299 y 23316 48 R 3899 7087 XY F147(If)S 148 x(no)S
148 x(threads)S 147 x(are)S 148 x(waiting)S 148 x(for)S 148 x(the)S
148 x(mutex,)S 156 x(the)S 148 x(mutex)S 148 x(becomes)S 148 x(unlocked)S
147 x(with)S 148 x(no)S 148 x(current)S 148 x(owner)S -40 x(.)S 3899 8083 XY
(If)S 187 x(there)S 187 x(are)S 187 x(any)S 186 x(threads)S 186 x(waiting)S
186 x(to)S 187 x(lock)S 186 x(the)S 187 x(mutex,)S 188 x(the)S 187 x
(effect)S 188 x(of)S 187 x(executing)S 187 x(this)S 186 x(operation)S
185 x(is)S 3899 X 648 y(that)S 219 x(exactly)S 219 x(one)S 218 x(of)S
220 x(them)S 218 x(returns)S 219 x(from)S 220 x(its)S 218 x(call)S 218 x
(to)S 219 x F148(cma_mutex_lock)S F147(.)S 353 x(Which)S 218 x(thread)S
219 x(acqui)S -2 x(res)S 3899 X 647 y(the)S 171 x(mutex)S 172 x(\211rst)S
171 x(depends)S 170 x(on)S 171 x(the)S 171 x(schedulin)S -2 x(g)S 172 x
(policies)S 170 x(and)S 170 x(priorities)S 170 x(of)S 172 x(the)S 172 x
(current)S 172 x(and)S 170 x(waiting)S 3899 X 648 y(threads.)S 240 x
(If)S 175 x(the)S 174 x(current)S 174 x(thread)S 174 x(attempts)S 173 x
(to)S 174 x(re-lock)S 175 x(the)S 174 x(mutex,)S 176 x(it)S 174 x(is)S
174 x(poss)S -2 x(ible)S 173 x(that)S 174 x(it)S 174 x(will)S 173 x
(do)S 174 x(so)S 3899 X 647 y(before)S 183 x(any)S 182 x(waiting)S 182 x
(thread)S 182 x(is)S 182 x(able)S 182 x(to)S 182 x(run)S -180 y F159
(1)S 25 x 180 y F147(.)S 3899 11670 XY(The)S 250 x(results)S 249 x(of)S
251 x(this)S 249 x(operation)S 249 x(are)S 250 x F148(unpredictable)S
250 x F147(if)S 250 x(the)S 250 x(handl)S -2 x(e)S 250 x(refers)S 251 x
(to)S 250 x(a)S 250 x(mutex)S 250 x(which)S 250 x(is)S 3899 X 647 y
(already)S 156 x(unlocked.)S 235 x(If)S 158 x(the)S 157 x(implementati)S
-2 x(on)S 158 x(checks)S 157 x(for)S 158 x(this,)S 163 x(it)S 157 x
(raises)S 156 x(the)S 158 x F149(cma_e)S -2 x(_use)S 158 x F147(exception.)S
3899 13314 XY(The)S 250 x(results)S 249 x(of)S 251 x(this)S 249 x(operation)S
249 x(are)S 250 x F148(unpredictable)S 250 x F147(if)S 250 x(the)S 250 x
(handl)S -2 x(e)S 250 x(refers)S 251 x(to)S 250 x(a)S 250 x(mutex)S
250 x(which)S 250 x(is)S 3899 X 647 y(currently)S 203 x(owned)S 202 x
(by)S 202 x(a)S 202 x(different)S 202 x(thread.)S 303 x(If)S 202 x(the)S
203 x(imple)S -2 x(mentation)S 202 x(checks)S 202 x(for)S 203 x(this,)S
207 x(it)S 202 x(raises)S 202 x(the)S 3899 X 648 y F149(cma_e)S -2 x
(_in_use)S 183 x F147(exception.)S 3899 16103 XY F32(4.4.3)S 547 x(Condition)S
183 x(V)S -30 x(ariables)S 3899 17099 XY F147(A)S 209 x F148(condition)S
211 x(variable)S 210 x F147(is)S 209 x(a)S 210 x(synchronizati)S -2 x
(on)S 210 x(object)S 210 x(that)S 210 x(is)S 209 x(used)S 209 x(in)S
209 x(conjunction)S 210 x(with)S 209 x(a)S 210 x(mutex.)S 3899 X 648 y
(A)S 173 x(mutex)S 174 x(controls)S 174 x(access)S 174 x(to)S 174 x
(shared)S 172 x(data;)S 176 x(a)S 174 x(condition)S 172 x(variable)S
173 x(allows)S 173 x(threads)S 173 x(to)S 174 x(wait)S 173 x(for)S 175 x
(that)S 3899 X 648 y(data)S 241 x(to)S 243 x(enter)S 242 x(some)S 242 x
(de\211ned)S 241 x(state)S 242 x(\(which)S 243 x(can)S 242 x(be)S 242 x
(de\211ned)S 241 x(by)S 243 x(a)S 242 x(boolea)S -2 x(n)S 243 x(expression)S
241 x(called)S 241 x(a)S 3899 X 647 y(predicate\).)S 321 x(A)S 209 x
(condition)S 207 x(variable)S 208 x(can)S 208 x(be)S 208 x F148(signall)S
2 x(ed)S 209 x F147(or)S 208 x F148(broadcast)S 208 x F147(to)S 209 x
(indicate)S 208 x(that)S 208 x(a)S 208 x(predicate)S 3899 X 648 y(may)S
205 x(have)S 205 x(become)S 205 x(true.)S 312 x(The)S 206 x(broadcast)S
204 x(operation)S 204 x(indicates)S 204 x(that)S 205 x(all)S 204 x(waiting)S
205 x(threads)S 204 x(should)S 3899 X 647 y(resume)S 193 x(and)S 192 x
(reevaluate)S 192 x(the)S 193 x(predicate.)S 274 x(The)S 193 x(signal)S
192 x(operation)S 192 x(can)S 192 x(be)S 193 x(used)S 192 x(in)S 193 x
(the)S 192 x(special)S 192 x(case)S 3899 X 648 y(where)S 183 x(only)S
182 x(one)S 183 x(waiting)S 182 x(thread)S 182 x(may)S 182 x(continue.)S
3899 21981 XY(If)S 266 x(a)S 265 x(thread)S 265 x(which)S 265 x(holds)S
264 x(a)S 265 x(mutex)S 265 x(determines)S 265 x(that)S 265 x(the)S
265 x(shared)S 265 x(data)S 264 x(is)S 265 x(not)S 265 x(in)S 265 x
(the)S 265 x(correct)S 3899 X 648 y(state)S 254 x(for)S 256 x(it)S 254 x
(to)S 255 x(proceed)S 254 x(\(the)S 255 x(associated)S 253 x(predicate)S
254 x(is)S 254 x(not)S 255 x(true\),)S 273 x(it)S 255 x(may)S 254 x
(wait)S 255 x(on)S 254 x(a)S 255 x(condition)S 3899 X 647 y(variable)S
183 x(associa)S -2 x(ted)S 184 x(with)S 185 x(the)S 184 x(desired)S
183 x(state.)S 248 x(W)S -41 x(aiting)S 184 x(on)S 184 x(the)S 184 x
(condition)S 183 x(variable)S 183 x(automaticall)S -2 x(y)S 3899 X 648 y
(releases)S 198 x(the)S 199 x(mutex)S 199 x(so)S 199 x(that)S 198 x
(other)S 200 x(threads)S 198 x(can)S 198 x(modify)S 199 x(or)S 200 x
(examine)S 198 x(the)S 199 x(shared)S 198 x(data.)S 292 x(When)S 198 x
(a)S 3899 X 647 y(thread)S 166 x(modi\211es)S 165 x(the)S 166 x(state)S
167 x(of)S 167 x(the)S 166 x(shared)S 165 x(data)S 166 x(such)S 166 x
(that)S 166 x(a)S 167 x(predi)S -2 x(cate)S 167 x(may)S 167 x(be)S 166 x
(true,)S 170 x(it)S 166 x(signals)S 165 x(or)S 3899 X 648 y(broadcasts)S
184 x(on)S 185 x(the)S 186 x(app)S -2 x(ropriate)S 185 x(condition)S
184 x(variable)S 184 x(so)S 186 x(that)S 185 x(threads)S 184 x(waiting)S
185 x(for)S 186 x(that)S 185 x(predicate)S 3899 X 648 y(may)S 239 x
(continue.)S 411 x(On)S 239 x(continuation)S 237 x(from)S 240 x(the)S
238 x(wait,)S 253 x(each)S 239 x(awakened)S 237 x(thread)S 238 x(will)S
238 x(automaticall)S -2 x(y)S 3899 X 647 y(relock)S 183 x(the)S 182 x
(mutex)S 183 x(\(this)S 182 x(serializ)S -2 x(es)S 183 x(their)S 182 x
(continuation\).)S 3899 27510 XY(It)S 184 x(is)S 184 x(important)S 183 x
(that)S 184 x(all)S 183 x(threads)S 183 x(waiting)S 184 x(on)S 183 x
(a)S 184 x(particular)S 183 x(condition)S 183 x(variable)S 183 x(at)S
184 x(any)S 184 x(time)S 184 x(hold)S 3899 X 648 y(the)S 240 x F148
(same)S 240 x F147(mutex.)S 416 x(If)S 240 x(they)S 241 x(do)S 239 x
(not,)S 255 x(the)S 239 x(behavior)S 240 x(of)S 240 x(the)S 240 x(wait)S
240 x(operation)S 238 x(is)S 240 x(unpredi)S -2 x(ctable)S 240 x(\(an)S
3899 X 647 y(implementa)S -2 x(tion)S 176 x(of)S 176 x(CMA)S 175 x(may)S
176 x(even)S 176 x(use)S 175 x(the)S 176 x(mutex)S 176 x(to)S 175 x
(control)S 176 x(internal)S 175 x(access)S 175 x(to)S 176 x(the)S 176 x
(condition)S 3899 X 648 y(variable)S 167 x(object\).)S 239 x(However)S
-39 x(,)S 171 x(it)S 168 x(is)S 168 x(legal)S 167 x(for)S 169 x(a)S
167 x(client)S 168 x(to)S 168 x(`)S -10 x(`cache')S -10 x(')S 168 x
(condition)S 167 x(variabl)S -2 x(es)S 168 x(and)S 167 x(mutexes,)S
3899 X 648 y(and)S 184 x(later)S 184 x(reuse)S 185 x(them)S 185 x(in)S
184 x(different)S 185 x(combinations)S -2 x(.)S 251 x(Such)S 185 x(a)S
184 x(client)S 184 x(must)S 185 x(ensure)S 184 x(that)S 185 x(no)S 184 x
(threads)S 3899 X 647 y(use)S 271 x(the)S 272 x(condition)S 271 x(variable)S
271 x(with)S 272 x(the)S 272 x(`)S -10 x(`old')S -12 x(')S 272 x(mutex.)S
513 x(At)S 272 x(any)S 271 x(time,)S 295 x(an)S 271 x(arbitrary)S 272 x
(number)S 272 x(of)S 3899 X 648 y(condition)S 230 x(variables)S 231 x
(may)S 231 x(be)S 232 x(associa)S -2 x(ted)S 232 x(with)S 231 x(a)S
232 x(single)S 231 x(mutex,)S 244 x(each)S 232 x(representing)S 231 x
(a)S 231 x(different)S 3899 X 647 y(predicate)S 181 x(of)S 184 x(the)S
182 x(shared)S 182 x(data)S 181 x(protected)S 183 x(by)S 182 x(that)S
183 x(mutex.)S 3899 33040 XY(The)S 183 x(operations)S 181 x(described)S
181 x(in)S 182 x(this)S 182 x(section)S 182 x(are)S 183 x(used)S 181 x
(to:)S 3899 X 896 y(\201)S 714 x(Create)S 182 x(a)S 183 x(conditi)S
-2 x(on)S 183 x(variable)S 3899 X 888 y 6996 24 R 4106 35219 XY F163
(1)S 225 x 140 y F159(Programmers)S 122 x(should)S 122 x(not)S 123 x
(assume)S 122 x(that)S 122 x(merely)S 123 x(unlocking)S 123 x(a)S 122 x
(mutex)S 124 x(for)S 122 x(a)S 122 x(brief)S 121 x(interval)S 122 x
(will)S 121 x(ass)S -2 x(ure)S 123 x(`)S -7 x(`fairness')S -8 x(')S
123 x(between)S 123 x(threads)S 4497 X 498 y(contending)S 134 x(for)S
132 x(the)S 134 x(mutex:)S 178 x(fairness)S 131 x(is)S 132 x(dependent)S
134 x(on)S 133 x(scheduling)S 133 x(policy)S -45 x(,)S 133 x(not)S 133 x
(synchronization)S 3899 37573 XY F36(56)S 498 x(CMA)S 165 x(Core)S 166 x
(Services)S
%%EndCustomColor: 0
61 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 57 62
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F147(\201)S 714 x(Delete)S 183 x(a)S 182 x(condition)S
181 x(variable)S 3899 X 897 y(\201)S 714 x(Broadcast)S 181 x(on)S 183 x
(a)S 182 x(condition)S 182 x(variabl)S -2 x(e)S 3899 X 897 y(\201)S
714 x(Signal)S 182 x(a)S 182 x(condition)S 181 x(variable)S 3899 X 896 y
(\201)S 714 x(W)S -41 x(ait)S 182 x(on)S 182 x(a)S 183 x(condition)S
181 x(variable)S 3899 8091 XY F32(4.4.3.1)S 547 x F33(cma_cond_)S -2 x
(create)S 3899 X 897 y F147(A)S 173 x(condition)S 172 x(variable)S 172 x
(can)S 174 x(be)S 173 x(created)S 173 x(by)S 174 x(calli)S -2 x(ng)S
174 x(the)S 173 x(procedure)S 174 x(that)S 173 x(has)S 172 x(the)S 174 x
(following)S 173 x(declara-)S 3899 X 647 y(tion:)S -101 x 10681 Y F98
(procedure)S 269 x(CMA_COND_CREATE)S 269 x(\()S 8173 X 498 y(NEW_CONDITION)S
269 x(:)S 269 x(out)S 269 x(CMA_T_COND;)S 8173 X 499 y(ATT)S 11939 X
(:)S 269 x(in)S 538 x(CMA_T_ATTR\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_cond_create)S 269 x(\()S 6021 X
498 y(cma_t_cond)S 538 x(*new_condition,)S 6021 X 498 y(cma_t_attr)S
538 x(*att\);)S 3899 15762 XY F147(Parameters:)S 3899 X 897 y F38(new_condition)S
8282 X(A)S 150 x(variable)S 150 x(that)S 149 x(receives)S 151 x(the)S
149 x(handle)S 151 x(for)S 149 x(the)S 150 x(new)S 149 x(condition)S
150 x(variable.)S 3899 X 697 y(att)S 8282 X(The)S 150 x(attributes)S
150 x(to)S 149 x(be)S 150 x(used)S 150 x(when)S 150 x(creating)S 150 x
(the)S 150 x(condition)S 150 x(variable.)S 3899 18353 XY 23316 48 R
3899 18950 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 19947 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 22487 XY F147(The)S 183 x(condition)S
181 x(variable)S 181 x(is)S 182 x(created)S 183 x(and)S 182 x(initi)S
-2 x(alized)S -2 x(.)S 3899 23483 XY(Condi)S -2 x(tion)S 178 x(variabl)S
-2 x(es)S 178 x(created)S 177 x(using)S 177 x F148(cma_cond_create)S
178 x F147(are)S 177 x(not)S 178 x(owned)S 177 x(by)S 177 x(any)S 178 x
(particula)S -2 x(r)S 178 x(thread)S 3899 X 648 y(and)S 123 x(any)S
125 x(associ)S -2 x(ated)S 124 x(storage)S 125 x(is)S 124 x(not)S 124 x
(automaticall)S -2 x(y)S 125 x(deall)S -2 x(ocated)S 124 x(if)S 125 x
(the)S 124 x(creating)S 125 x(thread)S 124 x(terminates.)S 3899 25526 XY
F32(4.4.3.2)S 547 x F33(cma_cond_)S -2 x(delete)S 3899 X 896 y F147
(A)S 175 x(condition)S 175 x(variabl)S -2 x(e)S 176 x(can)S 175 x(be)S
176 x(deleted)S 174 x(by)S 176 x(calli)S -2 x(ng)S 176 x(the)S 176 x
(procedure)S 175 x(that)S 175 x(has)S 175 x(the)S 176 x(following)S
175 x(declara-)S 3899 X 648 y(tion:)S -101 x 28116 Y F98(procedure)S
269 x(CMA_COND_DELETE)S 269 x(\()S 8173 X 498 y(CONDITION)S 269 x(:)S
269 x(in)S 269 x(out)S 269 x(CMA_T_COND\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_cond_delete)S 269 x(\()S 6021 X
498 y(cma_t_cond)S 538 x(*condition\);)S 3899 31902 XY F147(Parameters:)S
21509 37373 XY F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(57)S
%%EndCustomColor: 0
62 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica-BoldOblique Courier Helvetica
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 58 63
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4945 2106 XY F40(Concert)S 150 x(Multithread)S 151 x(Architecture)S
3899 4148 XY F38(condition)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x
(the)S 149 x(condition)S 150 x(variable)S 150 x(that)S 149 x(will)S
148 x(no)S 150 x(longer)S 150 x(be)S 150 x(referenc)S 2 x(ed.)S 3899 5144 XY
23316 48 R 3899 5742 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 6738 XY(cma_e_)S
2 x(existence)S 10026 X(unpredictable)S 14409 X(The)S 150 x(object)S
150 x(speci\211ed)S 150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S
151 x(not)S 149 x(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S
2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S
193 x(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S
192 x(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X
548 y(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 697 y(cma_e_)S 2 x(in_use)S 10026 X(unpredictable)S 14409 X
(The)S 243 x(operation)S 243 x(reque)S 2 x(sted)S 242 x(for)S 242 x
(the)S 243 x(object)S 242 x(cannot)S 243 x(be)S 242 x(perform)S 2 x
(ed)S 14409 X 548 y(since)S 150 x(the)S 150 x(object)S 149 x(is)S 150 x
(stil)S -2 x(l)S 149 x(in)S 150 x(use.)S 3899 X 299 y 23316 48 R 3899 10524 XY
F147(This)S 169 x(operation)S 169 x(should)S 169 x(be)S 169 x(called)S
169 x(when)S 170 x(a)S 169 x(condition)S 169 x(variable)S 169 x(will)S
169 x(no)S 170 x(longer)S 169 x(be)S 170 x(referenced.)S 240 x(The)S
3899 X 648 y(effect)S 184 x(of)S 183 x(this)S 182 x(operation)S 181 x
(is)S 182 x(to)S 183 x(give)S 183 x(permissi)S -2 x(on)S 183 x(to)S
183 x(reclaim)S 182 x(storage)S 182 x(for)S 184 x(the)S 182 x(condition)S
182 x(variabl)S -2 x(e.)S 3899 12168 XY(The)S 143 x(condition)S 142 x
(variable)S 142 x(is)S 142 x(deleted)S 142 x(and)S 142 x(the)S 143 x
F148(condition)S 144 x F147(parameter)S 142 x(is)S 143 x(set)S 143 x
(to)S 143 x(the)S 143 x(value)S 142 x F148(cma_c_null)S F147(.)S 3899 13164 XY
(Call)S -2 x(ing)S 183 x(this)S 182 x(operation)S 181 x(for)S 183 x
(a)S 183 x(handl)S -2 x(e)S 183 x(of)S 183 x F148(cma_c_null)S 183 x
F147(is)S 182 x(legal)S 182 x(and)S 181 x(has)S 182 x(no)S 183 x(effect.)S
3899 14160 XY(The)S 206 x(results)S 206 x(of)S 206 x(this)S 206 x(operation)S
205 x(are)S 206 x F148(unpredictable)S 207 x F147(if)S 206 x(the)S 206 x
(handl)S -2 x(e)S 207 x(refers)S 207 x(to)S 206 x(a)S 206 x(condition)S
205 x(variabl)S -2 x(e)S 3899 X 648 y(which)S 226 x(does)S 226 x(not)S
226 x(currently)S 227 x(exist)S 226 x(\(unless)S 226 x(it)S 226 x(is)S
226 x(cma_c_null\).)S 375 x(An)S 226 x(implemen)S -2 x(tation)S 226 x
(that)S 227 x(reports)S 3899 X 648 y(this)S 182 x(error)S 183 x(raises)S
182 x(the)S 182 x F149(cma_e_e)S -2 x(xistence)S 182 x F147(exception.)S
3899 16452 XY(The)S 123 x(results)S 122 x(of)S 124 x(this)S 122 x(operation)S
122 x(are)S 123 x F148(unpredictable)S 123 x F147(if)S 123 x(the)S 123 x
(condition)S 121 x(variable)S 122 x(currently)S 123 x(has)S 122 x(waiters.)S
3899 X 647 y(An)S 182 x(implementa)S -2 x(tion)S 183 x(that)S 182 x
(reports)S 183 x(the)S 182 x(error)S 184 x(raises)S 181 x(the)S 183 x
F149(cma_e)S -2 x(_in_use)S 183 x F147(exception.)S 3899 18494 XY F32
(4.4.3.3)S 547 x F33(cma_cond_)S -2 x(broadcas)S -2 x(t)S 3899 X 897 y
F147(A)S 177 x(broadcast)S 176 x(can)S 178 x(be)S 177 x(performed)S
177 x(on)S 178 x(a)S 177 x(condition)S 176 x(variable)S 176 x(by)S 178 x
(calli)S -2 x(ng)S 178 x(the)S 177 x(procedure)S 178 x(that)S 177 x
(has)S 177 x(the)S 3899 X 647 y(following)S 182 x(declaration:)S 4945 21084 XY
F98(procedure)S 269 x(CMA_COND_BROADCAST)S 269 x(\()S 8173 X 499 y(CONDITION)S
269 x(:)S 269 x(in)S 269 x(CMA_T_COND\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_cond_broadcast)S 269 x(\()S 6021 X
498 y(cma_t_cond)S 538 x(*condition\);)S 3899 24870 XY F147(Parameters:)S
3899 X 897 y F38(condition)S 8282 X(The)S 150 x(condition)S 150 x(variable)S
150 x(to)S 149 x(be)S 150 x(broad)S 2 x(cast.)S 3899 26763 XY 23316 48 R
3899 27361 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 28357 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 547 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 30898 XY F147(This)S 182 x(operation)S
182 x(wakesal)S -2 x(l)S 183 x(threads)S 181 x(waiting)S 182 x(on)S
183 x(the)S 182 x(condition)S 182 x(variable)S -2 x(.)S 3899 31894 XY
(Use)S 182 x(of)S 183 x(this)S 182 x(operation)S 182 x(implies)S 181 x
(that)S 183 x(data)S 181 x(guarded)S 182 x(by)S 183 x(the)S 183 x(associa)S
-2 x(ted)S 183 x(mutex)S 183 x(has)S 182 x(been)S 182 x(changed)S 3899 X
647 y(in)S 208 x(such)S 208 x(a)S 208 x(way)S 209 x(that)S 208 x(it)S
208 x F148(might)S 209 x F147(be)S 208 x(possib)S -2 x(le)S 208 x(for)S
210 x(more)S 208 x(than)S 208 x(one)S 209 x(waiting)S 207 x(thread)S
208 x(to)S 209 x(proceed.)S 321 x(For)S 3899 X 648 y(example,)S 195 x
(this)S 192 x(could)S 192 x(be)S 192 x(used)S 192 x(to)S 193 x(wake)S
193 x(up)S 192 x(all)S 192 x(threads)S 191 x(waiting)S 193 x(for)S 193 x
(shared)S 192 x(read)S 192 x(access)S 193 x(to)S 193 x(some)S 3899 X
648 y(data.)S 3899 34833 XY(This)S 182 x(operation)S 182 x(can)S 182 x
(be)S 182 x(called)S 182 x(with)S 182 x(the)S 183 x(mutex)S 183 x(either)S
182 x(locked)S 182 x(or)S 183 x(unlocked.)S 3899 37373 XY F36(58)S 498 x
(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
63 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ NewCenturySchlbk-Bold Helvetica-BoldOblique
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 59 64
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F147(Note:)S 278 x(Conditi)S -2 x(on)S 200 x(variable)S
199 x(semantics)S 199 x(are)S 200 x(such)S 199 x(that)S 200 x(if)S 200 x
(no)S 200 x(threads)S 199 x(are)S 200 x(currently)S 200 x(waiting,)S
204 x(this)S 3899 X 648 y(operation)S 181 x(need)S 182 x(only)S 183 x
(execute)S 183 x(a)S 182 x(few)S 183 x(inline)S 181 x(instructions.)S
12318 5600 XY F153(IMPLEMENTOR'S)S 165 x(NOTE)S 4796 X 897 y(Implementations)S
174 x(should)S 174 x(try)S 173 x(to)S 173 x(ensure)S 173 x(that)S 173 x
(broadcastin)S 2 x(g)S 173 x(with)S 173 x(the)S 173 x(mutex)S 173 x
(held)S 173 x(does)S 4796 X 598 y(not)S 219 x(have)S 219 x(performance)S
219 x(penalties)S 220 x(because)S 219 x(threads)S 219 x(wake)S 219 x
(up)S 219 x(and)S 220 x(all)S 219 x(come)S 219 x(crashing)S 4796 X 597 y
(down)S 220 x(on)S 221 x(the)S 221 x(held)S 220 x(mutex,)S 235 x(generating)S
222 x(N)S 220 x(useless)S 220 x(context)S 222 x(switches.)S 385 x(At)S
220 x(this)S 221 x(time,)S 234 x(it)S 4796 X 598 y(looks)S 190 x(as)S
190 x(though)S 191 x(there)S 189 x(are)S 189 x(several)S 190 x(simple)S
189 x(strategies)S 191 x(to)S 190 x(eliminate)S 190 x(this)S 190 x(problem,)S
196 x(but)S 4796 X 598 y(further)S 219 x(investig)S 2 x(ation)S 221 x
(is)S 220 x(needed.)S 384 x(\(Examples:)S 330 x(defer)S 220 x(wakeup)S
220 x(till)S 221 x(the)S 221 x(next)S 220 x(quantum)S 4796 X 598 y(end,)S
220 x(rather)S 208 x(than)S 210 x(doing)S 210 x(immediate)S 210 x(preemption;)S
231 x(boost)S 210 x(priorities)S 209 x(for)S 209 x(the)S 209 x(awakened)S
4796 X 598 y(threads)S 160 x(differently;)S 163 x(ensure)S 160 x(that)S
161 x(a)S 161 x(thread)S 160 x(that)S 161 x(has)S 161 x(a)S 160 x(mutex)S
161 x(held)S 161 x(has)S 160 x(higher)S 161 x(priority)S 4796 X 597 y
(than)S 167 x(any)S 167 x(other)S 166 x(threads)S 166 x(that)S 167 x
(might)S 167 x(be)S 166 x(awakened\).)S 3899 12076 XY F32(4.4.3.4)S
547 x F33(cma_cond_)S -2 x(signal)S 3899 X 897 y F147(A)S 239 x(signal)S
237 x(can)S 239 x(be)S 239 x(performed)S 239 x(on)S 239 x(a)S 238 x
(condition)S 238 x(variable)S 238 x(by)S 239 x(callin)S -2 x(g)S 240 x
(the)S 239 x(procedure)S 238 x(that)S 239 x(has)S 239 x(the)S 3899 X
647 y(following)S 182 x(declaration:)S 4945 14666 XY F98(procedure)S
269 x(CMA_COND_SIGNAL)S 269 x(\()S 8173 X 498 y(CONDITION)S 269 x(:)S
269 x(in)S 269 x(CMA_T_COND\);)S 4945 X 499 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_cond_signal)S 269 x(\()S 6021 X
498 y(cma_t_cond)S 538 x(*condition\);)S 3899 18452 XY F147(Parameters:)S
3899 X 897 y F38(condition)S 8282 X(The)S 150 x(condition)S 150 x(variable)S
150 x(to)S 149 x(be)S 150 x(signaled.)S 3899 20345 XY 23316 48 R 3899 20943 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 21939 XY(cma_e_)S 2 x(existence)S 10026 X
(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x
(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S
2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S 2 x(r)S
10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x(requested)S
194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x(type)S 193 x
(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y(state)S 150 x
(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y
23316 48 R 3899 24480 XY F147(This)S 182 x(operation)S 182 x(wakes)S
182 x(one)S 182 x(thread)S 182 x(waiting)S 182 x(on)S 183 x(the)S 182 x
(condition.)S 3899 25476 XY(Use)S 182 x(of)S 183 x(this)S 182 x(operation)S
182 x(implies)S 181 x(that)S 183 x(data)S 181 x(guarded)S 182 x(by)S
183 x(the)S 183 x(associa)S -2 x(ted)S 183 x(mutex)S 183 x(has)S 182 x
(been)S 182 x(changed)S 3899 X 647 y(in)S 167 x(such)S 166 x(a)S 167 x
(way)S 168 x(that)S 167 x(it)S 167 x(might)S 167 x(be)S 167 x(possi)S
-2 x(ble)S 167 x(for)S 168 x(a)S 167 x(single)S 166 x(waiting)S 167 x
(thread)S 166 x(to)S 168 x(proceed.)S 238 x(For)S 168 x(example,)S 3899 X
648 y(this)S 182 x(could)S 182 x(be)S 182 x(used)S 182 x(to)S 182 x
(wake)S 183 x(a)S 182 x(thread)S 182 x(waiting)S 182 x(for)S 183 x(exclusive)S
183 x(access)S 182 x(to)S 183 x(some)S 182 x(data.)S 3899 27767 XY(This)S
182 x(operation)S 182 x(can)S 182 x(be)S 182 x(called)S 182 x(with)S
182 x(the)S 183 x(mutex)S 183 x(either)S 182 x(locked)S 182 x(or)S 183 x
(unlocked.)S 3899 28763 XY(This)S 150 x(operation)S 149 x(can)S 150 x
(be)S 150 x(thought)S 151 x(of)S 150 x(as)S 150 x(an)S 150 x(optimiza)S
-2 x(tion)S 150 x(of)S 151 x F148(cma_cond_broadcast)S 149 x F147(for)S
151 x(the)S 151 x(case)S 150 x(that)S 3899 X 648 y(any)S 201 x(thread)S
202 x(waiting)S 201 x(on)S 202 x(that)S 201 x(condition)S 201 x(would)S
201 x(\211nd)S 201 x(its)S 201 x(predicate)S 201 x(true)S 202 x(and)S
201 x(it)S 202 x(would)S 201 x(be)S 201 x(correct)S 3899 X 648 y(to)S
183 x(wake)S 182 x(up)S 182 x(only)S 182 x(one)S 183 x(thread.)S 3899 31055 XY
(Note:)S 278 x(Conditi)S -2 x(on)S 200 x(variable)S 199 x(semantics)S
199 x(are)S 200 x(such)S 199 x(that)S 200 x(if)S 200 x(no)S 200 x(threads)S
199 x(are)S 200 x(currently)S 200 x(waiting,)S 204 x(this)S 3899 X 647 y
(operation)S 181 x(need)S 182 x(only)S 183 x(execute)S 183 x(a)S 182 x
(few)S 183 x(inline)S 181 x(instructions.)S 21509 37373 XY F36(CMA)S
165 x(Core)S 166 x(Services)S 499 x(59)S
%%EndCustomColor: 0
64 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold Helvetica-BoldOblique
%%+ Courier Helvetica NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 60 65
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3996 XY F32(4.4.3.5)S 547 x F33(cma_cond_)S -2 x(signal_int)S 3899 X
896 y F147(A)S 213 x(deferred)S 213 x(signal)S 212 x(can)S 213 x(be)S
213 x(requested)S 213 x(on)S 213 x(a)S 213 x(condition)S 212 x(variable)S
212 x(from)S 215 x(interrupt)S 213 x(level)S 212 x(by)S 214 x(calli)S
-2 x(ng)S 3899 X 648 y(the)S 182 x(procedure)S 183 x(that)S 182 x(has)S
182 x(the)S 182 x(following)S 183 x(declarati)S -2 x(on:)S 4945 6586 XY
F98(procedure)S 269 x(CMA_COND_SIGNAL_INT)S 269 x(\()S 8173 X 498 y
(CONDITION)S 269 x(:)S 269 x(in)S 269 x(CMA_T_COND\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_cond_signal_int)S 269 x(\()S 6021 X
498 y(cma_t_cond)S 538 x(*condition\);)S 3899 10372 XY F147(Parameters:)S
3899 X 896 y F38(condition)S 8282 X(The)S 150 x(condition)S 150 x(variable)S
150 x(to)S 149 x(be)S 150 x(signaled.)S 3899 12265 XY 23316 48 R 3899 12862 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 299 y 23316 48 R 3899 13859 XY(cma_e_)S 2 x(existence)S 10026 X
(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x
(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S
2 x(tly)S 148 x(exist.)S 3899 X 697 y(cma_e_)S 2 x(use_erro)S 2 x(r)S
10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x(requested)S
194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x(type)S 193 x
(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 548 y(state)S 150 x
(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y
23316 48 R 3899 16399 XY F147(This)S 149 x(operation)S 149 x(queues)S
149 x(a)S 149 x(request)S 150 x(that)S 149 x(will)S 149 x(wake)S 150 x
(one)S 150 x(thread)S 149 x(waiting)S 149 x(on)S 150 x(the)S 150 x(conditio)S
-2 x(n,)S 157 x(at)S 150 x(some)S 3899 X 648 y(time)S 151 x(after)S
151 x(the)S 151 x(interrupt)S 151 x(hand)S -2 x(ler)S 151 x(routine)S
151 x(has)S 150 x(returned.)S 233 x(The)S 151 x(term)S 151 x("interrupt)S
151 x(handle)S -2 x(r)S 152 x(routine")S 3899 X 647 y(refers)S 181 x
(to)S 181 x(either)S 181 x(a)S 180 x(V)S -61 x(AX/VMS)S 181 x(AST)S
181 x(handl)S -2 x(er)S -40 x(,)S 181 x(a)S 181 x(UNIX)S 179 x(signal)S
180 x(handl)S -2 x(er)S -40 x(,)S 181 x(or)S 181 x(an)S 181 x(equival)S
-2 x(ent)S 181 x(to)S 181 x(these)S 3899 X 648 y(on)S 182 x(any)S 183 x
(other)S 182 x(operating)S 182 x(system)S 183 x(platform)S 182 x(that)S
183 x(supp)S -2 x(orts)S 183 x(CMA.)S 3899 19338 XY(Use)S 189 x(of)S
189 x(this)S 189 x(operation)S 189 x(impl)S -2 x(ies)S 189 x(that)S
189 x(some)S 190 x(asynchronous)S 188 x(event)S 190 x(requires)S 188 x
(a)S 189 x(change)S 190 x(in)S 188 x(the)S 190 x(state)S 3899 X 648 y
(of)S 183 x(some)S 182 x(thread.)S 244 x(For)S 183 x(example,)S 182 x
(an)S 182 x(asynchronous)S 182 x(I/O)S 183 x(operation)S 182 x(may)S
182 x(have)S 183 x(completed.)S 3899 20982 XY(This)S 220 x(is)S 220 x
(the)S 221 x(only)S 220 x(CMA)S 220 x(operation)S 220 x(which)S 220 x
(is)S 220 x(guaranteed)S 220 x(to)S 220 x(work)S 222 x(as)S 220 x(documented)S
219 x(when)S 221 x(called)S 3899 X 647 y(from)S 183 x(within)S 182 x
(an)S 182 x(interrupt)S 183 x(routine.)S 3899 23024 XY F32(4.4.3.6)S
547 x F33(cma_cond_)S -2 x(wait)S 3899 X 897 y F147(A)S 127 x(thread)S
126 x(can)S 127 x(wait)S 127 x(for)S 127 x(a)S 127 x(condition)S 126 x
(variable)S 126 x(to)S 127 x(be)S 127 x(signal)S -2 x(ed)S 127 x(or)S
127 x(broadcast)S 126 x(by)S 127 x(calling)S 126 x(the)S 127 x(procedure)S
3899 X 647 y(that)S 182 x(has)S 182 x(the)S 183 x(following)S 182 x
(declaration)S -2 x(:)S 4945 25615 XY F98(procedure)S 269 x(CMA_COND_WAIT)S
269 x(\()S 8173 X 498 y(CONDITION)S 269 x(:)S 269 x(in)S 269 x(CMA_T_COND;)S
8173 X 498 y(MUTEX)S 10863 X(:)S 269 x(in)S 269 x(CMA_T_MUTEX\);)S 4945 X
498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_cond_wait)S 269 x(\()S 6021 X 498 y
(cma_t_cond)S 538 x(*condition,)S 6021 X 498 y(cma_t_mutex)S 269 x(*mutex\);)S
3899 30397 XY F147(Parameters:)S 3899 X 896 y F38(condition)S 8282 X
(The)S 150 x(condition)S 150 x(variable)S 150 x(to)S 149 x(be)S 150 x
(waited)S 149 x(on.)S 3899 37373 XY F36(60)S 498 x(CMA)S 165 x(Core)S
166 x(Services)S
%%EndCustomColor: 0
65 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 61 66
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4248 XY F38(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 298 y 23316 48 R 3899 5244 XY
(mutex)S 8282 X(The)S 150 x(mutex)S 151 x(associated)S 150 x(with)S
148 x(the)S 150 x(condition)S 150 x(variable.)S 3899 6240 XY 23316 48 R
3899 6838 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 7834 XY(cma_e_)S 2 x(alerted)S
10026 X(alert)S 14409 X(This)S 149 x(exception)S 150 x(is)S 149 x(raised)S
150 x(when)S 149 x(an)S 150 x(alert)S 149 x(is)S 148 x(delivered)S 150 x
(to)S 149 x(the)S 149 x(thread)S 14409 X 548 y(\(see)S 151 x(Section)S
149 x(4.7\).)S 3899 X 697 y(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 11620 XY
F147(This)S 236 x(operation)S 235 x(must)S 236 x(be)S 236 x(called)S
235 x(with)S 236 x(the)S 236 x(mutex)S 237 x(locked.)S 404 x(The)S 237 x
(results)S 235 x(of)S 237 x(cma_cond_wait)S 236 x(are)S 3899 X 647 y
F148(unpredictable)S 191 x F147(if)S 191 x(it)S 191 x(is)S 190 x(called)S
190 x(without)S 191 x(\211rst)S 191 x(locking)S 191 x(the)S 191 x(mutex.)S
269 x(An)S 190 x(implementation)S 190 x(which)S 190 x(test)S 3899 X
648 y(for)S 183 x(this)S 182 x(condition)S 181 x(raises)S 182 x(the)S
183 x F149(cma_e)S -2 x(_use_error)S 183 x F147(exception.)S 3899 13911 XY
(This)S 144 x(operation)S 143 x(atomically)S 144 x(releases)S 143 x
(the)S 144 x(mutex)S 145 x(and)S 143 x(causes)S 144 x(the)S 144 x(thread)S
144 x(to)S 145 x(wait)S 144 x(on)S 144 x(the)S 144 x(condition.)S 3899 X
648 y(If)S 237 x(the)S 237 x(wait)S 236 x(is)S 236 x(satis\211ed)S 235 x
(as)S 236 x(a)S 236 x(result)S 236 x(of)S 238 x(some)S 236 x(thread)S
236 x(calling)S 236 x F148(cma_cond_signal)S 237 x F147(or)S 237 x F148
(cma_cond_)S 3899 X 647 y(broadcast)S F147(,)S 182 x(the)S 183 x(mutex)S
183 x(is)S 182 x(reacquired)S 181 x(and)S 182 x(the)S 182 x(procedure)S
183 x(returns.)S 3899 16203 XY(This)S 148 x(operation)S 148 x(might)S
149 x(\(with)S 149 x(low)S 149 x(probab)S -2 x(ility\))S 149 x(return)S
149 x(spurious)S -2 x(ly)S 149 x(without)S 149 x(the)S 148 x(condition)S
148 x(variabl)S -2 x(e)S 3899 X 647 y(being)S 177 x(signaled)S 176 x
(or)S 178 x(broadcast.)S 241 x(\(Generally)S -61 x(,)S 179 x(this)S
177 x(operation)S 177 x(should)S 176 x(always)S 177 x(be)S 178 x(enclosed)S
176 x(in)S 178 x(a)S 177 x(loop.)S 3899 X 648 y(See)S 175 x(Appen)S
-2 x(dix)S 175 x(D)S 175 x(for)S 176 x(examples)S 174 x(of)S 175 x(use\).)S
241 x(Even)S 175 x(when)S 175 x(a)S 175 x(`)S -10 x(`spu)S -2 x(rious)S
175 x(wakeup')S -11 x(')S 175 x(occurs,)S 177 x(the)S 175 x(mutex)S
175 x(is)S 3899 X 647 y(reacquired)S 182 x(before)S 183 x(the)S 182 x
(operation)S 182 x(returns.)S 3899 19142 XY(This)S 224 x(operation)S
224 x(is)S 224 x(not)S 224 x(alertsafe,)S 235 x(but)S 224 x(is)S 224 x
(alertable.)S 369 x(In)S 224 x(addi)S -2 x(tion,)S 235 x(if)S 225 x
F149(cma_e_al)S -2 x(erted)S 225 x F147(is)S 224 x(raised,)S 3899 X
647 y(the)S 208 x(mutex)S 209 x(is)S 208 x(reacquired)S 208 x(before)S
209 x(the)S 209 x(exception)S 208 x(is)S 208 x(raised)S -2 x(.)S 322 x
(\(For)S 210 x(a)S 208 x(discussi)S -2 x(on)S 209 x(of)S 209 x(alerts)S
208 x(refer)S 209 x(to)S 3899 X 648 y(Section)S 183 x(4.7\).)S 13729 21383 XY
F153(USAGE)S 167 x(NOTE)S 4796 23177 XY(\201)S 744 x(Permitting)S 225 x
(spurious)S 226 x(wakeups)S 225 x(makes)S 225 x(some)S 225 x(implementation)S
2 x(s)S 224 x(faster)S -37 x(.)S 398 x(More)S 224 x(im-)S 5842 X 597 y
(portantly)S -54 x(,)S 210 x(this)S 202 x(nondeterminist)S 2 x(ic)S
201 x(behavior)S -36 x(,)S 210 x(somewhat)S 202 x(paradoxica)S 2 x(lly)S
-54 x(,)S 210 x(also)S 202 x(leads)S 5842 X 598 y(to)S 137 x(more)S
135 x(reliable)S 137 x(multithread)S 138 x(programming,)S 143 x(since)S
137 x(the)S 137 x(client)S 137 x(is)S 137 x(forced)S 136 x(to)S 137 x
(recheck)S 5842 X 598 y(that)S 184 x(the)S 183 x(entire)S 183 x(boolean)S
184 x(predicate)S 184 x(associat)S 2 x(ed)S 183 x(with)S 183 x(the)S
184 x(conditio)S 2 x(n)S 183 x(is)S 183 x(true,)S 188 x(and)S 183 x
(is)S 5842 X 598 y(thereby)S 200 x(automat)S 2 x(ically)S 202 x(forced)S
200 x(to)S 201 x(avoi)S 2 x(d)S 201 x(assumptions)S 202 x(about)S 202 x
(what)S 201 x(a)S 201 x(wakeup)S 201 x(sig-)S 5842 X 597 y(ni\211es.)S
254 x(Similarly)S -54 x(,)S 179 x(since)S 177 x(the)S 177 x(waiter)S
177 x(must)S 177 x(be)S 176 x(prepared)S 176 x(for)S 176 x(spurious)S
178 x(wakeups,)S 180 x(the)S 5842 X 598 y(code)S 187 x(signa)S 2 x(ling)S
188 x(the)S 188 x(conditio)S 2 x(n)S 187 x(need)S 188 x(not)S 188 x
(be)S 187 x(so)S 187 x(careful)S 187 x(about)S 189 x(when)S 187 x(the)S
188 x(conditio)S 2 x(n)S 5842 X 598 y(is)S 229 x(signal)S 2 x(ed\202signal)S
2 x(ing)S 230 x(can)S 229 x(be)S 229 x(done)S 230 x(anyti)S 2 x(me)S
228 x(some)S 230 x(associated)S 231 x(predicate)S 229 x F154(might)S
5842 X 598 y F153(become)S 229 x(true,)S 246 x(rather)S 229 x(than)S
231 x(exactly)S 231 x(when)S 230 x(it)S 230 x F154(is)S 229 x F153(true)S
230 x(\(which)S 230 x(is)S 230 x(what)S 230 x(is)S 230 x(typica)S 2 x
(lly)S 5842 X 597 y(required)S 165 x(with)S 167 x(traditiona)S 2 x(l)S
166 x(deterministic)S 167 x(synchroniz)S 2 x(ation)S 167 x(operatio)S
2 x(ns\).)S 4796 X 897 y(\201)S 744 x(Each)S 214 x(conditio)S 2 x(n)S
213 x(corresponds)S 214 x(to)S 214 x(one)S 214 x(or)S 213 x(more)S 213 x
(boolean)S 215 x(relations)S 214 x(\(or)S 213 x(predicates\))S 5842 X
598 y(upon)S 159 x(the)S 159 x(data.)S 221 x(A)S 158 x(thread)S 159 x
(then)S 159 x(waits)S 159 x(for)S 159 x(the)S 158 x(data)S 160 x(to)S
159 x(reach)S 159 x(a)S 159 x(particular)S 159 x(state)S 159 x(\(for)S
5842 X 598 y(a)S 166 x(particula)S 2 x(r)S 165 x(predicate)S 167 x(to)S
166 x(become)S 166 x(true\).)S 4796 X 896 y(\201)S 744 x(As)S 182 x
(a)S 182 x(general)S 182 x(rule,)S 186 x(a)S 182 x(thread)S 183 x(that)S
183 x(has)S 182 x(changed)S 183 x(the)S 182 x(state)S 183 x(of)S 182 x
(storage)S 182 x(protected)S 183 x(by)S 5842 X 598 y(the)S 174 x(mutex)S
175 x(in)S 174 x(such)S 175 x(a)S 175 x(way)S 174 x(that)S 176 x(a)S
174 x(predicate)S 175 x(associa)S 2 x(ted)S 174 x(with)S 175 x(a)S 174 x
(condi)S 2 x(tion)S 175 x(variable)S 5842 X 598 y(might)S 232 x(now)S
231 x(be)S 231 x(true,)S 248 x(must)S 231 x(call)S 232 x(either)S 231 x
F148(cma_cond_signal)S 232 x F153(or)S 231 x F148(cma_cond_broadcast)S
5842 X 597 y F153(for)S 170 x(that)S 171 x(condit)S 2 x(ion)S 171 x
(variable.)S 237 x(If)S 170 x(neither)S 171 x(call)S 172 x(is)S 171 x
(made,)S 172 x(any)S 171 x(thread)S 172 x(waiting)S 172 x(on)S 171 x
(that)S 5842 X 598 y(conditio)S 2 x(n)S 166 x(continues)S 167 x(to)S
167 x(wait.)S 21509 37373 XY F36(CMA)S 165 x(Core)S 166 x(Services)S
499 x(61)S
%%EndCustomColor: 0
66 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ NewCenturySchlbk-Bold NewCenturySchlbk-BoldItalic
%%PageCustomColors: 0
%
%%Page: 62 67
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4796 4009 XY F153(\201)S 744 x(It)S 205 x(poses)S 207 x(no)S 206 x(problem)S
205 x(that)S 206 x F148(cma_cond_wait)S 206 x F153(is)S 206 x(not)S
206 x(alertsafe,)S 216 x(since)S 206 x(mutex)S 206 x(locking)S 5842 X
598 y(and)S 136 x(unlocking)S 137 x(are)S 135 x(always)S 136 x(used)S
136 x(in)S 136 x(conjunctio)S 2 x(n)S 135 x(with)S 136 x(this)S 136 x
(operation,)S 143 x(and)S 136 x(they)S 136 x(are)S 5842 X 597 y(also)S
184 x(not)S 183 x(alertsafe.)S 274 x(Asynchronous)S 184 x(delivery)S
184 x(of)S 183 x(alerts)S 184 x(must)S 183 x(be)S 183 x(disabled,)S
189 x(or)S 182 x(alerts)S 5842 X 598 y(must)S 166 x(be)S 166 x(deferre)S
-2 x(d,)S 167 x(in)S 167 x(the)S 166 x(contexts)S 168 x(where)S 165 x
(this)S 167 x(operation)S 167 x(is)S 167 x(used.)S 5842 X 897 y(Being)S
204 x(alertable)S 205 x(means)S 204 x(that)S 205 x(a)S 204 x(pendin)S
2 x(g)S 204 x(alert)S 204 x(is)S 205 x(noticed)S 205 x(during)S 205 x
(the)S 204 x(wait)S 205 x(on)S 204 x(the)S 5842 X 597 y(conditio)S 2 x
(n)S 216 x(variable.)S 374 x(This)S 217 x(helps)S 217 x(ensure)S 216 x
(that)S 218 x(all)S 217 x(long)S 218 x(waits)S 217 x(can)S 217 x(be)S
216 x(canceled)S 218 x(by)S 5842 X 598 y(alerting)S 146 x(the)S 145 x
(thread,)S 150 x(because)S 145 x(all)S 146 x(long)S 146 x(waits)S 146 x
(in)S 146 x(the)S 145 x(CMA)S 144 x(library)S 145 x(or)S 145 x(core)S
145 x(are)S 144 x(likely)S 5842 X 598 y(to)S 166 x(use)S 166 x(this)S
167 x(operatio)S 2 x(n.)S 12318 9588 XY(IMPLEMENTOR'S)S 165 x(NOTE)S
4796 X 896 y(`)S -9 x(`Atomically)S 2 x(')S -9 x(')S 150 x(above)S 151 x
(means)S 150 x(`)S -9 x(`atomica)S 2 x(lly)S 151 x(with)S 151 x(respect)S
150 x(to)S 150 x(cma_cond_si)S 2 x(gnal,)S 155 x(cma_cond_)S 4796 X
598 y(broadcast,)S 173 x(cma_mutex_lo)S 2 x(ck,)S 173 x(and)S 172 x
(cma_mutex_unlo)S 2 x(ck')S -9 x('.)S 238 x(It)S 171 x(is)S 172 x(does)S
172 x(not)S 172 x(preclude)S 172 x(cma_)S 4796 X 598 y(cond_wait)S 167 x
(being)S 167 x(composed)S 167 x(of)S 166 x(more)S 165 x(elementary)S
167 x(synchroniz)S 2 x(ation)S 167 x(operatio)S 2 x(ns.)S 3899 13174 XY
F32(4.4.4)S 547 x(T)S -10 x(imed)S 183 x(Condition)S 182 x(W)S -20 x
(aits)S 3899 14171 XY F147(The)S 183 x(operations)S 181 x(described)S
181 x(in)S 182 x(this)S 182 x(section)S 182 x(are)S 183 x(used)S 181 x
(to:)S 3899 X 896 y(\201)S 714 x(Perform)S 184 x(a)S 182 x(timed-wait)S
183 x(on)S 182 x(a)S 182 x(condition)S 182 x(variabl)S -2 x(e)S 3899 X
897 y(\201)S 714 x(Obtain)S 182 x(an)S 182 x(expiration)S 181 x(time)S
183 x(for)S 183 x(a)S 182 x(timed-wait)S 3899 17359 XY F32(4.4.4.1)S
547 x F33(cma_cond_)S -2 x(timed_wait)S 3899 X 896 y F147(A)S 205 x
(thread)S 204 x(can)S 205 x(perform)S 205 x(a)S 205 x(timed)S 205 x
(wait)S 204 x(for)S 206 x(a)S 205 x(condition)S 204 x(variabl)S -2 x
(e)S 205 x(to)S 205 x(be)S 205 x(signaled)S 203 x(or)S 206 x(broadcas)S
-2 x(t)S 206 x(by)S 3899 X 648 y(callin)S -2 x(g)S 183 x(the)S 183 x
(procedure)S 182 x(that)S 183 x(has)S 181 x(the)S 183 x(following)S
182 x(declaration:)S 4945 19949 XY F98(function)S 269 x(CMA_COND_TIMED_WAIT)S
269 x(\()S 8173 X 498 y(CONDITION)S 538 x(:)S 269 x(in)S 269 x(CMA_T_COND;)S
8173 X 498 y(MUTEX)S 11132 X(:)S 269 x(in)S 269 x(CMA_T_MUTEX;)S 8173 X
498 y(EXPIRATION)S 269 x(:)S 269 x(in)S 269 x(CMA_T_DATE_TIME\))S 269 x
(return)S 268 x(CMA_T_STATUS;)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(cma_t_status)S 4945 X 499 y(cma_cond_timed_wait)S 269 x
(\()S 6021 X 498 y(cma_t_cond)S 11401 X(*condition,)S 6021 X 498 y(cma_t_mutex)S
11401 X(*mutex,)S 6021 X 498 y(cma_t_date_time)S 11401 X(*expiration\);)S
3899 26026 XY F147(Parameters:)S 3899 X 897 y F38(condition)S 8282 X
(The)S 150 x(condition)S 150 x(variable)S 150 x(to)S 149 x(be)S 150 x
(waited)S 149 x(on.)S 3899 X 697 y(mutex)S 8282 X(The)S 150 x(mutex)S
151 x(associated)S 150 x(with)S 148 x(the)S 150 x(condition)S 150 x
(variable.)S 3899 X 698 y(expiration)S 8282 X(An)S 147 x(absolute)S
146 x(time)S 146 x(at)S 146 x(which)S 146 x(the)S 146 x(wait)S 145 x
(should)S 147 x(expire,)S 147 x(if)S 145 x(the)S 147 x(condition)S 146 x
(has)S 147 x(not)S 146 x(yet)S 146 x(been)S 147 x(signalled)S 146 x
(or)S 8282 X 548 y(broa)S 2 x(dcast.)S 3899 29862 XY 23316 48 R 3899 30460 XY
(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S
3899 X 298 y 23316 48 R 3899 31456 XY(cma_e_)S 2 x(alerted)S 10026 X
(alert)S 14409 X(This)S 149 x(exception)S 150 x(is)S 149 x(raised)S
150 x(when)S 149 x(an)S 150 x(alert)S 149 x(is)S 148 x(delivered)S 150 x
(to)S 149 x(the)S 149 x(thread)S 14409 X 548 y(\(see)S 151 x(Section)S
149 x(4.7\).)S 3899 X 697 y(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 298 y 23316 48 R 3899 37373 XY
F36(62)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
67 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Bold
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Roman
%%+ Helvetica-BoldOblique Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 63 68
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4009 XY F147(This)S 201 x(operation)S 201 x(is)S 201 x(identical)S
201 x(in)S 201 x(all)S 201 x(respects)S 201 x(to)S 202 x F148(cma_cond_wait)S
202 x F147(except)S 202 x(for)S 203 x(one:)S 282 x(it)S 202 x(also)S
200 x(returns)S 3899 X 647 y(when)S 226 x(the)S 227 x(current)S 227 x
(system)S 227 x(clock)S 227 x(time)S 226 x(is)S 226 x(greater)S 227 x
(than)S 227 x(or)S 227 x(equal)S 225 x(to)S 227 x(the)S 226 x(time)S
227 x(speci\211ed)S 225 x(by)S 227 x(the)S 3899 X 648 y F149(expiration)S
213 x F147(parameter)S -41 x(.)S 334 x(If)S 213 x(the)S 212 x(wait)S
213 x(is)S 212 x(completed)S 211 x(normally)S 212 x(by)S 213 x(a)S 212 x
(signal)S 212 x(or)S 213 x(broadcas)S -2 x(t)S 213 x(on)S 213 x(the)S
3899 X 647 y(condition)S 220 x(variable,)S 230 x(the)S 221 x(return)S
222 x(status)S 221 x(is)S 220 x F148(cma_s_normal)S F147(.)S 361 x(If)S
222 x(the)S 221 x(wait)S 221 x(completes)S 221 x(because)S 221 x(the)S
3899 X 648 y(expiration)S 181 x(time)S 183 x(has)S 182 x(pass)S -2 x
(ed,)S 183 x(the)S 182 x(return)S 183 x(status)S 182 x(is)S 182 x F148
(cma_s_timed_out)S F147(.)S 3899 7595 XY(If)S 248 x(the)S 247 x(current)S
248 x(time)S 247 x(equal)S -2 x(s)S 247 x(or)S 248 x(exceeds)S 247 x
(the)S 247 x(expiration)S 246 x(time,)S 264 x F148(cma_cond_timed_wait)S
247 x F147(returns)S 3899 X 648 y(immedia)S -2 x(tely)S -60 x(,)S 200 x
(without)S 197 x(blocking)S 196 x(the)S 197 x(current)S 197 x(thread.)S
286 x(Client)S 196 x(code)S 197 x(should)S 195 x(be)S 197 x(sure)S 196 x
(to)S 197 x(check)S 198 x(the)S 3899 X 647 y(return)S 267 x(status)S
266 x(whenever)S 267 x F148(cma_cond_timed_wait)S 267 x F147(returns,)S
287 x(and)S 266 x(take)S 266 x(the)S 267 x(approp)S -2 x(riate)S 267 x
(action.)S 3899 X 648 y(Otherwise,)S 183 x(waiting)S 182 x(on)S 182 x
(the)S 183 x(condition)S 181 x(may)S 183 x(become)S 183 x(a)S 182 x
(`)S -10 x(`hot')S -11 x(',)S 183 x(non-blocking)S 182 x(loop.)S 3899 10534 XY
(Refer)S 262 x(to)S 262 x(Section)S 262 x(4.4.3.6)S 262 x(for)S 262 x
(other)S 263 x(detai)S -2 x(ls)S 262 x(about)S 261 x(waiting)S 261 x
(on)S 262 x(condition)S 261 x(variabl)S -2 x(es.)S 482 x(See)S 262 x
(Ap-)S 3899 X 648 y(pendi)S -2 x(x)S 183 x(D)S 183 x(for)S 184 x(an)S
182 x(example)S 181 x(of)S 183 x(performing)S 183 x(a)S 183 x(timed)S
182 x(wait.)S 3899 12577 XY F32(4.4.4.2)S 547 x(Operations)S 183 x(on)S
182 x(T)S -10 x(ime)S 3899 X 896 y F147(Each)S 205 x(CMA)S 205 x(implementa)S
-2 x(tion)S 205 x(provides)S 205 x(a)S 205 x(convenient)S 205 x(de\211nition)S
204 x(for)S 206 x(the)S 206 x F148(cma_t_date_time)S 205 x F147(type.)S
3899 X 648 y(The)S 245 x(type)S 244 x(should)S 243 x(correspond)S 244 x
(to)S 245 x(a)S 244 x(date/time)S 244 x(data)S 243 x(format)S 246 x
(in)S 244 x(common)S 244 x(use)S 244 x(on)S 245 x(the)S 244 x(operating)S
3899 X 647 y(system)S 185 x(platform)S 185 x(where)S 186 x(the)S 185 x
(CMA)S 185 x(implementation)S 184 x(runs.)S 252 x(This)S 185 x(all)S
-2 x(ows)S 186 x(full)S 185 x(use)S 185 x(of)S 185 x(the)S 186 x(OS)S
186 x(time)S 3899 X 648 y(operations)S 213 x(in)S 214 x(manip)S -2 x
(ulating)S 213 x F148(cma_t_date_time)S 215 x F147(variable)S -2 x(s.)S
339 x(T)S -50 x(o)S 215 x(ensure)S 213 x(that)S 214 x(a)S 214 x F148
(cma_t_date_time)S 3899 X 648 y F147(can)S 162 x(be)S 162 x(created)S
162 x(in)S 162 x(fully)S 162 x(portable)S 162 x(code,)S 166 x(the)S
163 x(CMA)S 161 x(architecture)S 163 x(provides)S 161 x(a)S 162 x(way)S
163 x(to)S 163 x(create)S 162 x(a)S 163 x F148(cma_)S 3899 X 647 y(t_date_time)S
183 x F147(value)S 181 x(for)S 184 x(the)S 182 x(purpose)S 182 x(of)S
183 x(timed)S 182 x(waiting.)S 3899 17707 XY(The)S 205 x F148(cma_time_get_e)S
2 x(xpiration)S 205 x F147(operation)S 204 x(in)S 204 x(this)S 205 x
(section)S 205 x(uses)S 204 x(an)S 205 x(`)S -10 x(`interval')S -11 x
(')S 205 x(value)S 204 x(\(type)S 206 x F148(cma_)S 3899 X 648 y(t_interval)S
F147(\))S 168 x(as)S 165 x(well)S 166 x(as)S 166 x(a)S 166 x F148(cma_t_dat)S
-2 x(e_time)S 168 x F147(value.)S 237 x(An)S 166 x(interval)S 166 x
(is)S 165 x(a)S 166 x(\212oating)S 166 x(point)S 165 x(\()S F148(real)S
F147(\))S 168 x(number)S 3899 X 648 y(which)S 260 x(represents)S 260 x
(a)S 260 x(length)S 260 x(of)S 260 x(time,)S 280 x(in)S 260 x(seconds.)S
476 x(The)S 260 x(\212oating)S 260 x(point)S 259 x(data)S 260 x(type)S
260 x(selected)S 259 x(to)S 3899 X 647 y(represent)S 182 x(an)S 182 x
(interval)S 182 x(in)S 182 x(a)S 183 x(given)S 182 x(implementati)S
-2 x(on)S 183 x(must)S 182 x(have)S 183 x(the)S 182 x(following)S 182 x
(characteristics:)S 3899 X 897 y(\201)S 714 x(A)S 182 x(range)S 183 x
(of)S 183 x(0)S 182 x(to)S 183 x(\261)S 183 x(31,622)S -2 x(,400)S 182 x
(\(1)S 183 x(year\).)S 3899 X 896 y(\201)S 714 x(For)S 183 x(values)S
182 x(in)S 182 x(the)S 183 x(range)S 182 x(of)S 183 x(0)S 183 x(to)S
182 x(\261)S 183 x(100,)S 182 x(a)S 182 x(resolution)S 182 x(of)S 183 x
(1)S 182 x(millis)S -2 x(econd)S 183 x(\(0.001\))S 182 x(or)S 183 x
(less.)S 3899 X 897 y(\201)S 714 x(It)S 212 x(is)S 211 x F148(recomme)S
2 x(nded)S 211 x F147(that)S 212 x(there)S 212 x(be)S 212 x(at)S 212 x
(least)S 211 x(6)S 212 x(signi)S -2 x(\211cant)S 212 x(digits)S 211 x
(of)S 212 x(accuracy)S 213 x(for)S 213 x(all)S 210 x(values)S 4945 X
648 y(within)S 182 x(the)S 182 x(range.)S 3899 24083 XY(IEEE)S 181 x
(single)S 182 x(precision)S 181 x(\212oating)S 182 x(point)S 182 x(values)S
182 x(meet)S 182 x(these)S 183 x(criteria.)S 3899 25478 XY F32(4.4.4.2.1)S
547 x F33(cma_time_get_exp)S -2 x(iration)S 3899 X 897 y F147(A)S 128 x
(client)S 128 x(can)S 128 x(obtain)S 127 x(a)S 128 x F148(cma_t_date_time)S
128 x F147(value)S 128 x(representing)S 127 x(a)S 128 x(desired)S 127 x
(expiration)S 127 x(time)S 128 x(by)S 129 x(calli)S -2 x(ng)S 3899 X
647 y(the)S 182 x(procedure)S 183 x(that)S 182 x(has)S 182 x(the)S 182 x
(following)S 183 x(declarati)S -2 x(on:)S 4945 28069 XY F98(procedure)S
269 x(CMA_TIME_GET_EXPIRATION)S 269 x(\()S 6021 X 498 y(EXPIRATION)S
269 x(:)S 269 x(out)S 269 x(CMA_T_DATE_TIME;)S 6021 X 498 y(INTERVAL)S
807 x(:)S 269 x(in)S 269 x(CMA_T_INTERVAL\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_time_get_expiration)S 269 x(\()S
6021 X 498 y(cma_t_date_time)S 11401 X(*expiration,)S 6021 X 498 y(cma_t_interval)S
11401 X(interval\);)S 3899 32851 XY F147(Parameters:)S 3899 X 896 y
F38(expiration)S 8282 X(Receives)S 150 x(the)S 150 x F148(cma_t_date_time)S
149 x F38(value)S 150 x(repre)S 2 x(senting)S 149 x(the)S 150 x(expiration)S
150 x(time.)S 21509 37373 XY F36(CMA)S 165 x(Core)S 166 x(Services)S
499 x(63)S
%%EndCustomColor: 0
68 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%+ Helvetica-BoldOblique Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 64 69
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4148 XY F38(interval)S 8282 X(The)S 150 x(numb)S 2 x(er)S 150 x
(of)S 149 x(seconds)S 151 x(from)S 150 x(now)S 150 x(at)S 149 x(which)S
149 x(the)S 150 x(timed)S 149 x(wait)S 149 x(should)S 150 x(expire.)S
3899 5144 XY 23316 48 R 3899 5742 XY(Error)S 10026 X(Kind)S 149 x(of)S
150 x(Error)S 14409 X(Description)S 3899 X 299 y 23316 48 R 3899 6738 XY
(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S 14409 X(One)S 150 x
(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x(supplied)S 150 x
(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X 299 y 23316 48 R
3899 8033 XY F147(This)S 181 x(operation)S 180 x(adds)S 180 x(a)S 181 x
(speci\211ed)S 180 x(interval)S 181 x(to)S 181 x(the)S 182 x(current)S
182 x(absol)S -2 x(ute)S 182 x(system)S 181 x(time,)S 182 x(and)S 180 x
(returns)S 182 x(a)S 3899 X 648 y(new)S 201 x(absolute)S 200 x(time.)S
300 x(This)S 201 x(new)S 201 x(absolute)S 200 x(time)S 202 x(can)S 201 x
(be)S 201 x(used)S 200 x(as)S 201 x(the)S 201 x(expiration)S 200 x(time)S
201 x(for)S 203 x(a)S 201 x F148(cma_)S 3899 X 648 y(cond_timed_wait)S
222 x F147(operation.)S 361 x(The)S 222 x(error)S 223 x F149(cma_e_badparam)S
221 x F147(will)S 221 x(be)S 222 x(raised)S 221 x(if)S 222 x(the)S 222 x
(interval)S 221 x(is)S 3899 X 647 y(less)S 203 x(than)S 203 x(0.0)S
204 x(seconds,)S 209 x(or)S 204 x(greater)S 205 x(than)S 203 x(the)S
204 x(implementation)S 202 x(can)S 204 x(support.)S 307 x(An)S 204 x
(interval)S 203 x(of)S 205 x(0.0)S 3899 X 648 y(seconds)S 181 x(is)S
182 x(legal,)S 182 x(and)S 182 x(results)S 182 x(in)S 182 x(returning)S
183 x(the)S 182 x(current)S 183 x(time.)S 3899 12118 XY F32(4.4.5)S
547 x(The)S 182 x(`)S -20 x(`Global)S 184 x(Lock)S -2 x(')S -19 x(')S
3899 13114 XY F147(The)S 146 x(CMA)S 146 x(Global)S 145 x(Lock)S 147 x
(operations)S 145 x(are)S 146 x(designed)S 145 x(to)S 146 x(make)S 146 x
(it)S 146 x(easier)S 145 x(for)S 147 x(multithreaded)S 145 x(programs)S
3899 X 648 y(take)S 150 x(advantage)S 150 x(of)S 151 x(existing)S 151 x
(lib)S -2 x(rary)S 152 x(packages)S 150 x(which)S 150 x(aren')S -10 x
(t)S 151 x(designed)S 149 x(to)S 151 x(run)S 151 x(in)S 150 x(a)S 150 x
(multithreaded)S 3899 X 647 y(environment.)S 3899 15406 XY(Unless)S
148 x(the)S 150 x(documentation)S 149 x(for)S 151 x(a)S 150 x(library)S
149 x(function)S 150 x(speci\211call)S -2 x(y)S 151 x(claims)S 149 x
(that)S 150 x(it)S 150 x(is)S 149 x(compatible)S 149 x(with)S 3899 X
647 y(multithreadi)S -2 x(ng,)S 206 x(you)S 202 x(shoul)S -2 x(d)S 201 x
(generally)S 201 x(assume)S 200 x(that)S 201 x(it)S 201 x(isn')S -11 x
(t.)S 299 x(Many)S 202 x(langua)S -2 x(ge)S 202 x(compilers)S 200 x
(don')S -11 x(t)S 3899 X 648 y(generate)S 231 x(reentrant)S 230 x(code,)S
243 x(and)S 229 x(in)S 230 x(most)S 231 x(languages)S 229 x(it')S -21 x
(s)S 231 x(easy)S 230 x(to)S 231 x(create)S 231 x(code)S 230 x(which)S
230 x(will)S 230 x(break)S 3899 X 647 y(if)S 243 x(a)S 242 x(function)S
242 x(is)S 242 x(called)S 242 x(from)S 243 x(multipl)S -2 x(e)S 243 x
(threads)S 242 x(simul)S -2 x(taneously;)S 272 x(for)S 244 x(example,)S
257 x(many)S 242 x(existing)S 3899 X 648 y(functions)S 182 x(use)S 182 x
(global)S 182 x(storage)S 182 x(without)S 183 x(explici)S -2 x(t)S 183 x
(synchronization)S -2 x(.)S 3899 18992 XY(The)S 138 x(obvious)S 136 x
(way)S 138 x(to)S 138 x(call)S 137 x(such)S 137 x(functions)S 137 x
(from)S 139 x(a)S 137 x(multithread)S -2 x(ed)S 138 x(program)S 137 x
(is)S 137 x(to)S 138 x(protect)S 138 x(them)S 138 x(with)S 3899 X 648 y
(a)S 195 x(mutex.)S 283 x(If)S 196 x(every)S 196 x(function)S 195 x
(which)S 195 x(calls)S 195 x(the)S 195 x(library)S 195 x(locks)S 195 x
(a)S 195 x(particula)S -2 x(r)S 196 x(mutex)S 196 x(before)S 196 x(the)S
195 x(call,)S 3899 X 647 y(and)S 184 x(releases)S 184 x(the)S 186 x
(mutex)S 185 x(after)S 186 x(the)S 185 x(call,)S 186 x(then)S 185 x
(the)S 185 x(function)S 185 x(can)S 186 x(complete)S 184 x(without)S
186 x(interference.)S 3899 X 648 y(However)S -39 x(,)S 182 x(there)S
183 x(are)S 183 x(several)S 182 x(dif\211culties)S 181 x(with)S 183 x
(this)S 181 x(idea:)S 3899 X 897 y F36(1.)S 631 x F147(Every)S 207 x
(call)S 206 x(to)S 207 x(the)S 207 x(function)S 206 x(must)S 207 x(use)S
206 x(the)S 207 x(same)S 206 x(mutex.)S 317 x(If)S 207 x(you)S 207 x
(use)S 206 x(MUTEX_A)S 206 x(to)S 207 x(protect)S 4945 X 647 y(calls)S
202 x(to)S 203 x(LIBRAR)S -21 x(Y_A,)S 203 x(and)S 202 x(you)S 203 x
(also)S 202 x(call)S 203 x(LIBRAR)S -21 x(Y_B,)S 202 x(which)S 203 x
(also)S 203 x(calls)S 202 x(LIBRAR)S -22 x(Y_A)S 203 x(but)S 4945 X
648 y(uses)S 177 x(MUTEX_B)S 176 x(to)S 178 x(protect)S 177 x(those)S
177 x(calls,)S 178 x(then)S 177 x(LIBRAR)S -21 x(Y_B)S 176 x(may)S 178 x
(have)S 177 x(a)S 177 x(call)S 177 x(to)S 177 x(LIBRAR)S -21 x(Y_)S
4945 X 647 y(A)S 200 x(active)S 201 x(in)S 200 x(one)S 200 x(thread)S
200 x(at)S 201 x(the)S 201 x(same)S 200 x(time)S 200 x(that)S 201 x
(you)S 200 x(have)S 201 x(a)S 200 x(call)S 200 x(to)S 201 x(LIBRAR)S
-22 x(Y_A)S 200 x(active)S 201 x(in)S 4945 X 648 y(another)S 182 x(thread.)S
3899 X 897 y F36(2.)S 631 x F147(It')S -20 x(s)S 225 x(often)S 226 x
(very)S 226 x(hard)S 224 x(to)S 226 x(determine)S 225 x(all)S 224 x
(the)S 226 x(depen)S -2 x(dencies)S 225 x(of)S 225 x(any)S 226 x(lib)S
-2 x(rary)S 226 x(function.)S 373 x(If)S 225 x(you)S 4945 X 647 y(call)S
238 x(LIBRAR)S -21 x(Y_A,)S 238 x(and)S 238 x(both)S 238 x(you)S 239 x
(and)S 238 x(LIBRAR)S -22 x(Y_A)S 238 x(call)S 238 x(LIBRAR)S -21 x
(Y_B,)S 239 x(then)S 238 x(you)S 239 x(have)S 238 x(to)S 4945 X 648 y
(make)S 243 x(sure)S 244 x(that)S 244 x(you)S 243 x(don')S -10 x(t)S
244 x(call)S 243 x(LIBRAR)S -22 x(Y_B)S 243 x(functions)S 244 x(whenever)S
244 x(any)S 243 x(thread)S 244 x(is)S 243 x(calli)S -2 x(ng)S 4945 X
647 y(LIBRAR)S -21 x(Y_A.)S 173 x(If)S 174 x(a)S 173 x(new)S 174 x(release)S
173 x(of)S 174 x(LIBRAR)S -21 x(Y_A)S 173 x(add)S -2 x(s)S 174 x(calls)S
172 x(to)S 174 x(LIBRAR)S -22 x(Y_C,)S 174 x(then)S 173 x(you)S 174 x
(have)S 4945 X 648 y(to)S 183 x(adjust)S 181 x(your)S 183 x(code)S 183 x
(to)S 183 x(protect)S 182 x(that)S 183 x(approp)S -2 x(riately)S -61 x
(,)S 183 x(too.)S 3899 X 896 y F36(3.)S 631 x F147(Some)S 133 x(complicated)S
131 x(libraries)S 131 x(make)S 132 x(`)S -10 x(`callbacks)S -2 x(')S
-10 x(')S 133 x(into)S 132 x(your)S 133 x(code.)S 227 x(For)S 133 x
(example,)S 142 x(the)S 133 x(OSF/Motif)S 4945 X 648 y(windowing)S 172 x
(system)S 172 x(has)S 172 x(callbacks)S 171 x(to)S 173 x(notify)S 173 x
(your)S 173 x(code)S 173 x(of)S 173 x(events)S 173 x(that)S 172 x(occur)S
173 x(within)S 172 x(its)S 173 x(wid-)S 4945 X 648 y(gets.)S 297 x(These)S
200 x(callba)S -2 x(cks)S 201 x(are)S 200 x(allowed)S 199 x(to)S 200 x
(make)S 200 x(other)S 201 x(calls)S 199 x(into)S 200 x(OSF/Motif)S 202 x
(and)S 199 x(X)S 200 x(W)S -21 x(indows.)S 4945 X 647 y(Does)S 185 x
(a)S 184 x(callback)S 184 x(routine)S 185 x(lock)S 184 x(the)S 185 x
(`)S -10 x(`OSF/M)S 2 x(otif)S 185 x(reentrancy')S -10 x(')S 185 x(mutex?)S
251 x(Designing)S 184 x(such)S 185 x(a)S 184 x(sys-)S 4945 X 648 y(tem)S
173 x(can)S 173 x(be)S 172 x(very)S 174 x(error)S 174 x(prone.)S 240 x
(If)S 174 x(you)S 173 x(attempt)S 172 x(to)S 173 x(lock)S 173 x(the)S
173 x(mutex)S 173 x(when)S 173 x(it')S -21 x(s)S 173 x(already)S 172 x
(locked,)S 4945 X 647 y(then)S 191 x(the)S 192 x(thread)S 191 x(dead)S
-2 x(locks.)S 271 x(If)S 192 x(you)S 191 x(don')S -11 x(t)S 192 x(lock)S
192 x(it)S 191 x(when)S 191 x(it)S 192 x(wasn')S -11 x(t)S 192 x(locked,)S
193 x(the)S 192 x(program)S 191 x(will)S 4945 X 648 y(probabl)S -2 x
(y)S 183 x(exhibit)S 182 x(strange)S 182 x(errors)S 183 x(due)S 182 x
(to)S 183 x(data)S 182 x(corruption.)S 3899 33787 XY(The)S 183 x(CMA)S
182 x(Global)S 181 x(Lock)S 184 x(offers)S 183 x(a)S 182 x(simple)S
182 x(soluti)S -2 x(on)S 183 x(to)S 183 x(these)S 182 x(problems.)S
3899 X 896 y(\201)S 714 x(There)S 230 x(is)S 229 x(only)S 229 x F148
(one)S 230 x F147(lock.)S 384 x(Any)S 230 x(code)S 229 x(wishing)S 228 x
(to)S 230 x(call)S 229 x(any)S 229 x(function)S 230 x(that)S 229 x(isn')S
-11 x(t)S 230 x(known)S 229 x(to)S 230 x(be)S 4945 X 648 y(reentrant)S
183 x(uses)S 181 x(the)S 183 x(same)S 182 x(lock.)S 244 x(Therefore,)S
184 x(you)S 183 x(don')S -11 x(t)S 183 x(need)S 182 x(to)S 182 x(worry)S
184 x(about)S 182 x(depend)S -2 x(encies.)S 3899 37373 XY F36(64)S 498 x
(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
69 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 65 70
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F147(\201)S 714 x(A)S 223 x(thread)S 224 x(can')S -11 x
(t)S 225 x(dead)S -2 x(lock)S 224 x(on)S 224 x(the)S 224 x(Global)S
222 x(Lock.)S 369 x(The)S 224 x(`)S -10 x(`friendly')S -11 x(')S 224 x
(nature)S 223 x(of)S 225 x(the)S 223 x(lock)S 224 x(means)S 4945 X 648 y
(that)S 213 x(when)S 214 x(a)S 213 x(thread)S 213 x(owns)S 214 x(the)S
214 x(lock)S 213 x(it')S -21 x(s)S 214 x(allowed)S 212 x(to)S 214 x
(relock)S 214 x(it)S 213 x(as)S 213 x(many)S 214 x(times)S 213 x(as)S
213 x(it)S 214 x(wants.)S 4945 X 647 y(No)S 214 x(other)S 215 x(thread)S
214 x(can)S 215 x(lock)S 214 x(the)S 215 x(mutex)S 215 x(until)S 214 x
(the)S 215 x(owning)S 214 x(thread)S 214 x(has)S 214 x F148(unlocked)S
215 x F147(the)S 215 x(Global)S 4945 X 648 y(Lock)S 259 x(as)S 259 x
(many)S 258 x(times)S 259 x(as)S 258 x(it)S 259 x F148(locked)S 259 x
F147(it.)S 472 x(So)S 259 x(if)S 259 x(you're)S 259 x(writing)S 259 x
(a)S 259 x(function)S 258 x(that)S 259 x(calls)S 258 x(some)S 4945 X
648 y(nonreentrant)S 159 x(code,)S 165 x(you)S 159 x(can)S 160 x(freely)S
160 x(lock)S 160 x(the)S 159 x(Global)S 159 x(Lock)S 160 x(without)S
160 x(worrying)S 160 x(about)S 159 x(whether)S 4945 X 647 y(your)S 183 x
(caller)S 182 x(might)S 183 x(have)S 182 x(already)S 181 x(locked)S
182 x(it.)S 3899 8639 XY F32(4.4.5.1)S 547 x F33(cma_lock_g)S -2 x(lobal)S
3899 X 897 y F147(The)S 183 x(Global)S 181 x(Lock)S 184 x(can)S 182 x
(be)S 182 x(locked)S 182 x(by)S 183 x(calli)S -2 x(ng)S 183 x(the)S
183 x(procedure)S 182 x(that)S 182 x(has)S 182 x(the)S 183 x(following)S
182 x(declaration)S -2 x(:)S 4945 10582 XY F98(procedure)S 269 x(CMA_LOCK_GLOBAL;)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_lock_global)S 269 x(\(void\);)S
3899 13670 XY F147(If)S 213 x(the)S 212 x(Global)S 211 x(Lock)S 213 x
(is)S 211 x(owned)S 212 x(by)S 212 x(the)S 213 x(current)S 212 x(thread,)S
220 x(then)S 212 x(the)S 212 x(re-lock)S 213 x(count)S 212 x(is)S 212 x
(incremented.)S 3899 X 648 y(If)S 187 x(the)S 186 x(Global)S 185 x(Lock)S
187 x(is)S 186 x(currently)S 187 x(unowned,)S 186 x(then)S 187 x(the)S
186 x(current)S 187 x(thread)S 185 x(is)S 186 x(recorded)S 186 x(as)S
186 x(the)S 186 x(owner)S -40 x(,)S 3899 X 647 y(and)S 154 x(the)S 156 x
(re-lock)S 156 x(count)S 156 x(is)S 155 x(initia)S -2 x(lized)S -2 x
(.)S 235 x(If)S 156 x(another)S 156 x(thread)S 155 x(owns)S 155 x(the)S
156 x(Global)S 154 x(Lock,)S 162 x(then)S 156 x(the)S 155 x(thread)S
3899 X 648 y(will)S 182 x(block)S 182 x(until)S 181 x(the)S 183 x(current)S
183 x(owner)S 183 x(relinqui)S -2 x(shes)S 182 x(ownership.)S 3899 17008 XY
F32(4.4.5.2)S 547 x F33(cma_unlock_)S -2 x(global)S 3899 X 896 y F147
(The)S 145 x(Global)S 143 x(Lock)S 145 x(can)S 144 x(be)S 144 x(unlocked)S
143 x(by)S 145 x(callin)S -2 x(g)S 145 x(the)S 144 x(procedure)S 144 x
(that)S 145 x(has)S 143 x(the)S 145 x(following)S 144 x(declarati)S
-2 x(on:)S 4945 18950 XY F98(procedure)S 269 x(CMA_UNLOCK_GLOBAL;)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_unlock_global)S 269 x(\(void\);)S
3899 22338 XY 23316 48 R 3899 22935 XY F38(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 299 y 23316 48 R 3899 23932 XY
(cma_e_)S 2 x(in_use)S 10026 X(unpredictable)S 14409 X(The)S 243 x(operation)S
243 x(reque)S 2 x(sted)S 242 x(for)S 242 x(the)S 243 x(object)S 242 x
(cannot)S 243 x(be)S 242 x(perform)S 2 x(ed)S 14409 X 548 y(since)S
150 x(the)S 150 x(object)S 149 x(is)S 150 x(stil)S -2 x(l)S 149 x(in)S
150 x(use.)S 3899 X 298 y 23316 48 R 3899 25775 XY F147(If)S 207 x(the)S
207 x(Global)S 206 x(Lock)S 208 x(is)S 206 x(owned)S 206 x(by)S 207 x
(the)S 207 x(current)S 208 x(thread,)S 212 x(then)S 207 x(the)S 207 x
(re-lock)S 207 x(count)S 207 x(is)S 207 x(decremented;)S 3899 X 647 y
(if)S 215 x(each)S 214 x(lock)S 215 x(request)S 214 x(for)S 215 x(the)S
215 x(thread)S 214 x(has)S 214 x(now)S 215 x(been)S 214 x(matched)S
214 x(by)S 215 x(an)S 214 x(unlock)S 214 x(request,)S 223 x(then)S 215 x
(the)S 3899 X 648 y(thread)S 198 x(relinqu)S -2 x(ishes)S 198 x(ownership)S
197 x(of)S 199 x(the)S 199 x(Global)S 197 x(Lock)S 199 x(and)S 197 x
(unblocks)S 198 x(the)S 198 x(\211rst)S 199 x(thread)S 197 x(waiting)S
198 x(to)S 3899 X 647 y(lock.)S 244 x(If)S 183 x(the)S 183 x(Global)S
182 x(Lock)S 183 x(isn')S -11 x(t)S 183 x(owned)S 183 x(by)S 182 x(the)S
183 x(current)S 184 x(thread,)S 182 x(and)S 182 x(the)S 183 x(implementa)S
-2 x(tion)S 183 x(detects)S 3899 X 648 y(the)S 182 x(error)S -39 x(,)S
183 x(it)S 182 x(will)S 182 x(raise)S 182 x(the)S 182 x(exception)S
182 x F149(cma_e_in_use)S F147(.)S 3899 29859 XY F28(4.5)S 599 x(Initializati)S
2 x(on)S 3899 30856 XY F147(The)S 183 x(CMA)S 182 x(architecture)S 183 x
(provides)S 181 x(two)S 183 x(different)S 183 x(types)S 182 x(of)S 184 x
(initi)S -2 x(aliza)S -2 x(tion.)S 3899 X 896 y(\201)S 714 x(Initial)S
-2 x(ize)S 182 x(the)S 183 x(CMA)S 182 x(services.)S 3899 X 897 y(\201)S
714 x(Allow)S 166 x(client)S 166 x(software)S 168 x(to)S 167 x(create)S
167 x(its)S 166 x(own)S 167 x(initial)S -2 x(ization)S 166 x(code)S
166 x(which)S 167 x(is)S 166 x(guaranteed)S 166 x(to)S 167 x(be)S 167 x
(run)S 4945 X 647 y(only)S 182 x(once)S 183 x(during)S 182 x(the)S 182 x
(execution)S 183 x(of)S 183 x(the)S 182 x(client)S 182 x(program.)S
21509 37373 XY F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(65)S
%%EndCustomColor: 0
70 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Helvetica-BoldOblique
%%+ Courier Helvetica NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 66 71
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(Some)S 127 x(languages)S 126 x(may)S 127 x(provide)S
126 x(equivalen)S -2 x(t)S 127 x(functions)S 127 x(for)S 128 x(initia)S
-2 x(lizati)S -2 x(on.)S 225 x(If)S 128 x(the)S 127 x(language)S 126 x
(supp)S -2 x(orts)S 3899 X 648 y(CMA)S 207 x(threads,)S 213 x(it)S 207 x
(may)S 207 x(not)S 207 x(be)S 207 x(necessary)S 207 x(for)S 208 x(the)S
207 x(client)S 207 x(code)S 207 x(to)S 207 x(make)S 207 x(use)S 207 x
(of)S 208 x(these)S 207 x(operations)S 3899 X 647 y(directly)S -61 x
(.)S 226 x(For)S 129 x(example,)S 139 x(in)S 128 x(an)S 129 x(implemen)S
-2 x(tation)S 129 x(of)S 129 x(Ada)S 127 x(where)S 130 x(tasks)S 128 x
(were)S 129 x(based)S 127 x(on)S 129 x(CMA)S 128 x(threads,)S 3899 X
648 y(Ada)S 181 x(packages)S 182 x(could)S 182 x(use)S 182 x(the)S 182 x
(built-in)S 182 x(language)S 181 x(features)S 183 x(for)S 183 x(initial)S
-2 x(ization.)S 3899 7443 XY F32(4.5.1)S 547 x(CMA)S 183 x(Service)S
182 x(Initiali)S 2 x(zation)S 3899 8440 XY F147(The)S 246 x(operation)S
245 x(described)S 244 x(in)S 245 x(this)S 246 x(section)S 245 x F148
(must)S 246 x F147(be)S 245 x(called)S 245 x(before)S 246 x(a)S 246 x
(client)S 245 x(can)S 245 x(use)S 246 x(any)S 245 x(other)S 3899 X 647 y
(CMA)S 209 x(operations.)S 324 x(This)S 209 x(allows)S 209 x(the)S 209 x
(CMA)S 210 x(package)S 209 x(to)S 210 x(initi)S -2 x(alize)S 208 x(internal)S
209 x(storage)S 210 x(and)S 209 x(process-)S 3899 X 648 y(wide)S 182 x
(state)S 182 x(which)S 183 x(is)S 182 x(necessary)S 182 x(to)S 183 x
(supp)S -2 x(ort)S 183 x(CMA)S 182 x(operations.)S 3899 11130 XY F32
(4.5.1.1)S 547 x F33(cma_init)S 3899 X 896 y F147(Before)S 141 x(calli)S
-2 x(ng)S 141 x(any)S 140 x(other)S 140 x(CMA)S 140 x(services,)S 149 x
(the)S 140 x(client)S 140 x(must)S 140 x(initial)S -2 x(ize)S 140 x
(the)S 140 x(CMA)S 140 x(package)S 139 x(by)S 141 x(calli)S -2 x(ng)S
3899 X 648 y(the)S 182 x(procedure)S 183 x(that)S 182 x(has)S 182 x
(the)S 182 x(following)S 183 x(declarati)S -2 x(on:)S 4945 13720 XY
F98(procedure)S 269 x(CMA_INIT;)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_init)S 269 x(\(\);)S 3899 17107 XY
23316 48 R 3899 17705 XY F38(Error)S 10026 X(Kind)S 149 x(of)S 150 x
(Error)S 14409 X(Description)S 3899 X 299 y 23316 48 R 3899 18701 XY
(cma_e_)S 2 x(inialrpro)S 10026 X(ill)S -2 x(egal)S 14409 X(The)S 148 x
F148(cma_init)S 148 x F38(opera)S 2 x(tion)S 147 x(was)S 147 x(called)S
148 x(while)S 146 x(the)S 148 x(\211rst)S 148 x(call)S 147 x(is)S 147 x
(still)S 146 x(in)S 14409 X 548 y(prog)S 2 x(ress.)S 3899 X 299 y 23316 48 R
3899 20544 XY F147(Call)S -2 x(ing)S 162 x(this)S 161 x(procedure)S
161 x(causes)S 161 x(the)S 162 x(CMA)S 162 x(services)S 161 x(to)S 162 x
(be)S 162 x(initi)S -2 x(alized)S 160 x(for)S 163 x(use.)S 236 x(If)S
163 x(this)S 161 x(procedure)S 161 x(is)S 3899 X 648 y(called)S 139 x
(more)S 141 x(than)S 140 x(once,)S 149 x(the)S 141 x(add)S -2 x(itional)S
139 x(calls)S 140 x(are)S 140 x(harmless.)S 229 x(The)S 140 x(\211rst)S
141 x(call)S 140 x(may)S 140 x(result)S 140 x(in)S 140 x(changes)S 3899 X
647 y(to)S 149 x(the)S 149 x(execution)S 149 x(environment)S 148 x(to)S
149 x(cause)S 149 x(a)S 148 x(single-threaded)S 147 x(process)S 149 x
(to)S 149 x(appea)S -2 x(r)S 149 x(as)S 149 x(a)S 148 x(CMA)S 149 x
(thread.)S 3899 22836 XY(If)S 231 x(a)S 230 x(second)S 230 x(call)S
230 x(is)S 230 x(made)S 229 x(to)S 231 x F148(cma_init)S 231 x F147
(while)S 230 x(the)S 231 x(\211rst)S 230 x(call)S 230 x(is)S 230 x(still)S
229 x(in)S 230 x(progress,)S 242 x(the)S 231 x(exception)S 3899 X 647 y
F149(cma_e)S -2 x(_inialrpro)S 184 x F147(is)S 182 x(raised)S -2 x(.)S
3899 24480 XY(A)S 182 x(speci\211c)S 181 x(implementa)S -2 x(tion)S
182 x(or)S 183 x(langua)S -2 x(ge)S 183 x(bind)S -2 x(ing)S 182 x(may)S
182 x(waive)S 182 x(the)S 182 x(requirement)S 182 x(to)S 182 x(call)S
182 x(this)S 181 x(rou-)S 3899 X 647 y(tine.)S 251 x(However)S -39 x
(,)S 186 x(client)S 185 x(code)S 185 x(that)S 185 x(does)S 184 x(not)S
185 x(call)S 185 x F148(cma_init)S 186 x F147(directly)S 184 x(may)S
186 x(not)S 185 x(be)S 185 x(portable)S 184 x(to)S 185 x(other)S 3899 X
648 y(implementa)S -2 x(tions.)S 3899 27269 XY F32(4.5.2)S 547 x(Client)S
183 x(One-time)S 184 x(Initializati)S 2 x(on)S 3899 28265 XY F147(The)S
255 x(operation)S 254 x(described)S 253 x(in)S 254 x(this)S 254 x(section)S
254 x(allows)S 254 x(clients)S 254 x(of)S 255 x(the)S 255 x(CMA)S 254 x
(package)S 254 x(to)S 255 x(guarantee)S 3899 X 648 y(that)S 191 x(initi)S
-2 x(aliza)S -2 x(tion)S 191 x(is)S 190 x(performed)S 191 x(exactly)S
192 x(once,)S 193 x(even)S 191 x(if)S 191 x(attempted)S 190 x(simultaneous)S
-2 x(ly)S 191 x(by)S 191 x(multipl)S -2 x(e)S 3899 X 647 y(threads.)S
269 x(For)S 192 x(example,)S 194 x(a)S 191 x(mutex)S 191 x(\(Section)S
192 x(4.4.2.1\))S 192 x(or)S 192 x(a)S 191 x(per)S -10 x(-thread)S 191 x
(context)S 192 x(key)S 191 x(\(Sect)S 2 x(ion)S 190 x(4.6.1\))S 3899 X
648 y(must)S 231 x(be)S 231 x(created)S 231 x(exactly)S 231 x(once.)S
390 x(If)S 232 x(the)S 231 x(code)S 231 x(that)S 231 x(performs)S 232 x
(these)S 231 x(creations)S 231 x(can)S 231 x(be)S 231 x(called)S 230 x
(by)S 3899 X 648 y(multipl)S -2 x(e)S 178 x(threads,)S 178 x(then)S
177 x(the)S 177 x(execution)S 177 x(must)S 177 x(be)S 177 x(serializ)S
-2 x(ed)S 177 x(in)S 177 x(such)S 177 x(a)S 177 x(way)S 178 x(that)S
177 x(only)S 177 x(one)S 177 x(thread)S 3899 X 647 y(performs)S 182 x
(the)S 182 x(initial)S -2 x(ization.)S 242 x(Other)S 183 x(threads)S
181 x(that)S 182 x(reach)S 182 x(that)S 182 x(point)S 181 x(in)S 182 x
(the)S 182 x(code)S 182 x(will)S 181 x(be)S 182 x(delayed)S 3899 X 648 y
(until)S 181 x(the)S 183 x(\211rst)S 183 x(is)S 182 x(\211nis)S -2 x
(hed.)S 3899 33147 XY(This)S 185 x(section)S 186 x(describes)S 184 x
(a)S 186 x(service)S 185 x(to)S 186 x(declare)S 185 x(a)S 186 x(one-time)S
186 x(initia)S -2 x(lizati)S -2 x(on)S 186 x(section)S 185 x(that)S
186 x(can)S 185 x(be)S 186 x(exe-)S 3899 X 648 y(cuted)S 182 x(by)S
183 x(only)S 182 x(one)S 182 x(thread,)S 183 x(a)S 182 x(single)S 182 x
(time.)S 3899 37373 XY F36(66)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
71 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Helvetica-BoldOblique
%%+ Courier Helvetica NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 67 72
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3996 XY F32(4.5.2.1)S 547 x F33(cma_t_once)S 181 x F32(structure)S
3899 X 896 y F147(The)S 165 x F148(cma_t_once)S 165 x F147(structure)S
166 x(is)S 164 x(a)S 165 x(record)S 165 x(that)S 165 x(allows)S 164 x
(the)S 165 x(CMA)S 165 x(client)S 164 x(initial)S -2 x(ization)S 164 x
(operations)S 163 x(to)S 3899 X 648 y(guarantee)S 189 x(mutual)S 189 x
(exclusion)S 188 x(of)S 190 x(access)S 189 x(to)S 190 x(the)S 189 x
(initial)S -2 x(ization)S 188 x(routine,)S 191 x(and)S 189 x(that)S
189 x(each)S 189 x(initial)S -2 x(iza-)S 3899 X 647 y(tion)S 182 x(routine)S
182 x(will)S 182 x(be)S 182 x(executed)S 183 x(exactly)S 183 x(once.)S
3899 7184 XY(The)S 219 x(client)S 218 x(code)S 219 x(must)S 218 x(declare)S
219 x(a)S 218 x(variable)S 218 x(of)S 219 x(type)S 219 x F148(cma_t_once)S
218 x F147(to)S 219 x(use)S 219 x(the)S 218 x(CMA)S 219 x(client)S 218 x
(initia)S -2 x(l-)S 3899 X 647 y(izati)S -2 x(on)S 177 x(operations.)S
240 x(In)S 177 x(a)S 176 x(language)S 176 x(such)S 177 x(as)S 176 x
(Ada)S -2 x(,)S 179 x(which)S 176 x(allows)S 176 x(the)S 176 x(CMA)S
177 x(interface)S 177 x(bind)S -2 x(ings)S 176 x(to)S 3899 X 648 y(de\211ne)S
182 x(the)S 182 x(initial)S 181 x(value)S 182 x(of)S 183 x(such)S 182 x
(a)S 182 x(structure)S 183 x(type,)S 183 x(the)S 183 x(variable)S 181 x
(could)S 182 x(be)S 182 x(declared)S 182 x(as:)S 6021 X 747 y F98(init_block)S
269 x(:)S 269 x(cma_t_once;)S 3899 10222 XY F147(In)S 213 x(other)S
213 x(langua)S -2 x(ges,)S 221 x(such)S 213 x(as)S 212 x(C,)S 213 x
(the)S 213 x(client)S 212 x(source)S 213 x(code)S 213 x(must)S 212 x
(specify)S 213 x(the)S 213 x(initia)S -2 x(l)S 213 x(value)S 212 x(of)S
214 x(the)S 3899 X 648 y(structure)S 178 x(\211eld)S -2 x(s.)S 242 x
(In)S 177 x(general,)S 179 x(this)S 176 x(cannot)S 177 x(be)S 177 x
(done)S 176 x(in)S 177 x(a)S 177 x(portable)S 176 x(fashion.)S 241 x
(Therefore,)S 180 x(the)S 177 x(inter-)S 3899 X 647 y(face)S 134 x(bindi)S
-2 x(ngs)S 134 x(for)S 135 x(such)S 133 x(languages)S 133 x(must)S 134 x
(provide)S 133 x(a)S 134 x(portable)S 132 x(mechanism)S 134 x(for)S
134 x(properly)S 134 x(initi)S -2 x(alizi)S -2 x(ng)S 3899 X 648 y(the)S
196 x(structure)S 196 x(when)S 196 x(the)S 195 x(program)S 196 x(is)S
196 x(compiled)S -2 x(.)S 284 x(In)S 195 x(the)S 196 x(C)S 196 x(langua)S
-2 x(ge)S 196 x(bindin)S -2 x(g,)S 200 x(for)S 197 x(example,)S 198 x
(this)S 3899 X 648 y(is)S 182 x(done)S 182 x(by)S 182 x(de\211ning)S
182 x(a)S 182 x(macro)S 183 x(in)S 182 x(the)S 183 x(CMA.h)S 182 x(includ)S
-2 x(e)S 183 x(\211le:)S 4945 X 747 y F98(#define)S 269 x(cma_once_init)S
807 x({0,)S 269 x(0,)S 269 x(0})S 3899 14556 XY F147(CMA)S 125 x(client)S
125 x(code)S 125 x(written)S 125 x(in)S 125 x(C)S 125 x(must)S 125 x
(use)S 125 x(this)S 125 x(macro)S 125 x(to)S 126 x(declare)S 125 x F148
(cma_t_once)S 125 x F147(variables,)S 136 x(as)S 125 x(follows:)S 6021 X
747 y F98(static)S 269 x(cma_t_once)S 269 x(myOnceBlock)S 269 x(=)S
269 x(cma_once_init;)S 3899 16299 XY F147(This)S 146 x(can)S 147 x(app)S
-2 x(ear)S 147 x(anywhere)S 147 x(a)S 146 x(static)S 146 x(declaration)S
145 x(can)S 147 x(be)S 146 x(made.)S 231 x(Each)S 146 x(language)S 146 x
(interface)S 147 x(should)S 3899 X 648 y(provide)S 132 x(an)S 132 x
(equival)S -2 x(ent)S 133 x(mechanism,)S 142 x(if)S 133 x(possi)S -2 x
(ble.)S 227 x(When)S 132 x(usin)S -2 x(g)S 133 x(languages)S 132 x(which)S
132 x(lack)S 132 x(both)S 133 x(a)S 132 x(type-)S 3899 X 648 y(based)S
197 x(initia)S -2 x(lization)S 197 x(capabi)S -2 x(lity)S 199 x(and)S
197 x(any)S 199 x(macro)S 199 x(capab)S -2 x(ilities,)S 202 x(the)S
198 x(programmer)S 199 x(must)S 199 x(explici)S -2 x(tly)S 3899 X 647 y
(initia)S -2 x(lize)S 208 x(the)S 210 x F148(cma_t_once)S 209 x F147
(structure)S 210 x(to)S 209 x(the)S 209 x(appropria)S -2 x(te)S 210 x
(values)S 208 x(at)S 209 x(compile)S 209 x(or)S 209 x(link)S 209 x(time.)S
323 x(The)S 3899 X 648 y F148(cma_t_once)S 174 x F147(\211elds,)S 175 x
(and)S 174 x(their)S 174 x(required)S 174 x(values)S -2 x(,)S 177 x
(must)S 174 x(be)S 174 x(documented)S 174 x(by)S 174 x(each)S 174 x
(implementati)S -2 x(on.)S 3899 20285 XY F32(4.5.2.2)S 547 x F33(cma_once)S
3899 X 896 y F147(A)S 262 x(client)S 262 x(can)S 263 x(call)S 261 x
(a)S 263 x(one-time)S 262 x(initial)S -2 x(ization)S 261 x(routine)S
263 x(by)S 262 x(calling)S 262 x(the)S 262 x(procedure)S 262 x(that)S
263 x(has)S 262 x(the)S 3899 X 648 y(following)S 182 x(declaration:)S
4945 22875 XY F98(procedure)S 269 x(CMA_ONCE)S 269 x(\()S 8173 X 498 y
(INIT_BLOCK)S 807 x(:)S 269 x(in)S 269 x(CMA_T_ONCE;)S 8173 X 498 y
(INIT_ROUTINE)S 269 x(:)S 269 x(in)S 269 x(CMA_T_INIT_ROUTINE;)S 8173 X
498 y(ARG)S 11670 X(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_once)S 269 x(\()S 6021 X 499 y
(cma_t_once)S 11401 X(*init_block,)S 6021 X 498 y(cma_t_init_routine)S
538 x(init_routine,)S 6021 X 498 y(cma_t_address)S 11401 X(arg\);)S
3899 28952 XY F147(Parameters:)S 3899 X 897 y F38(init_block)S 8282 X
(The)S 150 x(addre)S 2 x(ss)S 149 x(of)S 150 x(a)S 149 x(control)S 150 x
(recor)S 2 x(d)S 149 x(used)S 151 x(to)S 149 x(synchro)S 2 x(nize)S
149 x(access)S 151 x(to)S 149 x(one-time)S 151 x(initi)S -2 x(alization)S
149 x(code.)S 3899 X 697 y(init_routine)S 8282 X(The)S 150 x(addre)S
2 x(ss)S 149 x(of)S 150 x(a)S 149 x(proce)S 2 x(dure)S 150 x(which)S
150 x(wil)S -2 x(l)S 149 x(perform)S 151 x(the)S 150 x(necessar)S 2 x
(y)S 149 x(initial)S -2 x(ization.)S 3899 X 697 y(arg)S 8282 X(The)S
150 x(argum)S 2 x(ent)S 149 x(value)S 150 x(to)S 150 x(be)S 150 x(passed)S
150 x(to)S 150 x(the)S 149 x F40(init_routine)S F38(.)S 3899 32240 XY
23316 48 R 3899 32837 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 33834 XY(cma_e_)S
2 x(badparam)S 10026 X(unpredictable)S 14409 X(One)S 150 x(or)S 150 x
(more)S 151 x(parame)S 2 x(ters)S 149 x(supplied)S 150 x(had)S 151 x
(an)S 150 x(invalid)S 149 x(value.)S 3899 X 299 y 23316 48 R 21509 37373 XY
F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(67)S
%%EndCustomColor: 0
72 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica-BoldOblique
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ Courier Helvetica
%%PageCustomColors: 0
%
%%Page: 68 73
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(The)S 154 x(`)S -10 x(`init)S 153 x(routine')S -10 x
(')S 154 x(is)S 153 x(a)S 154 x(function)S 154 x(of)S 155 x(type)S 154 x
F148(cma_t_init_routine)S F147(.)S 235 x(The)S 155 x(function)S 154 x
(takes)S 153 x(one)S 154 x(argument)S 3899 X 648 y(of)S 212 x(type)S
212 x F148(cma_t_add)S -2 x(ress)S 213 x F147(and)S 211 x(does)S 211 x
(not)S 212 x(return)S 211 x(a)S 212 x(value.)S 330 x(For)S 213 x(example,)S
218 x(the)S 212 x(following)S 211 x(routine)S 211 x(is)S 3899 X 647 y
(compatibl)S -2 x(e)S 183 x(with)S 183 x(the)S 182 x F148(cma_t_init_routine)S
184 x F147(type:)S 4945 6348 XY F98(procedure)S 269 x(INIT_ROUTINE)S
269 x(\()S 7097 X 498 y(ARG)S 9249 X(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\);)S
4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(init_routine)S 269 x(\()S 7097 X 498 y
(cma_t_address)S 807 x(arg\);)S 3899 10432 XY F147(This)S 194 x(operation)S
193 x(initia)S -2 x(lizes)S 193 x(the)S 194 x(control)S 195 x(record)S
194 x(if)S 195 x(it)S 194 x(has)S 193 x(not)S 194 x(already)S 194 x
(been)S 193 x(initial)S -2 x(ized,)S 196 x(and)S 194 x(then)S 3899 X
648 y(determines)S 165 x(whether)S 167 x(the)S 167 x(client)S 165 x
(one-time)S 167 x(initia)S -2 x(lizati)S -2 x(on)S 167 x(associa)S -2 x
(ted)S 166 x(with)S 167 x(the)S 166 x(control)S 167 x(record)S 166 x
(has)S 3899 X 647 y(already)S 243 x(executed)S 245 x(once.)S 430 x(If)S
245 x(it)S 244 x(has)S 244 x(not)S 245 x(\(this)S 244 x(is)S 244 x(the)S
244 x(\211rst)S 245 x(time\),)S 261 x(then)S 244 x(the)S 245 x(operation)S
243 x(calls)S 244 x(the)S 3899 X 648 y(initia)S -2 x(lizati)S -2 x(on)S
200 x(procedure)S 200 x(speci\211ed)S 198 x(by)S 200 x F148(init_routine)S
F147(.)S 297 x(If)S 200 x(the)S 200 x(one-time)S 200 x(initial)S -2 x
(ization)S 198 x(has)S 200 x(alread)S -2 x(y)S 3899 X 647 y(been)S 182 x
(executed,)S 183 x F148(cma_once)S 183 x F147(simpl)S -2 x(y)S 183 x
(returns.)S 3899 14019 XY(Because)S 207 x(the)S 208 x(client)S 208 x
(initi)S -2 x(aliza)S -2 x(tion)S 208 x(routine)S 208 x(takes)S 207 x
(an)S 208 x(argument,)S 215 x(a)S 207 x(single)S 207 x(initial)S -2 x
(ization)S 207 x(routine)S 3899 X 647 y(may)S 263 x(be)S 262 x(used)S
261 x(to)S 263 x(initial)S -2 x(ize)S 262 x(any)S 262 x(number)S 263 x
(of)S 263 x(objects.)S 484 x(For)S 263 x(example,)S 282 x(a)S 262 x
(`)S -10 x(`create)S 263 x(global)S 261 x(mutex')S -9 x(')S 3899 X 648 y
(initia)S -2 x(lizati)S -2 x(on)S 176 x(routine)S 175 x(might)S 176 x
(take)S 175 x(the)S 176 x(address)S 174 x(of)S 176 x(a)S 176 x F148
(cma_t_mutex)S 175 x F147(variable,)S 177 x(which)S 175 x(is)S 175 x
(to)S 176 x(receive)S 3899 X 647 y(the)S 270 x(handl)S -2 x(e)S 270 x
(of)S 271 x(a)S 270 x(new)S 270 x(mutex.)S 506 x(However)S -39 x(,)S
292 x(be)S 270 x(aware)S 270 x(that)S 270 x(you)S 270 x(can')S -11 x
(t)S 271 x(make)S 269 x(every)S 271 x(call)S 269 x(to)S 271 x(the)S
3899 X 648 y(initia)S -2 x(lizati)S -2 x(on)S 173 x(routine)S 172 x
(using)S 172 x(the)S 173 x(same)S 172 x(control)S 173 x(block;)S 176 x
(it)S 172 x(would)S 172 x(only)S 173 x(be)S 172 x(called)S 172 x(once.)S
240 x(Effectively)S -60 x(,)S 3899 X 648 y(each)S 182 x F148(value)S
183 x F147(of)S 183 x(the)S 183 x(argument)S 183 x(must)S 182 x(be)S
182 x(associated)S 181 x(with)S 183 x(its)S 182 x(own)S 183 x(control)S
182 x(block.)S 3899 18253 XY(The)S 227 x(result)S 227 x(of)S 228 x(this)S
226 x(operation)S 226 x(is)S 227 x(unpredi)S -2 x(ctable)S 227 x(if)S
227 x(the)S 227 x F148(init_block)S 228 x F147(is)S 226 x(not)S 227 x
(a)S 227 x(properly)S 227 x(initia)S -2 x(lized)S 3899 X 647 y(one-time)S
168 x(initia)S -2 x(lizati)S -2 x(on)S 168 x(block.)S 238 x(If)S 169 x
(an)S 167 x(implementa)S -2 x(tion)S 168 x(reports)S 168 x(this)S 167 x
(error)S -40 x(,)S 171 x(it)S 168 x(will)S 167 x(raise)S 167 x(the)S
167 x F149(cma_)S 3899 X 648 y(e_badparam)S 182 x F147(exception.)S
3899 20943 XY F32(4.5.2.3)S 547 x(Example:)S 244 x(client)S 183 x(one-time)S
183 x(initiali)S 2 x(zation)S 3899 X 896 y F147(The)S 153 x(following)S
152 x(C)S 152 x(code)S 152 x(segment)S 152 x(declares)S 152 x(a)S 152 x
(one-time)S 153 x(initi)S -2 x(aliza)S -2 x(tion)S 152 x(section)S 152 x
(that)S 153 x(creates)S 152 x(a)S 152 x(mutex)S 3899 X 648 y(for)S 183 x
(later)S 183 x(use.)S 4945 X 747 y F98(#include)S 269 x(<CMA>)S 4945 X
498 y(static)S 269 x(cma_t_once)S 269 x(make_my_mutex)S 269 x(=)S 269 x
(cma_once_init;)S 269 x F169(!)S 4945 X 595 y F98(static)S 269 x(cma_t_mutex)S
11939 X(my_mutex;)S 269 x F169(")S 6021 X 498 y F98(.)S -269 x 498 y
(.)S -269 x 498 y(.)S 4945 X 498 y(void)S 269 x(initialize_mutex)S 269 x
(\(cma_t_address)S 269 x(arg\))S 269 x({)S 269 x F169(#)S 6021 X 499 y
F98(cma_t_mutex)S 269 x(*mutex)S 269 x(=)S 269 x(\(cma_t_mutex)S 269 x
(*\)arg;)S 6021 X 797 y(cma_mutex_create)S 269 x(\(mutex,)S 269 x(&cma_c_null\);)S
6021 X 498 y(})S -269 x 498 y(.)S -269 x 498 y(.)S -269 x 498 y(.)S
-269 x 498 y(cma_once)S 269 x(\(&make_my_mutex,)S 269 x(initialize_mutex,)S
269 x(&my_mutex\);)S 268 x F169($)S 3899 X 897 y(!)S 598 x F147(Declare)S
183 x(the)S 182 x F148(cma_t_once)S 183 x F147(that)S 182 x(de\211nes)S
182 x(the)S 182 x(particular)S 182 x(one-time)S 183 x(initi)S -2 x(aliza)S
-2 x(tion)S 183 x(code.)S 3899 X 896 y F169(")S 598 x F147(Declare)S
183 x(the)S 182 x(mutex)S 183 x(we)S 183 x(wish)S 182 x(to)S 183 x(initia)S
-2 x(lize.)S 3899 X 897 y F169(#)S 598 x F147(Declare)S 260 x(the)S
260 x(initial)S -2 x(ization)S 259 x(routine)S 260 x(which)S 260 x(will)S
259 x(create)S 260 x(a)S 260 x(mutex,)S 280 x(given)S 261 x(the)S 260 x
(add)S -2 x(ress)S 260 x(of)S 261 x(a)S 4945 X 648 y(mutex)S 183 x(handl)S
-2 x(e.)S 3899 37373 XY F36(68)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
73 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Courier NewCenturySchlbk-Bold
%%+ DEC_Callout
%%PageCustomColors: 0
%
%%Page: 69 74
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4015 XY F169($)S 598 x F147(Call)S 222 x F148(cma_once)S 224 x
F147(with)S 223 x(the)S 223 x(initial)S -2 x(ization)S 222 x(control)S
223 x(block,)S 234 x(initia)S -2 x(lizati)S -2 x(on)S 224 x(routine,)S
233 x(and)S 222 x(the)S 224 x(ad-)S 4945 X 647 y(dress)S 181 x(of)S
181 x(the)S 182 x(mutex)S 181 x(to)S 182 x(be)S 181 x(created.)S 243 x
(If)S 182 x(no)S 181 x(thread)S 181 x(has)S 181 x(alread)S -2 x(y)S
182 x(performed)S 181 x(the)S 182 x(initia)S -2 x(lizati)S -2 x(on,)S
4945 X 648 y(it)S 182 x(will)S 182 x(be)S 182 x(called.)S 243 x(Otherwise,)S
183 x F148(cma_once)S 183 x F147(will)S 182 x(simpl)S -2 x(y)S 183 x
(return.)S 3899 6804 XY F28(4.6)S 599 x(Client)S 199 x(Per-Thread)S
200 x(Context)S 3899 7800 XY F147(The)S 156 x(CMA)S 156 x(architecture)S
157 x(de\211nes)S 155 x(a)S 156 x(mechanism)S 155 x(whereby)S 157 x
(client)S 156 x(software)S 157 x(can)S 156 x(associa)S -2 x(te)S 157 x
(arbitrary)S 3899 X 648 y(context)S 148 x(information)S 146 x(with)S
147 x(the)S 147 x(current)S 148 x(thread.)S 232 x(\(This)S 147 x(mechanism)S
146 x(can)S 147 x(be)S 147 x(thought)S 147 x(of)S 148 x(as)S 146 x(a)S
147 x(means)S 3899 X 648 y(for)S 175 x(a)S 174 x(client)S 173 x(to)S
174 x(add)S 173 x(its)S 174 x(own)S 174 x(uniqu)S -2 x(e)S 175 x(\211eld)S
-2 x(s)S 174 x(to)S 175 x(the)S 174 x(CMA)S 173 x(implementati)S -2 x
(on')S -20 x(s)S 174 x(thread)S 173 x(control)S 174 x(block\).)S 3899 10092 XY
(For)S 246 x(example,)S 261 x(this)S 245 x(mechanis)S -2 x(m)S 246 x
(can)S 245 x(be)S 245 x(used)S 245 x(by)S 245 x(a)S 246 x(langua)S -2 x
(ge)S 246 x(run-time)S 246 x(library)S 245 x(that)S 245 x(needs)S 244 x
(to)S 3899 X 647 y(associa)S -2 x(te)S 195 x(a)S 193 x(language-speci\211)S
-2 x(c)S 195 x(thread-private)S 193 x(data)S 193 x(structure)S 194 x
(with)S 194 x(an)S 193 x(individ)S -2 x(ual)S 193 x(thread.)S 277 x
(The)S 3899 X 648 y(context)S 193 x(can)S 192 x(be)S 191 x(arbitrary)S
192 x(data,)S 194 x(of)S 193 x(any)S 192 x(size.)S 271 x(These)S 192 x
(operations)S 191 x(also)S 191 x(provide)S 191 x(a)S 192 x(portable)S
191 x(means)S 3899 X 648 y(of)S 172 x(implementin)S -2 x(g)S 172 x(the)S
172 x(class)S 171 x(of)S 172 x(storage)S 172 x(called)S 171 x(`)S -11 x
(`thread-private)S 171 x(static')S -10 x(',)S 174 x(which)S 171 x(is)S
172 x(needed)S 170 x(in)S 171 x(order)S 3899 X 647 y(to)S 183 x(supp)S
-2 x(ort)S 183 x(parallel)S 181 x(decomposi)S -2 x(tion)S 183 x(in)S
182 x(the)S 182 x(FORTRAN)S 183 x(langua)S -2 x(ge.)S 3899 13678 XY
(The)S 204 x(CMA)S 204 x(per)S -10 x(-thread)S 204 x(context)S 205 x
(services)S 204 x(implement)S 203 x(a)S 204 x(simple)S 203 x(associative)S
203 x(memory)S 205 x(where)S 205 x(each)S 3899 X 648 y(thread)S 234 x
(can)S 234 x(have)S 234 x(a)S 234 x(number)S 235 x(of)S 235 x(`)S -10 x
(`context)S 234 x(values')S -11 x(',)S 248 x(each)S 234 x(identi\211ed)S
233 x(by)S 234 x(a)S 234 x(unique)S 233 x(key)S 235 x(value.)S 399 x
(A)S 3899 X 648 y(context)S 223 x(value)S 221 x(is)S 222 x(an)S 221 x
(arbitrary)S 223 x(add)S -2 x(ress)S 222 x(generated)S 222 x(by)S 222 x
(the)S 222 x(client.)S 362 x(A)S 222 x(key)S 223 x(is)S 221 x(a)S 222 x
(unique)S 221 x(number)S 3899 X 647 y(generated)S 257 x(by)S 258 x(CMA.)S
257 x(The)S 258 x(same)S 257 x(key)S 258 x(is)S 257 x(used)S 257 x(in)S
257 x(all)S 257 x(threads)S 257 x(to)S 257 x(identify)S 258 x(a)S 257 x
(given)S 257 x(category)S 259 x(of)S 3899 X 648 y(context.)S 3899 17265 XY
(Through)S 191 x(these)S 190 x(CMA)S 190 x(mechanisms,)S 192 x(a)S 190 x
(client)S 190 x(can)S 190 x(associate)S 190 x(its)S 190 x(own)S 190 x
(unique)S 190 x(context)S 191 x(value)S 190 x(with)S 3899 X 648 y(each)S
182 x(thread)S 182 x(within)S 182 x(a)S 182 x(process.)S 3899 18909 XY
(The)S 183 x(operations)S 181 x(described)S 181 x(in)S 182 x(this)S
182 x(section)S 182 x(are)S 183 x(used)S 181 x(to:)S 3899 X 896 y(\201)S
714 x(Create)S 182 x(a)S 183 x F148(key)S 182 x F147(value)S 182 x(that)S
182 x(is)S 182 x(unique)S 182 x(to)S 182 x(the)S 183 x(current)S 183 x
(appli)S -2 x(cation)S 182 x(invocation.)S 3899 X 897 y(\201)S 714 x
(Create)S 182 x(a)S 183 x(context)S 183 x(value)S 182 x(identi)S -2 x
(\211ed)S 182 x(by)S 183 x(a)S 182 x(key)S 183 x(and)S 182 x(associ)S
-2 x(ated)S 182 x(with)S 183 x(the)S 182 x(current)S 184 x(thread.)S
3899 X 897 y(\201)S 714 x(Retrieve)S 182 x(a)S 183 x(context)S 183 x
(value)S 182 x(identi\211)S -2 x(ed)S 182 x(by)S 183 x(a)S 182 x(key)S
183 x(and)S 182 x(associa)S -2 x(ted)S 183 x(with)S 182 x(the)S 183 x
(current)S 183 x(thread.)S 3899 22695 XY(When)S 238 x(a)S 238 x(thread)S
239 x(terminates,)S 252 x(per)S -10 x(-thread)S 239 x(context)S 239 x
(is)S 239 x(automatical)S -2 x(ly)S 239 x(destroyed.)S 412 x(For)S 239 x
(each)S 239 x(per)S -10 x(-)S 3899 X 647 y(thread)S 220 x(context)S
221 x(currently)S 221 x(associ)S -2 x(ated)S 220 x(with)S 220 x(the)S
221 x(thread,)S 229 x(CMA)S 220 x(will)S 220 x(call)S 219 x(the)S 221 x
F148(destructor)S 221 x F147(routine)S 3899 X 648 y(associa)S -2 x(ted)S
225 x(with)S 225 x(the)S 224 x(key)S 225 x(value)S 224 x(of)S 225 x
(that)S 225 x(context.)S 371 x(The)S 225 x(order)S 225 x(in)S 224 x
(which)S 225 x(per)S -11 x(-thread)S 225 x(context)S 226 x(de-)S 3899 X
647 y(structors)S 176 x(are)S 177 x(called)S 175 x(at)S 176 x(thread)S
175 x(termination)S 176 x(is)S 175 x F148(unde\211ned)S F147(.)S 241 x
(Implementations)S 175 x(may)S 176 x(provide)S 175 x(non-)S 3899 X 648 y
(portable)S 181 x(per)S -10 x(-thread)S 183 x(context)S 183 x(attributes)S
182 x(to)S 183 x(exert)S 183 x(control)S 183 x(over)S 183 x(this)S 182 x
(ordering.)S 3899 26779 XY F32(4.6.1)S 547 x F33(cma_key_)S -2 x(create)S
3899 27776 XY F147(A)S 173 x(client)S 173 x(can)S 173 x(request)S 173 x
(that)S 173 x(CMA)S 173 x(generate)S 173 x(a)S 173 x(unique)S 172 x
(key)S 174 x(by)S 173 x(calling)S 172 x(the)S 174 x(procedure)S 173 x
(that)S 173 x(has)S 173 x(the)S 3899 X 647 y(following)S 182 x(declaration:)S
4945 29469 XY F98(procedure)S 269 x(CMA_KEY_CREATE)S 269 x(\()S 6021 X
498 y(KEY)S 8980 X(:)S 269 x(out)S 269 x(CMA_T_KEY;)S 6021 X 499 y(ATT)S
8980 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 6021 X 498 y(DESTRUCTOR)S
269 x(:)S 269 x(in)S 269 x(CMA_T_DESTRUCTOR\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_key_create)S 269 x(\()S 6021 X
498 y(cma_t_key)S 11401 X(*key,)S 6021 X 498 y(cma_t_attr)S 11401 X
(*att,)S 6021 X 498 y(cma_t_destructor)S 11401 X(destructor\);)S 21509 37373 XY
F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(69)S
%%EndCustomColor: 0
74 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold DEC_Callout
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%+ Helvetica-BoldOblique Courier
%%PageCustomColors: 0
%
%%Page: 70 75
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3985 XY F147(Parameters:)S 3899 X 897 y F38(key)S 8282 X(The)S
150 x(value)S 150 x(of)S 150 x(the)S 149 x(new)S 150 x(per-threa)S 2 x
(d)S 149 x(context)S 150 x(key)S 150 x(is)S 149 x(returne)S 2 x(d.)S
3899 X 698 y(att)S 8282 X(The)S 150 x(attributes)S 150 x(to)S 149 x
(be)S 150 x(used)S 150 x(when)S 150 x(creating)S 150 x(the)S 150 x(context)S
150 x(key)S -33 x(.)S 3899 X 697 y(destructor)S 8282 X(The)S 141 x(proced)S
2 x(ure)S 141 x(that)S 140 x(is)S 139 x(to)S 141 x(be)S 140 x(called)S
141 x(to)S 140 x(destroy)S 141 x(a)S 140 x(context)S 141 x(value)S 141 x
(associated)S 141 x(with)S 139 x(this)S 140 x(key)S 141 x(when)S 140 x
(the)S 8282 X 548 y(thread)S 151 x(terminates.)S 3899 7821 XY 23316 48 R
3899 8419 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 9415 XY(cma_e_)S 2 x(existence)S
10026 X(unpredictable)S 14409 X(The)S 150 x(object)S 150 x(speci\211ed)S
150 x(by)S 150 x(the)S 150 x(handle)S 150 x(does)S 151 x(not)S 149 x
(curren)S 2 x(tly)S 148 x(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S
2 x(r)S 10026 X(unpredictable)S 14409 X(The)S 193 x(operation)S 193 x
(requested)S 194 x(is)S 191 x(illegal)S 191 x(for)S 192 x(the)S 192 x
(type)S 193 x(of)S 192 x(object)S 192 x(or)S 192 x(the)S 14409 X 547 y
(state)S 150 x(of)S 149 x(the)S 150 x(object)S 149 x(passed)S 151 x
(in.)S 3899 X 299 y 23316 48 R 3899 11956 XY F147(The)S 177 x(`)S -10 x
(`des)S -2 x(tructor)S 178 x(routine')S -11 x(')S 177 x(is)S 175 x(a)S
177 x(function)S 176 x(of)S 177 x(type)S 176 x F148(cma_t_destructor)S
F147(.)S 242 x(The)S 177 x(function)S 177 x(takes)S 175 x(a)S 177 x
(singl)S -2 x(e)S 3899 X 647 y(argument)S 201 x(of)S 202 x(type)S 201 x
F148(cma_t_address)S F147(,)S 207 x(and)S 200 x(does)S 200 x(not)S 202 x
(return)S 201 x(a)S 201 x(value.)S 299 x(For)S 202 x(example,)S 206 x
(the)S 201 x(following)S 3899 X 648 y(routine)S 182 x(is)S 182 x(compatible)S
181 x(with)S 183 x(the)S 182 x F148(cma_t_destructor)S 183 x F147(type:)S
4945 14297 XY F98(procedure)S 269 x(DESTRUCTOR)S 269 x(\()S 7097 X 498 y
(ARG)S 9249 X(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\);)S 4945 X 797 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(destructor)S 269 x(\()S 7097 X 498 y
(cma_t_address)S 807 x(arg\);)S 3899 18381 XY F147(A)S 127 x(new)S 127 x
(key)S 127 x(value)S 126 x(is)S 127 x(generated)S 126 x(and)S 126 x
(returned.)S 225 x(Each)S 127 x(call)S 126 x(to)S 127 x F148(cma_key_create)S
128 x F147(within)S 126 x(a)S 127 x(process)S 126 x(will)S 3899 X 648 y
(return)S 186 x(a)S 185 x(unique)S 184 x(value.)S 252 x(Keys)S 186 x
(must)S 185 x(be)S 185 x(generated)S 186 x(from)S 186 x(initia)S -2 x
(lization)S 184 x(code)S 185 x(that)S 186 x(is)S 184 x(guaranteed)S
3899 X 648 y(to)S 200 x(be)S 200 x(called)S 199 x(only)S 199 x(once)S
201 x(within)S 199 x(each)S 200 x(process)S 199 x(\(such)S 201 x(as)S
199 x(the)S 200 x(initial)S -2 x(ization)S 199 x(mechanism)S 199 x(described)S
3899 X 647 y(in)S 182 x(Section)S 183 x(4.5.2\).)S 3899 X 897 y(\201)S
714 x(When)S 170 x(multipl)S -2 x(e)S 172 x(faciliti)S -2 x(es)S 171 x
(have)S 171 x(to)S 171 x(share)S 171 x(access)S 170 x(to)S 171 x(per)S
-10 x(-thread)S 171 x(context,)S 174 x(they)S 172 x(must)S 171 x(agree)S
171 x(on)S 4945 X 647 y(the)S 159 x(key)S 159 x(value)S 158 x(that)S
159 x(is)S 158 x(associated)S 157 x(with)S 159 x(the)S 159 x(context.)S
236 x(The)S 159 x(key)S 159 x(value)S 159 x(must)S 158 x(be)S 159 x
(stored)S 158 x(in)S 159 x(some)S 4945 X 648 y(agreed)S 150 x(upon)S
149 x(location,)S 157 x(and)S 149 x(must)S 150 x(be)S 150 x(created)S
150 x(only)S 150 x(once.)S 234 x(It)S 150 x(may)S 150 x(be)S 150 x(desirabl)S
-2 x(e)S 151 x(to)S 150 x(encapsula)S -2 x(te)S 4945 X 648 y(the)S 188 x
(creation)S 188 x(of)S 189 x(a)S 188 x(key)S -61 x(,)S 190 x(and)S 188 x
(the)S 188 x(setting)S 188 x(and)S 187 x(getting)S 189 x(of)S 188 x
(context)S 189 x(values)S 188 x(for)S 189 x(that)S 188 x(key)S -61 x
(,)S 190 x(within)S 4945 X 647 y(a)S 182 x(special)S 181 x(`)S -10 x
(`facility')S -11 x(')S 183 x(created)S 182 x(for)S 184 x(that)S 182 x
(purpose.)S 3899 X 897 y(\201)S 714 x(A)S 182 x(key)S 183 x(value)S
182 x(is)S 182 x(unique)S 181 x(within)S 182 x(an)S 182 x(appl)S -2 x
(ication)S 182 x(invocation.)S 3899 X 896 y(\201)S 714 x(An)S 220 x
(impl)S -2 x(ementation)S 220 x(may)S 220 x(choose)S 220 x(to)S 220 x
(prede\211ne)S 219 x(some)S 220 x(number)S 220 x(of)S 221 x(keys)S 220 x
(for)S 221 x(favored)S 220 x(clients,)S 4945 X 648 y(such)S 182 x(as)S
182 x(certain)S 183 x(compilers,)S 182 x(run-time)S 182 x(libraries,)S
182 x(or)S 183 x(debuggers.)S 3899 27746 XY F32(4.6.2)S 547 x F33(cma_key_)S
-2 x(set_context)S 3899 28743 XY F147(A)S 223 x(client)S 223 x(can)S
223 x(provide)S 223 x(a)S 223 x(per)S -10 x(-thread)S 223 x(context)S
224 x(value)S 223 x(identi\211e)S -2 x(d)S 224 x(by)S 223 x(a)S 223 x
(context)S 224 x(key)S 224 x(by)S 223 x(calling)S 223 x(the)S 3899 X
647 y(procedure)S 182 x(that)S 183 x(has)S 181 x(the)S 183 x(following)S
182 x(declaration:)S 4945 30436 XY F98(procedure)S 269 x(CMA_KEY_SET_CONTEXT)S
269 x(\()S 8173 X 498 y(KEY)S 11939 X(:)S 269 x(in)S 269 x(CMA_T_KEY;)S
8173 X 499 y(CONTEXT_VALUE)S 269 x(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\);)S
4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_key_set_context)S 269 x(\()S 6021 X
498 y(cma_t_key)S 11401 X(key,)S 6021 X 498 y(cma_t_address)S 11401 X
(context_value\);)S 3899 37373 XY F36(70)S 498 x(CMA)S 165 x(Core)S
166 x(Services)S
%%EndCustomColor: 0
75 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica NewCenturySchlbk-Italic
%%+Courier Helvetica-BoldOblique
%%PageCustomColors: 0
%
%%Page: 71 76
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3985 XY F147(Parameters:)S 3899 X 897 y F38(key)S 8282 X(A)S 166 x
(key)S 165 x(that)S 165 x(uniquely)S 166 x(identi\211es)S 165 x(the)S
165 x(particular)S 166 x(context)S 166 x(value)S 165 x(being)S 166 x
(provided.)S 247 x(This)S 165 x(must)S 166 x(be)S 165 x(a)S 166 x(key)S
8282 X 548 y(obtained)S 185 x(from)S 185 x F148(cma_key_create)S 184 x
F38(\(Section)S 184 x(4.6.1\),)S 193 x(or)S 184 x(must)S 185 x(be)S
184 x(a)S 185 x(key)S 184 x(value)S 185 x(prede\211ne)S 2 x(d)S 184 x
(by)S 184 x(the)S 8282 X 548 y(CMA)S 150 x(implementation)S 150 x(\(if)S
149 x(it)S 149 x(chooses)S 151 x(to)S 149 x(provide)S 150 x(such)S 151 x
(key)S 150 x(values\).)S 3899 X 697 y(context_value)S 8282 X(An)S 190 x
(address)S 190 x(that)S 189 x(is)S 188 x(to)S 189 x(be)S 190 x(associated)S
189 x(with)S 188 x(the)S 189 x(speci\211ed)S 190 x(key)S 190 x(for)S
189 x(the)S 189 x(curren)S 2 x(t)S 188 x(thread;)S 209 x(this)S 189 x
(is)S 188 x(the)S 8282 X 548 y(per-)S 2 x(thread)S 150 x(context.)S
3899 8220 XY 23316 48 R 3899 8817 XY(Error)S 10026 X(Kind)S 149 x(of)S
150 x(Error)S 14409 X(Description)S 3899 X 299 y 23316 48 R 3899 9814 XY
(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S 14409 X(One)S 150 x
(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x(supplied)S 150 x
(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X 299 y 23316 48 R
3899 11109 XY F147(This)S 239 x(procedure)S 239 x(sets)S 238 x(the)S
240 x(context)S 240 x(associa)S -2 x(ted)S 239 x(with)S 239 x(the)S
239 x(speci\211ed)S 238 x(key)S 240 x(for)S 240 x(the)S 239 x(current)S
240 x(thread.)S 3899 X 647 y(The)S 200 x(current)S 200 x(value)S 200 x
(of)S 200 x(the)S 200 x(context)S 200 x(key)S 200 x(\(if)S 201 x(any\))S
200 x(is)S 199 x(replaced,)S 203 x(and)S 199 x(the)S 200 x(destructor)S
200 x(routine)S 199 x(is)S 200 x(not)S 3899 X 648 y(called.)S 372 x
(A)S 225 x(context)S 226 x(can)S 226 x(be)S 225 x(deleted)S 225 x(for)S
226 x(the)S 226 x(thread)S 225 x(by)S 226 x(setting)S 225 x(the)S 226 x
(context)S 226 x(to)S 226 x(the)S 226 x(null)S 224 x(pointer)S 3899 X
647 y(\()S F148(cma_c_null_ptr)S F147(\).)S 245 x(The)S 183 x(error)S
183 x F149(cma_e_badparam)S 182 x F147(is)S 182 x(raised)S 181 x(if)S
183 x(the)S 183 x(context)S 183 x(key)S 183 x(is)S 182 x(invali)S -2 x
(d.)S 3899 14546 XY F32(4.6.3)S 547 x F33(cma_key_)S -2 x(get_context)S
3899 15542 XY F147(A)S 216 x(client)S 216 x(can)S 217 x(retrieve)S 217 x
(a)S 217 x(per)S -11 x(-thread)S 217 x(context)S 217 x(value)S 216 x
(identi\211ed)S 215 x(by)S 217 x(a)S 216 x(context)S 217 x(key)S 217 x
(by)S 217 x(calling)S 216 x(the)S 3899 X 648 y(procedure)S 182 x(that)S
183 x(has)S 181 x(the)S 183 x(following)S 182 x(declaration:)S 4945 17236 XY
F98(procedure)S 269 x(CMA_KEY_GET_CONTEXT)S 269 x(\()S 8173 X 498 y
(KEY)S 11939 X(:)S 269 x(in)S 269 x(CMA_T_KEY;)S 8173 X 498 y(CONTEXT_VALUE)S
269 x(:)S 269 x(out)S 269 x(CMA_T_ADDRESS\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_key_get_context)S 269 x(\()S 6021 X
498 y(cma_t_key)S 11401 X(key,)S 6021 X 499 y(cma_t_address)S 11401 X
(*context_value\);)S 3899 22018 XY F147(Parameters:)S 3899 X 896 y F38
(key)S 8282 X(A)S 164 x(key)S 164 x(that)S 164 x(uniquely)S 164 x(identi\211es)S
164 x(the)S 164 x(particular)S 164 x(context)S 164 x(value)S 164 x(being)S
164 x(retrieved.)S 243 x(This)S 164 x(must)S 164 x(be)S 164 x(a)S 164 x
(key)S 8282 X 548 y(obtained)S 185 x(from)S 185 x F148(cma_key_create)S
184 x F38(\(Section)S 184 x(4.6.1\),)S 193 x(or)S 184 x(must)S 185 x
(be)S 184 x(a)S 185 x(key)S 184 x(value)S 185 x(prede\211ne)S 2 x(d)S
184 x(by)S 184 x(the)S 8282 X 548 y(CMA)S 150 x(implementation)S 150 x
(\(if)S 149 x(it)S 149 x(chooses)S 151 x(to)S 149 x(provide)S 150 x
(such)S 151 x(key)S 150 x(values\).)S 3899 X 698 y(context_value)S 8282 X
(The)S 150 x(curre)S 2 x(nt)S 149 x(value)S 150 x(of)S 149 x(the)S 150 x
(context)S 150 x(key)S 150 x(wit)S -2 x(hin)S 150 x(the)S 150 x(thread.)S
3899 25704 XY 23316 48 R 3899 26302 XY(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 299 y 23316 48 R 3899 27298 XY
(cma_e_)S 2 x(badparam)S 10026 X(ill)S -2 x(egal)S 14409 X(One)S 150 x
(or)S 150 x(more)S 151 x(parame)S 2 x(ters)S 149 x(supplied)S 150 x
(had)S 151 x(an)S 150 x(invalid)S 149 x(value.)S 3899 X 299 y 23316 48 R
3899 28593 XY F147(This)S 204 x(procedure)S 205 x(returns)S 205 x(the)S
205 x(context)S 206 x(value)S 204 x(associa)S -2 x(ted)S 205 x(with)S
205 x(the)S 205 x(speci\211ed)S 203 x(key)S 205 x(for)S 206 x(the)S
205 x(current)S 3899 X 648 y(thread.)S 291 x(If)S 199 x(no)S 198 x(context)S
199 x(has)S 198 x(been)S 198 x(de\211ned)S 197 x(for)S 199 x(the)S 199 x
(key)S 198 x(in)S 198 x(this)S 198 x(thread,)S 202 x(the)S 199 x(null)S
197 x(pointer)S 198 x(\()S F148(cma_c_)S 3899 X 647 y(null_ptr)S F147
(\))S 183 x(is)S 182 x(returned.)S 244 x(The)S 183 x(error)S 183 x F149
(cma_e_badparam)S 182 x F147(is)S 182 x(raised)S 181 x(if)S 183 x(the)S
182 x(context)S 184 x(key)S 182 x(is)S 182 x(invalid)S -2 x(.)S 3899 31383 XY
F28(4.7)S 599 x(Alerting)S 199 x(Threads)S 3899 32379 XY F147(An)S 156 x
(`)S -11 x(`alert')S -10 x(')S 156 x(is)S 156 x(a)S 155 x(way)S 157 x
(to)S 156 x(inform)S 157 x(a)S 156 x(thread)S 155 x(that)S 157 x(it)S
156 x(shoul)S -2 x(d)S 156 x(terminate,)S 162 x(as)S 155 x(quickly)S
156 x(as)S 155 x(possibl)S -2 x(e.)S 235 x(How-)S 3899 X 648 y(ever)S
-40 x(,)S 215 x(unlike)S 207 x(an)S 208 x(arbitrary)S 208 x(`)S -10 x
(`delete)S 207 x(thread')S -11 x(')S 209 x(operation,)S 214 x(an)S 207 x
(alert)S 208 x(allows)S 208 x(the)S 208 x(thread)S 208 x(to)S 208 x
(continue)S 3899 X 647 y(for)S 183 x(a)S 183 x(while,)S 182 x(if)S 183 x
(what)S 182 x(it)S 182 x(is)S 182 x(doing)S 182 x(is)S 182 x(too)S 183 x
(important)S 182 x(to)S 183 x(stop.)S 21509 37373 XY F36(CMA)S 165 x
(Core)S 166 x(Services)S 499 x(71)S
%%EndCustomColor: 0
76 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica NewCenturySchlbk-Italic
%%+NewCenturySchlbk-Bold Helvetica-BoldOblique
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 72 77
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4013 XY F32(4.7.1)S 547 x(Why)S 183 x(are)S 182 x(Alerts)S 182 x
(Needed?)S 3899 5009 XY F147(A)S 171 x(thread)S 171 x(is)S 171 x(a)S
172 x(programming)S 171 x(abstraction)S 171 x(that)S 172 x(represents)S
171 x(a)S 171 x(single)S 171 x(task;)S 175 x(a)S 171 x(single)S 171 x
(worker)S 172 x(doing)S 3899 X 647 y(one)S 156 x(job.)S 235 x(When)S
156 x(that)S 157 x(job)S 156 x(is)S 156 x(no)S 157 x(longer)S 156 x
(necessary)S -61 x(,)S 162 x(it)S 157 x(shoul)S -2 x(d)S 157 x(be)S
156 x(terminated)S 156 x(as)S 156 x(quickly)S 156 x(as)S 156 x(possi)S
-2 x(ble)S 3899 X 648 y(to)S 200 x(avoid)S 198 x(wasting)S 200 x(time)S
199 x(and)S 199 x(resources)S 199 x(on)S 200 x(it.)S 295 x(However)S
-40 x(,)S 205 x(it)S 199 x(must)S 200 x(not)S 199 x(be)S 199 x(arbitrarily)S
199 x(terminated)S 3899 X 648 y(if)S 208 x(doing)S 207 x(so)S 208 x
(might)S 208 x(cause)S 207 x(problems)S 207 x(for)S 209 x(other)S 208 x
(threads)S 207 x(within)S 207 x(the)S 208 x(program.)S 320 x(Any)S 208 x
(assump)S -2 x(tions)S 3899 X 647 y(that)S 260 x(those)S 260 x(other)S
260 x(threads)S 259 x(might)S 260 x(make)S 260 x(about)S 260 x(the)S
260 x(state)S 260 x(of)S 260 x(data)S 260 x(must)S 260 x(be)S 259 x
(preserved.)S 476 x(Such)S 3899 X 648 y(assump)S -2 x(tions)S 182 x
(are)S 183 x(called)S 181 x F148(invariants)S 183 x F147(\(see)S 183 x
(Section)S 183 x(4.7.2.4\).)S 3899 9243 XY(The)S 154 x F148(alert)S
155 x F147(mechanism)S 153 x(serves)S 154 x(two)S 155 x(purpos)S -2 x
(es.)S 234 x(First,)S 161 x(it)S 154 x(informs)S 154 x(a)S 153 x(thread)S
154 x(that)S 154 x(its)S 153 x(job)S 154 x(is)S 154 x(no)S 154 x(longer)S
3899 X 648 y(required,)S 186 x(and)S 184 x(that)S 186 x(it)S 185 x(should)S
184 x(terminate)S 186 x(as)S 185 x(soon)S 185 x(as)S 185 x(practical.)S
252 x(Second,)S 187 x(it)S 185 x(allows)S 185 x(the)S 185 x(thread)S
185 x(to)S 3899 X 647 y(control)S 212 x(its)S 212 x(own)S 212 x(termination,)S
219 x(so)S 212 x(that)S 211 x(it)S 212 x(can)S 212 x(release)S 212 x
(resources)S 212 x(and)S 211 x(restore)S 212 x(any)S 212 x(invariants)S
211 x(it)S 3899 X 648 y(might)S 182 x(control.)S 3899 12182 XY(For)S
183 x(example,)S 182 x(a)S 183 x(thread)S 182 x(might)S 182 x(be)S 183 x
(alerted)S 181 x(for)S 184 x(one)S 182 x(of)S 183 x(the)S 183 x(following)S
182 x(reasons:)S 3899 X 897 y(\201)S 714 x(A)S 236 x(user)S 236 x(types)S
237 x(a)S 236 x(`)S -10 x(`cancel')S -11 x(')S 236 x(key)S 237 x(on)S
236 x(the)S 237 x(keyboard,)S 249 x(or)S 237 x(activates)S 236 x(a)S
236 x(`)S -10 x(`cancel')S -10 x(')S 236 x(button)S 236 x(with)S 237 x
(the)S 4945 X 647 y(pointin)S -2 x(g)S 174 x(device)S 174 x(in)S 173 x
(a)S 174 x(windowing)S 173 x(interface.)S 241 x(The)S 174 x(thread)S
173 x(that)S 174 x(hand)S -2 x(les)S 174 x(the)S 173 x(user)S 174 x
(input)S 173 x(must)S 4945 X 648 y(request)S 149 x(the)S 149 x(termination)S
149 x(of)S 150 x(any)S 149 x(threads)S 148 x(that)S 150 x(are)S 149 x
(carrying)S 150 x(out)S 149 x(the)S 149 x(current)S 150 x(user)S 150 x
(command.)S 4945 X 896 y(If)S 249 x(the)S 248 x(user)S 248 x(requests)S
248 x(a)S 248 x(long)S 248 x(\211le)S 248 x(copying)S 248 x(operation,)S
264 x(and)S 247 x(then)S 248 x(decides)S 247 x(to)S 249 x(cancel)S 248 x
(it,)S 265 x(the)S 4945 X 648 y(thread)S 222 x(performing)S 223 x(the)S
223 x(copy)S 223 x(shoul)S -2 x(d)S 223 x(terminate)S 222 x(as)S 222 x
(quickly)S 222 x(as)S 222 x(possib)S -2 x(le.)S 364 x(But)S 223 x(it)S
222 x(must)S 223 x(not)S 4945 X 648 y(leave)S 182 x(an)S 182 x(incomplete)S
182 x(copy)S 182 x(of)S 184 x(the)S 182 x(\211le,)S 182 x(and)S 182 x
(the)S 183 x(original)S 181 x(\211le)S 182 x(should)S 181 x(be)S 182 x
(closed.)S 3899 X 896 y(\201)S 714 x(A)S 127 x(set)S 128 x(of)S 128 x
(threads)S 126 x(may)S 128 x(be)S 127 x(performing)S 128 x(a)S 128 x
(paral)S -2 x(lel)S 127 x(computation)S 127 x(upon)S 127 x(some)S 127 x
(data.)S 225 x(If)S 128 x(one)S 127 x(thread)S 4945 X 648 y(determines)S
156 x(that)S 156 x(there)S 157 x(is)S 157 x(an)S 156 x(error)S 158 x
(that)S 156 x(renders)S 157 x(the)S 156 x(entire)S 157 x(computation)S
156 x(useles)S -2 x(s,)S 163 x(the)S 156 x(other)S 4945 X 647 y(threads)S
182 x(should)S 181 x(be)S 182 x(terminated)S 182 x(rather)S 183 x(than)S
182 x(continue)S 182 x(towards)S 182 x(an)S 182 x(incorrect)S 183 x
(result.)S 3899 20252 XY F32(4.7.2)S 547 x(Overview)S 183 x(and)S 182 x
(T)S -41 x(erminology)S 3899 21248 XY F147(This)S 219 x(section)S 220 x
(describes)S 219 x(some)S 219 x(of)S 221 x(the)S 220 x(speci\211c)S
219 x(terms)S 220 x(used)S 219 x(to)S 220 x(describe)S 219 x(how)S 220 x
(threads)S 219 x(and)S 219 x(alerts)S 3899 X 648 y(interact.)S 313 x
(In)S 206 x(the)S 206 x(process,)S 211 x(it)S 206 x(provides)S 205 x
(a)S 205 x(brief)S 206 x(overview)S 207 x(of)S 206 x(the)S 206 x(sequence)S
205 x(of)S 206 x(events)S 206 x(involved)S 205 x(in)S 3899 X 647 y(using)S
182 x(an)S 182 x(alert)S 182 x(to)S 183 x(request)S 182 x(a)S 182 x
(thread)S 182 x(to)S 183 x(terminate.)S 3899 23938 XY F32(4.7.2.1)S
547 x(Sending)S 183 x(an)S 182 x(Alert)S 3899 X 897 y F147(When)S 252 x
(a)S 252 x(thread)S 252 x(calls)S 251 x(the)S 253 x F148(cma_thread_alert)S
252 x F147(operation,)S 270 x(CMA)S 252 x(makes)S 252 x(a)S 252 x(notation)S
252 x(which)S 252 x(will)S 3899 X 647 y(eventually)S 180 x(be)S 181 x
(processed)S 180 x(by)S 181 x(the)S 181 x(indicated)S 180 x(thread.)S
242 x(This)S 181 x(is)S 181 x(called)S 180 x(`)S -11 x(`sending)S 180 x
(an)S 181 x(alert')S -11 x('.)S 243 x(The)S 182 x(fact)S 3899 X 648 y
(that)S 207 x(an)S 207 x(alert)S 208 x(has)S 206 x(been)S 207 x(sent)S
207 x(does)S 207 x(not)S 208 x(mean)S 207 x(that)S 207 x(the)S 208 x
(speci\211e)S -2 x(d)S 208 x(thread)S 207 x(will)S 206 x(process)S 207 x
(the)S 208 x(alert)S 3899 X 647 y(immedia)S -2 x(tely)S -60 x(.)S 340 x
(While)S 214 x(alerts)S 214 x(are)S 215 x(usual)S -2 x(ly)S 215 x(`)S
-10 x(`deli)S -2 x(vered')S -10 x(')S 215 x(to)S 215 x(the)S 215 x(target)S
215 x(thread)S 214 x(synchronously)S 214 x(\(see)S 3899 X 648 y(section)S
182 x(Section)S 183 x(4.7.2.3\),)S 183 x(they)S 183 x(are)S 182 x(always)S
182 x F148(sent)S 183 x F147(asynchronousl)S -2 x(y)S -60 x(.)S 3899 28820 XY
F32(4.7.2.2)S 547 x(Receiving)S 182 x(an)S 182 x(alert,)S 183 x(and)S
182 x(pending)S 181 x(alerts)S 3899 X 896 y F147(When)S 223 x(the)S
224 x(notation)S 223 x(recorded)S 223 x(by)S 224 x F148(cma_thread_alert)S
224 x F147(\211nal)S -2 x(ly)S 224 x(reaches)S 224 x(the)S 223 x(speci\211ed)S
223 x(thread,)S 234 x(the)S 3899 X 648 y(state)S 172 x(of)S 173 x(that)S
172 x(thread)S 171 x(is)S 172 x(modi\211ed)S 171 x(to)S 172 x(record)S
173 x(the)S 172 x(existence)S 172 x(of)S 173 x(the)S 172 x(alert.)S
240 x(This)S 172 x(is)S 172 x(called)S 171 x(`)S -10 x(`receiving)S
3899 X 647 y(an)S 202 x(alert')S -10 x('.)S 305 x(The)S 203 x(fact)S
204 x(that)S 203 x(a)S 203 x(thread)S 202 x(has)S 202 x(received)S 203 x
(an)S 203 x(alert)S 202 x(does)S 203 x(not)S 203 x(mean)S 202 x(that)S
203 x(the)S 203 x(client)S 203 x(code)S 3899 X 648 y(executing)S 204 x
(within)S 202 x(that)S 204 x(thread)S 203 x(is)S 203 x(aware)S 203 x
(of)S 204 x(the)S 204 x(alert,)S 208 x(however;)S 215 x(this)S 203 x
(depends)S 202 x(on)S 203 x(other)S 204 x(factors)S 3899 X 648 y(that)S
146 x(will)S 145 x(be)S 146 x(described)S 145 x(later)S -41 x(.)S 232 x
(If)S 146 x(the)S 147 x(received)S 146 x(alert)S 145 x(must)S 146 x
(be)S 146 x(`)S -10 x(`saved)S 145 x(away')S -10 x(')S 146 x(until)S
145 x(later)S -41 x(,)S 154 x(it)S 146 x(is)S 146 x(called)S 3899 X
647 y(a)S 182 x F148(pending)S 183 x(alert)S F147(.)S 3899 37373 XY
F36(72)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
77 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 73 78
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3996 XY F32(4.7.2.3)S 547 x(Delivering)S 182 x(an)S 183 x(alert)S
3899 X 896 y F147(When)S 163 x(client)S 164 x(code)S 164 x(in)S 163 x
(an)S 164 x(alerted)S 163 x(thread)S 164 x(is)S 164 x(ready)S 163 x
(to)S 165 x(\211nd)S 163 x(out)S 164 x(about)S 164 x(the)S 164 x(alert,)S
168 x(CMA)S 163 x(will)S 164 x(convert)S 3899 X 648 y(the)S 191 x(pending)S
191 x(alert)S 191 x(into)S 191 x(the)S 192 x F149(cma_e)S -2 x(_alerted)S
192 x F147(exception.)S 270 x(The)S 192 x(process)S 191 x(of)S 192 x
(raising)S 191 x(this)S 191 x(exception)S 3899 X 647 y(is)S 170 x(called)S
169 x(`)S -10 x(`delivering)S 170 x(the)S 170 x(alert')S -10 x('.)S
240 x(At)S 170 x(the)S 171 x(same)S 170 x(time,)S 174 x(the)S 170 x
(thread')S -21 x(s)S 171 x(state)S 170 x(is)S 170 x(changed)S 170 x
(so)S 171 x(that)S 170 x(it)S 171 x(no)S 3899 X 648 y(longer)S 182 x
(has)S 182 x(any)S 183 x(alert)S 182 x(pendi)S -2 x(ng.)S 3899 7831 XY
(Most)S 213 x(of)S 213 x(the)S 213 x(time,)S 221 x(alerts)S 212 x(are)S
213 x(deli)S -2 x(vered)S 213 x(only)S 213 x(at)S 212 x(speci\211c)S
212 x(places)S 212 x(within)S 212 x(a)S 213 x(program.)S 334 x(This)S
213 x(kind)S 3899 X 648 y(of)S 191 x(deli)S -2 x(very)S 192 x(is)S 189 x
(called)S 189 x(`)S -10 x(`synchronous)S 190 x(deli)S -2 x(very')S -9 x
('.)S 267 x(However)S -39 x(,)S 192 x(it)S 190 x(is)S 190 x(possib)S
-2 x(le)S 190 x(for)S 191 x(a)S 190 x(program)S 191 x(to)S 190 x(de\211ne)S
3899 X 647 y(sections)S 256 x(of)S 256 x(code)S 257 x(where)S 256 x
(an)S 256 x(alert)S 256 x(can)S 257 x(be)S 256 x(deli)S -2 x(vered)S
257 x(anywhere;)S 293 x(even)S 257 x(within)S 256 x(a)S 256 x(hardware)S
256 x(in-)S 3899 X 648 y(struction,)S 183 x(if)S 183 x(they)S 183 x
(are)S 183 x(interruptabl)S -2 x(e.)S 245 x(This)S 182 x(kind)S 182 x
(of)S 183 x(delivery)S 183 x(is)S 182 x(called)S 181 x(`)S -10 x(`asynchronous)S
182 x(delivery')S -11 x('.)S 3899 X 648 y(Asynchronous)S 181 x(delivery)S
183 x(must)S 182 x(be)S 182 x(speci\211call)S -2 x(y)S 183 x(enabled)S
181 x(by)S 183 x(the)S 182 x(program.)S 3899 11418 XY(When)S 218 x(an)S
219 x(alert)S 219 x(is)S 219 x(deli)S -2 x(vered,)S 229 x(CMA)S 219 x
(disa)S -2 x(bles)S 219 x(asynchronous)S 218 x(delivery)S -61 x(.)S
353 x(This)S 219 x(prevents)S 219 x(a)S 219 x(second)S 3899 X 647 y
(alert)S 182 x(from)S 184 x(interfering)S 183 x(with)S 182 x(the)S 183 x
(process)S 182 x(of)S 183 x(terminating)S 182 x(the)S 182 x(thread.)S
3899 13460 XY F32(4.7.2.4)S 547 x(Invariants)S 3899 X 897 y F147(In)S
218 x(any)S 218 x(program)S 219 x(that)S 218 x(operates)S 217 x(upon)S
218 x(data,)S 226 x(it)S 218 x(is)S 218 x(usuall)S -2 x(y)S 219 x(possi)S
-2 x(ble)S 218 x(to)S 218 x(make)S 218 x(statements)S 218 x(about)S
3899 X 647 y(the)S 186 x(data)S 186 x(that)S 186 x(must)S 186 x(always)S
186 x(be)S 186 x(true.)S 256 x(For)S 187 x(example,)S 187 x(when)S 186 x
(writing)S 186 x(a)S 187 x(routine)S 186 x(that)S 186 x(manipu)S -2 x
(lates)S 3899 X 648 y(a)S 175 x(doub)S -2 x(ly-linked)S 174 x(list,)S
176 x(the)S 175 x(routine)S 175 x(will)S 174 x(usual)S -2 x(ly)S 175 x
(assume)S 174 x(that)S 175 x(all)S 174 x(links)S 173 x(lead)S 174 x
(either)S 175 x(to)S 175 x(a)S 174 x(list)S 175 x(head)S 3899 X 647 y
(or)S 218 x(to)S 217 x(another)S 217 x(list)S 217 x(element.)S 347 x
(The)S 218 x(routine)S 217 x(will)S 216 x(probably)S 216 x(not)S 218 x
(work)S 217 x(if,)S 227 x(for)S 218 x(example,)S 226 x(one)S 217 x(of)S
218 x(the)S 3899 X 648 y(links)S 181 x(points)S 182 x(to)S 182 x(an)S
182 x(area)S 183 x(of)S 183 x(memory)S 183 x(that)S 182 x(is)S 182 x
(not)S 183 x(accessibl)S -2 x(e.)S 3899 17943 XY(Such)S 272 x(assump)S
-2 x(tions)S 271 x(are)S 272 x(called)S 271 x(`)S -10 x(`invaria)S -2 x
(nts')S -10 x(')S 271 x(of)S 273 x(the)S 272 x(program.)S 511 x(In)S
272 x(a)S 271 x(threaded)S 271 x(program,)S 295 x(any)S 3899 X 648 y
(operations)S 212 x(that)S 213 x(may)S 213 x(disturb)S 212 x(the)S 214 x
(invaria)S -2 x(nts)S 213 x(must)S 214 x(be)S 213 x(atomic)S 213 x(with)S
213 x(respect)S 213 x(to)S 214 x(other)S 213 x(threads,)S 3899 X 647 y
(to)S 169 x(prevent)S 168 x(them)S 169 x(from)S 169 x(encountering)S
169 x(an)S 168 x(`)S -10 x(`inval)S -2 x(id')S -11 x(')S 169 x(state.)S
238 x(Usuall)S -2 x(y)S -60 x(,)S 172 x(the)S 168 x(operation)S 168 x
(must)S 168 x(be)S 168 x(made)S 3899 X 648 y(to)S 182 x(appear)S 181 x
(atomic)S 182 x(by)S 183 x(the)S 182 x(use)S 182 x(of)S 182 x(some)S
182 x(form)S 184 x(of)S 182 x(mutual)S 182 x(exclusion)S 181 x(\(for)S
183 x(example,)S 182 x(locking)S 182 x(a)S 182 x(CMA)S 3899 X 648 y
(mutex\).)S 418 x(If)S 240 x(an)S 240 x(alert)S 240 x(is)S 240 x(deli)S
-2 x(vered)S 241 x(while)S 239 x(any)S 240 x(invariant)S 240 x(is)S
239 x(disturbed)S -2 x(,)S 255 x(then)S 241 x(the)S 240 x(routine)S
240 x(must)S 3899 X 647 y(handl)S -2 x(e)S 183 x(the)S 182 x F149(cma_e_ale)S
-2 x(rted)S 184 x F147(exception)S 182 x(and)S 181 x(correc)S 2 x(t)S
182 x(the)S 183 x(invariant)S 181 x(by)S 183 x(either:)S 3899 X 897 y
F36(1.)S 631 x F147(restoring)S 183 x(the)S 182 x(original)S 182 x(state)S
182 x(of)S 183 x(the)S 183 x(data,)S 181 x(or)S 3899 X 896 y F36(2.)S
631 x F147(completing)S 182 x(the)S 182 x(operation)S 182 x(it)S 182 x
(was)S 183 x(performing.)S 3899 24070 XY(It)S 183 x(then)S 182 x(releases)S
182 x(the)S 182 x(mutex)S 183 x(to)S 183 x(allow)S 182 x(other)S 182 x
(threads)S 182 x(to)S 183 x(access)S 182 x(the)S 183 x(data.)S 3899 25465 XY
F32(4.7.2.5)S 547 x(Alertable)S 183 x(operations)S 3899 X 897 y F147
(Synchronous)S 249 x(alert)S 248 x(delivery)S 249 x(occurs)S 249 x(only)S
248 x(at)S 249 x(speci\211c,)S 265 x(well-de\211ned)S 248 x(poin)S -2 x
(ts.)S 443 x(These)S 249 x(points)S 248 x(are)S 3899 X 647 y(CMA)S 256 x
(operations)S 255 x(that)S 256 x(can)S 256 x(determine)S 256 x(whether)S
257 x(an)S 256 x(alert)S 256 x(is)S 256 x(pend)S -2 x(ing,)S 275 x(and)S
256 x(if)S 256 x(so,)S 275 x(can)S 256 x(deliver)S 3899 X 648 y(the)S
206 x(alert.)S 312 x(Such)S 206 x(operations)S 204 x(are)S 206 x(called)S
204 x(`)S -10 x(`alertable')S -11 x('.)S 312 x(User)S -10 x(-written)S
207 x(routines)S 205 x(that)S 205 x(call)S 205 x(alertabl)S -2 x(e)S
3899 X 647 y(CMA)S 196 x(operations)S 195 x(can)S 196 x(also)S 195 x
(be)S 196 x(considered)S 195 x(alertable.)S 284 x(Alertabl)S -2 x(e<)S
197 x(operations)S 195 x(are)S 196 x(usuall)S -2 x(y)S 197 x(called)S
3899 X 648 y(to)S 188 x(perform)S 189 x(necessary)S 188 x(program)S
189 x(functions,)S 189 x(such)S 188 x(as)S 188 x(to)S 188 x(wait)S 188 x
(on)S 188 x(a)S 188 x(condition)S 187 x(variable.)S 259 x(However)S
-39 x(,)S 3899 X 648 y(there)S 185 x(is)S 184 x(a)S 184 x(special)S
183 x(alertable)S 184 x(operation)S 183 x(called)S 184 x F148(cma_alert_test)S
185 x F147(that)S 184 x(does)S 184 x(nothing)S 184 x(except)S 185 x
(deliver)S 3899 X 647 y(a)S 227 x(pendi)S -2 x(ng)S 228 x(alert)S 227 x
(\(if)S 228 x(there)S 228 x(is)S 227 x(one\).)S 379 x(If)S 228 x(you)S
227 x(want)S 228 x(an)S 226 x(otherwise)S 228 x(non-alertabl)S -2 x
(e,)S 239 x(compute-bound)S 3899 X 648 y(operation)S 181 x(to)S 183 x
(be)S 183 x(alertab)S -2 x(le,)S 183 x(you)S 183 x(can)S 182 x(add)S
181 x(a)S 183 x(call)S 182 x(to)S 182 x F148(cma_alert_test)S F147(.)S
21509 37373 XY F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(73)S
%%EndCustomColor: 0
78 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 74 79
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3996 XY F32(4.7.2.6)S 547 x(Alertsafe)S 183 x(routines)S 3899 X
896 y F147(When)S 136 x(a)S 137 x(program)S 138 x(enables)S 136 x(asychronous)S
136 x(delivery)S 137 x(of)S 138 x(alerts,)S 146 x(as)S 137 x(described)S
136 x(above,)S 146 x(the)S 137 x(alert)S 137 x(may)S 138 x(be)S 3899 X
648 y(delivered)S 123 x(at)S 125 x(any)S 125 x(time.)S 224 x(This)S
124 x(makes)S 125 x(it)S 124 x(quite)S 124 x(dif\211cult)S 124 x(for)S
126 x(the)S 124 x(program)S 125 x(to)S 125 x(determine)S 125 x(exactly)S
125 x(what)S 3899 X 647 y(code)S 184 x(was)S 184 x(executing)S 185 x
(when)S 184 x(the)S 184 x(alert)S 184 x(was)S 184 x(delivered.)S 248 x
(The)S 185 x(program)S 185 x(cannot)S 184 x(preserve)S 184 x(invariants)S
3899 X 648 y(when)S 182 x(asynchronous)S 182 x(delivery)S 182 x(is)S
182 x(enabled)S -2 x(,)S 183 x(unless)S 181 x(the)S 183 x(code)S 182 x
(is)S 182 x(very)S 184 x(carefully)S 182 x(constructed.)S 3899 7831 XY
(When)S 218 x(a)S 218 x(routine)S 219 x(is)S 218 x(coded)S 218 x(so)S
219 x(that)S 218 x(it)S 219 x(can)S 218 x(be)S 219 x(called)S 217 x
(with)S 219 x(asynchronous)S 218 x(delivery)S 218 x(enabled)S -2 x(,)S
229 x(the)S 3899 X 648 y(routine)S 239 x(is)S 239 x(sai)S -2 x(d)S 239 x
(to)S 240 x(be)S 239 x(`)S -10 x(`alertsafe')S -11 x('.)S 414 x(This)S
239 x(might)S 239 x(simply)S 238 x(mean)S 239 x(that)S 239 x(it)S 240 x
(makes)S 238 x(sure)S 239 x(that)S 240 x(asyn-)S 3899 X 647 y(chronous)S
246 x(delivery)S 246 x(is)S 245 x(disab)S -2 x(led)S 246 x(before)S
247 x(doin)S -2 x(g)S 247 x(anything)S 246 x(signi\211)S -2 x(cant;)S
279 x(but)S 246 x(the)S 246 x(difference)S 247 x(is)S 246 x(not)S 3899 X
648 y(usual)S -2 x(ly)S 183 x(important)S 182 x(to)S 183 x(the)S 182 x
(caller)S -41 x(.)S 3899 10770 XY(Routines)S 179 x(that)S 180 x(are)S
180 x(not)S 181 x(alertsafe)S 180 x(should)S 179 x(never)S 180 x(be)S
180 x(called)S 179 x(with)S 181 x(asynchronous)S 179 x(delivery)S 180 x
(enabled)S -2 x(.)S 3899 X 648 y(Unless)S 124 x(an)S 126 x(external)S
126 x(routine)S 126 x(is)S 125 x(speci\211cal)S -2 x(ly)S 126 x(documented)S
126 x(as)S 125 x(alertsafe,)S 137 x(you)S 127 x(should)S 124 x(always)S
126 x(assu)S -2 x(me)S 3899 X 647 y(that)S 259 x(it)S 260 x(is)S 259 x
F148(not)S 259 x F147(alertsafe.)S 474 x(If)S 260 x(an)S 259 x(external)S
260 x(routine)S 259 x(must)S 259 x(be)S 259 x(called)S 259 x(when)S
259 x(asynchronous)S 259 x(alert)S 3899 X 648 y(delivery)S 234 x(is)S
234 x(enabled,)S 247 x(then)S 234 x(asynchronous)S 234 x(delivery)S
235 x(should)S 233 x(be)S 235 x F148(disabled)S 235 x F147(prior)S 234 x
(to)S 235 x(the)S 235 x(call,)S 247 x(and)S 3899 X 647 y F148(restored)S
184 x F147(after)S 183 x(it)S 182 x(returns.)S 3899 14855 XY F32(4.7.3)S
547 x(Synchronous)S 181 x(Delivery)S 182 x(of)S 183 x(Alerts)S 3899 15851 XY
F147(Normally)S -62 x(,)S 301 x(alerts)S 276 x(are)S 277 x(delivered)S
276 x(to)S 277 x(a)S 276 x(thread)S 277 x(synchronously)S -62 x(.)S
527 x(As)S 276 x(stated)S 276 x(previously)S 276 x(in)S 277 x(Sec-)S
3899 X 648 y(tion)S 231 x(4.7.2.5,)S 243 x(synchronous)S 230 x(delivery)S
231 x(occurs)S 231 x(when)S 231 x(speci\211c)S 230 x(CMA)S 231 x(operations)S
230 x(are)S 231 x(called)S 230 x(by)S 231 x(the)S 3899 X 647 y(program.)S
412 x(These)S 239 x(operations)S 237 x(may)S 239 x(raise)S 238 x(the)S
238 x F149(cma_e_ale)S -2 x(rted)S 240 x F147(exception.)S 411 x(The)S
239 x(routine)S 239 x(which)S 3899 X 648 y(called)S 173 x(the)S 175 x
(CMA)S 174 x(operation)S 174 x(may)S 175 x(handl)S -2 x(e)S 175 x(this)S
174 x(exception)S 174 x(to)S 175 x(\211nd)S 174 x(out)S 175 x(about)S
174 x(the)S 175 x(alert)S 174 x(and)S 174 x(restore)S 3899 X 647 y(invariants)S
-2 x(;)S 183 x(and)S 182 x(so)S 182 x(may)S 183 x F148(its)S 183 x F147
(callers,)S 182 x(in)S 182 x(turn.)S 3899 19438 XY(The)S 191 x F149
(cma_e_ale)S -2 x(rted)S 192 x F147(exception)S 191 x(should)S 189 x
(be)S 191 x(considered)S 190 x(a)S 191 x(terminating)S 190 x(exception)S
-181 y F159(1)S 24 x 181 y F147(.)S 269 x(This)S 191 x(means)S 3899 X
647 y(the)S 219 x(exception)S 219 x(will)S 219 x(eventuall)S -2 x(y)S
220 x(propagate)S 218 x(through)S 220 x(all)S 218 x(active)S 219 x(routines,)S
229 x(and)S 218 x(cause)S 219 x(the)S 219 x(thread)S 3899 X 648 y(to)S
225 x(terminate.)S 371 x(Any)S 225 x(routine)S 225 x(which)S 225 x(catches)S
225 x(the)S 225 x F149(cma_e_)S -2 x(alerted)S 226 x F147(exception)S
224 x(is)S 225 x(responsi)S -2 x(ble)S 225 x(for)S 3899 X 647 y(ensuring)S
191 x(that)S 191 x(the)S 192 x(exception)S 191 x(continues)S 190 x(to)S
192 x(propagate)S 191 x(\(it)S 191 x(must)S 192 x(`)S -10 x(`re-raise')S
-11 x(')S 192 x(the)S 191 x(exception)S 191 x(if)S 192 x(nec-)S 3899 X
648 y(essary\).)S 14771 22974 XY F153(NOTE)S 4796 X 897 y(User)S 205 x
(exception)S 207 x(handl)S 2 x(ers)S 205 x(need)S 206 x(not)S 207 x
(be)S 205 x(concerned)S 206 x(with)S 207 x(the)S 206 x(actual)S 207 x
(detail)S 2 x(s)S 205 x(of)S 206 x(thread)S 4796 X 598 y(termination.)S
3899 25465 XY F147(When)S 210 x(a)S 212 x(user)S 211 x(routine)S 211 x
(delays)S 210 x(returning)S 211 x(to)S 212 x(its)S 211 x(caller)S 211 x
(for)S 212 x(an)S 211 x(extended)S 210 x(period)S 211 x(of)S 212 x(time)S
211 x(\(exactly)S 3899 X 648 y(what)S 189 x(`)S -10 x(`extended')S -11 x
(')S 189 x(means)S 189 x(depen)S -2 x(ds)S 189 x(on)S 189 x(the)S 189 x
(appli)S -2 x(cation\),)S 192 x(it)S 189 x(is)S 188 x(usuall)S -2 x
(y)S 190 x(a)S 189 x(good)S 189 x(idea)S 188 x(to)S 190 x(make)S 189 x
(that)S 3899 X 647 y(routine)S 255 x(alertable.)S 461 x(In)S 255 x(many)S
256 x(cases,)S 273 x(the)S 255 x(operation)S 255 x(which)S 255 x(delays)S
254 x(is)S 255 x(already)S 254 x(alertable)S 254 x(\(such)S 3899 X 648 y
(as)S 234 x(a)S 235 x F148(cma_cond_wait)S F147(\).)S 402 x(If)S 235 x
(not,)S 249 x(the)S 235 x(user)S 235 x(routine)S 234 x(can)S 235 x(be)S
235 x(made)S 234 x(alertable)S 234 x(by)S 235 x(addi)S -2 x(ng)S 235 x
(a)S 235 x(call)S 234 x(to)S 3899 X 647 y(some)S 160 x(alertabl)S -2 x
(e)S 160 x(CMA)S 159 x(operation)S 159 x(\(for)S 161 x(example,)S 164 x
F148(cma_alert_test)S F147(\).)S 238 x(This)S 159 x(can)S 160 x(be)S
159 x(done,)S 164 x(for)S 161 x(example,)S 3899 X 648 y(within)S 187 x
(a)S 187 x(long)S 188 x(loop,)S 188 x(so)S 188 x(that)S 187 x(the)S
188 x(entire)S 188 x(loop)S 187 x(does)S 187 x(not)S 187 x(have)S 188 x
(to)S 188 x(complete)S 187 x(before)S 188 x(an)S 188 x(alert)S 187 x
(can)S 188 x(be)S 3899 X 648 y(delivered.)S 3899 34824 XY 6996 24 R
4106 35219 XY F163(1)S 225 x 140 y F159(This)S 93 x(means)S 95 x(that)S
94 x(execution)S 96 x(of)S 94 x(the)S 95 x(thread)S 94 x(cannot)S 95 x
(be)S 94 x(continu)S 2 x(ed.)S 164 x(Although)S 95 x(implementations)S
94 x(are)S 94 x(allowed)S 93 x(to)S 95 x(make)S 95 x(it)S 94 x(continuable,)S
4497 X 498 y(code)S 133 x(which)S 133 x(assumes)S 132 x(this)S 132 x
(behavior)S 133 x(is)S 132 x(not)S 133 x(portable.)S 3899 37573 XY F36
(74)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
79 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 75 80
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4013 XY F32(4.7.3.1)S 547 x(Alertable)S 183 x(and)S 182 x(alertsafe)S
182 x(CMA)S 182 x(operations)S 3899 X 896 y F147(Most)S 188 x(CMA)S
187 x(routines)S 187 x(are)S 188 x(not)S 188 x(alertabl)S -2 x(e,)S
190 x(and)S 187 x(are)S 187 x(not)S 188 x(alertsafe.)S 259 x(The)S 188 x
(following)S 187 x(table)S 187 x(shows)S 188 x(the)S 3899 X 648 y(exceptions)S
182 x(to)S 183 x(this)S 181 x(rule.)S 3899 6752 XY 23316 48 R 3899 7400 XY
F32(T)S -41 x(able)S 182 x(1:)S 498 x(CMA)S 183 x(Core)S 182 x(Operations)S
182 x(that)S 183 x(Interact)S 183 x(Specially)S 182 x(with)S 184 x(Alerts)S
3899 X 299 y 23316 48 R 3899 8297 XY F38(CMA)S 149 x(Core)S 150 x(Operation)S
11072 X(Alertsafe?)S 15455 X(Alertable?)S 3899 X 298 y 23316 48 R 3899 9293 XY
(cma_alert_d)S 2 x(isable_asynch)S 11072 X(Y)S -41 x(es)S 15455 X(No)S
3899 X 697 y(cma_alert_r)S 2 x(estore_asyn)S 2 x(ch)S 11072 X(Y)S -41 x
(es)S 15455 X(No)S 3899 X 698 y(cma_alert_d)S 2 x(efer_all)S 11072 X
(Y)S -41 x(es)S 15455 X(No)S 3899 X 697 y(cma_alert_r)S 2 x(estore_all)S
11072 X(Y)S -41 x(es)S 15455 X(No)S 3899 X 697 y(cma_alert_e)S 2 x(nable_asynch)S
11072 X(Y)S -41 x(es)S 15455 X(Y)S -41 x(es)S 3899 X 698 y(cma_alert_test)S
11072 X(Y)S -41 x(es)S 15455 X(Y)S -41 x(es)S 3899 X 697 y(cma_de)S
2 x(lay)S 11072 X(Y)S -41 x(es)S 15455 X(Y)S -41 x(es)S 3899 X 697 y
(cma_threa)S 2 x(d_join)S 11072 X(No)S 15455 X(Y)S -41 x(es)S 3899 X
698 y(cma_con)S 2 x(d_wait)S 11072 X(No)S 15455 X(Y)S -41 x(es)S 3899 X
697 y(cma_con)S 2 x(d_timed_wait)S 11072 X(No)S 15455 X(Y)S -41 x(es)S
3899 X 698 y(All)S 148 x(other)S 151 x(operations)S 11072 X(No)S 15455 X
(No)S 3899 X 398 y 23316 48 R 3899 17761 XY F147(Any)S 209 x(CMA)S 209 x
(operation)S 208 x(that)S 209 x(may)S 209 x(result)S 209 x(in)S 208 x
(a)S 209 x(long)S 209 x(or)S 210 x(inde\211)S -2 x(nite)S 209 x(wait)S
209 x(is)S 209 x(alertabl)S -2 x(e)S 210 x(\(for)S 210 x(example,)S
3899 X 648 y F148(cma_cond_wait)S F147(\).)S 3899 19405 XY(Most)S 180 x
(CMA)S 179 x(operations)S 178 x(which)S 180 x(modify)S 180 x(persisten)S
-2 x(t)S 180 x(process)S 180 x(state)S 179 x(\(such)S 180 x(as)S 179 x
(creating)S 180 x(or)S 180 x(modifying)S 3899 X 647 y(CMA)S 188 x(objects\))S
190 x(are)S 189 x F148(not)S 188 x F147(alertsafe.)S 263 x(They)S 190 x
(cannot)S 188 x(be)S 189 x(called)S 188 x(while)S 188 x(asynchronous)S
188 x(alert)S 189 x(deli)S -2 x(very)S 190 x(is)S 3899 X 648 y(enabled)S
-2 x(;)S 171 x(if)S 165 x(they)S 165 x(were,)S 169 x(it)S 165 x(would)S
163 x(be)S 165 x(imposs)S -2 x(ible)S 164 x(to)S 165 x(correctly)S 166 x
(restore)S 165 x(the)S 165 x(process)S 164 x(state)S 164 x(\(the)S 165 x
(oper-)S 3899 X 648 y(ation)S 158 x(may)S 159 x(have)S 158 x(been)S
158 x(alerted)S 158 x(before)S 159 x(it)S 159 x(began,)S 163 x(while)S
158 x(it)S 159 x(was)S 158 x(in)S 158 x(progress,)S 164 x(or)S 159 x
(after)S 159 x(it)S 159 x(completed\).)S 3899 22842 XY F32(4.7.4)S 547 x
(Deferring)S 183 x(Delivery)S 181 x(of)S 183 x(Alerts)S 3899 23838 XY
F147(There)S 196 x(are)S 196 x(cases)S 196 x(where)S 196 x(you)S 196 x
(will)S 196 x(need)S 195 x(to)S 196 x(prevent)S 196 x(all)S 195 x(delivery)S
196 x(of)S 196 x(alerts)S 196 x(over)S 196 x(a)S 196 x(region)S 196 x
(of)S 196 x(code.)S 3899 X 648 y(For)S 155 x(example,)S 160 x(it)S 154 x
(may)S 155 x(be)S 154 x(necessary)S 154 x(to)S 155 x(call)S 154 x(an)S
154 x(alertabl)S -2 x(e)S 155 x(operation)S 153 x(in)S 154 x(some)S
155 x(region)S 154 x(of)S 155 x(code)S 155 x(which)S 3899 X 647 y(modi\211es)S
202 x(program)S 203 x(invariants.)S 304 x(Y)S -61 x(ou)S 203 x(could)S
202 x(write)S 204 x(code)S 203 x(that)S 203 x(would)S 202 x(handle)S
202 x(the)S 203 x F149(cma_e)S -2 x(_alerted)S 3899 X 648 y F147(exception)S
173 x(and)S 172 x(restore)S 173 x(all)S 172 x(the)S 174 x(invaria)S
-2 x(nts)S 173 x(changed)S 173 x(by)S 173 x(that)S 173 x(region;)S 176 x
(but)S 173 x(this)S 173 x(may)S 173 x(be)S 173 x(dif\211cult)S 172 x
(or)S 3899 X 648 y(just)S 182 x(inconvenient.)S 3899 27425 XY(For)S
208 x(example,)S 214 x(consider)S 207 x(a)S 207 x(databas)S -2 x(e)S
208 x(update)S 207 x(operation)S 206 x(which)S 208 x(consists)S 207 x
(of)S 208 x(three)S 208 x(separate)S 207 x(short)S 3899 X 647 y(write)S
183 x(operations)S -2 x(.)S 3899 X 897 y F36(1.)S 631 x F147(W)S -31 x
(rite)S 183 x(data)S 182 x(block)S 182 x(1.)S 3899 X 897 y F36(2.)S
631 x F147(W)S -31 x(rite)S 183 x(data)S 182 x(block)S 182 x(2.)S 3899 X
896 y F36(3.)S 631 x F147(W)S -31 x(rite)S 183 x(data)S 182 x(block)S
182 x(3.)S 3899 31858 XY(Even)S 172 x(though)S 173 x(the)S 172 x(write)S
173 x(operations)S 171 x(may)S 173 x(be)S 172 x(alertable,)S 174 x(the)S
172 x(client)S 172 x(requires)S 172 x(that)S 173 x(the)S 172 x(entire)S
173 x(com-)S 3899 X 648 y(bined)S 187 x(operation)S 188 x(complete)S
189 x(even)S 189 x(if)S 189 x(an)S 188 x(alert)S 189 x(is)S 188 x(received.)S
263 x(If)S 189 x(alerts)S 188 x(could)S 188 x(not)S 189 x(be)S 189 x
(deferred)S 189 x(across)S 3899 X 647 y(these)S 169 x(three)S 170 x
(operations,)S 171 x(then)S 170 x(it)S 169 x(would)S 169 x(be)S 170 x
(necessary)S 169 x(to)S 170 x(write)S 170 x(`)S -10 x(`undo')S -11 x
(')S 169 x(code)S 170 x(which)S 169 x(could)S 169 x(reverse)S 3899 X
648 y(the)S 182 x(effec)S 2 x(t)S 182 x(of)S 183 x(writes)S 183 x(which)S
183 x(may)S 182 x(have)S 183 x(alread)S -2 x(y)S 183 x(completed)S 182 x
(at)S 182 x(the)S 183 x(time)S 182 x(the)S 183 x(alert)S 182 x(was)S
183 x(deli)S -2 x(vered.)S 21509 37373 XY F36(CMA)S 165 x(Core)S 166 x
(Services)S 499 x(75)S
%%EndCustomColor: 0
80 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 76 81
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4009 XY F147(The)S 170 x(program)S 170 x(calls)S 169 x F148(cma_alert_defer_all)S
171 x F147(at)S 170 x(the)S 170 x(beginnin)S -2 x(g)S 171 x(of)S 170 x
(the)S 170 x(region)S 169 x(where)S 171 x(alerts)S 169 x(must)S 170 x
(not)S 3899 X 647 y(be)S 224 x(delivered,)S 235 x(and)S 223 x(calls)S
224 x F148(cma_alert_restore)S 2 x(_all)S 225 x F147(at)S 224 x(the)S
225 x(end)S 224 x(of)S 225 x(the)S 225 x(region.)S 370 x(Even)S 225 x
(if)S 224 x(an)S 225 x(alert)S 224 x(is)S 3899 X 648 y(received)S 147 x
(within)S 147 x(this)S 146 x(region,)S 155 x(and)S 146 x(an)S 147 x
(alertable)S 146 x(routine)S 147 x(is)S 147 x(called)S -2 x(,)S 155 x
(the)S 148 x(alert)S 147 x(will)S 146 x(not)S 147 x(be)S 147 x(delivered.)S
3899 X 647 y(It)S 183 x(will)S 181 x(remain)S 183 x(pend)S -2 x(ing)S
183 x(until)S 181 x(some)S 183 x(alertabl)S -2 x(e)S 183 x(routine)S
182 x(is)S 182 x(called)S 181 x(after)S 183 x F148(cma_alert_res)S 2 x
(tore_all)S F147(.)S 3899 6948 XY(The)S 183 x(following)S 182 x(is)S
182 x(an)S 182 x(example)S 182 x(of)S 183 x(coding)S 182 x(a)S 182 x
(non-alertable)S 181 x(sequence)S 182 x(of)S 183 x(calls)S 182 x(\(in)S
182 x(Ada\):)S 7097 X 747 y F98(declare)S -807 x 498 y(PRIOR_STATE)S
269 x(:)S 269 x(CMA_T_ALERT_STATE;)S 7097 X 498 y(begin)S -269 x 558 y
(CMA_ALERT_DEFER_ALL\(PRIOR_STATE\);)S 807 x(--)S 268 x F169(!)S 8173 X
498 y F98(WRITE\(1\);)S 8173 X 498 y(WRITE\(2\);)S 17857 X(--)S 268 x
F169(")S 8173 X 498 y F98(WRITE\(3\);)S 8173 X 498 y(CMA_ALERT_RESTORE_ALL\(PRIOR_STATE\);)S
269 x(--)S 268 x F169(#)S 8173 X 893 y F98(SOME_ALERTABLE_ROUTINE;)S
17857 X(--)S 268 x F169($)S 7097 X 499 y F98(end;)S 3899 X 896 y F169
(!)S 598 x F147(Alerts)S 182 x(occurring)S 183 x(after)S 183 x(this)S
182 x(point)S 182 x(will)S 182 x(be)S 182 x(deferred.)S 3899 X 897 y
F169(")S 598 x F147(An)S 182 x(alert)S 182 x(is)S 182 x(received)S 183 x
(here,)S 183 x(and)S 181 x(is)S 182 x(left)S 183 x F148(pending)S F147
(.)S 3899 X 896 y F169(#)S 598 x F147(Alert)S 182 x(delivery)S 182 x
(is)S 182 x(re-enabled)S 182 x(here.)S 3899 X 897 y F169($)S 598 x F147
(The)S 183 x(pendi)S -2 x(ng)S 183 x(alert)S 182 x(is)S 182 x(delivered,)S
182 x(and)S 182 x F149(cma_e)S -2 x(_alerted)S 183 x F147(is)S 182 x
(raised)S -2 x(.)S 3899 17315 XY(The)S 128 x(ability)S 127 x(to)S 129 x
(defer)S 128 x(alerts)S 128 x(effectively)S 129 x(provides)S 127 x(you)S
128 x(with)S 129 x(non-alertabl)S -2 x(e)S 128 x(versions)S 128 x(of)S
129 x(the)S 128 x(alertabl)S -2 x(e)S 3899 X 648 y(CMA)S 195 x(operations)S
195 x(listed)S 195 x(in)S 195 x(Section)S 197 x(4.7.3.1,)S 199 x(by)S
196 x(simply)S 195 x(callin)S -2 x(g)S 197 x(them)S 196 x(with)S 196 x
(alerts)S 195 x(deferred.)S 285 x(Y)S -61 x(ou)S 3899 X 647 y(can)S
182 x(defer)S 183 x(alerts)S 182 x(for)S 184 x(any)S 182 x(user)S -10 x
(-written)S 183 x(alertable)S 181 x(routine,)S 183 x(using)S 182 x(the)S
182 x(same)S 182 x(technique.)S 3899 19606 XY(The)S 215 x F148(cma_alert_defer)S
2 x(_all)S 215 x F147(operation)S 214 x(may)S 215 x(be)S 215 x(called)S
214 x(while)S 214 x(alerts)S 215 x(are)S 215 x(already)S 214 x(deferred.)S
341 x(When)S 3899 X 648 y(this)S 244 x(is)S 245 x(done,)S 261 x(alerts)S
244 x(will)S 245 x(continue)S 245 x(to)S 245 x(be)S 245 x(deferred)S
245 x(after)S 246 x(the)S 245 x(matching)S 245 x F148(cma_alert_res)S
2 x(tore_all)S 3899 X 648 y F147(returns,)S 254 x(until)S 238 x(all)S
238 x F148(cma_alert_defer_all)S 241 x F147(calls)S 238 x(have)S 239 x
(been)S 238 x(reversed)S 239 x(by)S 239 x(a)S 239 x(matching)S 239 x
F148(cma_alert_)S 3899 X 647 y(restore_all)S 216 x F147(call.)S 339 x
(The)S 215 x F148(cma_alert_defer_all)S 216 x F147(operation)S 213 x
(is)S 214 x(described)S 213 x(in)S 214 x(Section)S 215 x(4.7.6.6,)S
222 x(and)S 214 x(the)S 3899 X 648 y F148(cma_alert_restore_all)S 185 x
F147(operation)S 181 x(is)S 182 x(described)S 181 x(in)S 182 x(Section)S
183 x(4.7.6.7.)S 3899 23591 XY F32(4.7.4.1)S 547 x(Possible)S 183 x
(dange)S -2 x(rs)S 183 x(of)S 183 x(deferring)S 182 x(alerts)S 3899 X
897 y F147(The)S 228 x(most)S 228 x(important)S 228 x(use)S 227 x(of)S
229 x(alerts)S 227 x(is)S 228 x(to)S 228 x(ensure)S 228 x(that)S 228 x
(wait)S 228 x(operations)S 226 x(that)S 228 x(may)S 228 x(wait)S 228 x
(inde\211-)S 3899 X 648 y(nitely)S 193 x(can)S 194 x(be)S 194 x(terminated.)S
277 x(For)S 195 x(example,)S 196 x(a)S 194 x(thread)S 194 x(may)S 194 x
(be)S 193 x(waiting)S 194 x(on)S 194 x(some)S 193 x(network)S 195 x
(connec-)S 3899 X 647 y(tion,)S 202 x(which)S 199 x(may)S 198 x(conceivably)S
198 x(take)S 198 x(days)S 198 x(to)S 198 x(respond)S 198 x(\(or)S 199 x
(may)S 199 x(never)S 198 x(respond\).)S 291 x(Such)S 199 x(waits)S 198 x
(are)S 3899 X 648 y(normally)S 182 x(made)S 182 x(alertabl)S -2 x(e.)S
3899 27427 XY(However)S -39 x(,)S 256 x(when)S 242 x(alerts)S 241 x
(are)S 242 x(deferred,)S 257 x(no)S 241 x(routine)S 242 x(is)S 241 x
(alertabl)S -2 x(e.)S 422 x(This)S 241 x(means)S 241 x(that)S 242 x
(such)S 241 x(waits)S 3899 X 648 y(must)S 167 x(be)S 167 x(completed)S
166 x(normally)S 166 x(before)S 168 x(an)S 166 x(alert)S 167 x(can)S
167 x(be)S 167 x(deli)S -2 x(vered.)S 239 x(As)S 166 x(a)S 167 x(result,)S
170 x(the)S 167 x(program)S 167 x(may)S 3899 X 647 y(`)S -10 x(`hang')S
-11 x(',)S 168 x(waiting)S 164 x(forever)S 166 x(\(or)S 165 x(for)S
165 x(a)S 165 x(very)S 165 x(long)S 164 x(time\),)S 169 x(and)S 163 x
(the)S 165 x(user)S 164 x(would)S 164 x(be)S 164 x(unabl)S -2 x(e)S
165 x(to)S 164 x(cancel)S 165 x(the)S 3899 X 648 y(operation.)S 3899 30366 XY
(Y)S -61 x(ou)S 175 x(should)S 174 x(be)S 176 x(careful)S 175 x(when)S
176 x(deferring)S 176 x(alerts)S 175 x(to)S 176 x(be)S 175 x(sure)S
175 x(that)S 176 x(no)S 175 x(long)S 176 x(waits)S 175 x(can)S 175 x
(occur)S -40 x(,)S 178 x(or)S 176 x(that)S 3899 X 648 y(it)S 182 x(is)S
182 x(truly)S 183 x(necessary)S 182 x(\(for)S 184 x(other)S 183 x(reasons\))S
182 x(to)S 183 x(defer)S 183 x(alerts)S 182 x(around)S 181 x(that)S
183 x(particula)S -2 x(r)S 183 x(wait.)S 3899 37373 XY F36(76)S 498 x
(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
81 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Courier DEC_Callout
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 77 82
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3996 XY F32(4.7.5)S 547 x(Asynchron)S -2 x(ous)S 182 x(Delivery)S
182 x(of)S 183 x(Alerts)S 3899 4992 XY F147(A)S 197 x(client)S 197 x
(can)S 197 x(inform)S 198 x(the)S 197 x(CMA)S 197 x(implementati)S -2 x
(on)S 198 x(that)S 197 x(it)S 197 x(wishes)S 197 x(to)S 197 x(have)S
197 x(alerts)S 197 x(delivered)S 196 x F148(asyn-)S 3899 X 647 y(chronously)S
207 x F147(within)S 206 x(a)S 207 x(region)S 206 x(of)S 207 x(code.)S
316 x(Asynchronous)S 206 x(delivery)S 206 x(of)S 207 x(alerts)S 206 x
(means)S 206 x(that)S 207 x(the)S 206 x F149(cma_)S 3899 X 648 y(e_alerted)S
199 x F147(exception)S 200 x(may)S 200 x(be)S 199 x(raised)S 199 x(at)S
199 x(any)S 200 x(point)S 199 x(in)S 199 x(the)S 200 x(code)S 199 x
(where)S 201 x(an)S 199 x(interrupt)S 199 x(can)S 200 x(occur)S -40 x
(.)S 3899 X 648 y(The)S 178 x(exception)S 176 x(could)S 177 x(potential)S
-2 x(ly)S 178 x(be)S 177 x(raised)S 176 x(in)S 177 x(the)S 177 x(middl)S
-2 x(e)S 178 x(of)S 178 x(a)S 177 x(hardware)S 177 x(instruction,)S
178 x(if)S 177 x(that)S 177 x(is)S 3899 X 647 y(permitted)S 182 x(by)S
182 x(the)S 183 x(machine.)S 3899 8578 XY(As)S 183 x(a)S 184 x(result,)S
185 x(it)S 184 x(is)S 183 x(very)S 185 x(dif\211cult)S 184 x(to)S 184 x
(write)S 184 x(an)S 184 x(exception)S 184 x(handl)S -2 x(er)S 185 x
(that)S 184 x(can)S 183 x(restore)S 185 x(invariants)S 183 x(for)S 3899 X
648 y(a)S 162 x(region)S 163 x(of)S 163 x(code)S 162 x(where)S 163 x
(an)S 162 x(asynchronous)S 161 x(alert)S 163 x(is)S 161 x(delivered.)S
236 x(Asynchronous)S 162 x(delivery)S 162 x(should)S 161 x(be)S 3899 X
648 y(avoided)S 181 x(in)S 182 x(any)S 182 x(region)S 183 x(of)S 183 x
(code)S 182 x(where)S 183 x(program)S 183 x(invariants)S 181 x(may)S
183 x(be)S 182 x(modi\211ed!)S 3899 11268 XY F32(4.7.5.1)S 547 x(When)S
183 x(to)S 183 x(use)S 181 x(asynch)S -2 x(ronous)S 182 x(delivery)S
3899 X 897 y F147(The)S 178 x(best)S 177 x(app)S -2 x(lication)S 177 x
(for)S 178 x(asynchronous)S 177 x(alert)S 177 x(delivery)S 177 x(is)S
177 x(when)S 177 x(the)S 178 x(program)S 178 x(needs)S 176 x(to)S 178 x
(perform)S 3899 X 648 y(a)S 158 x(long)S 158 x(computation)S 158 x(that)S
159 x(does)S 157 x(not)S 159 x(affect)S 160 x(program)S 158 x(invariants,)S
163 x(and)S 157 x(where)S 159 x(addin)S -2 x(g)S 159 x(calls)S 158 x
(to)S 159 x F148(cma_)S 3899 X 647 y(alert_test)S 183 x F147(would)S
182 x(slow)S 182 x(down)S 183 x(the)S 182 x(computation)S 182 x(or)S
183 x(is)S 182 x(impractical)S -2 x(.)S 3899 14456 XY(Enabl)S -2 x(ing)S
255 x(asynchronous)S 253 x(delivery)S 255 x(over)S 255 x(such)S 254 x
(a)S 255 x(region)S 254 x(of)S 256 x(code)S 254 x(allows)S 254 x(the)S
254 x(code)S 255 x(to)S 255 x(be)S 254 x(highly)S 3899 X 648 y(responsi)S
-2 x(ve)S 164 x(to)S 164 x(abort)S 164 x(requests)S 163 x(\(for)S 165 x
(example,)S 167 x(the)S 163 x(user)S 164 x(hitting)S 163 x(a)S 163 x
F148(cancel)S 165 x F147(button\),)S 167 x(without)S 164 x(compli-)S
3899 X 648 y(cating)S 182 x(or)S 183 x(slowing)S 182 x(the)S 183 x(computation.)S
3899 16748 XY(For)S 203 x(example,)S 206 x(a)S 202 x(matrix)S 202 x
(multipl)S -2 x(y)S 203 x(really)S 201 x(has)S 202 x(only)S 201 x(two)S
203 x(states;)S 211 x(either)S 202 x(the)S 202 x(product)S 202 x(was)S
202 x(created)S 3899 X 647 y(successfully)S -62 x(,)S 163 x(or)S 158 x
(it)S 157 x(was)S 157 x(not.)S 235 x(W)S -30 x(e)S 157 x(do)S 157 x
(not)S 158 x(generally)S 156 x(care)S 158 x(about)S 157 x(the)S 157 x
(state)S 157 x(of)S 158 x(the)S 158 x(product)S 157 x(if)S 157 x(it)S
157 x(could)S 3899 X 648 y(not)S 204 x(be)S 205 x(completed.)S 309 x
(A)S 204 x(matrix)S 204 x(multiply)S 204 x(can)S 204 x(also)S 204 x
(take)S 204 x(a)S 204 x(very)S 206 x(long)S 204 x(time,)S 210 x(and)S
204 x(shoul)S -2 x(d)S 205 x(therefore)S 3899 X 648 y(be)S 204 x(alertable.)S
310 x(But,)S 210 x(since)S 204 x(it)S 205 x(involves)S 204 x(several)S
204 x(nested)S 204 x(loops)S 204 x(whose)S 205 x(limits)S 203 x(are)S
205 x(parameters,)S 210 x(it)S 205 x(is)S 3899 X 647 y(not)S 179 x(desireab)S
-2 x(le)S 179 x(to)S 179 x(place)S 178 x(calls)S 178 x(to)S 179 x F148
(cma_alert_test)S 180 x F147(within)S 179 x(it.)S 242 x(T)S -50 x(o)S
179 x(ensure)S 179 x(that)S 179 x(the)S 179 x(matrix)S 179 x(multipl)S
-2 x(y)S 3899 X 648 y(is)S 182 x(alertabl)S -2 x(e,)S 183 x(the)S 183 x
(following)S 182 x(sequence)S 182 x(of)S 183 x(operations)S 181 x(can)S
183 x(be)S 182 x(used:)S 3899 X 896 y F36(1.)S 631 x F147(Set)S 183 x
(\212ag)S 182 x(indicati)S -2 x(ng)S 183 x(product)S 182 x(is)S 182 x
(not)S 183 x(availa)S -2 x(ble)S 3899 X 897 y F36(2.)S 631 x F147(Enabl)S
-2 x(e)S 183 x(asynchronous)S 182 x(deli)S -2 x(very)S 184 x(of)S 183 x
(alerts)S 3899 X 897 y F36(3.)S 631 x F147(Perform)S 184 x(multiply)S
181 x(\(taking)S 183 x(a)S 182 x(long)S 183 x(time,)S 182 x(but)S 183 x
(alertabl)S -2 x(e\))S 3899 X 896 y F36(4.)S 631 x F147(Restore)S 182 x
(prior)S 183 x(state)S 182 x(of)S 183 x(asynchronous)S 182 x(alert)S
182 x(delivery)S 3899 X 897 y F36(5.)S 631 x F147(Set)S 183 x(\212ag)S
182 x(indicati)S -2 x(ng)S 183 x(product)S 182 x(is)S 182 x(availab)S
-2 x(le)S 3899 25864 XY F32(4.7.5.2)S 547 x(When)S 183 x F33(not)S 182 x
F32(to)S 183 x(use)S 182 x(async)S -2 x(hronous)S 182 x(delivery)S 3899 X
896 y F147(Asynchronous)S 235 x(delivery)S 236 x(is)S 236 x(not)S 237 x
(app)S -2 x(ropriate)S 236 x(over)S 237 x(regions)S 236 x(of)S 237 x
(code)S 236 x(where)S 237 x(resources)S 237 x(are)S 236 x(being)S 3899 X
648 y(allocated)S -2 x(,)S 173 x(or)S 170 x(when)S 169 x(invariants)S
168 x(are)S 170 x(being)S 168 x(modi\211ed.)S 238 x(It)S 170 x(is)S
169 x(usual)S -2 x(ly)S 170 x(dif\211cult)S 169 x(to)S 169 x(determine)S
169 x(exactly)S 3899 X 647 y(where)S 215 x(the)S 214 x(exception)S 215 x
(was)S 214 x(raised)S 213 x(within)S 214 x(the)S 215 x(region.)S 339 x
(This)S 214 x(makes)S 214 x(it)S 215 x(very)S 215 x(dif\211cult)S 214 x
(\(and)S 214 x(often)S 3899 X 648 y(imposs)S -2 x(ible\))S 177 x(to)S
177 x(properly)S 177 x(release)S 176 x(resources)S 177 x(or)S 178 x
(restore)S 177 x(invariants)S 176 x(should)S 175 x(an)S 177 x(alert)S
177 x(be)S 176 x(delivered.)S 3899 30098 XY F32(4.7.5.3)S 547 x(What)S
183 x(to)S 183 x(assume)S 181 x(about)S 183 x(external)S 182 x(routines)S
3899 X 896 y F147(As)S 211 x(dis)S -2 x(cussed)S 211 x(in)S 211 x(Section)S
211 x(4.7.5.2,)S 219 x(it)S 211 x(can)S 211 x(be)S 211 x(dif\211cult)S
211 x(to)S 211 x(write)S 212 x(routines)S 211 x(that)S 211 x(function)S
211 x(correct)S 2 x(ly)S 3899 X 648 y(with)S 234 x(asynchronous)S 233 x
(delivery)S -62 x(.)S 399 x(Als)S -2 x(o,)S 248 x(most)S 234 x(existing)S
233 x(code)S 234 x(will)S 233 x(not)S 234 x(be)S 234 x(able)S 233 x
(to)S 234 x(cope)S 234 x(with)S 234 x(asyn-)S 3899 X 648 y(chronous)S
193 x(alerts.)S 275 x(It)S 193 x(is)S 192 x(always)S 193 x(safest)S
193 x(to)S 193 x(assume)S 192 x(that)S 193 x(you)S 193 x(should)S 192 x
F148(disable)S 194 x(asynchronous)S 193 x(deliv-)S 3899 X 647 y(ery)S
171 x(before)S 172 x(calli)S 2 x(ng)S 171 x(any)S 170 x(external)S 172 x
(routine)S 171 x F147(from)S 172 x(a)S 171 x(region)S 171 x(of)S 171 x
(code)S 171 x(where)S 171 x(asynchronous)S 171 x(deli)S -2 x(very)S
172 x(of)S 3899 X 648 y(alerts)S 182 x(has)S 182 x(been)S 182 x(enabl)S
-2 x(ed.)S 21509 37373 XY F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x
(77)S
%%EndCustomColor: 0
82 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%+ Helvetica-BoldOblique
%%PageCustomColors: 0
%
%%Page: 78 83
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4945 2106 XY F40(Concert)S 150 x(Multithread)S 151 x(Architecture)S
3899 4006 XY F147(The)S 230 x(only)S 230 x(exceptions)S 230 x(would)S
229 x(be)S 230 x(a)S 230 x(routine)S 230 x(which)S 230 x(you)S 230 x
(have)S 230 x(written)S 231 x(yourself)S 230 x(and)S 229 x(know)S 230 x
(to)S 231 x(be)S 3899 X 648 y(alertsafe,)S 258 x(or)S 244 x(an)S 243 x
(external)S 243 x(routine)S 243 x(which)S 243 x(is)S 243 x(speci\211call)S
-2 x(y)S 244 x(documented)S 242 x(as)S 243 x(being)S 243 x(alertsafe.)S
426 x(Of)S 3899 X 647 y(course,)S 196 x(if)S 194 x(a)S 193 x(region)S
193 x(of)S 194 x(code)S 194 x(does)S 192 x(not)S 194 x(have)S 193 x
(asynchronous)S 192 x(delivery)S 193 x(of)S 194 x(alerts)S 193 x(enabled)S
-2 x(,)S 197 x(you)S 193 x(need)S 3899 X 648 y(not)S 182 x(worry)S 184 x
(about)S 182 x(whether)S 183 x(routines)S 182 x(it)S 182 x(calls)S 182 x
(are)S 182 x(alertsafe.)S 3899 7443 XY F32(4.7.6)S 547 x(Routines)S
182 x(for)S 183 x(Controlling)S 183 x(Alerts)S 3899 8440 XY F147(The)S
269 x(CMA)S 268 x(architecture)S 268 x(provides)S 268 x(a)S 268 x(number)S
268 x(of)S 269 x(routines)S 268 x(that)S 268 x(allow)S 268 x(a)S 268 x
(client)S 268 x(to)S 269 x(control)S 269 x(the)S 3899 X 647 y(delivery)S
182 x(of)S 183 x(alerts.)S 243 x(Operations)S 182 x(are)S 182 x(provided)S
182 x(to:)S 3899 X 897 y(\201)S 714 x(Send)S 182 x(an)S 182 x(alert)S
183 x(to)S 182 x(a)S 183 x(thread)S 3899 X 897 y(\201)S 714 x(Deliver)S
183 x(an)S 182 x(alert)S 182 x(if)S 183 x(one)S 182 x(is)S 182 x(pendi)S
-2 x(ng)S 183 x(for)S 184 x(the)S 182 x(current)S 183 x(thread)S 3899 X
896 y(\201)S 714 x(Disabl)S -2 x(e)S 183 x(asynchronous)S 182 x(alert)S
182 x(delivery)S 3899 X 897 y(\201)S 714 x(Restore)S 182 x(the)S 183 x
(previous)S 182 x(state)S 182 x(of)S 183 x(asynchronous)S 182 x(alert)S
182 x(delivery)S 3899 X 896 y(\201)S 714 x(Enabl)S -2 x(e)S 183 x(asynchronous)S
182 x(alert)S 182 x(delivery)S 3899 X 897 y(\201)S 714 x(Defer)S 184 x
(deli)S -2 x(very)S 184 x(of)S 183 x(pendi)S -2 x(ng)S 183 x(alerts)S
3899 X 897 y(\201)S 714 x(Restore)S 182 x(the)S 183 x(previous)S 182 x
(state)S 182 x(of)S 183 x(alert)S 182 x(deferral)S 3899 16758 XY F32
(4.7.6.1)S 547 x F33(cma_thread_a)S -2 x(lert)S 3899 X 897 y F147(A)S
193 x(thread)S 194 x(can)S 193 x(request)S 194 x(that)S 194 x(another)S
193 x(thread)S 194 x(terminate)S 193 x(its)S 194 x(execution)S 193 x
(by)S 194 x(calling)S 193 x(the)S 194 x(procedure)S 3899 X 648 y(that)S
182 x(has)S 182 x(the)S 183 x(following)S 182 x(declaration)S -2 x(:)S
4945 19349 XY F98(procedure)S 269 x(CMA_THREAD_ALERT)S 269 x(\()S 8173 X
498 y(THREAD)S 269 x(:)S 269 x(in)S 269 x(CMA_T_THREAD\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_thread_alert)S 269 x(\()S 6021 X
498 y(cma_t_thread)S 11401 X(*thread\);)S 3899 23135 XY F147(Parameters:)S
3899 X 896 y F38(thread)S 8282 X(A)S 150 x(handle)S 150 x(for)S 150 x
(the)S 149 x(thread)S 151 x(that)S 149 x(is)S 149 x(to)S 150 x(receive)S
150 x(the)S 150 x(alert.)S 3899 25027 XY 23316 48 R 3899 25625 XY(Error)S
10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X(Description)S 3899 X
299 y 23316 48 R 3899 26621 XY(cma_e_)S 2 x(existence)S 10026 X(unpredictable)S
14409 X(The)S 150 x(object)S 150 x(speci\211ed)S 150 x(by)S 150 x(the)S
150 x(handle)S 150 x(does)S 151 x(not)S 149 x(curren)S 2 x(tly)S 148 x
(exist.)S 3899 X 698 y(cma_e_)S 2 x(use_erro)S 2 x(r)S 10026 X(unpredictable)S
14409 X(The)S 193 x(operation)S 193 x(requested)S 194 x(is)S 191 x(illegal)S
191 x(for)S 192 x(the)S 192 x(type)S 193 x(of)S 192 x(object)S 192 x
(or)S 192 x(the)S 14409 X 548 y(state)S 150 x(of)S 149 x(the)S 150 x
(object)S 149 x(passed)S 151 x(in.)S 3899 X 299 y 23316 48 R 3899 29162 XY
F147(An)S 182 x(alert)S 182 x(is)S 182 x(sent)S 182 x(to)S 183 x(the)S
183 x(designa)S -2 x(ted)S 183 x(thread.)S 3899 30158 XY(Because)S 158 x
(of)S 161 x(potentia)S -2 x(l)S 160 x(communication)S 158 x(delays,)S
164 x(the)S 159 x(caller)S 159 x(can)S 159 x(only)S 160 x(rely)S 159 x
(on)S 160 x(the)S 159 x(fact)S 160 x(that)S 160 x(an)S 159 x(alert)S
3899 X 648 y(will)S 240 x F148(eventually)S 243 x F147(become)S 241 x
(pendi)S -2 x(ng)S 242 x(in)S 241 x(the)S 241 x(designa)S -2 x(ted)S
241 x(thread)S 241 x(\(provided)S 241 x(it)S 241 x(does)S 240 x(not)S
242 x(terminate)S 3899 X 647 y(beforehand\).)S 360 x(Furthermore,)S
233 x(the)S 221 x(caller)S 221 x(has)S 221 x(no)S 221 x(guarantee)S
221 x(that)S 221 x(a)S 222 x(pend)S -2 x(ing)S 221 x(alert)S 222 x(will)S
220 x F148(ever)S 223 x F147(get)S 3899 X 648 y(delivered)S 181 x(since)S
182 x(alert)S 183 x(deli)S -2 x(very)S 184 x(is)S 182 x(controlled)S
181 x(by)S 183 x(the)S 183 x(desi)S -2 x(gnated)S 182 x(thread.)S 3899 33097 XY
(The)S 228 x(results)S 228 x(of)S 229 x(this)S 227 x(operation)S 228 x
(are)S 228 x F148(unpredictable)S 228 x F147(if)S 229 x(the)S 228 x
(handle)S 227 x(refers)S 229 x(to)S 228 x(a)S 228 x(thread)S 228 x(that)S
228 x(does)S 3899 X 648 y(not)S 174 x(currently)S 174 x(exist,)S 176 x
(or)S 174 x F148(cma_c_null)S F147(.)S 242 x(An)S 173 x(implementa)S
-2 x(tion)S 174 x(that)S 174 x(reports)S 173 x(this)S 174 x(error)S
174 x(will)S 173 x(raise)S 174 x(the)S 3899 X 647 y F149(cma_e)S -2 x
(_existence)S 182 x F147(exception.)S 3899 37373 XY F36(78)S 498 x(CMA)S
165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
83 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica-BoldOblique Courier Helvetica
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 79 84
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F147(This)S 182 x(operation)S 182 x(is)S 182 x(alertsafe)S
182 x(but)S 182 x(not)S 183 x(alertabl)S -2 x(e.)S 13729 4953 XY F153
(USAGE)S 167 x(NOTE)S 4796 6746 XY(\201)S 744 x(This)S 170 x(operation)S
171 x(is)S 170 x(asynchrono)S 2 x(us\202the)S 170 x(caller)S 170 x(does)S
171 x(not)S 170 x(wait)S 171 x(for)S 169 x(the)S 170 x(target)S 170 x
(thread)S 5842 X 598 y(to)S 198 x(receive)S 198 x(or)S 197 x(deliver)S
199 x(the)S 198 x(alert.)S 317 x(Additio)S 2 x(nal)S 199 x(synchroniza)S
2 x(tion,)S 207 x(if)S 198 x(required,)S 205 x(is)S 198 x(the)S 5842 X
598 y(responsibility)S 168 x(of)S 166 x(client)S 167 x(software.)S 4796 X
896 y(\201)S 744 x(A)S 166 x(thread)S 166 x(may)S 167 x(alert)S 166 x
(itself)S 167 x(as)S 166 x(well)S 167 x(as)S 166 x(anoth)S 2 x(er)S
165 x(thread.)S 4796 X 897 y(\201)S 744 x(This)S 179 x(operation)S 181 x
(is)S 180 x(the)S 179 x(preferred)S 178 x(means)S 180 x(of)S 179 x(implementin)S
2 x(g)S 179 x(Ada')S -17 x(s)S 179 x(abort)S 180 x(statement,)S 5842 X
598 y(and)S 238 x(any)S 238 x(other)S 237 x(langua)S 2 x(ge)S 237 x
(or)S 237 x(software-de\211ned)S 238 x(construct)S 238 x(for)S 237 x
(requesting)S 237 x(thread)S 5842 X 597 y(cancellati)S 2 x(on.)S 3899 12325 XY
F32(4.7.6.2)S 547 x F33(cma_alert_test)S 3899 X 897 y F147(The)S 157 x
(current)S 157 x(thread)S 156 x(can)S 156 x(request)S 156 x(delivery)S
157 x(of)S 157 x(a)S 156 x(pendi)S -2 x(ng)S 157 x(alert)S 156 x(by)S
157 x(callin)S -2 x(g)S 157 x(the)S 157 x(procedure)S 156 x(that)S 156 x
(has)S 3899 X 647 y(the)S 182 x(following)S 183 x(declarati)S -2 x(on:)S
4945 14915 XY F98(procedure)S 269 x(CMA_ALERT_TEST;)S 4945 X 499 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_alert_test)S 269 x(\(\);)S 3899 18004 XY
23316 48 R 3899 18602 XY F38(Error)S 10026 X(Kind)S 149 x(of)S 150 x
(Error)S 14409 X(Description)S 3899 X 298 y 23316 48 R 3899 19598 XY
(cma_e_)S 2 x(alerted)S 10026 X(alert)S 14409 X(This)S 149 x(exception)S
150 x(is)S 149 x(raised)S 150 x(when)S 149 x(an)S 150 x(alert)S 149 x
(is)S 148 x(delivered)S 150 x(to)S 149 x(the)S 149 x(thread)S 14409 X
548 y(\(see)S 151 x(Section)S 149 x(4.7\).)S 3899 X 299 y 23316 48 R
3899 21441 XY F147(If)S 218 x(an)S 217 x(alert)S 218 x(is)S 217 x(pend)S
-2 x(ing)S 218 x(for)S 218 x(the)S 218 x(current)S 218 x(thread,)S 226 x
(and)S 217 x(alert)S 217 x(delivery)S 217 x(is)S 217 x(not)S 218 x(currently)S
218 x(deferred,)S 3899 X 647 y(the)S 182 x(pending)S 182 x(alert)S 182 x
(is)S 182 x(cleared)S 182 x(and)S 181 x(the)S 183 x(alert)S 182 x(is)S
182 x(delivered.)S 3899 23085 XY(This)S 182 x(operation)S 182 x(is)S
182 x(alertsafe)S 182 x(and)S 181 x(alertable.)S -634 x 24031 Y F153
(USAGE)S 167 x(NOTE)S 4796 X 897 y(This)S 172 x(operatio)S 2 x(n)S 172 x
(can)S 173 x(be)S 173 x(called)S 173 x(within)S 174 x(very)S 173 x(long)S
174 x(loops)S 173 x(to)S 174 x(ensure)S 172 x(that)S 173 x(a)S 173 x
(pendin)S 2 x(g)S 172 x(alert)S 4796 X 598 y(will)S 166 x(be)S 166 x
(noticed)S 167 x(within)S 168 x(a)S 166 x(reasonable)S 167 x(amount)S
167 x(of)S 166 x(time.)S 3899 26920 XY F32(4.7.6.3)S 547 x F33(cma_alert_disable_)S
-2 x(asynch)S 3899 X 897 y F147(The)S 222 x(current)S 223 x(thread)S
221 x(can)S 222 x(disa)S -2 x(ble)S 221 x(asynchronous)S 221 x(alert)S
222 x(delivery)S 222 x(by)S 221 x(calling)S 221 x(the)S 222 x(procedure)S
222 x(that)S 3899 X 648 y(has)S 182 x(the)S 182 x(following)S 182 x
(declaration:)S 4945 29511 XY F98(procedure)S 269 x(CMA_ALERT_DISABLE_ASYNCH)S
269 x(\()S 8173 X 498 y(PRIOR)S 269 x(:)S 269 x(out)S 269 x(CMA_T_ALERT_STATE\);)S
4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_alert_disable_asynch)S 269 x(\()S
6021 X 498 y(cma_t_alert_state)S 807 x(*prior\);)S 3899 33296 XY F147
(Parameters:)S 3899 X 897 y F38(prior)S 8282 X(A)S 150 x(variable)S
150 x(to)S 149 x(receive)S 151 x(the)S 149 x(curren)S 2 x(t)S 149 x
(state)S 149 x(of)S 150 x(asynchron)S 2 x(ous)S 150 x(alert)S 149 x
(delivery)S -33 x(.)S 3899 35189 XY F147(Asynchronous)S 245 x(deli)S
-2 x(very)S 247 x(of)S 246 x(alerts)S 245 x(in)S 245 x(the)S 246 x(current)S
246 x(thread)S 245 x(is)S 245 x(disa)S -2 x(bled,)S 261 x(and)S 245 x
(the)S 245 x(prior)S 246 x(state)S 245 x(of)S 3899 X 648 y(asynchronous)S
182 x(deli)S -2 x(very)S 184 x(is)S 182 x(stored)S 182 x(in)S 182 x
(the)S 182 x F148(prior)S 184 x F147(parameter)S -41 x(.)S 21509 37373 XY
F36(CMA)S 165 x(Core)S 166 x(Services)S 499 x(79)S
%%EndCustomColor: 0
84 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold Helvetica-BoldOblique
%%+ Courier Helvetica NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 80 85
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(This)S 182 x(operation)S 182 x(is)S 182 x(alertsafe)S
182 x(but)S 182 x(not)S 183 x(alertabl)S -2 x(e.)S 3899 5401 XY F32
(4.7.6.4)S 547 x F33(cma_alert_restore_a)S -2 x(synch)S 3899 X 897 y
F147(The)S 247 x(current)S 248 x(thread)S 246 x(can)S 247 x(restore)S
247 x(the)S 247 x(asynchronous)S 246 x(alert)S 247 x(delivery)S 246 x
(state)S 247 x(that)S 247 x(was)S 246 x(saved)S 247 x(by)S 3899 X 647 y
F148(cma_alert_disable_asynch)S 183 x F147(by)S 183 x(calli)S -2 x(ng)S
183 x(the)S 183 x(procedure)S 182 x(that)S 182 x(has)S 182 x(the)S 183 x
(following)S 182 x(declarati)S -2 x(on:)S 4945 7991 XY F98(procedure)S
269 x(CMA_ALERT_RESTORE_ASYNCH)S 269 x(\()S 8173 X 498 y(PRIOR)S 269 x
(:)S 269 x(in)S 269 x(CMA_T_ALERT_STATE\);)S 4945 X 499 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_alert_restore_asynch)S 269 x(\()S
6021 X 498 y(cma_t_alert_state)S 807 x(*prior\);)S 3899 11777 XY F147
(Parameters:)S 3899 X 897 y F38(prior)S 8282 X(A)S 150 x(variable)S
150 x(holding)S 150 x(the)S 149 x(prior)S 150 x(state)S 150 x(of)S 149 x
(asynchr)S 2 x(onous)S 150 x(alert)S 150 x(delivery)S -33 x(.)S 3899 13670 XY
23316 48 R 3899 14268 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S
14409 X(Description)S 3899 X 299 y 23316 48 R 3899 15264 XY(cma_e_)S
2 x(badparam)S 10026 X(unpredictable)S 14409 X(One)S 150 x(or)S 150 x
(more)S 151 x(parame)S 2 x(ters)S 149 x(supplied)S 150 x(had)S 151 x
(an)S 150 x(invalid)S 149 x(value.)S 3899 X 299 y 23316 48 R 3899 16559 XY
F147(Asynchronous)S 169 x(alert)S 170 x(deli)S -2 x(very)S 171 x(is)S
169 x(restored)S 170 x(to)S 170 x(the)S 170 x(setting)S 170 x(that)S
170 x(was)S 169 x(stored)S 170 x(into)S 169 x(the)S 170 x F148(prior)S
171 x F147(param-)S 3899 X 648 y(eter)S 198 x(by)S 198 x(a)S 198 x(previous)S
197 x(call)S 197 x(to)S 198 x F148(cma_alert_disable_asynch)S F147(.)S
290 x(Depending)S 197 x(on)S 198 x(the)S 197 x(value)S 198 x(stored)S
197 x(in)S 198 x(the)S 3899 X 647 y(parameter)S -41 x(,)S 183 x(this)S
182 x(operation)S 181 x(may)S 183 x(or)S 183 x(may)S 183 x(not)S 182 x
(actually)S 182 x F148(enable)S 183 x F147(asynchronous)S 181 x(delivery)S
182 x(of)S 183 x(alerts.)S 3899 18851 XY(The)S 267 x(results)S 265 x
(of)S 267 x(this)S 266 x(operation)S 265 x(are)S 266 x F148(unpredictable)S
267 x F147(if)S 266 x(not)S 266 x(executed)S 267 x(in)S 266 x(the)S
266 x(same)S 266 x(lexical)S 265 x(unit)S 3899 X 647 y(\(procedure,)S
197 x(function,)S 197 x(block,)S 197 x(etc.\))S 279 x(as)S 194 x(an)S
193 x(earlier)S 194 x(matching)S 194 x F148(cma_alert_disable_asynch)S
F147(.)S 278 x(This)S 194 x(is)S 3899 X 648 y(to)S 166 x(ensure)S 166 x
(that)S 167 x(code)S 166 x(is)S 166 x(compatibl)S -2 x(e)S 167 x(with)S
166 x(future)S 167 x(buil)S -2 x(t-in)S 167 x(compiler)S 166 x(supp)S
-2 x(ort,)S 171 x(as)S 165 x(well)S 166 x(as)S 166 x(to)S 167 x(permit)S
3899 X 647 y(the)S 182 x(most)S 183 x(ef\211cient)S 183 x(implemen)S
-2 x(tations.)S 3899 21790 XY(This)S 202 x(operation)S 202 x(can)S 202 x
(be)S 202 x(executed)S 203 x(more)S 203 x(than)S 202 x(once)S 202 x
(for)S 204 x(the)S 202 x(same)S 202 x(matching)S 203 x F148(cma_alert_disable_)S
3899 X 647 y(asynch)S F147(.)S 241 x(\(This)S 174 x(is)S 173 x(to)S
175 x(ensure)S 174 x(reliab)S -2 x(le)S 174 x(coding\).)S 241 x(Results)S
173 x(are)S 174 x(unpredi)S -2 x(ctable)S 174 x(if)S 174 x(the)S 175 x
F148(prior)S 174 x F147(value)S 174 x(was)S 3899 X 648 y(not)S 185 x
(set)S 185 x(by)S 185 x(a)S 185 x(previous)S 184 x(call)S 185 x(to)S
185 x F148(cma_alert_disable_asynch)S F147(:)S 250 x(if)S 185 x(the)S
185 x(implementati)S -2 x(on)S 185 x(tests)S 185 x(for)S 186 x(this)S
3899 X 647 y(error)S -40 x(,)S 183 x(it)S 183 x(will)S 181 x(raise)S
182 x F149(cma_e_badparam)S F147(.)S 3899 24729 XY(This)S 182 x(operation)S
182 x(is)S 182 x(alertsafe)S 182 x(but)S 182 x(not)S 183 x(alertabl)S
-2 x(e.)S 13729 25675 XY F153(USAGE)S 167 x(NOTE)S 4796 X 897 y(Since)S
155 x(this)S 155 x(operation)S 156 x(is)S 154 x(not)S 155 x(alertable,)S
158 x(an)S 155 x(alert)S 155 x(which)S 155 x(is)S 155 x(already)S 155 x
(pending)S 156 x(will)S 155 x F154(remain)S 4796 X 597 y F153(pending)S
171 x(after)S 169 x(the)S 171 x(call)S 170 x(returns.)S 233 x(If)S 170 x
(a)S 170 x(pending)S 172 x(alert)S 170 x(should)S 171 x(be)S 170 x(delivered)S
170 x(immediately)S -54 x(,)S 4796 X 598 y(follow)S 128 x(the)S 127 x
(call)S 128 x(to)S 128 x F148(cma_alert_restore_asynch)S 128 x F153
(with)S 127 x(a)S 128 x(call)S 128 x(to)S 127 x(an)S 128 x(alertable)S
128 x(operation)S 128 x(such)S 4796 X 598 y(as)S 166 x F148(cma_alert_test)S
F153(.)S 3899 29760 XY F32(4.7.6.5)S 547 x F33(cma_alert_enab)S -2 x
(le_async)S -2 x(h)S 3899 X 896 y F147(The)S 161 x(current)S 161 x(thread)S
159 x(can)S 161 x(enabl)S -2 x(e)S 161 x(asynchronous)S 159 x(delivery)S
160 x(of)S 161 x(alerts)S 160 x(by)S 160 x(calling)S 159 x(the)S 161 x
(procedure)S 160 x(that)S 3899 X 648 y(has)S 182 x(the)S 182 x(following)S
182 x(declaration:)S 4945 32350 XY F98(procedure)S 269 x(CMA_ALERT_ENABLE_ASYNCH;)S
4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_alert_enable_asynch)S 269 x(\(\);)S
3899 37373 XY F36(80)S 498 x(CMA)S 165 x(Core)S 166 x(Services)S
%%EndCustomColor: 0
85 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica-BoldOblique NewCenturySchlbk-Italic
%%+ Courier Helvetica NewCenturySchlbk-Bold
%%+ NewCenturySchlbk-BoldItalic
%%PageCustomColors: 0
%
%%Page: 81 86
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4248 XY F38(Error)S 10026 X(Kind)S 149 x
(of)S 150 x(Error)S 14409 X(Description)S 3899 X 298 y 23316 48 R 3899 5244 XY
(cma_e_)S 2 x(alerted)S 10026 X(alert)S 14409 X(This)S 149 x(exception)S
150 x(is)S 149 x(raised)S 150 x(when)S 149 x(an)S 150 x(alert)S 149 x
(is)S 148 x(delivered)S 150 x(to)S 149 x(the)S 149 x(thread)S 14409 X
548 y(\(see)S 151 x(Section)S 149 x(4.7\).)S 3899 X 299 y 23316 48 R
3899 7087 XY F147(Call)S -2 x(ing)S 183 x(this)S 182 x(operation)S 181 x
(enables)S 181 x(asynchronous)S 182 x(deli)S -2 x(very)S 184 x(of)S
183 x(alerts.)S 3899 8083 XY(This)S 185 x(operation)S 184 x(is)S 184 x
(alertsafe)S 185 x(and)S 184 x(alertable.)S 250 x(If)S 186 x(an)S 185 x
(alert)S 185 x(is)S 184 x(pending)S 184 x(for)S 186 x(the)S 185 x(current)S
186 x(thread,)S 185 x(and)S 3899 X 648 y(alert)S 182 x(delivery)S 182 x
(is)S 182 x(not)S 183 x(currently)S 183 x(deferred,)S 183 x(the)S 182 x
(pending)S 182 x(alert)S 182 x(is)S 182 x(deli)S -2 x(vered.)S 13729 9677 XY
F153(USAGE)S 167 x(NOTE)S 4796 X 897 y(Unlike)S 111 x F148(cma_alert_disable_asynch)S
F153(,)S 123 x F148(cma_alert_enable_asynch)S 111 x F153(does)S 111 x
(not)S 111 x(return)S 111 x(the)S 111 x(prior)S 4796 X 598 y(state)S
186 x(of)S 186 x(asynchrono)S 2 x(us)S 186 x(delivery)S -54 x(.)S 281 x
(This)S 186 x(is)S 186 x(because)S 186 x(asynch)S 2 x(ronous)S 186 x
(delivery)S 187 x(is)S 186 x F154(enabled)S F153(,)S 4796 X 597 y(and)S
143 x(any)S 143 x(return)S 142 x(value)S 144 x(would)S 143 x(be)S 142 x
(unreliable)S 144 x(\(an)S 143 x(alert)S 142 x(may)S 143 x(occur)S 143 x
(during)S 143 x(the)S 143 x(hardware)S 4796 X 598 y(or)S 165 x(lang)S
2 x(uage)S 167 x(procedure)S 166 x(return)S 165 x(linka)S 2 x(ge\).)S
4796 X 897 y(T)S -47 x(o)S 111 x(allo)S 2 x(w)S 110 x(reliable)S 112 x
(recovery)S 110 x(from)S 110 x(asynchron)S 2 x(ous)S 111 x(alerts,)S
123 x F148(cma_alert_enable_asynch)S 110 x F153(should)S 4796 X 598 y
(always)S 131 x(be)S 130 x(called)S 132 x(in)S 131 x(a)S 131 x(region)S
131 x(of)S 130 x(code)S 131 x(where)S 130 x(asynchrono)S 2 x(us)S 130 x
(deliv)S 2 x(ery)S 130 x(has)S 131 x(been)S 130 x F154(disabled)S 4796 X
597 y F153(by)S 159 x(a)S 159 x(call)S 161 x(to)S 159 x F148(cma_alert_disable_asynch)S
F153(.)S 220 x(The)S 159 x(previous)S 160 x(state)S 160 x(of)S 160 x
(asynchronou)S 2 x(s)S 159 x(delivery)S 4796 X 598 y(can)S 166 x(later)S
167 x(be)S 165 x(restored)S 166 x(by)S 166 x(a)S 167 x(call)S 167 x
(to)S 166 x F148(cma_alert_res)S 2 x(tore_asynch)S F153(.)S 3899 16452 XY
F32(4.7.6.6)S 547 x F33(cma_alert_defer_a)S -2 x(ll)S 3899 X 896 y F147
(The)S 128 x(current)S 129 x(thread)S 128 x(can)S 128 x(defer)S 128 x
(delivery)S 128 x(of)S 129 x(alerts)S 127 x(by)S 128 x(calling)S 127 x
(the)S 129 x(procedure)S 127 x(that)S 128 x(has)S 128 x(the)S 128 x
(following)S 3899 X 648 y(declaration)S -2 x(:)S 4945 19042 XY F98(procedure)S
269 x(CMA_ALERT_DEFER_ALL)S 269 x(\()S 8173 X 498 y(PRIOR)S 269 x(:)S
269 x(out)S 269 x(CMA_T_ALERT_STATE\);)S 4945 X 498 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_alert_defer_all)S 269 x(\()S 6021 X
499 y(cma_t_alert_state)S 807 x(*prior\);)S 3899 22828 XY F147(Parameters:)S
3899 X 897 y F38(prior)S 8282 X(A)S 150 x(variable)S 150 x(to)S 149 x
(receive)S 151 x(the)S 149 x(curren)S 2 x(t)S 149 x(state)S 149 x(of)S
150 x(alert)S 149 x(defermen)S 2 x(t)S 149 x(for)S 149 x(the)S 150 x
(current)S 151 x(thread.)S 3899 24721 XY F147(Delivery)S 157 x(of)S
157 x(alerts)S 156 x(is)S 155 x(deferred)S 157 x(for)S 157 x(the)S 157 x
(current)S 157 x(thread.)S 234 x(No)S 157 x(alert)S 156 x(can)S 156 x
(be)S 156 x(delivered)S 156 x(to)S 156 x(the)S 157 x(thread,)S 3899 X
647 y(even)S 236 x(if)S 236 x(an)S 235 x(alertable)S 235 x(routine)S
235 x(is)S 236 x(called)S -2 x(,)S 250 x(or)S 236 x(asynchronous)S 235 x
(delivery)S 235 x(of)S 237 x(alerts)S 235 x(is)S 235 x(enabled)S -2 x
(.)S 404 x(The)S 3899 X 648 y(prior)S 182 x(state)S 182 x(of)S 184 x
(alert)S 182 x(delivery)S 182 x(deferment)S 183 x(is)S 182 x(stored)S
182 x(in)S 182 x(the)S 183 x F148(prior)S 183 x F147(parameter)S -41 x
(.)S 3899 27012 XY(This)S 182 x(operation)S 182 x(is)S 182 x(alertsafe)S
182 x(but)S 182 x(not)S 183 x(alertabl)S -2 x(e.)S 3899 28407 XY F32
(4.7.6.7)S 547 x F33(cma_alert_restore_a)S -2 x(ll)S 3899 X 897 y F147
(The)S 170 x(current)S 170 x(thread)S 168 x(can)S 170 x(restore)S 169 x
(the)S 170 x(state)S 169 x(of)S 170 x(alert)S 169 x(deferral)S 169 x
(to)S 169 x(the)S 170 x(state)S 169 x(prior)S 169 x(to)S 169 x(a)S 169 x
(call)S 169 x(to)S 170 x F148(cma_)S 3899 X 647 y(alert_defer_all)S
184 x F147(by)S 183 x(calling)S 181 x(the)S 183 x(procedure)S 182 x
(that)S 183 x(has)S 182 x(the)S 182 x(following)S 182 x(declaration:)S
4945 30997 XY F98(procedure)S 269 x(CMA_ALERT_RESTORE_ALL)S 269 x(\()S
8173 X 498 y(PRIOR)S 269 x(:)S 269 x(in)S 269 x(CMA_T_ALERT_STATE\);)S
4945 X 499 y
(________________________________________________________________________________)S
4945 X 797 y(void)S 4945 X 498 y(cma_alert_restore_all)S 269 x(\()S
6021 X 498 y(cma_t_alert_state)S 807 x(*prior\);)S 21509 37373 XY F36
(CMA)S 165 x(Core)S 166 x(Services)S 499 x(81)S
%%EndCustomColor: 0
86 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Bold
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-BoldItalic
%%+ Helvetica-BoldOblique Courier
%%PageCustomColors: 0
%
%%Page: 82 87
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3985 XY F147(Parameters:)S 3899 X 897 y F38(prior)S 8282 X(A)S
150 x(variable)S 150 x(holding)S 150 x(the)S 149 x(prior)S 150 x(state)S
150 x(of)S 149 x(alert)S 150 x(deferment.)S 3899 5878 XY 23316 48 R
3899 6476 XY(Error)S 10026 X(Kind)S 149 x(of)S 150 x(Error)S 14409 X
(Description)S 3899 X 299 y 23316 48 R 3899 7472 XY(cma_e_)S 2 x(badparam)S
10026 X(unpredictable)S 14409 X(One)S 150 x(or)S 150 x(more)S 151 x
(parame)S 2 x(ters)S 149 x(supplied)S 150 x(had)S 151 x(an)S 150 x(invalid)S
149 x(value.)S 3899 X 299 y 23316 48 R 3899 8768 XY F147(Alert)S 238 x
(deferment)S 239 x(is)S 237 x(restored)S 239 x(to)S 238 x(the)S 239 x
(setting)S 238 x(that)S 238 x(was)S 238 x(stored)S 238 x(into)S 238 x
(the)S 238 x F148(prior)S 239 x F147(parameter)S 238 x(by)S 239 x(a)S
3899 X 647 y(previous)S 182 x(call)S 181 x(to)S 183 x F148(cma_alert_defer)S
2 x(_all)S F147(.)S 3899 10411 XY(The)S 267 x(results)S 265 x(of)S 267 x
(this)S 266 x(operation)S 265 x(are)S 266 x F148(unpredictable)S 267 x
F147(if)S 266 x(not)S 266 x(executed)S 267 x(in)S 266 x(the)S 266 x
(same)S 266 x(lexical)S 265 x(unit)S 3899 X 648 y(\(procedure,)S 272 x
(function,)S 272 x(block,)S 272 x(etc.\))S 458 x(as)S 254 x(an)S 253 x
(earlier)S 253 x(matching)S 254 x F148(cma_alert_defer_all)S 2 x F147
(.)S 458 x(This)S 253 x(is)S 253 x(to)S 3899 X 648 y(ensure)S 212 x
(that)S 213 x(code)S 212 x(is)S 213 x(compatib)S -2 x(le)S 213 x(with)S
213 x(future)S 213 x(built-in)S 211 x(compiler)S 213 x(supp)S -2 x(ort,)S
221 x(as)S 212 x(well)S 213 x(as)S 212 x(to)S 213 x(permit)S 3899 X
647 y(the)S 182 x(most)S 183 x(ef\211cient)S 183 x(implemen)S -2 x(tations.)S
3899 13350 XY(This)S 179 x(operation)S 179 x(can)S 180 x(be)S 179 x
(executed)S 180 x(more)S 180 x(than)S 179 x(once)S 180 x(for)S 181 x
(the)S 179 x(same)S 180 x(matching)S 179 x F148(cma_alert_defer)S 2 x
(_all)S F147(.)S 3899 X 648 y(\(This)S 189 x(is)S 188 x(to)S 189 x(ensure)S
188 x(reliable)S 188 x(coding\).)S 262 x(Results)S 187 x(are)S 189 x
(unpredictabl)S -2 x(e)S 189 x(if)S 189 x(the)S 189 x F148(prior)S 189 x
F147(value)S 188 x(was)S 189 x(not)S 189 x(set)S 3899 X 648 y(by)S 168 x
(a)S 168 x(previous)S 167 x(call)S 168 x(to)S 168 x F148(cma_alert_disable_asynch)S
F147(:)S 237 x(if)S 169 x(the)S 168 x(implementati)S -2 x(on)S 168 x
(tests)S 168 x(for)S 169 x(this)S 168 x(error)S -40 x(,)S 172 x(it)S
3899 X 647 y(will)S 182 x(raise)S 182 x F149(cma_e)S -2 x(_badparam)S
F147(.)S 3899 16289 XY(This)S 182 x(operation)S 182 x(is)S 182 x(alertsafe)S
182 x(but)S 182 x(not)S 183 x(alertabl)S -2 x(e.)S 13729 17236 XY F153
(USAGE)S 167 x(NOTE)S 4796 X 896 y(Since)S 155 x(this)S 155 x(operation)S
156 x(is)S 154 x(not)S 155 x(alertable,)S 158 x(an)S 155 x(alert)S 155 x
(which)S 155 x(is)S 155 x(already)S 155 x(pending)S 156 x(will)S 155 x
F154(remain)S 4796 X 598 y F153(pending)S 171 x(after)S 169 x(the)S
171 x(call)S 170 x(returns.)S 233 x(If)S 170 x(a)S 170 x(pending)S 172 x
(alert)S 170 x(should)S 171 x(be)S 170 x(delivered)S 170 x(immediately)S
-54 x(,)S 4796 X 598 y(follow)S 157 x(the)S 157 x(call)S 158 x(to)S
157 x F148(cma_alert_restore)S 2 x(_all)S 157 x F153(with)S 157 x(a)S
157 x(call)S 157 x(to)S 158 x(an)S 157 x(alertable)S 157 x(operation)S
158 x(such)S 157 x(as)S 4796 X 598 y F148(cma_alert_test)S F153(.)S
3899 21420 XY F32(4.7.7)S 547 x(Implementation)S 183 x(Details)S 3899 22416 XY
F147(Alerts)S 145 x(are)S 145 x(conceptually)S 145 x(controlled)S 145 x
(by)S 145 x(three)S 146 x(bits)S 145 x(in)S 145 x(the)S 145 x(Thread)S
145 x(Control)S 145 x(Block)S 145 x(\(TCB\):)S 147 x(pendi)S -2 x(ng_)S
3899 X 648 y(alert,)S 183 x(dis)S -2 x(able_del)S -2 x(ivery)S -60 x
(,)S 183 x(and)S 181 x(defer_delivery)S -61 x(.)S 3899 24060 XY(Here)S
152 x(is)S 152 x(a)S 151 x(concise)S 152 x(operationa)S -2 x(l)S 152 x
(descripti)S -2 x(on)S 152 x(of)S 152 x(the)S 152 x(alert)S 152 x(operations)S
150 x(in)S 151 x(terms)S 152 x(of)S 153 x(this)S 151 x(simpl)S -2 x
(e)S 152 x(three)S 3899 X 648 y(bit)S 191 x(model.)S 268 x(For)S 192 x
(brevity)S -60 x(,)S 193 x(tests)S 191 x(for)S 192 x(error)S 192 x(conditions)S
190 x(are)S 191 x(not)S 191 x(shown.)S 269 x(The)S 192 x(only)S 191 x
(atomic)S 191 x(operation)S 3899 X 647 y(is)S 220 x(attempt_deli)S -2 x
(very)S -60 x(.)S 359 x(The)S 221 x(notation)S 219 x(`)S -10 x(`me')S
-10 x(')S 221 x(refers)S 221 x(to)S 221 x(the)S 221 x(thread)S 220 x
(control)S 221 x(block)S 220 x(of)S 221 x(the)S 221 x(currently)S 3899 X
648 y(executing)S 183 x(thread.)S 3899 27198 XY 23316 48 R 3899 27846 XY
F32(T)S -41 x(able)S 182 x(2:)S 498 x(Operational)S 183 x(Model)S 183 x
(of)S 183 x(Alerts)S 3899 X 299 y 23316 48 R 3899 28743 XY F38(Operation)S
11072 X(Mechan)S 2 x(ism)S 3899 X 299 y 23316 48 R 3899 29739 XY(cma_threa)S
2 x(d_alert)S 150 x(\(t\))S 11072 X(Sends)S 150 x(a)S 150 x(messag)S
2 x(e)S 149 x(to)S 150 x(t,)S 148 x(that)S 150 x(eventually)S 149 x
(results)S 150 x(in)S 149 x(t)S 149 x(execu)S 2 x(ting)S 149 x(the)S
149 x(following:)S 12148 X 797 y F98(me.pending_alert)S 269 x(:=)S 269 x
(true;)S 12148 X 548 y(attempt_delivery;)S 3899 X 697 y F38(cma_alert_test)S
12148 X 797 y F98(temp)S 269 x(:=)S 269 x(me.disable_delivery;)S 12148 X
548 y(me.disable_delivery)S 269 x(:=)S 269 x(false;)S 12148 X 548 y
(attempt_delivery;)S 12148 X 548 y(me.disable_delivery)S 269 x(:=)S
269 x(temp;)S 3899 37373 XY F36(82)S 498 x(CMA)S 165 x(Core)S 166 x
(Services)S
%%EndCustomColor: 0
87 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica NewCenturySchlbk-Italic
%%+NewCenturySchlbk-Bold NewCenturySchlbk-BoldItalic
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 83 88
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4297 XY F32(T)S -41 x(able)S 182 x(2)S
183 x(\(Cont.\):)S 499 x(Operational)S 183 x(Model)S 182 x(of)S 183 x
(Alerts)S 3899 X 299 y 23316 48 R 3899 5194 XY F38(Operation)S 11072 X
(Mechan)S 2 x(ism)S 3899 X 299 y 23316 48 R 3899 6190 XY(cma_alert_d)S
2 x(isable_asynch)S 101 x(\(OUT)S 3899 X 548 y(prior\))S 12148 X 249 y
F98(prior)S 269 x(:=)S 269 x(me.disable_delivery;)S 12148 X 548 y(me.disable_delivery)S
269 x(:=)S 269 x(true;)S 3899 X 698 y F38(cma_alert_r)S 2 x(estore_asyn)S
2 x(ch)S 100 x(\(IN)S 99 x(prior\))S 12148 X 797 y F98(me.disable_delivery)S
269 x(:=)S 269 x(prior;)S 3899 X 697 y F38(cma_alert_e)S 2 x(nable_asynch)S
12148 X 797 y F98(me.disable_delivery)S 269 x(:=)S 269 x(false;)S 12148 X
548 y(attempt_delivery;)S 3899 X 697 y F38(attempt_delivery)S 12148 X
797 y F98(if)S 269 x(me.pending_alert)S 269 x(and)S 13224 X 548 y(\(not)S
269 x(me.disable_delivery)S 269 x(and)S 269 x(not)S 269 x(me.defer_delivery\))S
12148 X 548 y(then)S 548 y(me.pending_alert)S 18604 X(:=)S 269 x(false;)S
13224 X 548 y(me.disable_delivery)S 269 x(:=)S 269 x(true;)S 13224 X
548 y(raise)S 269 x(cma_e_alerted;)S 12148 X 548 y(end)S 269 x(if;)S
3899 X 399 y 23316 48 R 3899 17348 XY F147(Whil)S -2 x(e)S 188 x(that)S
187 x(is)S 187 x(the)S 187 x(conceptual)S 187 x(model,)S 188 x(there)S
188 x(are)S 188 x(some)S 187 x(alternate)S 187 x(mechanisms)S 186 x
(which)S 187 x(an)S 187 x(imple-)S 3899 X 648 y(mentation)S 182 x(can)S
182 x(use)S 182 x(if)S 183 x(it)S 182 x(is)S 182 x(expensive)S 182 x
(to)S 183 x(locate)S 182 x(or)S 183 x(upda)S -2 x(te)S 183 x(the)S 183 x
(TCB:)S 3899 X 897 y F36(1.)S 631 x F147(Compil)S -2 x(ers)S 168 x(can)S
167 x(all)S 167 x(agree)S 168 x(to)S 167 x(identify)S 167 x(the)S 168 x
(various)S 167 x(kinds)S 166 x(of)S 168 x(code)S 168 x(blocks)S 166 x
(by)S 168 x(constructing)S 168 x(`)S -10 x(`PC)S 4945 X 647 y(maps')S
-11 x(')S 233 x(that)S 233 x(de\211ne)S 232 x(where)S 234 x(alerts)S
232 x(are)S 234 x(enabl)S -2 x(ed)S 233 x(or)S 234 x(dis)S -2 x(abled,)S
245 x(and)S 232 x(the)S 233 x(implementation)S 232 x(can)S 4945 X 648 y
(look)S 179 x(at)S 180 x(the)S 180 x(current)S 180 x(PC)S 180 x(of)S
180 x(a)S 180 x(thread)S 179 x(to)S 180 x(determine)S 179 x(whether)S
181 x(to)S 180 x(deli)S -2 x(ver)S 181 x(the)S 179 x(alert)S 180 x(or)S
180 x(make)S 180 x(it)S 4945 X 647 y(pend.)S 3899 X 897 y F36(2.)S 631 x
F147(The)S 242 x(implementation)S 240 x(can)S 242 x(avoid)S 241 x(the)S
242 x(entire)S 242 x(issue)S 241 x(of)S 243 x(asynchronous)S 241 x(delivery)S
242 x(of)S 242 x(alerts)S 242 x(by)S 4945 X 648 y(having)S 188 x(a)S
189 x(fully)S 188 x F148(synchronous)S 189 x F147(implementation)S -2 x
(.)S 263 x(Such)S 189 x(a)S 188 x(CMA)S 189 x(imple)S -2 x(mentation)S
189 x(must)S 188 x(imple-)S 4945 X 647 y(ment)S 145 x(all)S 144 x(the)S
145 x(operations)S 144 x(pertaini)S -2 x(ng)S 145 x(to)S 146 x(alerts,)S
152 x(but)S 145 x(need)S 144 x(only)S 145 x(ensure)S 144 x(that)S 145 x
(a)S 145 x(pendi)S -2 x(ng)S 145 x(alert)S 145 x(is)S 4945 X 648 y(delivered)S
175 x(to)S 177 x(all)S 175 x(of)S 177 x(the)S 176 x(CMA)S 176 x(operations)S
175 x(that)S 176 x(the)S 176 x(architecture)S 177 x(de\211nes)S 175 x
(to)S 176 x(be)S 176 x(alertable)S 175 x(\(see)S 4945 X 647 y(Section)S
201 x(4.7.3.1\).)S 299 x(The)S 201 x(semantics)S 200 x(of)S 202 x(alerts)S
200 x(and)S 200 x(the)S 201 x(operational)S 199 x(model)S 200 x(do)S
201 x(not)S 201 x(specify)S 201 x(any)S 4945 X 648 y(time)S 146 x(constraints)S
146 x(on)S 146 x(when)S 146 x(the)S 147 x(attempt_deli)S -2 x(very)S
148 x(that)S 146 x(is)S 146 x(associ)S -2 x(ated)S 146 x(with)S 147 x
F148(cma_thread_alert)S 4945 X 647 y F147(is)S 202 x(actually)S 201 x
(performed.)S 304 x(If)S 203 x(the)S 203 x(receiving)S 202 x(thread)S
202 x(postpones)S 201 x(delivery)S 202 x(until)S 201 x(the)S 203 x(next)S
203 x(call)S 201 x(to)S 4945 X 648 y(an)S 182 x(alertable)S 181 x(operation,)S
182 x(it)S 183 x(is)S 182 x(called)S 181 x(a)S 182 x(synchronous)S 182 x
(implementati)S -2 x(on.)S -312 x 37373 Y F36(CMA)S 165 x(Core)S 166 x
(Services)S 499 x(83)S
%%EndCustomColor: 0
88 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ Courier NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 85 89
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 12890 6666 XY F20(CHAPTER)S 500 x(5)S 8040 8161 XY F24(LANGU)S
-2 x(AGE)S 273 x(SUPPORT)S 273 x(FOR)S 273 x(CMA)S 272 x(SER)S -12 x
(VICES)S 3899 10153 XY F147(Language)S 167 x(or)S 168 x(compiler)S 167 x
(support)S 167 x(for)S 168 x(certain)S 167 x(CMA)S 167 x(constructs)S
168 x(is)S 167 x(often)S 168 x(bene\211cial)S 166 x(or)S 168 x(required.)S
238 x(In)S 3899 X 648 y(this)S 182 x(section)S 182 x(we)S 183 x(list)S
182 x(suggested)S 181 x(compiler)S 182 x(and)S 182 x(language)S 182 x
(features)S 182 x(\(in)S 183 x(order)S 183 x(of)S 183 x(importance\).)S
3899 12295 XY F28(5.1)S 599 x(Support)S 199 x(for)S 199 x(Inline)S 201 x
(Expansion)S 201 x(of)S 199 x(Subprograms)S 3899 13291 XY F147(Certain)S
208 x(CMA)S 208 x(routines)S 208 x(are)S 209 x(executed)S 209 x(frequently)S
208 x(\202)S 209 x(for)S 210 x(example,)S 214 x(locking)S 208 x(and)S
208 x(unlocking)S 208 x(mu-)S 3899 X 648 y(texes,)S 143 x(and)S 132 x
(signall)S -2 x(ing)S 133 x(or)S 133 x(broadcastin)S -2 x(g)S 134 x
(on)S 132 x(condition)S 132 x(variables)S -2 x(.)S 228 x(CMA)S 132 x
(language)S 132 x(interfaces)S 133 x(either)S 3899 X 648 y(rely)S 210 x
(on)S 210 x(macro)S 211 x(expansi)S -2 x(on)S 211 x(or)S 210 x(inlini)S
-2 x(ng)S 210 x(\(depending)S 209 x(on)S 210 x(the)S 210 x(language\))S
210 x(to)S 211 x(obtain)S 209 x(maximum)S 210 x(ef\211-)S 3899 X 647 y
(ciency)S 192 x(for)S 192 x(these)S 192 x(operations)S -2 x(.)S 271 x
(It)S 192 x(is)S 191 x(desirabl)S -2 x(e)S 192 x(that)S 192 x(compilers)S
190 x(offer)S 193 x(an)S 191 x(optimizati)S -2 x(on)S 192 x(option)S
191 x(that)S 3899 X 648 y(allows)S 181 x(certain)S 183 x(routine)S 182 x
(calls)S 181 x(to)S 183 x(be)S 183 x(expand)S -2 x(ed)S 182 x(inline.)S
3899 17376 XY F28(5.2)S 599 x(Support)S 199 x(for)S 199 x(Shared)S 200 x
(V)S -33 x(ariables)S 3899 18372 XY F147(Compil)S -2 x(ers)S 183 x(should)S
181 x(not)S 183 x(interfere)S 183 x(with)S 182 x(the)S 183 x(CMA)S 182 x
(memory)S 183 x(model.)S 3899 19369 XY(If)S 198 x(the)S 197 x(compiler)S
197 x(supports)S 196 x(inlini)S -2 x(ng)S 198 x(of)S 198 x(the)S 197 x
(CMA)S 197 x(mutex)S 198 x(operations)S 196 x(without)S 197 x(speci\211c)S
197 x(knowledge)S 3899 X 647 y(of)S 180 x(what)S 180 x(it)S 179 x(means)S
180 x(to)S 180 x(lock)S 179 x(or)S 180 x(unlock)S 179 x(a)S 180 x(mutex,)S
181 x(the)S 180 x(compiler)S 179 x(may)S 180 x(keep)S 179 x(data)S 179 x
(in)S 179 x(registers)S 180 x(across)S 3899 X 648 y(mutex)S 213 x(operations.)S
333 x(If)S 213 x(the)S 213 x(compiler)S 212 x(fails)S 212 x(to)S 213 x
(read)S 212 x(new)S 213 x(values)S 211 x(from)S 214 x(memory)S 213 x
(after)S 214 x(a)S 212 x(mutex)S 213 x(is)S 3899 X 647 y(locked,)S 201 x
(the)S 198 x(thread)S 197 x(may)S 198 x(compute)S 198 x(with)S 197 x
(obsolete)S 197 x(data.)S 289 x(If)S 198 x(the)S 198 x(compiler)S 197 x
(fails)S 197 x(to)S 198 x(write)S 198 x(modi\211ed)S 3899 X 648 y(values)S
156 x(to)S 158 x(memory)S 158 x(before)S 158 x(unlocking)S 157 x(a)S
157 x(mutex,)S 163 x(other)S 158 x(threads)S 156 x(may)S 158 x(compute)S
157 x(with)S 158 x(obsole)S -2 x(te)S 158 x(data.)S 3899 22955 XY(Such)S
176 x(compilers)S 176 x(may)S 176 x(have)S 177 x(dif\211culty)S 176 x
(supp)S -2 x(orting)S 177 x(the)S 176 x(multithread)S 175 x(programming)S
176 x(environment.)S 3899 X 648 y(If)S 174 x(the)S 174 x(compiler)S
174 x(supp)S -2 x(orts)S 174 x(a)S 174 x(`)S -10 x(`volatil)S -2 x(e')S
-10 x(')S 174 x(attribute)S 173 x(on)S 174 x(static)S 174 x(data,)S
175 x(then)S 173 x(declaring)S 173 x(all)S 173 x(shared)S 173 x(vari-)S
3899 X 647 y(ables)S 230 x(as)S 231 x(volatile)S 230 x(may)S 232 x(all)S
-2 x(ow)S 232 x(the)S 232 x(compiler)S 231 x(to)S 231 x(support)S 231 x
(CMA)S 231 x(threads.)S 389 x(The)S 232 x(volatile)S 230 x(attribute)S
3899 X 648 y(means)S 253 x(the)S 254 x(compiler)S 254 x(must)S 253 x
(assume)S 253 x(that)S 254 x(there)S 254 x(are)S 254 x(random)S 254 x
(fetches)S 254 x(and)S 253 x(stores)S 254 x(of)S 254 x(the)S 254 x(vari-)S
3899 X 647 y(able)S 199 x(of)S 202 x(which)S 200 x(it)S 200 x(is)S 200 x
(not)S 201 x(explicitly)S 199 x(aware.)S 298 x(Reliance)S 199 x(on)S
201 x(volatile,)S 204 x(however)S -40 x(,)S 206 x(results)S 200 x(in)S
200 x(increased)S 3899 X 648 y(programming)S 223 x(complexity)S 224 x
(\(all)S 223 x(shared)S 223 x(variabl)S -2 x(es)S 224 x(must)S 223 x
(be)S 223 x(correc)S 2 x(tly)S 223 x(declared\),)S 234 x(and)S 223 x
(decreased)S 3899 X 648 y(program)S 183 x(ef\211ciency)S 183 x(\(all)S
182 x(operations)S 181 x(on)S 182 x(the)S 183 x(variable)S 181 x(must)S
183 x(be)S 182 x(carried)S 182 x(out)S 183 x(directly)S 182 x(on)S 183 x
(memory\).)S 3899 27837 XY(There)S 189 x(is)S 188 x(an)S 188 x(opportunity)S
188 x(for)S 189 x(the)S 188 x(designers)S 188 x(of)S 189 x(optimiz)S
-2 x(ing)S 189 x(compilers)S 187 x(to)S 189 x(develop)S 187 x(more)S
189 x(effect)S 2 x(ive)S 3899 X 647 y(mechanisms)S 181 x(for)S 184 x
(managing)S 181 x(access)S 183 x(to)S 182 x(shared)S 182 x(data)S 182 x
(in)S 182 x(multithread)S -2 x(ing)S 183 x(environments.)S 3899 29979 XY
F28(5.3)S 599 x(Support)S 199 x(for)S 199 x(Exceptio)S 2 x(n)S 199 x
(Handlers)S 3899 30975 XY F147(Since)S 193 x(exceptions)S 192 x(play)S
192 x(such)S 193 x(an)S 192 x(important)S 192 x(role)S 193 x(in)S 193 x
(CMA,)S 192 x(it)S 193 x(is)S 192 x(desirabl)S -2 x(e)S 193 x(that)S
193 x(a)S 193 x(language)S 192 x(have)S 3899 X 648 y(good)S 221 x(supp)S
-2 x(ort)S 221 x(for)S 222 x(them.)S 359 x(For)S 222 x(example,)S 230 x
(the)S 220 x(Ada)S 220 x(and)S 220 x(Modula)S 220 x(2)S 220 x(languages)S
220 x(both)S 221 x(have)S 220 x(special)S 3899 X 647 y(syntax)S 163 x
(for)S 164 x(raising)S 162 x(and)S 162 x(handli)S -2 x(ng)S 164 x(exceptions.)S
236 x(Portable)S 163 x(exception)S 163 x(packages)S 162 x(for)S 164 x
(the)S 164 x(C)S 162 x(language)S 3899 X 648 y(have)S 182 x(been)S 182 x
(de\211ned;)S 182 x(one)S 182 x(example)S 182 x(is)S 182 x(described)S
181 x(in)S 182 x(Reference)S 183 x([3].)S 17386 37373 XY F36(Language)S
167 x(Supp)S 2 x(ort)S 166 x(for)S 166 x(CMA)S 165 x(Services)S 499 x
(85)S
%%EndCustomColor: 0
89 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%PageCustomColors: 0
%
%%Page: 86 90
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4050 XY F28(5.4)S 599 x(Support)S 199 x(for)S 199 x(Alerts)S 3899 5046 XY
F147(Language)S 147 x(supp)S -2 x(ort)S 147 x(for)S 148 x(exception)S
146 x(handli)S -2 x(ng)S 147 x(provides)S 146 x(most)S 147 x(of)S 147 x
(the)S 147 x(support)S 146 x(for)S 147 x(alerts.)S 232 x(Special)S 145 x
(op-)S 3899 X 648 y(tional)S 183 x(language)S 184 x(constructs)S 184 x
(can)S 185 x(simpl)S -2 x(ify)S 185 x(their)S 184 x(use.)S 249 x(Examples)S
183 x(are)S 185 x(compiler)S 184 x(generated)S 184 x(LOCK)S 3899 X 648 y
(clauses,)S 183 x(FINALL)S -50 x(Y)S 183 x(clauses,)S 183 x(and)S 183 x
(ENAB)S -2 x(LE,)S 184 x(DISABLE,)S 184 x(and)S 183 x(DEFER)S 183 x
(blocks)S 183 x(that)S 183 x(are)S 184 x(all)S 182 x(alert-)S 3899 X
647 y(safe.)S 3899 7985 XY(The)S 135 x(following)S 134 x(examples)S
134 x(use)S 134 x(comparisons)S 133 x(with)S 135 x(equival)S -2 x(ent)S
135 x(Ada)S 133 x(code)S 135 x(to)S 135 x(demonstrate)S 134 x(the)S
134 x(mean-)S 3899 X 648 y(ing)S 182 x(of)S 183 x(these)S 182 x(constructs.)S
3899 9629 XY(The)S 183 x(hypothetical)S 181 x(language)S 182 x(syntax)S
182 x(for)S 184 x(a)S 182 x(LOCK)S 183 x(clause)S 182 x(might)S 182 x
(be:)S 6021 10974 XY F98(LOCK)S 269 x(m)S 269 x(DO)S 7097 X 498 y(<code>)S
11939 X(--)S 269 x(This)S 269 x(code)S 269 x(may)S 269 x(raise)S 269 x
(any)S 268 x(exception)S 269 x(including)S 11939 X 498 y(--)S 269 x
(cma_e_alerted.)S 6021 X 499 y(END;)S 3899 13764 XY F147(This)S 182 x
(syntax)S 183 x(is)S 181 x(taken)S 183 x(from)S 183 x(the)S 183 x(Modula)S
181 x(2+)S 183 x(langua)S -2 x(ge,)S 183 x(described)S 182 x(in)S 182 x
(Reference)S 183 x([8].)S 3899 14760 XY(The)S 183 x(equival)S -2 x(ent)S
183 x(Ada)S 181 x(expansion)S 181 x(for)S 184 x(a)S 182 x(LOCK)S 183 x
(clause)S 182 x(follows:)S 6021 16105 XY F98(declare)S -807 x 498 y
(PRIOR:)S 269 x(CMA_T_ALERT_STATE;)S 7097 X 498 y(M:)S 8980 X(CMA_T_MUTEX;)S
6021 X 498 y(begin)S -269 x 498 y(CMA_ALERT_DISABLE_ASYNCH)S 269 x(\(PRIOR\);)S
7097 X 499 y(CMA_MUTEX_LOCK)S 269 x(\(M\);)S 7097 X 498 y(begin)S -269 x
498 y(<CODE>)S 7097 X 498 y(exception)S 8173 X 498 y(when)S 269 x(others)S
269 x(=>)S 9249 X 498 y(CMA_MUTEX_UNLOCK)S 269 x(\(M\);)S 9249 X 498 y
(CMA_ALERT_RESTORE_ASYNCH)S 269 x(\(PRIOR\);)S 9249 X 498 y(raise;)S
7097 X 499 y(end;)S 7097 X 498 y(CMA_MUTEX_UNLOCK)S 269 x(\(M\);)S 7097 X
498 y(CMA_ALERT_RESTORE_ASYNCH)S 269 x(\(PRIOR\);)S 6021 X 498 y(end;)S
3899 25370 XY F147(If)S 201 x(the)S 200 x(lock)S 200 x(clause)S 199 x
(is)S 199 x(known)S 200 x(by)S 200 x(the)S 200 x(compiler)S 200 x(to)S
200 x(be)S 200 x(in)S 200 x(a)S 199 x(non-alertsafe)S 200 x(routine)S
200 x(or)S 200 x(is)S 200 x(staticall)S -2 x(y)S 3899 X 648 y(within)S
182 x(a)S 182 x(disab)S -2 x(le)S 182 x(block,)S 183 x(the)S 182 x(calls)S
182 x(to)S 183 x(disa)S -2 x(ble)S 182 x(and)S 182 x(restore)S 183 x
(alerts)S 182 x(could)S 182 x(be)S 182 x(removed.)S 3899 27014 XY(The)S
183 x(hypothetical)S 181 x(language)S 182 x(syntax)S 182 x(for)S 184 x
(a)S 182 x(FINALL)S -50 x(Y)S 183 x(clause)S 181 x(\(as)S 183 x(in)S
182 x(Modula)S 181 x(2\))S 183 x(might)S 182 x(be:)S 6021 28359 XY F98
(<set)S 269 x(up>)S 11939 X(--)S 269 x(If)S 269 x(this)S 269 x(code)S
269 x(raises)S 269 x(an)S 268 x(exception)S 269 x(then)S 269 x(the)S
11939 X 498 y(--)S 269 x(error)S 269 x(recovery)S 269 x(code)S 269 x
(is)S 268 x(not)S 269 x(executed.)S 6021 X 498 y(TRY)S 269 x 498 y(<code>)S
11939 X(--)S 269 x(This)S 269 x(code)S 269 x(may)S 269 x(raise)S 269 x
(any)S 268 x(exception)S 269 x(including)S 11939 X 498 y(--)S 269 x
(cma_e_alerted.)S 6021 X 499 y(FINALLY)S -807 x 498 y(<error)S 269 x
(recovery>)S 538 x(--)S 269 x(An)S 269 x(exception)S 269 x(coming)S
269 x(out)S 268 x(of)S 269 x(the)S 269 x(error)S 269 x(recovery)S 11939 X
498 y(--)S 269 x(code)S 269 x(is)S 269 x(usually)S 269 x(something)S
268 x(quite)S 269 x(bad.)S 538 x(Note)S 269 x(that)S 11939 X 498 y(--)S
269 x(the)S 269 x(error)S 269 x(recovery)S 269 x(code)S 268 x(can)S
269 x(raise)S 269 x(exceptions)S 269 x(and)S 11939 X 498 y(--)S 269 x
(*catch)S 269 x(them*)S 269 x(without)S 269 x(losing)S 268 x(the)S 269 x
(first)S 269 x(exception)S 11939 X 498 y(--)S 269 x(by)S 269 x(using)S
269 x(nested)S 269 x(FINALLY)S 268 x(clauses.)S 6021 X 498 y(END;)S
3899 35432 XY F147(This)S 182 x(syntax)S 183 x(is)S 181 x(taken)S 183 x
(from)S 183 x(the)S 183 x(Modula)S 181 x(2+)S 183 x(langua)S -2 x(ge,)S
183 x(described)S 182 x(in)S 182 x(Reference)S 183 x([8].)S 3899 37373 XY
F36(86)S 498 x(Languag)S 2 x(e)S 166 x(Support)S 167 x(for)S 166 x(CMA)S
165 x(Services)S
%%EndCustomColor: 0
90 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 87 91
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 4006 XY F147(The)S 183 x(equival)S -2 x(ent)S 183 x(Ada)S 181 x
(expansion)S 181 x(of)S 183 x(the)S 183 x(Modula)S 181 x(2+)S 183 x
(FINALL)S -50 x(Y)S 182 x(clause)S 182 x(follows:)S 6021 5351 XY F98
(procedure)S 269 x(FINALIZE)S 269 x(is)S 6021 X 498 y(declare)S -807 x
499 y(PRIOR:)S 9787 X(CMA_T_ALERT_STATE;)S 6021 X 498 y(begin)S -269 x
498 y(CMA_ALERT_DEFER_ALL)S 269 x(\(PRIOR\);)S 7097 X 498 y(<ERROR)S
269 x(RECOVERY>)S 7097 X 498 y(CMA_ALERT_RESTORE_ALL)S 269 x(\(PRIOR\);)S
6021 X 498 y(exception)S 7097 X 498 y(when)S 269 x(others)S 538 x(=>)S
8173 X 498 y(CMA_ALERT_RESTORE_ALL)S 269 x(\(PRIOR\);)S 8173 X 499 y
(raise;)S 6021 X 498 y(end;)S 6021 X 797 y(<SET)S 269 x(UP>)S 6021 X
498 y(begin)S -269 x 498 y(<CODE>)S 6021 X 498 y(exception)S 7097 X
498 y(when)S 269 x(others)S 538 x(=>)S 8173 X 498 y(FINALIZE;)S 8173 X
499 y(raise;)S 6021 X 498 y(end;)S 6021 X 498 y(FINALIZE;)S 3899 16908 XY
F147(The)S 183 x(hypothetical)S 181 x(language)S 182 x(syntax)S 182 x
(for)S 184 x(an)S 182 x(ENAB)S -2 x(LE)S 183 x(block)S 182 x(might)S
183 x(be:)S 6021 18253 XY F98(ENABLE)S -538 x 498 y(<code>)S 11939 X
(--)S 269 x(This)S 269 x(can)S 269 x(raise)S 269 x(any)S 269 x(exception)S
268 x(including)S 269 x(cma_e_alerted.)S 6021 X 498 y(END;)S 3899 20544 XY
F147(The)S 183 x(equival)S -2 x(ent)S 183 x(Ada)S 181 x(expansion)S
181 x(of)S 183 x(an)S 182 x(ENABLE)S 182 x(block)S 182 x(follows:)S
6021 21889 XY F98(declare)S -807 x 498 y(PRIOR:)S 9787 X(CMA_T_ALERT_STATE;)S
6021 X 499 y(begin)S -269 x 498 y(CMA_ALERT_DISABLE_ASYNCH)S 269 x(\(PRIOR\);)S
7097 X 498 y(begin)S -269 x 498 y(CMA_ALERT_ENABLE_ASYNCH)S 269 x(\(\);)S
8173 X 498 y(<CODE>)S 8173 X 498 y(CMA_ALERT_RESTORE_ASYNCH)S 269 x
(\(PRIOR\);)S 7097 X 498 y(exception)S 8173 X 498 y(when)S 269 x(others)S
269 x(=>)S 9249 X 499 y(CMA_ALERT_RESTORE_ASYNCH)S 269 x(\(PRIOR\);)S
9249 X 498 y(raise;)S 7097 X 498 y(end;)S 6021 X 498 y(end;)S 3899 29660 XY
F147(The)S 183 x(hypothetical)S 181 x(language)S 182 x(syntax)S 182 x
(for)S 184 x(a)S 182 x(DISABLE)S 182 x(block)S 183 x(might)S 182 x(be::)S
6021 31005 XY F98(DISABLE)S -807 x 498 y(<code>)S 11939 X(--)S 269 x
(This)S 269 x(can)S 269 x(raise)S 269 x(any)S 269 x(exception)S 268 x
(including)S 269 x(cma_e_alerted.)S 6021 X 498 y(END;)S 17386 37373 XY
F36(Language)S 167 x(Supp)S 2 x(ort)S 166 x(for)S 166 x(CMA)S 165 x
(Services)S 499 x(87)S
%%EndCustomColor: 0
91 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 88 92
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F147(The)S 183 x(equival)S -2 x(ent)S 183 x(Ada)S 181 x
(expansion)S 181 x(of)S 183 x(a)S 183 x(DISABLE)S 182 x(block)S 182 x
(follows:)S 6021 5351 XY F98(declare)S -807 x 498 y(PRIOR:)S 9787 X
(CMA_T_ALERT_STATE;)S 6021 X 499 y(begin)S -269 x 498 y(CMA_ALERT_DISABLE_ASYNCH)S
269 x(\(PRIOR\);)S 7097 X 498 y(begin)S -269 x 498 y(<CODE>)S 7097 X
498 y(exception)S 8173 X 498 y(when)S 269 x(others)S 269 x(=>)S 9249 X
498 y(CMA_ALERT_RESTORE_ASYNCH)S 269 x(\(PRIOR\);)S 9249 X 498 y(raise;)S
7097 X 499 y(end;)S 7097 X 498 y(CMA_ALERT_RESTORE_ASYNCH)S 269 x(\(PRIOR\);)S
6021 X 498 y(end;)S 3899 12624 XY F147(The)S 183 x(hypothetical)S 181 x
(language)S 182 x(syntax)S 182 x(for)S 184 x(a)S 182 x(DEFER)S 182 x
(block)S 182 x(might)S 183 x(be:)S 6021 13969 XY F98(DEFER)S -269 x
498 y(<code>)S 11939 X(--)S 269 x(This)S 269 x(can)S 269 x(raise)S 269 x
(any)S 269 x(exception)S 268 x(including)S 269 x(cma_e_alerted.)S 6021 X
498 y(END;)S 3899 16260 XY F147(The)S 183 x(equival)S -2 x(ent)S 183 x
(Ada)S 181 x(expansion)S 181 x(of)S 183 x(a)S 183 x(DEFER)S 182 x(block)S
182 x(follows:)S 6021 17605 XY F98(declare)S -807 x 498 y(PRIOR:)S 269 x
(CMA_T_ALERT_STATE;)S 6021 X 499 y(begin)S -269 x 498 y(CMA_ALERT_DEFER_ALL)S
269 x(\(PRIOR\);)S 7097 X 498 y(begin)S -269 x 498 y(<CODE>)S 7097 X
498 y(exception)S 8173 X 498 y(when)S 269 x(others)S 269 x(=>)S 9249 X
498 y(CMA_ALERT_RESTORE_ALL)S 269 x(\(PRIOR\);)S 9249 X 498 y(raise;)S
7097 X 499 y(end;)S 7097 X 498 y(CMA_ALERT_RESTORE_ALL)S 269 x(\(PRIOR\);)S
6021 X 498 y(end;)S 3899 37373 XY F36(88)S 498 x(Languag)S 2 x(e)S 166 x
(Support)S 167 x(for)S 166 x(CMA)S 165 x(Services)S
%%EndCustomColor: 0
92 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 89 93
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 12890 6666 XY F20(CHAPTER)S 500 x(6)S 6457 8161 XY F24(OPERA)S
-53 x(TING)S 257 x(SYSTEM)S 258 x(SUPPORT)S 258 x(FOR)S 257 x(CMA)S
257 x(SER)S -13 x(VICES)S 3899 10153 XY F147(Operating)S 157 x(system)S
158 x(supp)S -2 x(ort)S 158 x(for)S 159 x(certain)S 157 x(CMA)S 157 x
(constructs)S 158 x(is)S 157 x(often)S 158 x(bene\211cial)S 156 x(or)S
158 x(required.)S 235 x(In)S 157 x(this)S 3899 X 648 y(section)S 182 x
(we)S 183 x(list)S 182 x(suggested)S 182 x(operating)S 181 x(system)S
183 x(features.)S 3899 12295 XY F28(6.1)S 599 x(Support)S 199 x(for)S
199 x(T)S -33 x(rue)S 200 x(Parallel)S 200 x(Thread)S 200 x(Execution)S
3899 13291 XY F147(Multithreadi)S -2 x(ng)S 209 x(realiz)S -2 x(es)S
208 x(its)S 208 x(maximum)S 208 x(potential)S 207 x(on)S 208 x(a)S 208 x
(multiprocess)S -2 x(or)S 209 x(system.)S 321 x(It)S 208 x(is)S 208 x
(thus)S 207 x(de-)S 3899 X 648 y(sirabl)S -2 x(e)S 251 x(that)S 251 x
(the)S 251 x(host)S 251 x(operating)S 250 x(system)S 251 x(provides)S
249 x(a)S 251 x(way)S 251 x(to)S 251 x(assign)S 250 x(threads)S 250 x
(to)S 251 x(the)S 251 x(phyiscal)S 3899 X 648 y(processors.)S 3899 16081 XY
F32(6.1.1)S 547 x(Support)S 183 x(for)S 183 x(Alerting)S 183 x(Threads)S
3899 17077 XY F147(If)S 177 x(true)S 177 x(parall)S -2 x(el)S 177 x
(thread)S 176 x(execution)S 176 x(exists)S 177 x(then)S 176 x(minimal)S
175 x(operating)S 176 x(system)S 177 x(supp)S -2 x(ort)S 178 x(for)S
177 x(alerts)S 176 x(is)S 3899 X 648 y(required.)S 253 x(The)S 187 x
(operating)S 185 x(system)S 186 x(needs)S 185 x(to)S 186 x(provide)S
186 x(some)S 186 x(way)S 186 x(to)S 186 x(interrupt)S 186 x(a)S 186 x
(speci\211)S -2 x(c)S 187 x(thread)S 185 x(if)S 3899 X 647 y(asynchronous)S
182 x(deli)S -2 x(very)S 184 x(of)S 183 x(alerts)S 182 x(is)S 182 x
(desi)S -2 x(red.)S 3899 19867 XY F28(6.2)S 599 x(Support)S 199 x(for)S
199 x(Fully)S 200 x(Reentrant)S 200 x(System)S 201 x(Services)S 3899 20863 XY
F147(A)S 197 x(reentrant)S 197 x(system)S 198 x(service)S 197 x(is)S
197 x(one)S 197 x(that)S 197 x(can)S 198 x(safely)S 197 x(be)S 197 x
(called)S 196 x(from)S 198 x(multipl)S -2 x(e)S 198 x(threads)S 196 x
(simulta-)S 3899 X 648 y(neously)S -62 x(.)S 236 x(Calli)S -2 x(ng)S
159 x(routines)S 158 x(are)S 159 x(not)S 159 x(burdened)S 157 x(with)S
159 x(seriali)S -2 x(zing)S 158 x(their)S 159 x(access)S 159 x(to)S
159 x(reentrant)S 159 x(system)S 3899 X 647 y(services.)S 294 x(Existin)S
-2 x(g)S 200 x(implementati)S -2 x(ons)S 199 x(will)S 199 x(need)S 198 x
(to)S 200 x(modify)S 199 x(their)S 199 x(more)S 200 x(frequently)S 199 x
(used)S 199 x(system)S 3899 X 648 y(services)S 182 x(to)S 183 x(ensure)S
182 x(that)S 183 x(they)S 182 x(are)S 183 x(fully)S 182 x(reentrant.)S
3899 24300 XY F32(6.2.1)S 547 x(Support)S 183 x(for)S 183 x(Thread)S
182 x(Synchronous)S 181 x(I/O)S 3899 25296 XY F147(Reentrant)S 182 x
(services)S 182 x(may)S 183 x(be)S 182 x(classi\211ed)S 181 x(as)S 182 x
(either)S 182 x(thread-serial)S 182 x(or)S 182 x(thread-synchronous.)S
3899 26293 XY(A)S 200 x(reentrant)S 200 x(service)S 200 x(is)S 199 x
(said)S 199 x(to)S 200 x(be)S 200 x(thread-serial)S 199 x(if,)S 205 x
(when)S 200 x(it)S 200 x(must)S 199 x(block,)S 205 x(it)S 200 x(blocks)S
199 x(the)S 200 x(current)S 3899 X 647 y(thread)S 180 x(and)S 180 x
(all)S 180 x(other)S 181 x(threads)S 180 x(that)S 181 x(might)S 181 x
(attempt)S 180 x(to)S 181 x(call)S 180 x(the)S 181 x(same)S 181 x(service)S
181 x(until)S 180 x(the)S 180 x(\211rst)S 181 x(call)S 3899 X 648 y
(returns.)S 3899 28584 XY(A)S 205 x(reentrant)S 205 x(service)S 205 x
(is)S 205 x(said)S 203 x(to)S 206 x(be)S 204 x(thread-synchronous)S
205 x(if,)S 211 x(when)S 205 x(it)S 205 x(must)S 205 x(block,)S 211 x
(it)S 205 x(blocks)S 204 x(only)S 3899 X 648 y(the)S 180 x(current)S
180 x(thread,)S 180 x(and)S 179 x(other)S 180 x(threads)S 179 x(can)S
180 x(execute)S 180 x(the)S 180 x(same)S 179 x(operation)S 179 x(during)S
179 x(the)S 180 x(blockage.)S 3899 30228 XY(For)S 257 x(many)S 257 x
(services,)S 275 x(providing)S 256 x(thread-serial)S 255 x(reentrancy)S
257 x(is)S 256 x(adequate,)S 274 x(but)S 257 x(implemen)S -2 x(tations)S
3899 X 647 y(should)S 169 x(try)S 171 x(hard)S 170 x(to)S 171 x(provide)S
170 x(thread-synchronous)S 169 x(I/O)S 172 x(services)S 170 x(\(any)S
171 x(service)S 171 x(with)S 170 x(a)S 170 x(long)S 171 x(latency)S
3899 X 648 y(is)S 180 x(best)S 181 x(made)S 181 x(thread-synchronous\).)S
243 x(This)S 180 x(is)S 181 x(more)S 181 x(work)S 182 x(than)S 181 x
(merely)S 181 x(making)S 181 x(services)S 181 x(seriall)S -2 x(y)S 3899 X
648 y(reentrant,)S 183 x(but)S 182 x(it)S 183 x(is)S 182 x(urgently)S
182 x(needed)S 182 x(by)S 182 x(I/O)S 184 x(intensi)S -2 x(ve)S 183 x
(appl)S -2 x(ications.)S 15448 37373 XY F36(Operating)S 166 x(System)S
166 x(Supp)S 2 x(ort)S 166 x(for)S 166 x(CMA)S 165 x(Services)S 499 x
(89)S
%%EndCustomColor: 0
93 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%PageCustomColors: 0
%
%%Page: 90 94
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4050 XY F28(6.3)S 599 x(Support)S 199 x(for)S 199 x(sharing)S 200 x
(of)S 200 x(resources)S 3899 5046 XY F147(The)S 128 x(resources)S 127 x
(that)S 127 x(the)S 128 x(operating)S 127 x(system)S 127 x(maintain)S
-2 x(s)S 128 x(on)S 127 x(behalf)S 127 x(of)S 128 x(an)S 126 x(appli)S
-2 x(cation)S 127 x(are)S 128 x(considered)S 3899 X 648 y(to)S 212 x
(be)S 211 x(owned)S 211 x(by)S 211 x(the)S 212 x(app)S -2 x(lication)S
210 x(and)S 211 x(to)S 212 x(be)S 211 x(accessibl)S -2 x(e)S 212 x(by)S
211 x(any)S 211 x(thread)S 211 x(of)S 212 x(the)S 212 x(app)S -2 x(lication.)S
329 x(See)S 3899 X 648 y(Reference)S 183 x([9].)S 3899 7836 XY F28(6.4)S
599 x(Support)S 199 x(for)S 199 x(CMA)S 198 x(Initia)S 2 x(lization)S
3899 8832 XY F147(The)S 126 x(architecture)S 126 x(requires)S 126 x
(that)S 125 x(either)S 126 x(the)S 126 x(initia)S -2 x(l)S 126 x(execution)S
126 x(context)S 126 x(in)S 126 x(an)S 125 x(appl)S -2 x(ication)S 125 x
(is)S 126 x(alread)S -2 x(y)S 3899 X 648 y(a)S 178 x(CMA)S 178 x(thread,)S
179 x(or)S 178 x F148(cma_init)S 179 x F147(must)S 178 x(cause)S 178 x
(it)S 178 x(to)S 178 x(become)S 179 x(a)S 178 x(CMA)S 178 x(thread.)S
241 x(Some)S 179 x(support)S 177 x(from)S 180 x(the)S 3899 X 647 y(operating)S
182 x(system)S 182 x(may)S 183 x(be)S 182 x(needed)S 182 x(to)S 182 x
(meet)S 183 x(this)S 182 x(requirement.)S 3899 11622 XY F28(6.5)S 599 x
(Support)S 199 x(for)S 199 x(Debuggers)S 3899 12618 XY F147(Certain)S
158 x(primitive)S 159 x(services)S 159 x(may)S 159 x(be)S 159 x(needed)S
158 x(to)S 160 x(permit)S 159 x(reasonab)S -2 x(le)S 159 x(debugging)S
159 x(of)S 160 x(programs)S 159 x(writ-)S 3899 X 648 y(ten)S 182 x(using)S
182 x(CMA.)S 183 x(These)S 182 x(services)S 183 x(includ)S -2 x(e:)S
3899 X 896 y(\201)S 714 x(Intercepting)S 182 x(a)S 183 x(call)S 181 x
(to)S 183 x(a)S 183 x(CMA)S 182 x(operation.)S 3899 X 897 y(\201)S 714 x
(Intercepting)S 182 x(schedulin)S -2 x(g)S 183 x(state)S 183 x(changes)S
182 x(for)S 183 x(any)S 182 x(thread.)S 3899 X 896 y(\201)S 714 x(Providing)S
227 x(information)S 228 x(about)S 227 x(the)S 227 x(entire)S 228 x(thread)S
227 x(system)S 228 x(such)S 227 x(as)S 227 x(a)S 228 x(lis)S -2 x(t)S
228 x(of)S 229 x(all)S 226 x(threads)S 227 x(in)S 4945 X 648 y(various)S
182 x(scheduli)S -2 x(ng)S 183 x(states.)S 3899 X 897 y(\201)S 714 x
(Controllin)S -2 x(g)S 183 x(which)S 183 x(code)S 182 x(a)S 182 x(thread)S
182 x(executes.)S 3899 X 896 y(\201)S 714 x(Controllin)S -2 x(g)S 183 x
(which)S 183 x(threads)S 181 x(are)S 183 x(allowed)S 181 x(to)S 183 x
(run.)S 3899 19492 XY(These)S 152 x(services)S 152 x(are)S 152 x(not)S
152 x(provided)S 151 x(by)S 152 x(the)S 152 x(CMA)S 151 x(architecture,)S
159 x(and)S 151 x(are)S 152 x(not)S 152 x(to)S 153 x(be)S 151 x(used)S
152 x(by)S 152 x(portabl)S -2 x(e)S 3899 X 648 y(appl)S -2 x(ications.)S
236 x(However)S -40 x(,)S 166 x(they)S 161 x(might)S 160 x(reasonabl)S
-2 x(y)S 161 x(be)S 161 x(provided)S 159 x(by)S 161 x(particula)S -2 x
(r)S 162 x(impl)S -2 x(ementations)S 160 x(of)S 3899 X 647 y(the)S 182 x
(CMA)S 183 x(architecture.)S 3899 37373 XY F36(90)S 498 x(Operating)S
167 x(System)S 166 x(Support)S 167 x(for)S 166 x(CMA)S 165 x(Services)S
%%EndCustomColor: 0
94 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 91 95
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 12890 6666 XY F20(CHAPTER)S 500 x(7)S 5564 8161 XY F24(SCOPE)S
248 x(OF)S 249 x(THE)S 249 x(CON)S -2 x(CERT)S 249 x(MUL)S -53 x(TITHREAD)S
248 x(ARC)S -2 x(HITECTURE)S 3899 10203 XY F28(7.1)S 599 x(Extent)S
200 x(of)S 199 x(the)S 200 x(Architecture)S 3899 11199 XY F147(The)S
183 x(CMA)S 182 x(architecture)S 183 x(speci\211es)S -2 x(:)S 3899 X
897 y F36(1.)S 631 x F147(A)S 293 x(comprehensive)S 293 x(set)S 294 x
(of)S 294 x(core)S 295 x(entities)S 292 x(for)S 295 x(performing)S 294 x
(highly)S 293 x(ef\211cient)S 294 x(multithreadi)S -2 x(ng)S 4945 X
647 y(within)S 182 x(a)S 182 x(single)S 182 x(app)S -2 x(lication)S
182 x(program.)S 3899 X 897 y F36(2.)S 631 x F147(The)S 183 x(effect)S
184 x(of)S 183 x(executing)S 183 x(a)S 182 x(program)S 183 x(that)S
182 x(correctly)S 184 x(uses)S 182 x(CMA)S 182 x(entities.)S 3899 X
897 y F36(3.)S 631 x F147(The)S 183 x(manner)S 182 x(in)S 182 x(which)S
183 x(CMA)S 182 x(entities)S 181 x(interact)S 183 x(with)S 182 x(each)S
183 x(other)S -41 x(.)S 3899 X 896 y F36(4.)S 631 x F147(The)S 183 x
(entities)S 181 x(that)S 183 x(a)S 182 x(conforming)S 183 x(implementation)S
181 x(must)S 182 x(supply)S -62 x(.)S 3899 X 897 y F36(5.)S 631 x F147
(Those)S 179 x(violations)S 178 x(that)S 179 x(a)S 179 x(conforming)S
180 x(implementation)S 178 x(is)S 179 x(required)S 178 x(to)S 180 x
(detect,)S 180 x(and)S 179 x(the)S 179 x(effect)S 4945 X 648 y(of)S
183 x(executing)S 183 x(a)S 182 x(program)S 183 x(containin)S -2 x(g)S
183 x(such)S 183 x(violati)S -2 x(ons.)S 3899 X 896 y F36(6.)S 631 x
F147(Those)S 183 x(violati)S -2 x(ons)S 182 x(that)S 183 x(a)S 182 x
(conforming)S 183 x(implementation)S 181 x(is)S 182 x(not)S 183 x(required)S
181 x(to)S 183 x(detect.)S 3899 18970 XY(This)S 182 x(architecture)S
183 x(does)S 182 x(not)S 182 x(specify)S -61 x(,)S 183 x(and)S 182 x
(thereby)S 183 x(permits,)S 182 x(the)S 183 x(following)S 182 x(variations)S
-2 x(:)S 3899 X 897 y F36(1.)S 631 x F147(The)S 146 x(order)S 146 x
(in)S 145 x(which)S 146 x F148(ready)S 145 x F147(threads)S 145 x(are)S
146 x(scheduled)S 144 x(to)S 146 x(run)S 146 x(or)S 146 x(are)S 145 x
(preempted)S 145 x(\(i.e.)S 232 x(scheduli)S -2 x(ng)S 4945 X 647 y
(policy\),)S 183 x(except)S 182 x(under)S 182 x(the)S 183 x F148(cma_c_sched_rr)S
184 x F147(and)S 181 x F148(cma_c_sched_\211fo)S 184 x F147(scheduli)S
-2 x(ng)S 183 x(polici)S -2 x(es.)S 3899 X 897 y F36(2.)S 631 x F147
(How)S 183 x(many)S 183 x(priorities)S 181 x(are)S 183 x(avail)S -2 x
(able)S 182 x(to)S 183 x(threads.)S 3899 X 897 y F36(3.)S 631 x F147
(The)S 170 x(exact)S 171 x(meaning)S 169 x(of)S 171 x(the)S 170 x(architecture')S
-20 x(s)S 170 x(user)S -11 x(-settable)S 170 x(priority)S 170 x(\(except)S
171 x(under)S 169 x(the)S 170 x F148(cma_c_)S 4945 X 647 y(sched_rr)S
184 x F147(and)S 181 x F148(cma_c_sched_\211fo)S 184 x F147(schedul)S
-2 x(ing)S 183 x(poli)S -2 x(cies.)S 3899 X 897 y F36(4.)S 631 x F147
(How)S 183 x(many)S 183 x(threads)S 182 x(can)S 182 x(be)S 182 x(created.)S
3899 X 896 y F36(5.)S 631 x F147(Whether)S 182 x(a)S 182 x(thread)S
182 x(corresponds)S 182 x(directly)S 182 x(to)S 183 x(an)S 182 x(operating)S
182 x(system)S 183 x(entity)S 182 x(\(if)S 183 x(any\).)S 3899 X 897 y
F36(6.)S 631 x F147(Whether)S 169 x(the)S 169 x(system)S 169 x(provides)S
168 x(its)S 168 x(own)S 170 x(add)S -2 x(itional)S 168 x(\(and)S 169 x
(incommensurate\))S 168 x(entities)S 169 x(for)S 170 x(par-)S 4945 X
648 y(allel)S 181 x(execution.)S 3899 X 896 y F36(7.)S 631 x F147(Whether)S
182 x(threads)S 182 x(are)S 182 x(truly)S 183 x(able)S 182 x(to)S 182 x
(execute)S 183 x(on)S 183 x(different)S 183 x(physical)S 181 x(processors.)S
3899 X 897 y F36(8.)S 631 x F147(The)S 175 x(degree)S 175 x(to)S 175 x
(which)S 175 x(existing)S 174 x(services)S 175 x(are)S 175 x(made)S
174 x(compatible)S 174 x(with)S 174 x(the)S 175 x(use)S 175 x(of)S 175 x
(CMA)S 175 x(opera-)S 4945 X 647 y(tions)S 182 x(by)S 182 x(appli)S
-2 x(cation)S 182 x(programs.)S 3899 X 897 y F36(9.)S 631 x F147(The)S
183 x(relative)S 182 x(or)S 183 x(absol)S -2 x(ute)S 183 x(speed)S 181 x
(of)S 183 x(CMA)S 183 x(operations)S -2 x(.)S 3899 X 897 y F36(10.)S
354 x F147(The)S 183 x(size)S 181 x(of)S 183 x(CMA)S 183 x(hand)S -2 x
(les,)S 183 x(objects,)S 182 x(and)S 182 x(other)S 183 x(data.)S 3899 X
896 y F36(1)S -28 x(1.)S 382 x F147(The)S 183 x(default)S 182 x(attributes)S
181 x(for)S 184 x(the)S 182 x(stacksize)S 182 x(and)S 181 x(guardsize)S
181 x(thread)S 182 x(attributes.)S 3899 X 897 y F36(12.)S 354 x F147
(The)S 226 x(exact)S 226 x(means)S 224 x(whereby)S 226 x(CMA)S 225 x
(operations)S 224 x(are)S 226 x(invoked,)S 235 x(includin)S -2 x(g)S
226 x(parameter)S 225 x(passi)S -2 x(ng)S 4945 X 648 y(mechanisms)S
181 x(used.)S 3899 X 896 y F36(13.)S 354 x F147(The)S 185 x(effec)S
2 x(t)S 185 x(of)S 186 x(executing)S 185 x(a)S 185 x(program)S 185 x
(that)S 185 x(contains)S 185 x(any)S 185 x(violati)S -2 x(on)S 185 x
(that)S 185 x(a)S 185 x(conforming)S 186 x(imple-)S 4945 X 648 y(mentation)S
182 x(is)S 182 x(not)S 182 x(required)S 182 x(to)S 183 x(detect.)S 15116 37373 XY
F36(Scope)S 167 x(of)S 167 x(the)S 166 x(Concert)S 166 x(Multithread)S
167 x(Architecture)S 499 x(91)S
%%EndCustomColor: 0
95 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 92 96
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4006 XY F36(14.)S 354 x F147(The)S 165 x(characteristics)S 164 x
(of)S 165 x(a)S 164 x(program)S 165 x(that)S 164 x(will)S 164 x(cause)S
164 x(it)S 164 x(to)S 165 x(exceed)S 165 x(the)S 164 x(capacity)S 164 x
(of)S 165 x(a)S 165 x(particula)S -2 x(r)S 4945 X 648 y(conforming)S
183 x(implementati)S -2 x(on.)S 3899 X 897 y F36(15.)S 354 x F147(Exact)S
183 x(detai)S -2 x(ls)S 182 x(of)S 183 x(exception)S 183 x(hand)S -2 x
(ling,)S 183 x(which)S 182 x(are)S 183 x(left)S 182 x(to)S 183 x(another)S
183 x(effort)S 183 x(to)S 183 x(specify)S -61 x(.)S 3899 X 896 y F36
(16.)S 354 x F147(Exact)S 200 x(details)S 199 x(of)S 200 x(the)S 201 x
(interactions)S 199 x(between)S 200 x(this)S 200 x(architecture)S 200 x
(and)S 199 x(various)S 200 x(system-speci\211c)S 4945 X 648 y(mechanisms)S
241 x(for)S 242 x(asynchronous)S 241 x(programming)S 242 x(\(such)S
242 x(as)S 241 x(signal)S -2 x(s)S 242 x(or)S 242 x(software)S 242 x
(interrupts\).)S 4945 X 647 y(CMA)S 247 x(implementation)S -2 x(s)S
248 x(should)S 246 x(encourage)S 248 x(a)S 248 x(programming)S 248 x
(style)S 247 x(where)S 248 x(minimal)S 247 x(use)S 247 x(is)S 4945 X
648 y(made)S 182 x(of)S 183 x(such)S 182 x(mechanisms.)S 3899 9486 XY
(Use)S 173 x(of)S 175 x(the)S 174 x(following)S 174 x(sample)S 173 x
(features)S 174 x(by)S 174 x(clients)S 174 x(is)S 173 x(considered)S
173 x(a)S 174 x(violation)S 173 x(of)S 175 x(this)S 173 x(architecture)S
3899 X 647 y(and)S 164 x(may)S 165 x(thus)S 164 x(result)S 164 x(in)S
165 x(loss)S 163 x(of)S 166 x(portabi)S -2 x(lity)S -61 x(.)S 238 x
(It)S 165 x(is)S 164 x(incorrect)S 166 x(to)S 165 x(assume)S 164 x(that)S
164 x(any)S 165 x(of)S 165 x(the)S 165 x(following)S 3899 X 648 y(features)S
183 x(are)S 182 x(portable:)S 3899 X 897 y F36(1.)S 631 x F147(Bypass)S
-2 x(ing)S 198 x(the)S 199 x(services)S 198 x(de\211ned)S 196 x(here)S
199 x(and)S 197 x(using)S 197 x(similar)S 197 x(services)S 198 x(provided)S
197 x(by)S 198 x(the)S 199 x(under-)S 4945 X 647 y(lying)S 182 x(system.)S
3899 X 897 y F36(2.)S 631 x F147(Relying)S 159 x(on)S 160 x(the)S 160 x
(correspondence)S 160 x(of)S 161 x(some)S 160 x(CMA)S 159 x(entity)S
161 x(to)S 160 x(some)S 160 x(particular)S 159 x(operating)S 160 x(system)S
4945 X 647 y(entity)S -61 x(.)S 3899 X 897 y F36(3.)S 631 x F147(Appl)S
-2 x(ying)S 183 x(any)S 182 x(operations)S 181 x(not)S 183 x(de\211ned)S
181 x(by)S 183 x(this)S 182 x(architecture)S 182 x(to)S 183 x(CMA)S
182 x(entities.)S 3899 X 897 y F36(4.)S 631 x F147(Using)S 182 x(any)S
182 x(CMA)S 182 x(operation)S 182 x(whose)S 182 x(name)S 182 x(ends)S
182 x(in)S 182 x(the)S 182 x(suf\211x)S 183 x(`)S -10 x(`_np')S -11 x
('.)S 3899 X 896 y F36(5.)S 631 x F147(Operating)S 143 x(on)S 143 x
(CMA)S 143 x(entities)S 143 x(created)S 143 x(by)S 144 x(threads)S 142 x
(of)S 144 x(one)S 144 x(add)S -2 x(ress)S 144 x(spa)S -2 x(ce)S 144 x
(context)S 144 x(\(i.e.)S 232 x(process\))S 4945 X 648 y(by)S 183 x
(threads)S 181 x(created)S 183 x(in)S 182 x(a)S 182 x(different)S 183 x
(address)S 181 x(space)S 182 x(context.)S 3899 18701 XY F28(7.2)S 599 x
(Conformity)S 200 x(of)S 199 x(an)S 200 x(Implem)S 2 x(entation)S 201 x
(W)S -5 x(ith)S 199 x(the)S 200 x(Architecture)S 3899 19697 XY F147
(A)S 182 x(conforming)S 183 x(implementation)S 181 x(is)S 182 x(one)S
182 x(that:)S 3899 X 897 y F36(1.)S 631 x F147(Correctly)S 183 x(executes)S
184 x(programs)S 182 x(that)S 183 x(use)S 183 x(CMA)S 182 x(entities)S
182 x(according)S 183 x(to)S 183 x(the)S 183 x(rules)S 183 x(publ)S
-2 x(ished)S 182 x(in)S 4945 X 648 y(the)S 183 x(architecture,)S 183 x
(provided)S 181 x(they)S 183 x(do)S 182 x(not)S 183 x(exceed)S 182 x
(the)S 183 x(capacity)S 182 x(of)S 183 x(the)S 182 x(implementation)S
-2 x(.)S 3899 X 896 y F36(2.)S 631 x F147(Correctly)S 198 x(reports)S
197 x(any)S 197 x(operation)S 196 x(that)S 197 x(attempts)S 197 x(to)S
198 x(exceed)S 197 x(the)S 197 x(capacity)S 197 x(of)S 198 x(the)S 197 x
(implemen-)S 4945 X 648 y(tation.)S 3899 X 897 y F36(3.)S 631 x F147
(Correctly)S 227 x(reports)S 227 x(all)S 226 x(violations)S 225 x(of)S
228 x(the)S 227 x(architecture)S 227 x(whose)S 227 x(detection)S 226 x
(is)S 227 x(required)S 226 x(by)S 227 x(the)S 4945 X 647 y(architecture.)S
3899 X 897 y F36(4.)S 631 x F147(Suppli)S -2 x(es)S 183 x(all)S 181 x
(entities)S 182 x(required)S 181 x(by)S 183 x(the)S 182 x(architecture.)S
3899 X 896 y F36(5.)S 631 x F147(Contains)S 181 x(no)S 182 x(variations)S
182 x(except)S 182 x(where)S 183 x(the)S 183 x(architecture)S 183 x
(permits.)S 3899 X 897 y F36(6.)S 631 x F147(Speci\211es)S 182 x(all)S
181 x(such)S 182 x(permitted)S 182 x(variations)S 182 x(in)S 182 x(the)S
182 x(manner)S 183 x(prescribed)S 181 x(by)S 183 x(the)S 182 x(architecture.)S
3899 28116 XY(Note:)S 257 x(The)S 190 x F149(USAGE)S 191 x(NOTE)S 190 x
F147(sections)S 189 x(of)S 190 x(this)S 188 x(document)S 190 x(are)S
189 x(to)S 190 x(be)S 189 x(considered)S 188 x(only)S 189 x(explanatory)S
3899 X 647 y(notes,)S 182 x(and)S 182 x(are)S 183 x(not)S 182 x(considered)S
181 x(architecturally)S 182 x(bindin)S -2 x(g.)S 3899 37373 XY F36(92)S
498 x(Scope)S 167 x(of)S 166 x(the)S 166 x(Concert)S 166 x(Multi)S 2 x
(thread)S 166 x(Architecture)S
%%EndCustomColor: 0
96 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 93 97
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 13172 6495 XY F24(APPENDIX)S 697 x(A)S 13172 7989 XY(REFERENCES)S
3899 10231 XY F147(\201)S 714 x([1])S 223 x(Birrell,)S 232 x(Andrew)S
222 x(D.;)S 244 x(`)S -10 x(`An)S 222 x(Introduction)S 222 x(to)S 223 x
(Programming)S 223 x(with)S 223 x(Threads')S -11 x(',)S 233 x(SRC)S
222 x(Report)S 4945 X 647 y(35,)S 182 x(Systems)S 183 x(Research)S 182 x
(Center)S -41 x(,)S 183 x(Digital)S 182 x(Equip)S -2 x(ment)S 183 x
(Corporation,)S 182 x(Janua)S -2 x(ry)S 183 x(6,)S 183 x(1989.)S 3899 X
897 y(\201)S 714 x([2])S 163 x(Sha,)S 166 x(L.;)S 170 x(Locke,)S 167 x
(C.;)S 170 x(Rajkumar)S -42 x(,)S 167 x(R.;)S 169 x(Lehoczky)S -60 x
(,)S 166 x(J.;)S 170 x(Burns,)S 165 x(G.;)S 170 x(`)S -10 x(`Priority)S
163 x(Inversion)S 161 x(and)S 162 x(Its)S 4945 X 647 y(Control:)S 234 x
(An)S 164 x(experimental)S 164 x(Investigation')S -11 x(',)S 168 x(ACM)S
164 x(Ada)S 164 x(Letters,)S 169 x(V)S -50 x(ol.)S 237 x(VIII,)S 165 x
(No.)S 237 x(7,)S 168 x(Fall)S 164 x(1988.)S 3899 X 897 y(\201)S 714 x
([3])S 215 x(Roberts,)S 221 x(Eric;)S 231 x(`)S -11 x(`Implementing)S
213 x(Exceptions)S 213 x(in)S 214 x(C')S -10 x(',)S 214 x(SRC)S 213 x
(Report)S 214 x(40,)S 222 x(Systems)S 214 x(Research)S 4945 X 648 y
(Center)S -41 x(,)S 183 x(Digital)S 182 x(Equip)S -2 x(ment)S 183 x
(Corporation.)S 3899 X 896 y(\201)S 714 x([4])S 193 x(Birrell,)S 194 x
(A.D.;)S 197 x(Guttag,)S 195 x(J.V)S -71 x(.;)S 198 x(Horning,)S 195 x
(J.J.;)S 197 x(Levin,)S 195 x(R.;)S 197 x(`)S -10 x(`Synchronization)S
191 x(Primitives)S 192 x(for)S 4945 X 648 y(a)S 217 x(Multiprocessor:)S
312 x(A)S 217 x(Formal)S 218 x(Speci\211cation')S -12 x(',)S 227 x(SRC)S
216 x(Report)S 217 x(20,)S 226 x(Systems)S 217 x(Research)S 217 x(Center)S
-41 x(,)S 4945 X 647 y(Digital)S 182 x(Equi)S -2 x(pment)S 183 x(Corporation)S
-2 x(,)S 183 x(August)S 182 x(20,)S 183 x(1987)S -2 x(.)S 3899 X 897 y
(\201)S 714 x([5])S 214 x(And)S -2 x(rews,)S 222 x(G.R.;)S 229 x(Schneider)S
-41 x(,)S 221 x(F)S -61 x(.B.;)S 229 x(`)S -10 x(`Concepts)S 212 x(and)S
212 x(Notations)S 211 x(for)S 214 x(Concurrent)S 213 x(Program-)S 4945 X
648 y(ming')S -10 x(',)S 182 x(ACM)S 183 x(Computi)S -2 x(ng)S 183 x
(Surveys,)S 183 x(V)S -50 x(ol.)S 243 x(15,)S 182 x(No.)S 244 x(1,)S
182 x(March)S 183 x(1983.)S 3899 X 896 y(\201)S 714 x([6])S 205 x(Sha,)S
210 x(L.;)S 217 x(Goodenough,)S 209 x(J.;)S 216 x(`)S -10 x(`The)S 204 x
(Priority)S 206 x(Ceil)S -2 x(ing)S 204 x(Protoc)S 2 x(ol:)S 287 x(A)S
204 x(Method)S 204 x(For)S 205 x(Minimizi)S -2 x(ng)S 4945 X 648 y(The)S
230 x(Blocking)S 229 x(Of)S 231 x(High)S 230 x(Priority)S 231 x(Ada)S
229 x(T)S -34 x(asks')S -11 x(',)S 242 x(ACM)S 229 x(Ada)S 229 x(Letters,)S
243 x(V)S -51 x(ol.)S 386 x(VIII,)S 230 x(No.)S 385 x(7,)S 242 x(Fall)S
4945 X 647 y(1988.)S 3899 X 897 y(\201)S 714 x([7])S 189 x(Sha,)S 189 x
(L.;)S 193 x(Locke,)S 190 x(C.;)S 191 x(`)S -10 x(`A)S 188 x(Practical)S
188 x(Appl)S -2 x(ication)S 188 x(Of)S 189 x(The)S 188 x(Ceilin)S -2 x
(g)S 189 x(Protocol)S 189 x(In)S 188 x(A)S 188 x(Real-T)S -14 x(ime)S
4945 X 648 y(System')S -10 x(',)S 183 x(ACM)S 182 x(Ada)S 182 x(Letters,)S
183 x(V)S -50 x(ol.)S 243 x(VIII,)S 183 x(No.)S 243 x(7,)S 183 x(Fall)S
182 x(1988)S -2 x(.)S 3899 X 896 y(\201)S 714 x([8])S 175 x(Rovner)S
-41 x(,)S 176 x(Paul;)S 177 x(Levin,)S 176 x(Roy;)S 177 x(W)S -21 x
(ick,)S 176 x(John;)S 177 x(`)S -10 x(`On)S 174 x(Extendin)S -2 x(g)S
175 x(Modula-2)S 173 x(For)S 175 x(Buil)S -2 x(ding)S 173 x(Large,)S
4945 X 648 y(Integrated)S 181 x(Systems')S -10 x(',)S 181 x(SRC)S 180 x
(Report)S 180 x(3,)S 181 x(Systems)S 181 x(Research)S 180 x(Center)S
-40 x(,)S 181 x(Digital)S 180 x(Equip)S -2 x(ment)S 181 x(Cor-)S 4945 X
647 y(poration,)S 182 x(Janua)S -2 x(ry)S 184 x(1)S -31 x(1,)S 183 x
(1985)S -2 x(.)S 3899 X 897 y(\201)S 714 x([9])S 153 x(McJones,)S 158 x
(Paul)S 152 x(R.;)S 162 x(Swart,)S 160 x(Garret)S 153 x(F;)S 153 x(`)S
-10 x(`Evolvin)S -2 x(g)S 153 x(the)S 152 x(UNIX)S 151 x(System)S 153 x
(Interface)S 153 x(to)S 152 x(Support)S 4945 X 647 y(Multithreaded)S
135 x(Progr)S 2 x(ams')S -11 x(',)S 146 x(SRC)S 137 x(Report)S 136 x
(21,)S 146 x(Systems)S 137 x(Research)S 136 x(Center)S -40 x(,)S 146 x
(Digital)S 136 x(Equip)S -2 x(ment)S 4945 X 648 y(Corporation,)S 182 x
(September)S 182 x(28,)S 183 x(1987)S -2 x(.)S 3899 X 897 y(\201)S 714 x
([10])S 250 x(Koenig,)S 266 x(Andrew;)S 283 x(Stroustrup,)S 267 x(Bjarne;)S
283 x(`)S -10 x(`Exception)S 249 x(Handli)S -2 x(ng)S 250 x(for)S 250 x
(C++')S -10 x(',)S 266 x(Conference)S 4945 X 647 y(Proceedings)S 201 x
F149(C++)S 201 x(At)S 201 x(W)S -30 x(ork)S 202 x('89)S 200 x F147(\(presented)S
200 x(by)S 201 x(The)S 201 x(C++)S 201 x(Report)S 200 x(and)S 200 x
(The)S 201 x(W)S -41 x(ang)S 201 x(Institute)S 4945 X 648 y(of)S 183 x
(Boston)S 182 x(University\),)S 183 x(November)S 182 x(6\2038,)S 182 x
(1989.)S 23474 37373 XY F36(References)S 498 x(93)S
%%EndCustomColor: 0
97 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Bold
%%PageCustomColors: 0
%
%%Page: 95 98
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 13172 6495 XY F24(APPENDIX)S 697 x(B)S 7051 7989 XY(PREDEFINED)S
263 x(TYPES,)S 264 x(V)S -51 x(ALUES,)S 263 x(AND)S 263 x(EXCEPTIONS)S
3899 10031 XY F28(B.1)S 598 x(Prede\211ned)S 200 x(T)S -44 x(ypes)S
3899 11028 XY F147(This)S 193 x(app)S -2 x(endix)S 192 x(summarizes)S
192 x(in)S 192 x(one)S 193 x(place)S 192 x(all)S 192 x(the)S 193 x(type)S
193 x(de\211nition)S -2 x(s)S 193 x(that)S 193 x(are)S 193 x(required)S
192 x(to)S 193 x(imple-)S 3899 X 647 y(ment)S 183 x(the)S 182 x(CMA)S
182 x(interfaces.)S 3899 12671 XY(T)S -34 x(able)S 203 x(3)S 203 x(summarizes)S
202 x(the)S 203 x(types)S 203 x(de\211ned)S 202 x(by)S 204 x(the)S 203 x
(CMA)S 203 x(architecture)S 204 x(that)S 203 x(are)S 203 x(fully)S 203 x
(private)S 203 x(to)S 204 x(a)S 3899 X 648 y(CMA)S 161 x(implemen)S
-2 x(tation.)S 237 x(In)S 161 x(other)S 161 x(words,)S 166 x(these)S
161 x(are)S 161 x(types)S 161 x(for)S 162 x(which)S 162 x(the)S 161 x
(architecture)S 161 x(de\211nes)S 161 x(all)S 3899 X 648 y(the)S 182 x
(legal)S 182 x(and)S 182 x(portable)S 181 x(operations)S 182 x(\(other)S
183 x(than)S 182 x(declaration)S -2 x(,)S 183 x(assignment,)S 182 x
(and)S 182 x(equal)S -2 x(ity\).)S 3899 15162 XY 23316 48 R 3899 15810 XY
F32(T)S -41 x(able)S 182 x(3:)S 498 x(Private)S 184 x(Data)S 182 x(T)S
-41 x(ypes)S 3899 X 298 y 23316 48 R 3899 16706 XY F38(T)S -25 x(ype)S
150 x(Name)S 15256 X(Description)S 3899 X 299 y 23316 48 R 3899 17703 XY
F148(cma_t_alert_state)S 15256 X F38(T)S -24 x(ype)S 131 x(for)S 130 x
(the)S 131 x(a)S 131 x(value)S 131 x(to)S 130 x(reme)S 2 x(mber)S 131 x
(the)S 131 x(alert)S 131 x(state)S 130 x(locally)S -34 x(.)S 193 x(See)S
15256 X 547 y(Section)S 150 x(4.7.2)S 149 x(for)S 150 x(more)S 151 x
(information.)S 3899 X 698 y F148(cma_t_attr)S 15256 X F38(T)S -24 x
(ype)S 109 x(for)S 109 x(the)S 109 x(handle)S 109 x(of)S 109 x(an)S
109 x(attributes)S 109 x(object.)S 185 x(See)S 110 x(Section)S 108 x
(2.1.1)S 15256 X 548 y(for)S 150 x(more)S 151 x(information.)S 3899 X
697 y F148(cma_t_cond)S 15256 X F38(T)S -24 x(ype)S 125 x(for)S 125 x
(a)S 125 x(handle)S 126 x(for)S 125 x(a)S 125 x(condition)S 125 x(variable.)S
191 x(See)S 125 x(Section)S 125 x(4.4.3)S 15256 X 548 y(for)S 150 x
(more)S 151 x(information.)S 3899 X 698 y F148(cma_t_destructor)S 15256 X
F38(T)S -24 x(ype)S 127 x(for)S 127 x(a)S 127 x(routine)S 127 x(that)S
127 x(destructs)S 128 x(a)S 127 x(per-threa)S 2 x(d)S 127 x(memory)S
128 x(value.)S 15256 X 547 y(See)S 150 x(Section)S 150 x(4.6)S 149 x
(for)S 150 x(more)S 151 x(information.)S 3899 X 698 y F148(cma_t_exit_status)S
15256 X F38(T)S -24 x(ype)S 187 x(for)S 186 x(the)S 187 x(exit)S 185 x
(status)S 187 x(of)S 186 x(thread.)S 311 x(See)S 187 x(Section)S 186 x
(4.3.2.5)S 186 x(for)S 15256 X 548 y(more)S 151 x(information.)S 3899 X
697 y F148(cma_t_handle)S 15256 X F38(T)S -24 x(ype)S 219 x(de\211ning)S
220 x(the)S 218 x(handles)S 220 x(that)S 219 x(are)S 219 x(used)S 220 x
(to)S 218 x(refer)S 220 x(to)S 218 x(CMA)S 15256 X 548 y(objects.)S
199 x(See)S 150 x(Section)S 150 x(4.1)S 150 x(for)S 149 x(more)S 151 x
(information.)S 3899 X 697 y F148(cma_t_init_routine)S 15256 X F38(T)S
-24 x(ype)S 174 x(for)S 174 x(the)S 174 x(routine)S 175 x(that)S 173 x
(is)S 174 x(executed)S 175 x(for)S 174 x(one-time)S 175 x(initi)S -2 x
(aliza-)S 15256 X 548 y(tion.)S 199 x(See)S 150 x(Section)S 149 x(4.5.2)S
150 x(for)S 150 x(more)S 150 x(information.)S 3899 X 698 y F148(cma_t_key)S
15256 X F38(T)S -24 x(ype)S 194 x(for)S 194 x(a)S 194 x(key)S 195 x
(used)S 194 x(in)S 194 x(storing)S 194 x(and)S 195 x(retrieving)S 194 x
(a)S 194 x(per-thr)S 2 x(ead)S 15256 X 548 y(context)S 158 x(value)S
158 x(for)S 157 x(a)S 158 x(client.)S 222 x(See)S 158 x(Section)S 158 x
(4.6.1)S 157 x(for)S 158 x(more)S 158 x(infor-)S 15256 X 548 y(mation.)S
3899 X 697 y F148(cma_t_mutex)S 15256 X F38(T)S -24 x(ype)S 199 x(for)S
199 x(handles)S 200 x(of)S 198 x(mutex)S 200 x(objects.)S 347 x(See)S
200 x(Section)S 198 x(4.4.2)S 199 x(for)S 15256 X 548 y(more)S 151 x
(information.)S 3899 X 697 y F148(cma_t_once)S 15256 X F38(T)S -24 x
(ype)S 114 x(for)S 115 x(the)S 114 x(record)S 116 x(which)S 114 x(de\211nes)S
115 x(a)S 115 x(section)S 114 x(of)S 114 x(client)S 113 x(one-)S 2 x
(time)S 15256 X 548 y(initiali)S -2 x(zation)S 169 x(code)S 169 x(for)S
168 x F148(cma_begin_once)S 170 x F38(and)S 169 x F148(cma_end_)S 15256 X
548 y(once)S F38(.)S 199 x(See)S 150 x(Section)S 150 x(4.5.2)S 150 x
(for)S 149 x(more)S 151 x(information.)S 3899 X 698 y F148(cma_t_priority)S
15256 X F38(T)S -24 x(ype)S 158 x(for)S 158 x(the)S 159 x(values)S 158 x
(of)S 158 x(thread)S 159 x(priority)S -33 x(.)S 224 x(See)S 159 x(Section)S
158 x(2.3.2)S 158 x(for)S 15256 X 548 y(more)S 151 x(information.)S
3899 X 697 y F148(cma_t_sched_inherit)S 15256 X F38(T)S -24 x(ype)S
121 x(for)S 121 x(the)S 121 x(values)S 121 x(controlling)S 121 x(inheritance)S
122 x(of)S 120 x(thread)S 122 x(schedu)S 2 x(l-)S 15256 X 548 y(ing)S
150 x(attributes.)S 199 x(See)S 150 x(Section)S 149 x(4.3.3.1)S 150 x
(for)S 149 x(more)S 151 x(information.)S 3899 X 697 y F148(cma_t_sched_policy)S
15256 X F38(T)S -24 x(ype)S 267 x(for)S 267 x(values)S 268 x(of)S 267 x
(thread)S 267 x(sched)S 2 x(uling)S 266 x(policy)S -33 x(.)S 551 x(See)S
268 x(Sec-)S 15256 X 548 y(tion)S 149 x(2.3.1)S 150 x(for)S 149 x(mor)S
2 x(e)S 149 x(information.)S 16119 37373 XY F36(Prede\211ned)S 168 x
(T)S -37 x(ypes,)S 167 x(V)S -27 x(alues,)S 167 x(and)S 167 x(Exceptions)S
500 x(95)S
%%EndCustomColor: 0
98 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Helvetica NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 96 99
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4297 XY F32(T)S -41 x(able)S 182 x(3)S
183 x(\(Cont.\):)S 499 x(Private)S 183 x(Data)S 182 x(T)S -41 x(ypes)S
3899 X 299 y 23316 48 R 3899 5194 XY F38(T)S -25 x(ype)S 150 x(Name)S
15256 X(Description)S 3899 X 299 y 23316 48 R 3899 6190 XY F148(cma_t_start_routine)S
15256 X F38(T)S -24 x(ype)S 128 x(for)S 127 x(the)S 128 x(routine)S
128 x(that)S 127 x(a)S 128 x(thread)S 129 x(starts)S 127 x(executing.)S
193 x(See)S 128 x(Sec-)S 15256 X 548 y(tion)S 149 x(4.3.2)S 150 x(for)S
149 x(mor)S 2 x(e)S 149 x(information.)S 3899 X 698 y F148(cma_t_status)S
15256 X F38(T)S -24 x(ype)S 211 x(for)S 211 x(a)S 211 x(numer)S 2 x
(ic)S 210 x(status)S 211 x(value)S 211 x(used)S 212 x(in)S 211 x(specifying)S
211 x(dif)S -9 x(fer-)S 15256 X 548 y(ing)S 185 x(termination)S 185 x
(conditions)S 184 x(of)S 185 x(some)S 185 x(opera)S 2 x(tion)S 184 x
(\(for)S 185 x(example,)S 15256 X 548 y F148(cma_cond_timed_wait)S F38
(\).)S 3899 X 697 y F148(cma_t_thread)S 15256 X F38(T)S -24 x(ype)S
127 x(for)S 128 x(the)S 127 x(handle)S 128 x(of)S 127 x(a)S 127 x(thread)S
129 x(object.)S 191 x(See)S 128 x(Section)S 127 x(4.3.2)S 127 x(for)S
15256 X 548 y(more)S 151 x(information.)S 3899 X 398 y 23316 48 R 3899 11271 XY
F147(T)S -34 x(able)S 225 x(4)S 225 x(summarizes)S 225 x(the)S 225 x
(types)S 226 x(de\211ned)S 224 x(by)S 226 x(the)S 226 x(architecture)S
226 x(that)S 225 x(are)S 226 x(not)S 225 x(private)S 226 x(to)S 226 x
(a)S 225 x(CMA)S 3899 X 648 y(implementa)S -2 x(tion.)S 227 x(The)S
132 x(implementati)S -2 x(on)S 132 x(\(or)S 133 x(environment\))S 132 x
(is)S 132 x(expected)S 131 x(to)S 132 x(provide)S 132 x(the)S 132 x
(underlyi)S -2 x(ng)S 3899 X 647 y(\(or)S 183 x(base\))S 182 x(types)S
183 x(for)S 183 x(these)S 182 x(types)S 182 x(and)S 182 x(to)S 183 x
(de\211ne)S 182 x(add)S -2 x(itional)S 181 x(operations)S 182 x(on)S
182 x(these)S 182 x(types)S 182 x(as)S 182 x(well.)S 3899 13762 XY 23316 48 R
3899 14409 XY F32(T)S -41 x(able)S 182 x(4:)S 498 x(Environmental)S
183 x(Data)S 182 x(T)S -41 x(ypes)S 3899 X 299 y 23316 48 R 3899 15306 XY
F38(T)S -25 x(ype)S 150 x(Name)S 15256 X(Description)S 3899 X 299 y
23316 48 R 3899 16302 XY F148(cma_t_address)S 15256 X F38(A)S 227 x
(CMA)S 227 x(type)S 227 x(based)S 228 x(on)S 227 x(the)S 227 x(environme)S
2 x(nt-supplied)S 227 x(type)S 227 x(for)S 15256 X 548 y(specifying)S
150 x(address)S 2 x(es.)S 3899 X 698 y F148(cma_t_boolean)S 15256 X
F38(A)S 227 x(CMA)S 227 x(type)S 227 x(based)S 228 x(on)S 227 x(the)S
227 x(environme)S 2 x(nt-supplied)S 227 x(type)S 227 x(for)S 15256 X
548 y(specifying)S 150 x(booleans.)S 3899 X 697 y F148(cma_t_date_time)S
15256 X F38(A)S 227 x(CMA)S 227 x(type)S 227 x(based)S 228 x(on)S 227 x
(the)S 227 x(environme)S 2 x(nt-supplied)S 227 x(type)S 227 x(for)S
15256 X 548 y(specifying)S 150 x(absolute)S 150 x(date)S 150 x(and)S
150 x(time)S 149 x(values.)S 3899 X 697 y F148(cma_t_integer)S 15256 X
F38(A)S 227 x(CMA)S 227 x(type)S 227 x(based)S 228 x(on)S 227 x(the)S
227 x(environme)S 2 x(nt-supplied)S 227 x(type)S 227 x(for)S 15256 X
548 y(specifying)S 150 x(integers.)S 3899 X 698 y F148(cma_t_interval)S
15256 X F38(A)S 243 x(CMA)S 242 x(type)S 243 x(based)S 243 x(on)S 243 x
(an)S 243 x(environme)S 2 x(nt-supplied)S 243 x(type)S 242 x(for)S 15256 X
548 y(specifying)S 105 x(an)S 105 x(interval)S 105 x(\(in)S 105 x(seconds\))S
106 x(as)S 105 x(a)S 105 x(\212oating)S 105 x(point)S 105 x(number)S
-23 x(.)S 3899 X 697 y F148(cma_t_natura)S -2 x(l)S 15256 X F38(A)S
139 x(CMA)S 139 x(type)S 140 x(de\211nition)S 139 x(for)S 139 x(integers)S
140 x(that)S 139 x(must)S 139 x(be)S 140 x(greater)S 140 x(than)S 15256 X
548 y(or)S 150 x(equal)S 150 x(to)S 150 x(zero.)S 3899 X 398 y 23316 48 R
3899 24970 XY F28(B.2)S 598 x(Prede\211ned)S 200 x(V)S -33 x(alues)S
3899 25966 XY F147(The)S 183 x(CMA)S 182 x(architecture)S 183 x(de\211nes)S
181 x(the)S 183 x(following)S 182 x(values.)S 3899 27162 XY 23316 48 R
3899 27809 XY F32(T)S -41 x(able)S 182 x(5:)S 498 x(Prede\211ned)S 182 x
(V)S -30 x(alues)S 3899 X 299 y 23316 48 R 3899 28706 XY F38(Name)S
15256 X(Description)S 3899 X 299 y 23316 48 R 3899 29702 XY F148(cma_c_handle_size)S
15256 X F38(The)S 148 x(size)S 147 x(in)S 146 x(bytes)S 148 x(of)S 146 x
(a)S 147 x(CMA)S 147 x(handle.)S 199 x(A)S 147 x(value)S 147 x(of)S
147 x(type)S 147 x(cma_)S 2 x(t_)S 15256 X 548 y(natural.)S 200 x(See)S
150 x(Chapter)S 150 x(2)S 149 x(for)S 150 x(more)S 151 x(information.)S
3899 X 697 y F148(cma_c_null)S 15256 X F38(A)S 213 x(null)S 213 x(handle.)S
391 x(The)S 214 x(handle)S 214 x(for)S 213 x(the)S 213 x(null)S 213 x
(object.)S 390 x(See)S 214 x(Sec-)S 15256 X 548 y(tion)S 149 x(4.1.1)S
150 x(for)S 149 x(mor)S 2 x(e)S 149 x(information.)S 3899 X 698 y F148
(cma_c_null_ptr)S 15256 X F38(A)S 150 x(null)S 149 x(address)S 151 x
(\(type)S 150 x F148(cma_t_address)S F38(\).)S 3899 X 697 y F148(cma_c_prio_\211fo_min)S
15256 X F38(The)S 150 x(lowest)S 149 x(priority)S 150 x(for)S 149 x
(FIFO)S 149 x(threads.)S 3899 X 698 y F148(cma_c_prio_\211fo_mid)S 15256 X
F38(The)S 150 x(middle)S 150 x(priority)S 149 x(for)S 150 x(FIFO)S 149 x
(threads.)S 3899 X 697 y F148(cma_c_prio_\211fo_max)S 15256 X F38(The)S
150 x(highest)S 150 x(priority)S 149 x(for)S 150 x(FIFO)S 149 x(threads.)S
3899 37373 XY F36(96)S 498 x(Prede\211ned)S 167 x(T)S -36 x(ypes,)S
167 x(V)S -28 x(alues,)S 168 x(and)S 166 x(Exceptio)S 2 x(ns)S
%%EndCustomColor: 0
99 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Roman
%%PageCustomColors: 0
%
%%Page: 97 100
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4297 XY F32(T)S -41 x(able)S 182 x(5)S
183 x(\(Cont.\):)S 499 x(Prede\211ned)S 181 x(V)S -29 x(alues)S 3899 X
299 y 23316 48 R 3899 5194 XY F38(Name)S 15256 X(Description)S 3899 X
299 y 23316 48 R 3899 6190 XY F148(cma_c_prio_rr_min)S 15256 X F38(The)S
150 x(lowest)S 149 x(priority)S 150 x(for)S 149 x(RR)S 149 x(threads.)S
3899 X 698 y F148(cma_c_prio_rr_mid)S 15256 X F38(The)S 150 x(middle)S
150 x(priority)S 149 x(for)S 150 x(RR)S 149 x(threads.)S 3899 X 697 y
F148(cma_c_prio_rr_max)S 15256 X F38(The)S 150 x(highest)S 150 x(priority)S
149 x(for)S 150 x(RR)S 149 x(threads.)S 3899 X 697 y F148(cma_c_prio_through_min)S
15256 X F38(The)S 150 x(lowest)S 149 x(priority)S 150 x(for)S 149 x
(throughp)S 2 x(ut)S 149 x(threads.)S 3899 X 698 y F148(cma_c_prio_through_mid)S
15256 X F38(The)S 150 x(middle)S 150 x(priority)S 149 x(for)S 150 x
(throughpu)S 2 x(t)S 149 x(threads.)S 3899 X 697 y F148(cma_c_prio_through_max)S
15256 X F38(The)S 150 x(highest)S 150 x(priority)S 149 x(for)S 150 x
(throughpu)S 2 x(t)S 149 x(threads.)S 3899 X 698 y F148(cma_c_prio_back_min)S
15256 X F38(The)S 150 x(lowest)S 149 x(priority)S 150 x(for)S 149 x
(backgr)S 2 x(ound)S 150 x(threads.)S 3899 X 697 y F148(cma_c_prio_back_mid)S
15256 X F38(The)S 150 x(middle)S 150 x(priority)S 149 x(for)S 150 x
(backgro)S 2 x(und)S 150 x(threads.)S 3899 X 697 y F148(cma_c_prio_back_max)S
15256 X F38(The)S 150 x(highest)S 150 x(priority)S 149 x(for)S 150 x
(backgro)S 2 x(und)S 150 x(threads.)S 3899 X 698 y F148(cma_c_sched_background)S
15256 X F38(The)S 100 x(architecturally)S 100 x(de\211ned)S 101 x(name)S
101 x(for)S 100 x(the)S 100 x(`)S -9 x(`backgrou)S 2 x(nd')S -8 x(')S
99 x(schedul-)S 15256 X 548 y(ing)S 150 x(policy)S -34 x(.)S 3899 X
697 y F148(cma_c_sched_\211fo)S 15256 X F38(The)S 163 x(architecturally)S
162 x(de\211ned)S 163 x(name)S 163 x(for)S 162 x(the)S 162 x(`)S -8 x
(`FIFO')S -10 x(')S 161 x(sched)S 2 x(uling)S 15256 X 548 y(policy)S
-33 x(.)S 3899 X 697 y F148(cma_c_sched_inheri)S 2 x(t)S 15256 X F38
(The)S 112 x(architecturally)S 112 x(de\211ned)S 113 x(name)S 113 x
(for)S 112 x(specifying)S 111 x(that)S 112 x(the)S 112 x(prior-)S 15256 X
548 y(ity)S 121 x(and)S 122 x(sched)S 2 x(uling)S 121 x(policy)S 121 x
(of)S 122 x(a)S 122 x(new)S 121 x(thread)S 123 x(should)S 122 x(be)S
122 x(inherited)S 15256 X 548 y(from)S 150 x(its)S 149 x(creator)S -23 x
(.)S 3899 X 698 y F148(cma_c_sched_default)S 15256 X F38(The)S 157 x
(architecturally)S 156 x(de\211ned)S 157 x(name)S 158 x(for)S 156 x
(the)S 156 x(default)S 156 x(\(implemen-)S 15256 X 548 y(tation)S 149 x
(de\211ned)S 2 x(\))S 149 x(sched)S 2 x(uling)S 149 x(policy)S -33 x
(.)S 3899 X 697 y F148(cma_c_sched_rr)S 15256 X F38(The)S 259 x(architecturally)S
258 x(de\211ned)S 259 x(name)S 260 x(for)S 258 x(the)S 258 x(`)S -9 x
(`Round)S 258 x(Robin')S -8 x(')S 15256 X 548 y(schedu)S 2 x(ling)S
149 x(policy)S -34 x(.)S 3899 X 697 y F148(cma_c_sched_throughput)S
15256 X F38(The)S 100 x(architecturally)S 100 x(de\211ned)S 101 x(name)S
101 x(for)S 100 x(the)S 100 x(`)S -9 x(`throughpu)S 2 x(t')S -9 x(')S
99 x(schedul-)S 15256 X 548 y(ing)S 150 x(policy)S -34 x(.)S 3899 X
698 y F148(cma_c_sched_use_default)S 15256 X F38(The)S 162 x(architecturally)S
162 x(de\211ned)S 163 x(name)S 162 x(for)S 162 x(specifying)S 161 x
(that)S 162 x(the)S 161 x(pri-)S 15256 X 548 y(ority)S 179 x(and)S 180 x
(scheduling)S 179 x(policy)S 179 x(of)S 179 x(a)S 179 x(new)S 179 x
(thread)S 180 x(should)S 179 x(be)S 180 x(that)S 15256 X 548 y(speci\211ed)S
151 x(in)S 149 x(the)S 150 x(attributes)S 149 x(object.)S 3899 X 697 y
F148(cma_c_term_alert)S 15256 X F38(The)S 182 x(architecturally)S 181 x
(de\211ned)S 182 x(name)S 182 x(for)S 181 x(the)S 181 x(termination)S
181 x(status)S 15256 X 548 y(of)S 150 x(a)S 149 x(thread)S 151 x(which)S
149 x(terminates)S 150 x(becaus)S 2 x(e)S 149 x(of)S 150 x(an)S 150 x
(alert.)S 3899 X 697 y F148(cma_c_term_error)S 15256 X F38(The)S 182 x
(architecturally)S 181 x(de\211ned)S 182 x(name)S 182 x(for)S 181 x
(the)S 181 x(termination)S 181 x(status)S 15256 X 548 y(of)S 135 x(a)S
135 x(thread)S 136 x(which)S 135 x(terminates)S 136 x(becaus)S 2 x(e)S
135 x(of)S 135 x(an)S 135 x(unhan)S 2 x(dled)S 135 x(error)S 15256 X
548 y(exception.)S 3899 X 698 y F148(cma_c_term_normal)S 15256 X F38
(The)S 182 x(architecturally)S 181 x(de\211ned)S 182 x(name)S 182 x
(for)S 181 x(the)S 181 x(termination)S 181 x(status)S 15256 X 548 y
(of)S 182 x(a)S 181 x(thread)S 183 x(which)S 181 x(terminates)S 182 x
(because)S 183 x(of)S 181 x(a)S 182 x(return)S 182 x(from)S 182 x(the)S
15256 X 547 y F148(start_routine)S 150 x F38(function.)S 3899 X 399 y
23316 48 R 3899 28307 XY F28(B.3)S 598 x(Prede\211ned)S 200 x(Exceptio)S
2 x(ns)S 3899 29304 XY F147(Many)S 192 x(CMA)S 191 x(operations)S 191 x
(raise)S 191 x(an)S 191 x(exception)S 191 x(to)S 192 x(indicate)S 191 x
(an)S 191 x(error)S -40 x(.)S 272 x(The)S 192 x(CMA)S 191 x(architecture)S
192 x(does)S 3899 X 647 y(not)S 182 x(specify)S 183 x(the)S 182 x(internal)S
182 x(format)S 183 x(for)S 184 x(exceptions.)S 3899 30947 XY(The)S 254 x
(architecture)S 253 x(requires)S 253 x(methods)S 253 x(of)S 254 x(declaring)S
253 x(different)S 253 x(kinds)S 253 x(of)S 253 x(exceptions,)S 271 x
(raising)S 253 x(ex-)S 3899 X 648 y(ceptions,)S 255 x(specifying)S 241 x
(local)S 240 x(handlers)S 240 x(for)S 242 x(exceptions,)S 255 x(and)S
241 x(operations)S 240 x(that)S 241 x(local)S 240 x(handl)S -2 x(ers)S
242 x(can)S 3899 X 648 y(perform,)S 183 x(such)S 183 x(as)S 182 x(exception)S
182 x(matching,)S 183 x(requestin)S -2 x(g)S 183 x(unwind,)S 182 x(etc.)S
3899 33239 XY(T)S -34 x(able)S 182 x(6)S 182 x(lists)S 182 x(the)S 182 x
(symbolic)S 182 x(names)S 182 x(of)S 183 x(exceptions)S 182 x(that)S
182 x(CMA)S 182 x(operations)S 182 x(can)S 182 x(raise.)S 16119 37373 XY
F36(Prede\211ned)S 168 x(T)S -37 x(ypes,)S 167 x(V)S -27 x(alues,)S
167 x(and)S 167 x(Exceptions)S 500 x(97)S
%%EndCustomColor: 0
100 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Italic NewCenturySchlbk-Roman
%%PageCustomColors: 0
%
%%Page: 98 101
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 3650 XY 23316 48 R 3899 4297 XY F32(T)S -41 x(able)S 182 x(6:)S
498 x(Exception)S 183 x(Names)S 3899 X 299 y 23316 48 R 3899 5194 XY
F38(Exception)S 150 x(Name)S 11072 X(Description)S 3899 X 299 y 23316 48 R
3899 6190 XY F40(cma_e_alert)S 2 x(ed)S 11072 X F38(This)S 122 x(exception)S
123 x(is)S 122 x(raised)S 123 x(when)S 123 x(an)S 123 x(alert)S 122 x
(is)S 122 x(delivered)S 124 x(to)S 122 x(the)S 122 x(thread)S 124 x
(\(see)S 123 x(Section)S 122 x(4.7\).)S 3899 X 698 y F40(cma_e_existe)S
2 x(nce)S 11072 X F38(The)S 150 x(object)S 149 x(speci\211ed)S 151 x
(by)S 150 x(the)S 149 x(handle)S 151 x(does)S 150 x(not)S 150 x(currently)S
150 x(exist.)S 3899 X 697 y F40(cma_e_in_use)S 11072 X F38(The)S 174 x
(opera)S 2 x(tion)S 173 x(requested)S 175 x(for)S 174 x(the)S 174 x
(object)S 174 x(cannot)S 175 x(be)S 174 x(perform)S 2 x(ed)S 174 x(since)S
174 x(the)S 174 x(object)S 174 x(is)S 11072 X 548 y(still)S 148 x(in)S
149 x(use.)S 3899 X 697 y F40(cma_e_use_e)S 2 x(rror)S 11072 X F38(The)S
153 x(operation)S 153 x(reques)S 2 x(ted)S 152 x(is)S 152 x(illegal)S
151 x(for)S 153 x(the)S 152 x(type)S 153 x(of)S 152 x(object)S 152 x
(or)S 153 x(the)S 152 x(state)S 153 x(of)S 152 x(the)S 152 x(object)S
11072 X 548 y(passed)S 151 x(in.)S 3899 X 698 y F40(cma_e_badpara)S
2 x(m)S 11072 X F38(One)S 150 x(or)S 150 x(more)S 150 x(para)S 2 x(meters)S
150 x(supplied)S 150 x(had)S 150 x(an)S 150 x(invalid)S 149 x(value.)S
3899 X 697 y F40(cma_e_exquota)S 11072 X F38(The)S 150 x(operation)S
150 x(caused)S 151 x(the)S 150 x(thread)S 150 x(to)S 150 x(attempt)S
149 x(to)S 149 x(excee)S 2 x(d)S 149 x(some)S 151 x(quota.)S 3899 X
697 y F40(cma_e_sta)S 2 x(ckovf)S 11072 X F38(The)S 150 x(current)S
150 x(thread)S 151 x(attempted)S 150 x(to)S 149 x(over\212o)S 2 x(w)S
149 x(its)S 149 x(stack.)S 3899 X 698 y F40(cma_e_insfmem)S 11072 X
F38(Insuf)S -8 x(\211cient)S 149 x(memo)S 2 x(ry)S 150 x(exists)S 149 x
(to)S 149 x(perform)S 151 x(the)S 150 x(operation.)S 3899 X 697 y F40
(cma_e_nopriv)S 11072 X F38(The)S 150 x(caller)S 149 x(does)S 151 x
(not)S 149 x(have)S 151 x(the)S 149 x(required)S 151 x(privilege.)S
3899 X 698 y F40(cma_e_bugcheck)S 11072 X F38(Unrecover)S 2 x(able)S
142 x(internal)S 141 x(CMA)S 142 x(error)S -23 x(.)S 196 x(If)S 141 x
(it)S 141 x(is)S 141 x(ever)S 143 x(necessar)S 2 x(y)S 141 x(for)S 142 x
(a)S 142 x(client)S 141 x(to)S 142 x(catch)S 142 x(this)S 11072 X 548 y
(error)S -23 x(,)S 149 x(it)S 148 x(should)S 151 x(always)S 149 x(be)S
150 x(resignalled.)S 3899 X 697 y F40(cma_e_exit_t)S 2 x(hread)S 11072 X
F38(Internal)S 141 x(exception)S 142 x(used)S 142 x(to)S 140 x(implement)S
142 x F148(cma_thread_exit_normal)S 141 x F38(and)S 142 x F148(cma_)S
11072 X 548 y(thread_exit_error)S F38(.)S 200 x(It)S 149 x(should)S
150 x(genera)S 2 x(lly)S 148 x(be)S 150 x(resignalled)S 150 x(if)S 149 x
(caught.)S 3899 X 697 y F40(cma_e_nostac)S 2 x(kmem)S 11072 X F38(There)S
150 x(is)S 150 x(insuf)S -9 x(\211cient)S 150 x(stack)S 150 x(available)S
149 x(to)S 149 x(create)S 151 x(a)S 149 x(new)S 150 x(stack)S 150 x
(for)S 150 x(a)S 149 x(thread.)S 3899 X 698 y F40(cma_e_unimp)S 11072 X
F38(The)S 124 x(caller)S 124 x(reque)S 2 x(sted)S 124 x(a)S 124 x(function)S
124 x(de\211ned)S 126 x(by)S 124 x(the)S 124 x(architecture)S 125 x
(which)S 124 x(is)S 124 x(not)S 124 x(supported)S 11072 X 548 y(by)S
150 x(the)S 149 x(implementation.)S 3899 X 697 y F40(cma_e_inialrpro)S
11072 X F38(The)S 150 x F148(cma_init)S 150 x F38(operation)S 150 x
(was)S 150 x(called)S 149 x(while)S 149 x(the)S 150 x(\211rst)S 149 x
(call)S 149 x(is)S 149 x(still)S 148 x(in)S 149 x(progr)S 2 x(ess.)S
3899 X 399 y 23316 48 R 3899 37373 XY F36(98)S 498 x(Prede\211ned)S
167 x(T)S -36 x(ypes,)S 167 x(V)S -28 x(alues,)S 168 x(and)S 166 x(Exceptio)S
2 x(ns)S
%%EndCustomColor: 0
101 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Helvetica
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 99 102
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 13172 6516 XY F24(APPENDIX)S 697 x(C)S 13611 8011 XY(GLOSSAR)S
-27 x(Y)S 3899 10003 XY F149(Alert.)S 307 x F147(An)S 203 x(alert)S
203 x(is)S 203 x(a)S 203 x(noti\211cation)S 202 x(that)S 204 x(can)S
203 x(be)S 203 x(sent)S 203 x(to)S 204 x(a)S 203 x(thread)S 203 x(in)S
203 x(order)S 204 x(to)S 204 x(inform)S 203 x(it)S 204 x(that)S 203 x
(its)S 3899 X 648 y(speedy)S 235 x(termination)S 235 x(is)S 236 x(desired)S
-2 x(.)S 405 x(An)S 236 x(alert)S 235 x(is)S 236 x(used)S 235 x(for)S
237 x(canceling)S 235 x(an)S 236 x(entire)S 236 x(thread\202but)S 235 x
(in)S 236 x(a)S 3899 X 647 y(controlled)S 182 x(manner)S -41 x(.)S 3899 12294 XY
(The)S 183 x(name)S 182 x(`)S -10 x(`alert')S -10 x(')S 182 x(stems)S
183 x(from)S 183 x(the)S 183 x(intent)S 182 x(to)S 183 x F148(politely)S
184 x F147(inform)S 183 x(a)S 182 x(thread)S 183 x(that)S 182 x(it)S
183 x(must,)S 183 x(as)S 182 x(soon)S 182 x(as)S 3899 X 648 y(practical,)S
195 x(desist)S 192 x(from)S 195 x(what)S 193 x(it)S 193 x(is)S 193 x
(currently)S 193 x(doing,)S 196 x(clean)S 193 x(anything)S 192 x(up)S
193 x(that)S 193 x(was)S 193 x(only)S 193 x(partiall)S -2 x(y)S 3899 X
648 y(completed,)S 182 x(and)S 182 x(then)S 182 x(terminate.)S 3899 14586 XY
F149(Alertable.)S 286 x F147(An)S 196 x(`)S -10 x(`alertabl)S -2 x(e')S
-10 x(')S 197 x(operation)S 195 x(is)S 197 x(one)S 196 x(which)S 197 x
(may)S 197 x(raise)S 196 x(the)S 197 x F149(cma_e)S -2 x(_alerted)S
197 x F147(exception)S 3899 X 647 y(during)S 218 x(its)S 218 x(execution.)S
351 x(`)S -10 x(`Not)S 218 x(alertable')S -11 x(')S 218 x(means)S 218 x
(that)S 218 x(the)S 219 x(operation)S 217 x(will)S 218 x(not)S 219 x
(raise)S 217 x(the)S 219 x F149(cma_e)S -2 x(_)S 3899 X 648 y(alerted)S
183 x F147(exception.)S 3899 16877 XY F149(Alertsafe.)S 451 x F147(An)S
251 x(alertsafe)S 251 x(operation)S 251 x(is)S 251 x(one)S 251 x(which)S
252 x(may)S 252 x(be)S 251 x(called)S 251 x(with)S 251 x(asynchronous)S
251 x(deliv-)S 3899 X 648 y(ery)S 246 x(of)S 246 x(alerts)S 245 x(enabl)S
-2 x(ed.)S 432 x(`)S -10 x(`Not)S 245 x(alertsafe')S -10 x(')S 245 x
(means)S 245 x(that)S 245 x(the)S 245 x(operation)S 245 x(must)S 245 x
F148(not)S 245 x F147(be)S 245 x(called)S 245 x(with)S 3899 X 647 y
(asynchronous)S 182 x(deli)S -2 x(very)S 184 x(enabl)S -2 x(ed.)S 3899 19169 XY
F149(Attribut)S 2 x(es)S 167 x(object.)S 238 x F147(An)S 167 x(attributes)S
167 x(object)S 168 x(is)S 167 x(an)S 168 x(object)S 168 x(used)S 166 x
(to)S 168 x(describe)S 167 x(other)S 168 x(objects.)S 239 x(It)S 168 x
(holds)S 3899 X 647 y(the)S 221 x(individ)S -2 x(ual)S 221 x(attribute)S
221 x(values)S 220 x(to)S 222 x(be)S 221 x(used)S 221 x(when)S 221 x
(creating)S 222 x(objects)S 221 x(of)S 222 x(a)S 221 x(particular)S
221 x(kind)S -2 x(.)S 361 x(An)S 3899 X 648 y(attributes)S 147 x(object)S
147 x(is)S 147 x(analogous)S 146 x(to)S 148 x(a)S 147 x(type)S 147 x
(de\211nition)S 146 x(in)S 147 x(a)S 147 x(programming)S 147 x(language.)S
231 x(Both)S 147 x(describe)S 3899 X 647 y(detail)S -2 x(s)S 183 x(of)S
183 x(the)S 182 x(objects)S 183 x(to)S 183 x(be)S 182 x(created.)S 3899 22108 XY
F149(Attribut)S 2 x(es.)S 237 x F147(Attributes)S 163 x(are)S 164 x
(the)S 164 x(individ)S -2 x(ual)S 163 x(components)S 164 x(of)S 165 x
(the)S 164 x(attributes)S 163 x(object.)S 238 x(They)S 165 x(specify)S
3899 X 647 y(detail)S -2 x(ed)S 183 x(properties)S 181 x(about)S 182 x
(the)S 183 x(objects)S 182 x(to)S 183 x(be)S 182 x(created.)S 3899 23752 XY
F149(Client.)S 244 x F147(A)S 182 x(client)S 182 x(is)S 182 x(any)S
183 x(software)S 183 x(package)S 182 x(that)S 182 x(invokes)S 182 x
(a)S 182 x(CMA)S 182 x(operation.)S 3899 24748 XY F149(Condition)S 201 x
(variable.)S 294 x F147(A)S 200 x(condition)S 198 x(variable)S 199 x
(is)S 199 x(a)S 200 x(synchroniza)S -2 x(tion)S 200 x(object)S 200 x
(that)S 200 x(is)S 199 x(used)S 199 x(in)S 199 x(con-)S 3899 X 647 y
(junction)S 264 x(with)S 265 x(a)S 264 x(mutex.)S 490 x(A)S 264 x(condition)S
263 x(variable)S 264 x(allows)S 263 x(a)S 265 x(thread)S 264 x(to)S
264 x(block)S 264 x(until)S 264 x(some)S 264 x(event)S 3899 X 648 y
(happ)S -2 x(ens.)S 3899 27039 XY F149(Destructor)S -39 x(.)S 224 x
F147(A)S 124 x(routine)S 125 x(supp)S -2 x(lied)S 124 x(by)S 124 x(a)S
125 x(client)S 124 x(which)S 124 x(is)S 124 x(expected)S 125 x(to,)S
137 x(optiona)S -2 x(lly)S -61 x(,)S 136 x(\211naliz)S -2 x(e,)S 137 x
(and)S 124 x(then)S 3899 X 648 y(deall)S -2 x(ocate)S 165 x(a)S 165 x
(per)S -10 x(-thread)S 164 x(context)S 166 x(value)S 164 x(for)S 166 x
(that)S 164 x(client.)S 238 x(\(See)S 165 x(Section)S 165 x(4.6)S 164 x
(for)S 166 x(more)S 165 x(information\).)S 3899 28683 XY F149(Illegal.)S
240 x F147(An)S 174 x(illega)S -2 x(l)S 174 x(action)S 174 x(is)S 174 x
(a)S 174 x(violation)S 173 x(of)S 175 x(a)S 174 x(rule)S 174 x(of)S
175 x(the)S 174 x(architecture)S 174 x(that)S 175 x(an)S 173 x(implementation)S
3899 X 648 y(is)S 182 x(required)S 182 x(to)S 182 x(report)S 183 x(\(see)S
183 x F149(unpredictable)S F147(\).)S 3899 30327 XY F149(Implementation.)S
475 x F147(A)S 259 x(speci\211c)S 258 x(realization)S 258 x(of)S 260 x
(the)S 260 x(CMA)S 259 x(interfaces)S 259 x(targeted)S 260 x(to)S 259 x
(a)S 260 x(particula)S -2 x(r)S 3899 X 647 y(operating)S 182 x(system)S
182 x(and)S 182 x(hardware)S 182 x(architecture.)S 3899 31971 XY F149
(Mutex.)S 234 x F147(A)S 153 x(mutex)S 154 x(is)S 152 x(a)S 154 x(synchroniza)S
-2 x(tion)S 153 x(object)S 154 x(that)S 153 x(provides)S 153 x(mutual)S
152 x(exclusion)S 153 x(among)S 153 x(threads.)S 3899 X 647 y(A)S 209 x
(mutex)S 209 x(is)S 209 x(often)S 209 x(used)S 209 x(to)S 209 x(ensure)S
209 x(that)S 209 x(shared)S 208 x(variables)S 208 x(are)S 209 x(always)S
208 x(seen)S 209 x(by)S 209 x(another)S 209 x(thread)S 3899 X 648 y
(in)S 182 x(a)S 182 x(consistent)S 182 x(state.)S 24027 37373 XY F36
(Glossary)S 499 x(99)S
%%EndCustomColor: 0
102 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Bold
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 100 103
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4012 XY F149(Object.)S 244 x F147(An)S 183 x(object)S 183 x(is)S
182 x(a)S 182 x(data)S 182 x(structure)S 183 x(that)S 183 x(implements)S
181 x(some)S 183 x(feature)S 183 x(and)S 182 x(has)S 182 x(an)S 182 x
(associated)S 3899 X 648 y(set)S 136 x(of)S 137 x(operations.)S 227 x
(CMA)S 136 x(objects)S 136 x(are)S 137 x(maintai)S -2 x(ned)S 136 x
(hidden)S 135 x(within)S 135 x(the)S 137 x(CMA)S 136 x(implemen)S -2 x
(tation)S 136 x(\(that)S 3899 X 647 y(is,)S 166 x(are)S 162 x F148(private)S
162 x F147(to)S 162 x(the)S 162 x(implementation\).)S 236 x(Clients)S
161 x(are)S 162 x(given)S 162 x(hand)S -2 x(les)S 162 x(to)S 162 x(refer)S
163 x(to)S 162 x(objects)S 162 x(and)S 161 x(may)S 3899 X 648 y(only)S
182 x(operate)S 181 x(on)S 182 x(objects)S 183 x(indi)S -2 x(rectly\202by)S
183 x(specifying)S 181 x(the)S 183 x(hand)S -2 x(le)S 182 x(for)S 183 x
(an)S 182 x(object)S 182 x(and)S 182 x(an)S 181 x(operation.)S 3899 6951 XY
F149(Operation.)S 314 x F147(An)S 206 x(operation)S 204 x(is)S 206 x
(an)S 205 x(action)S 205 x(that)S 206 x(is)S 205 x(performed)S 206 x
(upon)S 205 x(a)S 206 x(CMA)S 205 x(object.)S 314 x(W)S -31 x(e)S 206 x
(use)S 205 x(this)S 3899 X 648 y(neutral)S 131 x(term)S 133 x(since)S
132 x(many)S 132 x(CMA)S 131 x(operations)S 131 x(will)S 131 x(not)S
132 x(be)S 132 x(implemented)S 131 x(as)S 131 x(routines,)S 142 x(but)S
132 x(as)S 131 x(macros)S 3899 X 647 y(or)S 183 x(inli)S -2 x(ne)S 183 x
(code.)S 3899 9243 XY F149(Ree)S -2 x(ntr)S 2 x(ant)S 191 x(service.)S
269 x F147(A)S 190 x(reentrant)S 192 x(system)S 191 x(service)S 191 x
(is)S 191 x(one)S 191 x(that)S 191 x(it)S 191 x(is)S 190 x(safe)S 191 x
(to)S 192 x(call)S 190 x(from)S 192 x(multipl)S -2 x(e)S 3899 X 647 y
(threads)S 155 x(in)S 156 x(paral)S -2 x(lel.)S 235 x(If)S 156 x(a)S
156 x(service)S 156 x(is)S 156 x(reentrant,)S 162 x(there)S 156 x(is)S
155 x(no)S 156 x(burden)S 155 x(placed)S 155 x(on)S 156 x(calling)S
155 x(routines)S 155 x(to)S 3899 X 648 y(seriali)S -2 x(ze)S 176 x(their)S
175 x(access)S 175 x(or)S 176 x(take)S 176 x(other)S 176 x(explicit)S
174 x(precautions.)S 241 x(A)S 175 x(reentrant)S 176 x(service)S 176 x
(may)S 175 x(be)S 176 x(further)S 3899 X 647 y(classi)S -2 x(\211ed)S
182 x(as)S 182 x F149(thr)S 2 x(ead-serial)S 182 x F147(or)S 183 x F149
(thread-synchr)S 2 x(onous)S F147(.)S 3899 12182 XY F149(Routine.)S
399 x F147(This)S 234 x(term)S 234 x(is)S 234 x(used)S 233 x(to)S 235 x
(refer)S 235 x(to)S 235 x(code)S 234 x(that,)S 247 x(generally)S -61 x
(,)S 248 x(does)S 233 x(not)S 234 x(execute)S 235 x(in)S 234 x(line.)S
398 x(A)S 3899 X 647 y(routine)S 182 x(is)S 182 x(an)S 182 x(external)S
182 x(\(or)S 184 x(exported\))S 183 x(procedure)S 182 x(or)S 183 x(function.)S
3899 13826 XY F149(Software)S 187 x(Interru)S 2 x(pt.)S 256 x F147(A)S
186 x(software)S 187 x(interrupt)S 186 x(is)S 186 x(a)S 187 x(mechanis)S
-2 x(m)S 187 x(which)S 186 x(activates)S 186 x(a)S 187 x(user)S 186 x
(routine)S 3899 X 647 y F148(asynchronously)S 175 x F147(with)S 174 x
(respect)S 174 x(to)S 175 x(the)S 174 x(program.)S 242 x(The)S 174 x
(interrupt)S 175 x(routine)S 174 x(shares)S 173 x(program)S 175 x(context)S
3899 X 648 y(\(includin)S -2 x(g)S 132 x(stack\))S 132 x(with)S 131 x
(the)S 132 x(non-interrupt)S 131 x(code,)S 142 x(and)S 131 x(the)S 131 x
(non-interrupt)S 131 x(code)S 132 x(may)S 131 x(be)S 131 x(interrupted)S
3899 X 647 y(while)S 163 x(data)S 162 x(is)S 163 x(in)S 163 x(an)S 163 x
(inconsis)S -2 x(tent)S 164 x(state.)S 237 x(Therefore,)S 169 x(there)S
164 x(are)S 163 x(usuall)S -2 x(y)S 164 x(special)S 162 x(rules)S 163 x
(about)S 163 x(what)S 3899 X 648 y(can)S 134 x(be)S 134 x(done)S 133 x
(in)S 134 x(a)S 134 x(software)S 135 x(interrupt)S 134 x(routine.)S
227 x(UNIX)S 133 x F148(signals)S 136 x F147(and)S 133 x(V)S -61 x(AX/VMS)S
134 x F148(AST)S F147(s)S 134 x(are)S 135 x(examples)S 3899 X 647 y
(of)S 183 x(software)S 183 x(interrupts.)S 3899 18060 XY F149(Thread.)S
288 x F147(A)S 197 x(thread)S 196 x(is)S 197 x(the)S 197 x(execution)S
197 x(of)S 198 x(a)S 196 x(designated)S 196 x(routine)S 197 x(of)S 197 x
(type)S 198 x(cma_t_start_routine.)S 287 x(A)S 3899 X 647 y(thread)S
219 x(is)S 218 x(an)S 219 x(abstract)S 219 x(executable)S 219 x(entity)S
-61 x(.)S 354 x(A)S 219 x(thread)S 218 x(transitions)S 218 x(through)S
220 x(various)S 218 x(states)S 219 x(as)S 219 x(it)S 3899 X 648 y(executes.)S
244 x(A)S 182 x(thread)S 182 x(can)S 183 x(be)S 182 x(executed)S 182 x
(in)S 182 x(parallel)S 181 x(with)S 182 x(other)S 183 x(threads.)S 3899 20351 XY
F149(Thread)S 183 x(Object.)S 244 x F147(A)S 182 x(thread)S 182 x(object)S
183 x(is)S 182 x(the)S 182 x(object)S 183 x(used)S 182 x(to)S 182 x
(control)S 183 x(threads.)S 3899 21347 XY F149(Thread-serial)S 208 x
(service.)S 319 x F147(A)S 208 x(reentrant)S 208 x(system)S 208 x(service)S
208 x(is)S 208 x(said)S 207 x(to)S 208 x(be)S 208 x(thread-serial)S
207 x(if,)S 215 x(when)S 208 x(it)S 3899 X 648 y(must)S 157 x(block,)S
163 x(it)S 158 x(blocks)S 156 x(the)S 158 x(current)S 159 x(thread)S
157 x(and)S 156 x(all)S 157 x(other)S 158 x(threads)S 157 x(that)S 157 x
(might)S 158 x(attempt)S 158 x(to)S 158 x(call)S 157 x(the)S 3899 X
647 y(same)S 182 x(service)S 183 x(\(or)S 183 x(possib)S -2 x(ly)S 183 x
(even)S 182 x(other)S 183 x(related)S 182 x(services\))S 183 x(until)S
181 x(the)S 183 x(\211rst)S 183 x(call)S 181 x(returns.)S 3899 23639 XY
F149(Thread-synchronous)S 240 x(service.)S 411 x F147(A)S 239 x(reentrant)S
239 x(service)S 239 x(is)S 238 x(said)S 237 x(to)S 239 x(be)S 239 x
(thread-synchronous)S 238 x(if,)S 3899 X 647 y(when)S 223 x(it)S 224 x
(must)S 223 x(block,)S 233 x(it)S 224 x(blocks)S 222 x(only)S 223 x
(the)S 224 x(current)S 224 x(thread,)S 234 x(and)S 222 x(other)S 224 x
(threads)S 222 x(can)S 224 x(execute)S 224 x(the)S 3899 X 648 y(same)S
182 x(operation)S 182 x(during)S 181 x(the)S 183 x(blockage.)S 3899 25930 XY
F149(Unpr)S 2 x(edictable.)S 493 x F147(An)S 266 x(unpredi)S -2 x(ctable)S
266 x(action)S 266 x(is)S 265 x(a)S 266 x(violation)S 265 x(of)S 267 x
(an)S 266 x(architecture)S 266 x(rule)S 266 x(that)S 266 x(an)S 3899 X
648 y(implementa)S -2 x(tion)S 266 x(is)S 266 x(not)S 266 x(required)S
266 x(to)S 266 x(report)S 267 x(\(see)S 266 x F149(illegal)S F147(\).)S
494 x(The)S 267 x(results)S 265 x(of)S 267 x(an)S 266 x(unpredi)S -2 x
(ctable)S 3899 X 647 y(action)S 255 x(may)S 257 x(vary)S 256 x(between)S
256 x(implementati)S -2 x(ons,)S 275 x(and)S 255 x(between)S 256 x(versions)S
255 x(of)S 257 x(an)S 255 x(implementati)S -2 x(on.)S 3899 X 648 y(The)S
183 x(possi)S -2 x(ble)S 182 x(results)S 182 x(of)S 183 x(an)S 182 x
(unpredictab)S -2 x(le)S 183 x(action)S 182 x(may)S 182 x(include)S
182 x(any)S 182 x(of)S 183 x(the)S 183 x(following:)S 3899 X 896 y(\201)S
714 x(An)S 182 x(error)S 183 x(report)S 183 x(from)S 184 x(CMA,)S 182 x
(the)S 183 x(operating)S 182 x(system,)S 183 x(or)S 182 x(the)S 183 x
(hardware.)S 3899 X 897 y(\201)S 714 x(A)S 182 x(`)S -10 x(`hang')S
-11 x(')S 183 x(or)S 183 x(dead)S -2 x(lock)S 183 x(of)S 183 x(the)S
182 x(program.)S 3899 X 897 y(\201)S 714 x(Subtly)S 182 x(incorrect)S
184 x(operation)S 181 x(of)S 183 x(the)S 183 x(program)S 183 x(without)S
182 x(indi)S -2 x(cation)S 183 x(of)S 183 x(error)S -40 x(.)S 3899 37373 XY
F36(100)S 498 x(Glossary)S
%%EndCustomColor: 0
103 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Bold
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 101 104
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 13172 6495 XY F24(APPENDIX)S 697 x(D)S 13637 7989 XY(EXAMPLES)S
3899 10031 XY F28(D.1)S 598 x(Examples)S 201 x(of)S 199 x(Using)S 200 x
(CMA)S 199 x(Synchronization)S 201 x(Operations)S 3899 11028 XY F147
(This)S 182 x(section)S 182 x(provides)S 182 x(some)S 182 x(examples)S
182 x(of)S 183 x(using)S 181 x(CMA)S 183 x(synchroniza)S -2 x(tion)S
182 x(operations.)S 3899 12024 XY(The)S 175 x(following)S 175 x(example)S
174 x(illus)S -2 x(trates)S 175 x(how)S 176 x(to)S 175 x(create)S 175 x
(a)S 175 x(new)S 175 x(synchronization)S 173 x(object,)S 178 x(an)S
174 x(`)S -10 x(`alertabl)S -2 x(e)S 3899 X 647 y(semaphore')S -11 x
('.)S 277 x(This)S 193 x(example)S 193 x(shows)S 193 x(that)S 193 x
(semaphores)S 193 x(need)S 193 x(not)S 193 x(be)S 194 x(provided)S 192 x
(by)S 194 x(the)S 193 x(CMA)S 194 x(Core)S 3899 X 648 y(Layer;)S 231 x
(the)S 215 x(same)S 214 x(can)S 214 x(easil)S -2 x(y)S 215 x(be)S 214 x
(shown)S 214 x(for)S 215 x(events,)S 223 x(as)S 214 x(well)S 214 x(as)S
213 x(other)S 215 x(sorts)S 214 x(of)S 215 x(synchronization)S 3899 X
648 y(objects.)S 245 x 15013 Y F98(type)S 269 x(SEMAPHORE)S 269 x(is)S
15167 X(--)S 269 x(Define)S 269 x(the)S 268 x(fields)S 269 x(of)S 269 x
(semaphore)S 269 x(objects)S 7097 X 498 y(record)S -538 x 498 y(MUTEX)S
10594 X(:)S 269 x(CMA_T_MUTEX;)S 15705 X(--)S 269 x(Mutex)S 269 x(to)S
268 x(guard)S 269 x(this)S 269 x(object)S 8173 X 498 y(COUNT)S 10594 X
(:)S 269 x(integer)S 269 x(:=)S 269 x(1;)S 538 x(--)S 269 x(The)S 269 x
(state)S 268 x(of)S 269 x(the)S 269 x(semaphore)S 8173 X 498 y(WAITERS)S
538 x(:)S 269 x(integer)S 269 x(:=)S 269 x(0;)S 538 x(--)S 269 x(Number)S
269 x(of)S 268 x(current)S 269 x(waiters)S 8173 X 498 y(MAY_PASS)S 269 x
(:)S 269 x(CMA_T_COND;)S 269 x(--)S 269 x(A)S 269 x(condition)S 269 x
(variable)S 268 x(associated)S 15167 X 498 y(--)S 269 x(with)S 269 x
(the)S 269 x(count.)S 7097 X 499 y(end)S 269 x(record;)S 6021 X 797 y
(SEM)S 269 x(:)S 269 x(SEMAPHORE;)S 269 x(--)S 269 x(declare)S 269 x
(a)S 269 x(semaphore)S 269 x(object)S 6021 X 797 y(--)S 269 x(This)S
269 x(is)S 269 x(the)S 269 x(P\(SEM\))S 269 x(operation.)S 6021 X 498 y
(--)S 269 x(The)S 269 x(semaphore)S 269 x(is)S 269 x(decremented)S 269 x
(if)S 269 x(positive;)S 269 x(otherwise)S 268 x(the)S 6021 X 498 y(--)S
269 x(caller)S 269 x(must)S 269 x(wait.)S 6021 X 498 y(CMA_MUTEX_LOCK\(SEM.MUTEX\);)S
269 x(--)S 269 x(Get)S 269 x(exclusive)S 269 x(access)S 268 x(to)S 269 x
(the)S 269 x(object)S 6021 X 498 y(begin)S -269 x 797 y(--)S 269 x(Wait)S
269 x(until)S 269 x(the)S 269 x(count)S 269 x(is)S 269 x(>)S 269 x(0)S
269 x(or)S 269 x(we)S 269 x(are)S 269 x(alerted.)S 7097 X 498 y(while)S
269 x(not)S 269 x(SEM.COUNT)S 269 x(>)S 269 x(0)S 269 x(loop)S 8173 X
498 y(--)S 269 x(count)S 269 x(us)S 269 x(among)S 269 x(the)S 269 x
(waiters)S 269 x(while)S 269 x(we)S 268 x(wait)S 8173 X 498 y(SEM.WAITERS)S
269 x(:=)S 269 x(SEM.WAITERS)S 269 x(+)S 269 x(1;)S 8173 X 499 y(CMA_COND_WAIT)S
269 x(\(SEM.MAY_PASS,)S 269 x(SEM.MUTEX\);)S 8173 X 498 y(SEM.WAITERS)S
269 x(:=)S 269 x(SEM.WAITERS)S 269 x(-)S 269 x(1;)S 7097 X 498 y(end)S
269 x(loop;)S 6021 X 797 y(exception)S 7097 X 498 y(--)S 269 x(if)S
269 x(we)S 269 x(get)S 269 x(alerted,)S 269 x(release)S 269 x(the)S
269 x(lock)S 269 x(and)S 268 x(propagate)S 7097 X 498 y(--)S 269 x(the)S
269 x(exception.)S 538 x(note:)S 269 x(by)S 269 x(restoring)S 269 x
(state,)S 268 x(the)S 269 x(exception)S 7097 X 498 y(--)S 269 x(appears)S
269 x(to)S 269 x(have)S 269 x(been)S 269 x(raised)S 269 x(prior)S 269 x
(the)S 269 x(call)S 268 x(to)S 269 x(P\(SEM\).)S 7097 X 498 y(when)S
269 x(OTHERS)S 269 x(=>)S 538 x 499 y(SEM.WAITERS)S 269 x(:=)S 269 x
(SEM.WAITERS)S 268 x(-)S 269 x(1;)S 11401 X 498 y(CMA_MUTEX_UNLOCK\(SEM.MUTEX\);)S
11401 X 498 y(raise;)S 6021 X 498 y(end;)S 6021 X 797 y(--)S 269 x(We)S
269 x(saw)S 269 x(count)S 269 x(positive,)S 269 x(take)S 269 x(one)S
269 x(permission)S 269 x(from)S 268 x(it)S 6021 X 498 y(SEM.COUNT)S
269 x(:=)S 269 x(SEM.COUNT)S 269 x(-)S 269 x(1;)S 6021 X 498 y(CMA_MUTEX_UNLOCK\(SEM.MUTEX\);)S
6021 33543 XY(--)S 269 x(This)S 269 x(is)S 269 x(the)S 269 x(V\(SEM\))S
269 x(operation.)S 538 x(The)S 269 x(semaphore)S 268 x(is)S 269 x(incremented)S
6021 X 498 y(--)S 269 x(and)S 269 x(all)S 269 x(current)S 269 x(waiters)S
269 x(are)S 269 x(awakened.)S 6021 X 498 y(CMA_MUTEX_LOCK\(SEM.MUTEX\);)S
6021 X 797 y(SEM.COUNT)S 269 x(:=)S 269 x(SEM.COUNT)S 269 x(+)S 269 x
(1;)S 23391 37373 XY F36(Examples)S 665 x(101)S
%%EndCustomColor: 0
104 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 102 105
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
6021 3903 XY F98(if)S 269 x(SEM.WAITERS)S 269 x(>)S 269 x(0)S 6021 X
498 y(then)S 498 y(if)S 269 x(SEM.WAITERS)S 269 x(=)S 269 x(1)S 7097 X
498 y(then)S 498 y(CMA_COND_SIGNAL\(SEM.MAY_PASS\);)S 7097 X 498 y(else)S
498 y(CMA_COND_BROADCAST\(SEM.MAY_PASS\);)S 7097 X 499 y(end)S 269 x
(if;)S 6021 X 498 y(end)S 269 x(if;)S 6021 X 797 y(CMA_MUTEX_UNLOCK\(SEM.MUTEX\);)S
3899 9681 XY F147(Note)S 251 x(that,)S 269 x(in)S 250 x(the)S 252 x
(absen)S -2 x(ce)S 252 x(of)S 252 x(contention)S 251 x(for)S 252 x(the)S
251 x(same)S 251 x(semaphore)S 250 x(object,)S 269 x(either)S 252 x
(operation)S 3899 X 648 y(above)S 196 x(involves)S 197 x(only)S 196 x
(the)S 197 x(locking)S 197 x(and)S 196 x(unlocking)S 196 x(of)S 197 x
(a)S 197 x(mutex)S 197 x(and)S 196 x(little)S 197 x(more)S 197 x(than)S
196 x(accessing)S 197 x(a)S 3899 X 647 y(few)S 183 x(\211elds)S 182 x
(of)S 183 x(the)S 182 x(object.)S 3899 11972 XY(The)S 183 x(following)S
182 x(example)S 182 x(illu)S -2 x(strates)S 183 x(a)S 182 x(typical)S
182 x(pattern)S 182 x(used)S 181 x(to)S 183 x(do)S 182 x(a)S 183 x(timed)S
182 x(wait.)S 6021 13018 XY F98(M)S 269 x(:)S 269 x(CMA_T_MUTEX;)S 11401 X
(--)S 269 x(Mutex)S 269 x(guarding)S 269 x(some)S 269 x(shared)S 268 x
(variable\(s\).)S 6021 X 499 y(B)S 269 x(:)S 269 x(BOOLEAN;)S 11401 X
(--)S 269 x(Predicate)S 269 x(based)S 269 x(on)S 269 x(those)S 268 x
(shared)S 269 x(variable\(s\).)S 6021 X 498 y(C)S 269 x(:)S 269 x(CMA_T_COND;)S
11401 X(--)S 269 x(Condition)S 269 x(associated)S 269 x(with)S 268 x
(the)S 269 x(predicate.)S 6021 X 498 y(T)S 269 x(:)S 269 x(CMA_T_DATE_TIME;--)S
269 x(Expiration)S 269 x(time.)S 6021 X 498 y(I)S 269 x(:)S 269 x(CMA_T_INTERVAL;)S
269 x(--)S 269 x(Maximum)S 269 x(time)S 269 x(to)S 269 x(wait)S 269 x
(before)S 268 x(timing)S 269 x(out.)S 6021 X 498 y(S)S 269 x(:)S 269 x
(CMA_T_STATUS;)S 807 x(--)S 269 x(Status)S 269 x(of)S 269 x(timed)S
269 x(condition)S 268 x(wait.)S 6021 X 797 y(procedure)S 269 x(FINALIZE)S
269 x(is)S 6021 X 498 y(begin)S -269 x 498 y(CMA_MUTEX_UNLOCK\(M\);)S
6021 X 498 y(end;)S 6021 X 798 y(--)S 269 x(beginning)S 269 x(of)S 269 x
(accessing)S 269 x(shared)S 269 x(variables)S 6021 X 498 y(CMA_MUTEX_LOCK\(M\);)S
6021 X 498 y(...)S 538 x(--)S 269 x(Read)S 269 x(and)S 269 x(possibly)S
269 x(modify)S 269 x(shared)S 269 x(variables)S 6021 X 797 y(CMA_TIME_GET_EXPIRATION)S
269 x(\(T,)S 269 x(I\))S 269 x(--)S 269 x(Compute)S 269 x(the)S 269 x
(expiration)S 268 x(time)S 6021 X 797 y(begin)S -269 x 498 y(--)S 269 x
(Wait)S 269 x(for)S 269 x(b)S 269 x(to)S 269 x(be)S 269 x(true,)S 269 x
(or)S 269 x(timeout)S 269 x(to)S 269 x(expire,)S 268 x(or)S 269 x(alert.)S
7097 X 498 y(S)S 269 x(:=)S 269 x(CMA_S_NORMAL;)S 7097 X 498 y(while)S
269 x(not)S 269 x(B)S 269 x(and)S 269 x(S)S 269 x(=)S 269 x(CMA_S_NORMAL)S
269 x(loop)S 8173 X 498 y(S)S 269 x(:=)S 269 x(CMA_COND_TIMED_WAIT\(C,)S
269 x(M,)S 269 x(T\);)S 7097 X 498 y(end)S 269 x(loop;)S 6021 X 797 y
(exception)S 7097 X 499 y(when)S 269 x(OTHERS)S 269 x(=>)S 269 x(...)S
269 x(--)S 269 x(Restore)S 269 x(any)S 269 x(invariants)S 268 x(about)S
269 x(state)S 11401 X 498 y(FINALIZE;)S 269 x(--)S 269 x(Cleanup)S 269 x
(\(unlock\))S 11401 X 498 y(raise;)S 14091 X(--)S 269 x(Propagate)S
269 x(the)S 268 x(exception)S 6021 X 498 y(end;)S 6021 X 797 y(if)S
269 x(not)S 269 x(B)S 269 x(and)S 269 x(S)S 269 x(=)S 269 x(CMA_S_TIMED_OUT)S
6021 X 498 y(then)S 498 y(...)S 269 x(--)S 269 x(Do)S 269 x(what)S 269 x
(is)S 269 x(required)S 269 x(when)S 269 x(a)S 269 x(timeout)S 269 x
(occurs)S 7097 X 498 y(FINALIZE;)S 7097 X 499 y(return;)S 6021 X 498 y
(end)S 269 x(if;)S 6021 X 797 y(...)S 269 x(--)S 269 x(Do)S 269 x(what)S
269 x(is)S 269 x(required)S 269 x(when)S 269 x(the)S 269 x(predicate)S
269 x(is)S 268 x(true)S 6021 X 498 y(FINALIZE;)S 3899 32047 XY F147
(The)S 132 x(following)S 132 x(example)S 132 x(illu)S -2 x(strates)S
132 x(how)S 133 x(to)S 132 x(implement)S 132 x F148(cma_thread_join)S
131 x F147(using)S 132 x(CMA)S 132 x(operation)S -2 x(s.)S 3899 X 648 y
(\(W)S -30 x(e)S 169 x(assume)S 168 x(that)S 168 x(the)S 169 x(thread)S
168 x(handle)S 168 x(has)S 168 x(alread)S -2 x(y)S 170 x(been)S 168 x
(dereferenced,)S 172 x(and)S 168 x(that)S 169 x(when)S 168 x(a)S 169 x
(thread)S 3899 X 647 y(terminates,)S 167 x(it)S 163 x(sets)S 163 x(IS_TERMINA)S
-31 x(TED)S 164 x(and)S 162 x(then)S 163 x(broadcasts)S 162 x(on)S 163 x
(its)S 163 x(TERMINA)S -31 x(TED)S 164 x(condition\).)S 3899 37373 XY
F36(102)S 498 x(Examples)S
%%EndCustomColor: 0
105 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: 103 106
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
6021 3903 XY F98(type)S 269 x(THREAD_OBJECT_TYPE)S 269 x(is)S 269 x
(--)S 269 x(Define)S 269 x(the)S 269 x(fields)S 268 x(of)S 269 x(the)S
269 x(thread)S 269 x(object)S 7097 X 498 y(record)S -538 x 498 y(MUTEX)S
11939 X(:)S 269 x(CMA_T_MUTEX;)S 17050 X(--)S 269 x(Mutex)S 268 x(guarding)S
269 x(thread)S 269 x(object.)S 8173 X 498 y(IS_TERMINATED)S 269 x(:)S
269 x(BOOLEAN;)S 16512 X(--)S 269 x(Has)S 269 x(the)S 268 x(thread)S
269 x(terminated?)S 8173 X 498 y(TERMINATED)S 11939 X(:)S 269 x(CMA_T_COND;)S
269 x(--)S 269 x(Associated)S 268 x(condition)S 269 x(variable.)S 8173 X
498 y(...)S 7097 X 498 y(end)S 269 x(record;)S 6021 X 797 y(--)S 269 x
(Declare)S 269 x(a)S 269 x(thread)S 269 x(object)S 269 x(\(normally)S
269 x(it)S 269 x(would)S 269 x(be)S 268 x(dynamically)S 269 x(allocated\).)S
6021 X 499 y(THREAD_OBJECT)S 269 x(:)S 269 x(THREAD_OBJECT_TYPE;)S 6021 X
498 y(PRIOR)S 9787 X(:)S 269 x(CMA_T_ALERT_STATE;)S 6021 X 797 y(--)S
269 x(This)S 269 x(is)S 269 x(the)S 269 x(code)S 269 x(that)S 269 x
(implements)S 269 x(cma_thread_join.)S 6021 X 498 y(CMA_ALERT_DISABLE_ASYNCH\(PRIOR\);)S
269 x(--)S 269 x(Make)S 269 x(it)S 269 x(alertsafe)S 6021 X 498 y(CMA_MUTEX_LOCK\(THREAD_OBJECT.MUTEX\);)S
6021 X 498 y(begin)S -269 x 498 y(--)S 269 x(Wait)S 269 x(for)S 269 x
(thread)S 269 x(to)S 269 x(be)S 269 x(terminated)S 7097 X 498 y(while)S
269 x(not)S 269 x(THREAD_OBJECT.IS_TERMINATED)S 269 x(loop)S 8173 X
498 y(CMA_COND_WAIT)S 269 x(\(THREAD_OBJECT.TERMINATED,)S 268 x(THREAD_OBJECT.MUTEX\);)S
7097 X 499 y(end)S 269 x(loop;)S 6021 X 797 y(exception)S 7097 X 498 y
(--)S 269 x(If)S 269 x(we)S 269 x(get)S 269 x(an)S 269 x(exception,)S
269 x(release)S 269 x(the)S 269 x(lock)S 268 x(and)S 269 x(propagate)S
269 x(it.)S 7097 X 498 y(--)S 269 x(note:)S 269 x(no)S 269 x(state)S
269 x(needs)S 269 x(to)S 269 x(be)S 269 x(restored.)S 538 x(To)S 268 x
(the)S 269 x(caller,)S 7097 X 498 y(--)S 269 x(it)S 269 x(is)S 269 x
(as)S 269 x(if)S 269 x(the)S 269 x(exception)S 269 x(is)S 269 x(raised)S
269 x(prior)S 268 x(to)S 269 x(the)S 269 x(call.)S 7097 X 498 y(when)S
269 x(OTHERS)S 269 x(=>)S 269 x(CMA_MUTEX_UNLOCK\(THREAD_OBJECT.MUTEX\);)S
12477 X 498 y(CMA_ALERT_RESTORE_ASYNCH\(PRIOR\);)S 12477 X 498 y(raise;)S
6021 X 499 y(end;)S 6021 X 797 y(CMA_MUTEX_UNLOCK\(THREAD_OBJECT.MUTEX\);)S
6021 X 498 y(CMA_ALERT_RESTORE_ASYNCH\(PRIOR\);)S 3899 19843 XY F147
(The)S 229 x(following)S 228 x(example)S 228 x(illustrates)S 227 x(how)S
229 x(to)S 229 x(implement)S 228 x(a)S 228 x(friendly)S 229 x(kind)S
227 x(of)S 230 x(mutex.)S 382 x(This)S 229 x(kind)S 3899 X 647 y(allows)S
138 x(its)S 140 x(current)S 140 x(OWNER)S 138 x(to)S 140 x(multiply)S
139 x(lock)S 139 x(the)S 140 x(mutex.)S 230 x(W)S -31 x(e)S 140 x(choose)S
139 x(to)S 140 x(make)S 139 x(the)S 140 x(lock)S 140 x(operation)S 3899 X
648 y(non-alertabl)S -2 x(e,)S 183 x(as)S 182 x(with)S 183 x(CMA)S 182 x
(mutexes.)S 6021 22184 XY F98(type)S 269 x(FRIENDLY_MUTEX)S 269 x(is)S
269 x(--)S 269 x(Define)S 269 x(the)S 269 x(fields)S 269 x(of)S 268 x
(the)S 269 x(friendly)S 269 x(mutex)S 7097 X 498 y(record)S -538 x 498 y
(MUTEX)S 11670 X(:)S 269 x(CMA_T_MUTEX;)S 269 x(--)S 269 x(Mutex)S 269 x
(used)S 268 x(to)S 269 x(guard)S 269 x(these)S 15705 X 498 y(--)S 269 x
(fields.)S 8173 X 499 y(LOCK_FREE)S 11670 X(:)S 269 x(CMA_T_COND;)S
538 x(--)S 269 x(Condition)S 268 x(variable)S 269 x(to)S 269 x(wait)S
15705 X 498 y(--)S 269 x(on)S 269 x(for)S 269 x(the)S 268 x(lock)S 269 x
(to)S 269 x(be)S 269 x(free.)S 8173 X 498 y(OWNER)S 11670 X(:)S 269 x
(CMA_T_THREAD;--)S 269 x(Thread)S 269 x(owning)S 268 x(the)S 269 x(friendly)S
269 x(mutex)S 8173 X 498 y(RELOCK_COUNT)S 269 x(:)S 269 x(INTEGER;)S
15705 X(--)S 269 x(Number)S 269 x(of)S 268 x(times)S 269 x(owner)S 269 x
(locked)S 269 x(the)S 15705 X 498 y(--)S 269 x(friendly)S 268 x(mutex.)S
7097 X 498 y(end)S 269 x(record;)S 6021 X 797 y(NICE_MUTEX)S 269 x(:)S
269 x(FRIENDLY_MUTEX;)S 269 x(--)S 269 x(Declare)S 269 x(a)S 269 x(friendly)S
268 x(mutex)S 269 x(object.)S 6021 X 797 y(--)S 269 x(This)S 269 x(is)S
269 x(the)S 269 x(code)S 269 x(to)S 269 x(lock)S 269 x(a)S 269 x(friendly)S
269 x(mutex.)S 6021 X 498 y(CMA_MUTEX_LOCK\(NICE_MUTEX.MUTEX\);)S 269 x
(--)S 269 x(Gain)S 269 x(exclusive)S 268 x(access.)S 6021 X 499 y(declare)S
-807 x 498 y(ALERT_STATE)S 269 x(:)S 269 x(CMA_T_ALERT_STATE;)S 7097 X
498 y(SELF)S 10325 X(:)S 269 x(CMA_T_THREAD;)S 6021 X 498 y(begin)S
-269 x 498 y(CMA_THREAD_GET_SELF\(SELF\);)S 269 x(--)S 269 x(See)S 269 x
(Section)S 149 x(4.3.5.1.)S 23391 37373 XY F36(Examples)S 665 x(103)S
%%EndCustomColor: 0
106 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%+ NewCenturySchlbk-Roman
%%PageCustomColors: 0
%
%%Page: 104 107
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
7097 3903 XY F98(--)S 269 x(if)S 269 x(we)S 269 x(already)S 269 x(own)S
269 x(the)S 269 x(friendly)S 269 x(mutex)S 269 x(we)S 268 x(can)S 269 x
(reacquire)S 269 x(it.)S 7097 X 498 y(if)S 269 x(NICE_MUTEX.OWNER)S
269 x(=)S 269 x(SELF)S 7097 X 498 y(then)S 498 y(--)S 269 x(Reacquire)S
269 x(the)S 269 x(friendly)S 269 x(mutex.)S 8173 X 498 y(NICE_MUTEX.RELOCK_COUNT)S
269 x(:=)S 269 x(NICE_MUTEX.RELOCK_COUNT)S 268 x(+)S 269 x(1;)S 8173 X
498 y(--)S 269 x(Release)S 269 x(exclusive)S 269 x(access)S 269 x(to)S
269 x(the)S 269 x(object)S 8173 X 498 y(CMA_MUTEX_UNLOCK\(NICE_MUTEX.MUTEX\);)S
8173 X 499 y(return;)S 7097 X 498 y(end)S 269 x(if;)S 7097 X 797 y(--)S
269 x(If)S 269 x(we)S 269 x(do)S 269 x(not)S 269 x(already)S 269 x(own)S
269 x(the)S 269 x(friendly)S 269 x(mutex,)S 268 x(we)S 269 x(block)S
269 x(until)S 7097 X 498 y(--)S 269 x(it)S 269 x(is)S 269 x(unowned.)S
7097 X 498 y(CMA_ALERT_DEFER_ALL\(ALERT_STATE\);)S 269 x(--)S 269 x
(Make)S 269 x(the)S 268 x(wait)S 269 x(non-alertable)S 7097 X 498 y
(while)S 269 x(NICE_MUTEX.OWNER)S 269 x(/=)S 269 x(CMA_C_NULL)S 269 x
(loop)S 7097 X 498 y(CMA_COND_WAIT)S 269 x(\(NICE_MUTEX.LOCK_FREE,)S
269 x(NICE_MUTEX.MUTEX\);)S 7097 X 498 y(end)S 269 x(loop;)S 7097 X
498 y(CMA_ALERT_RESTORE_ALL\(ALERT_STATE\);)S 7097 X 797 y(NICE_MUTEX.OWNER)S
269 x(:=)S 269 x(SELF;)S 6021 X 499 y(end;)S 6021 X 498 y(CMA_MUTEX_UNLOCK\(NICE_MUTEX.MUTEX\);)S
6021 14563 XY(--)S 269 x(This)S 269 x(is)S 269 x(the)S 269 x(code)S
269 x(to)S 269 x(unlock)S 269 x(a)S 269 x(friendly)S 269 x(mutex.)S
537 x(if)S 269 x(N)S 269 x(lock)S 6021 X 498 y(--)S 269 x(operations)S
269 x(were)S 269 x(executed,)S 269 x(the)S 269 x(lock)S 269 x(becomes)S
269 x(free)S 268 x(after)S 269 x(the)S 6021 X 498 y(--)S 269 x(same)S
269 x(number)S 269 x(of)S 269 x(unlock)S 269 x(operations.)S 6021 X
498 y(CMA_MUTEX_LOCK\(NICE_MUTEX.MUTEX\);)S 6021 X 498 y(declare)S -807 x
498 y(SELF)S 269 x(:)S 269 x(CMA_T_THREAD;)S 6021 X 498 y(begin)S -269 x
499 y(CMA_THREAD_GET_SELF\(SELF\);)S 7097 X 797 y(--)S 269 x(No)S 269 x
(one)S 269 x(else)S 269 x(had)S 269 x(better)S 269 x(be)S 269 x(owning)S
269 x(the)S 269 x(friendly)S 268 x(mutex.)S 7097 X 498 y(if)S 269 x
(NICE_MUTEX.OWNER)S 269 x(=)S 269 x(CMA_C_NULL)S 7097 X 498 y(then)S
498 y(CMA_MUTEX_UNLOCK\(NICE_MUTEX.MUTEX\);)S 8173 X 498 y(raise)S 269 x
(CMA_E_USE;)S 7097 X 797 y(--)S 269 x(We)S 269 x(must)S 269 x(be)S 269 x
(its)S 269 x(current)S 269 x(OWNER)S 7097 X 498 y(elsif)S 269 x(NICE_MUTEX.OWNER)S
269 x(/=)S 269 x(SELF)S 7097 X 498 y(then)S 499 y(CMA_MUTEX_UNLOCK\(NICE_MUTEX.MUTEX\);)S
8173 X 498 y(raise)S 269 x(CMA_E_IN_USE;)S 7097 X 498 y(end)S 269 x
(if;)S 7097 X 797 y(--)S 269 x(Release)S 269 x(it,)S 269 x(and)S 269 x
(if)S 269 x(we)S 269 x(no)S 269 x(longer)S 269 x(own)S 269 x(it,)S 268 x
(inform)S 269 x(another)S 269 x(thread)S 7097 X 498 y(NICE_MUTEX.RELOCK_COUNT)S
269 x(:=)S 269 x(NICE_MUTEX.RELOCK_COUNT)S 268 x(-)S 269 x(1;)S 7097 X
498 y(if)S 269 x(NICE_MUTEX.RELOCK_COUNT)S 269 x(=)S 269 x(0)S 7097 X
498 y(then)S 498 y(NICE_MUTEX.OWNER)S 269 x(:=)S 269 x(CMA_C_NULL;)S
8173 X 498 y(CMA_COND_SIGNAL)S 269 x(\(NICE_MUTEX.LOCK_FREE\);)S 7097 X
499 y(end)S 269 x(if;)S 6021 X 797 y(END;)S 6021 X 498 y(CMA_MUTEX_UNLOCK\(NICE_MUTEX.MUTEX\);)S
3899 30204 XY F147(Other)S 166 x(examples)S 165 x(are)S 165 x(possibl)S
-2 x(e,)S 170 x(such)S 165 x(as)S 165 x(a)S 166 x(kind)S 164 x(of)S
166 x(friendly)S 166 x(mutex)S 166 x(that)S 165 x(reliably)S 165 x(reports)S
165 x(an)S 166 x(error)S 3899 X 648 y(when)S 188 x(a)S 188 x(thread)S
188 x(attempts)S 188 x(to)S 189 x(relock)S 188 x(the)S 189 x(mutex,)S
190 x(and)S 187 x(readers/writers)S 189 x(locks,)S 190 x(but)S 188 x
(we)S 189 x(leave)S 187 x(them)S 3899 X 647 y(to)S 183 x(the)S 182 x
(reader)S -41 x(.)S 3899 37373 XY F36(104)S 498 x(Examples)S
%%EndCustomColor: 0
107 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%+ NewCenturySchlbk-Roman
%%PageCustomColors: 0
%
%%Page: 105 108
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 13191 6495 XY F24(APPENDIX)S 697 x(E)S 6968 7989 XY(QUIC)S -2 x
(K)S 263 x(REFERENC)S -2 x(E)S 263 x(GUIDE)S 262 x(T)S -12 x(O)S 262 x
(CMA)S 262 x(OPERA)S -53 x(TIONS)S 3899 10031 XY F28(E.1)S 598 x(Ada)S
199 x(Quick)S 201 x(Reference)S 200 x(Guide)S 3899 11028 XY F147(This)S
182 x(section)S 182 x(provides)S 182 x(a)S 182 x(compilab)S -2 x(le)S
183 x(quick)S 182 x(reference)S 183 x(guide)S 182 x(written)S 183 x
(in)S 182 x(Ada.)S 5214 X 747 y F98(pragma)S 269 x(TITLE)S 269 x(\("CMA.ADA)S
269 x(package)S 269 x(specification"\);)S 4945 X 797 y
(--***************************************************************************)S
4945 X 498 y(--*)S 25388 X(*)S 4945 X 498 y(--*)S 538 x(COPYRIGHT)S
269 x(\(c\))S 269 x(1988,)S 269 x(1989)S 25388 X(*)S 4945 X 498 y(--*)S
538 x(BY)S 269 x(DIGITAL)S 269 x(EQUIPMENT)S 269 x(CORPORATION,)S 269 x
(MAYNARD,)S 269 x(MASSACHUSETTS.)S 25388 X(*)S 4945 X 498 y(--*)S 538 x
(ALL)S 269 x(RIGHTS)S 269 x(RESERVED.)S 25388 X(*)S 4945 X 498 y(--*)S
25388 X(*)S 4945 X 499 y(--*)S 538 x(THIS)S 269 x(SOFTWARE)S 269 x(IS)S
269 x(FURNISHED)S 269 x(UNDER)S 269 x(A)S 269 x(LICENSE)S 269 x(AND)S
268 x(MAY)S 269 x(BE)S 269 x(USED)S 269 x(AND)S 269 x(COPIED)S 538 x
(*)S 4945 X 498 y(--*)S 538 x(ONLY)S 269 x(IN)S 538 x(ACCORDANCE)S 269 x
(WITH)S 538 x(THE)S 538 x(TERMS)S 538 x(OF)S 538 x(SUCH)S 537 x(LICENSE)S
538 x(AND)S 269 x(WITH)S 269 x(THE)S 538 x(*)S 4945 X 498 y(--*)S 538 x
(INCLUSION)S 269 x(OF)S 269 x(THE)S 269 x(ABOVE)S 269 x(COPYRIGHT)S
269 x(NOTICE.)S 269 x(THIS)S 268 x(SOFTWARE)S 269 x(OR)S 538 x(ANY)S
538 x(OTHER)S 538 x(*)S 4945 X 498 y(--*)S 538 x(COPIES)S 269 x(THEREOF)S
269 x(MAY)S 269 x(NOT)S 269 x(BE)S 269 x(PROVIDED)S 269 x(OR)S 269 x
(OTHERWISE)S 268 x(MADE)S 269 x(AVAILABLE)S 269 x(TO)S 269 x(ANY)S 538 x
(*)S 4945 X 498 y(--*)S 538 x(OTHER)S 269 x(PERSON.)S 538 x(NO)S 269 x
(TITLE)S 269 x(TO)S 269 x(AND)S 269 x(OWNERSHIP)S 269 x(OF)S 538 x(THE)S
537 x(SOFTWARE)S 269 x(IS)S 538 x(HEREBY)S 538 x(*)S 4945 X 498 y(--*)S
538 x(TRANSFERRED.)S 25388 X(*)S 4945 X 498 y(--*)S 25388 X(*)S 4945 X
498 y(--*)S 538 x(THE)S 269 x(INFORMATION)S 269 x(IN)S 269 x(THIS)S
269 x(SOFTWARE)S 269 x(IS)S 538 x(SUBJECT)S 269 x(TO)S 268 x(CHANGE)S
269 x(WITHOUT)S 269 x(NOTICE)S 538 x(*)S 4945 X 499 y(--*)S 538 x(AND)S
538 x(SHOULD)S 538 x(NOT)S 538 x(BE)S 538 x(CONSTRUED)S 269 x(AS)S 538 x
(A)S 269 x(COMMITMENT)S 268 x(BY)S 269 x(DIGITAL)S 269 x(EQUIPMENT)S
538 x(*)S 4945 X 498 y(--*)S 538 x(CORPORATION.)S 25388 X(*)S 4945 X
498 y(--*)S 25388 X(*)S 4945 X 498 y(--*)S 538 x(DIGITAL)S 269 x(ASSUMES)S
269 x(NO)S 269 x(RESPONSIBILITY)S 269 x(FOR)S 269 x(THE)S 269 x(USE)S
537 x(OR)S 538 x(RELIABILITY)S 269 x(OF)S 269 x(ITS)S 538 x(*)S 4945 X
498 y(--*)S 538 x(SOFTWARE)S 269 x(ON)S 269 x(EQUIPMENT)S 269 x(WHICH)S
269 x(IS)S 269 x(NOT)S 269 x(SUPPLIED)S 269 x(BY)S 268 x(DIGITAL.)S
25388 X(*)S 4945 X 498 y(--*)S 25388 X(*)S 4945 X 498 y(--*)S 25388 X
(*)S 4945 X 499 y
(--***************************************************************************)S
4945 X 498 y(--)S -538 x 498 y(--)S -538 x 498 y(--)S 269 x(FACILITY:)S
4945 X 498 y(--)S -538 x 498 y(--)S 7097 X(Common)S 269 x(Multithread)S
269 x(Architecture)S 269 x(Services)S 4945 X 498 y(--)S -538 x 498 y
(--)S 269 x(ABSTRACT:)S 4945 X 499 y(--)S -538 x 498 y(--)S 7635 X(This)S
269 x(package)S 269 x(defines)S 269 x(the)S 269 x(interfaces)S 269 x
(for)S 269 x(the)S 4945 X 498 y(--)S 7635 X(Common)S 269 x(Multithread)S
269 x(Architecture)S 269 x(Services.)S 4945 X 498 y(--)S -538 x 498 y
(--)S 7635 X(This)S 269 x(package)S 269 x(is)S 269 x(used)S 269 x(as)S
269 x(a)S 269 x(metalanguage)S 269 x(to)S 268 x(illustrate)S 4945 X
498 y(--)S 7635 X(the)S 269 x(CMA)S 269 x(architecture.)S 538 x(While)S
269 x(it)S 269 x(is)S 269 x(a)S 269 x(*feasible*)S 268 x(binding)S 4945 X
498 y(--)S 7635 X(to)S 269 x(CMA)S 269 x(services,)S 269 x(it)S 269 x
(is)S 269 x(not)S 269 x(considered)S 269 x(*ideal*.)S 537 x(An)S 269 x
(ideal)S 4945 X 499 y(--)S 7635 X(Ada)S 269 x(binding)S 269 x(is)S 269 x
(to)S 269 x(be)S 269 x(defined.)S 538 x(It)S 269 x(will)S 269 x(use)S
268 x(strong)S 4945 X 498 y(--)S 7635 X(typing)S 269 x(extensively,)S
269 x(and)S 269 x(rely)S 269 x(more)S 269 x(on)S 269 x(the)S 537 x(power)S
269 x(of)S 269 x(the)S 4945 X 498 y(--)S 7635 X(language)S 269 x(to)S
269 x(provide)S 269 x(a)S 269 x(more)S 269 x(convenient)S 269 x(interface.)S
4945 X 498 y(--)S -538 x 498 y(--)S -538 x 498 y(--)S 269 x(AUTHOR:)S
269 x(Robert)S 269 x(A.)S 269 x(Conti,)S 269 x(CREATION)S 269 x(DATE:)S
269 x(1-Nov-1988)S 4945 X 498 y(--)S -538 x 498 y(--)S 269 x(REVISION)S
269 x(HISTORY)S 269 x(\(date,)S 269 x(person,)S 269 x(comment\):)S 4945 X
499 y(--)S 7635 X(2-Nov-1988,)S 269 x(Phil)S 269 x(Oxenberg,)S 269 x
(Add)S 269 x(explanatory)S 268 x(comments)S 4945 X 498 y(--)S 7635 X
(9-Feb-1989,)S 269 x(Phil)S 269 x(Oxenberg,)S 269 x(Delete)S 269 x(obsolete)S
268 x(routines,)S 269 x(add)S 269 x(new)S 269 x(ones)S 4945 X 498 y
(--)S 7635 X(3-Mar-1989,)S 269 x(Bob)S 269 x(Conti,)S 269 x(Modify)S
269 x(to)S 269 x(conform)S 268 x(to)S 269 x(CMA)S 269 x(spec)S 269 x
(version)S 269 x(1.0-1)S 15614 37373 XY F36(Quick)S 166 x(Reference)S
165 x(Guide)S 167 x(to)S 167 x(CMA)S 165 x(Operations)S 499 x(105)S
%%EndCustomColor: 0
108 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 106 109
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4945 3903 XY F98(--)S 10863 X(Eliminated)S 269 x(CMA_ROUTINE,)S 269 x
(added)S 268 x(operations)S 269 x(for)S 4945 X 498 y(--)S 10863 X(the)S
269 x(inherit)S 269 x(priority)S 269 x(attribute,)S 268 x(moved)S 269 x
(attribute)S 4945 X 498 y(--)S 10863 X(argument)S 269 x(of)S 269 x(fork)S
269 x(to)S 269 x(be)S 269 x(the)S 269 x(last)S 268 x(argument)S 269 x
(\(so)S 269 x(it)S 4945 X 498 y(--)S 10863 X(can)S 269 x(be)S 269 x
(defaulted)S 269 x(in)S 269 x(some)S 269 x(languages\),)S 4945 X 498 y
(--)S -538 x 498 y(----)S 4945 X 797 y(with)S 269 x(CALENDAR;)S 269 x
(--)S 269 x(These)S 269 x(are)S 269 x(simply)S 269 x(to)S 4945 X 498 y
(with)S 269 x(SYSTEM;)S 807 x(--)S 13015 X(obtain)S 269 x(the)S 269 x
(definitions)S 268 x(for)S 4945 X 499 y(with)S 269 x(STARLET;)S 538 x
(--)S 15436 X(the)S 269 x(environment)S 268 x(types.)S 4945 X 498 y
(package)S 269 x(CMA)S 269 x(is)S 4945 X 797 y
(-------------------------------------------------------------)S
4945 X 498 y(--)S 269 x(The)S 269 x(implementation)S 269 x(must)S 269 x
(make)S 269 x(these)S 269 x(basic)S 269 x(decisions)S 20815 X(--)S 4945 X
498 y
(-------------------------------------------------------------)S
4945 X 797 y(----)S 269 x(Sample)S 269 x(decisions)S 269 x(for)S 269 x
(the)S 269 x(environment)S 269 x(types)S 4945 X 797 y(subtype)S 269 x
(CMA_T_INTEGER)S 269 x(is)S 269 x(integer;)S 4945 X 797 y(subtype)S
269 x(CMA_T_BOOLEAN)S 269 x(is)S 269 x(boolean;)S 4945 X 797 y(subtype)S
269 x(CMA_T_ADDRESS)S 269 x(is)S 269 x(SYSTEM.ADDRESS;)S 4945 X 797 y
(subtype)S 269 x(CMA_T_NATURAL)S 269 x(is)S 269 x(natural;)S 4945 X
797 y(subtype)S 269 x(CMA_T_INTERVAL)S 269 x(is)S 269 x(float;)S 4945 X
797 y(subtype)S 269 x(CMA_T_DATE_TIME)S 269 x(is)S 269 x(STARLET.DATE_TIME_TYPE;)S
4945 X 797 y(-------)S 269 x(The)S 269 x(following)S 269 x(definition)S
269 x(is)S 269 x(private,)S 269 x(but)S 269 x(is)S 537 x(-------)S 4945 X
498 y(-------)S 269 x(inconvenient)S 269 x(to)S 269 x(place)S 269 x
(in)S 269 x(the)S 269 x(private)S 269 x(part.)S 20008 X(-------)S 4945 X
797 y(CMA_PRIVATE_HANDLE_SIZE)S 269 x(:)S 269 x(constant)S 269 x(:=)S
269 x(8;)S 4945 X 797 y
(-------------------------------------------------------------)S
4945 X 498 y(--)S 269 x(The)S 269 x(following)S 269 x(are)S 269 x(the)S
269 x(portable)S 269 x(CMA)S 269 x(definitions)S 20815 X(--)S 4945 X
498 y
(-------------------------------------------------------------)S
4945 X 797 y(-------------)S 269 x(Operations)S 269 x(on)S 269 x(Handles)S
269 x(------------)S 4945 X 797 y(type)S 269 x(CMA_T_HANDLE)S 269 x
(is)S 269 x(private;)S 4945 X 797 y(CMA_C_NULL)S 269 x(:)S 269 x(constant)S
269 x(CMA_T_HANDLE;)S 4945 X 798 y(CMA_C_HANDLE_SIZE)S 269 x(:)S 269 x
(constant)S 269 x(:=)S 269 x(CMA_PRIVATE_HANDLE_SIZE;)S 4945 X 797 y
(--)S 269 x(The)S 269 x(value)S 269 x(of)S 269 x(a)S 269 x(handle)S
269 x(can)S 269 x(be)S 269 x(assigned)S 269 x(the)S 269 x(value)S 268 x
(of)S 269 x(another)S 269 x(handle.)S 4945 X 498 y(procedure)S 269 x
(CMA_HANDLE_ASSIGN)S 269 x(\()S 8173 X 498 y(HANDLE1)S 269 x(:)S 269 x
(in)S 269 x(CMA_T_HANDLE;)S 8173 X 498 y(HANDLE2)S 269 x(:)S 269 x(out)S
269 x(CMA_T_HANDLE\);)S 4945 X 797 y(--)S 269 x(The)S 269 x(value)S
269 x(of)S 269 x(a)S 269 x(handle)S 269 x(can)S 269 x(be)S 269 x(compared)S
269 x(to)S 269 x(the)S 269 x(value)S 268 x(of)S 269 x(another)S 269 x
(handle.)S 4945 X 498 y(function)S 269 x(CMA_HANDLE_EQUAL)S 269 x(\()S
8173 X 498 y(HANDLE1)S 269 x(:)S 269 x(in)S 269 x(CMA_T_HANDLE;)S 8173 X
498 y(HANDLE2)S 269 x(:)S 269 x(in)S 269 x(CMA_T_HANDLE\))S 269 x(return)S
269 x(CMA_T_BOOLEAN;)S 4945 X 797 y(-------------)S 269 x(Operations)S
269 x(on)S 269 x(Attributes)S 269 x(Objects)S 269 x(------------)S 4945 X
797 y(subtype)S 269 x(CMA_T_ATTR)S 269 x(is)S 269 x(CMA_T_HANDLE;)S
4945 X 797 y(--)S 269 x(An)S 269 x(attributes)S 269 x(object)S 269 x
(is)S 269 x(created)S 269 x(to)S 269 x(specify)S 269 x(the)S 269 x(attributes)S
268 x(of)S 269 x(other)S 4945 X 498 y(--)S 269 x(CMA)S 269 x(objects)S
269 x(that)S 269 x(will)S 269 x(be)S 269 x(created.)S 4945 X 499 y(procedure)S
269 x(CMA_ATTR_CREATE)S 269 x(\()S 8173 X 498 y(NEW_ATT)S 269 x(:)S
269 x(out)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(ATT)S 10325 X(:)S 269 x
(in)S 538 x(CMA_T_ATTR\);)S 4945 X 797 y(--)S 269 x(An)S 269 x(attributes)S
269 x(object)S 269 x(can)S 269 x(be)S 269 x(deleted)S 269 x(when)S 269 x
(it)S 269 x(is)S 269 x(no)S 268 x(longer)S 269 x(needed.)S 4945 X 498 y
(procedure)S 269 x(CMA_ATTR_DELETE)S 269 x(\()S 8173 X 498 y(ATT)S 269 x
(:)S 269 x(in)S 269 x(out)S 269 x(CMA_T_ATTR\);)S 4945 X 797 y(-------------)S
269 x(Operations)S 269 x(on)S 269 x(Threads)S 269 x(------------)S 4945 X
797 y(subtype)S 269 x(CMA_T_THREAD)S 269 x(is)S 269 x(CMA_T_HANDLE;)S
3899 37373 XY F36(106)S 498 x(Quick)S 166 x(Reference)S 166 x(Guide)S
167 x(to)S 166 x(CMA)S 165 x(Operations)S
%%EndCustomColor: 0
109 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 107 110
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3903 XY F98(subtype)S 269 x(CMA_T_START_ROUTINE)S 269 x(is)S 269 x
(CMA_T_ADDRESS;)S 4945 X 797 y(--)S 269 x(A)S 269 x(type)S 269 x(and)S
269 x(constants)S 269 x(for)S 269 x(exit)S 269 x(status)S 4945 X 498 y
(type)S 269 x(CMA_T_EXIT_STATUS)S 269 x(is)S 269 x(private;)S 4945 X
498 y(CMA_C_TERM_NORMAL)S 269 x(:)S 269 x(constant)S 269 x(CMA_T_EXIT_STATUS;)S
4945 X 498 y(CMA_C_TERM_ERROR)S 538 x(:)S 269 x(constant)S 269 x(CMA_T_EXIT_STATUS;)S
4945 X 498 y(CMA_C_TERM_ALERT)S 538 x(:)S 269 x(constant)S 269 x(CMA_T_EXIT_STATUS;)S
4945 X 797 y(--)S 269 x(The)S 269 x(following)S 269 x(procedures)S 269 x
(can)S 269 x(be)S 269 x(used)S 269 x(to)S 269 x(control)S 268 x(thread)S
269 x(creation,)S 4945 X 498 y(--)S 269 x(termination)S 269 x(and)S
269 x(deletion.)S 4945 X 797 y(--)S 269 x(To)S 269 x(create)S 269 x
(a)S 269 x(thread)S 269 x(object)S 269 x(and)S 269 x(runnable)S 269 x
(thread,)S 269 x(a)S 268 x(routine)S 269 x(must)S 269 x(be)S 269 x(specified)S
4945 X 498 y(--)S 269 x(as)S 269 x(the)S 269 x(new)S 269 x(thread's)S
269 x(start)S 269 x(routine.)S 538 x(An)S 269 x(argument)S 268 x(may)S
269 x(be)S 269 x(passed)S 269 x(to)S 269 x(this)S 4945 X 499 y(--)S
269 x(routine.)S 538 x(An)S 269 x(attributes)S 269 x(object)S 269 x
(may)S 269 x(be)S 269 x(used)S 269 x(to)S 269 x(specify)S 268 x(details)S
4945 X 498 y(--)S 269 x(about)S 269 x(the)S 269 x(kind)S 269 x(of)S
269 x(thread)S 269 x(being)S 269 x(created.)S 4945 X 498 y(procedure)S
269 x(CMA_THREAD_CREATE)S 269 x(\()S 8173 X 498 y(NEW_THREAD)S 11939 X
(:)S 269 x(out)S 269 x(CMA_T_THREAD;)S 8173 X 498 y(START_ROUTINE)S
269 x(:)S 269 x(in)S 269 x(CMA_T_START_ROUTINE;)S 8173 X 498 y(ARG)S
11939 X(:)S 269 x(in)S 269 x(CMA_T_ADDRESS;)S 8173 X 498 y(ATT)S 11939 X
(:)S 269 x(in)S 269 x(CMA_T_ATTR\);)S 4945 X 797 y(function)S 269 x
(SAMPLE_START_ROUTINE)S 269 x(\()S 8173 X 499 y(ARG)S 10056 X(:)S 269 x
(in)S 269 x(CMA_T_ADDRESS\))S 269 x(return)S 269 x(CMA_T_ADDRESS;)S
4945 X 797 y(--)S 269 x(A)S 269 x(thread)S 269 x(object)S 269 x(may)S
269 x(be)S 269 x(deleted.)S 4945 X 498 y(procedure)S 269 x(CMA_THREAD_DETACH)S
269 x(\()S 8173 X 498 y(THREAD)S 269 x(:)S 269 x(in)S 269 x(out)S 269 x
(CMA_T_THREAD\);)S 4945 X 797 y(--)S 269 x(A)S 269 x(thread)S 269 x
(may)S 269 x(terminate)S 269 x(it's)S 269 x(own)S 269 x(execution.)S
4945 X 498 y(procedure)S 269 x(CMA_THREAD_EXIT_NORMAL;)S 4945 X 797 y
(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(await)S 269 x(termination)S
269 x(of)S 269 x(another)S 269 x(thread.)S 4945 X 498 y(procedure)S
269 x(CMA_THREAD_JOIN)S 269 x(\()S 8173 X 498 y(THREAD)S 11401 X(:)S
269 x(in)S 269 x(CMA_T_THREAD;)S 8173 X 498 y(EXIT_STATUS)S 269 x(:)S
269 x(out)S 269 x(CMA_T_EXIT_STATUS;)S 8173 X 498 y(RESULT)S 11401 X
(:)S 269 x(out)S 269 x(CMA_T_ADDRESS\);)S 4945 X 797 y(-------------)S
269 x(Operations)S 269 x(to)S 269 x(Define)S 269 x(Thread)S 269 x(Creation)S
268 x(Attributes)S 269 x(-----------)S 4945 X 797 y(type)S 269 x(CMA_T_PRIORITY)S
269 x(is)S 269 x(private;)S 4945 X 499 y(CMA_C_PRIORITY_FOREGROUND)S
269 x(:)S 269 x(constant)S 269 x(CMA_T_PRIORITY;)S 4945 X 498 y(CMA_C_PRIORITY_NORMAL)S
11939 X(:)S 269 x(constant)S 269 x(CMA_T_PRIORITY;)S 4945 X 498 y(CMA_C_PRIORITY_BACKGROUND)S
269 x(:)S 269 x(constant)S 269 x(CMA_T_PRIORITY;)S 4945 X 498 y(CMA_C_PRIORITY_IDLE)S
11939 X(:)S 269 x(constant)S 269 x(CMA_T_PRIORITY;)S 4945 X 797 y(--)S
269 x(Whether)S 269 x(the)S 269 x(new)S 269 x(thread's)S 269 x(priority)S
269 x(is)S 269 x(inherited)S 269 x(or)S 268 x(taken)S 269 x(from)S 269 x
(the)S 269 x(attributes)S 4945 X 498 y(--)S 269 x(object)S 269 x(may)S
269 x(be)S 269 x(modified.)S 4945 X 498 y(procedure)S 269 x(CMA_ATTR_SET_INHERIT_SCHED)S
269 x(\()S 8173 X 498 y(ATT)S 10325 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S
8173 X 499 y(SETTING)S 269 x(:)S 269 x(in)S 269 x(CMA_T_BOOLEAN\);)S
4945 X 797 y(--)S 269 x(Whether)S 269 x(the)S 269 x(new)S 269 x(thread's)S
269 x(priority)S 269 x(is)S 269 x(inherited)S 269 x(or)S 268 x(taken)S
269 x(from)S 269 x(the)S 269 x(attributes)S 4945 X 498 y(--)S 269 x
(object)S 269 x(may)S 269 x(be)S 269 x(obtained..)S 4945 X 498 y(procedure)S
269 x(CMA_ATTR_GET_INHERID_SCHED)S 269 x(\()S 8173 X 498 y(ATT)S 10325 X
(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(SETTING)S 269 x(:)S
269 x(out)S 269 x(CMA_T_BOOLEAN\);)S 4945 X 797 y(--)S 269 x(The)S 269 x
(priority)S 269 x(attribute)S 269 x(of)S 269 x(the)S 269 x(thread)S
269 x(creation)S 269 x(attributes)S 4945 X 498 y(--)S 269 x(may)S 269 x
(be)S 269 x(modified.)S 4945 X 498 y(procedure)S 269 x(CMA_ATTR_SET_PRIORITY)S
269 x(\()S 8173 X 499 y(ATT)S 10594 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S
8173 X 498 y(PRI)S 10594 X(:)S 269 x(in)S 269 x(CMA_T_PRIORITY\);)S
4945 X 797 y(--)S 269 x(The)S 269 x(priority)S 269 x(attribute)S 269 x
(of)S 269 x(the)S 269 x(thread)S 269 x(creation)S 269 x(attributes)S
4945 X 498 y(--)S 269 x(may)S 269 x(be)S 269 x(obtained.)S 4945 X 498 y
(procedure)S 269 x(CMA_ATTR_GET_PRIORITY)S 269 x(\()S 8173 X 498 y(ATT)S
10594 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(PRI)S 10594 X
(:)S 269 x(out)S 269 x(CMA_T_PRIORITY\);)S -898 x 37373 Y F36(Quick)S
166 x(Reference)S 165 x(Guide)S 167 x(to)S 167 x(CMA)S 165 x(Operations)S
499 x(107)S
%%EndCustomColor: 0
110 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 108 111
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4945 3903 XY F98(--)S 269 x(The)S 269 x(stacksize)S 269 x(attribute)S
269 x(of)S 269 x(the)S 269 x(thread)S 269 x(creation)S 269 x(attributes)S
4945 X 498 y(--)S 269 x(may)S 269 x(be)S 269 x(modified.)S 4945 X 498 y
(procedure)S 269 x(CMA_ATTR_SET_STACKSIZE)S 269 x(\()S 8173 X 498 y
(ATT)S 10863 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(STACKSIZE)S
269 x(:)S 269 x(in)S 269 x(CMA_T_NATURAL\);)S 4945 X 797 y(--)S 269 x
(The)S 269 x(stacksize)S 269 x(attribute)S 269 x(of)S 269 x(the)S 269 x
(thread)S 269 x(creation)S 269 x(attributes)S 4945 X 498 y(--)S 269 x
(may)S 269 x(be)S 269 x(obtained.)S 4945 X 498 y(procedure)S 269 x(CMA_ATTR_GET_STACKSIZE)S
269 x(\()S 8173 X 499 y(ATT)S 10594 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S
8173 X 498 y(STACKSIZE:)S 269 x(out)S 269 x(CMA_T_NATURAL\);)S 4945 X
797 y(--)S 269 x(The)S 269 x(guardsize)S 269 x(attribute)S 269 x(of)S
269 x(the)S 269 x(thread)S 269 x(creation)S 269 x(attributes)S 4945 X
498 y(--)S 269 x(may)S 269 x(be)S 269 x(modified.)S 4945 X 498 y(procedure)S
269 x(CMA_ATTR_SET_GUARDSIZE)S 269 x(\()S 8173 X 498 y(ATT)S 10863 X
(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X 498 y(GUARDSIZE)S 269 x(:)S
269 x(in)S 269 x(CMA_T_NATURAL\);)S 4945 X 797 y(--)S 269 x(The)S 269 x
(guardsize)S 269 x(attribute)S 269 x(of)S 269 x(the)S 269 x(thread)S
269 x(creation)S 269 x(attributes)S 4945 X 498 y(--)S 269 x(may)S 269 x
(be)S 269 x(obtained.)S 4945 X 498 y(procedure)S 269 x(CMA_ATTR_GET_GUARDSIZE)S
269 x(\()S 8173 X 499 y(ATT)S 10594 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S
8173 X 498 y(GUARDSIZE:)S 269 x(out)S 269 x(CMA_T_NATURAL\);)S 4945 X
797 y(--)S 269 x(The)S 269 x(initial)S 269 x(alert)S 269 x(test)S 269 x
(attribute)S 269 x(of)S 269 x(the)S 269 x(thread)S 269 x(creation)S
268 x(attributes)S 4945 X 498 y(--)S 269 x(may)S 269 x(be)S 269 x(modified.)S
4945 X 498 y(procedure)S 269 x(CMA_SET_INITIAL_TEST_ATT)S 269 x(\()S
8173 X 498 y(ATT)S 10325 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X
498 y(SETTING)S 269 x(:)S 269 x(in)S 269 x(CMA_T_BOOLEAN\);)S 4945 X
797 y(--)S 269 x(The)S 269 x(initial)S 269 x(alert)S 269 x(test)S 269 x
(attribute)S 269 x(of)S 269 x(the)S 269 x(thread)S 269 x(creation)S
268 x(attributes)S 4945 X 498 y(--)S 269 x(may)S 269 x(be)S 269 x(obtained.)S
4945 X 499 y(procedure)S 269 x(CMA_GET_INITIAL_TEST_ATT)S 269 x(\()S
8173 X 498 y(ATT)S 10325 X(:)S 269 x(in)S 269 x(CMA_T_ATTR;)S 8173 X
498 y(SETTING)S 269 x(:)S 269 x(out)S 269 x(CMA_T_BOOLEAN\);)S 4945 X
797 y(-----------)S 269 x(Thread)S 269 x(Scheduling)S 269 x(Operations)S
269 x(--------------------)S 4945 X 797 y(--)S 269 x(The)S 269 x(current)S
269 x(priority)S 269 x(of)S 269 x(a)S 269 x(thread)S 269 x(may)S 269 x
(be)S 269 x(modified.)S 4945 X 498 y(procedure)S 269 x(CMA_THREAD_SET_PRIORITY)S
269 x(\()S 8173 X 498 y(THREAD)S 807 x(:)S 269 x(in)S 269 x(CMA_T_THREAD;)S
8173 X 498 y(PRIORITY)S 269 x(:)S 269 x(in)S 269 x(CMA_T_PRIORITY\);)S
4945 X 797 y(--)S 269 x(A)S 269 x(thread)S 269 x(may)S 269 x(indicate)S
269 x(a)S 269 x(willingness)S 269 x(to)S 269 x(release)S 269 x(its)S
268 x(processor.)S 4945 X 498 y(procedure)S 269 x(CMA_YIELD;)S 4945 X
797 y(--)S 269 x(A)S 269 x(thread)S 269 x(may)S 269 x(enter)S 269 x
(a)S 269 x(wait)S 269 x(state)S 269 x(for)S 269 x(a)S 269 x(speciifed)S
268 x(period)S 269 x(of)S 269 x(time.)S 4945 X 499 y(procedure)S 269 x
(CMA_DELAY)S 269 x(\()S 8173 X 498 y(TIME_INTERVAL)S 269 x(:)S 269 x
(in)S 269 x(CMA_T_INTERVAL\);)S 4945 X 797 y(-----------)S 269 x(Thread)S
269 x(Information)S 269 x(Operations)S 269 x(--------------------)S
4945 X 797 y(--)S 269 x(A)S 269 x(thread)S 269 x(may)S 269 x(obtain)S
269 x(a)S 269 x(copy)S 269 x(of)S 269 x(its)S 269 x(own)S 269 x(thread)S
269 x(handle.)S 4945 X 498 y(procedure)S 269 x(CMA_THREAD_GET_SELF)S
269 x(\()S 8173 X 498 y(THREAD)S 269 x(:)S 269 x(out)S 269 x(CMA_T_THREAD\);)S
4945 X 797 y(--)S 269 x(The)S 269 x(current)S 269 x(priority)S 269 x
(of)S 269 x(a)S 269 x(thread)S 269 x(may)S 269 x(be)S 269 x(obtained.)S
4945 X 498 y(procedure)S 269 x(CMA_THREAD_GET_PRIORITY)S 269 x(\()S
8173 X 498 y(THREAD)S 807 x(:)S 269 x(in)S 269 x(CMA_T_THREAD;)S 8173 X
498 y(PRIORITY)S 269 x(:)S 269 x(out)S 269 x(CMA_T_PRIORITY\);)S 4945 X
797 y(-------------)S 269 x(Operations)S 269 x(on)S 269 x(Mutexes)S
269 x(-----------)S 4945 X 797 y(subtype)S 269 x(CMA_T_MUTEX)S 269 x
(is)S 269 x(CMA_T_HANDLE;)S 4945 X 797 y(--)S 269 x(The)S 269 x(following)S
269 x(routines)S 269 x(create,)S 269 x(delete,)S 269 x(lock)S 269 x
(and)S 268 x(unlock)S 269 x(mutexes:)S 4945 X 499 y(procedure)S 269 x
(CMA_MUTEX_CREATE)S 269 x(\()S 8173 X 498 y(NEW_MUTEX)S 269 x(:)S 269 x
(out)S 269 x(CMA_T_MUTEX;)S 8173 X 498 y(ATT)S 10863 X(:)S 269 x(in)S
269 x(CMA_T_ATTR\);)S 3899 37373 XY F36(108)S 498 x(Quick)S 166 x(Reference)S
166 x(Guide)S 167 x(to)S 166 x(CMA)S 165 x(Operations)S
%%EndCustomColor: 0
111 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 109 112
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3873 XY F98(procedure)S 269 x(CMA_MUTEX_DELETE)S 269 x(\()S 8173 X
498 y(MUTEX)S 269 x(:)S 269 x(in)S 269 x(out)S 269 x(CMA_T_MUTEX\);)S
4945 X 797 y(procedure)S 269 x(CMA_MUTEX_LOCK)S 269 x(\()S 8173 X 498 y
(MUTEX)S 269 x(:)S 269 x(in)S 269 x(CMA_T_MUTEX\);)S 4945 X 797 y(function)S
269 x(CMA_MUTEX_TRY_LOCK)S 269 x(\()S 8173 X 498 y(MUTEX)S 269 x(:)S
269 x(in)S 269 x(CMA_T_MUTEX\))S 269 x(return)S 269 x(CMA_T_BOOLEAN;)S
4945 X 797 y(procedure)S 269 x(CMA_MUTEX_UNLOCK)S 269 x(\()S 8173 X
498 y(MUTEX)S 269 x(:)S 269 x(in)S 269 x(CMA_T_MUTEX\);)S 4945 X 797 y
(-------------)S 269 x(Operations)S 269 x(on)S 269 x(Condition)S 269 x
(Variables)S 269 x(-----------)S 4945 X 797 y(subtype)S 269 x(CMA_T_COND)S
269 x(is)S 269 x(CMA_T_HANDLE;)S 4945 X 797 y(--)S 269 x(A)S 269 x(thread)S
269 x(can)S 269 x(create)S 269 x(and)S 269 x(delete)S 269 x(condition)S
269 x(variables.)S 4945 X 498 y(procedure)S 269 x(CMA_COND_CREATE)S
269 x(\()S 8173 X 498 y(NEW_CONDITION)S 269 x(:)S 269 x(out)S 269 x
(CMA_T_COND;)S 8173 X 499 y(ATT)S 11939 X(:)S 269 x(in)S 269 x(CMA_T_ATTR\);)S
4945 X 797 y(procedure)S 269 x(CMA_COND_DELETE)S 269 x(\()S 8173 X 498 y
(CONDITION)S 269 x(:)S 269 x(in)S 269 x(out)S 269 x(CMA_T_COND\);)S
4945 X 797 y(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(signal)S
269 x(and)S 269 x(broadcast)S 269 x(on)S 269 x(a)S 269 x(condition)S
268 x(variable.)S 4945 X 498 y(procedure)S 269 x(CMA_COND_BROADCAST)S
269 x(\()S 8173 X 498 y(CONDITION)S 269 x(:)S 269 x(in)S 269 x(CMA_T_COND\);)S
4945 X 797 y(procedure)S 269 x(CMA_COND_SIGNAL)S 269 x(\()S 8173 X 498 y
(CONDITION)S 269 x(:)S 269 x(in)S 269 x(CMA_T_COND\);)S 4945 X 797 y
(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(wait)S 269 x(for)S
269 x(a)S 269 x(condition)S 269 x(variable)S 269 x(to)S 269 x(be)S 268 x
(signalled)S 269 x(or)S 269 x(broadcast.)S 4945 X 498 y(procedure)S
269 x(CMA_COND_WAIT)S 269 x(\()S 8173 X 498 y(MUTEX)S 10863 X(:)S 269 x
(in)S 269 x(CMA_T_MUTEX;)S 8173 X 499 y(CONDITION)S 269 x(:)S 269 x
(in)S 269 x(CMA_T_COND\);)S 4945 X 797 y(-------------)S 269 x(Operations)S
269 x(for)S 269 x(Timed)S 269 x(Waiting)S 269 x(-----------)S 4945 X
797 y(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(perform)S 269 x
(a)S 269 x(timed)S 269 x(wait)S 269 x(on)S 269 x(a)S 269 x(condition)S
268 x(variable.)S 4945 X 498 y(procedure)S 269 x(CMA_COND_TIMED_WAIT)S
269 x(\()S 8173 X 498 y(MUTEX)S 11132 X(:)S 269 x(in)S 269 x(CMA_T_MUTEX;)S
8173 X 498 y(CONDITION)S 538 x(:)S 269 x(in)S 269 x(CMA_T_COND;)S 8173 X
498 y(EXPIRATION)S 269 x(:)S 269 x(in)S 269 x(CMA_T_DATE_TIME\);)S 4945 X
797 y(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(acquire)S 269 x
(an)S 269 x(absolute)S 269 x(expiration)S 269 x(time.)S 4945 X 498 y
(procedure)S 269 x(CMA_TIME_GET_EXPIRATION)S 269 x(\()S 8173 X 498 y
(INTERVAL)S 807 x(:)S 269 x(in)S 269 x(CMA_T_INTERVAL;)S 8173 X 498 y
(EXPIRATION)S 269 x(:)S 269 x(out)S 269 x(CMA_T_DATE_TIME\);)S 4945 X
798 y(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(determine)S 269 x
(whether)S 269 x(a)S 269 x(cma_t_date_time)S 268 x(value)S 269 x(has)S
269 x(expired.)S 4945 X 498 y(function)S 269 x(CMA_EXPIRED)S 269 x(\()S
6021 X 498 y(EXPIRATION)S 269 x(:)S 269 x(in)S 269 x(CMA_T_DATE_TIME\))S
269 x(return)S 269 x(CMA_T_BOOLEAN;)S 4945 X 797 y(-------------)S 269 x
(Operations)S 269 x(for)S 269 x(CMA)S 269 x(and)S 269 x(Client)S 269 x
(Initialization)S 268 x(-----------)S 4945 X 797 y(--)S 269 x(A)S 269 x
(thread)S 269 x(can)S 269 x(initialize)S 269 x(the)S 269 x(CMA)S 269 x
(package.)S 4945 X 498 y(procedure)S 269 x(CMA_INIT;)S 4945 X 797 y
(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(declare)S 269 x(a)S
269 x(one-time)S 269 x(initialization)S 269 x(routine..)S 4945 X 498 y
(--)S 269 x(The)S 269 x(address)S 269 x(of)S 269 x(the)S 269 x(init)S
269 x(block)S 269 x(and)S 269 x(routine)S 269 x(are)S 269 x(passed)S
268 x(as)S 269 x(parameters.)S 4945 X 498 y(type)S 269 x(CMA_T_ONCE)S
269 x(is)S 269 x(private;)S 4945 X 797 y(subtype)S 269 x(CMA_T_INIT_ROUTINE)S
269 x(is)S 269 x(CMA_T_ADDRESS;)S 4945 X 797 y(procedure)S 269 x(CMA_ONCE)S
269 x(\()S 8173 X 498 y(INIT_BLOCK)S 807 x(:)S 269 x(in)S 269 x(CMA_T_ADDRESS;)S
8173 X 498 y(INIT_ROUTINE)S 269 x(:)S 269 x(in)S 269 x(CMA_T_INIT_ROUTINE\);)S
4945 X 797 y(-------------)S 269 x(Operations)S 269 x(for)S 269 x(Per-Thread)S
269 x(Context)S 269 x(-----------)S 4945 X 798 y(type)S 269 x(CMA_T_KEY)S
269 x(is)S 269 x(private;)S 4945 X 797 y(subtype)S 269 x(CMA_T_DESTRUCTOR)S
269 x(is)S 269 x(CMA_T_ADDRESS;)S -629 x 37373 Y F36(Quick)S 166 x(Reference)S
165 x(Guide)S 167 x(to)S 167 x(CMA)S 165 x(Operations)S 499 x(109)S
%%EndCustomColor: 0
112 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 110 113
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4945 3903 XY F98(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(obtain)S
269 x(a)S 269 x(unique)S 269 x(key.)S 4945 X 498 y(function)S 269 x
(CMA_KEY_CREATE)S 269 x(\()S 8173 X 498 y(DESTRUCTOR)S 11939 X(:)S 269 x
(in)S 269 x(CMA_T_DESTRUCTOR;)S 8173 X 498 y(ATT)S 11939 X(:)S 269 x
(in)S 269 x(CMA_T_ATTR\))S 269 x(return)S 269 x(CMA_T_KEY;)S 4945 X
797 y(procedure)S 269 x(SAMPLE_DESTRUCTOR)S 269 x(\()S 8173 X 498 y
(CONTEXT_VALUE)S 269 x(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\);)S 4945 X
797 y(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(provide)S 269 x
(a)S 269 x(per-thread)S 269 x(context)S 269 x(value)S 268 x(identified)S
269 x(by)S 269 x(a)S 269 x(key.)S 4945 X 498 y(procedure)S 269 x(CMA_KEY_SET_CONTEXT)S
269 x(\()S 8173 X 498 y(KEY)S 12208 X(:)S 269 x(in)S 269 x(CMA_T_KEY;)S
8173 X 499 y(CONTEXT_VALUE)S 538 x(:)S 269 x(in)S 269 x(CMA_T_ADDRESS\);)S
4945 X 797 y(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(retrieve)S
269 x(a)S 269 x(per-thread)S 269 x(context)S 269 x(value.)S 4945 X 498 y
(function)S 269 x(CMA_KEY_GET_CONTEXT)S 269 x(\()S 8173 X 498 y(KEY)S
269 x(:)S 538 x(in)S 269 x(CMA_T_KEY\))S 269 x(return)S 269 x(CMA_T_ADDRESS;)S
4945 X 797 y(--)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(destroy)S
269 x(a)S 269 x(per-thread)S 269 x(context)S 269 x(value.)S 4945 X 498 y
(procedure)S 269 x(CMA_DELETE_CONTEXT)S 269 x(\()S 8173 X 498 y(KEY)S
269 x(:)S 269 x(in)S 269 x(CMA_T_KEY\);)S 4945 X 797 y(-----------)S
269 x(Operations)S 269 x(for)S 269 x(Alerts)S 269 x(--------------------)S
4945 X 797 y(type)S 269 x(CMA_T_ALERT_STATE)S 269 x(is)S 269 x(private;)S
4945 X 797 y(--)S 269 x(The)S 269 x(current)S 269 x(thread)S 269 x(can)S
269 x(request)S 269 x(that)S 269 x(a)S 269 x(thread)S 269 x(terminate)S
268 x(it's)S 269 x(execution.)S 4945 X 498 y(procedure)S 269 x(CMA_THREAD_ALERT)S
269 x(\()S 8173 X 498 y(THREAD)S 269 x(:)S 269 x(in)S 269 x(CMA_T_THREAD\);)S
4945 X 797 y(--)S 269 x(The)S 269 x(current)S 269 x(thread)S 269 x(can)S
269 x(poll)S 269 x(for)S 269 x(alert)S 269 x(delivery.)S 4945 X 499 y
(procedure)S 269 x(CMA_ALERT_TEST;)S 4945 X 797 y(--)S 269 x(The)S 269 x
(current)S 269 x(thread)S 269 x(can)S 269 x(enable,)S 269 x(disable,)S
269 x(and)S 269 x(restore)S 268 x(asynchronous)S 4945 X 498 y(--)S 269 x
(alert)S 269 x(delivery.)S 4945 X 498 y(procedure)S 269 x(CMA_ALERT_ENABLE_ASYNCH;)S
4945 X 797 y(procedure)S 269 x(CMA_ALERT_DISABLE_ASYNCH)S 269 x(\()S
8173 X 498 y(PRIOR)S 269 x(:)S 269 x(out)S 269 x(CMA_T_ALERT_STATE\);)S
4945 X 797 y(procedure)S 269 x(CMA_ALERT_RESTORE_ASYNCH)S 269 x(\()S
8173 X 498 y(PRIOR)S 269 x(:)S 269 x(in)S 269 x(CMA_T_ALERT_STATE\);)S
4945 X 797 y(--)S 269 x(The)S 269 x(current)S 269 x(thread)S 269 x(can)S
269 x(defer)S 269 x(all)S 269 x(alert)S 269 x(deliveries)S 268 x(and)S
4945 X 498 y(--)S 269 x(then)S 269 x(undo)S 269 x(the)S 269 x(effect)S
269 x(of)S 269 x(such)S 269 x(a)S 269 x(deferral.)S 4945 X 498 y(procedure)S
269 x(CMA_ALERT_DEFER_ALL)S 269 x(\()S 8173 X 499 y(PRIOR)S 269 x(:)S
269 x(out)S 269 x(CMA_T_ALERT_STATE\);)S 4945 X 797 y(procedure)S 269 x
(CMA_ALERT_RESTORE_ALL)S 269 x(\()S 8173 X 498 y(PRIOR)S 269 x(:)S 269 x
(in)S 269 x(CMA_T_ALERT_STATE\);)S 4945 X 797 y(private)S 4945 X 498 y
(---------------------------------------------------------------------)S
4945 X 498 y(--)S 269 x(The)S 269 x(CMA)S 269 x(implementation)S 269 x
(must)S 269 x(make)S 269 x(these)S 269 x(additional)S 268 x(decisions)S
22967 X(--)S 4945 X 498 y(--)S 269 x(\(The)S 269 x(right)S 269 x(hand)S
269 x(sides)S 269 x(are)S 269 x(not)S 269 x(part)S 269 x(of)S 269 x
(the)S 269 x(portable)S 268 x(interfaces\).)S 269 x(--)S 4945 X 498 y
(---------------------------------------------------------------------)S
4945 X 797 y(----)S 269 x(Sample)S 269 x(decisions)S 269 x(for)S 269 x
(the)S 269 x(private)S 269 x(types)S 269 x(defined)S 268 x(by)S 269 x
(a)S 4945 X 498 y(----)S 269 x(CMA)S 269 x(implementation.)S 6021 X
797 y(type)S 269 x(CMA_T_HANDLE)S 269 x(is)S 7097 X 498 y(record)S -538 x
499 y(PTR)S 269 x(:)S 269 x(CMA_T_ADDRESS;)S 8173 X 498 y(SEQ)S 269 x
(:)S 269 x(CMA_T_INTEGER;)S 7097 X 498 y(end)S 269 x(record;)S 6021 X
797 y(CMA_C_NULL)S 269 x(:)S 269 x(constant)S 269 x(CMA_T_HANDLE)S 269 x
(:=)S 7097 X 498 y(\(PTR)S 269 x(=>)S 269 x(SYSTEM.ADDRESS_ZERO,)S 269 x
(SEQ)S 269 x(=>)S 269 x(0\);)S 6021 X 797 y(type)S 269 x(CMA_T_KEY)S
269 x(is)S 269 x(NEW)S 269 x(natural;)S 3899 37373 XY F36(1)S -28 x
(10)S 498 x(Quick)S 167 x(Reference)S 165 x(Guide)S 167 x(to)S 166 x
(CMA)S 166 x(Operations)S
%%EndCustomColor: 0
113 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 111 114
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
6021 3903 XY F98(type)S 269 x(CMA_T_ALERT_STATE)S 269 x(is)S 7097 X
498 y(record)S -538 x 498 y(PRIOR_DISABLE)S 269 x(:)S 269 x(CMA_T_BOOLEAN;)S
8173 X 498 y(PRIOR_DEFER)S 807 x(:)S 269 x(CMA_T_BOOLEAN;)S 7097 X 498 y
(end)S 269 x(record;)S 6021 X 797 y(type)S 269 x(CMA_T_ONCE)S 269 x
(is)S 7097 X 498 y(record)S -538 x 498 y(MUTEX)S 807 x(:)S 269 x(CMA_T_MUTEX;)S
8173 X 499 y(FLAG)S 10325 X(:)S 269 x(CMA_T_BOOLEAN)S 269 x(:=)S 269 x
(false;)S 7097 X 498 y(end)S 269 x(record;)S 6021 X 797 y(type)S 269 x
(CMA_T_EXIT_STATUS)S 269 x(is)S 269 x(NEW)S 269 x(natural;)S 6021 X
498 y(CMA_C_TERM_ERROR)S 538 x(:)S 269 x(constant)S 269 x(CMA_T_EXIT_STATUS)S
268 x(:=)S 269 x(0;)S 6021 X 498 y(CMA_C_TERM_NORMAL)S 269 x(:)S 269 x
(constant)S 269 x(CMA_T_EXIT_STATUS)S 268 x(:=)S 269 x(1;)S 6021 X 498 y
(CMA_C_TERM_ALERT)S 538 x(:)S 269 x(constant)S 269 x(CMA_T_EXIT_STATUS)S
268 x(:=)S 269 x(2;)S 6021 X 797 y(type)S 269 x(CMA_T_PRIORITY)S 269 x
(is)S 269 x(NEW)S 269 x(natural;)S 6021 X 498 y(CMA_C_PRIORITY_FOREGROUND)S
269 x(:)S 269 x(constant)S 269 x(CMA_T_PRIORITY)S 268 x(:=)S 269 x(8;)S
6021 X 498 y(CMA_C_PRIORITY_NORMAL)S 13015 X(:)S 269 x(constant)S 269 x
(CMA_T_PRIORITY)S 268 x(:=)S 269 x(7;)S 6021 X 498 y(CMA_C_PRIORITY_BACKGROUND)S
269 x(:)S 269 x(constant)S 269 x(CMA_T_PRIORITY)S 268 x(:=)S 269 x(6;)S
6021 X 499 y(CMA_C_PRIORITY_IDLE)S 13015 X(:)S 269 x(constant)S 269 x
(CMA_T_PRIORITY)S 268 x(:=)S 269 x(1;)S 4945 X 797 y(end;)S 15668 37373 XY
F36(Quick)S 167 x(Reference)S 165 x(Guide)S 167 x(to)S 166 x(CMA)S 166 x
(Operations)S 498 x(1)S -27 x(1)S -28 x(1)S
%%EndCustomColor: 0
114 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 112 115
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
3899 4050 XY F28(E.2)S 598 x(C)S 199 x(Quick)S 200 x(Reference)S 201 x
(Guide)S 3899 5046 XY F147(This)S 182 x(section)S 182 x(provides)S 182 x
(a)S 182 x(compilab)S -2 x(le)S 183 x(quick)S 182 x(reference)S 183 x
(guide)S 182 x(written)S 183 x(in)S 182 x(C.)S 4945 6092 XY F98(/*)S
-269 x 499 y(*)S 538 x(Copyright)S 269 x(\(c\))S 269 x(1989,)S 269 x
(1990)S 269 x(by)S 5214 X 498 y(*)S 538 x(Digital)S 269 x(Equipment)S
269 x(Corporation,)S 269 x(Maynard)S 269 x(Massachusetts.)S 5214 X 498 y
(*)S 538 x(All)S 269 x(rights)S 269 x(reserved.)S 5214 X 498 y(*)S -269 x
498 y(*)S 538 x(This)S 269 x(software)S 269 x(is)S 269 x(furnished)S
269 x(under)S 269 x(a)S 269 x(license)S 269 x(and)S 268 x(may)S 269 x
(be)S 269 x(used)S 269 x(and)S 538 x(copied)S 5214 X 498 y(*)S 538 x
(only)S 538 x(in)S 538 x(accordance)S 538 x(with)S 538 x(the)S 538 x
(terms)S 538 x(of)S 538 x(such)S 537 x(license)S 269 x(and)S 269 x(with)S
269 x(the)S 5214 X 498 y(*)S 538 x(inclusion)S 269 x(of)S 269 x(the)S
269 x(above)S 269 x(copyright)S 269 x(notice.)S 538 x(This)S 268 x(software)S
269 x(or)S 538 x(any)S 538 x(other)S 5214 X 499 y(*)S 538 x(copies)S
538 x(thereof)S 269 x(may)S 269 x(not)S 269 x(be)S 269 x(provided)S
269 x(or)S 269 x(otherwise)S 268 x(made)S 269 x(available)S 269 x(to)S
269 x(any)S 5214 X 498 y(*)S 538 x(other)S 269 x(person.)S 538 x(No)S
269 x(title)S 269 x(to)S 269 x(and)S 269 x(ownership)S 269 x(of)S 538 x
(the)S 537 x(software)S 538 x(is)S 538 x(hereby)S 5214 X 498 y(*)S 538 x
(transferred.)S 5214 X 498 y(*)S -269 x 498 y(*)S 538 x(The)S 269 x
(information)S 269 x(in)S 269 x(this)S 269 x(software)S 269 x(is)S 269 x
(subject)S 269 x(to)S 268 x(change)S 538 x(without)S 538 x(notice)S
5214 X 498 y(*)S 538 x(and)S 538 x(should)S 538 x(not)S 538 x(be)S 538 x
(construed)S 538 x(as)S 538 x(a)S 269 x(commitment)S 268 x(by)S 269 x
(DIGITAL)S 269 x(Equipment)S 5214 X 498 y(*)S 538 x(Corporation.)S 5214 X
498 y(*)S -269 x 499 y(*)S 538 x(DIGITAL)S 269 x(assumes)S 269 x(no)S
269 x(responsibility)S 269 x(for)S 269 x(the)S 269 x(use)S 269 x(or)S
537 x(reliability)S 538 x(of)S 538 x(its)S 5214 X 498 y(*)S 538 x(software)S
269 x(on)S 269 x(equipment)S 269 x(which)S 269 x(is)S 269 x(not)S 269 x
(supplied)S 269 x(by)S 268 x(DIGITAL.)S 5214 X 498 y(*/)S -807 x 797 y
(/*)S -269 x 498 y(*)S 538 x(FACILITY:)S 5214 X 498 y(*)S -269 x 498 y
(*)S 7097 X(Common)S 269 x(Multithread)S 269 x(Architecture)S 269 x
(\(CMA\))S 269 x(services)S 5214 X 498 y(*)S -269 x 499 y(*)S 538 x
(ABSTRACT:)S 5214 X 498 y(*)S -269 x 498 y(*)S 7097 X(External)S 269 x
(definitions)S 269 x(for)S 269 x(CMA)S 269 x(services)S 5214 X 498 y
(*)S -269 x 498 y(*)S 538 x(AUTHORS:)S 5214 X 498 y(*)S -269 x 498 y
(*)S 7097 X(Dave)S 269 x(Butenhof)S 5214 X 498 y(*)S -269 x 499 y(*)S
538 x(CREATION)S 269 x(DATE:)S 5214 X 498 y(*)S -269 x 498 y(*)S 7097 X
(2)S 269 x(November)S 269 x(1988)S 5214 X 498 y(*)S -269 x 498 y(*)S
538 x(MODIFICATION)S 269 x(HISTORY:)S 5214 X 498 y(*)S -269 x 498 y
(*/)S -807 x 26715 Y(#ifndef)S 269 x(CMA_INCLUDE)S 4945 X 498 y(#define)S
269 x(CMA_INCLUDE)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(The)S 269 x
(implementation)S 269 x(makes)S 269 x(these)S 269 x(basic)S 269 x(decisions)S
5214 X 499 y(*/)S -807 x 797 y(#ifndef)S 269 x(vms)S 4945 X 498 y(#include)S
269 x(<sys/types.h>)S 4945 X 498 y(#include)S 269 x(<sys/timeb.h>)S
4945 X 498 y(#endif)S 4945 X 797 y(#include)S 269 x(<cma_config.h>)S
13553 X(/*)S 269 x(configuration)S 269 x(symbols)S 268 x(*/)S 4945 X
498 y(#include)S 269 x(<cma_exception.h>)S 13553 X(/*)S 269 x(Bring)S
269 x(in)S 269 x(the)S 269 x(chosen)S 268 x(exception)S 269 x(services)S
269 x(*/)S 4945 X 797 y(#ifdef)S 269 x(_CMA_PROTO_)S 4945 X 498 y(#define)S
269 x(_CMA_PROTOTYPE_\(arg\))S 13553 X(arg)S 4945 X 498 y(#else)S 4945 X
498 y(#define)S 269 x(_CMA_PROTOTYPE_\(arg\))S 13553 X(\(\))S 4945 X
499 y(#endif)S 3899 37373 XY F36(1)S -28 x(12)S 498 x(Quick)S 167 x
(Reference)S 165 x(Guide)S 167 x(to)S 166 x(CMA)S 166 x(Operations)S
%%EndCustomColor: 0
115 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ Courier
%%PageCustomColors: 0
%
%%Page: 113 116
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3903 XY F98(/*)S -269 x 498 y(*)S 269 x(Sample)S 269 x(decisions)S
269 x(for)S 269 x(the)S 269 x(environment)S 269 x(types)S 5214 X 498 y
(*/)S -807 x 5995 Y(typedef)S 269 x(int)S 13553 X(cma_t_integer;)S 4945 X
797 y(typedef)S 269 x(unsigned)S 269 x(int)S 13553 X(cma_t_boolean;)S
4945 X 797 y(typedef)S 269 x(unsigned)S 269 x(int)S 13553 X(cma_t_natural;)S
4945 X 797 y(typedef)S 269 x(float)S 13553 X(cma_t_interval;)S 4945 X
797 y(typedef)S 269 x(int)S 13553 X(cma_t_key;)S 4945 X 797 y(typedef)S
269 x(int)S 13553 X(cma_t_status;)S 4945 X 797 y(typedef)S 269 x(int)S
13553 X(cma_t_priority;)S 4945 X 797 y(#if)S 269 x(_CMA_VOID_)S 4945 X
498 y(typedef)S 269 x(void)S 13553 X(*cma_t_address;)S 4945 X 498 y
(#else)S 4945 X 498 y(typedef)S 269 x(char)S 13553 X(*cma_t_address;)S
4945 X 498 y(#endif)S 4945 X 797 y(#define)S 269 x(cma_c_false)S 11401 X
(\(cma_t_boolean\)0)S 4945 X 499 y(#define)S 269 x(cma_c_true)S 11401 X
(\(cma_t_boolean\)1)S 4945 X 498 y(#define)S 269 x(cma_c_null_ptr)S
538 x(\(cma_t_address\)0)S 4945 X 797 y(#define)S 269 x(cma_c_prio_fifo_min)S
13553 X(16)S 4945 X 498 y(#define)S 269 x(cma_c_prio_fifo_mid)S 13553 X
(24)S 4945 X 498 y(#define)S 269 x(cma_c_prio_fifo_max)S 13553 X(31)S
4945 X 498 y(#define)S 269 x(cma_c_prio_rr_min)S 13553 X(16)S 4945 X
498 y(#define)S 269 x(cma_c_prio_rr_mid)S 13553 X(24)S 4945 X 498 y
(#define)S 269 x(cma_c_prio_rr_max)S 13553 X(31)S 4945 X 498 y(#define)S
269 x(cma_c_prio_through_min)S 538 x(8)S 4945 X 499 y(#define)S 269 x
(cma_c_prio_through_mid)S 538 x(12)S 4945 X 498 y(#define)S 269 x(cma_c_prio_through_max)S
538 x(15)S 4945 X 498 y(#define)S 269 x(cma_c_prio_back_min)S 13553 X
(1)S 4945 X 498 y(#define)S 269 x(cma_c_prio_back_mid)S 13553 X(4)S
4945 X 498 y(#define)S 269 x(cma_c_prio_back_max)S 13553 X(7)S 4945 X
498 y(#define)S 269 x(cma_c_prio_ada_low_min)S 538 x(1)S 4945 X 498 y
(#define)S 269 x(cma_c_prio_ada_low_mid)S 538 x(4)S 4945 X 499 y(#define)S
269 x(cma_c_prio_ada_low_max)S 538 x(7)S 4945 X 498 y(#define)S 269 x
(cma_c_prio_idle_min)S 13553 X(0)S 4945 X 498 y(#define)S 269 x(cma_c_prio_idle_mid)S
13553 X(0)S 4945 X 498 y(#define)S 269 x(cma_c_prio_idle_max)S 13553 X
(0)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(The)S 269 x(implementation)S
269 x(of)S 269 x(the)S 269 x(cma_t_date_time)S 269 x(type)S 269 x(should)S
268 x(match)S 269 x(the)S 269 x("native)S 5214 X 498 y(*)S 269 x(time")S
269 x(of)S 269 x(the)S 269 x(platform:)S 269 x(that)S 269 x(allows)S
269 x(clients)S 269 x(to)S 269 x(use)S 268 x(the)S 269 x(full)S 269 x
(set)S 269 x(of)S 269 x(platform)S 5214 X 498 y(*)S 269 x(time)S 269 x
(operations,)S 269 x(rather)S 269 x(than)S 269 x(just)S 269 x("cma_get_expiration",)S
268 x(to)S 269 x(compute)S 269 x(and)S 5214 X 498 y(*)S 269 x(test)S
269 x(timed)S 269 x(waits.)S 5214 X 499 y(*)S -269 x 498 y(*)S 269 x
(This)S 269 x(section)S 269 x(assumes)S 269 x(the)S 269 x(platform)S
269 x(is)S 269 x(either)S 269 x("VMS")S 268 x(or)S 269 x("UNIX-ish".)S
538 x(Others)S 5214 X 498 y(*)S 269 x(will)S 269 x(require)S 269 x(changes.)S
5214 X 498 y(*/)S -807 x 498 y(#ifdef)S 269 x(vms)S 4945 X 498 y(typedef)S
269 x(struct)S 269 x(CMA_T_DATE_TIME)S 269 x({)S 6021 X 498 y(unsigned)S
269 x(long)S 269 x(int)S 807 x(low;)S 6021 X 499 y(unsigned)S 269 x
(long)S 269 x(int)S 807 x(high;)S 6021 X 498 y(})S 13553 X(cma_t_date_time;)S
4945 X 498 y(#else)S 4945 X 498 y(typedef)S 269 x(struct)S 269 x(timeb)S
13553 X(cma_t_date_time;)S 4945 X 498 y(#endif)S 4945 X 797 y(/*)S -269 x
498 y(*)S 269 x(Sample)S 269 x(decisions)S 269 x(for)S 269 x(what)S
269 x(handles)S 269 x(shall)S 269 x(be)S 5214 X 498 y(*/)S 15641 37373 XY
F36(Quick)S 166 x(Reference)S 166 x(Guide)S 167 x(to)S 166 x(CMA)S 165 x
(Operations)S 499 x(1)S -27 x(13)S
%%EndCustomColor: 0
116 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 114 117
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4945 3873 XY F98(typedef)S 269 x(struct)S 269 x(CMA_T_HANDLE)S 269 x
({)S 6021 X 498 y(cma_t_address)S 11401 X(field1;)S 6021 X 498 y(cma_t_address)S
11401 X(field2;)S 6021 X 498 y(})S 269 x(cma_t_handle;)S 4945 X 797 y
(#define)S 269 x(cma_c_handle_size)S 269 x(sizeof\(cma_t_handle\))S
4945 X 797 y(typedef)S 269 x(cma_t_handle)S 11401 X(cma_t_mutex;)S 15705 X
(/*)S 269 x(Needed)S 269 x(for)S 268 x(CMA_ONCE_BLOCK)S 269 x(*/)S 4945 X
797 y(/*)S -269 x 498 y(*)S 269 x(Predefined)S 269 x(null)S 269 x(handle)S
5214 X 498 y(*/)S -807 x 797 y(extern)S 269 x(cma_t_handle)S 11401 X
(cma_c_null;)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(Sample)S 269 x
(decision)S 269 x(for)S 269 x(a)S 269 x(one-time)S 269 x(initialization)S
269 x(control)S 268 x(block)S 269 x(and)S 269 x(its)S 5214 X 499 y(*)S
269 x(initialization)S 269 x(macro.)S 5214 X 498 y(*)S -269 x 498 y
(*)S 269 x(Declare)S 269 x(a)S 269 x(one)S 269 x(time)S 269 x(initialization)S
269 x(control)S 269 x(block)S 268 x(as:)S 5214 X 498 y(*)S -269 x 498 y
(*)S 7097 X(static)S 269 x(cma_t_once)S 13553 X(block)S 269 x(=)S 269 x
(cma_once_init;)S 5214 X 498 y(*/)S -807 x 498 y(typedef)S 269 x(struct)S
269 x(CMA_T_ONCE)S 269 x({)S 6021 X 498 y(cma_t_integer)S 11401 X(field1;)S
6021 X 499 y(cma_t_integer)S 11401 X(field2;)S 6021 X 498 y(cma_t_integer)S
11401 X(field3;)S 6021 X 498 y(})S 13553 X(cma_t_once;)S 4945 X 797 y
(#define)S 269 x(cma_once_init)S 807 x({0,)S 269 x(0,)S 269 x(0})S 4945 X
797 y(/*)S -269 x 498 y(*)S 269 x(Sample)S 269 x(decision)S 269 x(for)S
269 x(a)S 269 x(variable)S 269 x(to)S 269 x(save)S 269 x(the)S 269 x
(current)S 268 x(alert)S 269 x(state.)S 5214 X 498 y(*/)S -807 x 498 y
(typedef)S 269 x(struct)S 269 x(CMA_T_ALERT_STATE)S 269 x({)S 6021 X
498 y(cma_t_integer)S 11401 X(state;)S 6021 X 499 y(})S 13553 X(cma_t_alert_state;)S
4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(Sample)S 269 x(decision)S 269 x
(for)S 269 x(error)S 269 x(codes)S 5214 X 498 y(*)S -269 x 498 y(*)S
269 x(Note:)S 269 x(for)S 269 x(VMS,)S 269 x(these)S 269 x(must)S 269 x
(remain)S 269 x(in)S 269 x(synch)S 269 x(with)S 269 x(the)S 268 x("message)S
269 x(file",)S 5214 X 498 y(*)S 269 x(CMA_MESSAGE_VMS.MSG)S 5214 X 498 y
(*)S -269 x 498 y(*)S 269 x(Note:)S 269 x(these)S 269 x(values)S 269 x
(cannot)S 269 x(be)S 269 x(altered)S 269 x(after)S 269 x(they)S 268 x
(have)S 269 x(shipped)S 269 x(in)S 5214 X 498 y(*)S 269 x(some)S 269 x
(CMA)S 269 x(release.)S 5214 X 499 y(*/)S -807 x 797 y(#define)S 269 x
(cma_s_alerted)S 13553 X(_CMA_STATUS_\(1,)S 269 x(4\))S 4945 X 498 y
(#define)S 269 x(cma_s_existence)S 13553 X(_CMA_STATUS_\(2,)S 269 x
(4\))S 4945 X 498 y(#define)S 269 x(cma_s_in_use)S 13553 X(_CMA_STATUS_\(3,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_use_error)S 13553 X(_CMA_STATUS_\(4,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_accvio)S 13553 X(_CMA_STATUS_\(5,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_badparam)S 13553 X(_CMA_STATUS_\(6,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_exquota)S 13553 X(_CMA_STATUS_\(7,)S
269 x(4\))S 4945 X 499 y(#define)S 269 x(cma_s_stackovf)S 13553 X(_CMA_STATUS_\(8,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_insfmem)S 13553 X(_CMA_STATUS_\(9,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_nopriv)S 13553 X(_CMA_STATUS_\(10,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_bugcheck)S 13553 X(_CMA_STATUS_\(11,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_assertion)S 13553 X(_CMA_STATUS_\(12,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_exit_thread)S 13553 X
(_CMA_STATUS_\(13,)S 269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_nostackmem)S
13553 X(_CMA_STATUS_\(14,)S 269 x(4\))S 4945 X 498 y(#define)S 269 x
(cma_s_defer_q_full)S 13553 X(_CMA_STATUS_\(15,)S 269 x(4\))S 4945 X
499 y(#define)S 269 x(cma_s_timed_out)S 13553 X(_CMA_STATUS_\(16,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_normal)S 13553 X(_CMA_STATUS_\(17,)S
269 x(1\))S 268 x(/*)S 269 x(Success,)S 269 x(not)S 269 x(an)S 269 x
(exc.)S 269 x(*/)S 4945 X 498 y(#define)S 269 x(cma_s_exception)S 13553 X
(_CMA_STATUS_\(18,)S 269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_exccop)S
13553 X(_CMA_STATUS_\(19,)S 269 x(4\))S 4945 X 498 y(#define)S 269 x
(cma_s_uninitexc)S 13553 X(_CMA_STATUS_\(20,)S 269 x(4\))S 3899 37373 XY
F36(1)S -28 x(14)S 498 x(Quick)S 167 x(Reference)S 165 x(Guide)S 167 x
(to)S 166 x(CMA)S 166 x(Operations)S
%%EndCustomColor: 0
117 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 115 118
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3903 XY F98(#define)S 269 x(cma_s_unimp)S 13553 X(_CMA_STATUS_\(21,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_inialrpro)S 13553 X(_CMA_STATUS_\(22,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGILL)S 13553 X(_CMA_STATUS_\(23,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGTRAP)S 13553 X(_CMA_STATUS_\(24,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGIOT)S 13553 X(_CMA_STATUS_\(25,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGEMT)S 13553 X(_CMA_STATUS_\(26,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGFPE)S 13553 X(_CMA_STATUS_\(27,)S
269 x(4\))S 4945 X 499 y(#define)S 269 x(cma_s_SIGBUS)S 13553 X(_CMA_STATUS_\(28,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGSEGV)S 13553 X(_CMA_STATUS_\(29,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGSYS)S 13553 X(_CMA_STATUS_\(30,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGPIPE)S 13553 X(_CMA_STATUS_\(31,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGXCPU)S 13553 X(_CMA_STATUS_\(32,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_SIGXFSZ)S 13553 X(_CMA_STATUS_\(33,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_notcmastack)S 13553 X
(_CMA_STATUS_\(34,)S 269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_intovf_t)S
13553 X(_CMA_STATUS_\(35,)S 269 x(4\))S 4945 X 499 y(#define)S 269 x
(cma_s_intdiv_t)S 13553 X(_CMA_STATUS_\(36,)S 269 x(4\))S 4945 X 498 y
(#define)S 269 x(cma_s_fltovf_t)S 13553 X(_CMA_STATUS_\(37,)S 269 x
(4\))S 4945 X 498 y(#define)S 269 x(cma_s_fltdiv_t)S 13553 X(_CMA_STATUS_\(38,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_fltund_t)S 13553 X(_CMA_STATUS_\(39,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_decovf_t)S 13553 X(_CMA_STATUS_\(40,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_subrng_t)S 13553 X(_CMA_STATUS_\(41,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_fltovf_f)S 13553 X(_CMA_STATUS_\(42,)S
269 x(4\))S 4945 X 499 y(#define)S 269 x(cma_s_fltdiv_f)S 13553 X(_CMA_STATUS_\(43,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_fltund_f)S 13553 X(_CMA_STATUS_\(44,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_resad)S 13553 X(_CMA_STATUS_\(45,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_privin)S 13553 X(_CMA_STATUS_\(46,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_resop)S 13553 X(_CMA_STATUS_\(47,)S
269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_signal_q_full)S 13553 X
(_CMA_STATUS_\(48,)S 269 x(4\))S 4945 X 498 y(#define)S 269 x(cma_s_addr_kind_exc)S
13553 X(_CMA_STATUS_\(49,)S 269 x(4\))S 268 x(/*)S 269 x(Not)S 269 x
(an)S 269 x(exception)S 269 x(*/)S 4945 X 797 y(/*)S -269 x 498 y(*)S
269 x(Define)S 269 x(the)S 269 x(exception)S 269 x(values)S 269 x(that)S
269 x(go)S 269 x(with)S 269 x(the)S 269 x(above)S 268 x(status)S 269 x
(codes)S 5214 X 499 y(*)S 269 x(\(these)S 269 x(are)S 269 x(initialized)S
269 x(by)S 269 x(cma_init\).)S 5214 X 498 y(*)S -269 x 498 y(*)S 269 x
(NOTE:)S 269 x(it)S 269 x(does)S 269 x(not)S 269 x(make)S 269 x(sense)S
269 x(to)S 269 x(turn)S 269 x(all)S 269 x(of)S 269 x(the)S 268 x(above)S
269 x(into)S 5214 X 498 y(*)S 269 x(exceptions)S 269 x(as)S 269 x(some)S
269 x(are)S 269 x(never)S 269 x(raised)S 269 x(as)S 269 x(exceptions.)S
537 x(Those)S 269 x(are:)S 5214 X 498 y(*)S 7097 X(cma_s_normal)S 11401 X
(--)S 269 x(never)S 269 x(signalled)S 5214 X 498 y(*)S 7097 X(cma_s_exception)S
269 x(--)S 269 x(internal)S 269 x(to)S 269 x(the)S 269 x(implementation)S
268 x(of)S 269 x(exceptions)S 5214 X 498 y(*)S 7097 X(cma_s_exccop)S
11401 X(--)S 269 x(internal)S 269 x(to)S 269 x(the)S 269 x(implementation)S
268 x(of)S 269 x(exceptions)S 5214 X 499 y(*)S -269 x 498 y(*/)S -807 x
797 y(extern)S 269 x(EXCEPTION)S 6021 X 498 y(cma_e_alerted,)S 6021 X
498 y(cma_e_existence,)S 6021 X 498 y(cma_e_in_use,)S 6021 X 498 y(cma_e_use_error,)S
6021 X 498 y(cma_e_accvio,)S 6021 X 498 y(cma_e_badparam,)S 6021 X 499 y
(cma_e_exquota,)S 6021 X 498 y(cma_e_stackovf,)S 6021 X 498 y(cma_e_insfmem,)S
6021 X 498 y(cma_e_nopriv,)S 6021 X 498 y(cma_e_bugcheck,)S 6021 X 498 y
(cma_e_assertion,)S 6021 X 498 y(cma_e_exit_thread,)S 6021 X 499 y(cma_e_nostackmem,)S
6021 X 498 y(cma_e_defer_q_full,)S 6021 X 498 y(cma_e_timed_out,)S 6021 X
498 y(cma_e_uninitexc,)S 6021 X 498 y(cma_e_unimp,)S 6021 X 498 y(cma_e_inialrpro,)S
6021 X 498 y(cma_e_SIGILL,)S 6021 X 498 y(cma_e_SIGTRAP,)S 6021 X 499 y
(cma_e_SIGIOT,)S 15641 37373 XY F36(Quick)S 166 x(Reference)S 166 x
(Guide)S 167 x(to)S 166 x(CMA)S 165 x(Operations)S 499 x(1)S -27 x(15)S
%%EndCustomColor: 0
118 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 116 119
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
6021 3873 XY F98(cma_e_SIGEMT,)S 6021 X 498 y(cma_e_SIGFPE,)S 6021 X
498 y(cma_e_SIGBUS,)S 6021 X 498 y(cma_e_SIGSEGV,)S 6021 X 498 y(cma_e_SIGSYS,)S
6021 X 498 y(cma_e_SIGPIPE,)S 6021 X 498 y(cma_e_SIGXCPU,)S 6021 X 499 y
(cma_e_SIGXFSZ,)S 6021 X 498 y(cma_e_notcmastack,)S 6021 X 498 y(cma_e_intovf_t,)S
6021 X 498 y(cma_e_intdiv_t,)S 6021 X 498 y(cma_e_fltovf_t,)S 6021 X
498 y(cma_e_fltdiv_t,)S 6021 X 498 y(cma_e_fltund_t,)S 6021 X 498 y
(cma_e_decovf_t,)S 6021 X 499 y(cma_e_subrng_t,)S 6021 X 498 y(cma_e_fltovf_f,)S
6021 X 498 y(cma_e_fltdiv_f,)S 6021 X 498 y(cma_e_fltund_f,)S 6021 X
498 y(cma_e_resad,)S 6021 X 498 y(cma_e_privin,)S 6021 X 498 y(cma_e_resop,)S
6021 X 498 y(cma_e_signal_q_full;)S 4945 X 797 y(/*)S -269 x 499 y(*)S
269 x(The)S 269 x(following)S 269 x(are)S 269 x(the)S 269 x(portable)S
269 x(CMA)S 269 x(definitions)S 5214 X 498 y(*/)S -807 x 797 y(/*)S
-269 x 498 y(*)S 269 x(Operations)S 269 x(on)S 269 x(Handles)S 5214 X
498 y(*/)S -807 x 797 y(/*)S -269 x 498 y(*)S 269 x(The)S 269 x(value)S
269 x(of)S 269 x(a)S 269 x(handle)S 269 x(can)S 269 x(be)S 269 x(assigned)S
269 x(the)S 269 x(value)S 268 x(of)S 269 x(another)S 269 x(handle.)S
5214 X 498 y(*/)S -807 x 797 y(extern)S 269 x(void)S 4945 X 498 y(cma_handle_assign)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 499 y(cma_t_handle)S 11401 X
(*handle1,)S 15705 X(/*)S 269 x(Input)S 269 x(handle)S 268 x(*/)S 7097 X
498 y(cma_t_handle)S 11401 X(*handle2\)\);)S 15705 X(/*)S 269 x(Output)S
269 x(handle)S 268 x(*/)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(The)S
269 x(value)S 269 x(of)S 269 x(a)S 269 x(handle)S 269 x(can)S 269 x
(be)S 269 x(compared)S 269 x(to)S 269 x(the)S 269 x(value)S 268 x(of)S
269 x(another)S 269 x(handle.)S 5214 X 498 y(*/)S -807 x 797 y(extern)S
269 x(cma_t_boolean)S 4945 X 498 y(cma_handle_equal)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_handle)S 11401 X(*handle1,)S 7097 X
498 y(cma_t_handle)S 11401 X(*handle2\)\);)S 4945 X 797 y(/*)S -269 x
499 y(*)S 269 x(Operations)S 269 x(on)S 269 x(attributes)S 269 x(objects)S
5214 X 498 y(*/)S -807 x 797 y(typedef)S 269 x(cma_t_handle)S 11401 X
(cma_t_attr;)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(An)S 269 x(attributes)S
269 x(object)S 269 x(is)S 269 x(created)S 269 x(to)S 269 x(specify)S
269 x(the)S 269 x(attributes)S 268 x(of)S 269 x(other)S 269 x(CMA)S
5214 X 498 y(*)S 269 x(objects)S 269 x(that)S 269 x(will)S 269 x(be)S
269 x(created.)S 5214 X 498 y(*/)S -807 x 797 y(extern)S 269 x(void)S
4945 X 498 y(cma_attr_create)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S
7097 X 498 y(cma_t_attr)S 11401 X(*new_attr,)S 7097 X 498 y(cma_t_attr)S
11401 X(*attr\)\);)S 4945 X 798 y(/*)S -269 x 498 y(*)S 269 x(An)S 269 x
(attributes)S 269 x(object)S 269 x(can)S 269 x(be)S 269 x(deleted)S
269 x(when)S 269 x(it)S 269 x(is)S 269 x(no)S 268 x(longer)S 269 x(needed.)S
5214 X 498 y(*/)S 3899 37373 XY F36(1)S -28 x(16)S 498 x(Quick)S 167 x
(Reference)S 165 x(Guide)S 167 x(to)S 166 x(CMA)S 166 x(Operations)S
%%EndCustomColor: 0
119 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 117 120
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3903 XY F98(extern)S 269 x(void)S 4945 X 498 y(cma_attr_delete)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_attr)S 11401 X
(*attr\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(Operations)S
269 x(on)S 269 x(threads)S 5214 X 498 y(*/)S -807 x 797 y(typedef)S
269 x(cma_t_handle)S 11401 X(cma_t_thread;)S 4945 X 498 y(typedef)S
269 x(cma_t_address)S 807 x(\(*cma_t_start_routine\))S 269 x(_CMA_PROTOTYPE_)S
268 x(\(\()S 7097 X 498 y(cma_t_address)S 807 x(arg\)\);)S 4945 X 797 y
(typedef)S 269 x(enum)S 269 x(CMA_T_EXIT_STATUS)S 269 x({)S 6021 X 499 y
(cma_c_null_thread)S 13553 X(=)S 269 x(-1,)S 6021 X 498 y(cma_c_term_error)S
13553 X(=)S 269 x(0,)S 6021 X 498 y(cma_c_term_normal)S 13553 X(=)S
269 x(1,)S 6021 X 498 y(cma_c_term_alert)S 13553 X(=)S 269 x(2)S 6021 X
498 y(})S 13553 X(cma_t_exit_status;)S 4945 X 797 y(typedef)S 269 x
(enum)S 269 x(CMA_T_SCHED_INHERIT)S 269 x({)S 6021 X 498 y(cma_c_sched_inherit)S
269 x(=)S 269 x(0,)S 6021 X 498 y(cma_c_sched_use_default)S 269 x(=)S
269 x(1)S 6021 X 499 y(})S 13553 X(cma_t_sched_inherit;)S 4945 X 797 y
(typedef)S 269 x(enum)S 269 x(CMA_T_SCHED_POLICY)S 269 x({)S 6021 X
498 y(cma_c_sched_fifo)S 269 x(=)S 269 x(0,)S 6021 X 498 y(cma_c_sched_rr)S
269 x(=)S 269 x(1,)S 6021 X 498 y(cma_c_sched_throughput)S 269 x(=)S
269 x(2,)S 6021 X 498 y(cma_c_sched_background)S 269 x(=)S 269 x(3,)S
6021 X 498 y(cma_c_sched_ada_low)S 269 x(=)S 269 x(4,)S 6021 X 498 y
(cma_c_sched_idle)S 269 x(=)S 269 x(5)S 6021 X 498 y(})S 13553 X(cma_t_sched_policy;)S
4945 X 797 y(#define)S 269 x(cma_c_sched_default)S 13553 X(cma_c_sched_throughput)S
4945 X 499 y(#define)S 269 x(cma_c_sched_other)S 13553 X(cma_c_sched_default)S
4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(The)S 269 x(following)S 269 x
(procedures)S 269 x(can)S 269 x(be)S 269 x(used)S 269 x(to)S 269 x(control)S
268 x(thread)S 269 x(creation,)S 5214 X 498 y(*)S 269 x(termination)S
269 x(and)S 269 x(deletion.)S 5214 X 498 y(*/)S -807 x 797 y(/*)S -269 x
498 y(*)S 269 x(To)S 269 x(create)S 269 x(a)S 269 x(thread)S 269 x(object)S
269 x(and)S 269 x(runnable)S 269 x(thread,)S 269 x(a)S 268 x(routine)S
269 x(must)S 269 x(be)S 269 x(specified)S 5214 X 498 y(*)S 269 x(as)S
269 x(the)S 269 x(new)S 269 x(thread's)S 269 x(start)S 269 x(routine.)S
538 x(An)S 269 x(argument)S 268 x(may)S 269 x(be)S 269 x(passed)S 269 x
(to)S 269 x(this)S 5214 X 498 y(*)S 269 x(routine,)S 269 x(as)S 269 x
(an)S 269 x(untyped)S 269 x(address;)S 269 x(an)S 269 x(untyped)S 269 x
(address)S 268 x(may)S 269 x(also)S 269 x(be)S 269 x(returned)S 269 x
(as)S 5214 X 499 y(*)S 269 x(the)S 269 x(routine's)S 269 x(value.)S
538 x(An)S 269 x(attributes)S 269 x(object)S 269 x(may)S 269 x(be)S
268 x(used)S 269 x(to)S 269 x(specify)S 269 x(details)S 5214 X 498 y
(*)S 269 x(about)S 269 x(the)S 269 x(kind)S 269 x(of)S 269 x(thread)S
269 x(being)S 269 x(created.)S 5214 X 498 y(*/)S -807 x 498 y(extern)S
269 x(void)S 4945 X 498 y(cma_thread_create)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_thread)S 13553 X(*new_thread,)S 7097 X
498 y(cma_t_attr)S 13553 X(*attr,)S 7097 X 498 y(cma_t_start_routine)S
13553 X(start_routine,)S 7097 X 499 y(cma_t_address)S 13553 X(arg\)\);)S
4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S 269 x(thread)S 269 x(object)S
269 x(may)S 269 x(be)S 269 x("detached")S 269 x(to)S 269 x(specify)S
269 x(that)S 268 x(the)S 269 x(return)S 269 x(value)S 269 x(and)S 5214 X
498 y(*)S 269 x(completion)S 269 x(status)S 269 x(will)S 269 x(not)S
269 x(be)S 269 x(requested.)S 5214 X 498 y(*/)S -807 x 498 y(extern)S
269 x(void)S 4945 X 498 y(cma_thread_detach)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_thread)S 11401 X(*thread\)\);)S 4945 X
797 y(/*)S -269 x 499 y(*)S 269 x(A)S 269 x(thread)S 269 x(may)S 269 x
(terminate)S 269 x(it's)S 269 x(own)S 269 x(execution.)S 5214 X 498 y
(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X 498 y(cma_thread_exit_error)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\(void\)\);)S 15641 37373 XY F36(Quick)S
166 x(Reference)S 166 x(Guide)S 167 x(to)S 166 x(CMA)S 165 x(Operations)S
499 x(1)S -27 x(17)S
%%EndCustomColor: 0
120 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 118 121
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4945 3903 XY F98(extern)S 269 x(void)S 4945 X 498 y(cma_thread_exit_normal)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_address)S 807 x
(result\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S 269 x(thread)S
269 x(can)S 269 x(await)S 269 x(termination)S 269 x(of)S 269 x(another)S
269 x(thread)S 268 x(and)S 269 x(retrieve)S 269 x(the)S 269 x(return)S
5214 X 498 y(*)S 269 x(value)S 269 x(and)S 269 x(completion)S 269 x
(status)S 269 x(of)S 269 x(the)S 269 x(thread.)S 5214 X 498 y(*/)S -807 x
498 y(extern)S 269 x(void)S 4945 X 499 y(cma_thread_join)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_thread)S 13553 X(*thread,)S 7097 X 498 y
(cma_t_exit_status)S 13553 X(*exit_status,)S 7097 X 498 y(cma_t_address)S
13553 X(*result\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(Operations)S
269 x(to)S 269 x(define)S 269 x(thread)S 269 x(creation)S 269 x(attributes)S
5214 X 498 y(*/)S -807 x 797 y(/*)S -269 x 498 y(*)S 269 x(Set)S 269 x
(or)S 269 x(obtain)S 269 x(the)S 269 x(default)S 269 x(thread)S 269 x
(priority.)S 5214 X 498 y(*/)S -807 x 499 y(extern)S 269 x(void)S 4945 X
498 y(cma_attr_set_priority)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X
498 y(cma_t_attr)S 11401 X(*attr,)S 7097 X 498 y(cma_t_priority)S 538 x
(pri\)\);)S 4945 X 797 y(extern)S 269 x(void)S 4945 X 498 y(cma_attr_get_priority)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_attr)S 11401 X
(*attr,)S 7097 X 498 y(cma_t_priority)S 538 x(*pri\)\);)S 4945 X 797 y
(/*)S -269 x 499 y(*)S 269 x(Set)S 269 x(or)S 269 x(obtain)S 269 x(the)S
269 x(default)S 269 x(scheduling)S 269 x(algorithm)S 5214 X 498 y(*/)S
-807 x 498 y(extern)S 269 x(void)S 4945 X 498 y(cma_attr_set_sched)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_attr)S 13553 X
(*attr,)S 7097 X 498 y(cma_t_sched_policy)S 13553 X(policy,)S 7097 X
498 y(cma_t_priority)S 13553 X(priority\)\);)S 4945 X 797 y(extern)S
269 x(void)S 4945 X 499 y(cma_attr_get_sched)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_attr)S 13553 X(*attr,)S 7097 X 498 y
(cma_t_sched_policy)S 13553 X(*policy\)\);)S 4945 X 797 y(/*)S -269 x
498 y(*)S 269 x(Set)S 269 x(or)S 269 x(obtain)S 269 x(whether)S 269 x
(a)S 269 x(thread)S 269 x(will)S 269 x(use)S 269 x(the)S 269 x(default)S
268 x(scheduling)S 269 x(attributes,)S 5214 X 498 y(*)S 269 x(or)S 269 x
(inherit)S 269 x(them)S 269 x(from)S 269 x(the)S 269 x(creating)S 269 x
(thread.)S 5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X
498 y(cma_attr_set_inherit_sched)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S
7097 X 499 y(cma_t_attr)S 13553 X(*attr,)S 7097 X 498 y(cma_t_sched_inherit)S
13553 X(setting\)\);)S 4945 X 797 y(extern)S 269 x(void)S 4945 X 498 y
(cma_attr_get_inherit_sched)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X
498 y(cma_t_attr)S 13553 X(*attr,)S 7097 X 498 y(cma_t_sched_inherit)S
13553 X(*setting\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(Set)S
269 x(or)S 269 x(obtain)S 269 x(the)S 269 x(default)S 269 x(stack)S
269 x(size)S 5214 X 498 y(*/)S -807 x 499 y(extern)S 269 x(void)S 4945 X
498 y(cma_attr_set_stacksize)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S
7097 X 498 y(cma_t_attr)S 11401 X(*attr,)S 7097 X 498 y(cma_t_natural)S
807 x(stacksize\)\);)S 3899 37373 XY F36(1)S -28 x(18)S 498 x(Quick)S
167 x(Reference)S 165 x(Guide)S 167 x(to)S 166 x(CMA)S 166 x(Operations)S
%%EndCustomColor: 0
121 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 119 122
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3903 XY F98(extern)S 269 x(void)S 4945 X 498 y(cma_attr_get_stacksize)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_attr)S 11401 X
(*attr,)S 7097 X 498 y(cma_t_natural)S 807 x(*stacksize\)\);)S 4945 X
797 y(/*)S -269 x 498 y(*)S 269 x(Set)S 269 x(or)S 269 x(obtain)S 269 x
(the)S 269 x(default)S 269 x(guard)S 269 x(size)S 5214 X 498 y(*/)S
-807 x 498 y(extern)S 269 x(void)S 4945 X 499 y(cma_attr_set_guardsize)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_attr)S 11401 X
(*attr,)S 7097 X 498 y(cma_t_natural)S 807 x(guardsize\)\);)S 4945 X
797 y(extern)S 269 x(void)S 4945 X 498 y(cma_attr_get_guardsize)S 269 x
(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_attr)S 11401 X(*attr,)S
7097 X 498 y(cma_t_natural)S 807 x(*guardsize\)\);)S 4945 X 797 y(/*)S
-269 x 498 y(*)S 269 x(Thread)S 269 x(Scheduling)S 269 x(Operations)S
5214 X 498 y(*/)S -807 x 798 y(/*)S -269 x 498 y(*)S 269 x(The)S 269 x
(current)S 269 x(user_assigned)S 269 x(priority)S 269 x(of)S 269 x(a)S
269 x(thread)S 269 x(can)S 268 x(be)S 269 x(changed.)S 5214 X 498 y
(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X 498 y(cma_thread_set_priority)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_thread)S 11401 X
(*thread,)S 7097 X 498 y(cma_t_priority)S 538 x(priority\)\);)S 4945 X
797 y(/*)S -269 x 498 y(*)S 269 x(The)S 269 x(current)S 269 x(user_assigned)S
269 x(scheduler)S 269 x(algorithm)S 269 x(of)S 268 x(a)S 269 x(thread)S
269 x(can)S 269 x(be)S 269 x(changed.)S 5214 X 499 y(*/)S -807 x 498 y
(extern)S 269 x(void)S 4945 X 498 y(cma_thread_set_sched)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_thread)S 13553 X(*thread,)S 7097 X 498 y
(cma_t_sched_policy)S 13553 X(policy,)S 7097 X 498 y(cma_t_priority)S
13553 X(priority\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S
269 x(thread)S 269 x(may)S 269 x(tell)S 269 x(the)S 269 x(scheduler)S
269 x(that)S 269 x(its)S 269 x(processor)S 268 x(can)S 269 x(be)S 269 x
(made)S 269 x(available.)S 5214 X 499 y(*/)S -807 x 498 y(extern)S 269 x
(void)S 4945 X 498 y(cma_yield)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\(void\)\);)S
4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S 269 x(thread)S 269 x(may)S
269 x(enter)S 269 x(a)S 269 x(wait)S 269 x(state)S 269 x(for)S 269 x
(a)S 269 x(speciifed)S 268 x(period)S 269 x(of)S 269 x(time.)S 5214 X
498 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X 498 y(cma_delay)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_interval)S 538 x
(interval\)\);)S 4945 X 797 y(/*)S -269 x 499 y(*)S 269 x(Thread)S 269 x
(Information)S 269 x(Operations)S 5214 X 498 y(*/)S -807 x 797 y(/*)S
-269 x 498 y(*)S 269 x(A)S 269 x(thread)S 269 x(may)S 269 x(obtain)S
269 x(a)S 269 x(copy)S 269 x(of)S 269 x(its)S 269 x(own)S 269 x(thread)S
269 x(handle.)S 5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x(void)S
4945 X 498 y(cma_thread_get_self)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S
7097 X 498 y(cma_t_thread)S 11401 X(*thread\)\);)S 15641 37373 XY F36
(Quick)S 166 x(Reference)S 166 x(Guide)S 167 x(to)S 166 x(CMA)S 165 x
(Operations)S 499 x(1)S -27 x(19)S
%%EndCustomColor: 0
122 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 120 123
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4945 3903 XY F98(/*)S -269 x 498 y(*)S 269 x(The)S 269 x(current)S 269 x
(user_assigned)S 269 x(priority)S 269 x(of)S 269 x(a)S 269 x(thread)S
269 x(can)S 268 x(be)S 269 x(read.)S 5214 X 498 y(*/)S -807 x 498 y
(extern)S 269 x(void)S 4945 X 498 y(cma_thread_get_priority)S 269 x
(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_thread)S 11401 X
(*thread,)S 7097 X 498 y(cma_t_priority)S 538 x(*priority\)\);)S 4945 X
797 y(/*)S -269 x 499 y(*)S 269 x(The)S 269 x(current)S 269 x(user_assigned)S
269 x(scheduler)S 269 x(algorithm)S 269 x(of)S 268 x(a)S 269 x(thread)S
269 x(can)S 269 x(be)S 269 x(read.)S 5214 X 498 y(*/)S -807 x 498 y
(extern)S 269 x(void)S 4945 X 498 y(cma_thread_get_sched)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_thread)S 13553 X(*thread,)S 7097 X 498 y
(cma_t_sched_policy)S 13553 X(*policy\)\);)S 4945 X 797 y(/*)S -269 x
498 y(*)S 269 x(Operations)S 269 x(on)S 269 x(Mutexes)S 5214 X 498 y
(*/)S -807 x 797 y(typedef)S 269 x(enum)S 269 x(CMA_T_MUTEX_KIND)S 269 x
({)S 6021 X 499 y(cma_c_fast)S 269 x(=)S 269 x(0,)S 6021 X 498 y(cma_c_friendly)S
269 x(=)S 269 x(1)S 6021 X 498 y(})S 13553 X(cma_t_mutex_kind;)S 4945 X
797 y(/*)S -269 x 498 y(*)S 269 x(Operations)S 269 x(to)S 269 x(define)S
269 x(mutex)S 269 x(creation)S 269 x(attributes)S 5214 X 498 y(*/)S
-807 x 797 y(/*)S -269 x 498 y(*)S 269 x(Set)S 269 x(or)S 269 x(obtain)S
269 x(whether)S 269 x(mutex)S 269 x(locks)S 269 x(can)S 269 x(nest.)S
5214 X 498 y(*/)S -807 x 499 y(extern)S 269 x(void)S 4945 X 498 y(cma_attr_set_mutex_kind)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_attr)S 13553 X
(*attr,)S 7097 X 498 y(cma_t_mutex_kind)S 13553 X(nest\)\);)S 4945 X
797 y(extern)S 269 x(void)S 4945 X 498 y(cma_attr_get_mutex_kind)S 269 x
(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_attr)S 13553 X(*attr,)S
7097 X 498 y(cma_t_mutex_kind)S 13553 X(*nest\)\);)S 4945 X 797 y(/*)S
-269 x 499 y(*)S 269 x(The)S 269 x(following)S 269 x(routines)S 269 x
(create,)S 269 x(delete,)S 269 x(lock)S 269 x(and)S 268 x(unlock)S 269 x
(mutexes.)S 5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X
498 y(cma_mutex_create)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X
498 y(cma_t_mutex)S 11401 X(*new_mutex,)S 7097 X 498 y(cma_t_attr)S
11401 X(*attr\)\);)S 4945 X 797 y(extern)S 269 x(void)S 4945 X 498 y
(cma_mutex_delete)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y
(cma_t_mutex)S 11401 X(*mutex\)\);)S 4945 X 797 y(extern)S 269 x(void)S
4945 X 499 y(cma_mutex_lock)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X
498 y(cma_t_mutex)S 11401 X(*mutex\)\);)S 4945 X 797 y(extern)S 269 x
(cma_t_boolean)S 4945 X 498 y(cma_mutex_try_lock)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_mutex)S 11401 X(*mutex\)\);)S 4945 X
797 y(extern)S 269 x(void)S 4945 X 498 y(cma_mutex_unlock)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_mutex)S 11401 X(*mutex\)\);)S 4945 X
797 y(extern)S 269 x(void)S 4945 X 498 y(cma_lock_global)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\(void\)\);)S 3899 37373 XY F36(120)S 498 x(Quick)S 166 x(Reference)S
166 x(Guide)S 167 x(to)S 166 x(CMA)S 165 x(Operations)S
%%EndCustomColor: 0
123 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 121 124
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3903 XY F98(extern)S 269 x(void)S 4945 X 498 y(cma_unlock_global)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\(void\)\);)S 4945 X 797 y(/*)S -269 x
498 y(*)S 269 x(Operations)S 269 x(on)S 269 x(condition)S 269 x(variables)S
5214 X 498 y(*/)S -807 x 797 y(typedef)S 269 x(cma_t_handle)S 11401 X
(cma_t_cond;)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S 269 x(thread)S
269 x(can)S 269 x(create)S 269 x(and)S 269 x(delete)S 269 x(condition)S
269 x(variables.)S 5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x(void)S
4945 X 499 y(cma_cond_create)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S
7097 X 498 y(cma_t_cond)S 11401 X(*new_condition,)S 7097 X 498 y(cma_t_attr)S
11401 X(*attr\)\);)S 4945 X 797 y(extern)S 269 x(void)S 4945 X 498 y
(cma_cond_delete)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y
(cma_t_cond)S 11401 X(*condition\)\);)S 4945 X 797 y(/*)S -269 x 498 y
(*)S 269 x(A)S 269 x(thread)S 269 x(can)S 269 x(signal)S 269 x(to)S
269 x(and)S 269 x(broadcast)S 269 x(on)S 269 x(a)S 269 x(condition)S
268 x(variable.)S 5214 X 498 y(*/)S -807 x 499 y(extern)S 269 x(void)S
4945 X 498 y(cma_cond_broadcast)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S
7097 X 498 y(cma_t_cond)S 11401 X(*condition\)\);)S 4945 X 797 y(extern)S
269 x(void)S 4945 X 498 y(cma_cond_signal)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_cond)S 11401 X(*condition\)\);)S 4945 X
797 y(extern)S 269 x(void)S 4945 X 498 y(cma_cond_signal_int)S 269 x
(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_cond)S 11401 X(*condition\)\);)S
4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S 269 x(thread)S 269 x(can)S
269 x(wait)S 269 x(for)S 269 x(a)S 269 x(condition)S 269 x(variable)S
269 x(to)S 269 x(be)S 268 x(signalled)S 269 x(or)S 269 x(broadcast.)S
5214 X 499 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X 498 y(cma_cond_wait)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_cond)S 11401 X
(*condition,)S 7097 X 498 y(cma_t_mutex)S 11401 X(*mutex\)\);)S 4945 X
797 y(/*)S -269 x 498 y(*)S 269 x(Operations)S 269 x(for)S 269 x(timed)S
269 x(waiting)S 5214 X 498 y(*/)S -807 x 797 y(/*)S -269 x 499 y(*)S
269 x(A)S 269 x(thread)S 269 x(can)S 269 x(perform)S 269 x(a)S 269 x
(timed)S 269 x(wait)S 269 x(on)S 269 x(a)S 269 x(condition)S 268 x(variable.)S
5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x(cma_t_status)S 4945 X
498 y(cma_cond_timed_wait)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X
498 y(cma_t_cond)S 11401 X(*condition,)S 7097 X 498 y(cma_t_mutex)S
11401 X(*mutex,)S 7097 X 498 y(cma_t_date_time)S 269 x(*expiration\)\);)S
4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S 269 x(thread)S 269 x(may)S
269 x(perform)S 269 x(some)S 269 x(operations)S 269 x(on)S 269 x(absolute)S
268 x(date-time)S 269 x(and)S 269 x(intervals.)S 5214 X 499 y(*/)S -807 x
797 y(extern)S 269 x(void)S 4945 X 498 y(cma_time_get_expiration)S 269 x
(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_date_time)S 269 x
(*expiration,)S 7097 X 498 y(cma_t_interval)S 538 x(interval\)\);)S
4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(Operations)S 269 x(for)S 269 x
(CMA)S 269 x(and)S 269 x(client)S 269 x(initialization.)S 5214 X 498 y
(*/)S 15614 37373 XY F36(Quick)S 166 x(Reference)S 165 x(Guide)S 167 x
(to)S 167 x(CMA)S 165 x(Operations)S 499 x(121)S
%%EndCustomColor: 0
124 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 122 125
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4945 3903 XY F98(/*)S -269 x 498 y(*)S 269 x(Initialize)S 269 x(the)S
269 x(CMA)S 269 x(facility.)S 5214 X 498 y(*/)S -807 x 498 y(extern)S
269 x(void)S 4945 X 498 y(cma_init)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\(void\)\);)S
4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S 269 x(thread)S 269 x(can)S
269 x(declare)S 269 x(a)S 269 x(one-time)S 269 x(initialization)S 269 x
(routine.)S 537 x(The)S 269 x(address)S 269 x(of)S 5214 X 498 y(*)S
269 x(the)S 269 x(init)S 269 x(block)S 269 x(and)S 269 x(routine)S 269 x
(are)S 269 x(passed)S 269 x(as)S 269 x(parameters.)S 5214 X 499 y(*/)S
-807 x 797 y(typedef)S 269 x(void)S 11401 X(\(*cma_t_init_routine\))S
269 x(_CMA_PROTOTYPE_)S 268 x(\(\(void\)\);)S 4945 X 797 y(extern)S
269 x(void)S 4945 X 498 y(cma_once)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S
7097 X 498 y(cma_t_once)S 13553 X(*init_block,)S 7097 X 498 y(cma_t_init_routine)S
13553 X(init_routine\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x
(Operations)S 269 x(for)S 269 x(per-thread)S 269 x(context)S 5214 X
498 y(*/)S -807 x 797 y(typedef)S 269 x(void)S 11401 X(\(*cma_t_destructor\))S
269 x(_CMA_PROTOTYPE_)S 268 x(\(\()S 7097 X 498 y(cma_t_address)S 807 x
(ctx_value\)\);)S 4945 X 797 y(/*)S -269 x 499 y(*)S 269 x(A)S 269 x
(unique)S 269 x(per-thread)S 269 x(context)S 269 x(key)S 269 x(can)S
269 x(be)S 269 x(obtained)S 268 x(for)S 269 x(the)S 269 x(process)S
5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X 498 y(cma_key_create)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_key)S 13553 X
(*key,)S 7097 X 498 y(cma_t_attr)S 13553 X(*attr,)S 7097 X 498 y(cma_t_destructor)S
13553 X(destructor\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S
269 x(thread)S 269 x(can)S 269 x(set)S 269 x(a)S 269 x(per-thread)S
269 x(context)S 269 x(value)S 269 x(identified)S 268 x(by)S 269 x(a)S
269 x(key.)S 5214 X 499 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X
498 y(cma_key_set_context)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X
498 y(cma_t_key)S 11401 X(key,)S 7097 X 498 y(cma_t_address)S 807 x
(context_value\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(A)S 269 x
(thread)S 269 x(can)S 269 x(retrieve)S 269 x(a)S 269 x(per-thread)S
269 x(context)S 269 x(value)S 268 x(identified)S 269 x(by)S 269 x(a)S
269 x(key.)S 5214 X 498 y(*/)S -807 x 499 y(extern)S 269 x(void)S 4945 X
498 y(cma_key_get_context)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X
498 y(cma_t_key)S 11401 X(key,)S 7097 X 498 y(cma_t_address)S 807 x
(*context_value\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(Operations)S
269 x(for)S 269 x(alerts.)S 5214 X 498 y(*/)S -807 x 797 y(/*)S -269 x
498 y(*)S 269 x(The)S 269 x(current)S 269 x(thread)S 269 x(can)S 269 x
(request)S 269 x(that)S 269 x(a)S 269 x(thread)S 269 x(terminate)S 268 x
(it's)S 269 x(execution.)S 5214 X 498 y(*/)S -807 x 797 y(extern)S 269 x
(void)S 4945 X 499 y(cma_thread_alert)S 269 x(_CMA_PROTOTYPE_)S 269 x
(\(\()S 7097 X 498 y(cma_t_thread)S 11401 X(*thread\)\);)S 4945 X 797 y
(/*)S -269 x 498 y(*)S 269 x(The)S 269 x(current)S 269 x(thread)S 269 x
(can)S 269 x(poll)S 269 x(for)S 269 x(alert)S 269 x(delivery.)S 5214 X
498 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X 498 y(cma_alert_test)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\(void\)\);)S 3899 37373 XY F36(122)S
498 x(Quick)S 166 x(Reference)S 166 x(Guide)S 167 x(to)S 166 x(CMA)S
165 x(Operations)S
%%EndCustomColor: 0
125 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 123 126
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 20162 2106 XY F40(Concert)S 150 x(Multithrea)S 2 x(d)S 149 x(Architecture)S
4945 3903 XY F98(/*)S -269 x 498 y(*)S 269 x(The)S 269 x(current)S 269 x
(thread)S 269 x(can)S 269 x(disable)S 269 x(asynchronous)S 269 x(alert)S
268 x(delivery,)S 269 x(restore)S 269 x(the)S 5214 X 498 y(*)S 269 x
(previous)S 269 x(state)S 269 x(of)S 269 x(asynchronous)S 269 x(alert)S
269 x(delivery,)S 269 x(or)S 268 x(enable)S 269 x(asynchronous)S 5214 X
498 y(*)S 269 x(alert)S 269 x(delivery.)S 5214 X 498 y(*/)S -807 x 498 y
(extern)S 269 x(void)S 4945 X 498 y(cma_alert_disable_asynch)S 269 x
(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 499 y(cma_t_alert_state)S 13553 X
(*prior\)\);)S 4945 X 797 y(extern)S 269 x(void)S 4945 X 498 y(cma_alert_restore_asynch)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_alert_state)S
13553 X(*prior\)\);)S 4945 X 797 y(extern)S 269 x(void)S 4945 X 498 y
(cma_alert_enable_asynch)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\(void\)\);)S
4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(The)S 269 x(current)S 269 x
(thread)S 269 x(can)S 269 x(defer)S 269 x(all)S 269 x(alert)S 269 x
(deliveries)S 268 x(and)S 538 x(restore)S 269 x(the)S 5214 X 498 y(*)S
269 x(previous)S 269 x(state)S 269 x(of)S 269 x(alert)S 269 x(deferral.)S
5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X 499 y(cma_alert_defer_all)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_alert_state)S
13553 X(*prior\)\);)S 4945 X 797 y(extern)S 269 x(void)S 4945 X 498 y
(cma_alert_restore_all)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X
498 y(cma_t_alert_state)S 13553 X(*prior\)\);)S 4945 X 797 y(/*)S -269 x
498 y(*)S 269 x(Operations)S 269 x(on)S 269 x(stacks)S 5214 X 498 y
(*/)S -807 x 797 y(typedef)S 269 x(cma_t_handle)S 11401 X(cma_t_stack_np;)S
4945 X 498 y(typedef)S 269 x(void)S 11401 X(\(*cma_t_call_routine\))S
269 x(\(\);)S 4945 X 797 y(/*)S -269 x 499 y(*)S 269 x(Allocate)S 269 x
(stack)S 269 x(space)S 5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x
(void)S 4945 X 498 y(cma_stack_allocate_np)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_integer)S 807 x(size,)S 7097 X 498 y
(cma_t_address)S 807 x(*new_size\)\);)S 4945 X 797 y(/*)S -269 x 498 y
(*)S 269 x(Assign)S 269 x(a)S 269 x(stack)S 269 x(to)S 269 x(a)S 269 x
(thread)S 5214 X 499 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X
498 y(cma_stack_assign_np)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X
498 y(cma_t_stack_np)S 538 x(*stack,)S 7097 X 498 y(cma_t_thread)S 11401 X
(*thread\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(Call)S 269 x
(a)S 269 x(routine)S 269 x(on)S 269 x(a)S 269 x(new)S 269 x(stack)S
5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x(void)S 4945 X 499 y(cma_stack_call_routine_np)S
269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S 7097 X 498 y(cma_t_stack_np)S 13553 X
(*stack,)S 7097 X 498 y(cma_t_call_routine)S 13553 X(routine,)S 7097 X
498 y(cma_t_address)S 13553 X(arg,)S 7097 X 498 y(cma_t_address)S 13553 X
(*result\)\);)S 4945 X 797 y(/*)S -269 x 498 y(*)S 269 x(Check)S 269 x
(stack)S 269 x(limit)S 5214 X 498 y(*/)S -807 x 499 y(extern)S 269 x
(cma_t_boolean)S 4945 X 498 y(cma_stack_check_limit_np)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\()S 7097 X 498 y(cma_t_integer)S 807 x(size\)\);)S 15614 37373 XY
F36(Quick)S 166 x(Reference)S 165 x(Guide)S 167 x(to)S 167 x(CMA)S 165 x
(Operations)S 499 x(123)S
%%EndCustomColor: 0
126 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 124 127
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 4048 2106 XY F40(Concert)S 151 x(Multithread)S 150 x(Architecture)S
4945 3903 XY F98(/*)S -269 x 498 y(*)S 269 x(Create)S 269 x(a)S 269 x
(new)S 269 x(stack)S 5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x(void)S
4945 X 498 y(cma_stack_create_np)S 269 x(_CMA_PROTOTYPE_)S 269 x(\(\()S
7097 X 498 y(cma_t_stack_np)S 538 x(*stack,)S 7097 X 498 y(cma_t_attr)S
11401 X(*attr\)\);)S 4945 X 797 y(/*)S -269 x 499 y(*)S 269 x(Delete)S
269 x(a)S 269 x(stack)S 5214 X 498 y(*/)S -807 x 498 y(extern)S 269 x
(void)S 4945 X 498 y(cma_stack_delete_np)S 269 x(_CMA_PROTOTYPE_)S 269 x
(\(\()S 7097 X 498 y(cma_t_stack_np)S 538 x(*stack\)\);)S 4945 X 797 y
(/*)S -269 x 498 y(*)S 269 x(Debug)S 269 x(threads)S 5214 X 498 y(*/)S
-807 x 498 y(extern)S 269 x(void)S 4945 X 499 y(cma_debug)S 269 x(_CMA_PROTOTYPE_)S
269 x(\(\(void\)\);)S 4945 X 797 y(#endif)S 3899 37373 XY F36(124)S
498 x(Quick)S 166 x(Reference)S 166 x(Guide)S 167 x(to)S 166 x(CMA)S
165 x(Operations)S
%%EndCustomColor: 0
127 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold Courier
%%PageCustomColors: 0
%
%%Page: 125 128
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 13211 6495 XY F24(APPENDIX)S 696 x(F)S 6740 7989 XY(IMPLEMENT)S
-52 x(A)S -52 x(TION-DEPEND)S -2 x(ENT)S 261 x(CHA)S -2 x(RACTERISTIC)S
-2 x(S)S 3899 9981 XY F147(This)S 125 x(app)S -2 x(endix)S 125 x(is)S
124 x(reserved)S 125 x(for)S 126 x(the)S 126 x(impl)S -2 x(ementation)S
125 x(to)S 125 x(document)S 125 x(its)S 125 x(implemen)S -2 x(tation-dependen)S
-2 x(t)S 3899 X 648 y(characteristics.)S 15696 37373 XY F36(Impl)S 2 x
(ementation-Dependen)S 2 x(t)S 165 x(Characteristics)S 499 x(125)S
%%EndCustomColor: 0
128 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%PageCustomColors: 0
%
% < Beginning of included file cma_index.DVI_PS >
%%Page: INDEX-1 129
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 3899 6843 XY F24(INDEX)S 3899 10086 XY(A)S -504 x 299 y 9864 24 R
3899 10933 XY F155(Alerts)S -672 x 548 y(alerting)S 150 x(a)S 150 x
(thread,)S 250 x(78)S 4497 X 548 y(deferring)S 150 x(delivery,)S 249 x
(81)S 4497 X 548 y(delivering)S 150 x(a)S 150 x(pending)S 150 x(alert,)S
249 x(79)S 4497 X 548 y(disabling)S 150 x(asynchronous)S 149 x(delivery,)S
249 x(79)S 4497 X 548 y(enabling)S 150 x(asynchronous)S 148 x(delivery,)S
250 x(80)S 4497 X 548 y(ending)S 149 x(delivery)S 150 x(deferra)S 2 x
(l,)S 249 x(81)S 4497 X 548 y(operations)S 150 x(on,)S 5543 X 548 y
F148(cma_alert_defer_all)S 2 x F155(,)S 248 x(81)S 5543 X 548 y F148
(cma_alert_disable_asynch)S F155(,)S 249 x(79)S 5543 X 548 y F148(cma_alert_enable_asynch)S
F155(,)S 248 x(80)S 5543 X 548 y F148(cma_alert_restore_all)S 2 x F155
(,)S 248 x(81)S 5543 X 548 y F148(cma_alert_restore_asynch)S F155(,)S
250 x(80)S 5543 X 548 y F148(cma_alert_test)S F155(,)S 249 x(79)S 5543 X
548 y F148(cma_thread_alert)S F155(,)S 248 x(78)S 4497 X 547 y(restoring)S
149 x(asynchronous)S 149 x(delivery,)S 249 x(80)S 3899 X 548 y(Attributes)S
4497 X 548 y(creating,)S 249 x(31)S 4497 X 548 y(deleting,)S 249 x(32)S
4497 X 548 y(operations)S 150 x(on,)S 5543 X 548 y F148(cma_attr_create)S
F155(,)S 248 x(31)S 5543 X 548 y F148(cma_attr_delete)S F155(,)S 249 x
(32)S 3899 X 548 y(Attributes)S 150 x(objects)S 4497 X 548 y(introduction)S
151 x(to,)S 249 x(5)S 3899 24609 XY F24(C)S -504 x 299 y 9864 24 R 3899 25456 XY
F155(CMA)S 149 x(Introduct)S 2 x(ion)S 4497 X 548 y(overview)S 149 x
(of,)S 249 x(1)S 3899 X 548 y(CMA)S 149 x(Library)S 150 x(Services,)S
249 x(17)S 4497 X 548 y(Atomic)S 149 x(Queue)S 150 x(Objects,)S 248 x
(20)S 5543 X 548 y(attribut)S 2 x(es,)S 248 x(21)S 5543 X 548 y(creating,)S
249 x(22)S 5543 X 548 y(deleting,)S 250 x(23)S 5543 X 548 y(dequeuing,)S
249 x(23)S 5543 X 548 y(enqueuing,)S 249 x(24)S 5543 X 547 y(operations)S
150 x(on,)S 6589 X 548 y F148(cma_lib_queue_create)S F155(,)S 249 x
(22)S 6589 X 548 y F148(cma_lib_queue_delete)S F155(,)S 250 x(23)S 6589 X
548 y F148(cma_lib_queue_dequeue)S F155(,)S 249 x(23)S 6589 X 548 y
F148(cma_lib_queue_enqueue)S F155(,)S 249 x(24)S 6589 X 548 y F148(cma_lib_queue_requeue)S
F155(,)S 249 x(24)S 6589 X 548 y F148(cma_lib_queue_try_dequeue)S F155
(,)S 7485 X 548 y(25)S 17348 9915 XY(CMA)S 149 x(Library)S 151 x(Services)S
17946 X 548 y(Atomic)S 150 x(Queue)S 149 x(Objects)S 18992 X 548 y(operat)S
2 x(ions)S 149 x(on,)S 149 x(\(Cont.\))S 20038 X 640 y F148(cma_lib_queue_try_enqueue)S
F155(,)S 20935 X 548 y(26)S 20038 X 548 y F148(cma_lib_queue_try_)S
20935 X 548 y(enqueue_int)S F155(,)S 249 x(27)S 20038 X 548 y F148(cma_lib_queue_try_requeue)S
F155(,)S 20935 X 548 y(26)S 18992 X 548 y(requeuing,)S 249 x(24)S 18992 X
548 y(try)S 150 x(dequeuing,)S 249 x(25)S 18992 X 548 y(try)S 150 x
(enqueuing,)S 249 x(26)S 18992 X 548 y(try)S 150 x(enqueuing)S 150 x
(at)S 150 x(interrupt)S 151 x(level,)S 249 x(27)S 18992 X 548 y(try)S
150 x(requeuing,)S 249 x(26)S 17946 X 548 y(Attribut)S 2 x(es)S 149 x
(Objects,)S 248 x(18)S 18992 X 547 y(creating,)S 250 x(18)S 18992 X
548 y(delet)S 2 x(ing,)S 248 x(19)S 18992 X 548 y(operat)S 2 x(ions)S
149 x(on,)S 20038 X 548 y F148(cma_lib_attr_create)S F155(,)S 250 x
(18)S 20038 X 548 y F148(cma_lib_attr_delete)S F155(,)S 250 x(19)S 20038 X
548 y F148(cma_lib_attr_get_queuesize)S F155(,)S 20935 X 548 y(22)S
20038 X 548 y F148(cma_lib_attr_set_queuesize)S F155(,)S 20935 X 548 y
(21)S 17348 X 548 y(CMA)S 149 x(Services)S 17946 X 548 y(concepts)S
150 x(of,)S 249 x(5)S 17946 X 548 y(goals)S 150 x(of,)S 249 x(2)S 17946 X
548 y(role)S 150 x(of)S 150 x(exceptions)S 150 x(in,)S 249 x(1)S -24 x
(1)S 17946 X 548 y(scheduling)S 150 x(policies,)S 249 x(8)S 17946 X
548 y(scheduling)S 150 x(prioritie)S 2 x(s,)S 248 x(9)S 17946 X 548 y
(synchronization)S 150 x(versus)S 148 x(scheduling,)S 249 x(8)S 17348 X
548 y(Conditio)S 2 x(n)S 149 x(V)S -42 x(ariabl)S 2 x(es)S 17946 X 548 y
(broadca)S 2 x(sting,)S 248 x(58)S 17946 X 547 y(creating,)S 250 x(57)S
17946 X 548 y(deleti)S 2 x(ng,)S 248 x(57)S 17946 X 548 y(introduct)S
2 x(ion)S 149 x(to,)S 250 x(6)S 17946 X 548 y(operat)S 2 x(ions)S 149 x
(on,)S 18992 X 548 y F148(cma_cond_broadcast)S F155(,)S 248 x(58)S 18992 X
548 y F148(cma_cond_create)S F155(,)S 249 x(57)S 18992 X 548 y F148
(cma_cond_delete)S F155(,)S 250 x(57)S 18992 X 548 y F148(cma_cond_signal)S
F155(,)S 249 x(59)S 18992 X 548 y F148(cma_cond_signal_int)S F155(,)S
250 x(60)S 18992 X 548 y F148(cma_cond_timed_wait)S F155(,)S 249 x(62)S
18992 X 548 y F148(cma_cond_wait)S F155(,)S 249 x(60)S 17946 X 548 y
(signaling,)S 249 x(59)S 18992 X 548 y(from)S 150 x(interrupt)S 151 x
(level,)S 249 x(60)S 25356 37373 XY F36(Ind)S 2 x(ex\2031)S
%%EndCustomColor: 0
129 PP EP
%%PageTrailer
%%PageFonts: Helvetica-Bold NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: INDEX-2 130
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 3899 3932 XY F155(Condition)S 150 x(V)S -41 x(ariables)S 150 x
(\(Cont.\))S 4497 X 605 y(timed_waiting)S 150 x(on,)S 249 x(62)S 4497 X
548 y(waiting)S 150 x(on,)S 248 x(60)S 3899 6158 XY F24(G)S -543 x 299 y
9864 24 R 3899 7005 XY F155(Global)S 150 x(Lock)S 4497 X 548 y(lock,)S
249 x(65)S 4497 X 548 y(unlock,)S 248 x(65)S 3899 9152 XY F24(H)S -504 x
299 y 9864 24 R 3899 9999 XY F155(Handles)S 4497 X 548 y(assigning,)S
248 x(30)S 4497 X 548 y(equality)S 150 x(for,)S 249 x(30)S 4497 X 548 y
(introduction)S 151 x(to,)S 249 x(7)S 4497 X 548 y(operations)S 150 x
(on,)S 5543 X 548 y F148(cma_handle_assign)S 149 x F155(procedure)S
2 x(,)S 248 x(30)S 5543 X 548 y F148(cma_handle_equal)S F155(,)S 248 x
(30)S 4497 X 548 y(prede\211ned)S 150 x(value)S 5543 X 548 y F148(cma_c_handle_size)S
F155(,)S 249 x(7)S 5543 X 548 y F148(cma_c_null)S F155(,)S 249 x(29)S
3899 15982 XY F24(I)S -194 x 299 y 9864 24 R 3899 16829 XY F155(Initial)S
2 x(ization)S 4497 X 548 y(client)S 150 x(one-time)S 150 x(initia)S
2 x(lization,)S 249 x(66)S 5543 X 548 y(call)S 150 x(initiali)S 2 x
(zation)S 150 x(routine,)S 249 x(67)S 5543 X 548 y F148(cma_begin_init)S
F155(,)S 249 x(67)S 5543 X 548 y F148(cma_once)S F155(,)S 249 x(67)S
5543 X 548 y(control)S 150 x(structure,)S 249 x(67)S 5543 X 548 y(example,)S
249 x(68)S 4497 X 548 y(initializing)S 150 x(the)S 150 x(CMA)S 149 x
(services,)S 248 x(66)S 5543 X 547 y F148(cma_init)S F155(,)S 249 x
(66)S 3899 22264 XY F24(L)S -426 x 299 y 9864 24 R 3899 23111 XY F155
(Library)S 4497 X 640 y(See)S 150 x(`)S -8 x(`CMA)S 150 x(Library)S
150 x(Services')S -7 x(')S 3899 24802 XY F24(M)S -581 x 299 y 9864 24 R
3899 25649 XY F155(Mutexes)S 4497 X 548 y(creating,)S 249 x(52)S 4497 X
548 y(deleting,)S 249 x(53)S 4497 X 548 y(introduction)S 151 x(to,)S
249 x(6)S 4497 X 548 y(locking,)S 248 x(53)S(,)S 150 x(55)S 4497 X 548 y
(operations)S 150 x(on,)S 5543 X 548 y F148(cma_mutex_create)S F155
(,)S 249 x(52)S 5543 X 547 y F148(cma_mutex_delete)S F155(,)S 249 x
(53)S 5543 X 548 y F148(cma_mutex_lock)S F155(,)S 249 x(53)S 5543 X
548 y F148(cma_mutex_try_lock)S F155(,)S 249 x(55)S 5543 X 548 y F148
(cma_mutex_unlock)S F155(,)S 248 x(55)S 4497 X 548 y(unlocking,)S 248 x
(55)S 17348 4623 XY F24(O)S -543 x 299 y 9864 24 R 17348 5470 XY F155
(Objects)S 17946 X 548 y(introduct)S 2 x(ion)S 149 x(to,)S 250 x(5)S
17348 X 548 y(Operati)S 2 x(ons)S 17946 X 548 y(introduct)S 2 x(ion)S
149 x(to,)S 250 x(5)S 17348 8165 XY F24(P)S -465 x 299 y 9864 24 R 17348 9012 XY
F155(Per)S -7 x(-Thread)S 150 x(Context)S 17946 X 548 y(de\211ning)S
150 x(keys,)S 248 x(69)S 17946 X 548 y(getting,)S 249 x(71)S 17946 X
548 y(operat)S 2 x(ions)S 149 x(on,)S 18992 X 548 y F148(cma_key_create)S
F155(,)S 249 x(69)S 18992 X 548 y F148(cma_key_get_context)S F155(,)S
249 x(71)S 18992 X 548 y F148(cma_key_set_context)S F155(,)S 249 x(70)S
17946 X 548 y(setting,)S 249 x(70)S 17348 13899 XY F24(T)S -426 x 299 y
9864 24 R 17348 14746 XY F155(Thread)S 151 x(Attributes)S 17946 X 548 y
(operat)S 2 x(ions)S 149 x(on,)S 18992 X 548 y F148(cma_attr_get_guardsize)S
F155(,)S 249 x(46)S 18992 X 548 y F148(cma_attr_get_inherit_sc)S 2 x
(hed)S F155(,)S 248 x(41)S 18992 X 548 y F148(cma_attr_get_priority)S
F155(,)S 250 x(42)S 18992 X 548 y F148(cma_attr_get_sched)S F155(,)S
249 x(43)S 18992 X 548 y F148(cma_attr_get_stacksize)S F155(,)S 249 x
(44)S 18992 X 548 y F148(cma_attr_set_guardsize)S F155(,)S 249 x(45)S
18992 X 548 y F148(cma_attr_set_inherit_sc)S 2 x(hed)S F155(,)S 248 x
(40)S 18992 X 548 y F148(cma_attr_set_priority)S F155(,)S 250 x(41)S
18992 X 548 y F148(cma_attr_set_sched)S F155(,)S 249 x(42)S 18992 X
547 y F148(cma_attr_set_stacksize)S F155(,)S 249 x(44)S 17348 X 548 y
(Threads)S 17946 X 548 y(attri)S 2 x(butes)S 157 x(for)S 158 x(creating,)S
259 x(40)S(,)S 160 x(41)S(,)S 159 x(42)S(,)S 160 x(43)S(,)S 159 x(44)S
(,)S 18843 X 548 y(45)S(,)S 149 x(46)S 17946 X 548 y(creating,)S 250 x
(34)S 17946 X 548 y(deleti)S 2 x(ng,)S 248 x(37)S 17946 X 548 y(exiting)S
150 x(with)S 150 x(error,)S 249 x(37)S 17946 X 548 y(exiting)S 150 x
(with)S 150 x(success,)S 247 x(38)S 17946 X 548 y(introduct)S 2 x(ion)S
149 x(to,)S 250 x(6)S 17946 X 548 y(operat)S 2 x(ions)S 149 x(on,)S
18992 X 548 y F148(cma_thread_create)S F155(,)S 249 x(34)S 18992 X 548 y
F148(cma_thread_detach)S F155(,)S 248 x(37)S 18992 X 548 y F148(cma_thread_exit_error)S
F155(,)S 250 x(37)S 18992 X 548 y F148(cma_thread_exit_normal)S F155
(,)S 249 x(38)S 18992 X 548 y F148(cma_thread_join)S F155(,)S 248 x
(38)S 17946 X 548 y(start)S 150 x(routine)S 151 x(for,)S 249 x(34)S
17946 X 548 y(waiting)S 150 x(for,)S 249 x(38)S 17348 X 548 y(Threads)S
150 x(-)S 150 x(information)S 151 x(operations)S 17946 X 548 y(getting)S
150 x(current)S 150 x(priorit)S 2 x(y,)S 248 x(50)S 17946 X 547 y(getting)S
150 x(current)S 150 x(thread)S 151 x(handle,)S 249 x(50)S 17946 X 548 y
(information)S 151 x(operatio)S 2 x(ns)S 18992 X 548 y F148(cma_thread_get_priority)S
F155(,)S 250 x(50)S 18992 X 548 y F148(cma_thread_get_self)S 2 x F155
(,)S 248 x(50)S 17348 X 548 y(Threads)S 150 x(-)S 150 x(scheduling)S
149 x(operat)S 2 x(ions)S 17946 X 548 y(delaying)S 150 x(current)S 150 x
(thread,)S 250 x(49)S 17946 X 548 y(getting)S 150 x(current)S 150 x
(policy,)S 250 x(51)S 17946 X 548 y(scheduling)S 150 x(operations)S
3899 37373 XY F36(Index\2032)S
%%EndCustomColor: 0
130 PP EP
%%PageTrailer
%%PageFonts: NewCenturySchlbk-Roman
%%+ Helvetica-Bold NewCenturySchlbk-Italic
%%PageCustomColors: 0
%
%%Page: INDEX-3 131
%%BeginPageSetup
%%EndPageSetup
%%PageFonts: (atend)
%%PageCustomColors: (atend)
1000 BP PaperHeight PaperWidth PM 0 0 XY 
%%BeginCustomColor: 0 
0 SC 3899 3932 XY F155(Threads)S 150 x(-)S 149 x(scheduling)S 150 x
(operatio)S 2 x(ns)S 4497 X 548 y(scheduling)S 149 x(operat)S 2 x(ions)S
149 x(\(Cont.\))S 5543 X 640 y F148(cma_delay)S F155(,)S 248 x(49)S
5543 X 548 y F148(cma_thread_get_sched)S F155(,)S 249 x(51)S 5543 X
548 y F148(cma_thread_set_priority)S F155(,)S 249 x(46)S 5543 X 548 y
F148(cma_thread_set_sched)S F155(,)S 249 x(47)S 5543 X 548 y F148(cma_yield)S
F155(,)S 249 x(48)S 4497 X 548 y(setting)S 149 x(current)S 150 x(policy,)S
250 x(47)S 4497 X 548 y(setting)S 149 x(current)S 150 x(priorit)S 2 x
(y,)S 248 x(46)S 4497 X 548 y(yielding)S 150 x(the)S 150 x(processor,)S
248 x(48)S 3899 X 548 y(T)S -11 x(ime)S -454 x 548 y(getting)S 150 x
(expiration)S 151 x(time,)S 249 x(63)S 4497 X 548 y(operations)S 150 x
(on,)S 249 x(63)S 5543 X 548 y F148(cma_time_get_expiration)S F155(,)S
250 x(63)S 25356 37373 XY F36(Ind)S 2 x(ex\2033)S
%%EndCustomColor: 0
131 PP EP
%%PageTrailer
%%PageFonts: NewCenturySchlbk-Roman
%%+ NewCenturySchlbk-Italic Helvetica-Bold
%%PageCustomColors: 0
%
% < End of included file cma_index.DVI_PS >
%%Trailer
EndDVC$PSDoc
/DEC$EDMS_MAKE_FILM where	% if we are making film...
 { pop				% ..clean up the stack
   -54 dup translate		% ..undo the film translation
 } if
%%Pages: 131
%%DocumentFonts: DigitalLogo DEC_Callout
%%+ NewCenturySchlbk-Roman NewCenturySchlbk-Bold
%%+ NewCenturySchlbk-BoldItalic NewCenturySchlbk-Italic
%%+ Courier Helvetica-Bold Helvetica Helvetica-BoldOblique
%%+ Helvetica-Oblique
%%DocumentCustomColors: 0

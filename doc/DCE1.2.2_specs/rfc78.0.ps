%!PS-Adobe-1.0
%%BoundingBox: 0.0 0.0 612.0 792.0
%%DocumentFonts: (atend)
%%Creator: walt@lobster with Eroff/eps release 3.1.4A
%%CreationDate: Wed Jan 10 19:44:07 1996
%%Pages: (atend)
%%EndComments
/DocState4836 save def
/pid 4836 def

0.2400 dup scale
/inch { 300.0000 mul } bind def
/pgtop 10.875 inch def
/stm usertime def
/ps { print flush } bind def
1.0 setlinewidth
/page { showpage restore save home } bind def
/home { newpath 0 pgtop moveto } bind def
/mf { statusdict /manualfeed true put } bind def
/af { statusdict /manualfeed false put } bind def
af
/xform { transform round exch round exch itransform } bind def
0 0 xform moveto
0 setlinecap
/y { neg 0 exch xform rmoveto } bind def
/X { currentpoint exch pop xform moveto } bind def
/Y { pgtop exch sub currentpoint pop exch xform moveto } bind def
/s { show } bind def
/S { exch currentpoint exch pop xform moveto show } bind def
/rgb { setrgbcolor } bind def
/fadecolor {
/_fadegray exch def
currentrgbcolor 1.0 exch sub _fadegray mul 1.0 exch sub 3 1 roll
1.0 exch sub _fadegray mul 1.0 exch sub 3 1 roll
1.0 exch sub _fadegray mul 1.0 exch sub 3 1 roll setrgbcolor
} bind def
/l { neg rlineto currentpoint stroke moveto } bind def
/elanpatternstep 16 def
/elanfillpat1 {
gsave
flattenpath pathbbox
/_ury exch def
/_urx exch def
/_lly exch def
/_llx exch def
/_height _ury _lly sub def
/_width _urx _llx sub def
clip newpath
_lly elanpatternstep _ury {
	_llx exch moveto _width 0 rlineto stroke
} for
grestore
} bind def
/elanfillpat2 {
gsave
flattenpath pathbbox
/_ury exch def
/_urx exch def
/_lly exch def
/_llx exch def
/_height _ury _lly sub def
/_width _urx _llx sub def
clip newpath
_llx elanpatternstep _urx {
	_lly moveto 0 _height rlineto stroke
} for
grestore
} bind def
/elanfillpat3 {
gsave
flattenpath pathbbox
/_ury exch def
/_urx exch def
/_lly exch def
/_llx exch def
/_height _ury _lly sub def
/_width _urx _llx sub def
clip newpath
_lly _width sub elanpatternstep _ury {
	_llx exch moveto _width _width rlineto stroke
} for
grestore
} bind def
/elanfillpat4 {
gsave
flattenpath pathbbox
/_ury exch def
/_urx exch def
/_lly exch def
/_llx exch def
/_height _ury _lly sub def
/_width _urx _llx sub def
clip newpath
_lly elanpatternstep _ury _width add {
	_llx exch moveto _width _width neg rlineto stroke
} for
grestore
} bind def
/elanfillpat5 { elanfillpat1 elanfillpat2 } bind def
/elanfillpat6 { elanfillpat3 elanfillpat4 } bind def
/elanfillpatterns 7 array def
elanfillpatterns 1 /elanfillpat1 put
elanfillpatterns 2 /elanfillpat2 put
elanfillpatterns 3 /elanfillpat3 put
elanfillpatterns 4 /elanfillpat4 put
elanfillpatterns 5 /elanfillpat5 put
elanfillpatterns 6 /elanfillpat6 put
/elanfillwith {
gsave 1 setgray fill grestore
gsave 0 setlinewidth elanfillpatterns exch get load exec grestore
} bind def
/boxpath { /_bpdy exch def /_bpdx exch def
currentpoint /_bpcury exch def /_bpcurx exch def
newpath _bpcurx _bpcury moveto 0 _bpdy rlineto _bpdx 0 rlineto
0 _bpdy neg rlineto closepath } bind def
/boxpathC { /_bprad exch def /_bpdy exch def /_bpdx exch def
currentpoint /_bpcury exch def /_bpcurx exch def newpath
_bpcurx _bpcury moveto _bprad 0 rmoveto
_bpcurx _bprad add _bpcury _bprad sub _bprad 90 180 arc
_bpcurx _bprad add _bpcury _bpdy add _bprad add _bprad 180 270 arc
_bpcurx _bpdx add _bprad sub _bpcury _bpdy add _bprad add
_bprad 270 0 arc
_bpcurx _bpdx add _bprad sub _bpcury _bprad sub _bprad 0 90 arc
closepath } bind def
/bnf { /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
dx dy boxpath
stroke curx dx add cury moveto } bind def
/bnfC { /_rad exch def /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
dx dy _rad boxpathC
stroke curx dx add cury moveto } bind def
/b { /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
dx dy boxpath
gsave fadecolor fill grestore
gsave stroke grestore
newpath curx dx add cury moveto } bind def
/bC { /_rad exch def /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
dx dy _rad boxpathC
gsave fadecolor fill grestore
gsave stroke grestore
newpath curx dx add cury moveto } bind def
/B { /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
gsave dx dy boxpath
fadecolor fill grestore curx dx add cury moveto } bind def
/BC { /_rad exch def /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
gsave dx dy _rad boxpathC
fadecolor fill grestore curx dx add cury moveto } bind def
/bP { /patno exch def /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
dx dy boxpath
patno elanfillwith
stroke
curx dx add cury moveto } bind def
/bPC { /_rad exch def /patno exch def /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
dx dy _rad boxpathC
patno elanfillwith
stroke
curx dx add cury moveto } bind def
/BP { /patno exch def /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
dx dy boxpath
patno elanfillwith
newpath
curx dx add cury moveto } bind def
/BPC { /_rad exch def /patno exch def /dy exch def /dx exch def
currentpoint /cury exch def /curx exch def
dx dy _rad boxpathC
patno elanfillwith
newpath
curx dx add cury moveto } bind def
/polystart { currentpoint newpath moveto } bind def
/polynext { rlineto } bind def
/polyclose { closepath } bind def
/polyfill { gsave closepath fadecolor fill grestore
currentpoint stroke moveto } bind def
/polyfillP { gsave closepath elanfillwith grestore
currentpoint stroke moveto } bind def
/polyfillnb { gsave closepath fadecolor fill grestore
currentpoint newpath moveto } bind def
/polyfillnbP { currentpoint closepath 3 -1 roll
elanfillwith newpath moveto } bind def
/polydraw { currentpoint stroke moveto } bind def
/c {
2 div /rad exch def currentpoint /y0 exch def /x0 exch def
newpath x0 rad add y0 xform rad 0 360 arc closepath stroke
x0 rad add rad add y0 xform moveto
 } bind def
/cf {
2 div /rad exch def currentpoint /y0 exch def /x0 exch def
newpath x0 rad add y0 xform rad 0 360 arc closepath
gsave fadecolor fill grestore stroke
x0 rad add rad add y0 xform moveto
 } bind def
/cP {
2 div /rad exch def currentpoint /y0 exch def /x0 exch def
newpath x0 rad add y0 xform rad 0 360 arc closepath
elanfillwith stroke
x0 rad add rad add y0 xform moveto
 } bind def
/Cf {
2 div /rad exch def currentpoint /y0 exch def /x0 exch def
gsave newpath x0 rad add y0 xform rad 0 360 arc closepath
fadecolor fill grestore
x0 rad add rad add y0 xform moveto
 } bind def
/CP {
2 div /rad exch def currentpoint /y0 exch def /x0 exch def
newpath x0 rad add y0 xform rad 0 360 arc closepath
elanfillwith newpath
x0 rad add rad add y0 xform moveto
 } bind def
/a {
/y2 exch neg def /x2 exch def /y1 exch neg def /x1 exch def
x1 y1 xform rmoveto currentpoint
currentpoint
x2 x2 mul y2 y2 mul add sqrt
y1 neg x1 neg atan
y2 x2 atan
newpath arc stroke moveto x2 y2 rmoveto
} bind def
/e {
currentlinewidth /elw exch def
gsave
2 div /yrad exch def 2 div /xrad exch def
currentpoint /y0 exch def /x0 exch def
x0 xrad add y0 translate
xrad yrad scale
newpath 0 0 xform 1 0 360 arc closepath
elw xrad div setlinewidth
stroke
grestore
elw setlinewidth
x0 xrad add xrad add y0 xform moveto
} bind def
/ef {
currentlinewidth /elw exch def
gsave
2 div /yrad exch def 2 div /xrad exch def
currentpoint /y0 exch def /x0 exch def
x0 xrad add y0 translate
xrad yrad scale
newpath 0 0 xform 1 0 360 arc closepath
elw xrad div setlinewidth
gsave fadecolor fill grestore stroke
grestore
elw setlinewidth
x0 xrad add xrad add y0 xform moveto
} bind def
/eP {
currentlinewidth /elw exch def
gsave
2 div /yrad exch def 2 div /xrad exch def
currentpoint /y0 exch def /x0 exch def
x0 xrad add y0 translate
xrad yrad scale
newpath 0 0 xform 1 0 360 arc closepath
elw xrad div setlinewidth
1 xrad div 1 yrad div scale elanfillwith stroke
grestore
elw setlinewidth
x0 xrad add xrad add y0 xform moveto
} bind def
/Ef {
currentlinewidth /elw exch def
gsave
2 div /yrad exch def 2 div /xrad exch def
currentpoint /y0 exch def /x0 exch def
x0 xrad add y0 translate
xrad yrad scale
newpath 0 0 xform 1 0 360 arc closepath
elw xrad div setlinewidth
fadecolor fill
grestore
elw setlinewidth
x0 xrad add xrad add y0 xform moveto
} bind def
/EP {
currentlinewidth /elw exch def
gsave
2 div /yrad exch def 2 div /xrad exch def
currentpoint /y0 exch def /x0 exch def
x0 xrad add y0 translate
xrad yrad scale
newpath 0 0 xform 1 0 360 arc closepath
elw xrad div setlinewidth
1 xrad div 1 yrad div scale elanfillwith newpath
grestore
elw setlinewidth
x0 xrad add xrad add y0 xform moveto
} bind def
/spln {
rcurveto currentpoint stroke moveto
} bind def
/ft { /fonttype exch def /xsiz exch def /ysiz exch def /sl exch def
 fonttype [ xsiz pt 0 sl sin sl cos div ysiz pt mul ysiz pt 0 0 ]
 makefont setfont } bind def
/doImage {{currentfile rasterString
readhexstring pop} imagemask} bind def
/pt { 4.166667 mul } bind def

0.375 0.000000 add inch 0.25 inch translate
/savematrix matrix currentmatrix def
/roman-8-dict 20 dict def	% Local storage
/roman-8-mappings [
8#260 /Adieresis 8#265 /Aring 8#276 /Aacute 8#300 /Agrave
8#311 /Acircumflex 8#314 /Atilde 8#321 /Ccedilla 8#322 /Edieresis
8#323 /Eacute 8#324 /Egrave 8#325 /Ecircumflex 8#326 /Idieresis
8#327 /Iacute 8#330 /Igrave 8#331 /Icircumflex 8#332 /Ntilde
8#333 /Odieresis 8#334 /Oacute 8#335 /Ograve 8#336 /Ocircumflex
8#337 /Otilde 8#340 /Scaron 8#342 /Udieresis 8#344 /Uacute
8#345 /Ugrave 8#346 /Ydieresis 8#347 /adieresis 8#354 /aring
8#355 /aacute 8#356 /agrave 8#357 /acircumflex 8#360 /atilde
8#362 /ccedilla 8#363 /edieresis 8#364 /eacute 8#366 /egrave
8#367 /ecircumflex 8#374 /idieresis 8#375 /iacute 8#376 /igrave
8#220 /icircumflex 8#221 /ntilde 8#222 /odieresis 8#223 /oacute
8#224 /ograve 8#225 /ocircumflex 8#226 /otilde 8#227 /scaron
8#230 /udieresis 8#231 /uacute 8#232 /ugrave 8#233 /ucircumflex
8#234 /ydieresis 8#235 /Ucircumflex
] def
/AddRoman-8 {
	roman-8-dict begin
		/roman-8-mappings exch def
		/newName exch def
		/oldName exch def
		/oldDict oldName findfont def
		/newDict oldDict maxlength dict def
		oldDict {
			exch dup /FID ne
			{
				dup /Encoding eq
				{
					exch dup length array copy
					newDict 3 1 roll put
				}
				{
					exch newDict 3 1 roll put
				} ifelse
			}
			{
				pop pop
			} ifelse
		} forall
		newDict /FontName newName put
		0 2 roman-8-mappings length 1 sub {
			dup
			roman-8-mappings exch get
			exch 1 add roman-8-mappings exch get
			newDict /Encoding get 3 1 roll put
		} for
		newName newDict definefont pop
	end
} bind def
/BracketFontDict 9 dict def /$workingdict 10 dict def
BracketFontDict begin
/FontType 3 def
/FontName (Bracket) cvn def
/FontMatrix [ 0.001 0 0 0.001 0 0] def
/FontBBox [ -50 -250 1000 1000 ] def
/Encoding 256 array def 0 1 255 { Encoding exch /.notdef put } for
Encoding
dup 65 /Cbv put
dup 66 /Clt put
dup 67 /Clk put
dup 68 /Clb put
dup 69 /Crt put
dup 70 /Crk put
dup 71 /Crb put
dup 72 /Clc put
dup 73 /Clf put
dup 74 /Crc put
dup 75 /Crf put
dup 76 /Cbr put
dup 77 /Crn put
dup 78 /Cci put
dup 79 /C|| put
dup 80 /C^^ put
dup 81 /Cr1 put
dup 82 /Cr2 put
pop
/CharProcs 24 dict dup begin
/setC { 0 -50 -250 500 1000 setcachedevice} bind def
/C.bv {220 -250 moveto 0 1000 rlineto
60 0 rlineto 0 -1000 rlineto fill } bind def
/C.cbar { 750 moveto 180 0 rlineto 0 -60 rlineto -180 0 rlineto fill } bind def
/C.fbar { -250 moveto 180 0 rlineto 0 60 rlineto -180 0 rlineto fill } bind def
/C.brk.end { 1 setlinewidth moveto rlineto rcurveto
reversepath 60 0 rlineto rlineto rcurveto fill } bind def
/C.setl {dup dtransform exch round exch idtransform pop setlinewidth } bind def
/Cbv {
208 setC
C.bv
} bind def
/Clt {
208 setC
 0 150 50 210 140 250
 0 730
 0 150 50 250 200 250
 0 750
 220 -250
 C.brk.end

} bind def
/Clk {
208 setC
 1 setlinewidth
 220 -250 moveto
 0 400 rlineto
 0 50 -50 100 -100 100 rcurveto
 50 0 100 50 100 100 rcurveto
 0 400 rlineto
 60 0 rlineto
 0 -400 rlineto
 0 -50 -50 -100 -100 -100 rcurveto
 50 0 100 -50 100 -100 rcurveto
 0 -400 rlineto
 closepath fill

} bind def
/Clb {
208 setC
 0 -150 50 -210 140 -250
 0 -730
 0 -150 50 -250 200 -250
 0 -750
 220 750
 C.brk.end

} bind def
/Crt {
208 setC
 0 150 -50 250 -200 250
 0 750
 0 150 -50 210 -140 250
 0 730
 220 -250
 C.brk.end

} bind def
/Crk {
208 setC
 1 setlinewidth
 220 -250 moveto
 0 400 rlineto
 0 50 50 100 100 100 rcurveto
 -50 0 -100 50 -100 100 rcurveto
 0 400 rlineto
 60 0 rlineto
 0 -400 rlineto
 0 -50 50 -100 100 -100 rcurveto
 -50 0 -100 -50 -100 -100 rcurveto
 0 -400 rlineto
 fill

} bind def
/Crb {
208 setC
 0 -150 -50 -250 -200 -250
 0 -750
 0 -150 -50 -210 -140 -250
 0 -730
 220 750
 C.brk.end

} bind def
/Clc {
208 setC
 C.bv
 280
 C.cbar

} bind def
/Clf {
208 setC
 C.bv 280 C.fbar

} bind def
/Crc {
208 setC
 C.bv 40 C.cbar

} bind def
/Crf {
208 setC
 C.bv 40 C.fbar

} bind def
/Cbr {
0 0 -50 -250 0 1000 setcachedevice
 40 C.setl
 0 -250 moveto
 0 1000 rlineto
 stroke

} bind def
/Crn {
208 setC
 40 C.setl
 0 770 moveto
 500 0 rlineto
 stroke

} bind def
/Cci {
937 0 -50 -250 937 1000 setcachedevice
 40 C.setl
 500 250
 400
 0 360 arc
 stroke

} bind def
/C|| {
70 0 -50 -250 70 1000 setcachedevice


} bind def
/C^^ {
33 0 -50 -250 33 1000 setcachedevice


} bind def
/Cr1 {
333 0 -50 -250 333 1000 setcachedevice
 40 C.setl
 0 setlinejoin
 700 180 moveto -650 currentlinewidth add 0 rlineto 200 -200 rlineto
 50 360 moveto 650 currentlinewidth sub 0 rlineto -200 200 rlineto
 stroke

} bind def
/Cr2 {
333 0 -50 -250 333 1000 setcachedevice
 40 C.setl
 2 setlinejoin
 217 18 moveto

 -150 150 rlineto 150 150 rlineto -150 -150 rlineto
 633 0 rlineto
 50 360 moveto
 633 0 rlineto
 -150 150 rlineto 150 -150 rlineto -150 -150 rlineto
 stroke

} bind def
end def
/BuildChar
{
	$workingdict begin
	/charcode exch def
	/fontdict exch def
	fontdict /CharProcs get begin
	fontdict /Encoding get
	charcode get load
	gsave
	0 setlinecap 0 setgray newpath
	exec
	grestore
	end end
} bind def end
/BracketFont BracketFontDict definefont pop

1.0000 setlinewidth
[] 0 setdash

%%EndProlog
%%Page: label 1
%%PageFonts: (atend)

/PageState4836 save def
home

0 Y
225 X
400 Y
0.000000 setgray
%%IncludeFont: Helvetica-Bold

/Helvetica-Bold /Helvetica-Bold-8 roman-8-mappings AddRoman-8
/f.HB /Helvetica-Bold-8 findfont def

0.0 10 10 f.HB ft(O)s
257(p)S
282(e)S
305(n)S
330( )S
342(S)S
370(o)S
395(f)S
409(t)S
423(w)S
455(a)S
478(r)S
494(e)S
517( )S
529(F)S
553(o)S
578(u)S
603(n)S
628(d)S
653(a)S
676(t)S
690(i)S
702(o)S
727(n)S
1723 X(T)s
1745(.)S
1757( )S
1769(A)S
1799(n)S
1824(d)S
1849(e)S
1872(r)S
1888(s)S
1911(o)S
1936(n)S
1961( )S
1973(\()S
1987(T)S
2009(r)S
2025(a)S
2048(n)S
2073(s)S
2096(a)S
2119(r)S
2135(c)S
2158(\))S
225 X
450 Y(R)s
255(e)S
278(q)S
303(u)S
328(e)S
351(s)S
374(t)S
388( )S
400(F)S
424(o)S
449(r)S
465( )S
477(C)S
507(o)S
532(m)S
569(m)S
606(e)S
629(n)S
654(t)S
668(s)S
691(:)S
705( )S
717(7)S
740(8)S
763(.)S
775(0)S
225 X
500 Y(J)s
248(a)S
271(n)S
296(u)S
321(a)S
344(r)S
360(y)S
383( )S
395(1)S
418(9)S
441(9)S
464(6)S
225 X
708 Y
745 X
0.0 12 12 f.HB ft(EPISODE)s
983(VNODE)S
1175(S)S
1209(Y)S
1243(N)S
1279(C)S
1315(H)S
1351(R)S
1387(O)S
1425(N)S
1461(I)S
1475(Z)S
1505(A)S
1537(T)S
1567(I)S
1581(O)S
1619(N)S
225 X
816 Y
0.0 10 10 f.HB ft(1)s
248(.)S
260( )S
272(I)S
284(N)S
314(T)S
339(R)S
369(O)S
401(D)S
431(U)S
461(C)S
491(T)S
516(I)S
528(O)S
560(N)S
225 X
891 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft(This)s
316(document)S
499(describes)S
673(a)S
709(r)S
723(e)S
742(o)S
763(r)S
777(g)S
798(a)S
817(n)S
838(i)S
850(z)S
869(a)S
888(t)S
900(i)S
912(o)S
933(n)S
971(of)S
1023(the)S
1092(vnode)S
1212(s)S
1228(y)S
1249(n)S
1270(c)S
1289(h)S
1310(r)S
1324(o)S
1345(n)S
1366(i)S
1378(z)S
1397(a)S
1416(t)S
1428(i)S
1440(o)S
1461(n)S
1499(code)S
1596(used)S
1691(by)S
1751(Episode)S
1904(planned)S
2056(for)S
2123(the)S
225 X
941 Y(O)s
255(S)S
278(F)S
300(/)S
312(D)S
342(C)S
370(E)S
409(1.2)S
475(release.)S
627(It)S
667(was)S
746(developed)S
934(for)S
997(T)S
1019(r)S
1033(a)S
1052(n)S
1073(s)S
1089(a)S
1108(r)S
1122(c)S
1139(')S
1152(s)S
1182(September)S
1376(1994)S
1474(DCE/DFS)S
1659(1.0.3)S
1756(release)S
925 Y
0.0 7 7 f.R ft
1874(1)S
941 Y
0.0 10 10 f.R ft
1903(on)S
1959(Solaris.)S
2110(The)S
225 X
991 Y(changes)s
374(made)S
478(for)S
540(the)S
605(September)S
799(1995)S
897(DCE/DFS)S
1082(1.1)S
1148(release)S
975 Y
0.0 7 7 f.R ft
1266(2)S
991 Y
0.0 10 10 f.R ft
1295(were)S
1391(insigni)S
1506 X(\256)s
1529(cant.)S
1634(This)S
1722(code)S
1816(is)S
1858(also)S
1940(present)S
2076(in)S
2123(the)S
225 X
1041 Y(IBM)s
314(DFS)S
400(P)S
422(r)S
436(o)S
457(d)S
478(u)S
499(c)S
518(t)S
540(for)S
599(DCE)S
692(V1.1)S
784(and)S
855(V)S
885(1)S
906(.)S
916(0)S
937(.)S
947(3)S
968(.)S
225 X
1116 Y(As)s
286(used)S
378(in)S
426(this)S
502(document,)S
%%IncludeFont: Times-Bold

/Times-Bold /Times-Bold-8 roman-8-mappings AddRoman-8
/f.B /Times-Bold-8 findfont def

0.0 10 10 f.B ft
693(vnode)S
815(s)S
831(y)S
852(n)S
875(c)S
894(h)S
917(r)S
936(o)S
957(n)S
980(i)S
992(z)S
1011(a)S
1032(t)S
1046(i)S
1058(o)S
1079(n)S
0.0 10 10 f.R ft
1117(refers)S
1228(to)S
1276(maintaining)S
1493(the)S
1560(consistency)S
1773(of)S
1824(vnodes)S
1959(and)S
2036(the)S
2104(data)S
225 X
1166 Y(structures)s
405(that)S
485(surround)S
650(them.)S
770(It)S
812(mostly)S
942(excludes)S
1106(measures)S
1278(intended)S
1440(to)S
1489(protect)S
1622(the)S
1689 X(\256)s
1712(les)S
1774(and)S
1850(directories)S
2044(that)S
2123(the)S
225 X
1216 Y(vnodes)s
354(represent.)S
539(F)S
561(o)S
582(r)S
606(instance,)S
765(the)S
827(traditional)S
1012(vnode)S
1125(lock)S
1209(\()S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
1223(vd_tlock)S
0.0 10 10 f.R ft
1423(\))S
1448(protects)S
1593(the)S
1656(directory)S
1820(contents)S
1972(and)S
2044 X(\256)s
2067(le)S
2109(link)S
225 X
1266 Y(counts)s
347(and)S
420(similar)S
548(concepts.)S
727(This)S
812(document)S
989(makes)S
1107(only)S
1193(passing)S
1330(reference)S
1499(to)S
1543(this)S
1615(lock.)S
1719(Similarly,)S
1897(the)S
1960(m)S
1992(a)S
2011(n)S
2032(a)S
2051(g)S
2072(e)S
2091(m)S
2123(e)S
2142(n)S
2163(t)S
225 X
1316 Y(of)s
270(virtual)S
391(memory)S
540(associated)S
724(with)S
809(vnodes)S
938(is)S
976(the)S
1038(province)S
1196(of)S
1241(another)S
1378(document.)S
1300 Y
0.0 7 7 f.R ft
1554(3)S
225 X
1391 Y
0.0 10 10 f.R ft(The)s
300(core)S
383(of)S
429(the)S
492(idea)S
574(was)S
650(to)S
694(replace)S
828(the)S
891(existing)S
0.0 10 10 f.B ft
1036(B&CV)S
0.0 10 10 f.R ft
1170(\(``bits)S
1284(and)S
1356(condition)S
1527(v)S
1548(a)S
1567(r)S
1581(i)S
1593(a)S
1612(b)S
1633(l)S
1645(e)S
1661(')S
1675(')S
1689(\))S
1714(model)S
1830(with)S
1916(locks)S
2016(held)S
2100(over)S
225 X
1441 Y(the)s
288(appropriate)S
492(interval.)S
653(The)S
729(use)S
796(of)S
842(locks)S
942(is)S
981(not)S
1045(universally)S
1243(preferred,)S
1418(however.)S
1593(In)S
1638(cases)S
1737(where)S
1850(it)S
1884(is)S
1922(common)S
2078(not)S
2142(to)S
225 X
1491 Y(block)s
330(on)S
383(a)S
414(resource)S
569(but)S
635(to)S
680(take)S
763(some)S
863(other)S
962(action)S
1078(or)S
1125(where)S
1240(the)S
1304(holder)S
1424(of)S
1471(the)S
1535(resource)S
1690(is)S
1730(not)S
1796(the)S
1860(same)S
1958(as)S
2005(the)S
2069(t)S
2081(h)S
2102(r)S
2116(e)S
2135(a)S
2154(d)S
225 X
1541 Y(that)s
302(releases)S
449(it,)S
496(a)S
528(B&CV)S
659(mechanism)S
863(is)S
904(probably)S
1067(clearer.)S
1216(F)S
1238(o)S
1259(r)S
1286(instance,)S
1448(waiting)S
1588(for)S
1650(an)S
1704(open)S
1800(volume)S
1525 Y
0.0 7 7 f.R ft
1926(4)S
1541 Y
0.0 10 10 f.R ft
1955(is)S
1997(not)S
2065(imple)S
2161 X(-)s
225 X
1591 Y(mented)s
359(by)S
411(seeking)S
550(a)S
579(lock)S
662(for)S
721(the)S
783(d)S
804(u)S
825(r)S
839(a)S
858(t)S
870(i)S
882(o)S
903(n)S
924(.)S
225 X
1666 Y(A)s
268(related)S
397(issue)S
495(is)S
537(that)S
615(the)S
681(old)S
749(vnode)S
866(s)S
882(y)S
903(n)S
924(c)S
943(h)S
964(r)S
978(o)S
999(n)S
1020(i)S
1032(z)S
1051(a)S
1070(t)S
1082(i)S
1094(o)S
1115(n)S
1150(model)S
1269(used)S
1360(the)S
1426(vnode)S
1543(lock)S
1630(for)S
1693(essentially)S
1886(everything.)S
2101(This)S
225 X
1716 Y(gross)s
326(overloading)S
541(of)S
589(a)S
621(single)S
735(lock)S
821(imposes)S
971(a)S
1003(good)S
1100(deal)S
1184(of)S
1232(complexity)S
1434(and)S
1507(confusion)S
1685(that)S
1761(can)S
1832(be)S
1884(avoided)S
2030(by)S
2084(using)S
225 X
1766 Y(several)s
355(locks)S
454(each)S
542(protecting)S
724(a)S
753(well-de)S
880 X(\256)s
903(ned)S
974(set)S
1031(of)S
1076 X(\256)s
1099(elds)S
1177(or)S
1222(o)S
1243(p)S
1264(e)S
1283(r)S
1297(a)S
1316(t)S
1328(i)S
1340(o)S
1361(n)S
1382(s)S
1398(.)S
225 X
1841 Y(I)s
251(wanted)S
385(to)S
430(avoid)S
536(assuming)S
706(that)S
782(volume)S
920(operations)S
1108(are)S
1172(generally)S
1342(single)S
1455(threaded)S
1613(and)S
1686(to)S
1731(avoid,)S
1847(to)S
1893(the)S
1958(extent)S
2075(possi)S
2161 X(-)s
225 X
1891 Y(ble,)s
303(depending)S
494(on)S
0.0 10 10 f.CW ft
566(vol_open\(\))S
0.0 10 10 f.R ft
831(to)S
879(stop)S
964(vnode)S
1082(operations.)S
1293(These)S
1408(assumptions)S
1630(are)S
1697(complicated,)S
1929(non-local,)S
2114(and)S
225 X
1941 Y(violate)s
358(the)S
427(modular)S
585(hierarchy.)S
783(If)S
829(Episode)S
982(\(or)S
1049(at)S
1098(least)S
1194(the)S
1264(vnode)S
1385(s)S
1401(y)S
1422(n)S
1443(c)S
1462(h)S
1483(r)S
1497(o)S
1518(n)S
1539(i)S
1551(z)S
1570(a)S
1589(t)S
1601(i)S
1613(o)S
1634(n)S
1655(\))S
1687(can)S
1764(be)S
1822(made)S
1931(s)S
1947(e)S
1966(l)S
1978(f)S
1992(-)S
2006(c)S
2025(o)S
2046(n)S
2067(s)S
2083(i)S
2095(s)S
2111(t)S
2123(e)S
2142(n)S
2163(t)S
225 X
1991 Y(without)s
364(worrying)S
528(about)S
632(the)S
694(workings)S
860(of)S
0.0 10 10 f.CW ft
920(S)S
945(t)S
970(a)S
995(r)S
1020(t)S
1045(V)S
1070(n)S
1095(o)S
1120(d)S
1145(e)S
1170(O)S
1195(p)S
1220(\()S
1245(\))S
0.0 10 10 f.R ft
1270(,)S
1290(it)S
1324(would)S
1439(be)S
1489(more)S
1585(robust)S
1700(and)S
1771(easier)S
1880(to)S
1923(u)S
1944(n)S
1965(d)S
1986(e)S
2005(r)S
2019(s)S
2035(t)S
2047(a)S
2066(n)S
2087(d)S
2108(.)S
225 X
2066 Y(W)s
262(e)S
291(use)S
357(the)S
419(vnode)S
532(reference)S
701(count)S
806(freely)S
916(within)S
1035(Episode)S
1181(to)S
1225(prevent)S
1363(vnodes)S
1493(from)S
1585(being)S
1690(transmogri)S
1872 X(\256)s
1895(ed)S
1946(during)S
2067(opera)S
2161 X(-)s
225 X
2116 Y(tions)s
320(that)S
397(must)S
490(drop)S
579(locks)S
680(when)S
783(they)S
868(sleep.)S
987(This)S
1073(requires)S
1221(that)S
1297(a)S
1328(few)S
1403(routines)S
1551(\(e.g.,)S
0.0 10 10 f.CW ft
1662(Recycle\(\))S
0.0 10 10 f.R ft
1887(\))S
1913(carefully)S
2076(check)S
225 X
2166 Y(the)s
287(r)S
301(e)S
320(f)S
334(c)S
353(o)S
374(u)S
395(n)S
416(t)S
428(.)S
225 X
2241 Y(The)s
300(old)S
364(model)S
479(had)S
550(several)S
680(fuzzy)S
785(states,)S
900(especially)S
1081(regarding)S
1254(open)S
1347(volumes,)S
1510(which)S
1624(are)S
1687(made)S
1789(explicit.)S
1948(This)S
2033(r)S
2047(e)S
2066(m)S
2098(o)S
2119(v)S
2140(e)S
2159(s)S
225 X
2291 Y(some)s
325(confusing)S
503(ambiguities)S
712(and)S
785(overloadings)S
1015(and)S
1088(allows)S
1210(more)S
1308(c)S
1327(o)S
1348(m)S
1380(p)S
1401(r)S
1415(e)S
1434(h)S
1455(e)S
1474(n)S
1495(s)S
1511(i)S
1523(v)S
1544(e)S
1574(assertions)S
1751(that)S
1826(the)S
1889(system)S
2016(is)S
2055(operat)S
2161 X(-)s
225 X
2341 Y(ing)s
289(c)S
308(o)S
329(r)S
343(r)S
357(e)S
376(c)S
395(t)S
407(l)S
419(y)S
440(.)S
225 X
2416 Y(Consideration)s
473(of)S
519(the)S
582(quota)S
687(reservation)S
887(problem)S
1039(is)S
1079(deferred)S
1232(to)S
1277(the)S
1341(VM)S
1420(r)S
1434(e)S
1453(o)S
1474(r)S
1488(g)S
1509(a)S
1528(n)S
1549(i)S
1561(z)S
1580(a)S
1599(t)S
1611(i)S
1623(o)S
1644(n)S
1665(,)S
1687(which)S
1802(does)S
1891(away)S
1992(with)S
2079(reser)S
2161 X(-)s
225 X
2466 Y(vation)s
341(altogether)S
521(\(see)S
599(RFC)S
688(7)S
709(5)S
730(.)S
740(0)S
761(\))S
775(.)S
225 X
2541 Y(The)s
301(solution)S
448(to)S
492(the)S
555(problem)S
706(of)S
753(handling)S
0.0 10 10 f.CW ft
928(VN_RELE\(\))S
0.0 10 10 f.R ft
1165(on)S
0.0 10 10 f.B ft
1219(ZLC)S
0.0 10 10 f.R ft
1317(\(zero)S
1416(link)S
1494(count\))S
1614 X(\256)s
1637(les)S
1696(in)S
1741(face)S
1824(of)S
1871 X(\256)s
1894(leset)S
1984(operations)S
2525 Y
0.0 7 7 f.R ft
2160(5)S
225 X
2591 Y
0.0 10 10 f.R ft(is)s
268(to)S
316(add)S
392(careful)S
525(volume)S
666(glue)S
2575 Y
0.0 7 7 f.R ft
739(6)S
2591 Y
0.0 10 10 f.R ft
769(to)S
0.0 10 10 f.CW ft
832(VOP_INACTIVE)S
0.0 10 10 f.R ft
1132(.)S
1167(This)S
1256(allows)S
0.0 10 10 f.CW ft
1396(v)S
1421(n)S
1446(m)S
1471(_)S
1496(I)S
1521(n)S
1546(a)S
1571(c)S
1596(t)S
1621(i)S
1646(v)S
1671(e)S
1696(\()S
1721(\))S
0.0 10 10 f.R ft
1762(to)S
1811(safely)S
1928(avoid)S
2038(d)S
2059(e)S
2078(l)S
2090(e)S
2109(t)S
2121(i)S
2133(n)S
2154(g)S
225 X
2665 Y
225 X
0.0 8 8 f.R ft
/Cru{ 0 ysiz pt 5 div 2 copy rmoveto
 (_) show
 neg rmoveto
}bind def

Cru
236 X
Cru
253 X
Cru
270 X
Cru
287 X
Cru
304 X
Cru
321 X
Cru
338 X
Cru
355 X
Cru
372 X
Cru
389 X
Cru
406 X
Cru
423 X
Cru
440 X
Cru
457 X
Cru
474 X
Cru
491 X
Cru
508 X
Cru
225 X
2714 Y(1.)s
258(The)S
318(V1.0.3)S
417(release)S
519(is)S
550(known)S
650(internally)S
790(as)S
826(d)S
843(f)S
854(s)S
867(-)S
878(f)S
889(w)S
913(d)S
930(-)S
941(1)S
958(.)S
966(3)S
983(2)S
1000(.)S
225 X
2763 Y(2.)s
258(The)S
318(V1.1)S
392(release)S
494(is)S
525(known)S
625(internally)S
765(as)S
801(d)S
818(f)S
829(s)S
842(-)S
853(p)S
870(e)S
885(r)S
896(f)S
907(-)S
918(1)S
935(.)S
943(4)S
960(2)S
977(.)S
225 X
2812 Y(3.)s
258(See)S
314(description)S
474(of)S
510(E)S
530(p)S
547(i)S
557(s)S
570(o)S
587(d)S
604(e)S
617(')S
627(s)S
648(virtual)S
746(memory)S
866(integration)S
1023(in)S
1058(RFC)S
1128(75.0.)S
225 X
2861 Y(4.)s
258(The)S
318(terms)S
0.0 8 8 f.B ft
401(volume)S
0.0 8 8 f.R ft
514(and)S
571 X
0.0 8 8 f.B ft(\256)s
589(leset)S
0.0 8 8 f.R ft
661(are)S
710(used)S
780(i)S
790(n)S
807(t)S
817(e)S
832(r)S
843(c)S
858(h)S
875(a)S
890(n)S
907(g)S
924(e)S
939(a)S
954(b)S
971(l)S
981(y)S
998(.)S
225 X
2910 Y(5.)s
258(T)S
276(r)S
287(a)S
302(n)S
319(s)S
332(a)S
347(r)S
358(c)S
381(defect)S
472(d)S
489(b)S
506(5)S
523(5)S
540(0)S
557(5)S
574(.)S
225 X
2959 Y(6.)s
258(The)S
320(term)S
0.0 8 8 f.B ft
392(glue)S
0.0 8 8 f.R ft
462(used)S
534(in)S
571(DFS)S
641(refers)S
727(to)S
764(two)S
825(mechanisms)S
1002(which)S
1094(add)S
1152(a)S
1176(layer)S
1253(of)S
1290(processing)S
1444(on)S
1487(all)S
1531(vnode)S
1623(operations.)S
1790(The)S
1851 X(\256)s
1869(rst)S
1912(type)S
1980(of)S
2017(glue)S
2085(\()S
0.0 8 8 f.B ft
2096(token)S
225 X
2996 Y(glue)s
0.0 8 8 f.R ft
285(\))S
306(obtains)S
415(the)S
467(proper)S
565(type)S
634(of)S
672(tokens)S
771(to)S
808(provide)S
922(single-site)S
1073(semantics)S
1218(to)S
1256(local)S
1334(operations)S
1487(on)S
1532(ufs)S
1584(or)S
1623(\(locally)S
1739(mounted\))S
1880(Episode)S
2000(vnodes.)S
2123(The)S
225 X
3033 Y(second)s
330(type)S
400(of)S
439(glue)S
509(\()S
0.0 8 8 f.B ft
520(volume)S
636(glue)S
0.0 8 8 f.R ft
696(\))S
718(ensures)S
830(that)S
893(no)S
938(vnode)S
1032(operations)S
1185(run)S
1241(concurrently)S
1424(with)S
1496(incompatible)S
1686(volume)S
1798(operations.)S
1966(The)S
2028 X(\256)s
2046(le)S
2081(s)S
2094(y)S
2111(s)S
2124(t)S
2134(e)S
2149(m)S
225 X
3070 Y(independent)s
400(portion)S
507(of)S
543(the)S
593(VFS+)S
680(Interface)S
808(interposes)S
954(this)S
1012(glue)S
1079(as)S
1115(a)S
1130(p)S
1147(p)S
1164(r)S
1175(o)S
1192(p)S
1209(r)S
1220(i)S
1230(a)S
1245(t)S
1255(e)S
1270(.)S
225 X
3220 Y
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft(Anderson)s
2044 X(P)s
2071(a)S
2094(g)S
2117(e)S
2140( )S
2152(1)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica-Bold Times-Roman Times-Bold Courier Helvetica
%%Page: label 2
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft(unlinked)s
383 X(\256)s
406(les)S
463(during)S
583(volume)S
719(o)S
740(p)S
761(e)S
780(r)S
794(a)S
813(t)S
825(i)S
837(o)S
858(n)S
879(s)S
895(.)S
225 X
500 Y
%%IncludeFont: Helvetica-Bold

/Helvetica-Bold /Helvetica-Bold-8 roman-8-mappings AddRoman-8
/f.HB /Helvetica-Bold-8 findfont def

0.0 10 10 f.HB ft(2)s
248(.)S
260( )S
272(R)S
302(A)S
329(T)S
354(I)S
366(O)S
398(N)S
428(A)S
458(L)S
483(E)S
225 X
575 Y
0.0 10 10 f.R ft(An)s
287(important)S
462(goal)S
547(of)S
594(the)S
658(r)S
672(e)S
691(o)S
712(r)S
726(g)S
747(a)S
766(n)S
787(i)S
799(z)S
818(a)S
837(t)S
849(i)S
861(o)S
882(n)S
915(was)S
992(to)S
1037(improve)S
1189(the)S
1253(m)S
1285(a)S
1304(i)S
1316(n)S
1337(t)S
1349(a)S
1368(i)S
1380(n)S
1401(a)S
1420(b)S
1441(i)S
1453(l)S
1465(i)S
1477(t)S
1489(y)S
1522(of)S
1569(the)S
1633(vnode)S
1748(s)S
1764(y)S
1785(n)S
1806(c)S
1825(h)S
1846(r)S
1860(o)S
1881(n)S
1902(i)S
1914(z)S
1933(a)S
1952(t)S
1964(i)S
1976(o)S
1997(n)S
2030(mechan)S
2161 X(-)s
225 X
625 Y(isms.)s
334(There)S
445(are)S
510(two)S
586(general)S
724(components)S
940(to)S
986(the)S
1051(m)S
1083(a)S
1102(i)S
1114(n)S
1135(t)S
1147(a)S
1166(i)S
1178(n)S
1199(a)S
1218(b)S
1239(i)S
1251(l)S
1263(i)S
1275(t)S
1287(y)S
1321(problem.)S
1494(First,)S
1594(the)S
1659(old)S
1726(mechanisms)S
1946(were)S
2040(so)S
2089(com)S
2161 X(-)s
225 X
675 Y(plex)s
315(and)S
393(non-local)S
571(that)S
653(u)S
674(n)S
695(d)S
716(e)S
735(r)S
749(s)S
765(t)S
777(a)S
796(n)S
817(d)S
838(i)S
850(n)S
871(g)S
910(them)S
1012(was)S
1095(nearly)S
1219(impossible.)S
1439(Improvements)S
1699(here)S
1790(will)S
1874(reduce)S
2005(long)S
2098(term)S
225 X
725 Y(maintenance)s
449(c)S
468(o)S
489(s)S
505(t)S
517(s)S
533(.)S
225 X
800 Y(Second,)s
372(analysis)S
522(of)S
571(past)S
653(defects)S
787(indicates)S
952(that)S
1030(more)S
1130(bugs)S
1223(were)S
1319(expected)S
1484(as)S
1533(testing)S
1660(of)S
1709(Episode)S
1858(extended)S
2025(into)S
2105(new)S
225 X
850 Y(regimes.)s
391(Plans)S
495(for)S
557(the)S
622(DCE/DFS)S
806(1.1)S
870(release)S
1000(called)S
1114(for)S
1175(more)S
1273(intensive)S
1438 X(\256)s
1461(leset)S
1551(operations)S
1739(and)S
1812(routine)S
1944(use)S
2012(of)S
2059(l)S
2071(o)S
2092(c)S
2111(a)S
2130(l)S
2142(l)S
2154(y)S
225 X
900 Y(mounted)s
387 X(\256)s
410(lesets.)S
539(Both)S
636(of)S
686(these)S
788(were)S
885(likely)S
997(to)S
1045(expose)S
1177(new)S
1262(failure)S
1389(modes.)S
1534(A)S
1580(new)S
1666(mechanism)S
1873(with)S
1964(well-de)S
2091 X(\256)s
2114(ned)S
225 X
950 Y(invariants)s
406(and)S
481(based)S
591(on)S
647(a)S
679(deeper)S
805(u)S
826(n)S
847(d)S
868(e)S
887(r)S
901(s)S
917(t)S
929(a)S
948(n)S
969(d)S
990(i)S
1002(n)S
1023(g)S
1057(of)S
1105(the)S
1170(operational)S
1374(environment)S
1600(faced)S
1705(by)S
1760(the)S
1825(vnode)S
1941(system)S
2070(would)S
225 X
1000 Y(eliminate)s
393(bugs)S
482(and)S
553(make)S
654(diagnosis)S
823(and)S
894(repair)S
1003(of)S
1048(remaining)S
1229(problems)S
1395(easier)S
1504(and)S
1575(f)S
1589(a)S
1608(s)S
1624(t)S
1636(e)S
1655(r)S
1669(.)S
225 X
1075 Y(A)s
266(primary)S
410(reason)S
531(for)S
591(the)S
654(shortcomings)S
891(of)S
937(the)S
1000(old)S
1065(mechanism)S
1268(is)S
1308(that)S
1384(it)S
1420(was)S
1497(developed)S
1683(i)S
1695(n)S
1716(c)S
1735(r)S
1749(e)S
1768(m)S
1800(e)S
1819(n)S
1840(t)S
1852(a)S
1871(l)S
1883(l)S
1895(y)S
1916(,)S
1938(in)S
1983(response)S
2142(to)S
225 X
1125 Y(an)s
277(evolving)S
437(u)S
458(n)S
479(d)S
500(e)S
519(r)S
533(s)S
549(t)S
561(a)S
580(n)S
601(d)S
622(i)S
634(n)S
655(g)S
688(of)S
735(its)S
787(r)S
801(e)S
820(q)S
841(u)S
862(i)S
874(r)S
888(e)S
907(m)S
939(e)S
958(n)S
979(t)S
991(s)S
1007(.)S
1039(It)S
1077(was)S
1154(enhanced)S
1326(to)S
1371(handle)S
1496(virtual)S
1618(memory)S
1768(\(VM\))S
1874(integration,)S
2079(phan)S
2161 X(-)s
225 X
1175 Y(tomized)s
372(and)S
444(stale)S
533(vnodes)S
663(and)S
735(use)S
802(by)S
855 X(\256)s
878(leset)S
967(operations.)S
1174(These)S
1285(capabilities)S
1490(were)S
%%IncludeFont: Times-Italic

/Times-Italic /Times-Italic-8 roman-8-mappings AddRoman-8
/f.I /Times-Italic-8 findfont def

0.0 10 10 f.I ft
1583(not)S
0.0 10 10 f.R ft
1648(designed)S
1809(in.)S
1873(W)S
1910(e)S
1940(now)S
2023(know)S
2128(far)S
225 X
1225 Y(more)s
323(about)S
429(the)S
493(requirements)S
725(placed)S
848(upon)S
944(the)S
1008(vnode)S
1123(system)S
1251(than)S
1336(we)S
1397(did)S
1463(in)S
1508(1990)S
1604(when)S
1707(it)S
1742(was)S
1818 X(\256)s
1841(rst)S
1894(developed)S
2079(based)S
225 X
1275 Y(on)s
277(the)S
339(BSD)S
430(4.3)S
492(model)S
607(used)S
694(by)S
746(the)S
808(IBM)S
897(RT)S
960(AOS4)S
1074(operating)S
1244(s)S
1260(y)S
1281(s)S
1297(t)S
1309(e)S
1328(m)S
1360(.)S
225 X
1375 Y
0.0 10 10 f.HB ft(3. VIRTUAL)s
464(MEMORY)S
664(R)S
694(E)S
722(Q)S
754(U)S
784(I)S
796(R)S
826(E)S
854(M)S
889(E)S
917(N)S
947(T)S
972(S)S
225 X
1450 Y
0.0 10 10 f.R ft(I)s
249(refer)S
339(to)S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
397(PageIn\(\))S
0.0 10 10 f.R ft
607(as)S
652(the)S
714(generic)S
849(request)S
981(from)S
1072(the)S
1134(VM)S
1211(system)S
1337(to)S
1380 X(\256)s
1403(ll)S
1437(a)S
1466(page)S
1556(by)S
1609(reading)S
1747(data)S
1829(from)S
1921(the)S
1984 X(\256)s
2007(le)S
2049(s)S
2065(y)S
2086(s)S
2102(t)S
2114(e)S
2133(m)S
2165(.)S
225 X
1500 Y
0.0 10 10 f.CW ft(PageIn\(\))s
0.0 10 10 f.R ft
438(also)S
519(handles)S
661(")S
676(m)S
708(i)S
720(n)S
741(o)S
762(r)S
789(page)S
882(f)S
896(a)S
915(u)S
936(l)S
948(t)S
960(s)S
974(")S
988(.)S
1021(Similarly,)S
1200(I)S
1226(use)S
0.0 10 10 f.CW ft
1309(PageOut\(\))S
0.0 10 10 f.R ft
1546(to)S
1591(refer)S
1683(to)S
1728(the)S
1792(generic)S
1929(VM)S
2008(request)S
2142(to)S
225 X
1550 Y(clean)s
325(a)S
354(page)S
444(by)S
496(writing)S
628(it)S
662(back)S
752(to)S
795(the)S
857 X(\256)s
880(le)S
921(system.)S
1067(I)S
1091(use)S
1157(the)S
1219(terms)S
%%IncludeFont: Times-Bold

/Times-Bold /Times-Bold-8 roman-8-mappings AddRoman-8
/f.B /Times-Bold-8 findfont def

0.0 10 10 f.B ft
1322(VM)S
0.0 10 10 f.R ft
1401(and)S
0.0 10 10 f.B ft
1472(page)S
1566(cache)S
0.0 10 10 f.R ft
1677(s)S
1693(y)S
1714(n)S
1735(o)S
1756(n)S
1777(y)S
1798(m)S
1830(o)S
1851(u)S
1872(s)S
1888(l)S
1900(y)S
1921(.)S
225 X
1625 Y(On)s
287(AIX,)S
382(VM)S
460(resources)S
630(are)S
693(locked)S
817(before)S
0.0 10 10 f.CW ft
951(PageIn\(\))S
0.0 10 10 f.R ft
1162(is)S
1201(called.)S
1334(AIX)S
1419(vnodes)S
1549(that)S
1624(use)S
1691(VM)S
1769(contain)S
1905(an)S
1957(object)S
2073(c)S
2092(a)S
2111(l)S
2123(l)S
2135(e)S
2154(d)S
225 X
1675 Y(a)s
0.0 10 10 f.B ft
256(VM)S
337(segment)S
0.0 10 10 f.R ft
484(.)S
516(All)S
582(VM)S
661(accesses)S
816(must)S
909(use)S
977(this)S
1050(segment,)S
1212(which)S
1327(must)S
1420(be)S
1472(created)S
1607(before)S
1727(the)S
1790 X(\256)s
1813(rst)S
1866(such)S
1954(access.)S
2093(Both)S
225 X
1725 Y(vnode)s
344(reclamation)S
560(and)S
637 X(\256)s
660(le)S
708(deletion)S
862(must)S
960(delete)S
1079(this)S
1157(segment.)S
1334(Deleting)S
1497(the)S
1566(VM)S
1650(segment)S
1807(waits)S
1913(for)S
1979(all)S
2039(p)S
2060(e)S
2079(n)S
2100(d)S
2121(i)S
2133(n)S
2154(g)S
225 X
1775 Y
0.0 10 10 f.CW ft(PageIn\(\))s
0.0 10 10 f.R ft
448(calls)S
549(to)S
605 X(\256)s
628(nish.)S
741(On)S
814(AIX,)S
920(a)S
961(zero)S
1056(reference)S
1236(count)S
1352(does)S
1451(not)S
1527(imply)S
1647(that)S
1733(there)S
1840(are)S
1914(no)S
1978(o)S
1999(u)S
2020(t)S
2032(s)S
2048(t)S
2060(a)S
2079(n)S
2100(d)S
2121(i)S
2133(n)S
2154(g)S
225 X
1825 Y
0.0 10 10 f.CW ft(PageIn\(\))s
0.0 10 10 f.R ft
438(requests.)S
609(The)S
687(existence)S
858(of)S
906(a)S
938(segment)S
1091(is)S
1132(the)S
1197(only)S
1285(safe)S
1366(indicator.)S
1550(F)S
1572(u)S
1593(r)S
1607(t)S
1619(h)S
1640(e)S
1659(r)S
1673(,)S
1696(deleting)S
1846(a)S
1879(VM)S
1960(segment)S
2114(is)S
2156(a)S
225 X
1875 Y(destructive)s
421(operation)S
591(that)S
665(must)S
756(not)S
820(be)S
870(attempted)S
1047(on)S
1099(a)S
1128(vnode)S
1241(that)S
1315(is)S
1353(in)S
1396(use.)S
225 X
1950 Y(On)s
287(AIX,)S
0.0 10 10 f.CW ft
397(Recycle\(\))S
1934 Y
0.0 7 7 f.R ft
622(7)S
1950 Y
0.0 10 10 f.R ft
649(must)S
742(exclude)S
886(new)S
968(VM)S
1047(users,)S
1155(without)S
1296(blocking)S
0.0 10 10 f.CW ft
1471(PageIn\(\))S
0.0 10 10 f.R ft
1671(,)S
1693(before)S
1813(deleting)S
1962(the)S
2026(VM)S
2105(seg)S
2161 X(-)s
225 X
2000 Y(ment.)s
340(The)S
416(inactive)S
1984 Y
0.0 7 7 f.R ft
551(8)S
2000 Y
0.0 10 10 f.R ft
577(procedure)S
757(must)S
849(also)S
928(do)S
981(this,)S
1063(but)S
1128(for)S
1189(the)S
1253(more)S
1351(obvious)S
1496(reason)S
1618(that)S
1694(it)S
1730(may)S
1814(delete)S
1928(the)S
1992(u)S
2013(n)S
2034(d)S
2055(e)S
2074(r)S
2088(l)S
2100(y)S
2121(i)S
2133(n)S
2154(g)S
225 X
2050 Y
225 X(\256)s
248(le.)S
315(When)S
0.0 10 10 f.CW ft
446(PageIn\(\))S
0.0 10 10 f.R ft
662(is)S
706(blocked)S
856(by)S
914(a)S
949(volume)S
1091(operation,)S
1277(or)S
1327(if)S
1368(the)S
1435(reference)S
1608(count)S
1717(is)S
1760(non-zero,)S
0.0 10 10 f.CW ft
1950(R)S
1975(e)S
2000(c)S
2025(y)S
2050(c)S
2075(l)S
2100(e)S
2125(\()S
2150(\))S
225 X
2100 Y
0.0 10 10 f.R ft(must)s
316(avoid)S
420(this)S
491(vnode.)S
624(Otherwise)S
807(it)S
841(may)S
923(safely)S
1034(delete)S
1146(the)S
1208(VM)S
1285(segment)S
1435(and)S
1506(proceed)S
1650(with)S
1735(the)S
1797(rest)S
1868(of)S
1913(the)S
1975(r)S
1989(e)S
2008(c)S
2027(l)S
2039(a)S
2058(m)S
2090(a)S
2109(t)S
2121(i)S
2133(o)S
2154(n)S
225 X
2150 Y(a)s
244(c)S
263(t)S
275(i)S
287(v)S
308(i)S
320(t)S
332(i)S
344(e)S
363(s)S
379(.)S
225 X
2225 Y(On)s
289(AIX,)S
0.0 10 10 f.CW ft
401(StopUse\(\))S
2209 Y
0.0 7 7 f.R ft
626(9)S
2225 Y
0.0 10 10 f.R ft
654(cannot)S
780(delete)S
895(the)S
960(VM)S
1040(segment)S
1193(in)S
1239(order)S
1341(to)S
1387(pacify)S
1506(the)S
1571(page)S
1664(cache)S
1774(since)S
1874(it)S
1911(must)S
2005(be)S
2058(able)S
2142(to)S
225 X
2275 Y(operate)s
361(on)S
414(held)S
498(vnodes.)S
648(However,)S
823(it)S
858(must)S
950(block)S
0.0 10 10 f.CW ft
1070(PageIn\(\))S
0.0 10 10 f.R ft
1281(calls)S
1370(then)S
1454(clean)S
1555(or)S
1601(invalidate)S
1780(VM.)S
1878(Because)S
2030(it)S
2065(b)S
2086(l)S
2098(o)S
2119(c)S
2138(k)S
2159(s)S
225 X
2325 Y
0.0 10 10 f.CW ft(PageIn\(\))s
0.0 10 10 f.R ft
425(,)S
445(it)S
479(must)S
570(carefully)S
731(interact)S
869(with)S
0.0 10 10 f.CW ft
969(Recycle\(\))S
0.0 10 10 f.R ft
1194(.)S
225 X
2400 Y
320( )S
0.0 10 10 f.I ft
351(NOTE:)S
494(W)S
527(e)S
559(assume)S
695(that)S
774(prohibiting)S
977(reclamation)S
1194(of)S
1240(all)S
1298(vnodes)S
1428(for)S
1490(open)S
1586(volumes)S
1738(would)S
1855(consume)S
2016(too)S
2084(many)S
225 X
2450 Y
351 X(vnodes.)s
501(The)S
577(problem)S
730(with)S
816(banning)S
0.0 10 10 f.CW ft
982(Recycle\(\))S
0.0 10 10 f.I ft
1220(is)S
1261(that)S
1340(some)S
1438(volume)S
1572(operations)S
1764(are)S
1832(coded)S
1945(to)S
1990(use)S
2058(v)S
2077(n)S
2098(o)S
2119(d)S
2140(e)S
2159(s)S
225 X
2500 Y
351 X(primitives)s
530(\(e.g.,)S
624(dump)S
728(and)S
802(restore\).)S
966(Since)S
1069(there)S
1167(is)S
1206(no)S
1259(acceptable)S
1454(bound)S
1570(on)S
1623(the)S
1686(size)S
1760(of)S
1804(the)S
1867(largest)S
1995(volume)S
2128(we)S
225 X
2550 Y
351 X(also)s
434(cannot)S
562(specify)S
693(a)S
727(reasonable)S
927(bound)S
1045(for)S
1106(the)S
1170(number)S
1310(of)S
1355(vnodes)S
1484(this)S
1557(would)S
1672(consume.)S
1851(However,)S
2025(prohibit)S
2161 X(-)s
225 X
2600 Y
351 X(ing)s
0.0 10 10 f.CW ft
440(Recycle\(\))S
0.0 10 10 f.I ft
685(during)S
818(volume)S
961(operations)S
1162(might)S
1279(be)S
1340(more)S
1447(attractive)S
1631(if)S
1676(the)S
1749(volume)S
1892(operations)S
2093(were)S
225 X
2674 Y
225 X
0.0 8 8 f.R ft
/Cru{ 0 ysiz pt 5 div 2 copy rmoveto
 (_) show
 neg rmoveto
}bind def

Cru
236 X
Cru
253 X
Cru
270 X
Cru
287 X
Cru
304 X
Cru
321 X
Cru
338 X
Cru
355 X
Cru
372 X
Cru
389 X
Cru
406 X
Cru
423 X
Cru
440 X
Cru
457 X
Cru
474 X
Cru
491 X
Cru
508 X
Cru
225 X
2723 Y(7.)s
258(The)S
319(function)S
0.0 8 8 f.CW ft
454(Recycle\(\))S
0.0 8 8 f.R ft
643(\(described)S
793(in)S
829(P)S
846(r)S
857(o)S
874(c)S
889(e)S
904(d)S
921(u)S
938(r)S
949(e)S
973(Outlines\))S
1109(takes)S
1188(an)S
1229(unused)S
1334(vnode)S
1426(representing)S
1603(one)S
1661 X(\256)s
1679(le)S
1713(and)S
1771(removes)S
1894(its)S
1937(identity)S
2053(so)S
2093(that)S
2155(it)S
225 X
2760 Y(can)s
280(be)S
320(used)S
390(to)S
425(represent)S
557(a)S
580(di)S
607 X
/Cff{ (f) show xsiz pt 20 div neg 0 rmoveto (f) s
}bind def

Cff
628(erent)S
704 X(\256)s
722(le.)S
225 X
2809 Y(8.)s
258(The)S
320(function)S
0.0 8 8 f.CW ft
456(v)S
476(n)S
496(m)S
516(_)S
536(I)S
556(n)S
576(a)S
596(c)S
616(t)S
636(i)S
656(v)S
676(e)S
696(\()S
716(\))S
0.0 8 8 f.R ft
745(\(described)S
895(in)S
931(P)S
948(r)S
959(o)S
976(c)S
991(e)S
1006(d)S
1023(u)S
1040(r)S
1051(e)S
1075(Outlines\))S
1211(is)S
1243(called)S
1334(by)S
0.0 8 8 f.CW ft
1389(VN_RELE\(\))S
0.0 8 8 f.R ft
1569(,)S
1586(which)S
1678(calls)S
0.0 8 8 f.CW ft
1762(V)S
1782(O)S
1802(P)S
1822(_)S
1842(I)S
1862(N)S
1882(A)S
1902(C)S
1922(T)S
1942(I)S
1962(V)S
1982(E)S
2002(\()S
2022(\))S
0.0 8 8 f.R ft
2051(when)S
2133(the)S
225 X
2846 Y(v)s
242(n)S
259(o)S
276(d)S
293(e)S
306(')S
316(s)S
338(reference)S
472(count)S
557(drops)S
641(to)S
677(zero.)S
760(F)S
777(o)S
794(r)S
814(Episode)S
932(vnodes)S
1037(this)S
1096(turns)S
1173(into)S
1236(a)S
1260(call)S
1319(to)S
0.0 8 8 f.CW ft
1367(v)S
1387(n)S
1407(m)S
1427(_)S
1447(i)S
1467(n)S
1487(a)S
1507(c)S
1527(t)S
1547(i)S
1567(v)S
1587(e)S
1607(\()S
1627(\))S
0.0 8 8 f.R ft
1647(,)S
1664(which)S
1756(handles)S
1869(cleanup)S
1984(for)S
2033(r)S
2044(e)S
2059(f)S
2070(e)S
2085(r)S
2096(e)S
2111(n)S
2128(c)S
2143(e)S
2158(d)S
225 X
2883 Y(v)s
242(n)S
259(o)S
276(d)S
293(e)S
308(s)S
321(.)S
225 X
2932 Y(9.)s
258(The)S
320(function)S
0.0 8 8 f.CW ft
456(v)S
476(n)S
496(m)S
516(_)S
536(S)S
556(t)S
576(o)S
596(p)S
616(U)S
636(s)S
656(e)S
676(\()S
696(\))S
0.0 8 8 f.R ft
726(\(described)S
877(in)S
915(P)S
932(r)S
943(o)S
960(c)S
975(e)S
990(d)S
1007(u)S
1024(r)S
1035(e)S
1061(Outlines\))S
1199(is)S
1233(used)S
1306(to)S
1344(put)S
1399(a)S
1425 X(\256)s
1443(l)S
1453(e)S
1468(s)S
1481(e)S
1496(t)S
1506(')S
1516(s)S
1540(vnodes)S
1647(into)S
1712(a)S
1738(state)S
1812(compatible)S
1975(with)S
2047(a)S
2073(v)S
2090(o)S
2107(l)S
2117(u)S
2134(m)S
2160(e)S
225 X
2969 Y(operation.)s
378(Generally)S
520(this)S
578(involves)S
702(cleaning)S
826(or)S
862(invalidating)S
1035(cached)S
1137(data)S
1202(for)S
1249(the)S
1299(v)S
1316(n)S
1333(o)S
1350(d)S
1367(e)S
1382(.)S
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2044 X(P)s
2071(a)S
2094(g)S
2117(e)S
2140( )S
2152(2)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Roman Helvetica-Bold Times-Italic Courier Times-Bold
%%Page: label 3
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
351 X
%%IncludeFont: Times-Italic

/Times-Italic /Times-Italic-8 roman-8-mappings AddRoman-8
/f.I /Times-Italic-8 findfont def

0.0 10 10 f.I ft(changed)s
504(to)S
547(avoid)S
651(vnode)S
762(primitives.)S
961(This)S
1043(might)S
1149(be)S
1199(a)S
1230(future)S
1341(simpli)S
1444 X(\256)s
1465(c)S
1484(a)S
1505(t)S
1517(i)S
1529(o)S
1550(n)S
1571(.)S
225 X
475 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft(On)s
286(SunOS,)S
424(the)S
486 X(\256)s
509(le)S
550(system)S
676(speci)S
763 X(\256)s
786(c)S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
830(PageIn\(\))S
0.0 10 10 f.R ft
1040(procedure)S
1219(consults)S
1367(VM,)S
1454(locks)S
1553(pages,)S
1670(and)S
1742(so)S
1790(forth.)S
1903(The)S
1979(SunOS)S
2108(VM)S
225 X
525 Y(system)s
352(calls)S
0.0 10 10 f.CW ft
456(PageIn\(\))S
0.0 10 10 f.R ft
667(with)S
753(a)S
783(held)S
867(vnode.)S
1001(This)S
1086(rules)S
1179(out)S
1244(any)S
1316(s)S
1332(y)S
1353(n)S
1374(c)S
1393(h)S
1414(r)S
1428(o)S
1449(n)S
1470(i)S
1482(z)S
1501(a)S
1520(t)S
1532(i)S
1544(o)S
1565(n)S
1597(mechanism)S
1799(that)S
1874(uses)S
1957(a)S
1987(lock)S
2071(on)S
2123(the)S
225 X
575 Y(reference)s
393(count)S
497(to)S
540(exclude)S
682(VM)S
759(users;)S
867(the)S
929(reference)S
1097(count)S
1201(lock)S
1284(must)S
1375(be)S
1425(at)S
1466(the)S
1528(bottom)S
1657(of)S
1702(the)S
1764(locking)S
1901(h)S
1922(i)S
1934(e)S
1953(r)S
1967(a)S
1986(r)S
2000(c)S
2019(h)S
2040(y)S
2061(.)S
225 X
650 Y(On)s
287(SunOS,)S
426(the)S
489(reference)S
658(count)S
763(is)S
802(a)S
832(reliable)S
971(indicator)S
1133(of)S
1179(potential)S
0.0 10 10 f.CW ft
1354(PageIn\(\))S
0.0 10 10 f.R ft
1565(requests.)S
0.0 10 10 f.CW ft
1750(Recycle\(\))S
0.0 10 10 f.R ft
1987(and)S
0.0 10 10 f.CW ft
2075(Sto)S
2150 X(-)s
225 X
700 Y(pUse\(\))s
0.0 10 10 f.R ft
390(can)S
464(both)S
554(block)S
663(VM)S
745(users)S
845(in)S
0.0 10 10 f.CW ft
907(PageIn\(\))S
0.0 10 10 f.R ft
1121(and)S
0.0 10 10 f.CW ft
1211(Recycle\(\))S
0.0 10 10 f.R ft
1450(can)S
1523(avoid)S
1631(vnodes)S
1764(with)S
1853(non-zero)S
2017(r)S
2031(e)S
2050(f)S
2064(e)S
2083(r)S
2097(e)S
2116(n)S
2137(c)S
2156(e)S
225 X
750 Y(counts.)s
365(There)S
473(are)S
535(no)S
587(dependencies)S
825(between)S
0.0 10 10 f.CW ft
991(Recycle\(\))S
0.0 10 10 f.R ft
1226(and)S
0.0 10 10 f.CW ft
1312(StopUse\(\))S
0.0 10 10 f.R ft
1537(.)S
225 X
825 Y(On)s
286(both)S
371(platforms,)S
552(we)S
611(assume)S
0.0 10 10 f.CW ft
759(PageOut\(\))S
0.0 10 10 f.R ft
994(may)S
1076(be)S
1126(called)S
1238(s)S
1254(p)S
1275(o)S
1296(n)S
1317(t)S
1329(a)S
1348(n)S
1369(e)S
1388(o)S
1409(u)S
1430(s)S
1446(l)S
1458(y)S
1479(,)S
1499(but)S
1563(only)S
1648(on)S
1700(vnodes)S
1829(with)S
1914(dirty)S
2004(p)S
2025(a)S
2044(g)S
2065(e)S
2084(s)S
2100(.)S
225 X
900 Y(On)s
287(both)S
373(platforms,)S
555(volume)S
692(operations)S
879(use)S
946(vnodes)S
1076(to)S
1120(perform)S
1266(certain)S
1393(operations.)S
1600(They)S
1697(do)S
1750(not)S
1815(use)S
1882(VM)S
1960(and)S
2032(the)S
2095(page)S
225 X
950 Y(cache)s
332(is)S
370(clean)S
470(or)S
515(invalid)S
643(during)S
763(these)S
860(o)S
881(p)S
902(e)S
921(r)S
935(a)S
954(t)S
966(i)S
978(o)S
999(n)S
1020(s)S
1036(.)S
225 X
1050 Y
%%IncludeFont: Helvetica-Bold

/Helvetica-Bold /Helvetica-Bold-8 roman-8-mappings AddRoman-8
/f.HB /Helvetica-Bold-8 findfont def

0.0 10 10 f.HB ft(4. FILESET)s
455(O)S
487(P)S
515(E)S
543(R)S
573(A)S
600(T)S
625(I)S
637(O)S
669(N)S
699(S)S
225 X
1125 Y
0.0 10 10 f.R ft(When)s
340(a)S
374(volume)S
515(is)S
558(opened,)S
705(inconsistent)S
922(vnode)S
1040(operations)S
1231(are)S
1298(blocked.)S
1467(Operations)S
0.0 10 10 f.I ft
1667(never)S
0.0 10 10 f.R ft
1776(blocked)S
1925(by)S
1982(the)S
2049(v)S
2070(o)S
2091(l)S
2103(u)S
2124(m)S
2156(e)S
225 X
1175 Y(glue)s
312(are)S
0.0 10 10 f.CW ft
393(PageOut\(\))S
0.0 10 10 f.R ft
618(,)S
1159 Y
0.0 7 7 f.R ft
628(10)S
1175 Y
0.0 10 10 f.CW ft
687(V)S
712(O)S
737(P)S
762(_)S
787(I)S
812(N)S
837(A)S
862(C)S
887(T)S
912(I)S
937(V)S
962(E)S
987(\()S
1012(\))S
0.0 10 10 f.R ft
1051(\(although,)S
1237(see)S
1305(Deleting)S
1465(Files)S
1561(on)S
1617(special)S
1749(treatment)S
1924(for)S
1988(ZLC)S
2081 X(\256)s
2104(les\),)S
225 X
1225 Y
0.0 10 10 f.CW ft(VFS_ROOT\(\))s
0.0 10 10 f.R ft
475(,)S
501(and)S
0.0 10 10 f.CW ft
593(V)S
618(O)S
643(P)S
668(X)S
693(_)S
718(G)S
743(E)S
768(T)S
793(V)S
818(O)S
843(L)S
868(U)S
893(M)S
918(E)S
943(\()S
968(\))S
0.0 10 10 f.R ft
993(.)S
1029(The)S
0.0 10 10 f.CW ft
1126(PageIn\(\))S
1209 Y
0.0 7 7 f.R ft
1326(11)S
1225 Y
0.0 10 10 f.R ft
1373(operation)S
1550(is)S
1595(glued)S
1706(on)S
1765(SunOS)S
1900(but)S
1971(not)S
2042(on)S
2101(AIX)S
225 X
1275 Y(where)s
344(it)S
384(is)S
428(called)S
546(at)S
593(page-fault)S
781(level.)S
900(Each)S
999(volume)S
1140(operation)S
1315(places)S
1436(speci)S
1523 X(\256)s
1546(c)S
1580(requirements)S
1815(on)S
1872(the)S
1939(cached)S
2072(vnode)S
225 X
1325 Y(state.)s
333(The)S
408(semantics)S
584(of)S
629(each)S
717(operation)S
887(specify)S
1019(whether)S
1165(the)S
1227(cached)S
1355(data)S
1436(must)S
1527(be)S
1577(invalidated)S
1776(or)S
1821(not)S
1886(and)S
1958(which)S
2072(vnode)S
225 X
1375 Y(operations)s
414(may)S
499(run)S
568(c)S
587(o)S
608(n)S
629(c)S
648(u)S
669(r)S
683(r)S
697(e)S
716(n)S
737(t)S
749(l)S
761(y)S
782(.)S
815(All)S
882(volume)S
1020(operations)S
1208(assume)S
1343(that)S
1419(the)S
1483 X(\256)s
1506(leset)S
1596(is)S
1636(consistent)S
1817(and)S
1890(quiescent)S
2062(for)S
2123(the)S
225 X
1425 Y(d)s
246(u)S
267(r)S
281(a)S
300(t)S
312(i)S
324(o)S
345(n)S
366(.)S
225 X
1500 Y(An)s
290(open)S
386(volume)S
526(is)S
568(the)S
635(exclusive)S
810(province)S
973(of)S
1023(the)S
1090(thread)S
1211(that)S
1290(opened)S
1427(it.)S
1486(This)S
1575(means)S
1697(that)S
1776(it)S
1815(may)S
1902(not)S
1971(be)S
2026(modi)S
2112 X(\256)s
2135(ed)S
225 X
1550 Y(either)s
335(implicitly)S
513(or)S
561(explicitly)S
735(by)S
789(other)S
888(users.)S
1006(All)S
1072(vnode)S
1187(operations)S
1375(that)S
1451(modify)S
1584(status)S
1692(or)S
1739(data)S
1822(are)S
1886(inconsistent)S
2100(with)S
225 X
1600 Y(open)s
318(volumes)S
471(regardless)S
653(of)S
699(their)S
788(open)S
882(mode)S
987(and)S
1060(are)S
1124(blocked.)S
1290(Deleting)S
1448(ZLC)S
1538 X(\256)s
1561(les)S
1620(is)S
1660(therefore)S
1825(prohibited)S
2011(w)S
2041(h)S
2062(e)S
2081(n)S
2102(e)S
2121(v)S
2142(e)S
2161(r)S
225 X
1650 Y(a)s
258(volume)S
398(is)S
440(open.)S
556(T)S
578(o)S
613(accomplish)S
819(this)S
894(we)S
957(defer)S
1058(the)S
1123(last)S
1195(release)S
1326(\(see)S
1407(Deleting)S
1566(Files,)S
1671(below\).)S
1821(Implicit)S
1968(updates)S
2110(to)S
2156(a)S
225 X
1700 Y
225 X(\256)s
248(l)S
260(e)S
276(')S
289(s)S
0.0 10 10 f.CW ft
330(atime)S
0.0 10 10 f.R ft
465(are)S
527(discarded)S
699(during)S
819(volume)S
955(o)S
976(p)S
997(e)S
1016(r)S
1030(a)S
1049(t)S
1061(i)S
1073(o)S
1094(n)S
1115(s)S
1131(.)S
225 X
1775 Y(The)s
303(i)S
315(m)S
347(p)S
368(l)S
380(e)S
399(m)S
431(e)S
450(n)S
471(t)S
483(a)S
502(t)S
514(i)S
526(o)S
547(n)S
581(of)S
629(Episode)S
777(imposes)S
928(other)S
1029(constraints.)S
1246(Some)S
1355(volume)S
1495(operations)S
1685(utilize)S
1806(the)S
1872(anode)S
1987(layer)S
2086(func)S
2161 X(-)s
225 X
1825 Y(tions)s
318(directly,)S
469(some)S
568(use)S
634(vnode)S
747(primitives,)S
938(and)S
1009(some)S
1107(make)S
1208(no)S
1260(use)S
1326(of)S
1371(per-)S
1439 X(\256)s
1462(le)S
1503(data)S
1584(at)S
1625(all.)S
1698(No)S
1759(volume)S
1895(operations)S
2081(refer)S
2161 X(-)s
225 X
1875 Y(ence)s
315(or)S
362(update)S
487(VM.)S
586(This)S
672(means)S
792(each)S
883(volume)S
1022(operation)S
1859 Y
0.0 7 7 f.R ft
1182(12)S
1875 Y
0.0 10 10 f.R ft
1225(must)S
1319(be)S
1372(preceded)S
1538(by)S
1593(a)S
1625(step)S
1706(\()S
0.0 10 10 f.CW ft
1720(v)S
1745(n)S
1770(m)S
1795(_)S
1820(S)S
1845(t)S
1870(o)S
1895(p)S
1920(U)S
1945(s)S
1970(e)S
1995(\()S
2020(\))S
0.0 10 10 f.R ft
2045(\))S
2072(which)S
225 X
1925 Y(puts)s
305(the)S
367(vnode)S
480(system,)S
616(including)S
786(VM,)S
873(into)S
949(an)S
999(appropriate)S
1202(s)S
1218(t)S
1230(a)S
1249(t)S
1261(e)S
1280(.)S
225 X
2000 Y(Certain)s
360(state)S
448(information)S
658(describing)S
845(the)S
908(current)S
1039(volume)S
1176(operation)S
1347(is)S
1386(maintained)S
1585(for)S
1645(each)S
1734(volume.)S
1891(This)S
1976(i)S
1988(n)S
2009(f)S
2023(o)S
2044(r)S
2058(m)S
2090(a)S
2109(t)S
2121(i)S
2133(o)S
2154(n)S
225 X
2050 Y(is)s
265(derived)S
404(from)S
497(the)S
561(volume)S
699(h)S
720(a)S
739(n)S
760(d)S
781(l)S
793(e)S
809(')S
822(s)S
850 X(\256)s
873(le)S
916(system)S
1044(private)S
1174(data)S
1257(pointer)S
1389(via)S
1453(the)S
1517(``)S
0.0 10 10 f.CW ft
1545(vnvl_)S
0.0 10 10 f.R ft
1670('')S
1710(module.)S
1868(The)S
1945(locking)S
2084(prob)S
2161 X(-)s
225 X
2100 Y(lems)s
314(in)S
357(the)S
0.0 10 10 f.CW ft
434(xvolume)S
0.0 10 10 f.R ft
619(layer)S
714(caused)S
839(some)S
937(di)S
970 X
/CFi{ (f) show xsiz pt 20 div neg 0 rmoveto (\256) s
}bind def

CFi
1005(culties)S
1126(in)S
1169(this)S
1240(area.)S
1341(In)S
1386(particular,)S
1569(it)S
1603(is)S
1642(not)S
1707(clear)S
1801(what)S
1894(lock)S
1978(protects)S
2123(the)S
225 X
2150 Y(FS)s
284(private)S
415(data)S
499(structure.)S
680(However,)S
857(the)S
922(data)S
1006(in)S
1052(that)S
1129(structure)S
1290(changes)S
1438(infrequently)S
1657(\(e.g.,)S
1753(at)S
1796(the)S
1860(beginning)S
2041(and)S
2114(end)S
225 X
2200 Y(of)s
271(volume)S
408(operations\))S
609(and)S
681(access)S
800(is)S
839(generally)S
1008(single)S
1120(threaded)S
1277(when)S
1379(it)S
1414(does.)S
1522(This)S
1607(can)S
1677(be)S
1728(cleaned)S
1869(up)S
1922(when)S
2024(the)S
2088(lock)S
2161 X(-)s
225 X
2250 Y(ing)s
289(of)S
334(volume)S
470(handles)S
609(is)S
647(clari)S
723 X(\256)s
746(ed.)S
225 X
2325 Y(The)s
300(open)S
392(volume)S
528(state)S
616(includes)S
767(the)S
829(following)S
1003(i)S
1015(n)S
1036(f)S
1050(o)S
1071(r)S
1085(m)S
1117(a)S
1136(t)S
1148(i)S
1160(o)S
1181(n)S
1202(:)S
225 X
2400 Y
283(\(a\))S
0.0 10 10 f.CW ft
351(vld_openbits)S
667 X
0.0 10 10 f.R ft(\320)s
725(These)S
841(bits)S
918(indicate)S
1069(the)S
1137(types)S
1242(of)S
1293(vnode)S
1412(caching)S
1560(that)S
1640(are)S
1708(allowed.)S
1878(They)S
1980(are)S
2048(d)S
2069(e)S
2088(r)S
2102(i)S
2114(v)S
2135(e)S
2154(d)S
225 X
2450 Y
351 X(from)s
442(the)S
504(current)S
634(volume)S
770(operation)S
940(and)S
1011(the)S
0.0 10 10 f.CW ft
1088(vol_open\(\))S
0.0 10 10 f.R ft
1348(modes.)S
1487(The)S
1562(appropriate)S
1765(open)S
1857(bits)S
1928(may)S
2010(change)S
2140(as)S
225 X
2500 Y
351 X(an)s
407(open)S
505(volume)S
647(progresses)S
840(through)S
987(a)S
1022(series)S
1135(of)S
1187(operations.)S
1400(The)S
1482(vnode)S
1602(system)S
1735(must)S
1833(be)S
1890(noti)S
1956 X(\256)s
1979(ed)S
2036(of)S
2088(these)S
225 X
2574 Y
225 X
0.0 8 8 f.R ft
/Cru{ 0 ysiz pt 5 div 2 copy rmoveto
 (_) show
 neg rmoveto
}bind def

Cru
236 X
Cru
253 X
Cru
270 X
Cru
287 X
Cru
304 X
Cru
321 X
Cru
338 X
Cru
355 X
Cru
372 X
Cru
389 X
Cru
406 X
Cru
423 X
Cru
440 X
Cru
457 X
Cru
474 X
Cru
491 X
Cru
508 X
Cru
225 X
2623 Y(10.)s
0.0 8 8 f.CW ft
275(PageOut\(\))S
0.0 8 8 f.R ft
463(must)S
537(not)S
589(be)S
629(blocked,)S
753(otherwise)S
0.0 8 8 f.CW ft
905(StopUse\(\))S
0.0 8 8 f.R ft
1093(could)S
1177(not)S
1229(clean)S
1309(dirty)S
1382(p)S
1399(a)S
1414(g)S
1431(e)S
1446(s)S
1459(.)S
225 X
2672 Y(11.)s
275(On)S
329(AIX,)S
409(the)S
464(vnode)S
560(operation)S
702(is)S
0.0 8 8 f.CW ft
750(V)S
770(O)S
790(P)S
810(_)S
830(S)S
850(T)S
870(R)S
890(A)S
910(T)S
930(E)S
950(G)S
970(Y)S
990(\()S
1010(\))S
0.0 8 8 f.R ft
1030(,)S
1051(which)S
1147(is)S
1183(called)S
1278(at)S
1316(page-fault)S
1467(level)S
1547(and)S
1609(so)S
1652(never)S
1740(blocks.)S
1857(The)S
1921(actual)S
2015(handling)S
2147(of)S
225 X
2709 Y
0.0 8 8 f.CW ft(PageIn\(\))s
0.0 8 8 f.R ft
393(or)S
0.0 8 8 f.CW ft
441(PageOut\(\))S
0.0 8 8 f.R ft
629(requests)S
748(is)S
779(done)S
853(by)S
895(a)S
918(kernel)S
1011(process.)S
1136(It)S
1165(must)S
1239(do)S
1281(its)S
1322(own)S
1388(volume)S
1498(s)S
1511(y)S
1528(n)S
1545(c)S
1560(h)S
1577(r)S
1588(o)S
1605(n)S
1622(i)S
1632(z)S
1647(a)S
1662(t)S
1672(i)S
1682(o)S
1699(n)S
1716(.)S
225 X
2764 Y(On)s
277(SunOS,)S
390(the)S
443(glue)S
513(treats)S
0.0 8 8 f.CW ft
610(getpage\(\))S
0.0 8 8 f.R ft
801(as)S
840(a)S
0.0 8 8 f.CW ft
878(READWRITE)S
0.0 8 8 f.R ft
1069(operation,)S
1217(so)S
1258(blocks)S
1358(it)S
1389(during)S
1490(most)S
1568(volume)S
1682(operations.)S
1852(The)S
1916(Episode)S
2037(code)S
2113(does)S
225 X
2801 Y(enough)s
333(volume)S
443(s)S
456(y)S
473(n)S
490(c)S
505(h)S
522(r)S
533(o)S
550(n)S
567(i)S
577(z)S
592(a)S
607(t)S
617(i)S
627(o)S
644(n)S
669(to)S
704(block)S
788(writes)S
879(and)S
936(return)S
1025(unwritable)S
1179(page)S
1251(mappings)S
1391(during)S
0.0 8 8 f.CW ft
1500(READONLY)S
0.0 8 8 f.R ft
1668(volume)S
1778(o)S
1795(p)S
1812(e)S
1827(r)S
1838(a)S
1853(t)S
1863(i)S
1873(o)S
1890(n)S
1907(s)S
1920(.)S
225 X
2850 Y(12.)s
275(In)S
314(the)S
367(present)S
476(system,)S
0.0 8 8 f.CW ft
601(v)S
621(n)S
641(m)S
661(_)S
681(S)S
701(t)S
721(o)S
741(p)S
761(U)S
781(s)S
801(e)S
821(\()S
841(\))S
0.0 8 8 f.R ft
872(cannot)S
974(be)S
1017(called)S
1110(during)S
1211(certain)S
1316(volume)S
1430(operations)S
1584(because)S
1703(of)S
0.0 8 8 f.CW ft
1755(xvolume)S
0.0 8 8 f.R ft
1907(layer)S
1987(locking)S
2102(prob)S
2164 X(-)s
225 X
2887 Y(lems.)s
314(As)S
360(a)S
384(result)S
0.0 8 8 f.CW ft
481(v)S
501(n)S
521(m)S
541(_)S
561(S)S
581(t)S
601(o)S
621(p)S
641(U)S
661(s)S
681(e)S
701(\()S
721(\))S
0.0 8 8 f.R ft
750(is)S
782(called)S
873(in)S
909(a)S
933(rather)S
0.0 8 8 f.I ft
1021(ad)S
1063(hoc)S
0.0 8 8 f.R ft
1120(manner)S
1229(from)S
1302(places)S
1395(like)S
0.0 8 8 f.CW ft
1467(v)S
1487(o)S
1507(l)S
1527(_)S
1547(e)S
1567(f)S
1587(s)S
1607(O)S
1627(p)S
1647(e)S
1667(n)S
1687(\()S
1707(\))S
0.0 8 8 f.R ft
1735(and)S
0.0 8 8 f.CW ft
1804(v)S
1824(o)S
1844(l)S
1864(_)S
1884(e)S
1904(f)S
1924(s)S
1944(S)S
1964(c)S
1984(a)S
2004(n)S
2024(\()S
2044(\))S
0.0 8 8 f.R ft
2064(.)S
2088(Asser)S
2164 X(-)s
225 X
2924 Y(tions)s
301(on)S
344(the)S
395(current)S
0.0 8 8 f.CW ft
512(StopUse\(\))S
0.0 8 8 f.R ft
701(open)S
776(bits)S
835(are)S
885(present)S
992(in)S
1028(various)S
1137(volume)S
1249(operations)S
1401(to)S
1438(ensure)S
1536(that)S
1598(the)S
1650(correct)S
1754(level)S
1831(of)S
1869(V)S
1893(M)S
1923(/)S
1932(v)S
1949(n)S
1966(o)S
1983(d)S
2000(e)S
2015(/)S
2024(a)S
2039(n)S
2056(o)S
2073(d)S
2090(e)S
2115(con)S
2164 X(-)s
225 X
2961 Y(sistency)s
343(is)S
374(p)S
391(r)S
402(e)S
417(s)S
430(e)S
445(n)S
462(t)S
472(.)S
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2044 X(P)s
2071(a)S
2094(g)S
2117(e)S
2140( )S
2152(3)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Italic Times-Roman Courier Helvetica-Bold
%%Page: label 4
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
351 X
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft(changes)s
497(by)S
549(calls)S
637(to)S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
695(v)S
720(n)S
745(m)S
770(_)S
795(S)S
820(t)S
845(o)S
870(p)S
895(U)S
920(s)S
945(e)S
970(\()S
995(\))S
0.0 10 10 f.R ft
1020(.)S
225 X
475 Y
351 X(While)s
472(these)S
577(open)S
677(bits)S
756(allow)S
868(for)S
935(many)S
1046(p)S
1067(o)S
1088(s)S
1104(s)S
1120(i)S
1132(b)S
1153(i)S
1165(l)S
1177(i)S
1189(t)S
1201(i)S
1213(e)S
1232(s)S
1248(,)S
1276(only)S
1369(a)S
1406(handful)S
1553(are)S
1623(actually)S
1776(used.)S
1891(These)S
2010(are)S
2081(given)S
225 X
525 Y
351 X(vaguely)s
495(suggestive)S
683(names)S
800(with)S
885(the)S
947(following)S
1121(d)S
1142(e)S
1161(s)S
1177(c)S
1196(r)S
1210(i)S
1222(p)S
1243(t)S
1255(i)S
1267(o)S
1288(n)S
1309(s)S
1325(:)S
225 X
600 Y
416 X(\(i\))s
0.0 10 10 f.CW ft
477(o)S
502(p)S
527(e)S
552(n)S
577(-)S
602(c)S
627(h)S
652(a)S
677(n)S
702(g)S
727(e)S
752(-)S
777(i)S
802(d)S
852 X
0.0 10 10 f.R ft(\320)s
919(The)S
1009(identity)S
1164(of)S
1224(the)S
1301(volume)S
1452(is)S
1505(being)S
1624(changed,)S
1800(but)S
1879(the)S
1956(contents)S
2123(are)S
225 X
650 Y
477 X(una)s
538 X
/Cff{ (f) show xsiz pt 20 div neg 0 rmoveto (f) s
}bind def

Cff
564(ected;)S
682(this)S
759(means)S
882(swapid)S
1017(for)S
1082(clone)S
1190(or)S
1241(intra-server)S
1452(move.)S
1581(It)S
1623(requires)S
1775(writing)S
1913(all)S
1971(cached)S
2104(data)S
225 X
700 Y
477 X(through)s
621(to)S
668(the)S
734(anode)S
849(layer,)S
958(w)S
988(r)S
1002(i)S
1014(t)S
1026(e)S
1045(-)S
1059(p)S
1080(r)S
1094(o)S
1115(t)S
1127(e)S
1146(c)S
1165(t)S
1177(i)S
1189(n)S
1210(g)S
1245(the)S
1311(page)S
1405(mappings,)S
1592(and)S
1667(closing)S
1803(the)S
1869(anode)S
1984(handle,)S
2121(but)S
225 X
750 Y
477 X(cached)s
605(data)S
686(do)S
738(not)S
802(have)S
892(to)S
935(be)S
985(i)S
997(n)S
1018(v)S
1039(a)S
1058(l)S
1070(i)S
1082(d)S
1103(a)S
1122(t)S
1134(e)S
1153(d)S
1174(.)S
225 X
825 Y
404 X(\(ii\))s
0.0 10 10 f.CW ft
477(o)S
502(p)S
527(e)S
552(n)S
577(-)S
602(c)S
627(h)S
652(a)S
677(n)S
702(g)S
727(e)S
752(-)S
777(a)S
802(n)S
827(o)S
852(d)S
877(e)S
914 X
0.0 10 10 f.R ft(\320)s
968(The)S
1045 X(\256)s
1068(l)S
1080(e)S
1099(s)S
1115(e)S
1134(t)S
1146(')S
1159(s)S
1187(contents)S
1340(are)S
1404(being)S
1510(changed)S
1663(at)S
1706(the)S
1770(anode)S
1884(layer;)S
1994(this)S
2068(means)S
225 X
875 Y
477 X(swapid)s
608(for)S
669(r)S
683(e)S
702(p)S
723(l)S
735(i)S
747(c)S
766(a)S
785(-)S
799(r)S
813(e)S
832(l)S
844(e)S
863(a)S
882(s)S
898(e)S
917(,)S
939(reclone)S
1076(\(backing)S
1236 X(\256)s
1259(leset\),)S
1373(unclone)S
1519(\(backing)S
1679 X(\256)s
1702(leset\),)S
1816(detach)S
1939(and)S
2011(destroy.)S
859 Y
0.0 7 7 f.R ft
2145(13)S
225 X
925 Y
477 X
0.0 10 10 f.R ft(It)s
514(requires)S
661(writing)S
794(through)S
936(and)S
1008(invalidating)S
1223(VM)S
1302(and)S
1375(other)S
1474(cached)S
1604(state,)S
1704(such)S
1793(as)S
1840(the)S
1904(atime,)S
2020(and)S
2093(clos)S
2161 X(-)s
225 X
975 Y
477 X(ing)s
541(the)S
603(anode)S
714(h)S
735(a)S
754(n)S
775(d)S
796(l)S
808(e)S
827(.)S
225 X
1050 Y
392 X(\(iii\))s
0.0 10 10 f.CW ft
477(o)S
502(p)S
527(e)S
552(n)S
577(-)S
602(r)S
627(e)S
652(a)S
677(d)S
702(-)S
727(a)S
752(n)S
777(o)S
802(d)S
827(e)S
864 X
0.0 10 10 f.R ft(\320)s
918(The)S
995 X(\256)s
1018(l)S
1030(e)S
1049(s)S
1065(e)S
1084(t)S
1096(')S
1109(s)S
1137(contents)S
1290(are)S
1354(being)S
1460(examined)S
1636(by)S
1690(means)S
1809(of)S
1857(anode-layer)S
2070(primi)S
2161 X(-)s
225 X
1100 Y
477 X(tives;)s
582(this)S
656(means)S
776(clone)S
881(and)S
955(reclone)S
1092(\(front)S
1200 X(\256)s
1223(leset\).)S
1347(It)S
1385(requires)S
1533(writing)S
1667(all)S
1722(cached)S
1852(data)S
1935(through)S
2078(to)S
2123(the)S
225 X
1150 Y
477 X(anode)s
593(layer,)S
703(w)S
733(r)S
747(i)S
759(t)S
771(e)S
790(-)S
804(p)S
825(r)S
839(o)S
860(t)S
872(e)S
891(c)S
910(t)S
922(i)S
934(n)S
955(g)S
991(the)S
1058(page)S
1153(mappings.)S
1351(The)S
1431(cached)S
1564(data)S
1650(do)S
1707(not)S
1776(have)S
1871(to)S
1920(be)S
1976(i)S
1988(n)S
2009(v)S
2030(a)S
2049(l)S
2061(i)S
2073(d)S
2094(a)S
2113(t)S
2125(e)S
2144(d)S
2165(,)S
225 X
1200 Y
477 X(since)s
574(the)S
636(contents)S
787(of)S
832(the)S
894 X(\256)s
917(leset)S
1005(are)S
1067(not)S
1131(being)S
1235(c)S
1254(h)S
1275(a)S
1294(n)S
1315(g)S
1336(e)S
1355(d)S
1376(.)S
225 X
1275 Y
395 X(\(iv\))s
0.0 10 10 f.CW ft
477(o)S
502(p)S
527(e)S
552(n)S
577(-)S
602(c)S
627(h)S
652(a)S
677(n)S
702(g)S
727(e)S
752(-)S
777(v)S
802(n)S
827(o)S
852(d)S
877(e)S
915 X
0.0 10 10 f.R ft(\320)s
970(The)S
1048 X(\256)s
1071(l)S
1083(e)S
1102(s)S
1118(e)S
1137(t)S
1149(')S
1162(s)S
1191(contents)S
1345(are)S
1410(being)S
1518(changed)S
1673(but)S
1741(by)S
1797(means)S
1918(of)S
1967(v)S
1988(n)S
2009(o)S
2030(d)S
2051(e)S
2070(-)S
2084(u)S
2105(s)S
2121(i)S
2133(n)S
2154(g)S
225 X
1325 Y
477 X(primitives;)s
676(this)S
753(means)S
876(restore.)S
1027(Since)S
1137(vnodes)S
1272(will)S
1354(be)S
1410(used)S
1503(during)S
1629(this)S
1706(operation,)S
1892(it)S
1932(is)S
1976(pointless)S
2142(to)S
225 X
1375 Y
477 X(\257)s
500(ush)S
568(cached)S
696(status)S
802(or)S
847(close)S
944(the)S
1006(anode)S
1118(handle.)S
1262(However,)S
1437(since)S
1535(these)S
1633(modi)S
1719 X(\256)s
1742(cations)S
1873(do)S
1926(not)S
1991(go)S
2044(t)S
2056(h)S
2077(r)S
2091(o)S
2112(u)S
2133(g)S
2154(h)S
225 X
1425 Y
477 X(VM,)s
564(the)S
626(page)S
716(cache)S
823(must)S
914(be)S
964(cleaned)S
1104(and)S
1175(i)S
1187(n)S
1208(v)S
1229(a)S
1248(l)S
1260(i)S
1272(d)S
1293(a)S
1312(t)S
1324(e)S
1343(d)S
1364(.)S
225 X
1500 Y
407 X(\(v\))s
0.0 10 10 f.CW ft
477(o)S
502(p)S
527(e)S
552(n)S
577(-)S
602(r)S
627(e)S
652(a)S
677(d)S
702(-)S
727(v)S
752(n)S
777(o)S
802(d)S
827(e)S
866 X
0.0 10 10 f.R ft(\320)s
922(The)S
1001 X(\256)s
1024(l)S
1036(e)S
1055(s)S
1071(e)S
1090(t)S
1102(')S
1115(s)S
1145(contents)S
1300(are)S
1366(only)S
1455(being)S
1563(examined)S
1741(by)S
1797(means)S
1918(of)S
1967(v)S
1988(n)S
2009(o)S
2030(d)S
2051(e)S
2070(-)S
2084(u)S
2105(s)S
2121(i)S
2133(n)S
2154(g)S
225 X
1550 Y
477 X(primitives;)s
671(this)S
743(means)S
861(dump.)S
987(This)S
1072(state)S
1161(is)S
1200(analogous)S
1381(to)S
1424(o)S
1445(p)S
1466(e)S
1485(n)S
1506(-)S
1520(c)S
1539(h)S
1560(a)S
1579(n)S
1600(g)S
1621(e)S
1640(-)S
1654(v)S
1675(n)S
1696(o)S
1717(d)S
1738(e)S
1757(,)S
1777(except)S
1898(that)S
1972(the)S
2034(c)S
2053(o)S
2074(n)S
2095(t)S
2107(e)S
2126(n)S
2147(t)S
2159(s)S
225 X
1600 Y
477 X(of)s
527(the)S
594 X(\256)s
617(leset)S
710(are)S
777(not)S
846(being)S
955(changed.)S
1131(The)S
1211(requirements)S
1446(are)S
1513(the)S
1581(same)S
1683(except)S
1810(that)S
1890(the)S
1958(existing)S
2108(VM)S
225 X
1650 Y
477 X(does)s
565(not)S
630(have)S
721(to)S
765(be)S
816(invalidated)S
1016(but)S
1081(must)S
1173(instead)S
1303(be)S
1353(w)S
1383(r)S
1397(i)S
1409(t)S
1421(e)S
1440(-)S
1454(p)S
1475(r)S
1489(o)S
1510(t)S
1522(e)S
1541(c)S
1560(t)S
1572(e)S
1591(d)S
1612(.)S
1642(Unclone)S
1795(\(front)S
1901 X(\256)s
1924(leset\))S
2026(is)S
2064(also)S
2142(in)S
225 X
1700 Y
477 X(this)s
548(category.)S
1684 Y
0.0 7 7 f.R ft
704(14)S
225 X
1775 Y
395 X
0.0 10 10 f.R ft(\(vi\))s
0.0 10 10 f.CW ft
477(open-noop)S
712 X
0.0 10 10 f.R ft(\320)s
764(The)S
839 X(\256)s
862(leset)S
950(header)S
1073(is)S
1112(being)S
1217(examined)S
1392(or)S
1438(modi)S
1524 X(\256)s
1547(ed)S
1598(\(gently\);)S
1755(this)S
1827(means)S
1945(getstatus,)S
2114(set)S
2161 X(-)s
225 X
1825 Y
477 X(quota)s
581(and)S
652(similar)S
779(operations.)S
985(These)S
1095(have)S
1185(no)S
1237(impact)S
1362(on)S
1414(the)S
1476(vnode)S
1589(pool.)S
225 X
1900 Y
281(\(b\))S
0.0 10 10 f.CW ft
351(sideRail)S
561 X
0.0 10 10 f.R ft(\320)s
613(On)S
674(AIX,)S
768(a)S
797(list)S
859(of)S
904(deferred)S
1055(VM)S
1132(r)S
1146(e)S
1165(q)S
1186(u)S
1207(e)S
1226(s)S
1242(t)S
1254(s)S
1270(.)S
225 X
2000 Y
%%IncludeFont: Helvetica-Bold

/Helvetica-Bold /Helvetica-Bold-8 roman-8-mappings AddRoman-8
/f.HB /Helvetica-Bold-8 findfont def

0.0 10 10 f.HB ft(5. PER-VNODE)s
532(S)S
560(T)S
582(A)S
609(T)S
634(E)S
225 X
2075 Y
0.0 10 10 f.R ft(This)s
310(section)S
441(describes)S
609(some)S
708(of)S
754(the)S
817(Episode)S
963(vnode)S
1077 X(\256)s
1100(elds)S
1179(that)S
1254(relate)S
1360(to)S
1404(vnode)S
1518(s)S
1534(y)S
1555(n)S
1576(c)S
1595(h)S
1616(r)S
1630(o)S
1651(n)S
1672(i)S
1684(z)S
1703(a)S
1722(t)S
1734(i)S
1746(o)S
1767(n)S
1788(.)S
1819(These)S
1931 X(\256)s
1954(elds)S
2034(d)S
2055(e)S
2074(s)S
2090(c)S
2109(r)S
2123(i)S
2135(b)S
2156(e)S
225 X
2125 Y(the)s
292(v)S
313(n)S
334(o)S
355(d)S
376(e)S
392(')S
405(s)S
436(identity,)S
591(its)S
646(underlying)S
844(anode)S
960(r)S
974(e)S
993(p)S
1014(r)S
1028(e)S
1047(s)S
1063(e)S
1082(n)S
1103(t)S
1115(a)S
1134(t)S
1146(i)S
1158(o)S
1179(n)S
1200(,)S
1225(the)S
1292(data)S
1378(cached)S
1511(in)S
1559(the)S
1626(vnode)S
1743(or)S
1792(bits)S
1867(describing)S
2057(c)S
2076(a)S
2095(c)S
2114(h)S
2135(e)S
2154(d)S
225 X
2175 Y(data.)s
225 X
2250 Y(These)s
335(are)S
397(protected)S
565(using)S
666(the)S
0.0 10 10 f.CW ft
743(efs_lockvp\(\))S
0.0 10 10 f.R ft
1053(and)S
0.0 10 10 f.CW ft
1139(e)S
1164(f)S
1189(s)S
1214(_)S
1239(u)S
1264(n)S
1289(l)S
1314(o)S
1339(c)S
1364(k)S
1389(v)S
1414(p)S
1439(\()S
1464(\))S
0.0 10 10 f.R ft
1499(macros)S
1631(to)S
1675(manipulate)S
1874(the)S
1937(operating)S
2108(sys)S
2161 X(-)s
225 X
2300 Y(tem)s
298(speci)S
385 X(\256)s
408(c)S
437(lock)S
520(protecting)S
702(the)S
764(vnode)S
877(reference)S
1045(c)S
1064(o)S
1085(u)S
1106(n)S
1127(t)S
1139(:)S
225 X
2375 Y
283(\(a\))S
0.0 10 10 f.CW ft
351(v_count)S
537 X
0.0 10 10 f.R ft(\320)s
590(The)S
666(v)S
687(n)S
708(o)S
729(d)S
750(e)S
766(')S
779(s)S
806(reference)S
975(count.)S
1100(This)S
1185 X(\256)s
1208(eld)S
1271(is)S
1310(really)S
1418(in)S
1462(the)S
1526(system)S
1654(independent)S
1873(part)S
1951(of)S
1998(the)S
2062(v)S
2083(n)S
2104(o)S
2125(d)S
2146(e)S
2165(,)S
225 X
2425 Y
351 X(but)s
415(Episode)S
560(makes)S
677(some)S
775(references)S
959(to)S
1002(it)S
1036(and)S
1107(the)S
1169(associated)S
1353(lock.)S
225 X
2500 Y
281(\()S
295(b)S
316(\))S
351(\()S
365(h)S
386(e)S
405(l)S
417(d)S
438(\))S
462 X(\320)s
514(This)S
598(is)S
636(not)S
700(an)S
750(explicit)S
888(bit,)S
953(but)S
1017(means)S
1134(that)S
1208(the)S
0.0 10 10 f.CW ft
1285(v_count)S
0.0 10 10 f.R ft
1470(is)S
1508(at)S
1549(least)S
1637(one.)S
225 X
2575 Y(These)s
335(are)S
397(protected)S
565(by)S
617(the)S
679(global)S
0.0 10 10 f.CW ft
810(vntableLock)S
0.0 10 10 f.R ft
1085(:)S
225 X
2690 Y
225 X
0.0 8 8 f.R ft
/Cru{ 0 ysiz pt 5 div 2 copy rmoveto
 (_) show
 neg rmoveto
}bind def

Cru
236 X
Cru
253 X
Cru
270 X
Cru
287 X
Cru
304 X
Cru
321 X
Cru
338 X
Cru
355 X
Cru
372 X
Cru
389 X
Cru
406 X
Cru
423 X
Cru
440 X
Cru
457 X
Cru
474 X
Cru
491 X
Cru
508 X
Cru
225 X
2739 Y(13.)s
275(A)S
310(special)S
416(open)S
494(mode)S
581(could)S
669(be)S
713(recognized)S
874(for)S
925(destroy)S
1037(that)S
1101(knows)S
1201(that)S
1265(the)S
1319(containing)S
1476 X(\256)s
1494(les)S
1544(are)S
1597(being)S
1685(deleted.)S
0.0 8 8 f.CW ft
1836(StopUse\(\))S
0.0 8 8 f.R ft
2028(could)S
2116(then)S
225 X
2776 Y(expunge)s
348(dirty)S
421(pages)S
506(without)S
619(being)S
703(required)S
824(to)S
859(write)S
937(them)S
1013(through.)S
1143(This)S
1211(might)S
1299(provide)S
1411(a)S
1434(useful)S
1525(speedup)S
1644(for)S
1691(temporary)S
1838 X(\256)s
1856(l)S
1866(e)S
1881(s)S
1894(e)S
1909(t)S
1919(s)S
1932(.)S
225 X
2825 Y(14.)s
275(Ideally)S
380(we)S
429(could)S
515(allow)S
601(the)S
653(front)S
729(volume)S
841(of)S
879(a)S
904(volume)S
1016(being)S
1102(uncloned)S
1237(to)S
1274(be)S
1316(opened)S
1424(in)S
1461(the)S
1513(weakest)S
1632(possible)S
1754(way.)S
1836(This)S
1906(is)S
1939(because)S
2056(we)S
2105(d)S
2122(o)S
2139(n)S
2154(')S
2165(t)S
225 X
2862 Y(really)s
314(care)S
381(about)S
468(the)S
521(state)S
595(of)S
634(the)S
687 X(\256)s
705(leset)S
779(being)S
866(uncloned,)S
1010(it)S
1041(d)S
1058(o)S
1075(e)S
1090(s)S
1103(n)S
1118(')S
1129(t)S
1150(need)S
1225(to)S
1263(represent)S
1397(a)S
1422(consistent)S
1569(snapshot)S
1698(so)S
1738(writes)S
1831(to)S
1868(the)S
1920(front)S
1996 X(\256)s
2014(leset)S
2087(do)S
2131(not)S
225 X
2899 Y(need)s
299(to)S
336(be)S
378(interrupted.)S
554(However,)S
695(the)S
747(locking)S
860(that)S
922(protects)S
1040(the)S
1092(VM)S
1156(s)S
1169(y)S
1186(s)S
1199(t)S
1209(e)S
1224(m)S
1247(')S
1257(s)S
1280(use)S
1335(of)S
1373(the)S
1425(block)S
1511(map)S
1579(is)S
1612(not)S
1666(at)S
1701(a)S
1726(convenient)S
1886(level)S
1964(for)S
2014(the)S
2067(u)S
2084(n)S
2101(c)S
2116(l)S
2126(o)S
2143(n)S
2160(e)S
225 X
2936 Y(operation.)s
378(This)S
446(could)S
530(be)S
570 X(\256)s
588(xed)S
645(by)S
687(locating)S
806(each)S
876(vnode)S
967(in)S
1002(the)S
1052(front)S
1126 X(\256)s
1144(leset,)S
1223(grabbing)S
1352(the)S
0.0 8 8 f.CW ft
1414(vd_vm.lock)S
0.0 8 8 f.R ft
1622(and)S
1679(then)S
1746(doing)S
1832(the)S
1882(u)S
1899(n)S
1916(c)S
1931(l)S
1941(o)S
1958(n)S
1975(e)S
1990(.)S
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2044 X(P)s
2071(a)S
2094(g)S
2117(e)S
2140( )S
2152(4)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Roman Courier Helvetica-Bold
%%Page: label 5
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft
283(\(a\))S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
351(vd_fid)S
511 X
0.0 10 10 f.R ft(\320)s
563(The)S
638 X(\256)s
661(le)S
702(identi)S
799 X(\256)s
822(er)S
865(for)S
924(the)S
986(vnode.)S
1119(The)S
0.0 10 10 f.CW ft
1209(vd_idLock)S
0.0 10 10 f.R ft
1444(must)S
1535(also)S
1613(be)S
1663(held)S
1746(to)S
1789(change)S
1919(this)S
1990 X(\256)s
2013(eld.)S
225 X
475 Y
281(\()S
295(b)S
316(\))S
351(\()S
0.0 10 10 f.CW ft
365(NoIdentity)S
0.0 10 10 f.R ft
615(\))S
639 X(\320)s
691(This)S
775(i)S
787(s)S
803(n)S
822(')S
836(t)S
858(an)S
908(explicit)S
1046(bit,)S
1111(but)S
1175(is)S
1213(true)S
1289(i)S
1301 X
/Cff{ (f) show xsiz pt 20 div neg 0 rmoveto (f) s
}bind def

Cff
1337 X(\256)s
1360(d)S
1391(is)S
1429(invalid.)S
1577(If)S
1615(the)S
1677(vnode)S
1790(is)S
1829(held)S
1913(and)S
0.0 10 10 f.CW ft
2000(NoIden)S
2150 X(-)s
225 X
525 Y
351 X(tity)s
0.0 10 10 f.R ft
451(,)S
476(the)S
543(vnode)S
661(can)S
735(be)S
790(referred)S
939(to)S
987(as)S
%%IncludeFont: Times-Bold

/Times-Bold /Times-Bold-8 roman-8-mappings AddRoman-8
/f.B /Times-Bold-8 findfont def

0.0 10 10 f.B ft
1037(stale)S
0.0 10 10 f.R ft
1119(.)S
509 Y
0.0 7 7 f.R ft
1129(15)S
525 Y
0.0 10 10 f.R ft
1184(All)S
1253(vnodes)S
1387(with)S
1477(identities)S
1648(are)S
1715(in)S
1763(the)S
1830(vnode)S
1948(hash)S
2040(table)S
2138(so)S
225 X
575 Y
351 X
0.0 10 10 f.CW ft(NoIdentity)s
0.0 10 10 f.R ft
626(is)S
679(synonymous)S
915(with)S
0.0 10 10 f.CW ft
1030(!vd_onHash)S
0.0 10 10 f.R ft
1280(.)S
1325(A)S
1380(vnode)S
1508(may)S
1604(not)S
%%IncludeFont: Times-Italic

/Times-Italic /Times-Italic-8 roman-8-mappings AddRoman-8
/f.I /Times-Italic-8 findfont def

0.0 10 10 f.I ft
1682(lose)S
0.0 10 10 f.R ft
1774(its)S
1838(identify)S
1994(unless)S
2123(the)S
225 X
625 Y
351 X
0.0 10 10 f.CW ft(vd_idLock)s
0.0 10 10 f.R ft
586(is)S
624(locked.)S
767(A)S
0.0 10 10 f.CW ft
823(NoIdentity)S
0.0 10 10 f.R ft
1084(vnode)S
1198(will)S
1275(not)S
0.0 10 10 f.I ft
1340(gain)S
0.0 10 10 f.R ft
1426(an)S
1477(identity)S
1618(while)S
1723(it)S
1758(is)S
1797(held,)S
1891(in)S
1935(other)S
2033(words,)S
2156(a)S
225 X
675 Y
351 X(stale)s
439(vnode)S
552(will)S
628(stay)S
706(that)S
780(way)S
860(until)S
948(r)S
962(e)S
981(l)S
993(e)S
1012(a)S
1031(s)S
1047(e)S
1066(d)S
1087(.)S
225 X
750 Y
283(\(c\))S
0.0 10 10 f.CW ft
351(vd_volid)S
561 X
0.0 10 10 f.R ft(\320)s
613(The)S
688(containing)S
877(v)S
898(o)S
919(l)S
931(u)S
952(m)S
984(e)S
1000(')S
1013(s)S
1039(ID.)S
1113(Only)S
1207(valid)S
1302(if)S
1338 X(\256)s
1361(d)S
1392(also)S
1470(v)S
1491(a)S
1510(l)S
1522(i)S
1534(d)S
1555(.)S
225 X
825 Y
281(\(d\))S
0.0 10 10 f.CW ft
351(vd_onHash)S
586 X
0.0 10 10 f.R ft(\320)s
638(In)S
683(the)S
745(vnode)S
858(hash)S
945(table.)S
1058(Implies)S
0.0 10 10 f.CW ft
1209(!NoIdentity)S
0.0 10 10 f.R ft
1484(.)S
225 X
900 Y
283(\(e\))S
0.0 10 10 f.CW ft
351(vd_label)S
561 X
0.0 10 10 f.R ft(\320)s
613(Vnode)S
735(iteration)S
887(label,)S
990(see)S
0.0 10 10 f.CW ft
1069(v)S
1094(n)S
1119(m)S
1144(_)S
1169(S)S
1194(t)S
1219(o)S
1244(p)S
1269(U)S
1294(s)S
1319(e)S
1344(\()S
1369(\))S
0.0 10 10 f.R ft
1394(.)S
225 X
975 Y
288(\(f\))S
0.0 10 10 f.CW ft
351(vd_onLRU)S
561 X
0.0 10 10 f.R ft(\320)s
613(On)S
674(the)S
736(LRU)S
829(list.)S
225 X
1050 Y
281(\(g\))S
0.0 10 10 f.CW ft
351(v)S
376(d)S
401(_)S
426(a)S
451(v)S
476(o)S
501(i)S
526(d)S
551(R)S
576(e)S
601(c)S
626(y)S
651(c)S
676(l)S
701(e)S
738 X
0.0 10 10 f.R ft(\320)s
792(Is)S
834(set)S
893(by)S
0.0 10 10 f.CW ft
962(StopUse\(\))S
0.0 10 10 f.R ft
1199(when)S
1302(it)S
1338(has)S
1406(blocked)S
0.0 10 10 f.CW ft
1567(PageIn\(\))S
0.0 10 10 f.R ft
1779(for)S
1840(a)S
1872(vnode)S
1988(with)S
2076(a)S
2108(VM)S
225 X
1100 Y
351 X(segment.)s
521(Used)S
617(by)S
0.0 10 10 f.CW ft
684(O)S
709(b)S
734(t)S
759(a)S
784(i)S
809(n)S
834(V)S
859(n)S
884(o)S
909(d)S
934(e)S
959(\()S
984(\))S
0.0 10 10 f.R ft
1019(to)S
1062(traverse)S
1206(the)S
1268(LRU)S
1361(list)S
1423(without)S
1562(dropping)S
1724(the)S
1786(v)S
1807(n)S
1828(t)S
1840(a)S
1859(b)S
1880(l)S
1892(e)S
1911(L)S
1936(o)S
1957(c)S
1976(k)S
1997(.)S
225 X
1175 Y(The)s
0.0 10 10 f.CW ft
319(vd_cache)S
0.0 10 10 f.R ft
533(substructure)S
753(contains)S
908 X(\256)s
931(elds)S
1013(which)S
1130(describe)S
1285(frequently)S
1473(changing)S
1642(attributes)S
1814(cached)S
1947(in)S
1995(the)S
2062(v)S
2083(n)S
2104(o)S
2125(d)S
2146(e)S
2165(.)S
225 X
1225 Y(This)s
310(includes)S
461(the)S
523(access,)S
651(modi)S
737 X(\256)s
760(cation)S
874(and)S
945(change)S
1075(times)S
1176(as)S
1221(well)S
1304(as)S
1349(the)S
1411 X(\256)s
1434(le)S
1475(contents)S
1626(data)S
1707(version)S
1841(number.)S
1999(The)S
2074 X(\256)s
2097(leset)S
225 X
1275 Y(version)s
360(number)S
499(\()S
0.0 10 10 f.CW ft
513(VV)S
0.0 10 10 f.R ft
563(\))S
588(is)S
627(not)S
692(cached)S
821(because)S
966(its)S
1017(value)S
1120(is)S
1159(maintained)S
1358(on)S
1411(a)S
1441(per-volume)S
1646(basis.)S
1761(The)S
1837(intent)S
1946(to)S
1991(change)S
2123(the)S
225 X
1325 Y
0.0 10 10 f.CW ft(VV)s
0.0 10 10 f.R ft
285(is)S
323(indicated)S
489(by)S
541(a)S
570(dirty)S
660(c)S
679(t)S
691(i)S
703(m)S
735(e)S
754(.)S
225 X
1400 Y(The)s
0.0 10 10 f.CW ft
315(vd_cache)S
525 X
0.0 10 10 f.R ft(\256)s
548(elds)S
626(are)S
688(protected)S
856(by)S
908(the)S
0.0 10 10 f.CW ft
985(v)S
1010(d)S
1035(_)S
1060(c)S
1085(a)S
1110(c)S
1135(h)S
1160(e)S
1185(.)S
1210(l)S
1235(o)S
1260(c)S
1285(k)S
0.0 10 10 f.R ft
1310(:)S
225 X
1475 Y
283(\(a\))S
0.0 10 10 f.CW ft
351(noChange)S
561 X
0.0 10 10 f.R ft(\320)s
0.0 10 10 f.CW ft
628(atime)S
0.0 10 10 f.R ft
763(updates)S
902(are)S
964(i)S
976(g)S
997(n)S
1018(o)S
1039(r)S
1053(e)S
1072(d)S
1093(.)S
225 X
1550 Y
281(\(b\))S
0.0 10 10 f.CW ft
351(noStatus)S
561 X
0.0 10 10 f.R ft(\320)s
613(Unused,)S
761(parallels)S
0.0 10 10 f.CW ft
930(noAnode)S
0.0 10 10 f.R ft
1105(.)S
225 X
1625 Y
283(\(c\))S
0.0 10 10 f.CW ft
351(noDirty)S
536 X
0.0 10 10 f.R ft(\320)s
588(No)S
649(unwritten)S
821(status)S
927(u)S
948(p)S
969(d)S
990(a)S
1009(t)S
1021(e)S
1040(s)S
1056(.)S
225 X
1700 Y
281(\(d\))S
0.0 10 10 f.CW ft
351(new[AMC]time)S
661 X
0.0 10 10 f.R ft(\320)s
713(A)S
753(bit)S
808(for)S
867(each)S
955(time)S
1040(value,)S
1152(set)S
1209(if)S
1245(d)S
1266(i)S
1278(r)S
1292(t)S
1304(y)S
1325(.)S
225 X
1775 Y
283(\(e\))S
0.0 10 10 f.CW ft
351(l)S
376(a)S
401(s)S
426(t)S
451([)S
476(A)S
501(M)S
526(C)S
551(])S
576(t)S
601(i)S
626(m)S
651(e)S
686 X
0.0 10 10 f.R ft(\320)s
738(Current)S
877(time)S
962(v)S
983(a)S
1002(l)S
1014(u)S
1035(e)S
1054(s)S
1070(.)S
225 X
1850 Y
288(\(f\))S
0.0 10 10 f.CW ft
351(dataVersion)S
636 X
0.0 10 10 f.R ft(\320)s
688(Current)S
827 X(\256)s
850(le)S
891(data)S
972(version)S
1106(n)S
1127(u)S
1148(m)S
1180(b)S
1201(e)S
1220(r)S
1234(.)S
225 X
1925 Y(The)s
0.0 10 10 f.CW ft
315(vd_file)S
0.0 10 10 f.R ft
500(substructure)S
716(contains)S
867 X(\256)s
890(elds)S
968(relating)S
1108(to)S
1151(the)S
1213(anode)S
1324(level)S
1418(r)S
1432(e)S
1451(p)S
1472(r)S
1486(e)S
1505(s)S
1521(e)S
1540(n)S
1561(t)S
1573(a)S
1592(t)S
1604(i)S
1616(o)S
1637(n)S
1669(of)S
1715(the)S
1778 X(\256)s
1801(le.)S
1863(These)S
1974 X(\256)s
1997(elds,)S
2086(espe)S
2161 X(-)s
225 X
1975 Y(cially)s
334(the)S
400(anode)S
515(handle,)S
652(are)S
718(used)S
809(by)S
865(almost)S
991(all)S
1048(vnode)S
1165(operations)S
1355(without)S
1497(the)S
1562(protection)S
1747(of)S
1795(the)S
0.0 10 10 f.CW ft
1875(v)S
1900(d)S
1925(_)S
1950(f)S
1975(i)S
2000(l)S
2025(e)S
2050(.)S
2075(l)S
2100(o)S
2125(c)S
2150(k)S
225 X
2025 Y
0.0 10 10 f.R ft(\(see)s
303(Locks\).)S
449(The)S
0.0 10 10 f.CW ft
539(vd_file.lock)S
0.0 10 10 f.R ft
849(must)S
940(be)S
990(locked)S
1113(when)S
1214(these)S
1311 X(\256)s
1334(elds)S
1412(are)S
1474(c)S
1493(h)S
1514(a)S
1533(n)S
1554(g)S
1575(e)S
1594(d)S
1615(:)S
225 X
2100 Y
283(\(a\))S
0.0 10 10 f.CW ft
351(noAnode)S
540 X
0.0 10 10 f.R ft(\320)s
596(Anode)S
722(handle)S
849(must)S
944(stay)S
1027(closed.)S
1170(Both)S
1267(volume)S
1408(and)S
1484(vnode)S
1602(operations)S
1793(that)S
1872(require)S
2007(the)S
2074(anode)S
225 X
2150 Y
351 X(handle)s
474(should)S
596(fail.)S
225 X
2225 Y
281(\(b\))S
0.0 10 10 f.CW ft
351(noDelete)S
566 X
0.0 10 10 f.R ft(\320)s
623(Inactivation)S
841(of)S
891(vnodes)S
1025(for)S
1089(ZLC)S
1182 X(\256)s
1205(les)S
1267(does)S
1359(not)S
1428(reclaim)S
1570(space.)S
1700(This)S
1790(is)S
1834(set)S
1897(in)S
1946(various)S
2086(cases)S
225 X
2275 Y
351 X(where)s
464(deleting)S
611 X(\256)s
634(les)S
691(would)S
806(be)S
856(a)S
885(bad)S
956(idea,)S
1047(for)S
1106(example)S
1259(during)S
1379(volume)S
1515(ops)S
1583(and)S
1654(when)S
1755(the)S
1817 X(\256)s
1840(leset)S
1928(is)S
1966(r)S
1980(e)S
1999(a)S
2018(d)S
2039(o)S
2060(n)S
2081(l)S
2093(y)S
2114(.)S
225 X
2350 Y
283(\(c\))S
0.0 10 10 f.CW ft
351(readonly)S
561 X
0.0 10 10 f.R ft(\320)s
613(File)S
689(is)S
727(in)S
770(a)S
799(readonly)S
957(volume.)S
1113(This)S
1197(bit)S
1252(is)S
1290(derived)S
1427(from)S
1518(the)S
1580(volume)S
1716(header)S
1839(and)S
1910(is)S
1948(ignored)S
2087(if)S
2123(the)S
225 X
2400 Y
351 X(volume)s
498(is)S
547(open.)S
670(This)S
765(is)S
814(intended)S
980(to)S
1033(cover)S
1147(replicated)S
1335(and)S
1416(backup)S
1558 X(\256)s
1581(lesets.)S
1715(Filesets)S
1864(which)S
1987(are)S
2059(l)S
2071(o)S
2092(c)S
2111(a)S
2130(l)S
2142(l)S
2154(y)S
225 X
2450 Y
351 X(mounted)s
513(R/O)S
598(are)S
665(handled)S
814(separately)S
1001(\(see)S
1084(de)S
1124 X(\256)s
1147(nition)S
1261(of)S
0.0 10 10 f.CW ft
1326(E)S
1351(V)S
1376(_)S
1401(I)S
1426(S)S
1451(R)S
1476(E)S
1501(A)S
1526(D)S
1551(O)S
1576(N)S
1601(L)S
1626(Y)S
0.0 10 10 f.R ft
1651(\).)S
1701(Filesets)S
1846(on)S
1904(R/O)S
1990(media)S
2109(will)S
225 X
2500 Y
351 X(presumably)s
557(need)S
647(a)S
676(new)S
756(mechanism)S
957(to)S
1000(inform)S
1124(Episode)S
1269(of)S
1314(the)S
1376(r)S
1390(e)S
1409(a)S
1428(d)S
1449(o)S
1470(n)S
1491(l)S
1503(y)S
1524(-)S
1538(n)S
1559(e)S
1578(s)S
1594(s)S
1620(of)S
1665(the)S
1727(media)S
1840(or)S
1885(h)S
1906(a)S
1925(r)S
1939(d)S
1960(w)S
1990(a)S
2009(r)S
2023(e)S
2042(.)S
225 X
2575 Y
281(\(d\))S
0.0 10 10 f.CW ft
351(anode)S
486 X
0.0 10 10 f.R ft(\320)s
538(Anode)S
660(handle)S
783(is)S
821(open.)S
225 X
2650 Y
283(\(e\))S
0.0 10 10 f.CW ft
351(anodeRO)S
537 X
0.0 10 10 f.R ft(\320)s
590(File)S
667(is)S
706(unwritable)S
898(due)S
970(to)S
1014(the)S
1077(presence)S
1236(of)S
1282(a)S
0.0 10 10 f.B ft
1312(COW)S
0.0 10 10 f.R ft
1427(\(copy)S
1534(on)S
1587(write\))S
1699 X(\256)s
1722(le)S
1764(\(namely,)S
1923(\()S
0.0 10 10 f.CW ft
1937(copies>0)S
0.0 10 10 f.R ft
2137(\)\).)S
225 X
2700 Y
351 X(This)s
436(is)S
474(intended)S
630(to)S
673(handle)S
796(cases)S
895(where)S
1008(an)S
1058(interrupted)S
1254 X(\256)s
1277(leset)S
1365(operation)S
1535(leaves)S
1651(some)S
1749 X(\256)s
1772(les)S
1829(in)S
1872(an)S
1922(otherwise)S
2096(R/W)S
225 X
2750 Y
351 X(\256)s
374(leset)S
462(with)S
547(a)S
576(COW)S
683(r)S
697(e)S
716(f)S
730(e)S
749(r)S
763(e)S
782(n)S
803(c)S
822(e)S
841(.)S
225 X
2850 Y
225 X
0.0 8 8 f.R ft
/Cru{ 0 ysiz pt 5 div 2 copy rmoveto
 (_) show
 neg rmoveto
}bind def

Cru
236 X
Cru
253 X
Cru
270 X
Cru
287 X
Cru
304 X
Cru
321 X
Cru
338 X
Cru
355 X
Cru
372 X
Cru
389 X
Cru
406 X
Cru
423 X
Cru
440 X
Cru
457 X
Cru
474 X
Cru
491 X
Cru
508 X
Cru
225 X
2899 Y(15.)s
275(Stale)S
353(vnodes)S
459(can)S
516(be)S
558(created)S
666(by)S
0.0 8 8 f.CW ft
722(vnm_Delete\(\))S
0.0 8 8 f.R ft
972(and)S
0.0 8 8 f.CW ft
1043(v)S
1063(n)S
1083(m)S
1103(_)S
1123(S)S
1143(t)S
1163(o)S
1183(p)S
1203(U)S
1223(s)S
1243(e)S
1263(\()S
1283(\))S
0.0 8 8 f.R ft
1303(,)S
1321(if)S
1352(a)S
1377 X(\256)s
1395(le)S
1430(is)S
1463(held)S
1531(across)S
1624(certain)S
1726 X(\256)s
1744(leset)S
1816(operations)S
1967(such)S
2038(as)S
2075(r)S
2086(e)S
2101(s)S
2114(t)S
2124(o)S
2141(r)S
2152(e)S
2167(,)S
225 X
2936 Y(reclone)s
333(or)S
369(destroy.)S
493(All)S
545(operations)S
695(on)S
737(all)S
780(such)S
850(vnodes)S
954(fail)S
1008(with)S
0.0 8 8 f.CW ft
1089(ESTALE)S
0.0 8 8 f.R ft
1209(,)S
1225(except)S
0.0 8 8 f.CW ft
1334(V)S
1354(O)S
1374(P)S
1394(_)S
1414(I)S
1434(N)S
1454(A)S
1474(C)S
1494(T)S
1514(I)S
1534(V)S
1554(E)S
1574(\()S
1594(\))S
0.0 8 8 f.R ft
1614(.)S
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2044 X(P)s
2071(a)S
2094(g)S
2117(e)S
2140( )S
2152(5)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Roman Courier Times-Bold Times-Italic
%%Page: label 6
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft
288(\(f\))S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
351(ap)S
411 X
0.0 10 10 f.R ft(\320)s
463(Anode)S
585(handle)S
708(representing)S
927 X(\256)s
950(d.)S
225 X
475 Y(The)s
0.0 10 10 f.CW ft
319(vd_vm)S
0.0 10 10 f.R ft
459(substructure)S
680(contains)S
836(various)S
975(bits)S
1051(describing)S
1242(the)S
1309(state)S
1402(of)S
1452(the)S
1519(VM)S
1601(system)S
1732(as)S
1782(it)S
1821(relates)S
1947(to)S
1995(the)S
2062(v)S
2083(n)S
2104(o)S
2125(d)S
2146(e)S
2165(.)S
225 X
525 Y(These)s
335 X(\256)s
358(elds)S
436(are)S
498(protected)S
666(by)S
718(the)S
0.0 10 10 f.CW ft
795(vd_vm.lock)S
0.0 10 10 f.R ft
1045(:)S
225 X
600 Y
283(\(a\))S
0.0 10 10 f.CW ft
351(noReadable)S
611 X
0.0 10 10 f.R ft(\320)s
663(Requests)S
825(for)S
884(new)S
964(page)S
1054(mappings)S
1227(block.)S
1351(Implies)S
0.0 10 10 f.CW ft
1502(noWritable)S
0.0 10 10 f.R ft
1752(.)S
225 X
675 Y
281(\(b\))S
0.0 10 10 f.CW ft
351(noWritable)S
611 X
0.0 10 10 f.R ft(\320)s
663(Requests)S
825(to)S
868(return)S
979(writable)S
1128(page)S
1218(mappings)S
1391(b)S
1412(l)S
1424(o)S
1445(c)S
1464(k)S
1485(.)S
225 X
750 Y
283(\(c\))S
0.0 10 10 f.CW ft
351(readonly)S
562 X
0.0 10 10 f.R ft(\320)s
615(Requests)S
778(for)S
838(writable)S
988(page)S
1079(mappings)S
1253(that)S
1328(cannot)S
1452(be)S
1504(satis)S
1579 X(\256)s
1602(ed)S
1654(with)S
1741(w)S
1771(r)S
1785(i)S
1797(t)S
1809(e)S
1828(-)S
1842(p)S
1863(r)S
1877(o)S
1898(t)S
1910(e)S
1929(c)S
1948(t)S
1960(e)S
1979(d)S
2012(m)S
2044(a)S
2063(p)S
2084(p)S
2105(i)S
2117(n)S
2138(g)S
2159(s)S
225 X
800 Y
351 X(fail.)s
225 X
875 Y
281(\(d\))S
0.0 10 10 f.CW ft
351(valid)S
486 X
0.0 10 10 f.R ft(\320)s
538(Valid)S
642(pages)S
748(may)S
830(e)S
849(x)S
870(i)S
882(s)S
898(t)S
910(.)S
225 X
950 Y
283(\(e\))S
0.0 10 10 f.CW ft
351(dirty)S
486 X
0.0 10 10 f.R ft(\320)s
538(Modi)S
629 X(\256)s
652(ed)S
702(pages)S
808(may)S
890(e)S
909(x)S
930(i)S
942(s)S
958(t)S
970(.)S
225 X
1025 Y
288(\(f\))S
0.0 10 10 f.CW ft
351(seg)S
437 X
0.0 10 10 f.R ft(\320)s
490(On)S
552(AIX,)S
648(has)S
716(a)S
747(VM)S
826(segment)S
978(\(kept)S
1077(in)S
0.0 10 10 f.CW ft
1137(vd_seg)S
0.0 10 10 f.R ft
1287(\).)S
1333(The)S
1410(creation)S
1559(and)S
1632(deletion)S
1781(of)S
1828(the)S
1892(VM)S
1971(segment)S
2123(are)S
225 X
1075 Y
351 X(protected)s
519(by)S
571(the)S
0.0 10 10 f.CW ft
648(vd_idLock)S
0.0 10 10 f.R ft
873(.)S
903(Never)S
1016(set)S
1073(on)S
1125(S)S
1148(u)S
1169(n)S
1190(O)S
1220(S)S
1243(.)S
225 X
1150 Y
%%IncludeFont: Helvetica-Bold

/Helvetica-Bold /Helvetica-Bold-8 roman-8-mappings AddRoman-8
/f.HB /Helvetica-Bold-8 findfont def

0.0 10 10 f.HB ft(5.1. Open)s
424(V)S
449(o)S
474(l)S
486(u)S
511(m)S
548(e)S
583(R)S
613(e)S
636(s)S
659(t)S
673(r)S
689(i)S
701(c)S
724(t)S
738(i)S
750(o)S
775(n)S
800(s)S
225 X
1225 Y
0.0 10 10 f.R ft(When)s
339(a)S
372(volume)S
512(is)S
554(opened,)S
701(six)S
765(bits)S
841(are)S
908(speci)S
995 X(\256)s
1018(ed)S
1073(\()S
0.0 10 10 f.CW ft
1087(openbits)S
0.0 10 10 f.R ft
1287(\))S
1316(that)S
1395(describe)S
1551(the)S
1618(allowable)S
1798(states)S
1907(for)S
1971(cached)S
2104(data)S
225 X
1275 Y(associated)s
413(with)S
502(the)S
568(vnode.)S
705(Each)S
803(bit)S
862(controls)S
1012(part)S
1092(of)S
1141(the)S
1207(vnode)S
1323(state)S
1414(space.)S
1541(Setting)S
1674(the)S
1739(bit)S
1797(will)S
1876(restrict)S
2007(the)S
2072(vnode)S
225 X
1325 Y(from)s
317(entering)S
467(that)S
542(state.)S
651(Of)S
706(course,)S
837(it)S
872(may)S
955(already)S
1091(be)S
1142(in)S
1186(the)S
1249(restricted)S
1418(state,)S
1517(so)S
1566(the)S
1630(function)S
1783(that)S
1859(modi)S
1945 X(\256)s
1968(es)S
2015(these)S
2114(bits)S
225 X
1375 Y(\()s
0.0 10 10 f.CW ft
239(v)S
264(n)S
289(m)S
314(_)S
339(S)S
364(t)S
389(o)S
414(p)S
439(U)S
464(s)S
489(e)S
514(\()S
539(\))S
0.0 10 10 f.R ft
564(\))S
591(can)S
663(also)S
744(move)S
850(the)S
915(vnode)S
1031(out)S
1097(of)S
1144(the)S
1208(restricted)S
1378(state)S
1468(when)S
1571(setting)S
1696(any)S
1769(bit.)S
1846(These)S
1958(bits)S
2031(then)S
2116(can)S
225 X
1425 Y(refer)s
316(both)S
402(to)S
446(state)S
535(restrictions)S
734(and)S
806(to)S
850(a)S
880(process)S
1017(for)S
1077(forcing)S
1210(the)S
1273(vnode)S
1387(out)S
1452(of)S
1498(the)S
1561(restricted)S
1730(state.)S
1840(F)S
1862(o)S
1883(r)S
1909(example,)S
2074(speci)S
2161 X(-)s
225 X
1475 Y(fying)s
0.0 10 10 f.CW ft
377(S)S
402(T)S
427(O)S
452(P)S
477(U)S
502(S)S
527(E)S
552(_)S
577(N)S
602(O)S
627(_)S
652(D)S
677(I)S
702(R)S
727(T)S
752(Y)S
777(V)S
802(M)S
0.0 10 10 f.R ft
875(prevents)S
1066(the)S
1166(creation)S
1351(of)S
1434(writable)S
1621(page)S
1749(mappings)S
1959(\(by)S
2062(s)S
2078(e)S
2097(t)S
2109(t)S
2121(i)S
2133(n)S
2154(g)S
225 X
1525 Y
0.0 10 10 f.CW ft(v)s
250(d)S
275(_)S
300(v)S
325(m)S
350(.)S
375(n)S
400(o)S
425(W)S
450(r)S
475(i)S
500(t)S
525(a)S
550(b)S
575(l)S
600(e)S
0.0 10 10 f.R ft
625(\),)S
659(and)S
730(cleans)S
846(all)S
899(dirty)S
989(pages)S
1095(\(by)S
1161(calling)S
0.0 10 10 f.CW ft
1302(vnvm_Clean\(\))S
0.0 10 10 f.R ft
1602(\).)S
225 X
1600 Y(Operations)s
439(that)S
532(violate)S
678(open)S
790(volume)S
946(restrictions)S
1164(must)S
1275(be)S
1345(blocked)S
1509(by)S
1581(volume)S
1737(s)S
1753(y)S
1774(n)S
1795(c)S
1814(h)S
1835(r)S
1849(o)S
1870(n)S
1891(i)S
1903(z)S
1922(a)S
1941(t)S
1953(i)S
1965(o)S
1986(n)S
2037(\(i.e.,)S
2142(in)S
225 X
1650 Y
0.0 10 10 f.CW ft(v)s
250(o)S
275(l)S
300(_)S
325(S)S
350(t)S
375(a)S
400(r)S
425(t)S
450(V)S
475(n)S
500(o)S
525(d)S
550(e)S
575(O)S
600(p)S
625(\()S
650(\))S
0.0 10 10 f.R ft
675(\),)S
710(rejected)S
856(by)S
908(the)S
970(volume)S
1106(ops)S
1174(dispatch)S
1325(code)S
1415(\(in)S
0.0 10 10 f.CW ft
1487(a)S
1512(f)S
1537(s)S
1562(c)S
1587(a)S
1612(l)S
1637(l)S
1662(_)S
1687(v)S
1712(o)S
1737(l)S
1762(s)S
1787(e)S
1812(r)S
1837(\()S
1862(\))S
0.0 10 10 f.R ft
1897(using)S
1998(the)S
0.0 10 10 f.CW ft
2075(VOL)S
2150 X(-)s
225 X
1700 Y(CHECK\(\))s
0.0 10 10 f.R ft
412(macro\))S
543(or)S
590(handled)S
736(by)S
790(Episode)S
937(\(e.g.,)S
0.0 10 10 f.CW ft
1049(getpage\(\))S
0.0 10 10 f.R ft
1287(returns)S
1417(only)S
1505(R/O)S
1588(pages\).)S
1731(F)S
1753(o)S
1774(r)S
1801(example,)S
1967(v)S
1988(n)S
2009(o)S
2030(d)S
2051(e)S
2070(-)S
2084(u)S
2105(s)S
2121(i)S
2133(n)S
2154(g)S
225 X
1750 Y(primitives)s
409(invoked)S
558(by)S
613(volume)S
752(operations)S
941(that)S
1017(con)S
1078 X(\257)s
1101(ict)S
1156(with)S
1243(the)S
1307(volume)S
1445(open)S
1539(bits)S
1612(must)S
1705(be)S
1757(avoided)S
1903(\(e.g.,)S
1999(s)S
2015(p)S
2036(e)S
2055(c)S
2074(i)S
2086(f)S
2100(y)S
2121(i)S
2133(n)S
2154(g)S
225 X
1800 Y
0.0 10 10 f.CW ft(S)s
250(T)S
275(O)S
300(P)S
325(U)S
350(S)S
375(E)S
400(_)S
425(N)S
450(O)S
475(_)S
500(D)S
525(I)S
550(R)S
575(T)S
600(Y)S
0.0 10 10 f.R ft
635(is)S
673(incompatible)S
904(with)S
989(restore)S
1114(o)S
1135(p)S
1156(e)S
1175(r)S
1189(a)S
1208(t)S
1220(i)S
1232(o)S
1253(n)S
1274(s)S
1290(\))S
1304(.)S
225 X
1875 Y(When)s
341(the)S
409(volume)S
551(is)S
595(closed,)S
0.0 10 10 f.CW ft
744(v)S
769(n)S
794(m)S
819(_)S
844(S)S
869(t)S
894(o)S
919(p)S
944(U)S
969(s)S
994(e)S
1019(\()S
1044(\))S
0.0 10 10 f.R ft
1085(is)S
1129(called)S
1247(with)S
1338(an)S
0.0 10 10 f.CW ft
1410(openbits)S
0.0 10 10 f.R ft
1627(value)S
1736(of)S
1788(zero)S
1878(which)S
1998(returns)S
2132(all)S
225 X
1925 Y(vnodes)s
354(to)S
397(normal)S
526(o)S
547(p)S
568(e)S
587(r)S
601(a)S
620(t)S
632(i)S
644(o)S
665(n)S
686(.)S
225 X
2000 Y(The)s
304(function)S
0.0 10 10 f.CW ft
474(S)S
499(e)S
524(t)S
549(R)S
574(e)S
599(s)S
624(t)S
649(r)S
674(i)S
699(c)S
724(t)S
749(i)S
774(o)S
799(n)S
824(s)S
849(\()S
874(\))S
0.0 10 10 f.R ft
913(processes)S
1088(these)S
0.0 10 10 f.CW ft
1204(openbits)S
0.0 10 10 f.R ft
1418(to)S
1465(set)S
1526(or)S
1575(clear)S
1673(the)S
1740(various)S
1879(restriction)S
2066(bits)S
2142(in)S
225 X
2050 Y(the)s
287(v)S
308(n)S
329(o)S
350(d)S
371(e)S
390(:)S
225 X
2125 Y
283(\(a\))S
0.0 10 10 f.CW ft
351(S)S
376(T)S
401(O)S
426(P)S
451(U)S
476(S)S
501(E)S
526(_)S
551(N)S
576(O)S
601(_)S
626(C)S
651(H)S
676(A)S
701(N)S
726(G)S
751(E)S
792 X
0.0 10 10 f.R ft(\320)s
850(Containing)S
1054 X(\256)s
1077(leset)S
1171(is)S
1215(open.)S
1333(O)S
1363(p)S
1384(e)S
1403(r)S
1417(a)S
1436(t)S
1448(i)S
1460(o)S
1481(n)S
1502(a)S
1521(l)S
1533(l)S
1545(y)S
1582(this)S
1659(bit)S
1720(is)S
1764(assumed)S
1924(if)S
1967(any)S
2045(bits)S
2123(are)S
225 X
2175 Y
351 X(speci)s
438 X(\256)s
461(ed.)S
535(Attempts)S
703(to)S
750(delete)S
866(zero)S
953(link)S
1033(count)S
1141 X(\256)s
1164(les)S
1224(are)S
1289(ignored)S
1431(\(calls)S
1536(to)S
0.0 10 10 f.CW ft
1597(v)S
1622(n)S
1647(m)S
1672(_)S
1697(i)S
1722(n)S
1747(a)S
1772(c)S
1797(t)S
1822(i)S
1847(v)S
1872(e)S
1897(\()S
1922(\))S
0.0 10 10 f.R ft
1960(on)S
2015(such)S
2105 X(\256)s
2128(les)S
225 X
2225 Y
351 X(should)s
473(be)S
523(deferred)S
674(anyway\).)S
849(Implicit)S
993(updates)S
1132(of)S
0.0 10 10 f.CW ft
1192(atime)S
0.0 10 10 f.R ft
1327(are)S
1389(d)S
1410(i)S
1422(s)S
1438(c)S
1457(a)S
1476(r)S
1490(d)S
1511(e)S
1530(d)S
1551(.)S
225 X
2300 Y
281(\(b\))S
0.0 10 10 f.CW ft
351(S)S
376(T)S
401(O)S
426(P)S
451(U)S
476(S)S
501(E)S
526(_)S
551(N)S
576(O)S
601(_)S
626(A)S
651(N)S
676(O)S
701(D)S
726(E)S
763 X
0.0 10 10 f.R ft(\320)s
817(Anode)S
941(handle)S
1066(must)S
1160(be)S
1213(closed.)S
1354(Calls)S
1454(to)S
0.0 10 10 f.CW ft
1515(PageIn\(\))S
0.0 10 10 f.R ft
1728(should)S
%%IncludeFont: Times-Italic

/Times-Italic /Times-Italic-8 roman-8-mappings AddRoman-8
/f.I /Times-Italic-8 findfont def

0.0 10 10 f.I ft
1853(block)S
0.0 10 10 f.R ft
1958(and)S
2032(a)S
2051(t)S
2063(t)S
2075(e)S
2094(m)S
2126(p)S
2147(t)S
2159(s)S
225 X
2350 Y
351 X(to)s
394(open)S
486(the)S
548(anode)S
659(handle)S
782(should)S
0.0 10 10 f.I ft
904(panic)S
0.0 10 10 f.R ft
998(.)S
2334 Y
0.0 7 7 f.R ft
1008(16)S
2350 Y
0.0 10 10 f.R ft
1058(Implies)S
0.0 10 10 f.CW ft
1209(S)S
1234(T)S
1259(O)S
1284(P)S
1309(U)S
1334(S)S
1359(E)S
1384(_)S
1409(N)S
1434(O)S
1459(_)S
1484(D)S
1509(I)S
1534(R)S
1559(T)S
1584(Y)S
0.0 10 10 f.R ft
1609(.)S
225 X
2425 Y
283(\(c\))S
0.0 10 10 f.CW ft
351(S)S
376(T)S
401(O)S
426(P)S
451(U)S
476(S)S
501(E)S
526(_)S
551(N)S
576(O)S
601(_)S
626(S)S
651(T)S
676(A)S
701(T)S
726(U)S
751(S)S
791 X
0.0 10 10 f.R ft(\320)s
849(All)S
919(cached)S
1053(status)S
1165(data)S
1252(must)S
1349(be)S
1405(written)S
1541(through)S
1688(and)S
1765(invalidated.)S
1990(O)S
2020(p)S
2041(e)S
2060(r)S
2074(a)S
2093(t)S
2105(i)S
2117(o)S
2138(n)S
2159(s)S
225 X
2475 Y
351 X(that)s
425(reference)S
593(status)S
699(data)S
780(should)S
902(fail.)S
989(Implies)S
0.0 10 10 f.CW ft
1140(S)S
1165(T)S
1190(O)S
1215(P)S
1240(U)S
1265(S)S
1290(E)S
1315(_)S
1340(N)S
1365(O)S
1390(_)S
1415(V)S
1440(M)S
0.0 10 10 f.R ft
1475(and)S
0.0 10 10 f.CW ft
1561(S)S
1586(T)S
1611(O)S
1636(P)S
1661(U)S
1686(S)S
1711(E)S
1736(_)S
1761(N)S
1786(O)S
1811(_)S
1836(D)S
1861(I)S
1886(R)S
1911(T)S
1936(Y)S
0.0 10 10 f.R ft
1961(.)S
225 X
2550 Y
281(\(d\))S
0.0 10 10 f.CW ft
351(S)S
376(T)S
401(O)S
426(P)S
451(U)S
476(S)S
501(E)S
526(_)S
551(N)S
576(O)S
601(_)S
626(D)S
651(I)S
676(R)S
701(T)S
726(Y)S
763 X
0.0 10 10 f.R ft(\320)s
817(Updates)S
967(to)S
1012(cached)S
1142(status)S
1251(data)S
1335(must)S
1429(be)S
1482(written)S
1615(through.)S
1779(Operations)S
1977(that)S
2054(m)S
2086(o)S
2107(d)S
2128(i)S
2140(f)S
2154(y)S
225 X
2600 Y
351 X(status)s
457(data)S
538(explicitly)S
709(should)S
831(fail.)S
918(Implies)S
0.0 10 10 f.CW ft
1069(S)S
1094(T)S
1119(O)S
1144(P)S
1169(U)S
1194(S)S
1219(E)S
1244(_)S
1269(N)S
1294(O)S
1319(_)S
1344(D)S
1369(I)S
1394(R)S
1419(T)S
1444(Y)S
1469(V)S
1494(M)S
0.0 10 10 f.R ft
1519(.)S
225 X
2675 Y
283(\(e\))S
0.0 10 10 f.CW ft
351(S)S
376(T)S
401(O)S
426(P)S
451(U)S
476(S)S
501(E)S
526(_)S
551(N)S
576(O)S
601(_)S
626(V)S
651(M)S
694 X
0.0 10 10 f.R ft(\320)s
754(The)S
837(VM)S
922(must)S
1021(be)S
1079(written)S
1217(through)S
1366(and)S
1445(invalidated.)S
1672(Calls)S
1777(to)S
0.0 10 10 f.CW ft
1844(PageIn\(\))S
0.0 10 10 f.R ft
2063(s)S
2079(h)S
2100(o)S
2121(u)S
2142(l)S
2154(d)S
225 X
2725 Y
351 X
0.0 10 10 f.I ft(block)s
0.0 10 10 f.R ft
443(.)S
473(Implies)S
0.0 10 10 f.CW ft
624(S)S
649(T)S
674(O)S
699(P)S
724(U)S
749(S)S
774(E)S
799(_)S
824(N)S
849(O)S
874(_)S
899(D)S
924(I)S
949(R)S
974(T)S
999(Y)S
1024(V)S
1049(M)S
0.0 10 10 f.R ft
1074(.)S
225 X
2813 Y
225 X
0.0 8 8 f.R ft
/Cru{ 0 ysiz pt 5 div 2 copy rmoveto
 (_) show
 neg rmoveto
}bind def

Cru
236 X
Cru
253 X
Cru
270 X
Cru
287 X
Cru
304 X
Cru
321 X
Cru
338 X
Cru
355 X
Cru
372 X
Cru
389 X
Cru
406 X
Cru
423 X
Cru
440 X
Cru
457 X
Cru
474 X
Cru
491 X
Cru
508 X
Cru
225 X
2862 Y(16.)s
275(Episode)S
395(can)S
453(view)S
530(failures)S
643(of)S
682(the)S
734(volume)S
846(s)S
859(y)S
876(n)S
893(c)S
908(h)S
925(r)S
936(o)S
953(n)S
970(i)S
980(z)S
995(a)S
1010(t)S
1020(i)S
1030(o)S
1047(n)S
1074(glue)S
1143(quite)S
1222(seriously)S
1355(since)S
1435(the)S
1487(consistency)S
1656(of)S
1694(these)S
1774(operations)S
1926(is)S
1959(restricted)S
2096(to)S
2133(the)S
225 X
2899 Y(kernel.)s
336(The)S
0.0 8 8 f.CW ft
410(xvolume)S
0.0 8 8 f.R ft
560(layer)S
638(will)S
702(reject)S
789(volume)S
902(operations)S
1055(that)S
1118(are)S
1170(inconsistent)S
1345(with)S
1417(the)S
1470(volume)S
1583(open)S
1660(mode)S
1746(so)S
1787(user-space)S
1940(errors)S
2029(should)S
2131(not)S
225 X
2936 Y(lead)s
290(to)S
325(p)S
342(a)S
357(n)S
374(i)S
384(c)S
399(s)S
412(.)S
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2044 X(P)s
2071(a)S
2094(g)S
2117(e)S
2140( )S
2152(6)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Roman Courier Helvetica-Bold Times-Italic
%%Page: label 7
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft
288(\(f\))S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
351(S)S
376(T)S
401(O)S
426(P)S
451(U)S
476(S)S
501(E)S
526(_)S
551(N)S
576(O)S
601(_)S
626(D)S
651(I)S
676(R)S
701(T)S
726(Y)S
751(V)S
776(M)S
812 X
0.0 10 10 f.R ft(\320)s
865(The)S
941(VM)S
1019(must)S
1111(be)S
1162(written)S
1294(through.)S
1457(Calls)S
1556(to)S
0.0 10 10 f.CW ft
1616(PageIn\(\))S
0.0 10 10 f.R ft
1828(that)S
1904(require)S
2036(w)S
2066(r)S
2080(i)S
2092(t)S
2104(a)S
2123(b)S
2144(l)S
2156(e)S
225 X
450 Y
351 X(page)s
441(mappings)S
614(must)S
%%IncludeFont: Times-Italic

/Times-Italic /Times-Italic-8 roman-8-mappings AddRoman-8
/f.I /Times-Italic-8 findfont def

0.0 10 10 f.I ft
705(block)S
0.0 10 10 f.R ft
797(;)S
819(others)S
932(may)S
1014(return)S
1125(w)S
1155(r)S
1169(i)S
1181(t)S
1193(e)S
1212(-)S
1226(p)S
1247(r)S
1261(o)S
1282(t)S
1294(e)S
1313(c)S
1332(t)S
1344(e)S
1363(d)S
1394(m)S
1426(a)S
1445(p)S
1466(p)S
1487(i)S
1499(n)S
1520(g)S
1541(s)S
1557(.)S
225 X
525 Y(To)s
281(summarize)S
475(the)S
537(open)S
629(modes)S
748(use)S
814(these)S
0.0 10 10 f.CW ft
926(openbits)S
0.0 10 10 f.R ft
1136(bits)S
1207(in)S
1250(addition)S
1399(to)S
0.0 10 10 f.CW ft
1457(noChange)S
0.0 10 10 f.R ft
1657(:)S
225 X
600 Y
283(\(a\))S
0.0 10 10 f.CW ft
351(o)S
376(p)S
401(e)S
426(n)S
451(-)S
476(c)S
501(h)S
526(a)S
551(n)S
576(g)S
601(e)S
626(-)S
651(i)S
676(d)S
711 X
0.0 10 10 f.R ft(\320)s
0.0 10 10 f.CW ft
778(N)S
803(O)S
828(_)S
853(A)S
878(N)S
903(O)S
928(D)S
953(E)S
978(+)S
1003(N)S
1028(O)S
1053(_)S
1078(D)S
1103(I)S
1128(R)S
1153(T)S
1178(Y)S
225 X
650 Y
351 X
0.0 10 10 f.R ft(Swapid)s
487(\(for)S
560(clone)S
662(and)S
733(intra-server)S
938(m)S
970(o)S
991(v)S
1012(e)S
1031(\))S
1045(.)S
225 X
725 Y
281(\(b\))S
0.0 10 10 f.CW ft
351(o)S
376(p)S
401(e)S
426(n)S
451(-)S
476(c)S
501(h)S
526(a)S
551(n)S
576(g)S
601(e)S
626(-)S
651(a)S
676(n)S
701(o)S
726(d)S
751(e)S
786 X
0.0 10 10 f.R ft(\320)s
0.0 10 10 f.CW ft
853(N)S
878(O)S
903(_)S
928(A)S
953(N)S
978(O)S
1003(D)S
1028(E)S
1053(+)S
1078(N)S
1103(O)S
1128(_)S
1153(S)S
1178(T)S
1203(A)S
1228(T)S
1253(U)S
1278(S)S
1303(+)S
1328(N)S
1353(O)S
1378(_)S
1403(D)S
1428(I)S
1453(R)S
1478(T)S
1503(Y)S
225 X
775 Y
351 X
0.0 10 10 f.R ft(Swapid)s
487(\(for)S
560(replica)S
686(release\),)S
838(reclone)S
973(\(backing)S
1131 X(\256)s
1154(leset\),)S
1266(unclone)S
1410(\(backing)S
1568 X(\256)s
1591(leset\),)S
1703(d)S
1724(e)S
1743(s)S
1759(t)S
1771(r)S
1785(o)S
1806(y)S
1827(.)S
225 X
850 Y
283(\(c\))S
0.0 10 10 f.CW ft
351(o)S
376(p)S
401(e)S
426(n)S
451(-)S
476(c)S
501(h)S
526(a)S
551(n)S
576(g)S
601(e)S
626(-)S
651(v)S
676(n)S
701(o)S
726(d)S
751(e)S
786 X
0.0 10 10 f.R ft(\320)s
0.0 10 10 f.CW ft
853(NO_VM)S
225 X
900 Y
351 X
0.0 10 10 f.R ft(R)s
379(e)S
398(s)S
414(t)S
426(o)S
447(r)S
461(e)S
480(.)S
225 X
975 Y
281(\(d\))S
0.0 10 10 f.CW ft
351(o)S
376(p)S
401(e)S
426(n)S
451(-)S
476(r)S
501(e)S
526(a)S
551(d)S
576(-)S
601(a)S
626(n)S
651(o)S
676(d)S
701(e)S
736 X
0.0 10 10 f.R ft(\320)s
0.0 10 10 f.CW ft
803(N)S
828(O)S
853(_)S
878(D)S
903(I)S
928(R)S
953(T)S
978(Y)S
225 X
1025 Y
351 X
0.0 10 10 f.R ft(Clone,)s
472(reclone)S
607(\(front)S
713 X(\256)s
736(l)S
748(e)S
767(s)S
783(e)S
802(t)S
814(\))S
828(.)S
225 X
1100 Y
283(\(e\))S
0.0 10 10 f.CW ft
351(o)S
376(p)S
401(e)S
426(n)S
451(-)S
476(r)S
501(e)S
526(a)S
551(d)S
576(-)S
601(v)S
626(n)S
651(o)S
676(d)S
701(e)S
736 X
0.0 10 10 f.R ft(\320)s
0.0 10 10 f.CW ft
803(N)S
828(O)S
853(_)S
878(D)S
903(I)S
928(R)S
953(T)S
978(Y)S
1003(V)S
1028(M)S
225 X
1150 Y
351 X
0.0 10 10 f.R ft(Dump,)s
475(unclone)S
619(\(front)S
725 X(\256)s
748(l)S
760(e)S
779(s)S
795(e)S
814(t)S
826(\))S
840(.)S
225 X
1225 Y
288(\(f\))S
0.0 10 10 f.CW ft
351(open-noop)S
586 X
0.0 10 10 f.R ft(\320)s
0.0 10 10 f.CW ft
653(0)S
225 X
1275 Y
351 X
0.0 10 10 f.R ft(Fileset)s
474(header)S
597(o)S
618(p)S
639(e)S
658(r)S
672(a)S
691(t)S
703(i)S
715(o)S
736(n)S
757(s)S
773(.)S
225 X
1375 Y
%%IncludeFont: Helvetica-Bold

/Helvetica-Bold /Helvetica-Bold-8 roman-8-mappings AddRoman-8
/f.HB /Helvetica-Bold-8 findfont def

0.0 10 10 f.HB ft(6. GLOBAL)s
458(D)S
488(A)S
515(T)S
537(A)S
579(S)S
607(T)S
632(R)S
662(U)S
692(C)S
722(T)S
747(U)S
777(R)S
807(E)S
835(S)S
225 X
1450 Y
0.0 10 10 f.R ft(In)s
271(addition)S
421(to)S
465(per-vnode)S
647 X(\256)s
670(elds,)S
759(vnode)S
873(s)S
889(y)S
910(n)S
931(c)S
950(h)S
971(r)S
985(o)S
1006(n)S
1027(i)S
1039(z)S
1058(a)S
1077(t)S
1089(i)S
1101(o)S
1122(n)S
1154(uses)S
1237(several)S
1368(global)S
1486(structures.)S
1682(They)S
1780(are)S
1844(all)S
1899(protected)S
2069(by)S
2123(the)S
225 X
1500 Y
0.0 10 10 f.CW ft(vntableLock)s
0.0 10 10 f.R ft
500(:)S
225 X
1575 Y
283(\(a\))S
0.0 10 10 f.CW ft
351(vntable)S
536 X
0.0 10 10 f.R ft(\320)s
588(Hash)S
684(table)S
777(containing)S
966(all)S
1019(vnodes)S
1148(with)S
1233(identities.)S
1419(The)S
1494(hash)S
1581(index)S
1686(is)S
1725(a)S
1755(function)S
1907(of)S
1953(the)S
2016(volid)S
2114(and)S
225 X
1625 Y
351 X(the)s
413 X(\256)s
436(d)S
457(')S
470(s)S
496(index.)S
620(A)S
660(vnode)S
773(on)S
825(this)S
896(list)S
958(has)S
0.0 10 10 f.CW ft
1039(onHash)S
0.0 10 10 f.R ft
1199(set.)S
225 X
1700 Y
281(\(b\))S
0.0 10 10 f.CW ft
351(vntableLabel)S
661 X
0.0 10 10 f.R ft(\320)s
713(Counter)S
859(used)S
946(by)S
998(vnode)S
1111(iteration)S
1263(procedures.)S
1478(See)S
0.0 10 10 f.CW ft
1564(v)S
1589(n)S
1614(m)S
1639(_)S
1664(S)S
1689(t)S
1714(o)S
1739(p)S
1764(U)S
1789(s)S
1814(e)S
1839(\()S
1864(\))S
0.0 10 10 f.R ft
1889(.)S
225 X
1775 Y
283(\(c\))S
0.0 10 10 f.CW ft
351(lruList)S
537 X
0.0 10 10 f.R ft(\320)s
590(Contains)S
751(all)S
805(unused)S
935(vnodes)S
1065(in)S
1109(least)S
1198(recently)S
1346(used)S
1434(order.)S
1554(V)S
1581(n)S
1602(o)S
1623(d)S
1644(e)S
1663(s)S
1690(are)S
1753(added)S
1865(to)S
1909(the)S
1972(list)S
2036(by)S
2090(inac)S
2161 X(-)s
225 X
1825 Y
351 X(tive)s
430(and)S
506(removed)S
668(by)S
0.0 10 10 f.CW ft
740(O)S
765(b)S
790(t)S
815(a)S
840(i)S
865(n)S
890(V)S
915(n)S
940(o)S
965(d)S
990(e)S
1015(\()S
1040(\))S
0.0 10 10 f.R ft
1065(.)S
1100(They)S
1201(may)S
1288(be)S
1343(held)S
1431(or)S
1481(not)S
1550(and)S
1626(may)S
1713(have)S
1808(an)S
1863(identity)S
2008(or)S
2057(not.)S
2145(A)S
225 X
1875 Y
351 X(vnode)s
464(on)S
516(this)S
587(list)S
649(has)S
0.0 10 10 f.CW ft
730(onLRU)S
0.0 10 10 f.R ft
865(set.)S
225 X
1950 Y
281(\(d\))S
0.0 10 10 f.CW ft
351(staleList)S
586 X
0.0 10 10 f.R ft(\320)s
638(Contains)S
798(vnodes)S
927(with)S
1012(neither)S
0.0 10 10 f.CW ft
1155(onHash)S
0.0 10 10 f.R ft
1315(nor)S
0.0 10 10 f.CW ft
1396(onLRU)S
0.0 10 10 f.R ft
1531(set.)S
1608(This)S
1693(prevents)S
1847(us)S
1895(from)S
1987(c)S
2006(o)S
2027(m)S
2059(p)S
2080(l)S
2092(e)S
2111(t)S
2123(e)S
2142(l)S
2154(y)S
225 X
2000 Y
351 X(losing)s
464(track)S
559(of)S
604(stale)S
692(but)S
756(held)S
839(vnodes.)S
988(This)S
1072 X(\256)s
1095(fo)S
1140(shares)S
1255(the)S
1317(lru)S
1374 X(\256)s
1397(f)S
1411(o)S
1429(')S
1442(s)S
1468(t)S
1480(h)S
1501(r)S
1515(e)S
1534(a)S
1553(d)S
1574(.)S
225 X
2075 Y
283(\(e\))S
0.0 10 10 f.CW ft
351(vnCount)S
536 X
0.0 10 10 f.R ft(\320)s
588(Is)S
628(the)S
690(number)S
828(of)S
873(currently)S
1036(allocated)S
1200(v)S
1221(n)S
1242(o)S
1263(d)S
1284(e)S
1303(s)S
1319(.)S
225 X
2150 Y
288(\(f\))S
0.0 10 10 f.CW ft
351(v)S
376(n)S
401(C)S
426(o)S
451(u)S
476(n)S
501(t)S
526(T)S
551(a)S
576(r)S
601(g)S
626(e)S
651(t)S
693 X
0.0 10 10 f.R ft(\320)s
752(Is)S
799(the)S
868(preferred)S
1040(number)S
1185(of)S
1237(vnodes,)S
1384(which)S
1505(can)S
1582(be)S
1640(set)S
1705(at)S
1754(i)S
1766(n)S
1787(i)S
1799(t)S
1811(i)S
1823(a)S
1842(l)S
1854(i)S
1866(z)S
1885(a)S
1904(t)S
1916(i)S
1928(o)S
1949(n)S
1988(time.)S
2101(F)S
2123(r)S
2137(e)S
2156(e)S
225 X
2200 Y
351 X(unused)s
480(vnodes)S
609(if)S
645(we)S
704(have)S
794(allocated)S
958(more)S
1054(than)S
1137(this.)S
225 X
2275 Y
281(\(g\))S
0.0 10 10 f.CW ft
351(vnCountMax)S
622 X
0.0 10 10 f.R ft(\320)s
686(Never)S
811(allocate)S
966(more)S
1074(vnodes)S
1215(than)S
1310(this.)S
1413(Return)S
0.0 10 10 f.CW ft
1565(ENFILE)S
0.0 10 10 f.R ft
1737(instead.)S
1899(This)S
1995(is)S
2045(also)S
2135(an)S
225 X
2325 Y
351 X(con)s
412 X(\256)s
435(guration)S
586(parameter;)S
777(if)S
813(it)S
847(is)S
885(zero)S
968(no)S
1020(hard)S
1105(upper-bound)S
1330(on)S
1382(the)S
1444(number)S
1582(of)S
1627(vnodes)S
1756(is)S
1794(e)S
1813(n)S
1834(f)S
1848(o)S
1869(r)S
1883(c)S
1902(e)S
1921(d)S
1942(.)S
225 X
2425 Y
0.0 10 10 f.HB ft(7. PROCEDURE)s
550(O)S
582(U)S
612(T)S
637(L)S
662(I)S
674(N)S
704(E)S
732(S)S
225 X
2500 Y
0.0 10 10 f.R ft(This)s
309(section)S
439(brie)S
505 X(\257)s
528(y)S
559(describes)S
726(the)S
788(primary)S
931(functions)S
1098(involved)S
1256(with)S
1341(vnode)S
1454(s)S
1470(y)S
1491(n)S
1512(c)S
1531(h)S
1552(r)S
1566(o)S
1587(n)S
1608(i)S
1620(z)S
1639(a)S
1658(t)S
1670(i)S
1682(o)S
1703(n)S
1724(:)S
2484 Y
0.0 7 7 f.R ft
1736(17)S
225 X
2575 Y
0.0 10 10 f.R ft
283(\(a\))S
0.0 10 10 f.CW ft
351(v)S
376(n)S
401(m)S
426(_)S
451(F)S
476(i)S
501(n)S
526(d)S
551(V)S
576(n)S
601(o)S
626(d)S
651(e)S
676(\()S
701(\))S
736 X
0.0 10 10 f.R ft(\320)s
788(Returns)S
929(a)S
958(held)S
1041(vnode)S
1155(representing)S
1375(a)S
1405 X(\256)s
1428(d.)S
1480(It)S
1517(locates)S
1646(an)S
1697(existing)S
1842(vnode)S
1956(or)S
2002(obtains)S
2135(an)S
225 X
2625 Y
351 X(unused)s
483(vnode)S
599(\(allocating)S
794(a)S
826(new)S
909(one)S
983(if)S
1021(necessary\))S
1211(by)S
1265(calling)S
0.0 10 10 f.CW ft
1408(O)S
1433(b)S
1458(t)S
1483(a)S
1508(i)S
1533(n)S
1558(V)S
1583(n)S
1608(o)S
1633(d)S
1658(e)S
1683(\()S
1708(\))S
0.0 10 10 f.R ft
1745(then)S
1830(initializes)S
2008(the)S
2072(vnode)S
225 X
2675 Y
351 X(by)s
403(calling)S
0.0 10 10 f.CW ft
544(OpenVnode\(\))S
0.0 10 10 f.R ft
819(.)S
849(The)S
924(caller)S
1029(must)S
1120(not)S
1184(have)S
1274(started)S
1397(a)S
1426(t)S
1438(r)S
1452(a)S
1471(n)S
1492(s)S
1508(a)S
1527(c)S
1546(t)S
1558(i)S
1570(o)S
1591(n)S
1612(.)S
225 X
2750 Y
281(\(b\))S
0.0 10 10 f.CW ft
351(v)S
376(n)S
401(m)S
426(_)S
451(A)S
476(l)S
501(l)S
526(o)S
551(c)S
576(a)S
601(t)S
626(e)S
651(\()S
676(\))S
713 X
0.0 10 10 f.R ft(\320)s
767(Returns)S
910(a)S
941(vnode)S
1056(without)S
1198(an)S
1251(identity)S
1394(for)S
1456(use)S
1525(by)S
1580(a)S
1612(y)S
1633(e)S
1652(t)S
1664(-)S
1678(t)S
1690(o)S
1711(-)S
1725(b)S
1746(e)S
1765(-)S
1779(c)S
1798(r)S
1812(e)S
1831(a)S
1850(t)S
1862(e)S
1881(d)S
1915 X(\256)s
1938(le.)S
2002(The)S
2080(c)S
2099(a)S
2118(l)S
2130(l)S
2142(e)S
2161(r)S
225 X
2800 Y
351 X(must)s
442(not)S
506(have)S
596(started)S
719(a)S
748(t)S
760(r)S
774(a)S
793(n)S
814(s)S
830(a)S
849(c)S
868(t)S
880(i)S
892(o)S
913(n)S
934(.)S
225 X
2887 Y
225 X
0.0 8 8 f.R ft
/Cru{ 0 ysiz pt 5 div 2 copy rmoveto
 (_) show
 neg rmoveto
}bind def

Cru
236 X
Cru
253 X
Cru
270 X
Cru
287 X
Cru
304 X
Cru
321 X
Cru
338 X
Cru
355 X
Cru
372 X
Cru
389 X
Cru
406 X
Cru
423 X
Cru
440 X
Cru
457 X
Cru
474 X
Cru
491 X
Cru
508 X
Cru
225 X
2936 Y(17.)s
275(For)S
329(additional)S
475(details)S
573(see)S
624(the)S
674(code)S
746(in)S
0.0 8 8 f.CW ft
793(f)S
813(i)S
833(l)S
853(e)S
873(/)S
893(e)S
913(p)S
933(i)S
953(s)S
973(o)S
993(d)S
1013(e)S
1033(/)S
1053(v)S
1073(n)S
1093(o)S
1113(p)S
1133(s)S
1153(/)S
1173(e)S
1193(f)S
1213(s)S
1233(_)S
1253(v)S
1273(n)S
1293(o)S
1313(d)S
1333(e)S
1353(.)S
1373(c)S
0.0 8 8 f.R ft
1393(.)S
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2044 X(P)s
2071(a)S
2094(g)S
2117(e)S
2140( )S
2152(7)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Roman Courier Times-Italic Helvetica-Bold
%%Page: label 8
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft
283(\(c\))S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
351(v)S
376(n)S
401(m)S
426(_)S
451(S)S
476(e)S
501(t)S
526(I)S
551(d)S
576(e)S
601(n)S
626(t)S
651(i)S
676(t)S
701(y)S
726(\()S
751(\))S
787 X
0.0 10 10 f.R ft(\320)s
840(T)S
862(a)S
881(k)S
902(e)S
921(s)S
949(a)S
0.0 10 10 f.CW ft
995(NoIdentity)S
0.0 10 10 f.R ft
1257(vnode)S
1372(and)S
1445(the)S
1509 X(\256)s
1532(d)S
1565(of)S
1612(a)S
1643(new)S
1725 X(\256)s
1748(le)S
1791(and)S
1864(its)S
1916(already)S
2053(o)S
2074(p)S
2095(e)S
2114(n)S
2135(e)S
2154(d)S
225 X
450 Y
351 X(anode)s
465(handle,)S
601(and)S
675(makes)S
795(the)S
860(vnode)S
976(refer)S
1069(to)S
1115(the)S
1180 X(\256)s
1203(le.)S
1267(W)S
1304(e)S
1336(rely)S
1415(on)S
1470(the)S
1535(fact)S
1612(that)S
1689(the)S
1754(anode)S
1868(handle)S
1994(of)S
2041(a)S
2072(newly)S
225 X
500 Y
351 X(created)s
487 X(\256)s
510(le)S
554(is)S
595(inaccessible)S
813(to)S
859(other)S
959(users.)S
1079(The)S
1158(case)S
1245(of)S
1294(racing)S
0.0 10 10 f.CW ft
1429(VGET)S
0.0 10 10 f.R ft
1529(')S
1542(s)S
1572(for)S
1635(colliding)S
1800(indexes)S
1943(is)S
1985(handled)S
2133(by)S
225 X
550 Y
351 X(waiting)s
488(for)S
547(those)S
646(threads)S
778(to)S
821(notice)S
935(that)S
1009(all)S
1062 X(\256)s
1085(d)S
1106(')S
1119(s)S
1145(with)S
1230(this)S
1301(index)S
1405(are)S
1467(s)S
1483(t)S
1495(a)S
1514(l)S
1526(e)S
1545(.)S
225 X
625 Y
351 X(This)s
439(is)S
481(called)S
597(when)S
702(a)S
735(transaction)S
935(has)S
1005(already)S
1145(been)S
1240(started)S
1368(so)S
1420(we)S
1484(must)S
1580(avoid)S
1689(heavyweight)S
1920(operations)S
2111(that)S
225 X
675 Y
351 X(could)s
455(start)S
538(a)S
567(t)S
579(r)S
593(a)S
612(n)S
633(s)S
649(a)S
668(c)S
687(t)S
699(i)S
711(o)S
732(n)S
753(.)S
225 X
750 Y
281(\(d\))S
0.0 10 10 f.CW ft
351(O)S
376(b)S
401(t)S
426(a)S
451(i)S
476(n)S
501(V)S
526(n)S
551(o)S
576(d)S
601(e)S
626(\()S
651(\))S
692 X
0.0 10 10 f.R ft(\320)s
750(Locates)S
897(a)S
932(vnode)S
1051(for)S
1116(use)S
1188(by)S
1246(a)S
1281 X(\256)s
1304(le.)S
1371(If)S
1415(the)S
1483 X(\256)s
1506(d)S
1543(is)S
1587(speci)S
1674 X(\256)s
1697(ed)S
1753(and)S
1830(a)S
1865(vnode)S
1984(for)S
2050(that)S
2131 X(\256)s
2154(d)S
225 X
800 Y
351 X(already)s
489(exists)S
598(that)S
675(vnode)S
791(is)S
832(returned.)S
1006(Otherwise)S
1192(a)S
1224(fresh)S
1321(vnode)S
1436(is)S
1476(obtained,)S
1644(either)S
1753(by)S
1807(calling)S
0.0 10 10 f.CW ft
1950(R)S
1975(e)S
2000(c)S
2025(y)S
2050(c)S
2075(l)S
2100(e)S
2125(\()S
2150(\))S
225 X
850 Y
351 X
0.0 10 10 f.R ft(or)s
396(by)S
448(allocating)S
626(a)S
655(new)S
735(one.)S
225 X
925 Y
283(\(e\))S
0.0 10 10 f.CW ft
351(OpenVnode\(\))S
636 X
0.0 10 10 f.R ft(\320)s
688(Attaches)S
846(a)S
875(vnode)S
988(without)S
1127(an)S
1177(identity)S
1317(to)S
1361(a)S
1391(speci)S
1478 X(\256)s
1501(ed)S
1552 X(\256)s
1575(d.)S
1627(This)S
1712(can)S
1782(fail)S
1850(if)S
1887(a)S
1917(di)S
1950 X
/Cff{ (f) show xsiz pt 20 div neg 0 rmoveto (f) s
}bind def

Cff
1976(erent)S
2072(vnode)S
225 X
975 Y
351 X(for)s
421(that)S
505 X(\256)s
528(d)S
569(already)S
714(exists.)S
850(It)S
896(can)S
975(also)S
1063(fail)S
1140(if)S
1186(the)S
1258 X(\256)s
1281(d)S
1322(does)S
1419(not)S
1493(match)S
1616(an)S
1676(existing)S
1830 X(\256)s
1853(le.)S
1924(If)S
1972(called)S
2094(from)S
225 X
1025 Y
351 X
0.0 10 10 f.CW ft(v)s
376(n)S
401(m)S
426(_)S
451(S)S
476(e)S
501(t)S
526(I)S
551(d)S
576(e)S
601(n)S
626(t)S
651(i)S
676(t)S
701(y)S
726(\()S
751(\))S
0.0 10 10 f.R ft
788(an)S
840(anode)S
953(handle)S
1078(for)S
1139(a)S
1170(newly)S
1285(created)S
1420 X(\256)s
1443(le)S
1486(is)S
1526(provided)S
1688(which)S
1803(we)S
1864(use)S
1932(instead)S
2064(of)S
2111(cal)S
2161 X(-)s
225 X
1075 Y
351 X(ling)s
0.0 10 10 f.CW ft
442(epif_Open\(\))S
0.0 10 10 f.R ft
717(.)S
225 X
1150 Y
351 X(This)s
435(function)S
586(uses)S
668(the)S
0.0 10 10 f.CW ft
745(vd_idLock)S
0.0 10 10 f.R ft
980(to)S
1023(ensure)S
1143(that)S
1217(there)S
1312(is)S
1350(never)S
1454(more)S
1550(than)S
1633(one)S
1704(vnode)S
1817(referring)S
1975(to)S
2018(a)S
2047 X(\256)s
2070(le.)S
225 X
1225 Y
288(\(f\))S
0.0 10 10 f.CW ft
351(Recycle\(\))S
587 X
0.0 10 10 f.R ft(\320)s
640(Attempts)S
806(to)S
851(obliterate)S
1024(an)S
1076(unused)S
1207(v)S
1228(n)S
1249(o)S
1270(d)S
1291(e)S
1307(')S
1320(s)S
1348(current)S
1480(identity)S
1622(by)S
1676(reclaiming)S
1869(its)S
1921(resources,)S
2102(then)S
225 X
1275 Y
351 X(clearing)s
501(its)S
554(identity.)S
717(If)S
758(the)S
823(speci)S
910 X(\256)s
933(ed)S
986(vnode)S
1102(is)S
1142(being)S
1248(used)S
1337(or)S
1384(if,)S
1432(on)S
1486(AIX,)S
1582(its)S
1634(VM)S
1713(segment)S
1865(cannot)S
1990(be)S
2042(d)S
2063(e)S
2082(l)S
2094(e)S
2113(t)S
2125(e)S
2144(d)S
2165(,)S
225 X
1325 Y
351 X(the)s
413(vnode)S
526(is)S
564(left)S
631(u)S
652(n)S
673(t)S
685(o)S
706(u)S
727(c)S
746(h)S
767(e)S
786(d)S
807(.)S
225 X
1400 Y
351 X(This)s
436(function)S
588(holds)S
691(the)S
0.0 10 10 f.CW ft
770(vd_idLock)S
0.0 10 10 f.R ft
1007(while)S
1113(checking)S
1278(the)S
1342(v)S
1363(n)S
1384(o)S
1405(d)S
1426(e)S
1442(')S
1455(s)S
1483(reference)S
1653(count.)S
1779(Since)S
0.0 10 10 f.CW ft
1900(O)S
1925(p)S
1950(e)S
1975(n)S
2000(V)S
2025(n)S
2050(o)S
2075(d)S
2100(e)S
2125(\()S
2150(\))S
225 X
1450 Y
351 X
0.0 10 10 f.R ft(grabs)s
453(this)S
524(lock)S
607(also,)S
695(this)S
766(ensures)S
902(that)S
0.0 10 10 f.CW ft
991(Recycle\(\))S
0.0 10 10 f.R ft
1226(has)S
1292(\(nearly\))S
1436(exclusive)S
1606(use)S
1672(of)S
1717(the)S
1779(vnode)S
1892(and)S
1963(that)S
2037(destroy)S
2161 X(-)s
225 X
1500 Y
351 X(ing)s
415(its)S
465(identity)S
605(is)S
643(safe.)S
225 X
1575 Y
281(\(g\))S
0.0 10 10 f.CW ft
351(v)S
376(n)S
401(m)S
426(_)S
451(i)S
476(n)S
501(a)S
526(c)S
551(t)S
576(i)S
601(v)S
626(e)S
651(\()S
676(\))S
713 X
0.0 10 10 f.R ft(\320)s
767(Does)S
865(cleanup)S
1009(processing)S
1201(on)S
1255(a)S
1286(vnode)S
1401(when)S
1504(the)S
1568(caller)S
1675(is)S
1715(dropping)S
1880(the)S
1945(last)S
2017(r)S
2031(e)S
2050(f)S
2064(e)S
2083(r)S
2097(e)S
2116(n)S
2137(c)S
2156(e)S
225 X
1625 Y
351 X(to)s
398(it.)S
456(Has)S
535(no)S
591(e)S
610 X
Cff
636(ect)S
700(if)S
739(the)S
804(reference)S
975(count)S
1082(is)S
1123(greater)S
1254(than)S
1340(one.)S
1434(It)S
1473(deletes)S
1604(zero)S
1690(link)S
1769(count)S
1876 X(\256)s
1899(les)S
1959(on)S
2014(n)S
2035(o)S
2056(n)S
2077(-)S
2091(o)S
2112(p)S
2133(e)S
2152(n)S
225 X
1675 Y
351 X(R/W)s
440(volumes.)S
612(On)S
673(AIX,)S
767(it)S
801(deletes)S
929(the)S
991(VM)S
1068(segment)S
1218(of)S
1263(a)S
1292(stale)S
1380(v)S
1401(n)S
1422(o)S
1443(d)S
1464(e)S
1483(.)S
225 X
1750 Y
281(\(h\))S
0.0 10 10 f.CW ft
351(vnm_Delete\(\))S
662 X
0.0 10 10 f.R ft(\320)s
715(This)S
800(deletes)S
929(the)S
992 X(\256)s
1015(le)S
1057(c)S
1076(o)S
1097(r)S
1111(r)S
1125(e)S
1144(s)S
1160(p)S
1181(o)S
1202(n)S
1223(d)S
1244(i)S
1256(n)S
1277(g)S
1309(to)S
1353(a)S
1384(particular)S
0.0 10 10 f.CW ft
1574(volp)S
0.0 10 10 f.R ft
1674(/)S
1686 X(\256)s
1709(d)S
1742(making)S
1880(the)S
1944(vnode)S
2059(stale)S
2149(if)S
225 X
1800 Y
351 X(it)s
386(is)S
425(in)S
469(use.)S
556(Unlike)S
682(inactive)S
828(it)S
863(takes)S
961(no)S
1014(c)S
1033(o)S
1054(n)S
1075(s)S
1091(i)S
1103(d)S
1124(e)S
1143(r)S
1157(a)S
1176(t)S
1188(i)S
1200(o)S
1221(n)S
1253(of)S
1299(the)S
1362(v)S
1383(n)S
1404(o)S
1425(d)S
1446(e)S
1462(')S
1475(s)S
0.0 10 10 f.CW ft
1517(refCount)S
0.0 10 10 f.R ft
1728(or)S
1773(the)S
1835 X(\256)s
1858(l)S
1870(e)S
1886(')S
1899(s)S
0.0 10 10 f.CW ft
1940(linkCount)S
0.0 10 10 f.R ft
2165(.)S
225 X
1850 Y
351 X(Used)s
447(by)S
0.0 10 10 f.CW ft
514(v)S
539(o)S
564(l)S
589(_)S
614(e)S
639(f)S
664(s)S
689(D)S
714(e)S
739(l)S
764(e)S
789(t)S
814(e)S
839(\()S
864(\))S
0.0 10 10 f.R ft
899(during)S
1019(r)S
1033(e)S
1052(s)S
1068(t)S
1080(o)S
1101(r)S
1115(e)S
1134(.)S
225 X
1925 Y
290(\(i\))S
0.0 10 10 f.CW ft
351(v)S
376(n)S
401(m)S
426(_)S
451(S)S
476(t)S
501(o)S
526(p)S
551(U)S
576(s)S
601(e)S
626(\()S
651(\))S
689 X
0.0 10 10 f.R ft(\320)s
744(T)S
766(a)S
785(k)S
806(e)S
825(s)S
854(a)S
886(volume)S
1025(and)S
1099(an)S
1152(open)S
1247(mode.)S
1373(It)S
1413(traverses)S
1577(all)S
1634(the)S
1700(vnodes)S
1833(for)S
1896(that)S
1974(volume)S
2114(and)S
225 X
1975 Y
351 X(puts)s
434(them)S
531(into)S
610(a)S
642(state)S
733(compatible)S
934(with)S
1022(the)S
1087(open)S
1181(mode.)S
1306(It)S
1344(is)S
1384(called)S
1498(with)S
1585(an)S
1637(open)S
1731(mode)S
1836(of)S
1883(zero)S
1968(before)S
2088(these)S
225 X
2025 Y
351 X(operations)s
537(are)S
599(released)S
748(when)S
849(the)S
911(volume)S
1047(is)S
1085(being)S
1189(c)S
1208(l)S
1220(o)S
1241(s)S
1257(e)S
1276(d)S
1297(.)S
225 X
2100 Y
351 X(W)s
388(e)S
418(assume)S
552(that)S
627(a)S
657(higher)S
776(level)S
870(lock)S
954(protects)S
1099(the)S
1162 X(\256)s
1185(leset)S
1274(so)S
1322(that)S
1397(only)S
1483(one)S
1555(thread)S
1672(calls)S
1761(this)S
1833(routine)S
1965(at)S
2008(a)S
2039(time)S
2126(for)S
225 X
2150 Y
351 X(each)s
443 X(\256)s
466(leset.)S
578(It)S
618(makes)S
739(a)S
772(single)S
887(pass)S
973(over)S
1062(the)S
1127(vnodes)S
1259(assuming)S
1430(that)S
1507(there)S
1605(is)S
1646(no)S
1701(ongoing)S
1852(activity)S
1993(that)S
2070(would)S
225 X
2200 Y
351 X(reestablish)s
547(any)S
623(inconsistent)S
840(vnode)S
958(state.)S
1071(Before)S
1201(this)S
1277(routine)S
1412(starts)S
1516(all)S
1575(incompatible)S
1812(vnode)S
1931(operations)S
2123(are)S
225 X
2250 Y
351 X(already)s
486(b)S
507(l)S
519(o)S
540(c)S
559(k)S
580(e)S
599(d)S
620(.)S
225 X
2325 Y
351 X(The)s
428(basic)S
527(algorithm)S
703(is)S
743(to)S
788(use)S
856(the)S
920(vnode)S
1035(hash)S
1124(table)S
1219(to)S
1264(locate)S
1378(all)S
1433(vnodes)S
1564(of)S
1611(interest.)S
1769(This)S
1856(is)S
1897(protected)S
2068(by)S
2123(the)S
225 X
2375 Y
351 X
0.0 10 10 f.CW ft(vntableLock)s
0.0 10 10 f.R ft
642(which)S
761(we)S
826(may)S
914(not)S
984(hold)S
1074(while)S
1183 X(\257)s
1206(ushing)S
1333(vnode)S
1451(state.)S
1564(So,)S
1633(under)S
1744(the)S
0.0 10 10 f.CW ft
1826(vntableLock)S
0.0 10 10 f.R ft
2101(,)S
2126(we)S
225 X
2425 Y
351 X(identify)s
499(and)S
576(hold)S
667(the)S
%%IncludeFont: Times-Italic

/Times-Italic /Times-Italic-8 roman-8-mappings AddRoman-8
/f.I /Times-Italic-8 findfont def

0.0 10 10 f.I ft
735(next)S
0.0 10 10 f.R ft
822(vnode)S
941(to)S
990(work)S
1092(on.)S
1170(Then)S
1272(we)S
1337(drop)S
1430(the)S
0.0 10 10 f.CW ft
1514(vntableLock)S
0.0 10 10 f.R ft
1806(and)S
1884 X(\257)s
1907(ush)S
1982(the)S
0.0 10 10 f.I ft
2051(c)S
2070(u)S
2091(r)S
2107(r)S
2123(e)S
2142(n)S
2163(t)S
225 X
2475 Y
351 X
0.0 10 10 f.R ft(vnode.)s
487(The)S
565(next)S
650(vnode)S
765(can)S
836(become)S
979(stale)S
1069(while)S
1175(the)S
1239(current)S
1371(vnode)S
1486(is)S
1526(being)S
1632(processed.)S
1830(In)S
1877(this)S
1950(rare)S
2028(case,)S
2123(the)S
225 X
2525 Y
351 X(iteration)s
503(is)S
541(r)S
555(e)S
574(s)S
590(t)S
602(a)S
621(r)S
635(t)S
647(e)S
666(d)S
687(.)S
225 X
2600 Y
351 X(After)s
451(each)S
540(vnode)S
654(is)S
694(made)S
797(consistent)S
978(with)S
1065(the)S
1129(current)S
1261(volume)S
1399(open)S
1493(mode)S
1598(it)S
1634(is)S
1674(marked)S
1812(with)S
1899(the)S
1963(label)S
2058(associ)S
2161 X(-)s
225 X
2650 Y
351 X(ated)s
433(with)S
519(the)S
582(hash)S
670(table)S
764(when)S
866(we)S
925(started.)S
1068(This)S
1152(allows)S
1272(us)S
1319(to)S
1362(i)S
1374(n)S
1395(e)S
1414(x)S
1435(p)S
1456(e)S
1475(n)S
1496(s)S
1512(i)S
1524(v)S
1545(e)S
1564(l)S
1576(y)S
1607(skip)S
1687(it)S
1721(if)S
1757(we)S
1816(must)S
1907(restart)S
2023(the)S
2085(itera)S
2161 X(-)s
225 X
2700 Y
351 X(tion.)s
450(Any)S
535(vnode)S
651(created)S
787(while)S
0.0 10 10 f.CW ft
910(v)S
935(n)S
960(m)S
985(_)S
1010(S)S
1035(t)S
1060(o)S
1085(p)S
1110(U)S
1135(s)S
1160(e)S
1185(\()S
1210(\))S
0.0 10 10 f.R ft
1249(is)S
1291(running)S
1436(will)S
1516(be)S
1570(labeled)S
1707(with)S
1796(the)S
1862(current)S
1996(label)S
2093(\(or)S
2156(a)S
225 X
2750 Y
351 X(subsequent)s
549(one\))S
635(by)S
0.0 10 10 f.CW ft
703(S)S
728(e)S
753(t)S
778(I)S
803(d)S
828(e)S
853(n)S
878(t)S
903(i)S
928(t)S
953(y)S
978(\()S
1003(\))S
0.0 10 10 f.R ft
1039(and)S
1111(its)S
0.0 10 10 f.CW ft
1177(openbits)S
0.0 10 10 f.R ft
1387(are)S
1449(initialized)S
1630(to)S
1673(the)S
1735(same)S
1831(value)S
1933(by)S
0.0 10 10 f.CW ft
2000(SetRes)S
2150 X(-)s
225 X
2800 Y
351 X(trictions\(\))s
0.0 10 10 f.R ft
639(called)S
754(from)S
0.0 10 10 f.CW ft
863(OpenVnode\(\))S
0.0 10 10 f.R ft
1138(.)S
0.0 10 10 f.CW ft
1201(v)S
1226(n)S
1251(m)S
1276(_)S
1301(S)S
1326(t)S
1351(o)S
1376(p)S
1401(U)S
1426(s)S
1451(e)S
1476(\()S
1501(\))S
0.0 10 10 f.R ft
1539(can)S
1611(safely)S
1725(skip)S
1808(these)S
1908(also.)S
2009(T)S
2034(h)S
2055(e)S
2074(r)S
2088(e)S
2107(f)S
2121(o)S
2142(r)S
2156(e)S
225 X
2850 Y
351 X(all)s
405(processed)S
581(vnodes)S
710(will)S
786(remain)S
913(consistent)S
1092(with)S
1177(the)S
1239(current)S
1369(volume)S
1505(open)S
1597(mode)S
1700(because)S
1844(their)S
1932(restriction)S
2114(bits)S
225 X
2900 Y
351 X(have)s
441(been)S
531(set)S
588(correctly)S
749(and)S
820(since)S
917(only)S
1002(compatible)S
1200(vnode)S
1313(operations)S
1499(will)S
1575(be)S
1625(r)S
1639(u)S
1660(n)S
1681(n)S
1702(i)S
1714(n)S
1735(g)S
1756(.)S
225 X
2975 Y
351 X(If)s
0.0 10 10 f.CW ft
405(S)S
430(T)S
455(O)S
480(P)S
505(U)S
530(S)S
555(E)S
580(_)S
605(N)S
630(O)S
655(_)S
680(A)S
705(N)S
730(O)S
755(D)S
780(E)S
0.0 10 10 f.R ft
816(is)S
855(being)S
960(cleared,)S
1104(the)S
1168(anode)S
1281(handle)S
1406(of)S
1453(each)S
1543(vnode)S
1658(is,)S
1708(of)S
1755(course,)S
1887(reopened.)S
2074(If)S
2114(this)S
225 X
3025 Y
351 X(fails)s
434(\(e.g.,)S
528(because)S
672(a)S
701(reclone)S
836(operation)S
1006(removed)S
1163 X(\256)s
1186(les)S
1243(from)S
1334(the)S
1396(backing)S
1540 X(\256)s
1563(leset\))S
1665(then)S
1748(the)S
1810(vnode)S
1923(is)S
1961(made)S
2062(s)S
2078(t)S
2090(a)S
2109(l)S
2121(e)S
2140(.)S
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2044 X(P)s
2071(a)S
2094(g)S
2117(e)S
2140( )S
2152(8)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Roman Courier Times-Italic
%%Page: label 9
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft
290(\(j\))S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
351(S)S
376(e)S
401(t)S
426(R)S
451(e)S
476(s)S
501(t)S
526(r)S
551(i)S
576(c)S
601(t)S
626(i)S
651(o)S
676(n)S
701(s)S
726(\()S
751(\))S
790 X
0.0 10 10 f.R ft(\320)s
846(Called)S
971(by)S
0.0 10 10 f.CW ft
1042(OpenVnode\(\))S
0.0 10 10 f.R ft
1331(to)S
1378(initialize)S
1543(a)S
1577(new)S
1662(vnode)S
1780(or)S
1830(by)S
0.0 10 10 f.CW ft
1902(StopUse\(\))S
0.0 10 10 f.R ft
2142(to)S
225 X
450 Y
351 X(calculate)s
514(the)S
577(vnode)S
691(state)S
780(restrictions)S
978(from)S
1069(the)S
1131(current)S
1261(volume)S
1397(open)S
1489(bits.)S
1580(It)S
1616(is)S
1654(called)S
1766(after)S
1854(the)S
1916(vnode)S
2029(has)S
2095(been)S
225 X
500 Y
351 X(put)s
419(into)S
499(a)S
532(state)S
624(consistent)S
807(with)S
896(the)S
962(current)S
1096(open)S
1192(mode)S
1299(\(e.g.,)S
1397(if)S
0.0 10 10 f.CW ft
1452(S)S
1477(T)S
1502(O)S
1527(P)S
1552(U)S
1577(S)S
1602(E)S
1627(_)S
1652(N)S
1677(O)S
1702(_)S
1727(A)S
1752(N)S
1777(O)S
1802(D)S
1827(E)S
0.0 10 10 f.R ft
1866(is)S
1908(speci)S
1995 X(\256)s
2018(ed)S
2073(it)S
2112(sets)S
225 X
550 Y
351 X
0.0 10 10 f.CW ft(v)s
376(d)S
401(_)S
426(f)S
451(i)S
476(l)S
501(e)S
526(.)S
551(n)S
576(o)S
601(A)S
626(n)S
651(o)S
676(d)S
701(e)S
0.0 10 10 f.R ft
736(and)S
807(asserts)S
929(that)S
0.0 10 10 f.CW ft
1018(v)S
1043(d)S
1068(_)S
1093(f)S
1118(i)S
1143(l)S
1168(e)S
1193(.)S
1218(a)S
1243(n)S
1268(o)S
1293(d)S
1318(e)S
0.0 10 10 f.R ft
1353(is)S
1391(f)S
1405(a)S
1424(l)S
1436(s)S
1452(e)S
1471(\))S
1485(.)S
225 X
650 Y
%%IncludeFont: Helvetica-Bold

/Helvetica-Bold /Helvetica-Bold-8 roman-8-mappings AddRoman-8
/f.HB /Helvetica-Bold-8 findfont def

0.0 10 10 f.HB ft(8. DELETING)s
494(FILES)S
225 X
725 Y
0.0 10 10 f.R ft(Here)s
324(is)S
369(a)S
405(summary)S
577(of)S
630(the)S
700(steps)S
802(we)S
869(take)S
958(to)S
1009(provide)S
1156(correct)S
1292(semantics)S
1476(for)S
1543(ZLC)S
1639 X(\256)s
1662(les.)S
1747(W)S
1784(e)S
1821(carefully)S
1990(d)S
2011(i)S
2023(s)S
2039(t)S
2051(i)S
2063(n)S
2084(g)S
2105(u)S
2126(i)S
2138(s)S
2154(h)S
225 X
775 Y(between)s
%%IncludeFont: Times-Italic

/Times-Italic /Times-Italic-8 roman-8-mappings AddRoman-8
/f.I /Times-Italic-8 findfont def

0.0 10 10 f.I ft
377(unlink)S
0.0 10 10 f.R ft
494(\(or)S
0.0 10 10 f.I ft
554(remove)S
0.0 10 10 f.R ft
678(\),)S
713(which)S
827(reduces)S
967(a)S
997 X(\256)s
1020(l)S
1032(e)S
1048(')S
1061(s)S
1088(link)S
1165(count,)S
1280(and)S
0.0 10 10 f.I ft
1352(delete)S
0.0 10 10 f.R ft
1454(,)S
1474(which)S
1587(deallocates)S
1786(all)S
1839(the)S
1901(storage)S
2033(for)S
2092(a)S
2121 X(\256)s
2144(le)S
225 X
825 Y(and)s
296(frees)S
388(its)S
438(a)S
457(n)S
478(o)S
499(d)S
520(e)S
539(.)S
225 X
900 Y(When)s
335(a)S
364 X(\256)s
387(le)S
428(is)S
466(unlinked)S
624(and)S
695(its)S
745(link)S
821(count)S
926(reaches)S
1064(zero,)S
1158(it)S
1193(becomes)S
1351(a)S
1381(candidate)S
1555(for)S
1615(deletion.)S
1783(The)S
1859(glue)S
1943(functions)S
2111(that)S
225 X
950 Y(can)s
298(unlink)S
420 X(\256)s
443(les)S
504(and)S
579(the)S
645 X(\256)s
668(le)S
713(system)S
843(independent)S
1064 X(\256)s
1087(leset)S
1179(restore)S
1308(code)S
1402(passes)S
1523(the)S
1589(vnode)S
1706(to)S
1753(the)S
1818(ZLC)S
1909(Manager)S
2072(which)S
225 X
1000 Y(attempts)s
380(to)S
425(obtain)S
543(an)S
595(``open)S
717(for)S
778(d)S
799(e)S
818(l)S
830(e)S
849(t)S
861(e)S
877(')S
891(')S
917(token.)S
1043(It)S
1081(holds)S
1184(the)S
1248(vnode)S
1363(until)S
1453(it)S
1489(succeeds)S
1651(in)S
1696(this.)S
1789(When)S
1901(the)S
1966(delete)S
2081(token)S
225 X
1050 Y(has)s
291(been)S
381(obtained,)S
547(the)S
609(ZLC)S
697(Manager)S
857(knows)S
976(that)S
1050(no)S
1102(remote)S
1229(users)S
1325(are)S
1387(using)S
1488(the)S
1550 X(\256)s
1573(le,)S
1624(so)S
1671(it)S
1705(releases)S
1849(the)S
1911(v)S
1932(n)S
1953(o)S
1974(d)S
1995(e)S
2014(.)S
225 X
1125 Y(When)s
339(the)S
405(v)S
426(n)S
447(o)S
468(d)S
489(e)S
505(')S
518(s)S
548(reference)S
721(count)S
830(reaches)S
972(zero,)S
0.0 10 10 f.CW ft
1085(V)S
1110(O)S
1135(P)S
1160(_)S
1185(I)S
1210(N)S
1235(A)S
1260(C)S
1285(T)S
1310(I)S
1335(V)S
1360(E)S
1385(\()S
1410(\))S
0.0 10 10 f.R ft
1450(is)S
1493(invoked)S
1644(by)S
1701(the)S
1768 X(\256)s
1791(le)S
1837(system)S
1968(i)S
1980(n)S
2001(d)S
2022(e)S
2041(p)S
2062(e)S
2081(n)S
2102(d)S
2123(e)S
2142(n)S
2163(t)S
225 X
1175 Y(macro)s
0.0 10 10 f.CW ft
392(VN_RELE\(\))S
0.0 10 10 f.R ft
617(.)S
684(This)S
805(will)S
918(call)S
1027(a)S
1093(glue)S
1213(\()S
1227 X(\256)s
1250(le)S
1328(system)S
1491(independent\))S
1759(function)S
1947(which)S
2097(calls)S
225 X
1225 Y
0.0 10 10 f.CW ft(v)s
250(o)S
275(l)S
300(_)S
325(S)S
350(t)S
375(a)S
400(r)S
425(t)S
450(B)S
475(u)S
500(s)S
525(y)S
550(O)S
575(p)S
600(\()S
625(\))S
0.0 10 10 f.R ft
650(,)S
675(which)S
793(fails)S
881(if)S
922(the)S
989(containing)S
1183(volume)S
1324(is)S
1367(open.)S
1484(In)S
1534(this)S
1610(case)S
1698(the)S
1765(vnode)S
1883(is)S
1926(held)S
2014(on)S
2072(a)S
2107(per-)S
225 X
1275 Y(volume)s
364(\()S
0.0 10 10 f.CW ft
378(volp->v_vp)S
0.0 10 10 f.R ft
628(\))S
655(list)S
720(until)S
811(the)S
876(volume)S
1015(is)S
1056(closed.)S
1197(The)S
0.0 10 10 f.CW ft
1290(vol_close\(\))S
0.0 10 10 f.R ft
1577(operation)S
1749(will)S
1827(release)S
1957(these)S
2056(v)S
2077(n)S
2098(o)S
2119(d)S
2140(e)S
2159(s)S
225 X
1325 Y(again.)s
347(In)S
392(any)S
463(case,)S
0.0 10 10 f.CW ft
571(V)S
596(O)S
621(P)S
646(_)S
671(I)S
696(N)S
721(A)S
746(C)S
771(T)S
796(I)S
821(V)S
846(E)S
871(\()S
896(\))S
0.0 10 10 f.R ft
931(returns)S
1058(s)S
1074(u)S
1095(c)S
1114(c)S
1133(e)S
1152(s)S
1168(s)S
1184(f)S
1198(u)S
1219(l)S
1231(l)S
1243(y)S
1264(.)S
225 X
1400 Y(Once)s
0.0 10 10 f.CW ft
342(S)S
367(t)S
392(a)S
417(r)S
442(t)S
467(B)S
492(u)S
517(s)S
542(y)S
567(O)S
592(p)S
617(\()S
642(\))S
0.0 10 10 f.R ft
680(succeeds,)S
0.0 10 10 f.CW ft
868(v)S
893(n)S
918(m)S
943(_)S
968(i)S
993(n)S
1018(a)S
1043(c)S
1068(t)S
1093(i)S
1118(v)S
1143(e)S
1168(\()S
1193(\))S
0.0 10 10 f.R ft
1231(is)S
1272(called.)S
1408(This)S
1496(operation)S
1670(will)S
1750(actually)S
1899(delete)S
2015(the)S
2081 X(\256)s
2104(le)S
2149(if)S
225 X
1450 Y(its)s
275(link)S
351(count)S
455(is)S
493(zero)S
576(unless)S
691(the)S
753(volume)S
889(is)S
927(open)S
1434 Y
0.0 7 7 f.R ft
1009(18)S
1450 Y
0.0 10 10 f.R ft
1049(or)S
1094(r)S
1108(e)S
1127(a)S
1146(d)S
1167(o)S
1188(n)S
1209(l)S
1221(y)S
1242(.)S
225 X
1525 Y(The)s
311(entire)S
429(foregoing)S
614(mechanism)S
826(can)S
906(be)S
967(harmlessly)S
1170(invoked)S
1327(on)S
1390 X(\256)s
1413(les)S
1481(whose)S
1609(link)S
1696(count)S
1811(is)S
1860(not)S
1935(zero.)S
2050(I)S
2064(n)S
2085(d)S
2106(e)S
2125(e)S
2144(d)S
2165(,)S
225 X
1575 Y
0.0 10 10 f.CW ft(V)s
250(O)S
275(P)S
300(_)S
325(I)S
350(N)S
375(A)S
400(C)S
425(T)S
450(I)S
475(V)S
500(E)S
525(\()S
550(\))S
0.0 10 10 f.R ft
590(cannot)S
718(safely)S
834(check)S
948(the)S
1015(link)S
1096(count)S
1205(during)S
1330(some)S
1433(volume)S
1574(operations)S
1765(and)S
1841(so)S
1893(must)S
1989(defer)S
2090(inac)S
2161 X(-)s
225 X
1625 Y(tivating)s
365(vnodes)S
494(released)S
643(during)S
763(those)S
862(o)S
883(p)S
904(e)S
923(r)S
937(a)S
956(t)S
968(i)S
980(o)S
1001(n)S
1022(s)S
1038(.)S
225 X
1700 Y(The)s
300(above)S
411(procedures)S
606(ensure)S
726(that,)S
810(when)S
0.0 10 10 f.CW ft
926(v)S
951(n)S
976(m)S
1001(_)S
1026(i)S
1051(n)S
1076(a)S
1101(c)S
1126(t)S
1151(i)S
1176(v)S
1201(e)S
1226(\()S
1251(\))S
0.0 10 10 f.R ft
1286(receives)S
1435(a)S
1464(vnode)S
1577(whose)S
1695(link)S
1772(count)S
1877(is)S
1916(zero)S
2000(and)S
2072(which)S
225 X
1750 Y(is)s
269(not)S
339(in)S
388(a)S
423(readonly)S
586(volume,)S
737(no)S
794(volume)S
935(operation)S
1110(is)S
1153(in)S
1201(progress)S
1358(and)S
1434(none)S
1531(will)S
1612(start)S
1700(while)S
1809(it)S
1848(is)S
1891(running,)S
2047(and)S
2123(the)S
225 X
1800 Y(delete)s
337(token)S
441(has)S
507(been)S
597(obtained.)S
773(Thus,)S
876(it)S
910(will)S
986(be)S
1036(safe)S
1114(to)S
1157(delete)S
1269(the)S
1331 X(\256)s
1354(le.)S
225 X
1875 Y(The)s
300(changes)S
446(to)S
489(add)S
560(glue)S
643(to)S
0.0 10 10 f.CW ft
701(V)S
726(O)S
751(P)S
776(_)S
801(I)S
826(N)S
851(A)S
876(C)S
901(T)S
926(I)S
951(V)S
976(E)S
1001(\()S
1026(\))S
0.0 10 10 f.R ft
1061(were)S
1153(done)S
1245(under)S
1351(d)S
1372(b)S
1393(5)S
1414(5)S
1435(0)S
1456(5)S
1477(.)S
225 X
1950 Y
0.0 10 10 f.HB ft(8)s
248(.)S
260(1)S
283(.)S
295( )S
307(U)S
337(n)S
362(d)S
387(e)S
410(l)S
422(e)S
445(t)S
459(i)S
471(n)S
496(g)S
533(Files)S
640(During)S
785(R)S
815(e)S
838(s)S
861(t)S
875(o)S
900(r)S
916(e)S
225 X
2025 Y
0.0 10 10 f.R ft(The)s
300(old)S
364(code)S
454(used)S
541(to)S
584(delete)S
696(each)S
784 X(\256)s
807(le)S
848(before)S
966(restoring)S
1127(it.)S
1182(This)S
1267(resulted)S
1412(in)S
1456(a)S
1486(requirement)S
1701(to)S
1745(undelete)S
1900(these)S
1998 X(\256)s
2021(les)S
2079(in)S
2123(the)S
225 X
2075 Y(common)s
386(case)S
474(where)S
592(the)S
659(new)S
744 X(\256)s
767(l)S
779(e)S
795(')S
808(s)S
839 X(\256)s
862(d)S
898(matches)S
1051(the)S
1118(old)S
1187 X(\256)s
1210(l)S
1222(e)S
1238(')S
1251(s)S
1282 X(\256)s
1305(d)S
1341(and)S
1416(reattach)S
1565(the)S
1631(new)S
1715 X(\256)s
1738(le)S
1783(to)S
1830(the)S
1896(old)S
1964(vnode.)S
2101(This)S
225 X
2125 Y(created)s
358(all)S
411(sorts)S
500(of)S
545(problems)S
711(and)S
782(this)S
853(behavior)S
1011(was)S
1086(changed.)S
2109 Y
0.0 7 7 f.R ft
1237(19)S
225 X
2200 Y
0.0 10 10 f.HB ft(8.2. Making)s
462(Stale)S
574(V)S
599(n)S
624(o)S
649(d)S
674(e)S
697(s)S
225 X
2275 Y
0.0 10 10 f.R ft(The)s
300(only)S
385(way)S
465(to)S
508(create)S
621(a)S
651(stale)S
740(vnode)S
854(\(i.e.,)S
940(held)S
1024(and)S
0.0 10 10 f.CW ft
1111(NoIdentity)S
0.0 10 10 f.R ft
1361(\))S
1386(is)S
1425(via)S
1488(a)S
1518 X(\256)s
1541(leset)S
1630(operation.)S
1821(This)S
1906(statement,)S
2089(how)S
2161 X(-)s
225 X
2325 Y(ever,)s
323(needs)S
434(a)S
468(slight)S
577(quali)S
662 X(\256)s
685(cation.)S
824(Actually)S
985(n)S
1006(o)S
1027(n)S
1048(-)S
1062(e)S
1081(x)S
1102(p)S
1123(l)S
1135(i)S
1147(c)S
1166(i)S
1178(t)S
1190(l)S
1202(y)S
1238(held)S
1326(vnodes,)S
1470(for)S
1534(instance)S
1687(those)S
1790(held)S
1877(during)S
2001(hash)S
2092(table)S
225 X
2375 Y(traversal,)s
393(can)S
464(become)S
607(stale.)S
717(An)S
780(explicit)S
920(hold)S
1007(is)S
1047(a)S
0.0 10 10 f.CW ft
1093(FAST_VN_HOLD)S
0.0 10 10 f.R ft
1405(followed)S
1567(by)S
1621(a)S
1652(check)S
1763(of)S
1810(the)S
1874 X(\256)s
1897(d)S
1931(under)S
2040(the)S
2105(pro)S
2161 X(-)s
225 X
2425 Y(tection)s
353(of)S
400(the)S
0.0 10 10 f.CW ft
479(vd_idlock)S
0.0 10 10 f.R ft
715(\(see)S
794(the)S
857(description)S
1056(of)S
1102(the)S
0.0 10 10 f.CW ft
1180(vd_idlock)S
0.0 10 10 f.R ft
1416(in)S
1460(Locks\).)S
1607(The)S
0.0 10 10 f.CW ft
1698(v)S
1723(n)S
1748(m)S
1773(_)S
1798(F)S
1823(i)S
1848(n)S
1873(d)S
1898(V)S
1923(n)S
1948(o)S
1973(d)S
1998(e)S
0.0 10 10 f.R ft
2034(f)S
2048(u)S
2069(n)S
2090(c)S
2109(t)S
2121(i)S
2133(o)S
2154(n)S
225 X
2475 Y(always)s
376(returns)S
527(explicitly)S
722(held)S
829(vnodes.)S
1003(A)S
1068(vnode)S
1206(with)S
1316(only)S
1426(an)S
1501(internal)S
1666(hold)S
1776(can)S
1870(become)S
2036(stale)S
2149(if)S
225 X
2525 Y
0.0 10 10 f.CW ft(v)s
250(n)S
275(m)S
300(_)S
325(i)S
350(n)S
375(a)S
400(c)S
425(t)S
450(i)S
475(v)S
500(e)S
525(\()S
550(\))S
0.0 10 10 f.R ft
585(or)S
0.0 10 10 f.CW ft
645(Recycle\(\))S
0.0 10 10 f.R ft
880(is)S
918(running)S
1059(c)S
1078(o)S
1099(n)S
1120(c)S
1139(u)S
1160(r)S
1174(r)S
1188(e)S
1207(n)S
1228(t)S
1240(l)S
1252(y)S
1273(.)S
225 X
2600 Y(All)s
291(vnode)S
406(operations)S
595(operate)S
733(on)S
788(explicitly)S
962(held)S
1048(vnodes,)S
1190(so)S
1240(any)S
1314(volume)S
1453(operation)S
1626(that)S
1703(can)S
1775(produce)S
1924(stale)S
2015(vnodes)S
2147(is)S
225 X
2650 Y(inconsistent)s
440(with)S
528(\(virtually\))S
713(all)S
769(vnode)S
885(operations.)S
1094(Therefore)S
1273(vnode)S
1388(operations)S
1576(generally)S
1746(need)S
1838(only)S
1925(check)S
2036(for)S
2097(stale)S
225 X
2727 Y
225 X
0.0 8 8 f.R ft
/Cru{ 0 ysiz pt 5 div 2 copy rmoveto
 (_) show
 neg rmoveto
}bind def

Cru
236 X
Cru
253 X
Cru
270 X
Cru
287 X
Cru
304 X
Cru
321 X
Cru
338 X
Cru
355 X
Cru
372 X
Cru
389 X
Cru
406 X
Cru
423 X
Cru
440 X
Cru
457 X
Cru
474 X
Cru
491 X
Cru
508 X
Cru
225 X
2776 Y(18.)s
0.0 8 8 f.CW ft
275(S)S
295(t)S
315(a)S
335(r)S
355(t)S
375(B)S
395(u)S
415(s)S
435(y)S
455(O)S
475(p)S
495(\()S
515(\))S
0.0 8 8 f.R ft
544(always)S
646(succeeds)S
774(for)S
821(the)S
871(thread)S
964(which)S
1055(has)S
1108(the)S
1158(volume)S
1268(open.)S
1358(This)S
1426(will)S
1488(allow)S
0.0 8 8 f.CW ft
1584(v)S
1604(n)S
1624(m)S
1644(_)S
1664(i)S
1684(n)S
1704(a)S
1724(c)S
1744(t)S
1764(i)S
1784(v)S
1804(e)S
1824(\()S
1844(\))S
0.0 8 8 f.R ft
1872(to)S
1907(be)S
1947(called)S
2037(on)S
2079(v)S
2096(n)S
2113(o)S
2130(d)S
2147(e)S
2162(s)S
225 X
2813 Y(in)s
260(open)S
335(volumes)S
459(\(e.g.,)S
535(during)S
633(dump)S
719(or)S
756(restore\).)S
884(Under)S
977(normal)S
1082(operation)S
1220(there)S
1297(should)S
1397(be)S
1438(no)S
1481(way)S
1546(that)S
1607(a)S
1631(volume)S
1742(operation)S
1880(could)S
1965(release)S
2068(a)S
2092(vnode)S
225 X
2850 Y(for)s
274(a)S
299 X(\256)s
317(le)S
352(with)S
423(a)S
448(link)S
512(count)S
598(of)S
636(zero)S
704(since)S
784(the)S
836(vnode)S
929(should)S
1030(have)S
1104(been)S
1178(passed)S
1278(to)S
1315(the)S
1367(ZLC)S
1439(Manager)S
1569(by)S
1613(restore)S
1714(for)S
1762(token)S
1847(management.)S
2045(Just)S
2107(to)S
2143(be)S
225 X
2887 Y(safe,)s
295(however,)S
427(we)S
474(avoid)S
558(deleting)S
677 X(\256)s
695(les)S
741(in)S
776(open)S
850(v)S
867(o)S
884(l)S
894(u)S
911(m)S
937(e)S
952(s)S
965(.)S
225 X
2936 Y(19.)s
275(T)S
293(r)S
304(a)S
319(n)S
336(s)S
349(a)S
364(r)S
375(c)S
398(defect)S
489(db5449:)S
609(``Fileset)S
730(restore)S
830(need)S
902(not)S
954(delete)S
1044 X(\256)s
1062(le)S
1095(on)S
1137(creation)S
1255(a)S
1270(l)S
1280(w)S
1304(a)S
1319(y)S
1336(s)S
1349(.)S
1356(')S
1367(')S
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2044 X(P)s
2071(a)S
2094(g)S
2117(e)S
2140( )S
2152(9)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Roman Courier Helvetica-Bold Times-Italic
%%Page: label 10
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft(vnodes)s
368(on)S
435(entry,)S
557(typically)S
731(using)S
847(the)S
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
939(EV_DEPHANTOM)S
0.0 10 10 f.R ft
1264(macro.)S
384 Y
0.0 7 7 f.R ft
1379(20)S
400 Y
0.0 10 10 f.R ft
1444(An)S
1520(example)S
1688(of)S
1748(an)S
1813(exception)S
2003(to)S
2061(this)S
2147(is)S
225 X
450 Y
0.0 10 10 f.CW ft(V)s
250(O)S
275(P)S
300(X)S
325(_)S
350(G)S
375(E)S
400(T)S
425(V)S
450(O)S
475(L)S
500(U)S
525(M)S
550(E)S
575(\()S
600(\))S
0.0 10 10 f.R ft
625(,)S
645(which,)S
768(because)S
912(it)S
946(is)S
984(unglued,)S
1140(must)S
1231(carefully)S
1392(check)S
1501(for)S
0.0 10 10 f.CW ft
1575(NoIdentity)S
0.0 10 10 f.R ft
1825(.)S
225 X
550 Y
%%IncludeFont: Helvetica-Bold

/Helvetica-Bold /Helvetica-Bold-8 roman-8-mappings AddRoman-8
/f.HB /Helvetica-Bold-8 findfont def

0.0 10 10 f.HB ft(9)s
248(.)S
260( )S
272(L)S
297(O)S
329(C)S
359(K)S
389(S)S
225 X
625 Y
0.0 10 10 f.R ft(Here)s
320(is)S
361(a)S
393(description)S
594(of)S
642(the)S
707(locks)S
809(used)S
899(for)S
961(vnode)S
1078(s)S
1094(y)S
1115(n)S
1136(c)S
1155(h)S
1176(r)S
1190(o)S
1211(n)S
1232(i)S
1244(z)S
1263(a)S
1282(t)S
1294(i)S
1306(o)S
1327(n)S
1348(.)S
1382(They)S
1482(appear)S
1609(in)S
1656(resource)S
1813(hierarchy)S
1987(order.)S
2110(The)S
225 X
675 Y
0.0 10 10 f.CW ft(StartTran)s
0.0 10 10 f.R ft
460(resource)S
613(and)S
684(the)S
746(SunOS)S
0.0 10 10 f.CW ft
889(page_lock)S
0.0 10 10 f.R ft
1124(are)S
1186(also)S
1264(listed)S
1366(to)S
1409(show)S
1507(their)S
1595(position)S
1741(in)S
1784(the)S
1846(h)S
1867(i)S
1879(e)S
1898(r)S
1912(a)S
1931(r)S
1945(c)S
1964(h)S
1985(y)S
2006(:)S
225 X
750 Y
283(\()S
297(a)S
316(\))S
351(r)S
365(w)S
395(_)S
416(l)S
428(o)S
449(c)S
468(k)S
499 X(\320)s
0.0 10 10 f.CW ft
566(vmmLenLock)S
826 X
0.0 10 10 f.R ft(\320)s
878(per)S
942(vnode)S
225 X
825 Y
351 X(This)s
435(is)S
473(used)S
560(only)S
645(on)S
697(AIX.)S
801(See)S
872(RFC)S
961(75.0)S
1044(for)S
1103(d)S
1124(e)S
1143(t)S
1155(a)S
1174(i)S
1186(l)S
1198(s)S
1214(.)S
225 X
900 Y
281(\()S
295(b)S
316(\))S
351(r)S
365(w)S
395(_)S
416(t)S
428(l)S
440(o)S
461(c)S
480(k)S
511 X(\320)s
0.0 10 10 f.CW ft
578(vd_tlock)S
788 X
0.0 10 10 f.R ft(\320)s
840(per)S
904(vnode)S
225 X
975 Y
351 X(This)s
436(lock)S
520(protects)S
665(the)S
728(consistency)S
936(of)S
982(directories)S
1172(and)S
1244(some)S
1343(vnode)S
1457(interface)S
1617(properties)S
1797(such)S
1885(as)S
1931(the)S
1994(link)S
2071(c)S
2090(o)S
2111(u)S
2132(n)S
2153(t)S
2165(.)S
225 X
1025 Y
351 X(It)s
388(is)S
427(held)S
511(throughout)S
707(most)S
799(vnode)S
913(ops.)S
1002(It)S
1039(is)S
1078(not)S
1143(used)S
1231(to)S
1275(protect)S
1404(the)S
1467(consistency)S
1675(of)S
1721(the)S
1784(vnodes)S
1914(themselves,)S
2121(but)S
225 X
1075 Y
351 X(only)s
436(the)S
498(objects)S
628(the)S
690(vnodes)S
819(r)S
833(e)S
852(p)S
873(r)S
887(e)S
906(s)S
922(e)S
941(n)S
962(t)S
974(.)S
225 X
1150 Y
283(\()S
297(c)S
316(\))S
351(m)S
383(u)S
404(t)S
416(e)S
435(x)S
466 X(\320)s
0.0 10 10 f.CW ft
533(vd_idlock)S
768 X
0.0 10 10 f.R ft(\320)s
820(per)S
884(vnode)S
225 X
1225 Y
351 X(This)s
440(lock)S
528(protects)S
677(a)S
711(v)S
732(n)S
753(o)S
774(d)S
795(e)S
811(')S
824(s)S
855(id)S
903(from)S
999(changing.)S
1189(P)S
1211(r)S
1225(o)S
1246(c)S
1265(e)S
1284(d)S
1305(u)S
1326(r)S
1340(e)S
1359(s)S
1390(that)S
1469(destroy)S
1608(a)S
1642(v)S
1663(n)S
1684(o)S
1705(d)S
1726(e)S
1742(')S
1755(s)S
1786(identity)S
1931(during)S
2056(n)S
2077(o)S
2098(r)S
2112(m)S
2144(a)S
2163(l)S
225 X
1275 Y
351 X(operation,)s
535(namely)S
0.0 10 10 f.CW ft
688(v)S
713(n)S
738(m)S
763(_)S
788(i)S
813(n)S
838(a)S
863(c)S
888(t)S
913(i)S
938(v)S
963(e)S
988(\()S
1013(\))S
0.0 10 10 f.R ft
1052(and)S
0.0 10 10 f.CW ft
1142(Recycle\(\))S
0.0 10 10 f.R ft
1367(,)S
1391(act)S
1455(only)S
1544(on)S
1600(unused)S
1733(vnodes)S
1865(\(see)S
1946(Making)S
2090(Stale)S
225 X
1325 Y
351 X(V)s
378(n)S
399(o)S
420(d)S
441(e)S
460(s)S
487(for)S
547(a)S
577(discussion)S
763(of)S
809(how)S
892(a)S
922(vnode)S
1036(that)S
1111(is)S
1150(in)S
1195(use)S
1263(can)S
1334(have)S
1426(its)S
1478(identity)S
1620(removed\).)S
1813(These)S
1925(functions)S
2094(must)S
225 X
1375 Y
351 X(check)s
463(the)S
528(reference)S
698(count)S
804(after)S
894(grabbing)S
1056(the)S
0.0 10 10 f.CW ft
1135(vd_idlock)S
0.0 10 10 f.R ft
1360(.)S
1392(This)S
1478(prevents)S
1633(races)S
1732(between)S
0.0 10 10 f.CW ft
1900(O)S
1925(p)S
1950(e)S
1975(n)S
2000(V)S
2025(n)S
2050(o)S
2075(d)S
2100(e)S
2125(\()S
2150(\))S
225 X
1425 Y
351 X
0.0 10 10 f.R ft(and)s
0.0 10 10 f.CW ft
437(v)S
462(n)S
487(m)S
512(_)S
537(i)S
562(n)S
587(a)S
612(c)S
637(t)S
662(i)S
687(v)S
712(e)S
737(\()S
762(\))S
0.0 10 10 f.R ft
797(or)S
0.0 10 10 f.CW ft
857(Recycle\(\))S
0.0 10 10 f.R ft
1082(.)S
1112(Users)S
1217(that)S
1291(have)S
1381(explicitly)S
1552(requested)S
1724(a)S
1753(vnode)S
1867(for)S
1927(a)S
1957(particular)S
2131 X(\256)s
2154(d)S
225 X
1475 Y
351 X(must)s
446(call)S
0.0 10 10 f.CW ft
537(v)S
562(n)S
587(m)S
612(_)S
637(F)S
662(i)S
687(n)S
712(d)S
737(V)S
762(n)S
787(o)S
812(d)S
837(e)S
862(\()S
887(\))S
0.0 10 10 f.R ft
912(,)S
936(which)S
1053(calls)S
0.0 10 10 f.CW ft
1159(OpenVnode\(\))S
0.0 10 10 f.R ft
1434(.)S
1467(That)S
1557(routine)S
1690(must)S
1784(lock)S
1870(the)S
0.0 10 10 f.CW ft
1950(v)S
1975(d)S
2000(_)S
2025(i)S
2050(d)S
2075(l)S
2100(o)S
2125(c)S
2150(k)S
225 X
1525 Y
351 X
0.0 10 10 f.R ft(while)s
465(verifying)S
640(that)S
724(the)S
796(vnode)S
919(\(from)S
0.0 10 10 f.CW ft
1049(O)S
1074(b)S
1099(t)S
1124(a)S
1149(i)S
1174(n)S
1199(V)S
1224(n)S
1249(o)S
1274(d)S
1299(e)S
1324(\()S
1349(\))S
0.0 10 10 f.R ft
1374(\))S
1408(contains)S
1570(the)S
1643(requested)S
1826 X(\256)s
1849(d)S
1891(and)S
1973(that)S
2058(the)S
2131 X(\256)s
2154(d)S
225 X
1575 Y
351 X(matches)s
503(an)S
557(existing)S
705 X(\256)s
728(le.)S
793(While)S
910(the)S
0.0 10 10 f.CW ft
991(vd_idlock)S
0.0 10 10 f.R ft
1230(is)S
1271(held)S
1357(neither)S
0.0 10 10 f.CW ft
1503(v)S
1528(n)S
1553(m)S
1578(_)S
1603(i)S
1628(n)S
1653(a)S
1678(c)S
1703(t)S
1728(i)S
1753(v)S
1778(e)S
1803(\()S
1828(\))S
0.0 10 10 f.R ft
1866(nor)S
0.0 10 10 f.CW ft
1950(R)S
1975(e)S
2000(c)S
2025(y)S
2050(c)S
2075(l)S
2100(e)S
2125(\()S
2150(\))S
225 X
1625 Y
351 X
0.0 10 10 f.R ft(can)s
422(clear)S
517(the)S
581(v)S
602(n)S
623(o)S
644(d)S
665(e)S
681(')S
694(s)S
722(identity,)S
874(and)S
947(after)S
1037(the)S
0.0 10 10 f.CW ft
1116(vd_idlock)S
0.0 10 10 f.R ft
1353(is)S
1393(released)S
1544(both)S
1631(of)S
1678(these)S
1778(routines)S
1927(will)S
2006(notice)S
2123(the)S
225 X
1675 Y
351 X(vnode)s
464(is)S
502(in)S
545(use)S
611(and)S
682(skip)S
762(it.)S
225 X
1750 Y
351 X(This)s
440(contrasts)S
606(with)S
697(non-explicit)S
918(\(or)S
983(internal\))S
1143(vnode)S
1262(holders)S
1402(\(those)S
1521(which)S
1640(may)S
1728(bump)S
1839(the)S
1907(reference)S
2081(count)S
225 X
1800 Y
351 X(from)s
445(zero)S
531(on)S
586(a)S
618(vnode)S
734(without)S
876(concern)S
1023(for)S
1085(its)S
1138(identity\))S
1295(which)S
1411(are)S
1476(of)S
1524(two)S
1600(types:)S
1714(hash)S
1804(table)S
1899(iterators)S
2050(and)S
2123(the)S
225 X
1850 Y
351 X(VM)s
429(system.)S
576(The)S
652(former)S
777(obtain)S
894(the)S
0.0 10 10 f.CW ft
972(vd_idlock)S
0.0 10 10 f.R ft
1208(after)S
1297(holding)S
1437(each)S
1527(vnode)S
1642(and)S
1715(check)S
1826(that)S
1902(the)S
1966(vnode)S
2081(is)S
2121(not)S
225 X
1900 Y
351 X(stale.)s
462(In)S
510(the)S
575(latter)S
676(case)S
762(the)S
827(VM)S
907(is)S
948(cleared)S
1084(in)S
1130(the)S
1194(process)S
1332(of)S
1379(removing)S
1552(the)S
1616(v)S
1637(n)S
1658(o)S
1679(d)S
1700(e)S
1716(')S
1729(s)S
1757(identity,)S
1909(so)S
1958(VM)S
2037(r)S
2051(e)S
2070(q)S
2091(u)S
2112(e)S
2131(s)S
2147(t)S
2159(s)S
225 X
1950 Y
351 X(on)s
409(stale)S
503(vnodes)S
638(can)S
714(safely)S
832(be)S
889(ignored.)S
1055(S)S
1078(y)S
1099(n)S
1120(c)S
1139(h)S
1160(r)S
1174(o)S
1195(n)S
1216(i)S
1228(z)S
1247(a)S
1266(t)S
1278(i)S
1290(o)S
1311(n)S
1349(with)S
1441(volume)S
1584(operations)S
1777(must)S
1875(be)S
1932(carefully)S
2100(con)S
2161 X(-)s
225 X
2000 Y
351 X(sidered)s
489(in)S
538(these)S
641(cases.)S
766(If)S
810(v)S
831(n)S
852(o)S
873(d)S
894(e)S
913(-)S
927(d)S
948(e)S
967(s)S
983(t)S
995(r)S
1009(o)S
1030(y)S
1051(i)S
1063(n)S
1084(g)S
1120(volume)S
1261(operations)S
1452(may)S
1539(be)S
1594(running)S
1740(concurrently)S
1969(then)S
2057(c)S
2076(a)S
2095(r)S
2109(e)S
2128(f)S
2142(u)S
2163(l)S
225 X
2050 Y
351 X(examination)s
571(of)S
617(the)S
680(vnode)S
795(state)S
885(under)S
993(protection)S
1177(of)S
1224(the)S
0.0 10 10 f.CW ft
1303(vd_idlock)S
0.0 10 10 f.R ft
1540(is)S
1580(safe.)S
1680(If)S
1720(such)S
1809(operations)S
1997(are)S
2061(known)S
225 X
2100 Y
351 X(to)s
395(be)S
446(excluded)S
610(\(which)S
738(is)S
776(the)S
838(case)S
921(for)S
980(most)S
1071(vnode)S
1184(operations\))S
1384(then)S
1467(checking)S
1630(the)S
1692(identity)S
1832(is)S
1870(safe)S
1948(as)S
1993(long)S
2078(as)S
2123(the)S
225 X
2150 Y
351 X
0.0 10 10 f.CW ft(vd_idlock)s
0.0 10 10 f.R ft
586(was)S
661(grabbed)S
807(at)S
848(some)S
946(point)S
1043(since)S
1140(the)S
1202(vnode)S
1315(was)S
1390(held.)S
225 X
2225 Y
351 X(Basically)s
519(obtaining)S
689(the)S
0.0 10 10 f.CW ft
766(vd_idlock)S
0.0 10 10 f.R ft
1001(converts)S
1154(an)S
1204(internal)S
1344(hold)S
1429(into)S
1505(an)S
1555(explicit)S
1693(hold.)S
225 X
2300 Y
351 X(T)s
373(o)S
405(determine)S
585(that)S
661(a)S
692 X(\256)s
715(d)S
748(represents)S
931(an)S
983(existing)S
1129 X(\256)s
1152(le)S
1195(it)S
1231(must)S
1324(be)S
1376(passed)S
1500(to)S
0.0 10 10 f.CW ft
1560(epif_Open\(\))S
0.0 10 10 f.R ft
1847(to)S
1892(obtain)S
2010(the)S
2074(anode)S
225 X
2350 Y
351 X(handle)s
484(\(kept)S
591(in)S
0.0 10 10 f.CW ft
659(vd_file.ap)S
0.0 10 10 f.R ft
909(\).)S
963(This)S
1057(handle)S
1189(is)S
1236(always)S
1372(valid)S
1476(in)S
1528(vnodes)S
1666(with)S
1760(identities)S
1935(except)S
2065(d)S
2086(u)S
2107(r)S
2121(i)S
2133(n)S
2154(g)S
225 X
2400 Y
351 X(volume)s
487(operations)S
673(that)S
747(require)S
877(d)S
898(i)S
910(s)S
926(c)S
945(o)S
966(n)S
987(n)S
1008(e)S
1027(c)S
1046(t)S
1058(i)S
1070(o)S
1091(n)S
1122(between)S
1273(the)S
1335(anode)S
1446(and)S
1517(vnode)S
1630(r)S
1644(e)S
1663(p)S
1684(r)S
1698(e)S
1717(s)S
1733(e)S
1752(n)S
1773(t)S
1785(a)S
1804(t)S
1816(i)S
1828(o)S
1849(n)S
1870(s)S
1886(.)S
225 X
2475 Y
351 X(Because)s
505(the)S
570(ID)S
627(lock)S
713(is)S
754(held)S
840(for)S
902(the)S
968(duration)S
1123(of)S
0.0 10 10 f.CW ft
1187(v)S
1212(n)S
1237(m)S
1262(_)S
1287(i)S
1312(n)S
1337(a)S
1362(c)S
1387(t)S
1412(i)S
1437(v)S
1462(e)S
1487(\()S
1512(\))S
0.0 10 10 f.R ft
1551(and)S
0.0 10 10 f.CW ft
1641(Recycle\(\))S
0.0 10 10 f.R ft
1866(,)S
1890(it)S
1928(is)S
1970(a)S
2003(high)S
2092(level)S
225 X
2525 Y
351 X(lock)s
434(that)S
508(can)S
577(be)S
627(held)S
710(across)S
825(VM)S
902(operations.)S
1108(It)S
1144(must)S
1235(not)S
1299(be)S
1349(used)S
1436(in)S
0.0 10 10 f.CW ft
1494(PageIn\(\))S
0.0 10 10 f.R ft
1704(or)S
0.0 10 10 f.CW ft
1764(PageOut\(\))S
0.0 10 10 f.R ft
1989(.)S
225 X
2600 Y
351 X(On)s
412(AIX,)S
0.0 10 10 f.CW ft
521(StopUse\(\))S
0.0 10 10 f.R ft
756(must)S
847(also)S
925(hold)S
1010(this)S
1081(lock)S
1165(to)S
1209(exclude)S
0.0 10 10 f.CW ft
1367(v)S
1392(n)S
1417(m)S
1442(_)S
1467(i)S
1492(n)S
1517(a)S
1542(c)S
1567(t)S
1592(i)S
1617(v)S
1642(e)S
1667(\()S
1692(\))S
2584 Y
0.0 7 7 f.R ft
1717(21)S
2600 Y
0.0 10 10 f.R ft
1758(and)S
0.0 10 10 f.CW ft
1845(Recycle\(\))S
0.0 10 10 f.R ft
2081(while)S
225 X
2650 Y
351 X(it)s
393(blocks)S
521(incompatible)S
760(VM)S
845(operations.)S
1059(This)S
1151(prevents)S
1312(the)S
1382(VM)S
1467(segment)S
1624(deletion)S
1778(from)S
1876(deadlocking)S
2100(with)S
225 X
2700 Y
351 X(blocked)s
495(page)S
585(f)S
599(a)S
618(u)S
639(l)S
651(t)S
663(s)S
679(.)S
225 X
2838 Y
225 X
0.0 8 8 f.R ft
/Cru{ 0 ysiz pt 5 div 2 copy rmoveto
 (_) show
 neg rmoveto
}bind def

Cru
236 X
Cru
253 X
Cru
270 X
Cru
287 X
Cru
304 X
Cru
321 X
Cru
338 X
Cru
355 X
Cru
372 X
Cru
389 X
Cru
406 X
Cru
423 X
Cru
440 X
Cru
457 X
Cru
474 X
Cru
491 X
Cru
508 X
Cru
225 X
2887 Y(20.)s
275(The)S
335(name)S
416(of)S
452(this)S
510(macro)S
602(is)S
633(a)S
656(historical)S
792(artifact:)S
907(the)S
957(process)S
1066(of)S
1102(applying)S
0.0 8 8 f.CW ft
1242(StopUse\(\))S
0.0 8 8 f.R ft
1430(to)S
1465(a)S
1488(vnode)S
1579(used)S
1649(to)S
1684(be)S
1724(called)S
1814(`)S
1825(`)S
1836(p)S
1853(h)S
1870(a)S
1885(n)S
1902(t)S
1912(o)S
1929(m)S
1955(i)S
1965(z)S
1980(a)S
1995(t)S
2005(i)S
2015(o)S
2032(n)S
2047(')S
2058(')S
2067(.)S
225 X
2936 Y(21.)s
275(Of)S
318(course,)S
0.0 8 8 f.CW ft
434(v)S
454(n)S
474(m)S
494(_)S
514(i)S
534(n)S
554(a)S
574(c)S
594(t)S
614(i)S
634(v)S
654(e)S
674(\()S
694(\))S
0.0 8 8 f.R ft
722(should)S
821(already)S
929(be)S
969(blocked)S
1085(by)S
1127(the)S
1177(volume)S
1287(glue)S
1354(in)S
0.0 8 8 f.CW ft
1401(V)S
1421(O)S
1441(P)S
1461(_)S
1481(I)S
1501(N)S
1521(A)S
1541(C)S
1561(T)S
1581(I)S
1601(V)S
1621(E)S
1641(\()S
1661(\))S
0.0 8 8 f.R ft
1681(.)S
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2021 X(P)s
2048(a)S
2071(g)S
2094(e)S
2117( )S
2129(1)S
2152(0)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Roman Courier Helvetica-Bold
%%Page: label 11
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

225 X
200 Y(OSF-RFC 78.0)s
906 X(E)s
934(p)S
957(i)S
966(s)S
987(o)S
1010(d)S
1033(e)S
1056( )S
1068(V)S
1093(n)S
1116(o)S
1139(d)S
1162(e)S
1185( )S
1197(S)S
1225(y)S
1246(n)S
1269(c)S
1290(h)S
1313(r)S
1327(o)S
1350(n)S
1373(i)S
1382(z)S
1403(a)S
1426(t)S
1438(i)S
1447(o)S
1470(n)S
1923 X(J)s
1944(a)S
1967(n)S
1990(u)S
2013(a)S
2036(r)S
2050(y)S
2071( )S
2083(1)S
2106(9)S
2129(9)S
2152(6)S
225 X
400 Y
%%IncludeFont: Times-Roman

/Times-Roman /Times-Roman-8 roman-8-mappings AddRoman-8
/f.R /Times-Roman-8 findfont def

0.0 10 10 f.R ft
281(\()S
295(d)S
316(\))S
351(m)S
383(u)S
404(t)S
416(e)S
435(x)S
466 X(\320)s
%%IncludeFont: Courier

/Courier /Courier-8 roman-8-mappings AddRoman-8
/f.CW /Courier-8 findfont def

0.0 10 10 f.CW ft
533(vd_vm.lock)S
793 X
0.0 10 10 f.R ft(\320)s
845(per)S
909(vnode)S
225 X
475 Y
351 X(This)s
440(lock)S
528(protects)S
677(the)S
744(vnode)S
862(during)S
987(state)S
1080(transitions)S
1271(related)S
1402(to)S
1450(the)S
1517(virtual)S
1643(memory)S
1797(page)S
1892(cache.)S
2024(It)S
2065(c)S
2084(o)S
2105(v)S
2126(e)S
2145(r)S
2159(s)S
225 X
525 Y
351 X(both)s
443(the)S
512(bits)S
590(specifying)S
783(restrictions)S
988(as)S
1040(well)S
1129(as)S
1180(the)S
1248(advisory)S
1409(bits)S
1486(describing)S
1678(the)S
1746(current)S
1882(state)S
1976(of)S
2027(the)S
2095(page)S
225 X
575 Y
351 X(cache.)s
480(It)S
519(is)S
560(used)S
650(during)S
0.0 10 10 f.CW ft
788(PageIn\(\))S
0.0 10 10 f.R ft
1001(but)S
1068(not)S
0.0 10 10 f.CW ft
1150(PageOut\(\))S
0.0 10 10 f.R ft
1375(.)S
1408(On)S
1472(AIX,)S
1569(the)S
1634(this)S
1708(lock)S
1794(protects)S
1941(the)S
2006(use)S
2075(of)S
2123(the)S
225 X
625 Y
351 X(VM)s
428(segment.)S
598(See)S
669(RFC)S
758(75.0)S
841(for)S
900(d)S
921(e)S
940(t)S
952(a)S
971(i)S
983(l)S
995(s)S
1011(.)S
225 X
700 Y
283(\()S
297(e)S
316(\))S
351(r)S
365(w)S
395(_)S
416(l)S
428(o)S
449(c)S
468(k)S
499 X(\320)s
0.0 10 10 f.CW ft
566(vd_file.lock)S
876 X
0.0 10 10 f.R ft(\320)s
928(per)S
992(vnode)S
225 X
775 Y
351 X(The)s
428(lock)S
513(protects)S
659(the)S
723(consistency)S
932(of)S
979(the)S
1043(a)S
1062(n)S
1083(o)S
1104(d)S
1125(e)S
1141(')S
1154(s)S
1182(length)S
1300(and)S
1374(block)S
1481(map.)S
1586(It)S
1625(used)S
1715(by)S
1770(functions)S
1940(that)S
2017(r)S
2031(e)S
2050(f)S
2064(e)S
2083(r)S
2097(e)S
2116(n)S
2137(c)S
2156(e)S
225 X
825 Y
351 X(or)s
403(modify)S
541(a)S
577 X(\256)s
600(l)S
612(e)S
628(')S
641(s)S
674(allocation)S
859(map,)S
958(for)S
1024(example)S
0.0 10 10 f.CW ft
1199(e)S
1224(p)S
1249(i)S
1274(a)S
1299(_)S
1324(T)S
1349(r)S
1374(u)S
1399(n)S
1424(c)S
1449(a)S
1474(t)S
1499(e)S
1524(\()S
1549(\))S
0.0 10 10 f.R ft
1574(.)S
1611(An)S
1678(exception)S
1859(to)S
1908(this)S
1985(rule)S
2067(is)S
2111(that)S
225 X
875 Y
351 X
0.0 10 10 f.CW ft(PageOut\(\))s
0.0 10 10 f.R ft
603(does)S
707(not)S
789(use)S
873(this)S
962(lock,)S
1073(as)S
1136(that)S
1228(would)S
1361(make)S
0.0 10 10 f.CW ft
1495(PageOut\(\))S
0.0 10 10 f.R ft
1748(implicitly)S
1941(depend)S
2091(upon)S
225 X
925 Y
351 X
0.0 10 10 f.CW ft(PageIn\(\))s
0.0 10 10 f.R ft
551(.)S
586(Instead)S
0.0 10 10 f.CW ft
738(PageOut\(\))S
0.0 10 10 f.R ft
978(relies)S
1085(on)S
1142(the)S
1209(VM)S
1291(s)S
1307(y)S
1328(s)S
1344(t)S
1356(e)S
1375(m)S
1403(')S
1416(s)S
1447(page)S
1542(lock)S
1630(when)S
1736(examining)S
1929(the)S
1995(block)S
2103(map)S
225 X
975 Y
351 X(while)s
455(writing)S
587(out)S
651(a)S
680(dirty)S
770(page.)S
880(See)S
951(RFC)S
1040(75.0)S
1123(for)S
1182(d)S
1203(e)S
1222(t)S
1234(a)S
1253(i)S
1265(l)S
1277(s)S
1293(.)S
225 X
1050 Y
288(\(f\))S
%%IncludeFont: Times-Italic

/Times-Italic /Times-Italic-8 roman-8-mappings AddRoman-8
/f.I /Times-Italic-8 findfont def

0.0 10 10 f.I ft
351(resource)S
508 X
0.0 10 10 f.R ft(\320)s
0.0 10 10 f.CW ft
575(StartTran)S
810 X
0.0 10 10 f.R ft(\320)s
862(g)S
883(l)S
895(o)S
916(b)S
937(a)S
956(l)S
225 X
1125 Y
351 X(\(Call)s
0.0 10 10 f.CW ft
461(e)S
486(l)S
511(b)S
536(b)S
561(_)S
586(S)S
611(t)S
636(a)S
661(r)S
686(t)S
711(T)S
736(r)S
761(a)S
786(n)S
811(\()S
836(\))S
0.0 10 10 f.R ft
871(to)S
914(begin)S
1018(a)S
1047(t)S
1059(r)S
1073(a)S
1092(n)S
1113(s)S
1129(a)S
1148(c)S
1167(t)S
1179(i)S
1191(o)S
1212(n)S
1233(.)S
1243(\))S
225 X
1200 Y
281(\()S
295(g)S
316(\))S
351(m)S
383(u)S
404(t)S
416(e)S
435(x)S
466 X(\320)s
0.0 10 10 f.CW ft
533(v)S
558(d)S
583(_)S
608(c)S
633(a)S
658(c)S
683(h)S
708(e)S
733(.)S
758(l)S
783(o)S
808(c)S
833(k)S
868 X
0.0 10 10 f.R ft(\320)s
920(per)S
984(vnode)S
225 X
1275 Y
351 X(This)s
436(lock)S
520(protects)S
665(the)S
728(cached)S
857(vnode)S
971(status)S
1078(information,)S
1298(namely)S
1433(the)S
1497(three)S
1594(times)S
1697(and)S
1770(data)S
1853(version)S
1989(number.)S
2149(It)S
225 X
1325 Y
351 X(is)s
389(used)S
476(when)S
577(updating)S
735(the)S
797(times)S
898(and)S
969(when)S
1070 X(\257)s
1093(ushing)S
1215(them)S
1309(through)S
1450(to)S
1493(the)S
1555(a)S
1574(n)S
1595(o)S
1616(d)S
1637(e)S
1656(.)S
225 X
1400 Y
351 X(As)s
408(this)S
480(lock)S
564(is)S
603(below)S
0.0 10 10 f.CW ft
732(StartTran)S
0.0 10 10 f.R ft
969(in)S
1014(the)S
1078(resource)S
1233(hierarchy,)S
1415(we)S
1476(may)S
1560(not)S
1626(start)S
1711(a)S
1742(transaction)S
1940(while)S
2046(h)S
2067(o)S
2088(l)S
2100(d)S
2121(i)S
2133(n)S
2154(g)S
225 X
1450 Y
351 X(the)s
417(lock.)S
524(This)S
612(leads)S
713(to)S
760(some)S
862(awkward)S
1030(code)S
1124(in)S
0.0 10 10 f.CW ft
1186(v)S
1211(n)S
1236(m)S
1261(_)S
1286(U)S
1311(p)S
1336(d)S
1361(a)S
1386(t)S
1411(e)S
1436(A)S
1461(n)S
1486(o)S
1511(d)S
1536(e)S
1561(\()S
1586(\))S
0.0 10 10 f.R ft
1611(,)S
1635(which)S
1752(can)S
1825(be)S
1878(called)S
1993(without)S
2135(an)S
225 X
1500 Y
351 X(already)s
486(started)S
609(transaction,)S
815(but)S
879(needs)S
985(a)S
1014(transaction)S
1210(to)S
1253(write)S
1350(through)S
1491(dirty)S
1581(s)S
1597(t)S
1609(a)S
1628(t)S
1640(u)S
1661(s)S
1677(.)S
225 X
1575 Y
281(\()S
295(h)S
316(\))S
351(r)S
365(w)S
395(_)S
416(l)S
428(o)S
449(c)S
468(k)S
499 X(\320)s
0.0 10 10 f.CW ft
566(page_lock)S
801 X
0.0 10 10 f.R ft(\320)s
853(per)S
917(page)S
1007([)S
1021(S)S
1044(u)S
1065(n)S
1086(O)S
1116(S)S
1139(])S
225 X
1650 Y
351 X(\(The)s
440(SunOS)S
568(page)S
658(l)S
670(o)S
691(c)S
710(k)S
731(.)S
741(\))S
225 X
1725 Y
290(\()S
304(i)S
316(\))S
351(m)S
383(u)S
404(t)S
416(e)S
435(x)S
466 X(\320)s
0.0 10 10 f.CW ft
533(vntableLock)S
818 X
0.0 10 10 f.R ft(\320)s
870(g)S
891(l)S
903(o)S
924(b)S
945(a)S
964(l)S
225 X
1800 Y
351 X(This)s
438(lock)S
524(protects)S
671(the)S
736 X(\256)s
759(d,)S
803(volid,)S
913(iteration)S
1068(label,)S
1174(and)S
0.0 10 10 f.CW ft
1263(onHash)S
0.0 10 10 f.R ft
1426(and)S
0.0 10 10 f.CW ft
1515(onLRU)S
0.0 10 10 f.R ft
1653(bits)S
1727(of)S
1775(all)S
1831(vnodes.)S
1983(It)S
2023(also)S
2105(pro)S
2161 X(-)s
225 X
1850 Y
351 X(tects)s
439(the)S
501(global)S
617(state)S
705(such)S
792(as)S
837(the)S
899(hash)S
986(table)S
1079(and)S
1150(LRU)S
1243(and)S
1314(stale)S
1402(l)S
1414(i)S
1426(s)S
1442(t)S
1454(s)S
1470(.)S
225 X
1925 Y
290(\()S
304(j)S
316(\))S
351(m)S
383(u)S
404(t)S
416(e)S
435(x)S
466 X(\320)s
0.0 10 10 f.CW ft
533(r)S
558(e)S
583(f)S
608(C)S
633(o)S
658(u)S
683(n)S
708(t)S
733(M)S
758(u)S
783(t)S
808(e)S
833(x)S
868 X
0.0 10 10 f.R ft(\320)s
920(per)S
984(vnode)S
1097([AIX])S
225 X
1975 Y
351 X(mutex)s
466 X(\320)s
0.0 10 10 f.CW ft
533(v_lock)S
693 X
0.0 10 10 f.R ft(\320)s
745(per)S
809(vnode)S
922([)S
936(S)S
959(u)S
980(n)S
1001(O)S
1031(S)S
1054(])S
225 X
2050 Y
351 X(This)s
461(protects)S
631(the)S
719(v)S
740(n)S
761(o)S
782(d)S
803(e)S
819(')S
832(s)S
884(reference)S
1078(count)S
1208(and)S
1305(is)S
1369(referenced)S
1584(via)S
1673(the)S
0.0 10 10 f.CW ft
1777(efs_lockvp\(\))S
0.0 10 10 f.R ft
2114(and)S
225 X
2100 Y
351 X
0.0 10 10 f.CW ft(e)s
376(f)S
401(s)S
426(_)S
451(u)S
476(n)S
501(l)S
526(o)S
551(c)S
576(k)S
601(v)S
626(p)S
651(\()S
676(\))S
0.0 10 10 f.R ft
713(macros.)S
866(On)S
929(AIX,)S
1025(we)S
1086(added)S
1199(this)S
1272(mutex)S
1389(to)S
1434(protect)S
1564(our)S
1632(uses)S
1715(of)S
1761(the)S
0.0 10 10 f.CW ft
1839(v_count)S
2025 X
0.0 10 10 f.R ft(\256)s
2048(eld;)S
2123(the)S
225 X
2150 Y
351 X(AIX)s
435(kernel)S
551(makes)S
668(very)S
753(little)S
842(use)S
908(of)S
953(this)S
1024 X(\256)s
1047(eld.)S
225 X
2250 Y
%%IncludeFont: Helvetica-Bold

/Helvetica-Bold /Helvetica-Bold-8 roman-8-mappings AddRoman-8
/f.HB /Helvetica-Bold-8 findfont def

0.0 10 10 f.HB ft(AUTHOR'S)s
454(A)S
484(D)S
514(D)S
544(R)S
574(E)S
602(S)S
630(S)S
225 X
2325 Y
0.0 10 10 f.R ft(T)s
247(e)S
266(d)S
287( )S
297(A)S
327(n)S
348(d)S
369(e)S
388(r)S
402(s)S
418(o)S
439(n)S
1438 X(I)s
1452(n)S
1473(t)S
1485(e)S
1504(r)S
1518(n)S
1539(e)S
1558(t)S
1570( )S
1580(e)S
1599(m)S
1631(a)S
1650(i)S
1662(l)S
1674(:)S
1686( )S
1696(t)S
1708(e)S
1727(d)S
1748(_)S
1769(a)S
1788(n)S
1809(d)S
1830(e)S
1849(r)S
1863(s)S
1879(o)S
1900(n)S
1921(@)S
1959(t)S
1971(r)S
1985(a)S
2004(n)S
2025(s)S
2041(a)S
2060(r)S
2074(c)S
2093(.)S
2103(c)S
2122(o)S
2143(m)S
225 X
2375 Y(T)s
247(r)S
261(a)S
280(n)S
301(s)S
317(a)S
336(r)S
350(c)S
369( )S
379(C)S
407(o)S
428(r)S
442(p)S
463(o)S
484(r)S
498(a)S
517(t)S
529(i)S
541(o)S
562(n)S
1681 X(T)s
1703(e)S
1722(l)S
1734(e)S
1753(p)S
1774(h)S
1795(o)S
1816(n)S
1837(e)S
1856(:)S
1868( )S
1878(+)S
1902(1)S
1923(-)S
1937(4)S
1958(1)S
1979(2)S
2000(-)S
2014(3)S
2035(3)S
2056(8)S
2077(-)S
2091(4)S
2112(4)S
2133(1)S
2154(0)S
225 X
2425 Y(7)s
246(0)S
267(7)S
288( )S
298(G)S
328(r)S
342(a)S
361(n)S
382(t)S
394( )S
404(S)S
427(t)S
439(.)S
225 X
2475 Y(P)s
248(i)S
260(t)S
272(t)S
284(s)S
300(b)S
321(u)S
342(r)S
356(g)S
377(h)S
398(,)S
408( )S
418(P)S
440(A)S
470( )S
480(1)S
501(5)S
522(2)S
543(1)S
564(9)S
225 X
2525 Y(USA)s
225 X
3220 Y
0.0 10 10 f.H ft(Anderson)s
2021 X(P)s
2048(a)S
2071(g)S
2094(e)S
2117( )S
2129(1)S
2152(1)S
3300 Y
showpage
PageState4836 restore

%%PageFonts: Helvetica Times-Roman Courier Times-Italic Helvetica-Bold
%%Page: label 12
%%PageFonts: (atend)
/PageState4836 save def
home

0.000000 setgray
%%IncludeFont: Helvetica

/Helvetica /Helvetica-8 roman-8-mappings AddRoman-8
/f.H /Helvetica-8 findfont def

0.0 10 10 f.H ft
1.0000 setlinewidth
[] 0 setdash

PageState4836 restore
%%Trailer
%%DocumentFonts: Helvetica-Bold Times-Roman Times-Bold Courier Helvetica Times-Italic
%%Pages: 11
DocState4836 restore
%%EOF

<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: 12_trouble.sgm,v $
# Revision 1.1.2.10  1996/12/04  22:48:40  carrig
# 	{enh,R1.2.2}
# 	JC's edits
# 	[1996/12/04  22:46:18  carrig]
#
# Revision 1.1.2.9  1996/11/29  20:20:08  carrig
# 	{enh,R1.2.2}
# 	Finished edit changes; must scale graphics
# 	[1996/11/29  20:16:35  carrig]
# 
# Revision 1.1.2.8  1996/11/27  21:43:07  carrig
# 	{enh,R1.2.2}
# 	More editor's comments
# 	[1996/11/27  21:41:03  carrig]
# 
# 	{enh,R1.2.2}
# 	More editor's comments
# 	[1996/11/27  21:27:49  carrig]
# 
# Revision 1.1.2.7  1996/11/26  21:44:42  carrig
# 	{enh,R1.2.2}
# 	Putting in editor's comments
# 	[1996/11/26  21:40:14  carrig]
# 
# Revision 1.1.2.6  1996/11/25  21:50:51  carrig
# 	{enh,R1.2.2}
# 	Started to put in editor's comments
# 	[1996/11/25  21:48:41  carrig]
# 
# Revision 1.1.2.5  1996/11/07  20:42:59  weir
# 	Cleaned up history
# 	[1996/11/07  20:41:00  weir]
# 
# Revision 1.1.2.4  1996/11/06  20:40:08  carrig
# 	{enh,R1.2.2}
# 	OK for editing
# 	[1996/11/06  20:37:30  carrig]
# 
# Revision 1.1.2.3  1996/11/05  18:58:22  carrig
# 	{enh,R1.2.2}
# 	Second pass
# 	[1996/11/05  18:54:57  carrig]
# 
# Revision 1.1.2.2  1996/11/04  22:03:16  carrig
# 	{enh,R1.2.2}
# 	First pass at corrections
# 	[1996/11/04  21:59:39  carrig]
# 
# Revision 1.1.2.1  1996/11/01  18:19:40  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 	[1996/11/01  18:17:29  wardr]
# 
# Revision 1.1.1.2  1996/11/01  18:17:29  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 
# $EndLog$
-->
<!---->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<!-- COPYRIGHT NOTICE-->
<!-- Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.-->
<!-- ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the-->
<!-- src directory for the full copyright text.-->
<!---->
<!---->
<!-- HISTORY-->
<!-- Revision 1.1.10.2  1996/10/08  15:04:07  sherman-->
<!-- 	Added OSF edits-->
<!-- 	[1996/10/08  15:02:55  sherman]-->
<!---->
<!-- Revision 1.1.10.1  1996/09/19  17:23:34  sherman-->
<!-- 	{def,13623,R1.2.2}-->
<!-- 	Add info from 1.2.1 Release Notes-->
<!-- 	{def,13575,R1.2.2}-->
<!-- 	Fixed various dcecp problems-->
<!-- 	[1996/09/19  17:22:45  sherman]-->
<!-- -->
<!-- Revision 1.1.8.1  1996/03/12  17:06:30  wardr-->
<!-- 	{edit R1.2.1}-->
<!-- 	Release Edits-->
<!-- 	[1996/03/12  17:06:04  wardr]-->
<!-- -->
<!-- Revision 1.1.6.26  1995/05/25  19:06:40  rcb-->
<!-- 	PRENTICE HALL reformat: final changes-->
<!-- 	[1995/05/25  13:24:07  rcb]-->
<!-- -->
<!-- 	PRENTICE HALL reformat - index entries, odds and ends-->
<!-- 	[1995/03/27  19:51:34  rcb]-->
<!-- -->
<!-- 	PRENTICE HALL reformat-->
<!-- 	[1995/03/14  18:11:43  rcb]-->
<!-- -->
<!-- 	incorporated 1.1 edits-->
<!-- 	[1995/03/14  17:56:28  rcb]-->
<!-- -->
<!-- Revision 1.1.6.25  1994/10/20  20:26:40  wardr-->
<!-- 	{edit R1.1}-->
<!-- 	Final GA release edits-->
<!-- 	[1994/10/20  20:25:56  wardr]-->
<!-- -->
<!-- Revision 1.1.6.24  1994/10/18  21:16:11  millette-->
<!-- 	{enh, 12623, R1.1}-->
<!-- 	Add proc for restoring duplicate master-->
<!-- 	{def, 10014, R1.1}-->
<!-- 	HP edits-->
<!-- 	[1994/10/18  21:13:57  millette]-->
<!-- -->
<!-- Revision 1.1.6.23  1994/09/30  21:42:34  millette-->
<!-- 	(def,R1.1,10014)-->
<!-- 	dcecp edits-->
<!-- 	[1994/09/30  21:42:14  millette]-->
<!-- -->
<!-- Revision 1.1.6.22  1994/09/30  14:47:16  rjohnson-->
<!-- 	Changes made: None.-->
<!-- 	[1994/09/01  14:31:52  rjohnson]-->
<!-- -->
<!-- Revision 1.1.6.21  1994/08/30  22:11:12  millette-->
<!-- 	(def,11918,R1.1)-->
<!-- 	Remove sec_salvage_db-->
<!-- 	(enh, 10774, R1.1)-->
<!-- 	Revisions for new sec_admin become command-->
<!-- 	[1994/08/30  22:10:46  millette]-->
<!-- -->
<!-- Revision 1.1.6.20  1994/07/12  23:29:00  jshirley-->
<!-- 	{def,10220,R1.1} Remove reference to rpcd and sec_clientd-->
<!-- 	[1994/07/12  23:28:08  jshirley]-->
<!-- -->
<!-- Revision 1.1.6.19  1994/06/21  19:29:12  millette-->
<!-- 	(def,9512,R1.1)-->
<!-- 	Remove release-dependent notes-->
<!-- 	(def, 9306, R1.1)-->
<!-- 	Fix initial message.-->
<!-- 	[1994/06/21  19:28:47  millette]-->
<!-- -->
<!-- Revision 1.1.6.18  1994/05/23  20:27:29  steto-->
<!-- 	{edt, R1.1}-->
<!-- 	Fixed bad index entry.-->
<!-- 	[1994/05/23  20:27:09  steto]-->
<!-- -->
<!-- Revision 1.1.6.17  1994/05/18  15:52:23  wardr-->
<!-- 	{edit R1.1}SGML fixes-->
<!-- 	[1994/05/18  15:52:05  wardr]-->
<!-- -->
<!-- Revision 1.1.6.16  1994/05/15  20:30:07  steto-->
<!-- 	{edt, R1.1}-->
<!-- 	Did last check for Beta.-->
<!-- 	[1994/05/15  20:29:33  steto]-->
<!-- -->
<!-- Revision 1.1.6.15  1994/05/05  22:13:57  steto-->
<!-- 	{edt, R1.1}-->
<!-- 	Fixed some index entry errrors.-->
<!-- 	[1994/05/05  22:13:02  steto]-->
<!-- -->
<!-- Revision 1.1.6.14  1994/05/04  14:48:35  steto-->
<!-- 	[edt, R1.1]-->
<!-- 	Fixed index entries causing build problems.-->
<!-- 	[1994/05/04  14:48:03  steto]-->
<!-- -->
<!-- 	Fixed index entry erros.-->
<!-- -->
<!-- Revision 1.1.6.13  1994/04/27  21:19:11  steto-->
<!-- 	Replaced sec_admin and rgy_edit info with dcecp info.-->
<!-- 	[1994/04/27  21:18:35  steto]-->
<!-- -->
<!-- 	Replaced-->
<!-- -->
<!-- Revision 1.1.6.12  1994/03/01  16:48:14  millette-->
<!-- 	(def,1.1, 9649)-->
<!-- 	Change format of UUID in adopt subcommand-->
<!-- 	[1994/03/01  16:47:47  millette]-->
<!-- -->
<!-- Revision 1.1.6.11  1993/11/18  20:39:55  millette-->
<!-- 	(def, R1.0.3, 9512)-->
<!-- 	Changing 1.0.2 to 1.0.3-->
<!-- 	[1993/11/18  20:39:25  millette]-->
<!-- -->
<!-- Revision 1.1.6.10  1993/11/02  19:31:30  millette-->
<!-- 	(defect, 8675, R1.0.3)-->
<!-- 	Improve discussion of adopting orphans - additional change-->
<!-- 	[1993/11/02  19:30:53  millette]-->
<!-- -->
<!-- Revision 1.1.6.9  1993/11/01  20:04:45  millette-->
<!-- 	(defect, 8675, R1.0.3)-->
<!-- 	Improve discussion of adopting orphans-->
<!-- 	[1993/11/01  20:04:07  millette]-->
<!-- -->
<!-- Revision 1.1.6.8  1993/09/01  17:06:31  tmw-->
<!-- 	Added index entries for second version of master index.-->
<!-- 	[1993/09/01  17:05:13  tmw]-->
<!-- -->
<!-- Revision 1.1.6.7  1993/08/19  18:20:10  buckler-->
<!-- 	{edit, R1.0.3}-->
<!-- 	Added Release number (R1.0.2A) for CR 8116 change marker.-->
<!-- 	[1993/08/19  16:15:00  buckler]-->
<!-- -->
<!-- Revision 1.1.6.6  1993/07/28  20:10:12  weir-->
<!-- 	moved change macros out of tbl code-->
<!-- 	[1993/07/28  20:09:13  weir]-->
<!-- -->
<!-- Revision 1.1.6.5  1993/07/13  18:46:42  buckler-->
<!-- 	{edit, R1.0.2}-->
<!-- 	More Prentice-Hall edits.-->
<!-- 	[1993/07/13  18:43:30  buckler]-->
<!-- -->
<!-- Revision 1.1.6.4  1993/07/06  18:37:22  buckler-->
<!-- 	{edit, R1.0.2}-->
<!-- 	Prentice-Hall editorial changes.-->
<!-- 	[1993/07/06  18:16:28  buckler]-->
<!-- -->
<!-- Revision 1.1.6.3  1993/06/18  20:20:14  millette-->
<!-- 	Bug 8116: Changes from Release Notes-->
<!-- 	[1993/06/18  20:19:02  millette]-->
<!-- -->
<!-- Revision 1.1.6.2  1993/06/01  19:06:45  millette-->
<!-- 	Prentice Hall edits-->
<!-- 	[1993/06/01  19:02:58  millette]-->
<!-- -->
<!-- Revision 1.1.4.11  1993/03/16  22:32:09  steiner-->
<!-- 	Added .ne command before .TB "princ.prt File Fields" to keep it-->
<!-- 	on one page - it was splitting in a weird place and messing up-->
<!-- 	on the next page.  This is a hack to get around tbl bugs.-->
<!-- 	[1993/03/16  22:31:45  steiner]-->
<!-- -->
<!-- Revision 1.1.4.10  1993/03/08  16:43:03  millette-->
<!-- 	Fixed incorrect bug number in change bar-->
<!-- 	[1993/03/08  16:41:09  millette]-->
<!-- -->
<!-- Revision 1.1.4.9  1993/03/02  22:17:25  buckler-->
<!-- 	Fixed mismatching .zA and .zZ codes-->
<!-- 	[1993/03/02  22:16:21  buckler]-->
<!-- -->
<!-- Revision 1.1.4.8  1993/02/19  23:33:28  millette-->
<!-- 	Bug 7215: 1.0.2 review corrections-->
<!-- 	[1993/02/19  22:58:21  millette]-->
<!-- -->
<!-- 	Bug 7215: Typos fixed.-->
<!-- 	[1993/02/19  22:25:03  millette]-->
<!-- -->
<!-- Revision 1.1.4.7  1993/01/28  20:09:45  dbelch-->
<!-- 	Embedding copyright notice-->
<!-- 	[1993/01/28  18:45:44  dbelch]-->
<!-- -->
<!-- Revision 1.1.4.6  1993/01/27  17:04:27  buckler-->
<!-- 	Fixed cross-refs and figure calls for new book org-->
<!-- 	[1993/01/27  16:57:02  buckler]-->
<!-- -->
<!-- Revision 1.1.4.5  1993/01/08  19:40:58  millette-->
<!-- 	Bug 6690: Update for new sec_salvage_db command-->
<!-- -->
<!-- 	Bug 6469: Update for 1.0.2 replication.  Also did an editorial pass-->
<!-- 	to ensure consistent replication terminology use and correct terminology and-->
<!-- 	capitalization of Security Server and Security Service (e.g., not security server-->
<!-- 	and not Security component)-->
<!-- 	[1993/01/08  18:57:31  millette]-->
<!-- -->
<!-- Revision 1.1.4.4  1992/12/09  22:24:56  millette-->
<!-- 	Bug 6387: Delete adopt -u option for groups and organizations-->
<!-- 	[1992/12/09  22:23:08  millette]-->
<!-- -->
<!-- Revision 1.1.4.3  1992/08/26  13:12:42  weir-->
<!-- 	Test-->
<!-- 	[1992/08/26  13:08:11  weir]-->
<!-- -->
<!-- 	Removed change bars-->
<!-- 	[1992/08/26  12:25:36  weir]-->
<!-- -->
<!-- Revision 1.1.4.2  1992/08/25  21:22:13  weir-->
<!-- 	Moved to dce1.0.2doc-->
<!-- 	[1992/08/25  21:04:39  weir]-->
<!-- -->
<!-- Revision 1.1.2.7  1992/06/30  20:05:50  millette-->
<!-- 	Bug 4181: sec_admin requires a DCE login-->
<!-- 	[1992/06/30  20:02:57  millette]-->
<!-- -->
<!-- Revision 1.1.2.6  1992/06/10  15:39:33  millette-->
<!-- 	Bug 4134: Minor editorial changes.  No change bar used, except-->
<!-- 	for deleting section on recreating a replica.-->
<!-- 	[1992/06/10  15:33:54  millette]-->
<!-- -->
<!-- Revision 1.1.2.5  1992/06/04  21:47:05  millette-->
<!-- 	Bug 3792:  Miscellaneous editorial and technical changes-->
<!-- 	[1992/06/04  21:32:10  millette]-->
<!-- -->
<!-- Revision 1.1.2.4  1992/05/20  14:56:15  millette-->
<!-- 	Bug 3023:  Miscellaneous editorial changes-->
<!-- 	[1992/05/20  14:43:01  millette]-->
<!-- -->
<!-- Revision 1.1.2.3  1992/04/29  22:28:50  millette-->
<!-- 	Bug 2771: Miscellaneous editorial changes.  Change bars not used.-->
<!-- 	[1992/04/29  22:26:50  millette]-->
<!-- -->
<!-- Revision 1.1.2.2  1992/04/10  14:46:54  millette-->
<!-- 	Bug: 2519 Add information on use of secd locksmith mode.-->
<!-- 	[1992/04/09  21:57:26  millette]-->
<!-- -->
<!-- Revision 1.1  1992/01/29  16:24:18  damon-->
<!-- 	Initial revision-->
<!-- -->
<!---->
<!-- ********************************************************************-->
<!--                                                                    *-->
<!-- HP/DIGITAL CONFIDENTIAL-->
<!-- Copyright (c) 1991 Hewlett-Packard Co. and Digital Equipment Corp.  -->
<!-- All rights reserved.-->
<!--                                                                    *-->
<!-- ********************************************************************-->
<!-- -->
<Chapter Id="AGCC.SECTRB.div.1">
<Title>Troubleshooting Procedures</Title>
<Para>This chapter contains procedures for troubleshooting the security servers. 
Use these procedures only when network or hardware failures disrupt
operation of the registry, or when you encounter problems that can be remedied
in no other way.  These procedures tell you how to
</Para>
<ItemizedList>
<ListItem>
<Para>Restart a security server
</Para>
</ListItem>
<ListItem>
<Para>Restart a security server in locksmith mode 
</Para>
</ListItem>
<ListItem>
<Para>Restore replicas from a backup
</Para>
</ListItem>
<ListItem>
<Para>Forcibly delete a slave replica 
</Para>
</ListItem>
<ListItem>
<Para>Adopt a registry object that was orphaned because its owner
was deleted 
</Para>
</ListItem>
</ItemizedList>
<Para>Before you run the procedures, ensure that you  are logged in via an
administrative account. 
</Para>
<Sect1 Id="AGCC.SECTRB.div.2">
<Title>Restarting Security Servers</Title>
<Para><!-- .iX "-[" "security" "servers" "restarting"-->
To restart a security server (master or slave), enter the following command:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput><Symbol Role="Variable">dcelocal</Symbol><Literal>/bin/secd &amp;</Literal>
</UserInput></ProgramListing></Para>
</InformalExample>
<Para>For convenience, set up the server to start automatically whenever
the machine reboots. 
</Para>
</Sect1>
<Sect1 Id="AGCC.SECTRB.div.3">
<Title>Restarting the Master Server in Locksmith Mode</Title>
<Para><IndexTerm Id="AGCC.SECTRB.indx.1">
<Primary>locksmith mode</Primary>
</IndexTerm>
<IndexTerm Id="AGCC.SECTRB.indx.2">
<Primary>principals</Primary>
<Secondary>locksmith</Secondary>
</IndexTerm>The <Command>secd</Command> <Option>locksmith</Option> option starts <Command>secd</Command> in locksmith 
mode.  This option can be used only on the master replica. 
In locksmith mode, the principal name that you specify to <Command>secd</Command> 
becomes the locksmith principal.  As the 
locksmith principal, you can repair malicious or accidental changes that 
prevent you from logging in with full registry access privileges. 
</Para>
<Para>When you bring up a security server in locksmith mode, <Command>secd</Command>
automatically creates a locksmith account or, if the locksmith account exists,
it lets you supply a new password for that account.  Once the security server
is running, you can log into the locksmith account by 
using the newly changed password, if you changed it, and access the registry
to change the account or policy information that may have prevented 
you from accessing the registry by using your normal credentials. 
</Para>
<Para>In locksmith mode, all principals with valid accounts can 
log in and operate on the registry with normal access checking.  The locksmith
principal, however, is granted special access to the registry: 
no access checking is performed for the authenticated locksmith principal.  
This means that, as the locksmith principal, you can   
operate on the registry with full access.   
</Para>
<Sect2 Id="AGCC.SECTRB.div.4">
<Title>Automatic Changes to the Locksmith Account</Title>
<Para><IndexTerm Id="AGCC.SECTRB.indx.3">
<Primary>locksmith account</Primary>
</IndexTerm>
<IndexTerm Id="AGCC.SECTRB.indx.4">
<Primary>security</Primary>
<Secondary>servers</Secondary>
<Tertiary>locksmith account changes</Tertiary>
</IndexTerm>If the locksmith account exists when you start the security server in 
locksmith mode, the security server checks certain account 
and registry policy information and makes the changes shown in 
Tables 40-1 and 40-2.  These changes ensure that, even if account or
registry policy was tampered with, you will now be able to log into the
locksmith account.  For example, if an intruder changes the account lifespan
registry policy to 1 minute, the locksmith 
account will never be valid long enough to be used.  Therefore, if the
security server finds that the account lifespan registry policy is set to
less than what is required for the locksmith account to be valid for at
least 1 hour, it changes the account lifespan policy to be the time
difference between the creation time of the locksmith account and the time
1 hour from the current time.
</Para>
<?sml-break>
<Table Frame="all" Remap="center" Orient="Port">
<Title>Locksmith Account Changes Made by the Security Server</Title>
<TGroup Rowsep="1" Colsep="1" Cols="2">
<ColSpec Rowsep="1" Colsep="1" Align="Left" Colwidth="1*" Colname="col1" Colnum="1">
<ColSpec Rowsep="1" Align="Left" Colwidth="1*" Colname="col2" Colnum="2">
<TBody>
<Row>
<Entry Rowsep="1"><Literal>If the security server finds the...</Literal></Entry>
<Entry Rowsep="1"><Literal>It changes the....</Literal></Entry>
</Row>
<Row>
<Entry>Password-Valid Flag is set to <Literal>no</Literal></Entry>
<Entry>Password-Valid Flag to <Literal>yes</Literal></Entry>
</Row>
<Row>
<Entry>Account Expiration Date is set to less than the 
current time plus 1 hour
</Entry>
<Entry>Account Expiration Date to the current time plus 
1 hour 
</Entry>
</Row>
<Row>
<Entry>Client Flag is set to <Literal>no</Literal></Entry>
<Entry>Client Flag to <Literal>yes</Literal></Entry>
</Row>
<Row>
<Entry>Account-Valid Flag is set to <Literal>no</Literal></Entry>
<Entry>Account-Valid Flag to <Literal>yes</Literal></Entry>
</Row>
<Row>
<Entry>Good Since Date is set to greater than the current time
</Entry>
<Entry>Good Since Date to the current time
</Entry>
</Row>
<Row>
<Entry>Password Expiration Date is set to less than
the current time plus 1 hour
</Entry>
<Entry>Password Expiration Date to the current time 
plus 1 hour
</Entry>
</Row>
</TBody>
</TGroup>
</Table>
<?sml-need 3i>
<Table Frame="all" Remap="center" Orient="Port">
<Title>Registry Policy Changes Made by the Security Server</Title>
<TGroup Rowsep="1" Colsep="1" Cols="2">
<ColSpec Rowsep="1" Colsep="1" Align="Left" Colwidth="1*" Colname="col1" Colnum="1">
<ColSpec Rowsep="1" Align="Left" Colwidth="1*" Colname="col2" Colnum="2">
<TBody>
<Row>
<Entry Rowsep="1"><Literal>If the security server finds the...</Literal></Entry>
<Entry Rowsep="1"><Literal>It changes the....</Literal></Entry>
</Row>
<Row>
<Entry>Account Lifespan is set to less than the difference
between the locksmith account creation date
and the current time plus 1 hour 
</Entry>
<Entry>Account Lifespan to the current time plus 1 hour minus 
the locksmith account creation date 
</Entry>
</Row>
<Row>
<Entry>Password Expiration Date is set to greater than the 
time the password was last changed but less than 
the current time plus 1 hour
</Entry>
<Entry>Password Expiration Date to the current time plus 
1 hour 
</Entry>
</Row>
</TBody>
</TGroup>
</Table>
<IndexTerm Id="AGCC.SECTRB.indx.5" SpanEnd="AGCC.SECTRB.indx.3">
<IndexTerm Id="AGCC.SECTRB.indx.6" SpanEnd="AGCC.SECTRB.indx.4">
</Sect2>
<Sect2 Id="AGCC.SECTRB.div.5">
<Title>Starting a Security Server in Locksmith Mode</Title>
<Para><IndexTerm Id="AGCC.SECTRB.indx.7">
<Primary>security</Primary>
<Secondary>commands</Secondary>
<Tertiary><Command>secd</Command>, syntax</Tertiary>
</IndexTerm>Use the following form of the <Command>secd</Command> command to start 
a security server in locksmith mode:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput><Symbol Role="Variable">dcelocal</Symbol><Filename>/bin/secd </Filename> [<Option>locksm[ith]</Option> <Symbol Role="Variable">pname</Symbol> [<Option>lockpw</Option>] [<Option>rem[ote]</Option>]] 
</UserInput></ProgramListing></Para>
</InformalExample>
<Para>where:
</Para>
<VariableList>
<VarListEntry>
<Term><Option>locksm</Option>[<Literal>ith</Literal>]</Term>
<ListItem>
<Para>Starts a security server in locksmith mode.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Symbol Role="Variable">pname</Symbol></Term>
<ListItem>
<Para>Specifies the name of the locksmith principal.  If no registry account
exists for this principal, <Command>secd</Command> creates one.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>lockpw</Option></Term>
<ListItem>
<Para>Prompts for a new locksmith password.  This option allows you to specify a
new password for the locksmith account when the old one is unknown.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>rem</Option>[<Literal>ote</Literal>]</Term>
<ListItem>
<Para>Allows the locksmith principal to log in remotely.  If this option is not
used, the principal must log in from the local machine on which <Command>secd</Command>
will be started. 
</Para>
</ListItem>
</VarListEntry>
</VariableList>
</Sect2>
<Sect2 Id="AGCC.SECTRB.div.6">
<Title>Restarting a Security Server in Locksmith Mode</Title>
<Para>To restart a security server in locksmith mode, perform the following steps on 
the node on which the master replica is running.  You must have <Literal>root</Literal>
access to this node. 
</Para>
<OrderedList>
<ListItem>
<Para>Shut down the security server.  
</Para>
<OrderedList>
<ListItem>
<Para>If you cannot log in with administrative privileges and access 
<Command>dcecp</Command> to shut down the server, 
log in as <Literal>root</Literal> on the machine on which the server is running and kill 
the security server process.
</Para>
</ListItem>
<ListItem>
<Para>If you are able to log in with administrative privileges, 
use the <Command>dcecp registry stop</Command> command to shut down the security
server.  When you use this command, you must 
supply the fully qualified name of the replica to stop as an argument.  
The following sample command stops the replica named <Literal>slave_3</Literal>:
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>registry stop  /.../giverny.com/subsys/dce/sec/slave_3</Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
</ListItem>
</OrderedList>
</ListItem>
<ListItem>
<Para>Start the security server in locksmith mode.  The following 
example shows the security server started with the locksmith account 
that was created for the principal named <Literal>master_admin</Literal>.  
The <Option>remote</Option> option is also supplied to allow 
<Literal>master_admin</Literal> to log in from a remote node; 
otherwise, <Literal>master_admin</Literal> must log in from the node on which the 
security server was started.
</Para>
<InformalExample>
<Para><ProgramListing><UserInput><Symbol Role="Variable">dcelocal</Symbol><Literal>/bin/secd -locksmith master_admin -remote</Literal>  
</UserInput></ProgramListing></Para>
</InformalExample>
<Para>If the locksmith account exists but you have lost its password, use the 
<Option>lockpw</Option> option to cause <Command>secd</Command> to prompt you for a new locksmith 
password and replace the existing password with the one you enter.
</Para>
</ListItem>
</OrderedList>
<Para>The security server normally runs in the background.  When you start a
security server in locksmith mode, it runs in the foreground so that you
can answer prompts. 
</Para>
<Para>Once the security server is started in locksmith mode, you can use the
<Command>dcecp registry modify</Command> command 
to change the registry so that the standard privileged account can access
it.  After these changes are made, you should do the following:
</Para>
<OrderedList>
<ListItem>
<Para>Shut down the security server that is running in locksmith mode.
</Para>
</ListItem>
<ListItem>
<Para>Restart a security server according to your standard procedures. 
</Para>
</ListItem>
</OrderedList>
<IndexTerm Id="AGCC.SECTRB.indx.8" SpanEnd="AGCC.SECTRB.indx.1">
<!-- .iX "-]" "security" "servers" "restarting"-->
</Sect2>
</Sect1>
<Sect1 Id="AGCC.SECTRB.div.7">
<Title>Recovering the Master Replica</Title>
<Para RevisionFlag="Changed">To recover a master replica because the master's database is 
damaged, you can use either of the following methods:
<?og-ChangeStart def,13623,R1.2.2,Changed set to designate"></Para>
<ItemizedList>
<ListItem>
<Para RevisionFlag="Changed">Use the <Command>dcecp registry designate</Command> command
to make a slave replica the master replica and create a slave replica on the host 
of the former master.  This method is described in the following subsection.
</Para>
</ListItem>
<ListItem>
<Para RevisionFlag="Changed">Restore the master from a backup.  This method is described in Chapter 36.
</Para>
</ListItem>
</ItemizedList>
<?og-ChangeEnd def,13623,R1.2.2,Changed set to designate">
<Para>The method you choose depends on whether the master replica's backup 
database or the slave replica's database is more current.  
</Para>
<Sect2 Id="AGCC.SECTRB.div.8">
<Title>Determining the Most Current Database</Title>
<Para RevisionFlag="Changed">To determine whether the backup of the master replica's 
database or a slave replica's database is more current, run the 
<!-- \*Lsec_admin info\*O subcommand -->
<Literal>dcecp registry show -replica</Literal> command for the replica.  
The output of this command lists the 
last update sequence number and the update date and time.  
Compare the replica's 
last update sequence number and the update date and time
with the sequence number and date and time of the master's backup. 
If the replica is more current, make the replica 
the new master as described in the following section.  
If the master's backup is more current, restore the master from 
the backup as described in Chapter 36.
<?og-ChangeStart def,13623,R1.2.2,Corrected text and commands"></Para>
</Sect2>
<Sect2 Id="AGCC.SECTRB.div.9">
<Title RevisionFlag="Changed">Converting a Slave to a Master</Title>
<Para RevisionFlag="Changed">This subsection describes how to use the 
<!-- \*Lsec_admin become -master\*O subcommand-->
<Command>dcecp registry designate</Command> command  
to convert a slave to a master.  
Be aware that, because the <Literal>registry designate -master</Literal> command  
can cause data to be lost, the 
<!-- \*Lsec_admin change_master\*O subcommand -->
<Command>registry designate</Command> command without the <Option>master</Option> 
option is the preferred means of
designating a different master replica.  
Use the 
<!-- \*Lsec_admin become -master\*O subcommand -->
<Literal>registry designate -master</Literal> command  only if the master 
replica is irrevocably damaged and you are unable
to use the <Command>registry designate</Command> command without the <Option>master</Option> 
option.
</Para>
<Para RevisionFlag="Changed">Follow these steps to convert a master replica to a slave replica:
</Para>
<OrderedList>
<ListItem>
<Para RevisionFlag="Changed">Choose the slave replica that will become the new master.
<?og-ChangeStart def, 13575,R1.2.2,Removed step"><?og-ChangeEnd def, 13575,R1.2.2,Removed step"></Para>
</ListItem>
<ListItem>
<Para>Issue the following <Literal>registry designate -master</Literal> command to change the 
default host to the master registry:
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal> registry designate /.../musee.com/subsys/dce/sec/art -master</Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Use the <Literal>registry show -replica</Literal> command to verify the
change.  
</Para>
</ListItem>
<ListItem>
<Para>Use standard UNIX commands to delete the old master 
replica's database and <Literal>.mkey</Literal> file by deleting the 
directory <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/security/rgy_data</Filename> and the 
file <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/.mkey</Filename>.
</Para>
</ListItem>
<ListItem>
<Para>Use the <Command>registry delete</Command> command  with the <Option>force</Option> 
option to remove the old 
master from the replica list.  The following example 
deletes the old master named <Command>history</Command> from the 
replica list:
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>registry  delete /.../musee.com/subsys/dce/sec/history -force
</Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
</ListItem>
</OrderedList>
<?og-ChangeEnd def,13623,R1.2.2,Corrected text and commands">
<!-- .P-->
<!-- .H 3 "Restoring the Master Replica from a Backup"-->
<!-- .P-->
<!-- .iX "replica" "restoring from backup copies"-->
<!-- This subsection describes how to restore the master replica from a -->
<!-- backup.  Note that slaves replicas should not be backed up.  -->
<!-- If they must be restored, you must recreate them as described in the -->
<!-- section title "Recreating a Slave Replica."  -->
<!-- .P -->
<!-- Perform the following steps to restore the master replica from a backup. -->
<!-- Note that if you restore the master to -->
<!-- a different machine, you must update the \*Lpe_site\*O file as -->
<!-- described in the Chapter titled "Handling Network Configurations."-->
<!-- .AL-->
<!-- .LI-->
<!-- Log in as \*Lroot\*O on the machine that runs the replica. -->
<!-- .LI-->
<!-- Use the \*Lps\*O command to check whether the security server-->
<!-- (\*Edcelocal\*O\*L/bin/secd\*O) is running.  If the process is running, stop-->
<!-- it by entering the \*Lsec_admin stop\*O command. -->
<!-- .LI-->
<!-- Delete or rename the registry database and the .mkey file -->
<!-- that will be replaced by the ones -->
<!-- from the backup media.  For example, -->
<!-- .iS-->
<!-- \*C$ \*Lmv \*Vdcelocal\*L/var/security/rgy_data \*Vdcelocal\*L/var/security/rgy_datea.old-->
<!-- \*C$ \*Lmv \*Vdcelocal\*L/var/.mkey \*Vdcelocal\*L/var/.mkey.old-->
<!-- .iE-->
<!-- .LI-->
<!-- Restore the \*Edcelocal\*O\*L/var/security\*O tree from the-->
<!-- backup media.-->
<!-- .LI-->
<!-- Restart the server by invoking \*Lsecd\*O with the \%\*L-restore_master\*O option-->
<!-- .iS-->
<!-- \*C$ \*Vdcelocal\*O\*L/bin/secd -restore_master\*O-->
<!-- .iE-->
<!-- .LI-->
<!-- Verify that \*Lsecd\*O starts automatically at system startup.-->
<!-- .LE-->
</Sect2>
</Sect1>
<Sect1 Id="AGCC.SECTRB.div.10" RevisionFlag="Changed">
<Title>Recovering Slave Replicas</Title>
<Para>Because slave replicas are not backed up, 
you must recreate a replica to restore a 
replica that is corrupted.  
To do so, use the following procedure:
</Para>
<OrderedList>
<ListItem>
<Para>Use standard UNIX commands to manually delete the replica's 
database files and master key file.  To do this, 
delete all the files in in the following locations:
</Para>
<ItemizedList>
<ListItem>
<Para><Filename>/opt/</Filename><Symbol Role="Variable">dcelocal</Symbol><Filename>/var/security/rgy_data</Filename>
</Para>
</ListItem>
<ListItem>
<Para><Filename>/opt/</Filename><Symbol Role="Variable">dcelocal</Symbol><Filename>/var/security/.mkey</Filename>
</Para>
</ListItem>
</ItemizedList>
</ListItem>
<ListItem>
<Para>Use the <Literal>set _s(sec)</Literal> command to
bind to the 
master and then the 
<!-- \*Lsec_admin delrep\*O subcommand -->
<Literal>dcecp registry delete -force</Literal> command to 
delete the replica from the master's replica list.  
The next two commands show how to bind to the master
and then delete the replica.  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>set _s(sec) /.../musee.com/subsys/dce/sec/master</Literal>
dcecp> <Literal>registry delete /.../musee.com/subsys/dce/sec/art -force</Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Use standard UNIX commands to copy the 
file <Filename>/opt/dcelocal/etc/security/pe_site</Filename> from
the machine running the master to the machine that will run the replica.
</Para>
</ListItem>
<ListItem>
<Para>Use <Filename>/etc/dce_config</Filename> (or your provider's equivalent) 
on the replica machine to do the following:
</Para>
<OrderedList>
<ListItem>
<Para>Stop DCE daemons.
</Para>
</ListItem>
<ListItem>
<Para>Start DCE daemons.
</Para>
</ListItem>
<ListItem>
<Para>Configure a security server replica.  This configuration 
creates the replica's database and starts <Command>secd</Command>.
</Para>
</ListItem>
</OrderedList>
</ListItem>
<ListItem>
<Para>When you configure the replica in the previous step, you 
assign it a name.  If you did not give this replica the same
name that it previously had, the old name must be deleted from 
CDS by performing the following steps: 
</Para>
<OrderedList>
<ListItem>
<Para>Deleting the replica's server entry name from <Filename>/.:/subsys/dce/sec</Filename>
</Para>
</ListItem>
<ListItem>
<Para>Deleting the replica's name from the CDS group <Filename>/.:/sec</Filename>
</Para>
</ListItem>
</OrderedList>
</ListItem>
</OrderedList>
<?og-ChangeStart def,13623,R1.2.2,Corrected text and commands">
</Sect1>
<Sect1 Id="AGCC.SECTRB.div.11">
<Title RevisionFlag="Changed">Converting a Master to a Slave</Title>
<Para RevisionFlag="Changed">Use the following  procedure to convert a master replica to a slave.  Use this
procedure only if you have more than one master running on your network
or on the Internet, which is a highly unusual condition. 
</Para>
<OrderedList>
<ListItem>
<Para RevisionFlag="Changed">Choose the master replica that will become a slave.
<?og-ChangeStart def, 13575,R1.2.2,Removed step"><?og-ChangeEnd def, 13575,R1.2.2,Removed step"></Para>
</ListItem>
<ListItem>
<Para>Issue the following <Literal>registry designate -slave</Literal> command to change the
chosen master to a slave:
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>registry designate /.../dublin.com/subsys/dce/sec/lit -slave</Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Use the <Literal>registry show -replica</Literal> command to verify the change.
</Para>
</ListItem>
</OrderedList>
<?og-ChangeEnd def,13623,R1.2.2,Corrected text and commands">
<?og-ChangeStart def,13623,R1.2.2,Replaced delete -only with destroy">
</Sect1>
<Sect1 Id="AGCC.SECTRB.div.12">
<Title RevisionFlag="Changed">Forcibly Deleting a Slave Replica</Title>
<Para><IndexTerm Id="AGCC.SECTRB.indx.9">
<Primary RevisionFlag="Changed">replica</Primary>
<Secondary RevisionFlag="Changed">deleting slaves (security)</Secondary>
</IndexTerm></Para>
<Para RevisionFlag="Changed">The procedure described in this section explains how to forcibly
delete a slave replica.   Use this 
drastic method only when the ordinary method of deletion described in 
<!-- the chapter titled "Handling Network Reconfigurations" -->
Chapter 37 fails.
</Para>
<Para RevisionFlag="Changed">To forcibly delete a slave replica, use the
<Literal>dcecp registry delete -force</Literal> command.  
This command deletes
the slave replica from the master's replica list.  The master then
propagates the delete request to the other replicas.  Since this operation
never communicates with the deleted replica, use the <Option>force</Option> option only
when the replica dies and cannot be restarted.  If a forcibly deleted replica
continues operation, use the <Command>registry destroy</Command> command
to stop the server and delete its database.  You can also
simply stop <Command>secd</Command> (by using the <Command>dcecp registry stop</Command> command)
and delete or rename its database.
</Para>
<Para RevisionFlag="Changed"><?sml-need 5>To forcibly delete a registry replica, issue the 
<Command>registry delete</Command> command with the
<Option>force</Option> option, supplying the name of the registry to delete
as an argument.  The following sample deletes 
the replica at <Filename>/.../giverny.com/subsys/dce/sec/lit_server_2</Filename>:
</Para>
<InformalExample>
<Para><ProgramListing RevisionFlag="Changed">dcecp> <Literal>registry delete /.../giverny.com/subsys/dce/sec/lit_server_2 -force</Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
<Para RevisionFlag="Changed">If the default replica is not the master, <Command>dcecp</Command> automatically 
binds to the master. 
</Para>
<Para RevisionFlag="Changed">If a forcibly deleted replica
continues operation, use the <Command>registry destroy</Command> command 
to stop the server and delete its database.  
When you use the <Command>registry destroy</Command> command, 
you must enter the name of the replica that you want to stop.  The 
following example shows the <Command>registry destroy</Command> command used to 
delete the replica at <Filename>/.../giverny.com/subsys/dce/sec/lit_server_2</Filename>:
</Para>
<InformalExample>
<Para><ProgramListing RevisionFlag="Changed">dcecp> <Literal>registry destroy /.../giverny.com/subsys/dce/sec/lit_server_2</Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
<Para RevisionFlag="Changed">Alternatively, you can simply stop <Command>secd</Command> (by using the <Literal>dcecp registry 
stop</Literal> command) and destroy the replica by deleting or renaming its
database.
<IndexTerm Id="AGCC.SECTRB.indx.10" SpanEnd="AGCC.SECTRB.indx.9"><?og-ChangeEnd def,13623,R1.2.2,Replaced delete -only with destroy"></Para>
</Sect1>
<Sect1 Id="AGCC.SECTRB.div.13">
<Title>Restoring a Duplicate Master</Title>
<Para>This section describes how to recover from a very
unusual problem.  Do not use the methods described here 
to resolve the problem unless it is 
absolutely necessary. 
</Para>
<Para>Occasionally the replica that you want to be the master 
will have a master sequence number that is lower than 
(or equal to) another master sequence number in the system.
When the master detects that its master sequence number is
lower than another one in the system, it marks itself as
a duplicate master and its process exits.  
Each time you start the master replica, it 
will notice that it has been deemed a duplicate
master, and its process will again exit.
</Para>
<Para>To force this duplicate master to become the master and not exit,
restart its <Command>secd</Command> process with the <Option>master_seqno</Option> option in the 
following format:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput>secd -master_seqno <Symbol Role="Variable">new_master_seqno</Symbol>
</UserInput></ProgramListing></Para>
</InformalExample>
<Para>where <Symbol Role="Variable">new_master_seqno</Symbol> is a new master sequence number to 
assign to the replica.  Make this number one digit higher than the highest
master sequence number in the system.
</Para>
<Para RevisionFlag="Changed"><?og-ChangeStart def,13623,R1.2.2,Replaced show -replica with dump">Use the <Command>dcecp registry dump</Command> command to find the
highest master sequence number.
<?og-ChangeEnd def,13623,R1.2.2,Replaced show -replica with dump"></Para>
</Sect1>
<Sect1 Id="AGCC.SECTRB.div.14">
<Title>Adopting Registry Orphans </Title>
<Para><IndexTerm Id="AGCC.SECTRB.indx.11">
<Primary>orphans</Primary>
<Secondary>adopting</Secondary>
</IndexTerm>
<!--no-op:  .  .iX -[ registry objects adopting orphans-->
Although <Command>dcecp</Command> displays
object names and you identify registry objects by name, 
the DCE Security Service uses UUIDs to identify 
objects internally.  When you create a registry object, the 
DCE Security Service automatically sets up an association 
between the object name and a UUID that it uses to identify the object.  
When you delete registry objects, you delete the 
association between the registry object and the UUID that 
identifies the object.
</Para>
<Para>Orphans are objects owned by UUIDs that are not associated with a 
principal or group because the principal or group has been deleted. 
For example, if you delete a principal from the registry,
you also delete the association between the name used to identify the
principal externally and the UUID used to identify the principal internally.  
Any objects (files, programs) owned by the deleted principal are now owned
internally by a UUID no longer associated with a principal.  If no other
principal, group, or organization has access rights to the object, 
the object cannot be accessed at all and is now an <Symbol Role="Variable">orphan</Symbol>.
</Para>
<Para><IndexTerm Id="AGCC.SECTRB.indx.12">
<Primary><Command>dcecp</Command> commands</Primary>
<Secondary><Literal>principal create -uuid</Literal></Secondary>
</IndexTerm>
<IndexTerm Id="AGCC.SECTRB.indx.13">
<Primary><Command>dcecp</Command> commands</Primary>
<Secondary><Literal>group create -uuid</Literal></Secondary>
</IndexTerm>
<IndexTerm Id="AGCC.SECTRB.indx.14">
<Primary><Command>dcecp</Command> commands</Primary>
<Secondary><Literal>org create -uuid</Literal></Secondary>
</IndexTerm>To solve this problem, you can use the <Command>dcecp principal create</Command>, 
<Command>group create</Command>, and <Command>org create</Command> commands
with the <Option>uuid</Option> option to create a principal, group, or 
organization with the same UUID as the UUID that owns the orphaned object 
and thus adopt the orphaned object.  
</Para>
<Note>
<Para>When you create a new registry object, you have no way of specifying
the UUID associated with the object; therefore, 
you cannot simply add a new registry object of the same 
name to adopt the orphan.
</Para>
</Note>
<Para><?sml-need 7>The <Option>uuid</Option> option
creates a principal, group, or 
organization and lets you specify the UUID with which it 
should be associated instead of assigning it automatically.  
Except for the manner in which it is created, a principal, 
group, or organization created by these commands 
is no different from any other principal, group, or organization.  
The following examples show how to use this option to create a principal,
group, or organization to adopt an orphaned registry object.
</Para>
<Para>To create a principal associated with the UUID that owns the 
orphaned object, use the following command:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput>principal create <Symbol Role="Variable">name</Symbol> <Option>uuid</Option> <Symbol Role="Variable">uuid</Symbol><Literal> [</Literal><Literal>&hyphen;fullname</Literal>&ensp;<Symbol Role="Variable">fullname</Symbol>] \
     [<Literal>&hyphen;quota</Literal>&ensp;<Symbol Role="Variable">object_creation_quota</Symbol>] [<Literal>&hyphen;uid</Literal>&ensp;<Symbol Role="Variable">UNIX_number</Symbol>] 
</UserInput></ProgramListing></Para>
</InformalExample>
<Para>To create a group associated with the UUID that owns 
the orphaned object, use the following command:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput><Command>group create</Command>  <Symbol Role="Variable">name </Symbol><Literal>&hyphen;uuid</Literal> <Symbol Role="Variable">uuid</Symbol> [<Literal>&hyphen;fullname</Literal>&ensp;<Symbol Role="Variable">string</Symbol>] \
     [<Literal>&hyphen;inprojlist [yes | no]</Literal>] [<Option>gid</Option> <Symbol Role="Variable">UNIX_number</Symbol>] 
</UserInput></ProgramListing></Para>
</InformalExample>
<Para>To create an organization associated with the UUID that 
owns the orphaned object, use the following command:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput><Command>organization create</Command>  <Symbol Role="Variable">name</Symbol> <Option>uuid</Option> <Symbol Role="Variable">uuid</Symbol> \
[<Option>fullname</Option>&ensp;<Symbol Role="Variable">string</Symbol>] [<Option>orgid</Option> <Symbol Role="Variable">UNIX_number</Symbol>] 
</UserInput></ProgramListing></Para>
</InformalExample>
<Para>where:
</Para>
<VariableList>
<VarListEntry>
<Term><Symbol Role="Variable">name</Symbol></Term>
<ListItem>
<Para>The principal's, group's, or organization's primary name.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Symbol Role="Variable">uuid</Symbol></Term>
<ListItem>
<Para>The UUID number to be assigned to the principal, group, or organization.  
This UUID should be the one that owns the orphaned object (that 
is, the one that was associated with the deleted registry object).  
The UUID is specified in RPC print string format as 8
hexadecimal digits, a hyphen; 4 hexadecimal digits, a hyphen; 
4 hexadecimal digits, a hyphen; 4 hexadecimal digits, a hyphen; 
and 12 hexadecimal digits.  The format is as follows:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput><Symbol Role="Variable">nnnnnnnn</Symbol><Literal>-</Literal><Symbol Role="Variable">nnnn</Symbol><Literal>-</Literal><Symbol Role="Variable">nnnn</Symbol><Literal>-</Literal><Symbol Role="Variable">nnnn</Symbol><Literal>-</Literal><Symbol Role="Variable">nnnnnnnnnnnn</Symbol>
</UserInput></ProgramListing></Para>
</InformalExample>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Symbol Role="Variable">string</Symbol></Term>
<ListItem>
<Para>The principal's, group's, or organization's full name.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Symbol Role="Variable">UNIX_number</Symbol></Term>
<ListItem>
<Para>For cell principals <Replaceable>only,</Replaceable> the UNIX number to be associated
with the name.  If you do not enter this option, the next sequential
UNIX number is supplied.  For all principals other
than cells, the UNIX number is extracted from information that is embedded
in the principal's UUID and cannot be specified here. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Symbol Role="Variable">object_creation_quota</Symbol></Term>
<ListItem>
<Para>For principals
<Symbol Role="Variable">only</Symbol>, the principal's object creation quota.  If you do not enter
this option, the default is <Literal>unlimited</Literal>.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>inprojlist</Option></Term>
<ListItem>
<Para>For groups <Symbol Role="Variable">only</Symbol>, <Literal>yes</Literal> turns off the project
list inclusion so that groups are not included in project
lists.  If you enter <Literal>no</Literal>, the group is included in
project lists.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<?sml-space>
<Note>
<Para>In the current implementation of DCE, UNIX numbers are embedded in
UUIDs.  If you try to create a group or organization to 
adopt an orphaned object and fail, it could be because the 
embedded UNIX number is invalid because it does not fall 
within the range of valid UNIX numbers set for the cell as a 
registry property.  If this is the case, you must reset the range of valid
UNIX number to include the UNIX number embedded in the UUID and 
then try again to adopt the object.  See Chapter 35
<!-- titled "Maintaining Policies and Properties" -->
for information on setting the valid range of UNIX numbers.
</Para>
</Note>
<IndexTerm Id="AGCC.SECTRB.indx.15" SpanEnd="AGCC.SECTRB.indx.11">
<!-- .iX "-]" "registry objects" "adopting orphans"-->
</Sect1>
</Chapter>
<!--+ 10/31/96 16:05:54
    | tagMorph:  $Id: 12_trouble.sgm,v 1.1.2.10 1996/12/04 22:48:40 carrig Exp $
    | tagMorph library:  $Id: 12_trouble.sgm,v 1.1.2.10 1996/12/04 22:48:40 carrig Exp $
    | sml-to-docbook:  1.24
    +-->

<!--
# COPYRIGHT NOTICE
# Copyright (c) 1990-1996 Open Software Foundation, Inc. 
# ALL RIGHTS RESERVED (DCE). See the file named COPYRIGHT.DCE in the 
# src directory for the full copyright text. 
# 
# 
# HISTORY
# $Log: adminchap7.sgm,v $
# Revision 1.1.2.13  1996/12/17  19:29:44  damon
# 	Expanded OSF C O P Y R I G H T   N O T I C E
# 	[1996/12/17  19:23:12  damon]
#
# Revision 1.1.2.12  1996/12/07  16:05:38  carrig
# 	{enh,R1.2.2}
# 	Fixed informal tables; final edits
# 	[1996/12/07  16:04:55  carrig]
# 
# Revision 1.1.2.11  1996/12/06  22:42:33  carrig
# 	{enh,R1.2.2}
# 	Align graphics
# 	[1996/12/06  22:42:06  carrig]
# 
# Revision 1.1.2.10  1996/12/02  19:49:33  willie
# 	Typo
# 	[1996/12/02  19:49:20  willie]
# 
# Revision 1.1.2.9  1996/12/02  17:09:04  willie
# 	Commented out Figure 7-2 (and commented in
# 	imbedded comments within this region), then altered accompanying
# 	text to explain what the figure explained.  Also bolded table
# 	headers, retagged the LOAD command line, and made other minor
# 	fixes.
# 	[1996/12/02  17:08:51  willie]
# 
# Revision 1.1.2.8  1996/11/13  20:34:11  carrig
# 	{enh,R1.2.2}
# 	Finished
# 	[1996/11/13  20:32:06  carrig]
# 
# Revision 1.1.2.7  1996/11/11  20:54:36  carrig
# 	{enh,R1.2.2}
# 	Input editor's changes
# 	[1996/11/11  20:49:00  carrig]
# 
# Revision 1.1.2.6  1996/11/08  22:04:51  carrig
# 	{enh,R1.2.2}
# 	First implementation of editor's comments
# 	[1996/11/08  22:04:25  carrig]
# 
# Revision 1.1.2.5  1996/11/07  17:49:35  carrig
# 	{enh,R1.2.2}
# 	No work today
# 	[1996/11/07  17:48:58  carrig]
# 
# Revision 1.1.2.4  1996/10/24  14:49:05  carrig
# 	{enh,R1.2.2}
# 	Fixed type conventions
# 	[1996/10/24  14:48:16  carrig]
# 
# Revision 1.1.2.3  1996/10/08  21:12:25  weir
# 	Scaled figures
# 	[1996/10/08  21:11:52  weir]
# 
# Revision 1.1.2.2  1996/10/08  19:36:14  weir
# 	Fixed tilde problem
# 	[1996/10/08  19:35:58  weir]
# 
# Revision 1.1.2.1  1996/10/05  19:47:48  weir
# 	Regularized filenames
# 	[1996/10/05  19:47:13  weir]
# 
# Revision 1.1.2.5  1996/10/05  19:26:49  weir
# 	Minor fixes
# 	[1996/10/05  19:26:16  weir]
# 
# Revision 1.1.2.4  1996/09/30  23:33:18  weir
# 	Eliminated xrefs, etc.
# 	[1996/09/30  23:32:43  weir]
# 
# Revision 1.1.2.3  1996/09/30  14:03:47  weir
# 	Fixed book title, some coding problems
# 	[1996/09/30  14:03:08  weir]
# 
# Revision 1.1.2.2  1996/09/28  18:43:32  weir
# 	Changed to 2.4 DocBook DTD; fixed figure inclusion mechanism
# 	[1996/09/28  18:42:58  weir]
# 
# Revision 1.1.2.1  1996/09/24  19:25:05  weir
# 	Initial submission
# 	[1996/09/24  19:24:28  weir]
# 
# $EndLog$
# 
-->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
<!ENTITY FIG7F1 SYSTEM "eps/fig71-1.aep" NDATA EPS>
<!ENTITY FIG7F2 SYSTEM "eps/fig73-1.aep" NDATA EPS>
]>
-->
<chapter id="chapter7.xref">
<title>File-Access Administration and Maintenance </title>
<para>DCE and NetWare differ in many ways, such as in directory and file access
right settings, and in filename limitations. This chapter describes the basic
differences that File-Access administrators should be aware of. This chapter
also explains the procedures that the File-Access administrator needs to perform
when a failure occurs. </para>
<sect1 id="sect71.xref">
<title>Rights </title>
<para>Gateway users can access DFS directories and files on DCE from NetWare.
However, DCE and NetWare differ in terms of the types of rights for accessing
directories and files, and the users to whom rights are granted. The following
subsections describe how File-Access adjusts for such differences between
NetWare and DCE. </para>
<sect2>
<title>File-Access Rights </title>
<para>Both NetWare and DCE allow you to set rights for individual directories
and files. Rights in NetWare are determined by trustee rights settings and
inherited rights mask settings. DCE/DFS rights are determined by ACL settings. 
</para>
<sect3>
<title>Differences Between NetWare and DCE Rights </title>
<para>
Table 7-1 
<!-- <xref linkend="tab71.xref"> -->
shows NetWare rights, and
<!-- <xref linkend="tab72.xref"> -->
Table 7-2 lists the DCE/DFS rights that are set through ACLs. By comparing the tables,
you can see many differences.  </para>
<table id="tab71.xref" frame="all">
<title>NetWare Rights</title>
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="1.2*">
<colspec colwidth="2.0*">
<colspec colwidth="1.7*">
<thead>
<row>
<entry align="left" valign="top"><Literal>Type </Literal></entry><entry align="left" valign="top">
<Literal>Directory Rights </Literal></entry><entry align="left" valign="top"><Literal>File Rights </Literal></entry>
</row></thead>
<tbody>
<row>
<entry align="left" valign="top">S (Supervisory)</entry>
<entry align="left" valign="top">All rights to the directory. </entry>
<entry align="left" valign="top">All rights to the file. </entry></row>
<row>
<entry align="left" valign="top">R (Read) </entry>
<entry align="left" valign="top">Open files in a directory and read their
contents or run the programs. </entry>
<entry align="left" valign="top">Open and read the file. </entry></row>
<row>
<entry align="left" valign="top">W (Write) </entry>
<entry align="left" valign="top">Open and modify files in the directory. 
</entry>
<entry align="left" valign="top">Open and write to the file. </entry></row>
<row>
<entry align="left" valign="top">C (Create) </entry>
<entry align="left" valign="top">Create files and subdirectories in the directory. 
</entry>
<entry align="left" valign="top">Salvage (recover) a file after it has been
deleted. </entry></row>
<row>
<entry align="left" valign="top">E (Erase) </entry>
<entry align="left" valign="top">Delete a directory, its files, its subdirectories,
and its subdirectory files. </entry>
<entry align="left" valign="top">Delete the file. </entry></row>
<row>
<entry align="left" valign="top">M (Modify) </entry>
<entry align="left" valign="top">Change subdirectory and file attributes.
Rename the subdirectory and its files. </entry>
<entry align="left" valign="top">Change the file's attributes and rename the
file. </entry></row>
<row>
<entry align="left" valign="top">F (File Scan) </entry>
<entry align="left" valign="top">Scan files in a directory.</entry>
<entry align="left" valign="top">See the filename when viewing the directory. 
</entry></row>
<row>
<entry align="left" valign="top">A  (Access Control) </entry>
<entry align="left" valign="top">Modify trustee rights for a directory, file
or inherited rights mask. </entry>
<entry align="left" valign="top">Modify trustee rights for a file or the inherited
rights mask.  </entry></row></tbody></tgroup></table>

<table id="tab72.xref" frame="all">
<title>Rights Set Through ACLs </title>
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="1*">
<colspec colwidth="1*">
<colspec colwidth="1*">
<thead>
<row><entry align="left" valign="top"><Literal>Type </Literal></entry><entry align="left" valign="top">
<Literal>Directory Rights </Literal></entry><entry align="left" valign="top"><Literal>File Rights </Literal></entry>
</row></thead>
<tbody>
<row>
<entry align="left" valign="top">r (read) </entry>
<entry align="left" valign="top">See a list of directories and read ACL. 
</entry>
<entry align="left" valign="top">Read the file contents. </entry></row>
<row>
<entry align="left" valign="top">w (write) </entry>
<entry align="left" valign="top">Write in a directory. </entry>
<entry align="left" valign="top">Write to a file. </entry></row>
<row>
<entry align="left" valign="top">x (execute) </entry>
<entry align="left" valign="top">Same as r. </entry>
<entry align="left" valign="top">Execute a file. </entry></row>
<row>
<entry align="left" valign="top">c (control) </entry>
<entry align="left" valign="top">Modify ACL for a directory. </entry>
<entry align="left" valign="top">Modify ACL for a file. </entry></row>
<row>
<entry align="left" valign="top">i (insert) </entry>
<entry align="left" valign="top">Create subdirectories or files or modify
their names in a directory. </entry>
<entry align="left" valign="top">Not applicable. </entry></row>
<row>
<entry align="left" valign="top">d (delete) </entry>
<entry align="left" valign="top">Delete subdirectories or files from a directory. 
</entry>
<entry align="left" valign="top">Not applicable. </entry></row></tbody></tgroup>
</table>
</sect3>
<sect3>
<title>File-Access Rights </title>
<para>File-Access rights and NetWare rights are the same with the following
three exceptions:</para>
<itemizedlist><listitem><para><literal>Q</literal> (Qualified) Rights </para>
<para>File-Access provides qualified rights (<literal>Q</literal>) only for Gateway volumes.
These rights can be set on directories and files on a Gateway volume. Users
or groups who have this right can create directories and files and write to
them, but they do not have the right to delete directories or files. </para>
</listitem><listitem><para><literal>E</literal> (Erase) Right for Directory </para>
<para>The <literal>E</literal> right for File-Access directories in the Gateway volume makes
it possible to delete subdirectories and files, but the directory itself cannot
be deleted. If you need to delete a directory, assign the <literal>E</literal> right to its parent
directory. (With NetWare, you can use the <literal>E</literal> right to delete the directory
in which it is set.) </para>
</listitem><listitem><para><literal>S</literal> (Supervisory) </para>
<para>The supervisory right is invalid in the Gateway volume. </para>
</listitem></itemizedlist>
<para>
Table 7-3
<!-- <xref linkend="tab73.xref"> -->
illustrates File-Access rights, including
the qualified rights. </para>
<table id="tab73.xref" frame="all">
<title>File-Access Rights </title>
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="1.1*">
<colspec colwidth="2.3*">
<colspec colwidth="1.5*">
<thead>
<row><entry align="left" valign="top"><Literal>Type </Literal></entry><entry align="left" valign="top">
<Literal>Directory Rights </Literal></entry><entry align="left" valign="top"><Literal>File Rights </Literal></entry>
</row></thead>
<tbody>
<row>
<entry align="left" valign="top">R (Read) </entry>
<entry align="left" valign="top">Open files in a directory and read their
contents or run the programs. </entry>
<entry align="left" valign="top">Open and read the file. </entry></row>
<row>
<entry align="left" valign="top">W (Write) </entry>
<entry align="left" valign="top">Open and modify files in the directory. 
</entry>
<entry align="left" valign="top">Open and write to the file. </entry></row>
<row>
<entry align="left" valign="top">C (Create) </entry>
<entry align="left" valign="top">Create files and subdirectories in a directory. 
</entry>
<entry align="left" valign="top">Not applicable. </entry></row>
<row>
<entry align="left" valign="top">E (Erase) </entry>
<entry align="left" valign="top">Delete a directory, its files, its subdirectories,
and its subdirectory files. </entry>
<entry align="left" valign="top">Delete the file. </entry></row>
<row>
<entry align="left" valign="top">M (Modify) </entry>
<entry align="left" valign="top">Change directory and file attributes. Rename
the directory and its files. </entry>
<entry align="left" valign="top">Change the file's attributes and rename the
file. </entry></row>
<row>
<entry align="left" valign="top">F (File Scan) </entry>
<entry align="left" valign="top">Scan files in a directory.  </entry>
<entry align="left" valign="top">See the filename when viewing the directory. 
</entry></row>
<row>
<entry align="left" valign="top">A  (Access Control) </entry>
<entry align="left" valign="top">Modify trustee rights for directories and
files. </entry>
<entry align="left" valign="top">Modify trustee rights for files. </entry>
</row>
<row>
<entry align="left" valign="top">Q (Qualified) </entry>
<entry align="left" valign="top">Directories can be  created and their names
can be changed, but they cannot be deleted. </entry>
<entry align="left" valign="top">Files can be written to, but they cannot
be deleted. </entry></row></tbody></tgroup></table>
<para>With Netware, you can add or delete all rights other than those assigned
to the SUPERVISOR. With File-Access, users who own directories or files, and
users with DFS root rights, cannot delete access control rights (<literal>A</literal>). </para>
</sect3>
<sect3>
<title>Important Points </title>
<para>Do not set NetWare directory and file attributes to directories and
files in the Gateway volume. The contents of DFS directories and files are
different from those in the Gateway volume if you set these attributes. </para>
</sect3>
</sect2>
<sect2>
<title>Users and Groups </title>
<para>With NetWare, the rights granted to a directory are inherited to the
files under that directory. However, with DCE, rights must be granted to both
files and directories. This is because the target files and directories to
which NetWare trustee rights are granted are different from the target files
and directories of the  DCE ACL. The users or groups with these rights are
called trustees in NetWare and in DCE ACL entries. This subsection describes
these differences. </para>
<para>In NetWare directories and files, you can grant rights to the following
two entities:</para>
<itemizedlist><listitem><para> Users </para>
</listitem><listitem><para>Groups </para>
</listitem></itemizedlist>
<para>There are 11 rights-holders for ACL entries, and File-Access uses the
following 6:</para>
<itemizedlist><listitem><para><literal>user_obj</literal> (directory
or file owner) </para>
</listitem><listitem><para><literal>user</literal> (specified user in
the same cell) </para>
</listitem><listitem><para><literal>group_obj</literal> (group member
who possesses the directory or file) </para>
</listitem><listitem><para><literal>group</literal> (specific group
in the same cell) </para>
</listitem><listitem><para><literal>other_obj</literal> (user in the
same cell who does not belong to any of the other listed entries) </para>
</listitem><listitem><para><literal>mask_obj</literal> (limits entry
rights to those who are not <literal>user_obj</literal> and <literal>other_obj</literal>) </para>
</listitem></itemizedlist>
<para>NetWare does not have rights-holders corresponding to ACL <literal>mask_obj</literal> and <literal>other_obj</literal>. The File-Access administrator must register a Gateway group
for these entries. See
<!-- <xref linkend="sect644.xref"> in -->
Chapter 6 for details
on how to register Gateway groups in association with <literal>other_obj</literal> and <literal>mask_obj</literal>. 
</para>
</sect2>
<sect2>
<title>Trustee Rights and Effective Rights </title>
<para>Effective rights are the rights that a user can actually exercise in
a given directory or file. Gateway users have trustee rights and effective
rights for files and directories in a Gateway volume, just as they do in NetWare.
File-Access trustee rights are set through command-line settings or menu commands
with respect to trustees (users or groups) for directories or files, just
as they are in NetWare. The effective rights of a rights-holder who does not
have trustee rights differ depending on whether or not the rights-holder has
equivalent security rights. </para>
<sect3>
<title>NetWare Effective Rights </title>
<para>NetWare effective rights are based upon the following four points:</para>
<itemizedlist><listitem><para>If <literal>SUPERVISOR</literal> rights (<literal>S</literal>) are valid for a certain
directory, the rights are valid for all subdirectories and files under
that directory. </para>
</listitem><listitem><para>If trustee rights are set but there is no corresponding
security trustee, the effective rights are equivalent to the trustee rights. 
</para>
</listitem><listitem><para>If trustee rights are not set, only the effective
rights of the parent directory of the corresponding directory and file and
the rights associated with the inherited rights mask of the directory and
file are considered effective rights. </para>
</listitem><listitem><para>If a corresponding security trustee exists,
all of the rights of a certain corresponding security trustee are effective
for all other corresponding security trustees. </para>
</listitem></itemizedlist>
</sect3>
<sect3>
<title>File-Access Effective Rights </title>
<para>File-Access shows effective rights on DFS subdirectories and files as
if they were NetWare directories and files. However, actual DFS rights and
NetWare rights are much different from each other, and there are some differences
between File-Access rights and NetWare rights. One of the differences is that
File-Access does not have NetWare's Inherited Rights Mask. </para>
<para>Effective rights in File-Access depend on the following two points: </para>
<itemizedlist><listitem><para>If the user has trustee rights on the directory
or file, the trustee rights are the effective rights. </para>
</listitem><listitem><para>If the user does not have trustee rights on the
directory or file, the rights for the Gateway group of unspecified users (which
the File-Access administrator registered) are the effective rights. </para>
</listitem></itemizedlist>
<para>Depending on the DFS ACL <literal>mask_obj</literal> entry, there is the possibility that
the effective rights of trustees (other than the trustees who are not assigned
rights for directories and files) will not adhere to these two points. The
following subsection explains the situations where the rights do not adhere
to these points.</para>
</sect3>
<sect3>
<title>Important Points About Effective Rights </title>
<para> The DFS ACL <literal>mask_obj</literal> limits the rights of the DFS user or group entry.
This restriction affects Gateway users' rights. Consider the following example: </para>
<para>Assume Gateway group P and Gateway users A, B, C, and D have the relationship
shown in
<!-- <xref linkend="fig7f1.xref"> -->
Figure 7-1: </para>
<figure id="fig7f1.xref">
<title>Group and Users </title>
<Graphic Scalefit="1" Reprodep="350" Reprowid="350" Format="EPS" Entityref="FIG7F1"></Graphic>
<!-- <graphic id="fig7f1" fileref="fig71-1.aep" format="eps"></graphic> -->
</figure>
<para>The following factors determine the effective rights in addition to
each trustee's rights: </para>
<itemizedlist><listitem><para>File-Access </para>
<para>The Gateway group trustee rights that correspond to the DFS ACL 
<literal>other_obj</literal>
and <literal>mask_obj</literal>. (Their group names are <literal>OTHER</literal> and <literal>MASK</literal> in this example.) </para>
</listitem><listitem><para>NetWare </para>
<para>The effective rights and inherited rights mask for a parent directory. 
</para>
</listitem></itemizedlist>
<para>
Table 7-4
<!-- <xref linkend="tab74.xref"> -->
shows the difference in effective rights
between File-Access and NetWare, together with the criteria for trustee rights
and effective rights for the rights-holders shown in Figure 7-1.
<!-- <xref linkend="fig7f1.xref"> -->
Note that this example serves to clarify differences in effective rights,
and thus includes some combinations of rights that cannot actually be used.
 </para>
<table id="tab74.xref" frame="all">
<title>Differences in Effective Rights Between File-Access and NetWare </title>
<tgroup cols="4" colsep="1" rowsep="1">
<colspec colwidth="1*">
<colspec colwidth="1*">
<colspec colwidth="1*">
<colspec colwidth="1*">
<thead>
<row><entry align="left" valign="top"><Literal>Trustee </Literal></entry><entry align="left"
valign="top"><Literal>Trustee Rights </Literal></entry><entry align="left" valign="top"><Literal>Effective
Rights in NetWare </Literal></entry><entry align="left" valign="top"><Literal>Effective Rights
in File-Access </Literal></entry></row></thead>
<tbody>
<row>
<entry align="left" valign="top">User A </entry>
<entry align="left" valign="top">[ RWCE F  ] </entry>
<entry align="left" valign="top">[ RWCE FA ] </entry>
<entry align="left" valign="top">[ RWC  F  ] </entry></row>
<row>
<entry align="left" valign="top">User B </entry>
<entry align="left" valign="top">[         ] </entry>
<entry align="left" valign="top">[ RW   FA ] </entry>
<entry align="left" valign="top">[ RW   FA ] </entry></row>
<row>
<entry align="left" valign="top">User C </entry>
<entry align="left" valign="top">[ RWCE F  ] </entry>
<entry align="left" valign="top">[ RWCE F  ] </entry>
<entry align="left" valign="top">[ RWC  F  ] </entry></row>
<row>
<entry align="left" valign="top">User D </entry>
<entry align="left" valign="top">[         ] </entry>
<entry align="left" valign="top">[ RW   F  ] </entry>
<entry align="left" valign="top">[ R    F  ] </entry></row>
<row>
<entry align="left" valign="top">Group P </entry>
<entry align="left" valign="top">[ RW   FA ] </entry>
<entry align="left" valign="top">&mdash;</entry>
<entry align="left" valign="top">&mdash;</entry></row>
<row>
<entry align="left" valign="top">Group OTHER </entry>
<entry align="left" valign="top">[ R    F  ] </entry>
<entry align="left" valign="top">&mdash;</entry>
<entry align="left" valign="top">&mdash;</entry></row>
<row>
<entry align="left" valign="top">Group MASK </entry>
<entry align="left" valign="top">[ RWC MFA ] </entry>
<entry align="left" valign="top">&mdash;</entry>
<entry align="left" valign="top">&mdash;</entry></row>
<row>
<entry align="left" valign="top">Effective Rights for the Parent Directory 
</entry>
<entry align="left" valign="top">[ RW   FA ] </entry>
<entry align="left" valign="top">&mdash;</entry>
<entry align="left" valign="top">&mdash;</entry></row>
<row>
<entry align="left" valign="top">Right Inheritance Mask </entry>
<entry align="left" valign="top">[ RWC  F  ] </entry>
<entry align="left" valign="top">&mdash;</entry>
<entry align="left" valign="top">&mdash;</entry></row></tbody></tgroup>
</table>
<para>Legend: --------- No effective rights</para>

<para>It is important to remember that trustee rights always take precedence
over effective rights in File-Access. Furthermore, the rights of the ACL <literal>mask_obj</literal> entry for the Gateway group (in this case, group <literal>MASK</literal>) limit the rights for
other Gateway users and Gateway groups. </para>
<para>In this example, NetWare user A belongs to group P. User A's  effective
rights in NetWare are <literal>[ RWCE FA ] </literal>  because user A has the <literal>[A]</literal> right in group
P. But Gateway user A's effective rights are <literal>[ RWC F ] </literal>  and do not include
<literal>[A]</literal>. When Gateway users have their trustee rights set both as a user and group,
their group rights are ignored. If you want to add <literal>[A]</literal> to user A's effective
rights, you must add the <literal>[A]</literal> right to user A's trustee rights. </para>
<para>File-Access also does not retain the rights set in the Gateway
group that correspond to the <literal>mask_obj</literal> entry, except for the trustees who
do not have trustee rights, and the owners of directories and files. In this
example, because the group MASK does not include the erase right <literal>[E]</literal>, users
A and C will not hold the erase right <literal>[E]</literal> under their effective rights even
if <literal>[E]</literal> is set for their trustee rights. For Gateway users A and C
to have the <literal>[E]</literal> right in their trustee rights, the group <literal>MASK</literal> has to have
the <literal>[E]</literal> right. </para>
<para>If you use UFS for the DFS file system, effective rights are not restricted
because UFS does not have a <literal>mask_obj</literal> entry. </para>
</sect3>
</sect2>
<sect2>
<title>Rights Mapping </title>
<para>To control file access rights to directories or files, set
the ACL for DCE and establish trustee rights for NetWare. File-Access converts
the ACL to trustee rights or trustee rights to an ACL. However, File-Access
sets its own trustee rights because it is not possible to convert the entire
ACL to trustee rights. </para>
<para>The following subsections describe the ACL-to-trustee right conversion
rules. </para>
<sect3>
<title>ACL-to-Trustee Conversion </title>
<para>
Table 7-5
<!-- <xref linkend="tab75.xref"> -->
shows the basic rules of converting ACL
rights to trustee rights. </para>
<table id="tab75.xref" frame="all">
<title>Rules for Converting ACL to Trustee Rights </title>
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="1*">
<colspec colname="col2" colwidth="1*">
<colspec colname="col3" colwidth="1*">
<spanspec nameend="col3" namest="col2" spanname="2to3">
<thead>
<row><entry align="left" morerows="1" valign="top"><Literal>ACL </Literal></entry><entry align="left"
spanname="2to3" valign="top"><Literal>NetWare Rights </Literal></entry></row>
<row><entry align="left" colname="col2" valign="top"><Literal> Directory</Literal></entry><entry
align="left" valign="top"><Literal>File</Literal></entry></row></thead>
<tbody>
<row>
<entry align="left" valign="top">r</entry>
<entry align="left" valign="top">F</entry>
<entry align="left" valign="top">RF</entry></row>
<row>
<entry align="left" valign="top">w</entry>
<entry align="left" valign="top">&mdash;</entry>
<entry align="left" valign="top">WCQ</entry></row>
<row>
<entry align="left" valign="top">x</entry>
<entry align="left" valign="top">F</entry>
<entry align="left" valign="top">RF</entry></row>
<row>
<entry align="left" valign="top">c</entry>
<entry align="left" valign="top">A</entry>
<entry align="left" valign="top">A</entry></row>
<row>
<entry align="left" valign="top">wxi</entry>
<entry align="left" valign="top">WCFQ</entry>
<entry align="left" valign="top">&mdash;</entry></row>
<row>
<entry align="left" valign="top">wxd</entry>
<entry align="left" valign="top">EF</entry>
<entry align="left" valign="top">&mdash;</entry></row>
<row>
<entry align="left" valign="top">wxid</entry>
<entry align="left" valign="top">WCEMF</entry>
<entry align="left" valign="top">&mdash;</entry></row></tbody></tgroup></table>
<note>
<title></title>
<para>A dash (&mdash;) indicates that the right will not be effective even if it is set. 
</para>
</note>
<para>The conversion rules for directories and files are different, as follows.
</para>
<sect4>
<title>Directories </title>
<itemizedlist><listitem><para>If only <literal>r</literal>, <literal>x</literal>,  and <literal>c</literal> rights are combined, the
trustee rights are the combination of their converted trustee rights. </para>
</listitem><listitem><para>If only <literal>w</literal>, <literal>i</literal>, and <literal>d</literal> rights are combined, no trustee
rights are converted. </para>
</listitem><listitem><para>If <literal>w</literal>, <literal>i</literal>, and <literal>d</literal> rights are combined with <literal>r</literal> and <literal>c</literal>,
then the <literal>w</literal>, <literal>i</literal>, and <literal>d</literal> rights are ignored. Only the <literal>r</literal> and <literal>c</literal> rights are converted. 
</para>
</listitem><listitem><para>If <literal>w</literal>, <literal>i</literal>, and <literal>d</literal> are combined with <literal>x</literal>,  only <literal>wxi</literal>,
<literal>wxd</literal>, and <literal>wxid</literal> are converted as shown in Table 7-5. Other combinations (<literal>wx</literal>,
<literal>ix</literal>, <literal>dx</literal>, <literal>idx</literal>) are ignored and only <literal>x</literal> is converted. </para>
</listitem></itemizedlist>
</sect4>
<sect4>
<title>Files </title>
<itemizedlist><listitem><para>The <literal>r</literal>,  <literal>x</literal>,  <literal>w</literal>, and <literal>c</literal> combination is converted
as shown in Table 7-5
<!-- <xref linkend="tab75.xref"> -->
above to form trustee rights. </para>
</listitem><listitem><para>No trustee rights are set if only <literal>i</literal> and <literal>d</literal> are combined. 
</para>
</listitem><listitem><para>If <literal>i</literal> and <literal>d</literal> are combined with <literal>r</literal>, <literal>x</literal>, <literal>w</literal>, and <literal>c</literal>, 
the <literal>i</literal> and <literal>d</literal> rights are ignored and the remaining combinations are converted. 
</para>
</listitem></itemizedlist>
</sect4>
</sect3>
<sect3>
<title>Trustee-to-ACL Conversion </title>
<para>
Table 7-6
<!-- <xref linkend="tab76.xref"> -->
shows the basic rules of converting trustee
rights to ACL. </para>
<table id="tab76.xref" frame="all">
<title>Conversion of Trustee Rights to ACL </title>
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="1*">
<colspec colname="col2" colwidth="1*">
<colspec colname="col3" colwidth="1*">
<spanspec nameend="col3" namest="col2" spanname="2to3">
<thead>
<row><entry align="left" morerows="1" valign="top"><Literal>Trustee Rights </Literal></entry>
<entry align="left" spanname="2to3" valign="top"><Literal>ACL </Literal></entry></row>
<row><entry align="left" colname="col2" valign="top"><Literal>Directory </Literal></entry><entry
align="left" valign="top"><Literal> File </Literal></entry></row></thead>
<tbody>
<row>
<entry align="left" valign="top">R</entry>
<entry align="left" valign="top">&mdash; </entry>
<entry align="left" valign="top"> r </entry></row>
<row>
<entry align="left" valign="top">W </entry>
<entry align="left" valign="top">&mdash;  </entry>
<entry align="left" valign="top">w </entry></row>
<row>
<entry align="left" valign="top">C </entry>
<entry align="left" valign="top">wxi </entry>
<entry align="left" valign="top">&mdash; </entry></row>
<row>
<entry align="left" valign="top">E </entry>
<entry align="left" valign="top">wxd </entry>
<entry align="left" valign="top">&mdash; </entry></row>
<row>
<entry align="left" valign="top">M </entry>
<entry align="left" valign="top">&mdash; </entry>
<entry align="left" valign="top">&mdash; </entry></row>
<row>
<entry align="left" valign="top">F </entry>
<entry align="left" valign="top"> rx </entry>
<entry align="left" valign="top">&mdash; </entry></row>
<row>
<entry align="left" valign="top">A </entry>
<entry align="left" valign="top">c </entry>
<entry align="left" valign="top">c </entry></row>
<row>
<entry align="left" valign="top">Q </entry>
<entry align="left" valign="top">&mdash; </entry>
<entry align="left" valign="top">&mdash; </entry></row></tbody></tgroup></table>
<note>
<title></title>
<para>A dash (&mdash;) indicates that the right will not be effective even if it is set. 
</para>
</note>
<para>The conversion rules for directories and files are different, as follows.
</para>
<sect4>
<title>Directories </title>
<itemizedlist><listitem><para>The combination of only <literal>F</literal>, <literal>A</literal>, <literal>C</literal>, and <literal>E</literal> is converted
as illustrated in Table 7-6.</para>
<!-- <xref linkend="tab76.xref"> -->
</listitem><listitem><para>The combination of only <literal>R</literal>, <literal>W</literal>, <literal>M</literal>, and <literal>Q</literal> cannot be
set for a directory. Rights conversion does not take place if only <literal>R</literal>, <literal>W</literal>, <literal>M</literal>,
or <literal>Q</literal> are set. </para>
</listitem><listitem><para>If <literal>F</literal>, <literal>A</literal>, <literal>C</literal>, and <literal>E</literal> are combined with <literal>R</literal>, <literal>W</literal>, <literal>M</literal>, and
<literal>Q</literal>,  <literal>R</literal>, <literal>W</literal>, <literal>M</literal>, and <literal>Q</literal> are ignored. </para>
</listitem></itemizedlist>
</sect4>
<sect4>
<title>Files </title>
<itemizedlist><listitem><para>Only the <literal>R</literal>, <literal>W</literal>, and <literal>A</literal> combination is converted
as displayed in Table 7-6.</para>
<!-- <xref linkend="tab76.xref"> --> 
</listitem><listitem><para>Rights cannot be converted for files if only the
<literal>C</literal>, <literal>E</literal>, <literal>M</literal>, <literal>F</literal>, and <literal>Q</literal> rights are combined. </para>
</listitem><listitem><para>If <literal>R</literal>, <literal>W</literal>, and <literal>A</literal> are mixed with <literal>C</literal>, <literal>E</literal>, <literal>M</literal>, <literal>F</literal>, and <literal>Q</literal>,
then R, W, and A are converted as shown in Table 7-6.</para>
<!-- <xref linkend="tab76.xref"> -->
</listitem></itemizedlist>
</sect4>
</sect3>
<sect3>
<title>Differences Between Specified Rights and Rights That Are Actually Set 
</title>
<para>The trustee rights set through File-Access for directories and files
in the Gateway volume are converted to an ACL. When you view the rights in
the Gateway volume, File-Access converts ACL rights to trustee rights for
you. Because there is a difference in the definition of rights between NetWare
and DCE, there are cases where the rights you specify will differ from the
rights actually set in the directories and files. For example, if you specify
the <literal>[C]</literal> right in a Gateway volume directory, File-Access will set <literal>[WCFQ]</literal> in
the directory. </para>
<para>
Table 7-7
<!-- <xref linkend="tab77.xref"> -->
shows the difference between specified rights
and the rights actually set by File-Access. </para>
<table id="tab77.xref" frame="all">
<title>Differences Between Specified Rights and the Rights Actually Set by
File-Access </title>
<tgroup cols="3" colsep="1" rowsep="1">
<colspec colwidth="1*">
<colspec colname="col2" colwidth="1*">
<colspec colwidth="1*">
<thead>
<row><entry align="left" valign="top"><Literal>Location </Literal></entry><entry align="left"
valign="top"><Literal>Specified Rights </Literal></entry><entry align="left" valign="top"><Literal>Rights
Set by File-Access</Literal></entry></row></thead>
<tbody>
<row>
<entry align="left" morerows="2" valign="top">Directory </entry>
<entry align="left" valign="top">C </entry>
<entry align="left" valign="top">WCFQ </entry></row>
<row>
<entry align="left" colname="col2" valign="top">E </entry>
<entry align="left" valign="top">EF </entry></row>
<row>
<entry align="left" colname="col2" valign="top">CE* </entry>
<entry align="left" valign="top">WCEMF </entry></row>
<row>
<entry align="left" morerows="1" valign="top">File</entry>
<entry align="left" valign="top">R </entry>
<entry align="left" valign="top">RF </entry></row>
<row>
<entry align="left" colname="col2" valign="top">W </entry>
<entry align="left" valign="top">WCQ </entry></row></tbody></tgroup></table>
<note>
<title>Note: </title>
<para>This includes cases where one is already specified and another
is added.</para></note>
</sect3>
</sect2>
<sect2>
<title>Restrictions Related to the Use of UFS </title>
<para>File-Access is designed to be used with the Local File System (LFS)
for DFS. Thus, there are restrictions if UFS (UNIX File System) is used. The
following subsections describe the restrictions imposed and the differences
between LSF and UFS. </para>
<sect3>
<title>Rights </title>
<para>The UFS rights are <literal>r</literal> (read), <literal>w</literal> (write), and <literal>x</literal> (execute). </para>
<para>With File-Access, these rights are recognized and processed as the LFS
rights shown in Table 7-8.</para>
<!-- <xref linkend="tab78.xref"> -->
<table id="tab78.xref" frame="all">
<title>Correspondence Between UFS Rights and LFS Rights </title>
<tgroup cols="2" colsep="1" rowsep="1">
<colspec colwidth="1.25*">
<colspec colname="col2" colwidth="1.25*">
<thead>
<row><entry align="left" valign="top"> <Literal>UFS Rights </Literal></entry><entry align="left"
valign="top"><Literal>LFS Rights </Literal></entry></row></thead>
<tbody>
<row>
<entry align="left" valign="top">r </entry>
<entry align="left" valign="top">r </entry></row>
<row>
<entry align="left" morerows="1" valign="top">w </entry>
<entry align="left" valign="top">Directory :  wid</entry></row>
<row>
<entry align="left" colname="col2" valign="top">File      :  w</entry></row>
<row>
<entry align="left" valign="top"> x </entry>
<entry align="left" valign="top">x </entry></row></tbody></tgroup></table>
<para></para>
<para>The access control right in UFS (<literal>[c]</literal> right in LFS) can only be held
by a superuser or a file and directory owner. </para>
</sect3>
<sect3>
<title>ACL Entries </title>
<para>File-Access uses six LFS ACL entries. UFS only has the following three
ACL entries: </para>
<itemizedlist><listitem><para>Owner (directory/file owner) </para>
</listitem><listitem><para>Group (group to which the owner belongs) </para>
</listitem><listitem><para>Other (all users who do not belong to a group,
excluding superusers) </para>
</listitem></itemizedlist>
<para>The UFS ACL entries correspond to LFS <literal>user_obj</literal>, <literal>group_obj</literal>, and <literal>other_obj</literal>
entries, respectively. </para>
<para>UFS does not have corresponding entries for the LFS user and group,
so rights cannot be set for users and groups that are not owners. </para>
</sect3>
</sect2>
</sect1>
<sect1>
<title>The Administrator's Tasks When a Failure Occurs </title>
<para>If a file access error or communication error occurs in File-Access,
the administrator must follow the instructions shown in the message displayed
on the NetWare server console or client. If no message is displayed or if
the message requires reporting the problem to the system administrator, you
may need to obtain failure information from Agent and/or Gateway. </para>
<sect2>
<title>Collecting Agent Failure Information </title>
<para>Agent failure information is output to File-Access trace files. The
File-Access administrator should save the trace files on a storage medium
and report the <filename>/var/adm/syslog</filename> file as well as the message that appears on
the client's console to the system administrator. Agent trace information
is output to the following file: 
<filename>/opt/dcelocal/var/dfa/adm/evtraceX (X: 1
or 2)</filename> One or two trace files are created. The maximum file size is 512 kilobytes.
Once one file is full, trace information is saved to the other file. </para>
</sect2>
<sect2>
<title>Collecting Gateway Failure Information </title>
<para>If a failure occurs in Gateway, save the following files on storage
media:</para>
<itemizedlist><listitem><para> Trace files </para>
</listitem><listitem><para>Dump files </para>
</listitem><listitem><para>Error log file and message log file </para>
</listitem><listitem><para>Message log files </para>
</listitem></itemizedlist>
<sect3>
<title>Trace Files</title>
<para>To obtain trace information, the File-Access administrator has to create
trace files in the root directory of the SYS volume of the NetWare server.
There are three kinds of trace files, and each trace file stores different information. </para>
<itemizedlist><listitem><para><filename>MAIN.TRC </filename>for File-Access
main program information </para>
</listitem><listitem><para><filename>ADMIN.TRC</filename> for directory synchronization
information </para>
</listitem><listitem><para><filename>WATCHDOG.TRC </filename>for Watchdog
(Agent's operation status monitoring function) information </para>
</listitem></itemizedlist>
<para>Delete trace files from the NetWare server after you have saved them. 
</para>
</sect3>
<sect3>
<title>Dump Files </title>
<para>There are two types of Gateway dump files:  a dump file that Gateway
outputs, and a dump file that the File-Access administrator creates to obtain
information.  </para>
<itemizedlist><listitem><para>Dump file for the Gateway program </para>
<para>The following dump file is created automatically if failure occurs in
Gateway:</para>
<para><filename>SYS:\DFAABND.001 </filename></para>
<para>New dump information overwrites <filename>DFAABND.001</filename> every
time new dump information is output. The maximum dump file size is 1.2 megabytes.
If the dump information exceeds 1.2 megabytes, a new file (whose extension will
be incremented upward starting from <filename>DFAABND.002</filename>) is created. </para>
</listitem><listitem><para>Dump file for the File-Access administrator </para>
<para>If the File-Access administrator creates a file named <filename>DFADUMP.001
</filename> in the root directory of the SYS volume
in the NetWare server, dump information is output when Gateway is exited.
The maximum dump file size is 1.2 megabytes. If the dump information exceeds
1.2 megabytes, a new file (whose extension name is incremented upward starting
from <filename>DFADUMP.002</filename>) is created. Dump files should be deleted
from the NetWare server by the administrator after they have been saved. 
</para>
</listitem></itemizedlist>
</sect3>
<sect3>
<title>Error Log Files </title>
<para>A File-Access error log is output to the following files: </para>
<para><filename> SYS:\DFAERL.00<replaceable>X</replaceable> </filename></para>
<para>where <replaceable>X</replaceable>  has a value of 1 or 2. </para>
<para>One or two error log files are created depending on the value of X.
The maximum file size is 64 kilobytes. Once one file is full, the error log is
saved on the other file. </para>
</sect3>
<sect3>
<title>Message Log Files </title>
<para>File-Access has its own message log files with the following name: 
</para>
<para><filename>SYS:\DFAERM.00<replaceable>X</replaceable></filename></para>
<para>where <replaceable>X </replaceable> has a value of 1 or 2. </para>
<para>File-Access outputs all messages to this file, except for the messages
output to the NetWare server console. The message format is as follows: </para>
<para><programlisting>MMM dd hh:mm:ss messageID message_text </programlisting></para>
<para>where:	</para>
<informaltable>
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colwidth="72*">
<colspec colwidth="384*">
<tbody>
<row>
<entry align="left" valign="top"><replaceable>MMM</replaceable></entry>
<entry align="left" valign="top">month (JAN, FEB, MAR, and so on.) </entry></row>
<row>
<entry align="left" valign="top"><replaceable>dd</replaceable></entry>
<entry align="left" valign="top">day </entry></row>
<row>
<entry align="left" valign="top"><replaceable>hh</replaceable></entry>
<entry align="left" valign="top">hour </entry></row>
<row>
<entry align="left" valign="top"><replaceable>mm</replaceable></entry>
<entry align="left" valign="top">minute</entry></row>
<row>
<entry align="left" valign="top"><replaceable>ss</replaceable></entry>
<entry align="left" valign="top">second </entry></row>
</tbody></tgroup>
</informaltable>

<para>Up to 256 bytes of each message ID and message text are stored. If
they are longer than 256 bytes in length, the rest is not stored. One or two
message log files are created. The maximum file size is 64 kilobytes. Once one
file is full, the log is saved on the other file. </para>
</sect3>
<sect3>
<title>Communication Log File </title>
<para>If more detailed information about a communication failure is needed,
you can retrieve the data exchanged between Gateway and Agent and
stored in the communication log. Please note that File-Access processing speed
is reduced if you retrieve the log. Enter the following command before starting
Gateway if you do not need to access the communication log: </para>
<para><command>LOAD DFADCE /X </command></para>
<para>The communications log is output to the following file: </para>
<para><filename>SYS:\DFADCE<replaceable>X</replaceable>.LOG </filename></para>
<para>where<replaceable> X</replaceable>  has a value of 1 or 2. </para>
<para>One or two communication log files are created depending on the value
of X. The maximum file size is 640 kilobytes. Once one file is full, the log
is saved on the other file. </para>
</sect3>
<sect3>
<title>Conditions of Failure and Information That Must Be Obtained </title>
<para>The failure information that the File-Access administrator needs to
obtain depends on the conditions under which the failure occurred. Following
are the two failure conditions and the information necessary to solve the
problem. The File-Access administrator should retrieve the information and
call the system administrator to report the failure. </para>
<itemizedlist><listitem><para>An error occurs throughout the File-Access
environment.</para> 
<para>Retrieve all Dump files, all trace files, all failure log files,
and all message log files. </para>
</listitem><listitem><para>There is no response from Agent (communication
failure).</para> 
<para>Retrieve all trace information related to Watchdog, all failure
log files, and all message log files. </para>
</listitem></itemizedlist>
</sect3>
</sect2>
<sect2>
<title>Starting the RAS Utility </title>
<para>Start the RAS utility from the NetWare server where Gateway is installed. 
</para>
<sect3>
<title>How to Start </title>
<para>Type the following command from the NetWare server where Gateway is
installed:</para>
<cmdsynopsis>
<command>LOAD [SYS:SYSTEM\] DFARAS [.NLM] [/M] [E] [/C] [/T] [/D]</command>
</cmdsynopsis>
<para>where:</para>
<informaltable>
<tgroup cols="2" colsep="0" rowsep="0">
<colspec colwidth="70*">
<colspec colwidth="386*">
<tbody>
<row>
<entry align="left" valign="top"><literal>/M</literal></entry>
<entry align="left" valign="top"> produces message log file with the RAS filenames
	<filename>DFAERM.001, DFAERM.002</filename> </entry></row>
<row>
<entry align="left" valign="top"><literal>/E</literal></entry>
<entry align="left" valign="top"> produces error log file with the RAS filenames
	<filename>DFAERL.001, DFAERL.002 </filename></entry></row>
<row>
<entry align="left" valign="top"><literal>/C</literal></entry>
<entry align="left" valign="top">produces communication log file with the
RAS filename 	<filename>DFADCE.LOG</filename> </entry></row>
<row>
<entry align="left" valign="top"><literal>/T</literal></entry>
<entry align="left" valign="top">produces trace file with the RAS filenames
	<filename>DFAFUNC.TRC, ADMIN.TRC, MAIN.TRC, WATCHDOG.TRC</filename> </entry>
</row>
<row>
<entry align="left" valign="top"><literal>/D </literal></entry>
<entry align="left" valign="top">produces dump file with the RAS filename 
<filename>DFADUMP</filename> </entry></row></tbody></tgroup></informaltable>
<para>At the starting time, you can designate which RAS file you want to make.
You can pick up multiple RAS files. If you do not select any files, no RAS
file is made. </para>
<para>When a file is successfully made, a message is issued. </para>
</sect3>
<sect3>
<title>Conditions and Restrictions </title>
<para>The following conditions and restrictions apply when you are starting
the RAS utility: </para>
<itemizedlist><listitem><para><literal>DFANLM</literal> must be running to start <literal>DFARAS.NLM</literal>. 
</para>
</listitem><listitem><para>The Gateway processing stops temporarily when <literal>DFARAS.NLM</literal>
is being processed. </para>
</listitem><listitem><para>DFA keeps the RAS files as salvage files. Use the
NetWare <command>SALVAGE</command> command to restore the salvage file. </para>
</listitem><listitem><para>You must assign sufficient space for the SYS volume. 
</para>
</listitem><listitem><para>Do not set <literal>purge attribute</literal> on either the root directory
of the SYS volume or the RAS file. </para>
</listitem><listitem><para><literal>immediate purge</literal> of deleted files is a NetWare
parameter that is set by the set command from the System console. Its default
value is <literal>OFF</literal>. Do not change this <literal>OFF</literal> setting to <literal>ON</literal>. If the immediate purge
of deleted files parameter is set to <literal>ON</literal>, the target file is immediately purged
when the file is deleted, and DFA cannot make a RAS file. </para>
</listitem></itemizedlist>
</sect3>
</sect2>
</sect1>
<sect1>
<title>File-Access Administration </title>
<para>This section presents important information for operating File-Access
and supervising its use. Refer to this section when setting up the File-Access
environment. </para>
<sect2>
<title>Impact of File-Access on the System </title>
<para>Keep in mind the following important points when operating File-Access: 
</para>
<itemizedlist><listitem><para>To prevent illegal data access or a loss of
power due to sabotage, maintain tight security on the NetWare server and DFS
clients where File-Access is used. </para>
</listitem><listitem><para>The Gateway volume is initialized and DFS files
are copied every time the user starts File-Access. Therefore, the NetWare
billing system cannot be used on the Gateway volume. </para>
</listitem><listitem><para>If you use File-Access time synchronization, the
NetWare server time is changed to DCE time. If the NetWare time is ahead of
the DCE time, do not create or update directories or files during the period
corresponding to the time difference following File-Access time synchronization.
Since NetWare time is moving backward during this process, the time stamps
on directories and files are inconsistent if directories or files are created
or updated. </para>
</listitem><listitem><para>Use MS-DOS commands when you copy or move a directory
or file to the Gateway volume. Do not use NetWare commands or utilities. 
</para>
</listitem><listitem><para>Application programs that use the record lock function
do not run on the Gateway volume. </para>
</listitem><listitem><para>Use the DFS backup function for DFS files when
making a Gateway volume file backup. The NetWare backup utility does not work
properly. </para>
</listitem></itemizedlist>
<para>UNIX and Netware employ file-locking mechanisms that are intrinsically
different. Because of this difference, the file access capability of this
product does not function when Gateway and DCE simultaneously access a DFS
file that is mapped onto the Gateway volume. The file access exclusion control
is only operative on files within a single Gateway or multiple Gateways. We
strongly recommend that you set up stringent control procedures to prevent
such simultaneous access.  </para>
</sect2>
<sect2>
<title>File-Access Authentication </title>
<para>Gateway users do not need to enter a DCE password when they log into
DCE after setting the DCE password in Gateway. DCE authenticates Gateway users
based on their DCE usernames and DCE passwords.</para>
<!-- <xref linkend="fig7f2.xref"> -->
<!-- Commented out figure with blackened text. Reworded following text.
Figure 7-2 illustrates how Gateway users are authorized by DCE. 
<figure id="fig7f2.xref">
<title>Gateway User Authentication in DCE </title>
<Graphic Scalefit="1" Reprodep="300" Reprowid="300" Format="EPS" Entityref="FIG7F2"></Graphic>
<graphic id="fig7f2" fileref="fig73-1.aep" format="eps"></graphic>
</figure>
<para>
Figure 7-2
<xref linkend="fig7f2.xref"> End of commented out region -->
<Para>Gateway users are authenticated with the following sequence of events: 
</Para>
<orderedlist><listitem><para>Gateway users log into the NetWare server as
a NetWare client. </para>
</listitem><listitem><para>If a Gateway user enters the File-Access <command>DLOGIN</command>
command and logs into DCE, Gateway searches for the DCE username and DCE password
registered in the NetWare server. This information is passed on to Agent along
with the login request. </para>
</listitem><listitem><para>Agent logs into the DCE security server by using
the DCE username and DCE password received from Gateway. </para>
</listitem></orderedlist>
<para>After File-Access confirms that a Gateway user has logged into DCE,
the Gateway user can access the Gateway volume. </para>
</sect2>
<sect2>
<title>Settings with a Time Limit on the DCE Side </title>
<para>The DCE user account and DCE password that correspond to the Gateway
user have an effective period and expiration date. </para>
<para>The DCE user account becomes invalid after the effective period or expiration
date, after which the user will not be able to log into DCE. If a user account
becomes invalid, a new account must be recreated. The File-Access administrator
should often remind Gateway users to renew the effective period and expiration
date of their accounts. </para>
<para>The DCE password is valid even after the effective period or expiration
date has passed, provided that notification of expiration is given. You set
the effective period or expiration date by using the DCE <command>rgy_edit</command> command. 
</para>
<para>The login effective period for DCE is set based on the effective period
of the ticket granting ticket (TGT). Agent renews the TGT before its effective
period expires, allowing Gateway user login to continue. If the TGT renewal
fails, an error message is displayed on the NetWare console. After the TGT
expires, Gateway users cannot access directories and files and
must log out of DCE and then log back in. The TGT effective period
is set by using the <command>rgy_edit</command> command. </para>
</sect2>
<sect2>
<title>Directory and Filename Conversion Between DFS and the Gateway Volume 
</title>
<para>The names for NetWare directories and files conform to DOS naming rules.
The names for DFS directories and files follow UNIX naming rules. The names
of directories and files for NetWare and DFS differ in terms
of the number and type of characters allowed. Sometimes the name of a DFS
directory or file is invalid in NetWare. </para>
<para>File-Access converts names of DFS directories and files to the NetWare
format. The following subsections explain the relationship between the DFS
and Gateway volume names. </para>
<sect3>
<title>Changing Lowercase Letters in a Name to Uppercase Letters </title>
<para>File-Access can be used to capitalize all the lowercase letters of a
DFS directory or filename if all of the following conditions are met: </para>
<itemizedlist><listitem><para>The name consists of lowercase alphanumeric
characters</para>
</listitem><listitem><para>The name contains no dot (.) and has eight or fewer
characters (1 character = 1 byte) </para>
</listitem><listitem><para>The name has a single dot in it, preceded by at
least one but no more than eight characters, and followed by at least one
but no more than three characters (1 character = 1 byte) </para>
</listitem><listitem><para>The name does not include any of the following
characters:</para>
<para><Literal> . , + [ ]&hairsp; * ? : \ / ; = &lt; > | (space) </Literal></para>
<note>
<title>Note:  </title>
<para>A dot can be used in a name as an extension. However, if a dot is the
first or last character in the name, it is not recognized as an extension. 
</para>
</note>
</listitem></itemizedlist>
<para>For example: </para>
<informaltable>
<tgroup cols="4" colsep="1" rowsep="1">
<colspec colwidth="0.01*">
<colspec colwidth="1.5*">
<colspec colwidth="2.5*">
<colspec colwidth="0.01*">
<thead>

<row>
<?PubTbl row rht="0.01in">
<entry align="left" valign="top" colsep="0" rowsep="0"></entry>
<entry align="left" valign="top" colsep="0" rowsep="1"></entry>
<entry align="left" valign="top" colsep="0" rowsep="1"></entry>
<entry align="left" valign="top" colsep="0" rowsep="0"></entry>
</row>

<row>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
<entry align="left" valign="top"><Literal>Name in DFS </Literal></entry>
<entry align="left" valign="top"><Literal>Name in Gateway Volume </Literal></entry>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
<entry align="left" valign="top">filelist </entry>
<entry align="left" valign="top">FILELIST </entry>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
</row>

<row>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
<entry align="left" valign="top">file2.txt </entry>
<entry align="left" valign="top">FILE2.TXT </entry>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
</row>

<row>
<?PubTbl row rht="0.01in">
<entry align="left" valign="top" colsep="0" rowsep="0"></entry>
<entry align="left" valign="top" colsep="0" rowsep="1"></entry>
<entry align="left" valign="top" colsep="0" rowsep="1"></entry>
<entry align="left" valign="top" colsep="0" rowsep="0"></entry>
</row>

</tbody></tgroup>
</informaltable>
</sect3>
<sect3>
<title>Tildes and Key Numbers as Names </title>
<para>The Gateway volume format is applied to directory names and filenames
not described in the subsection, ``Changing lowercase letters in a name to
uppercase letters.''  Some letters are changed to uppercase letters, and tildes
or key numbers are assigned to the rest. Key numbers are uniquely assigned
numbers that are used to avoid the duplication of the same name in the same
 directory. </para>
<para>For directory and filenames, the sixth character is converted to a tilde
and the seventh and eighth to key numbers. (Some names have a 3-character
extension.) If the name has fewer than five characters, tildes are added to
increase the length to five characters. </para>
<para>For example:</para>
<informaltable frame="none" orient="Port">
<tgroup cols="4" colsep="1" rowsep="1">
<colspec colwidth="0.01*">
<colspec colwidth="1.2*">
<colspec colwidth="2.2*">
<colspec colwidth="0.01*">
<thead>
<row>
<?PubTbl row rht="0.01in">
<entry align="left" valign="top" colsep="0" rowsep="0"></entry>
<entry align="left" valign="top" colsep="0" rowsep="1"></entry>
<entry align="left" valign="top" colsep="0" rowsep="1"></entry>
<entry align="left" valign="top" colsep="0" rowsep="0"></entry>
</row>
<row>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
<entry align="left" valign="top" colsep="1" rowsep="1" ><Literal>Name in DFS </Literal></entry>
<entry align="left" valign="top" colsep="1" rowsep="1"><Literal>Name in Gateway Volume </Literal></entry>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
<entry align="left" valign="top" colsep="1" rowsep="1">ABC </entry>
<entry align="left" valign="top" colsep="1" rowsep="1">ABC&hairsp;&tilde;&hairsp;&tilde;&hairsp;&tilde;&hairsp;nn</entry>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
</row>
<row>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
<entry align="left" valign="top" colsep="1" rowsep="1">Ab.c </entry>
<entry align="left" valign="top" colsep="1" rowsep="1">AB&hairsp;&tilde;&hairsp;&tilde;&hairsp;&tilde;&hairsp;&tilde;&hairsp;nn.C </entry>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
</row>

<row>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
<entry align="left" valign="top" colsep="1" rowsep="1">yosandata </entry>
<entry align="left" valign="top" colsep="1" rowsep="1">YOSAN&hairsp;&tilde;&hairsp;nn </entry>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
</row>

<row>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
<entry align="left" valign="top" colsep="1" rowsep="1"> .login </entry>
<entry align="left" valign="top" colsep="1" rowsep="1">&tilde;&hairsp;LOGI&hairsp;&tilde;&hairsp;nn </entry>
<entry align="left" valign="top" colsep="1" rowsep="0"></entry>
</row>

<row>
<?PubTbl row rht="0.01in">
<entry align="left" valign="top" colsep="0" rowsep="0"></entry>
<entry align="left" valign="top" colsep="0" rowsep="1"></entry>
<entry align="left" valign="top" colsep="0" rowsep="1"></entry>
<entry align="left" valign="top" colsep="0" rowsep="0"></entry>
</row>

</tbody></tgroup>
</informaltable>
<note>
<title>Note:</title>
<para> ``nn'' signifies key numbers.</para>
</note>
</sect3>
<sect3>
<title>DOS Device Names </title>
<para> File-Access recognizes the following character strings as device names
in MS-DOS:</para>
<para><literal>con prn aux nul clock$ com1 com2 com3 com4 lpt1 lpt2 lpt3 </literal></para>
<para>If these character strings are used as names for DFS directories and
files (including cases where the name is on the left side of the extension),
File-Access converts them to tildes and keys so that they will not be the
same as MS-DOS device names. (If the characters are uppercase letters, they
are also converted in the same manner.) </para>
<para>Device names not included in this list are not converted by File-Access.
For this reason, directories and files with the same names as MS-DOS devices
can be created in the Gateway volume. However, the user should not access
these directories and files from the NetWare client. </para>
</sect3>
</sect2>
</sect1>
</chapter>

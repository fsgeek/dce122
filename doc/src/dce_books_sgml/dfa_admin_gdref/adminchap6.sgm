<!--
# COPYRIGHT NOTICE
# Copyright (c) 1990-1996 Open Software Foundation, Inc. 
# ALL RIGHTS RESERVED (DCE). See the file named COPYRIGHT.DCE in the 
# src directory for the full copyright text. 
# 
# 
# HISTORY
# $Log: adminchap6.sgm,v $
# Revision 1.1.2.11  1996/12/17  19:29:42  damon
# 	Expanded OSF C O P Y R I G H T   N O T I C E
# 	[1996/12/17  19:23:10  damon]
#
# Revision 1.1.2.10  1996/12/07  16:05:37  carrig
# 	{enh,R1.2.2}
# 	Fixed informal tables; final edits
# 	[1996/12/07  16:04:52  carrig]
# 
# Revision 1.1.2.8  1996/12/02  16:29:07  willie
# 	Bolded table headers and some contents.  Did not
# 	fix the graphic screens that have bad positioning.
# 	[1996/12/02  16:28:17  willie]
# 
# Revision 1.1.2.7  1996/11/13  20:34:09  carrig
# 	{enh,R1.2.2}
# 	Finished
# 	[1996/11/13  20:32:04  carrig]
# 
# Revision 1.1.2.6  1996/11/11  20:54:35  carrig
# 	{enh,R1.2.2}
# 	Input editor's changes
# 	[1996/11/11  20:48:58  carrig]
# 
# Revision 1.1.2.5  1996/11/08  22:04:50  carrig
# 	{enh,R1.2.2}
# 	First implementation of editor's comments
# 	[1996/11/08  22:04:24  carrig]
# 
# Revision 1.1.2.4  1996/11/07  17:49:34  carrig
# 	{enh,R1.2.2}
# 	No work today
# 	[1996/11/07  17:48:56  carrig]
# 
# Revision 1.1.2.3  1996/10/24  14:49:03  carrig
# 	{enh,R1.2.2}
# 	Fixed type conventions
# 	[1996/10/24  14:48:14  carrig]
# 
# Revision 1.1.2.2  1996/10/08  21:12:24  weir
# 	Scaled figures
# 	[1996/10/08  21:11:50  weir]
# 
# Revision 1.1.2.1  1996/10/05  19:47:47  weir
# 	Regularized filenames
# 	[1996/10/05  19:47:11  weir]
# 
# Revision 1.1.2.6  1996/10/05  19:26:48  weir
# 	Minor fixes
# 	[1996/10/05  19:26:14  weir]
# 
# Revision 1.1.2.5  1996/10/01  16:40:16  weir
# 	Fixed Figure numbers
# 	[1996/10/01  16:38:52  weir]
# 
# Revision 1.1.2.4  1996/09/30  23:33:17  weir
# 	Eliminated xrefs, etc.
# 	[1996/09/30  23:32:42  weir]
# 
# Revision 1.1.2.3  1996/09/30  14:03:46  weir
# 	Fixed book title, some coding problems
# 	[1996/09/30  14:03:06  weir]
# 
# Revision 1.1.2.2  1996/09/28  18:43:31  weir
# 	Changed to 2.4 DocBook DTD; fixed figure inclusion mechanism
# 	[1996/09/28  18:42:57  weir]
# 
# Revision 1.1.2.1  1996/09/24  19:25:04  weir
# 	Initial submission
# 	[1996/09/24  19:24:26  weir]
# 
# $EndLog$
# 
-->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
<!ENTITY FIG6N1 SYSTEM "eps/A06-1.eps" NDATA EPS>
<!-- Figure               -->
<!ENTITY FIG6F1 SYSTEM "eps/fig61-1.aep" NDATA EPS>
<!-- Figure 6-1 xref == fig6f1.xref             -->
<!ENTITY FIG6F2 SYSTEM "eps/fig62-1.aep" NDATA EPS>
<!-- Figure 6-2 xref == fig6f2.xref             -->
<!ENTITY FIG6F3 SYSTEM "eps/fig63-1.aep" NDATA EPS>
<!-- Figure 6-3 xref == fig6f3.xref             -->
<!ENTITY FIG6N2 SYSTEM "eps/A06-2.eps" NDATA EPS>
<!-- Unnumbered Figure               -->
<!ENTITY FIG6N3 SYSTEM "eps/A06-3.eps" NDATA EPS>
<!-- Unnumbered Figure               -->
<!ENTITY FIG6N4 SYSTEM "eps/A06-4.eps" NDATA EPS>
<!-- Unnumbered Figure               -->
<!ENTITY FIG6N5 SYSTEM "eps/A06-5.eps" NDATA EPS>
<!-- Unnumbered Figure               -->
<!ENTITY FIG6N6 SYSTEM "eps/A06-6.eps" NDATA EPS>
<!-- Unnumbered Figure               -->
<!ENTITY FIG6N7 SYSTEM "eps/A06-7.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N8 SYSTEM "eps/A06-8.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N9 SYSTEM "eps/A06-9.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N10 SYSTEM "eps/A06-10.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N11 SYSTEM "eps/A06-11.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N12 SYSTEM "eps/A06-12.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N13 SYSTEM "eps/A06-13.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N14 SYSTEM "eps/A06-14.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FOG6N15 SYSTEM "eps/A06-15.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N16 SYSTEM "eps/A06-16.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N17 SYSTEM "eps/A06-17.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N18 SYSTEM "eps/A06-18.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N18A SYSTEM "eps/A06-18A.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N19 SYSTEM "eps/A06-19.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY FIG6N20 SYSTEM "eps/A06-20.eps" NDATA EPS>
<!-- Unnumbered Figure              -->
<!ENTITY DCEAi "<CiteTitle>OSF DCE Administration Guide&mdash;Introduction</CiteTitle>" >
]>
-->
<chapter id="chapter6.xref">
<title>Setting up the NetWare Server Environment with Administration Utility
</title>
<para>The settings described in Chapters 4 and 5 are not sufficient to run
File-Access. The proper NetWare server environment must also be set up with
the Gateway Administration utility. This chapter describes how to log into
the Administration utility as well as how to set up the NetWare server environment.
It includes the following topics:</para>
<itemizedlist><listitem><para> Environment Setup Procedure </para>
</listitem><listitem><para>Administration Utility Startup and Login </para>
</listitem><listitem><para>Environment Setup During Initial Installation
</para>
</listitem><listitem><para>Deleting the Gateway Volume </para>
</listitem><listitem><para>Changing the Mount Point</para>
</listitem><listitem><para>Changing the Master Key</para>
</listitem><listitem><para>Deleting the Gateway User</para>
</listitem><listitem><para>Changing the DCE Username for the Gateway User</para>
</listitem><listitem><para>Changing the DCE Group Associated with a Gateway
Group </para>
</listitem></itemizedlist>
<sect1 id="sect61.xref">
<title>Environment Setup Procedure </title>
<para>You must set up the NetWare server environment after you set
up the NetWare server. Set up the NetWare server environment by using the
Gateway Administration utility. </para>
<sect2>
<title>Administration Utility Functions </title>
<para>The Administration utility has the following functions available
for setting the NetWare server environment: </para>
<itemizedlist><listitem><para>Registering and deleting Gateway volumes </para>
<para>The Gateway Administration utility allows you to register or delete
File-Access NetWare volumes as Gateway volumes. </para>
</listitem><listitem><para>Setting or changing the mount point </para>
<para>You can change the DFS directory point registered as the Gateway volume
root directory. This directory point is also known as the mount point. </para>
</listitem><listitem><para> Registering the Agent machine </para>
<para>With the Administration utility, you can register the DFS client in
which Agent is installed. The DFS client (Agent) cannot be registered while
Gateway is running. </para>
</listitem><listitem><para>Registering and changing the master key </para>
<para>You can register or change the master key for data encryption used in
communication between Gateway and Agent. </para>
</listitem><listitem><para>Registering and deleting Gateway users</para>
<para> NetWare users can be registered or deleted as Gateway users by setting
correspondences between NetWare usernames and DCE usernames. The <literal>
SUPERVISOR</literal> must be registered as a Gateway user in all cases.
</para>
</listitem><listitem><para> Setting a temporary password </para>
<para>The administrator registers temporary passwords for Gateway users. These
temporary passwords differ from those that Gateway users use as DCE users
(DCE passwords). This difference is why Gateway users logging into DCE from the NetWare
client for the first time via File-Access must change their temporary passwords
to their DCE passwords.</para>
</listitem><listitem><para>Setting and registering Gateway groups </para>
<para>If you need to organize Gateway users into groups and to assign trustee
rights to each group, register a File-Access group (Gateway group) that corresponds
to a DCE group whose ACLs are set to the NetWare group with the desired trustee
rights. You must first register the DCE user as a Gateway user in the DCE
group.</para>
</listitem><listitem><para>Setting options </para>
<para>The Administration utility allows you to set various options, such as
the time interval at which the configuration of directories and files in the
Gateway volume is synchronized with the new DFS directory configuration. You
can also set an option to include the Agent-Gateway maximum response time
and the maximum time to wait for connection. </para>
</listitem><listitem><para>Registering users who can use the Administration
utility </para>
<para>You must register the Gateway users who are allowed to use the Administration
utility.</para>
</listitem></itemizedlist>
</sect2>
<sect2>
<title>Setting Up the Environment </title>
<para> The following diagram shows the initial procedure for setting up the
File-Access environment with the functions provided by the Administration
utility.  </para>
<Graphic Scalefit="1" Reprodep="250" Reprowid="250" Format="EPS" Entityref="FIG6N1"></Graphic>
<!-- <graphic id="fig6n1" fileref="A06-1.eps" format="eps"></graphic> -->
<para>See the following sections for information on changing the File-Access
environment once it is set up:</para>
<itemizedlist><listitem><para>Deleting the Gateway Volume</para>
</listitem><listitem><para>Changing the Mount Point </para>
</listitem><listitem><para>Changing the Master Key	 </para>
</listitem><listitem><para>Deleting the Gateway User </para>
</listitem><listitem><para>Changing the DCE Username That Corresponds to a
Gateway User </para>
</listitem><listitem><para>Changing the DCE Group That Corresponds to a Gateway
Group</para>
</listitem></itemizedlist>
</sect2>
</sect1>
<sect1 id="sect62.xref">
<title>Administration Utility Startup and Login </title>
<para>You can start up the Administration utility from the NetWare server
on which Gateway is installed. The Administration utility can be used by the
<literal>SUPERVISOR</literal> and by those Gateway users who are registered to use it. See
<!-- <xref linkend="sect646.xref"> -->
``Registering Users Who Can Use the Administration Utility'' for details regarding the registration of users for
the Administration utility. </para>
<sect2>
<title>Administration Utility Startup </title>
<para>Enter the following command from the NetWare server where Gateway is
installed to start the Administration utility:</para>

<para>
<programlisting>
LOAD [SYS:\SYSTEM\] DFAADM [.NLM]
</programlisting>
</para>
</sect2>
<sect2>
<title>Logging into the Administration Utility </title>
<para>When the Administration utility is started, the following login screen
is displayed for entering the Gateway username and password. Initially, only
the SUPERVISOR can log into the Administration utility.</para>
<para><computeroutput>Username: </computeroutput><literal>SUPERVISOR </literal></para>
<para><computeroutput>Password: </computeroutput></para>
<para>The Administration utility main menu shown in Figure 6-1
<!-- <xref linkend="fig6f1.xref"> -->
is displayed when you enter the username and NetWare password.  </para>
<figure id="fig6f1.xref">
<title>Administration Utility Main Menu </title>
<Graphic Scalefit="1" Reprodep="300" Reprowid="300" Format="EPS" Entityref="FIG6F1"></Graphic>
<!-- <graphic id="fig6f1" fileref="fig61-1.aep" format="eps"></graphic> -->
</figure>
</sect2>
</sect1>
<sect1 id="sect63.xref">
<title>Administration Utility Operations </title>
<para>The key actions in the Gateway Administration utility are the same as
the NetWare Installation utility.
<!-- <xref linkend="tab61.xref"> -->
Table 6-1 shows the key
assignments for the Administration utility functions. </para>
<table id="tab61.xref" frame="all">
<title>Key Assignments for Administration Utility Functions </title>
<tgroup cols="2" colsep="1" rowsep="1">
<colspec colwidth="1.5*">
<colspec colwidth="3*">
<thead>
<row><entry align="left" valign="top"><Literal>Key </Literal></entry><entry align="left" valign="top"><Literal>
 Functions </Literal></entry></row></thead>
<tbody>
<row>
<entry align="left" valign="top"><literal>&lt;Backspace&gt;</literal></entry>
<entry align="left" valign="top">Deletes the character to the left of the
cursor. </entry></row>
<row>
<entry align="left" valign="top"><literal>&lt;Escape&gt;</literal> </entry>
<entry align="left" valign="top">Returns to the previous box. </entry></row>
<row>
<entry align="left" valign="top"><literal>&lt;Enter&gt;</literal></entry>
<entry align="left" valign="top">Selects a field in the list. </entry></row>
<row>
<entry align="left" valign="top"><literal>&lt;Insert&gt;</literal></entry>
<entry align="left" valign="top">Inserts a new field. </entry></row>
<row>
<entry align="left" valign="top"><literal>&lt;Delete&gt;</literal></entry>
<entry align="left" valign="top">Deletes a field. </entry></row>
<row>
<entry align="left" valign="top"><literal>Up-arrow key</literal> </entry>
<entry align="left" valign="top">Moves up one field. </entry></row>
<row>
<entry align="left" valign="top"><literal>Down-arrow key</literal> </entry>
<entry align="left" valign="top">Moves down one field. </entry></row>
<row>
<entry align="left" valign="top"><literal>Left-arrow key</literal></entry>
<entry align="left" valign="top">Moves the cursor to the left. </entry></row>
<row>
<entry align="left" valign="top"><literal>Right-arrow key</literal></entry>
<entry align="left" valign="top">Moves the cursor to the right.</entry></row>
<row>
<entry align="left" valign="top"><literal>&lt;Page Up&gt;</literal></entry>
<entry align="left" valign="top">Scrolls down the list to the previous page. 
</entry></row>
<row>
<entry align="left" valign="top"><literal>&lt;Page Down&gt;</literal> </entry>
<entry align="left" valign="top">Scrolls up the list to the next page. </entry>
</row>
<row>
<entry align="left" valign="top"><literal>&lt;Ctrl</literal>+<literal>Page Up&gt;</literal></entry>
<entry align="left" valign="top">Moves the cursor to the beginning of the
list. </entry></row>
<row>
<entry align="left" valign="top"><literal>&lt;Ctrl</literal>+<literal>Page Down&gt;</literal></entry>
<entry align="left" valign="top">Moves the cursor to the end of the list. 
</entry></row>
<row>
<entry align="left" valign="top"><literal>&lt;Home&gt;</literal> </entry>
<entry align="left" valign="top">Moves the cursor to the beginning of the
line. </entry></row>
<row>
<entry align="left" valign="top"><literal>&lt;End&gt;</literal></entry>
<entry align="left" valign="top">Moves the cursor to the end of the line. 
</entry></row>
<row>
<entry align="left" valign="top"><literal>Y</literal></entry>
<entry align="left" valign="top">Selects <literal>Yes</literal> in a Yes/No option. </entry>
</row>
<row>
<entry align="left" valign="top"><literal>N</literal> </entry>
<entry align="left" valign="top">Selects <literal>No</literal> in a Yes/No option. </entry>
</row></tbody></tgroup></table>
<para>Be sure to enter the DCE username, temporary password, and other necessary
information when you register a Gateway user.
<!-- <xref linkend="tab62.xref"> -->
Table 6-2
describes the restrictions on those characters you can enter. </para>
<table id="tab62.xref" frame="all">
<title>Input Information and Restrictions on Entered Characters </title>
<tgroup cols="2" colsep="1" rowsep="1">
<colspec colwidth="1.75*">
<colspec colwidth="2.75*">
<thead>
<row><entry align="left" valign="top"><Literal>Input Information</Literal></entry><entry align="left"
valign="top"><Literal>Restrictions on Entered Characters </Literal></entry></row></thead>
<tbody>
<row>
<entry align="left" valign="top">Gateway Username</entry>
<entry align="left" valign="top"> Spaces and lowercase letters cannot be 
used. 
</entry></row>
<row>
<entry align="left" valign="top">NetWare Password </entry>
<entry align="left" valign="top">Spaces and lowercase letters cannot be used. 
</entry></row>
<row>
<entry align="left" valign="top">DFS Mount Point </entry>
<entry align="left" valign="top">No restrictions.</entry></row>
<row>
<entry align="left" valign="top">Master Key </entry>
<entry align="left" valign="top">No restrictions.</entry></row>
<row>
<entry align="left" valign="top">DCE Username  </entry>
<entry align="left" valign="top">No restrictions.</entry></row>
<row>
<entry align="left" valign="top">Temporary Password  </entry>
<entry align="left" valign="top">No restrictions.</entry></row>
<row>
<entry align="left" valign="top">DCE Group Name  </entry>
<entry align="left" valign="top">No restrictions.</entry></row></tbody></tgroup>
</table>
</sect1>
<sect1 id="sect64.xref">
<title>Environment Setup During Initial Installation </title>
<para>The following subsections lead you through a sample setup process for
the File-Access environment, using this example: </para>
<para>Create a File-Access environment with the network environment and directory
structure shown in Figure 6-2.
<!-- <xref linkend="fig6f2.xref"> -->
Set correspondences between
File-Access and DCE groups and users as shown in Figure 6-3.
<!-- <xref linkend="fig6f3.xref"> -->
 </para>
<figure id="fig6f2.xref">
<title>Example of File-Access Environment  </title>
<Graphic Scalefit="1" Reprodep="425" Reprowid="425" Format="EPS" Entityref="FIG6F2"></Graphic>
<!-- <graphic id="fig6f2" fileref="fig62-1.aep" format="eps"></graphic> -->
</figure>
<figure id="fig6f3.xref">
<title>Example of Correspondences Between DCE and File-Access Groups and Users 
</title>
<Graphic Scalefit="1" Reprodep="300" Reprowid="300" Format="EPS" Entityref="FIG6F3"></Graphic>
<!-- <graphic id="fig6f3" fileref="fig63-1.aep" format="eps"></graphic> -->
</figure>
<!-- <xref linkend="tab63.xref"> -->
<para>Table 6-3 presents the information set in the Administration
utility when you set up the File-Access environment as shown in Figure 6-3.
<!-- <xref linkend="fig6f3.xref"> -->
</para>
<table id="tab63.xref" frame="all">
<title>Information Set in Administration Utility </title>
<tgroup cols="2" colsep="1" rowsep="1">
<colspec colwidth="2.25*">
<colspec colwidth="2.00*">
<thead>
<row><entry align="left" valign="top"><Literal>Information </Literal></entry><entry align="left"
valign="top"><Literal>Contents </Literal></entry></row></thead>
<tbody>
<row>
<entry align="left" valign="top">Gateway volume</entry>
<entry align="left" valign="top"><Literal>DVOL </Literal></entry></row>
<row>
<entry align="left" valign="top">Mount point</entry>
<entry align="left" valign="top"><Literal>.../nueva/fs </Literal></entry></row>
<row>
<entry align="left" valign="top">Agent name </entry>
<entry align="left" valign="top"><Literal>Madrid </Literal></entry></row>
<row>
<entry align="left" valign="top">Master key </entry>
<entry align="left" valign="top"><Literal>pyrenees </Literal></entry></row>
<row>
<entry align="left" valign="top">Gateway username </entry>
<entry align="left" valign="top"><Literal>SUPERVISOR</Literal>, <Literal>NORTH</Literal>, <Literal>SOUTH</Literal>, <Literal>EAST</Literal>, <Literal>WEST </Literal></entry>
</row>
<row>
<entry align="left" valign="top">DCE username (for Gateway user) </entry>
<entry align="left" valign="top"> <Literal>cid</Literal>, <Literal>sep</Literal>, <Literal>oct</Literal>, <Literal>nov</Literal>, <Literal>dec </Literal></entry></row>
<row>
<entry align="left" valign="top">Gateway group name </entry>
<entry align="left" valign="top"><Literal>WIND </Literal></entry></row>
<row>
<entry align="left" valign="top">DCE group name (for Gateway group name) 
</entry>
<entry align="left" valign="top"><Literal>month </Literal></entry></row>
<row>
<entry align="left" valign="top">Gateway group name for ACL 
<literal>other_obj</literal> Entry 
</entry>
<entry align="left" valign="top"><Literal>OTHER </Literal></entry></row>
<row>
<entry align="left" valign="top">Gateway group name for ACL 
<literal>mask_obj</literal> </entry>
<entry align="left" valign="top"><Literal>MASK </Literal></entry></row>
<row>
<entry align="left" valign="top">User Permitted to Use Administration Utility 
</entry>
<entry align="left" valign="top"><Literal>NORTH </Literal></entry></row></tbody></tgroup></table>
<sect2>
<title>Registering the Gateway Volume and Setting the Mount Point </title>
<para>You must register a NetWare volume as a Gateway volume and set the mount
point. In this example, <literal>DVOL</literal> is registered as the
Gateway volume name and <filename>/.../nueva/fs</filename> is registered as
the mount point. </para>
<sect3>
<title>Operations</title>
<example>
<title></title>
<orderedlist><listitem><para>Select <literal>Gateway Volume Options</literal>
in the main menu to display the Gateway volume list. So far, nothing has been
registered. </para>
<Graphic Format="EPS" Entityref="FIG6N2"></Graphic>
<!-- <graphic id="fig6n2" fileref="A06-2.eps" format="eps"></graphic> -->
</listitem>
<listitem><para>Press <literal>&lt;Insert&gt;</literal>.
A list of NetWare volumes not registered as Gateway volumes is displayed in
ASCII code, in alphabetical order. </para>
<Graphic Format="EPS" Entityref="FIG6N3"></Graphic>
<!-- <graphic id="fig6n3" fileref="A06-3.eps" format="eps"></graphic> -->
</listitem><listitem><para>Select the NetWare volumes that are to be registered
as Gateway volumes. In this example, <literal>DVOL</literal> is selected.
The DFS mount point input box is displayed. </para>
<Graphic Format="EPS" Entityref="FIG6N4"></Graphic>
<!-- <graphic id="fig6n4" fileref="A06-4.eps" format="eps"></graphic> -->
</listitem><listitem><para>Enter <filename>/.../nueva/fs </filename>as the
DFS mount point corresponding to the Gateway volume. Press <literal>&lt;Enter&gt;</literal>. 
</para>
</listitem></orderedlist>
</example>
<para>The mount point name must include the DFS junction name<filename> /.../cell
name/fs</filename>. The maximum length of the mount point name is 1,022 characters;
78 characters can be displayed in the box at one time. When you enter the mount
point name by pressing <literal>&lt;Enter&gt;</literal>, the name is registered in the Gateway directory
and the corresponding DFS subdirectory. The Gateway volume list display is
then restored. </para>
</sect3>
<sect3>
<title>Important Points</title>
<para>The NetWare volumes registered as Gateway volumes are initialized every
time you start File-Access. If you create files on the Gateway volumes through
NetWare while File-Access is not running, the files are not saved.</para>
</sect3>
</sect2>
<sect2>
<title>Registering Agent and the Master Key </title>
<para> Register the Agent-installed DFS client and a master key for data encryption
in Gateway. In this example, the Agent hostname is <literal>Madrid</literal> and the master key
is <literal>pyrenees</literal>. </para>
<sect3>
<title>Operations</title>
<example>
<title></title>
<orderedlist><listitem><para>Select <literal>Agent Options</literal> from
the main menu. An empty <literal>Agent Name</literal> box is displayed. 
</para>
<Graphic Format="EPS" Entityref="FIG6N5"></Graphic>
<!-- <graphic id="fig6n5" fileref="A06-5.eps" format="eps"></graphic> -->
</listitem><listitem><para>Press <literal>&lt;Insert&gt;</literal>. The Agent hostname
list recorded in the <filename>SYS:\ETC\HOSTS</filename> file is displayed
in ASCII code, in alphabetical order. </para>
<Graphic Format="EPS" Entityref="FIG6N6"></Graphic>
<!-- <graphic id="fig6n6" fileref="A06-6.eps" format="eps"></graphic> -->
</listitem>

<listitem><para>Select <literal>Madrid</literal>
and press <literal>&lt;Enter&gt;</literal>. The <literal>Master Key</literal> box
is displayed.   </para>
<Graphic Format="EPS" Entityref="FIG6N7"></Graphic>
<!-- <graphic id="fig6n7" fileref="A06-7.eps" format="eps"></graphic> -->
</listitem>

<listitem><para>Enter <literal>pyrenees</literal> as the master
key. Enter the master key registered in Agent. If the master key is different
from the master key in Agent, Gateway users cannot log into DCE. The master
key is not displayed in the box for security reasons. </para>
<para>After entering the master key, press <literal>&lt;Enter&gt;</literal> and the <literal>
Reenter master key</literal> box is displayed.  </para>
<Graphic Format="EPS" Entityref="FIG6N8"></Graphic>
<!-- <graphic id="fig6n8" fileref="A06-8.eps" format="eps"></graphic> -->
</listitem><listitem><para>Reenter the master key. If the master key is identical
to the previously entered master key, the Agent machine and the master key
are registered and the screen displays the <literal>Agent Name</literal>
box. </para>
</listitem></orderedlist>
</example>
</sect3>
<sect3>
<title>Important Points </title>
<itemizedlist><listitem><para>Confirm that the hostname has been registered
in the <filename>SYS:\ETC\HOSTS</filename> file before registering Agent. 
</para>
</listitem><listitem><para>Agent and the master key cannot be changed when
Gateway is running. Exit Gateway in order to change Agent or the master key. 
</para>
</listitem></itemizedlist>
</sect3>
</sect2>
<sect2>
<title>Registering Gateway Users and Temporary Passwords </title>
<para>Set DCE users registered in DCE to correspond to Gateway users. Next,
register in Gateway a temporary password that is used only for the Gateway
user's first login. (Gateway users change their temporary password to their
DCE password during the first login.) In this example, the Gateway username
is <literal>NORTH</literal> and the DCE username is <literal>sep</literal>. 
</para>
<sect3>
<title>Operations </title>
<para></para>
<example>
<title></title>
<orderedlist><listitem><para>Select <literal>Gateway User Options</literal>
from the main menu. The <literal>Gateway Users</literal> box is displayed.
No one is currently registered.     </para>
<Graphic Format="EPS" Entityref="FIG6N9"></Graphic>
<!-- <graphic id="fig6n9" fileref="A06-9.eps" format="eps"></graphic> -->
</listitem><listitem><para>Press <literal>&lt;Insert&gt;</literal>. A <literal>NetWare
Users</literal> list box showing NetWare users who are not registered in
Gateway is displayed in ASCII code, in alphabetical order. </para>
<Graphic Format="EPS" Entityref="FIG6N10"></Graphic>
<!-- <graphic id="fig6n10" fileref="A06-10.eps" format="eps"></graphic> -->
</listitem><listitem><para>Select <literal>NORTH</literal>
and press <literal>&lt;Enter&gt;</literal>. The <literal>DCE Username</literal> box is displayed. 
</para>
<Graphic Format="EPS" Entityref="FIG6N11"></Graphic>
<!-- <graphic id="fig6n11" fileref="A06-11.eps" format="eps"></graphic> -->
</listitem><listitem><para>Enter <literal>sep</literal>, which is the
DCE username, and press <literal>&lt;Enter&gt;</literal>. Note:  For the DCE username
(a maximum of 1,024 characters can be entered, and 78 characters can be displayed
at a time). The <literal>DCE Password</literal> box is displayed. </para>
<Graphic Format="EPS" Entityref="FIG6N12"></Graphic>
<!-- <graphic id="fig6n12" fileref="A06-12.eps" format="eps"></graphic> -->
</listitem><listitem><para>Enter the temporary password for the Gateway user <literal>
NORTH</literal>. You should inform the user what password to use
when logging in for the first time. </para>
<para>After setup is completed, user <literal>NORTH</literal>
will change this temporary password to the DCE password for the DCE user <literal>sep</literal>
before logging into DCE from the NetWare client for the first time. This temporary
password is not displayed on the screen. </para>
<para>The <literal>Reenter DCE Password</literal> box is displayed upon
entering the temporary password and pressing <literal>&lt;Enter&gt;</literal>. </para>
<Graphic Format="EPS" Entityref="FIG6N13"></Graphic>
<!-- <graphic id="fig6n13" fileref="A06-13.eps" format="eps"></graphic> -->
</listitem><listitem><para>Reenter the temporary password. If the reentered
password is the same as the previously entered password, the Gateway user
and DCE password are registered and the <literal>Gateway Users</literal>
box screen display is restored. </para>
</listitem></orderedlist>
</example>
<para>Register <literal>SUPERVISOR</literal>, <literal>EAST</literal>, <literal>SOUTH</literal>,
and <literal>WEST</literal> in the same manner. </para>
</sect3>
<sect3>
<title>Important Points  </title>
<itemizedlist><listitem><para>A <literal>SUPERVISOR</literal> must be
registered as a Gateway user because Gateway uses the name of the DCE user who
is the <literal>SUPERVISOR</literal> to log
into DCE to copy the DCE tree structure to the Gateway volume. </para>
</listitem><listitem><para>Gateway users cannot log into DCE if their DCE
passwords do not match the passwords set in File-Access. File-Access administrators
have to inform the Gateway users of their temporary passwords so that the
Gateway users can change them to their DCE passwords. 
</para>
</listitem></itemizedlist>
</sect3>
</sect2>
<sect2 id="sect644.xref">
<title>Registering the Gateway Group </title>
<para>Access rights for Gateway users to a Gateway volume depend on the DCE
ACL. Thus, Gateway users or groups must correspond to ACL entries. To assign
rights group by group, set a DCE group with an ACL setting to correspond to
a trustee that is set as the desired NetWare group. The system then registers
the group as a File-Access group (Gateway group). It is not necessary to register
members for a NetWare group that is registered as a Gateway group as long
as a name is registered. </para>
<para>A Gateway volume does not have NetWare's Inherited Rights Mask (IRM),
and no rights are assigned automatically to unspecified users and groups.
Rights for unspecified Gateway users and groups are determined by rights in
the ACL <literal>other_obj</literal> entry. DFS has a <literal>mask_obj</literal> entry that sets restrictions on
the rights of specific users and groups that are not owners of directories
and files. </para>
<para>File-Access treats <literal>other_obj</literal> and <literal>
mask_obj</literal> entries as the DCE group's <literal>DFA_OTHER_GROUP
</literal> and <literal>DFA_MASK_OBJ</literal> entries, respectively.
The corresponding NetWare groups are given trustee rights. <literal>DFA_MASK_OBJ
</literal> entry mapping is not necessary if UFS (UNIX File System), which
does not have a <literal>mask_obj</literal> entry, is used. See
<!-- <xref linkend="sect71.xref"> in -->
Chapter 7 for details regarding <literal>other_obj
</literal> and <literal>mask_obj</literal> entries. </para>
<para>Before Gateway group registration, you have to register the NetWare
group and DCE group in NetWare and DCE, respectively. See the NetWare manual
for registering the NetWare group. See the &DCEAi;
<!-- DCE Administration Guide Basic Service manual -->
for details regarding how to create DCE groups. </para>
<sect3>
<title>Registering Gateway Groups for <literal>other_obj</literal> and <literal>mask_obj</literal> </title>
<para>To register a Gateway group, select a NetWare group name and map it
to a DCE group. For Gateway groups in which rights for unspecified users or
groups are set, map the NetWare group to <literal>DFA_OTHER_GROUP</literal>
instead of the DCE group name since the group is associated with the ACL 
<literal>other_obj</literal> entry. DFS has a <literal>mask_obj</literal>
entry that sets restrictions on the rights of specific users and groups that
are not owners of directories and files. Gateway groups that are used for
setting rights in the <literal>mask_obj</literal> entry are mapped to <literal>DFA_MASK_OBJ</literal>. </para>
<para>In the following example, the NetWare group <literal>OTHER</literal> and <literal>MASK</literal>
are respectively mapped to <literal>other_obj</literal> and 
<literal>mask_obj</literal> as Gateway groups. </para>

<orderedlist><listitem><para>Select <literal>Gateway Group Options</literal>
from the main menu. The <literal>Gateway Groups</literal> box is displayed.
No group is currently registered. </para>
<Graphic Format="EPS" Entityref="FIG6N14"></Graphic>
<!-- <graphic id="fig6n14" fileref="A06-14.eps" format="eps"></graphic> -->
</listitem><listitem><para>Press <literal>&lt;Insert&gt;</literal>. A list of NetWare
groups that are not registered as Gateway groups is displayed in ASCII code,
in alphabetical order. </para>
<Graphic Format="EPS" Entityref="FOG6N15"></Graphic>
<!-- <graphic id="fig6n15" fileref="A06-15.eps" format="eps"></graphic> -->
</listitem><listitem><para>Select <literal>OTHER</literal>.
The <literal>DCE Group Name</literal> box is displayed. </para>
<Graphic Format="EPS" Entityref="FIG6N16"></Graphic>
<!-- <graphic id="fig6n16" fileref="A06-16.eps" format="eps"></graphic> -->
</listitem><listitem><para>Enter <literal>DFA_OTHER_GROUP</literal> and
press <literal>&lt;Enter&gt;.</literal> The Gateway group <literal>OTHER
</literal> is registered and the screen returns to the <literal>
Gateway Groups</literal> box. Map the NetWare group <literal>
MASK</literal> to <literal>DFA_MASK_OBJ</literal> as a Gateway
group in the same manner. </para>
</listitem>
</orderedlist>

</sect3>
<sect3>
<title>Group Registration with DCE Group Correspondence </title>
<para>To use access rights corresponding to a DCE group, register the group
as a File-Access Gateway group, with the DCE group and NetWare group associated
with each other.</para>
<para>In the following example, the Gateway group <literal>WIND</literal>
is mapped to the DCE group <literal>month.</literal> </para>

<orderedlist><listitem><para>	Select <literal>Gateway Group Options</literal>
in the main menu. The <literal>Gateway Groups</literal> box is displayed. 
</para>
</listitem><listitem><para>Press <literal>&lt;Insert&gt;.</literal> A list of NetWare
groups that are not registered as Gateway groups is displayed.</para>
</listitem><listitem><para> Select <literal>WIND</literal>.
The <literal>DCE Group Name</literal> box is displayed. </para>
</listitem><listitem><para>Enter the DCE group name <literal>month</literal>. <literal>WIND</literal> is registered as the Gateway group name and the <literal>
Gateway Groups</literal> box screen display is restored. </para>
</listitem></orderedlist>

</sect3>
<sect3>
<title>Important Points  </title>
<para>Be sure to register the primary DCE group name if it is associated with
a Gateway group. If a different name is registered, File-Access treats
that name as the primary name. This creates the risk of errors, and the file
or directory access rights may not function correctly. </para>
</sect3>
</sect2>
<sect2>
<title>Setting Options </title>
<para>The following options can be set in File-Access:</para>
<itemizedlist><listitem><para><literal>Time Synchronization</literal></para>
<para>Use this option to set the NetWare server local time if it is to be
synchronized with Coordinated Universal Time (UTC). UTC is set in the DFS
client running Agent when Gateway is started and when a Gateway user logs
 into DCE. The default setting is <literal>No</literal> (that is, not synchronized). </para>
</listitem><listitem><para><literal>Warning on Mounting a Non-clear Volume 
</literal></para>
<para>This feature displays a warning message when the Gateway volume contains
a file or directory before Gateway startup. The default setting is <literal>No</literal> (that
is, no warning). </para>
</listitem><listitem><para><literal>Copy Back Delay Time</literal> </para>
<para>This is the estimated delay time for copying Gateway files back to DCE.
You can set this value from 0 to 10,000 milliseconds. The default delay time
is 1,000 milliseconds. </para>
</listitem><listitem><para><literal>Directory Synchronization Interval</literal> 
</para>
<para>File-Access periodically synchronizes the Gateway volume virtual directory
tree structure with the DFS file system directory tree structure. This is
called the directory synchronization function, and it is possible to set the
interval time of this function. The interval time can be from 0 to 1,440 (minutes).
The default interval time is 5 minutes. </para>
</listitem><listitem><para><literal>Agent-Gateway Maximum Response Time</literal></para>
<para> If the period of time specified for this option passed in the communication
between Agent and Gateway, File-Access assumes a time-out has occurred. The
time-out interval can be from 1 to 32,767 seconds; the default value is 120
minutes. 	</para>
</listitem><listitem><para><literal>Maximum Time to Wait for Connection 
</literal></para>
<para>The maximum waiting time to establish a connection between Agent and Gateway.
The length of time ranges from 1 to 32,767 seconds, and the default value is 45
seconds.  </para>
</listitem><listitem><para><literal>Delayed Time for Sparsed File </literal></para>
<para>This option specifies the delayed time between the file closing and
the file sparsing. You can take advantage of this option when the same file
is accessed in the delayed period. The delay time can be from 0 to 10 minutes,
and the default value is 0 (which means this option is deactivated). </para>
</listitem></itemizedlist>
<sect3>
<title>Setting the Options</title>
<para>This section leads you through a sample session for setting options,
using the following values:  </para>
<itemizedlist>
<listitem><para>Time Synchronization: Yes 
</para></listitem>
<listitem><para>Warning on Mounting a non-clear Volume: Yes 
</para></listitem>
<listitem><para>Copy Back Delay Time: 1,500 (milliseconds) 
</para></listitem>
<listitem><para>Directory Synchronization Interval Time: 10 (minutes) </para>
</listitem></itemizedlist>
<OrderedList>
<ListItem><para>Select <literal>Other Options</literal> from the
main menu. The <literal>Other Options</literal> box is displayed. 
</para>
<Graphic Format="EPS" Entityref="FIG6N17"></Graphic>
<!-- <graphic id="fig6n17" fileref="A06-17.eps" format="eps"></graphic> -->
</ListItem><ListItem><para>Enter the value for each option by moving the cursor to
each option and entering its value.  </para>
</ListItem><ListItem><para>Press <literal>&lt;Escape&gt;</literal>. The Other Options information
is registered. The menu then returns to the main menu. </para>
</ListItem>
</OrderedList>
</sect3>
<sect3>
<title>Important Points </title>
<para>You must observe the following requirements when you set options:
</para>
<itemizedlist><listitem><para> Gateway Backup Directory </para>
<para>Specify all optional information according to the characteristics of
your network. </para>
</listitem><listitem><para>Time synchronization </para>
<para>Synchronize the system time of the DFS client on which Agent is running
to UTC. DCE Distributed Time Service must be running to do
this. </para>
<para>Set the NetWare server Time Zone using the NetWare <command>SET TIMEZONE
</command> command. (See the NetWare manual for details.) </para>
</listitem></itemizedlist>

</sect3>
</sect2>
<sect2 id="sect646.xref">
<title>Registering Users Who Can Use the Administration Utility </title>
<para>Only the NetWare <literal>SUPERVISOR</literal> can initially use
the Administration utility when a new environment is being set up. A registered
Gateway user can use it only after being registered as a user who can use
the Administration utility. The following procedure describes how to register
a user who can use the Administration utility. </para>
<sect3>
<title>Operations </title>
<OrderedList>
<ListItem><para>Select <literal>USER Options</literal> from the
main menu. The <literal>Gateway Users</literal> box is  displayed. </para>
</ListItem><ListItem><para>Select the Gateway user you are going to register. The <literal>
Gateway User Information</literal> box is displayed. </para>
<Graphic Entityref="FIG6N18"></Graphic>
<!-- <graphic id="fig6n18" fileref="A06-18.eps" format="eps"></graphic> -->
</ListItem><ListItem><para>Select <literal>Set Administration-mode User
</literal>. The <literal>Administration-mode</literal> box
is displayed.  </para>
<Graphic Format="EPS" Entityref="FIG6N18A"></Graphic>
<!-- <graphic id="fig6n18a" fileref="A06-18A.eps" format="eps"></graphic> -->
</ListItem><ListItem><para>Select <literal>Yes</literal>.
The selected Gateway user is registered as a user who can use the Administration
utility. </para>
</ListItem>
</OrderedList>
</sect3>
</sect2>
</sect1>
<sect1 id="sect65.xref">
<title>Deleting the Gateway Volume</title>
<para>Use the following procedure to delete a registered Gateway volume: 
</para>
<OrderedList>
<ListItem><para>Select <literal>Gateway Volume Options</literal>
from the main menu. The <literal>Gateway Volume</literal> box is displayed. 
</para></ListItem>
<ListItem><para>Move the cursor to the Gateway volume you want to delete,
then press <literal>Delete</literal>. 
The <literal>Delete Gateway Volume</literal>
confirmation box is displayed. </para>

<Graphic Format="EPS" Entityref="FIG6N19"></Graphic>
<!-- <graphic id="fig6n19" fileref="A06-19.eps" format="eps"></graphic> -->
</ListItem>

<ListItem><para>Select <literal>Yes</literal>.
The selected volume is deleted, and the <literal>Gateway Volume</literal>
box is displayed. </para>
</ListItem>
</OrderedList>
</sect1>
<sect1 id="sect66.xref">
<title>Changing the Mount Point </title>
<para>Use the following procedure to change the DFS subdirectory that corresponds
to the Gateway volume: </para>
<OrderedList>
<ListItem><para>Select <literal>Gateway Volume Options</literal>
from the main menu. Then select the Gateway volume on which you are going
to change the mount point. The <literal>DFS Mount Point</literal> box
is displayed. </para>
</ListItem><ListItem><para>Enter the new mount point. The mount point name must include
the DFS junction name<filename> /.../cell name/fs</filename>. </para>
</ListItem><ListItem><para>Press <literal>&lt;Enter&gt;</literal>. The <literal>Change Mount
Point </literal>confirmation box is displayed. </para>
</ListItem><ListItem><para>Select <literal>Yes.</literal>
The new mount point is registered. </para>
</ListItem>
</OrderedList>
</sect1>
<sect1 id="sect67.xref">
<title>Changing the Master Key </title>
<para>You need to change the master key (for data encryption) in the following
cases: </para>
<itemizedlist><listitem><para>When Agent moves to a different host</para>
</listitem><listitem><para>When the security (or integrity) of data is lost 
</para>
</listitem></itemizedlist>
<sect2>
<title>The Master Key Change Procedure </title>
<para>Use the following procedure to change the master key. </para>
<OrderedList>
<ListItem><para>Select <literal>Agent Options</literal> from the
main menu. The <literal>Agent</literal> box is displayed. </para>
</ListItem><ListItem><para> Press <literal>&lt;Enter&gt;</literal>. The <literal>Enter Master Key</literal> box is displayed. </para>
</ListItem><ListItem><para>Enter the new master key. The <literal>Reenter Master Key</literal> box is displayed after you enter the master key. </para>
</ListItem><ListItem><para>Reenter the new master key. The master key is registered
if the reentered master key is the same as the previously entered master key.
The menu then returns to the <literal>Agent</literal> box. </para>
</ListItem>
</OrderedList>
</sect2>
<sect2>
<title>Important Points</title>
<itemizedlist><listitem><para>Exit File-Access before changing the master
key. </para>
</listitem><listitem><para>Be sure to change the master key on both Agent
and Gateway. </para>
</listitem></itemizedlist>
</sect2>
</sect1>
<sect1 id="sect68.xref">
<title>Deleting the Gateway User</title>
<para>Use the following procedure to delete a Gateway user: </para>
<OrderedList>
<ListItem><para>Select <literal>Gateway User Options</literal>
from the main menu. The <literal>Gateway Users</literal> box is displayed. 
</para></ListItem>
<ListItem><para>Move the cursor to the Gateway user you want to delete,
then press <literal>Delete</literal>.  The <literal>Delete Gateway
User</literal> confirmation box is displayed.</para>

<Graphic Format="EPS" Entityref="FIG6N20"></Graphic>
<!-- <graphic id="fig6n20" fileref="A06-20.eps" format="eps"></graphic> -->
</ListItem>
<ListItem><para>Select <literal>Yes</literal>.
The designated Gateway user is deleted. </para></ListItem>
</OrderedList>
<caution>
<title></title>
<para>If you use a Netware command to delete a NetWare user who is registered
as a Gateway user, the user's Gateway user registration is deleted as well. 
</para>
</caution>
</sect1>
<sect1 id="sect69.xref">
<title>Changing the DCE Username for the Gateway User </title>
<para>If you changed a Gateway user's DCE username, the DCE username registered
in the Administration utility must be changed as well. After changing the
DCE username, the File-Access administrator must set a temporary password
for the Gateway user and then inform that user of the temporary password.
The Gateway users should change the temporary passwords to their DCE passwords
when they log into DCE the next time. </para>
<para>Use the following procedure to change the DCE username for the Gateway
user: </para>
<OrderedList>
<ListItem><para>From the <literal>Gateway Users</literal> box,
select the Gateway user whose associated DCE username is to be changed. The <literal>
Gateway User</literal> information box is displayed. </para>
</ListItem><ListItem><para>Select <literal>Change DCE User</literal>. The <literal>
DCE Username</literal> box is displayed. </para>
</ListItem><ListItem><para>Enter the new DCE username. </para>
</ListItem><ListItem><para>Enter the temporary password. </para>
</ListItem><ListItem><para>Reenter the temporary password. The new DCE username and
the temporary password are registered if the reentered password is the same
as the previously entered password. The <literal>Gateway Users</literal>
box is displayed. </para>
</ListItem>
</OrderedList>
</sect1>
<sect1 id="sect610.xref">
<title>Changing the DCE Group Associated with a Gateway Group </title>
<para>You must change the DCE group associated with a Gateway group when the
DCE group on DCE is changed. Use the following procedure to accomplish this
task: </para>
<OrderedList>
<ListItem><para>Select <literal>Gateway Group Options</literal> from the main
menu. The <literal>DCE Group</literal> box is displayed. </para>
</ListItem><ListItem><para>Select the Gateway group whose associated DCE group is
to be changed. The <literal>DCE Group Name</literal> box is displayed. 
</para>
</ListItem><ListItem><para>Enter the new DCE group name and press <literal>Enter</literal>.
The new DCE group is matched to the Gateway group, and the screen returns
to the <literal>Gateway Group</literal> box. </para>
</ListItem>
</OrderedList>
</sect1>
</chapter>

<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: pthread_mutexattr_setkind_np.3thr,v $
# Revision 1.1.2.7  1996/12/14  19:05:12  carrig
# 	{enh,R1.2.2}
# 	Synopses font
# 	[1996/12/14  19:02:27  carrig]
#
# Revision 1.1.2.6  1996/12/13  21:14:23  carrig
# 	{enh,R1.2.2}
# 	Synopses
# 	[1996/12/13  21:12:43  carrig]
# 
# Revision 1.1.2.5  1996/12/07  16:39:22  carrig
# 	{enh,R1.2.2}
# 	Minor edit
# 	[1996/12/07  16:38:57  carrig]
# 
# Revision 1.1.2.4  1996/12/06  18:59:41  wardr
# 	{edit,R1.2.2}
# 	Fixed initial conversion problems
# 	[1996/12/06  18:50:50  wardr]
# 
# Revision 1.1.2.3  1996/12/05  17:58:09  wardr
# 	{edit,R1.2.2}
# 	Fixed initial conversion problems
# 	[1996/12/05  17:50:32  wardr]
# 
# Revision 1.1.2.2  1996/12/01  20:29:43  weir
# 	Removed thinsp entities
# 	[1996/12/01  20:28:24  weir]
# 
# Revision 1.1.2.1  1996/11/29  18:29:23  weir
# 	Initial submission
# 	[1996/11/29  18:26:02  weir]
# 
# $EndLog$
-->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<RefEntry Id="DCEADR.MAN183.rsml.1">
<RefMeta>
<RefEntryTitle>pthread_mutexattr_setkind_np</RefEntryTitle>
<ManVolNum>3thr</ManVolNum>
</RefMeta>
<RefNameDiv>
<RefName><Literal>pthread_mutexattr_setkind_np</Literal></RefName>
<RefPurpose>Specifies the mutex type attribute</RefPurpose>
</RefNameDiv>
<!---->
<!--  COPYRIGHT NOTICE-->
<!--  Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.-->
<!--  ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the-->
<!--  src directory for the full copyright text.-->
<!---->
<!---->
<!-- OLD HISTORY-->
<!-- Revision 1.1.9.1  1996/11/19  20:25:55  wardr-->
<!-- 	{edit,R1.2.2}-->
<!-- 	Init capped heads-->
<!-- 	[1996/11/19  20:24:11  wardr]-->
<!---->
<!-- Revision 1.1.7.7  1995/06/09  16:22:29  buckler-->
<!-- 	1.1 edits and Prentice Hall reformat-->
<!-- 	[1995/06/09  16:17:56  buckler]-->
<!-- -->
<!-- Revision 1.1.7.6  1994/09/30  17:59:29  weir-->
<!-- 	(Defect, 9772, R1.1)-->
<!-- 	Corrected miscellaneous errors-->
<!-- 	[1994/09/30  17:57:10  weir]-->
<!-- -->
<!-- Revision 1.1.7.5  1993/02/17  21:23:57  lmk-->
<!-- 	Defect 7040, R1.0.2, Corrected paragraph in RETURN VALUES section-->
<!-- 	[1993/02/17  21:22:11  lmk]-->
<!-- -->
<!-- Revision 1.1.7.4  1993/01/27  20:27:36  cjd-->
<!-- 	Fixing backing build problem-->
<!-- 	[1993/01/27  19:54:30  cjd]-->
<!-- -->
<!-- Revision 1.1.7.3  1993/01/26  23:20:27  cjd-->
<!-- 	Embedded copyright notice-->
<!-- 	[1993/01/26  22:23:44  cjd]-->
<!-- -->
<!-- 	Embedded copyright notice-->
<!-- 	[1993/01/26  20:55:19  cjd]-->
<!-- -->
<!-- Revision 1.1.7.2  1992/10/02  19:48:13  weir-->
<!-- 	Moved into 1.0.2doc tree-->
<!-- 	[1992/10/02  18:54:24  weir]-->
<!-- -->
<!-- 	For P/H, now and forever!-->
<!-- 	[1992/09/16  15:24:59  oaf]-->
<!-- -->
<!-- Revision 1.1.5.3  1992/09/16  18:44:47  oaf-->
<!-- 	*** empty log message ***-->
<!-- -->
<!-- Revision 1.1.5.2  1992/08/03  23:58:18  oaf-->
<!-- 	Final_edits.__Most_files_unchanged.-->
<!-- 	[1992/08/03  23:20:15  oaf]-->
<!-- -->
<!-- 	 For all files,-->
<!-- 	...\"       implemented redline edits:-->
<!-- 	...\"       Removed all .ds-.de macros, replaced with simple,-->
<!-- 	...\"               "primitive" spacing.-->
<!-- 	...\"       Changed all tables to "canonical" form,-->
<!-- 	...\"               with format n | l | lw(...).  for errno returns,-->
<!-- 	...\"               with format c | l | lw(...).  for others.-->
<!-- 	...\"       Changed all text in SYNOPSIS to bold or italic - no roman.-->
<!-- 	...\"       Placed 1.5i space requirement (.ne) before "return value" and-->
<!-- 	...\"               "related information" sections (many of ...).-->
<!-- 	...\"       Changed all instances of (\|) to (\|).-->
<!-- 	...\"   (Obviously), placed in /project/dce/build/dce1.0.1PHdoc.-->
<!-- 	[1992/07/29  04:42:58  oaf]-->
<!-- -->
<!-- Revision 1.1.2.3  1992/05/14  18:42:10  buckler-->
<!-- 	Editorial review-->
<!-- 	[1992/05/14  18:39:29  buckler]-->
<!-- -->
<!-- Revision 1.1.2.2  1992/05/08  21:37:31  johnson-->
<!-- 	Defect:  2655-->
<!-- -->
<!-- 	File: src/app_ref/man3thr/pthread_mutexattr_setkind_np.3thr-->
<!-- 	Short description:  Added _NP suffix to values.-->
<!-- 	[1992/05/08  21:36:58  johnson]-->
<!-- -->
<!-- Revision 1.1  1992/01/29  15:30:11  damon-->
<!-- 	Initial revision-->
<!-- -->
<!---->
<!-- Copyright 1991, Open Software Foundation, Inc.  ALL RIGHTS RESERVED.-->
<!-- ********************************************************************-->
<!--                                                                    *-->
<!-- COPYRIGHT (c) 1991 BY DIGITAL EQUIPMENT CORPORATION,               *-->
<!-- Maynard, Massachusetts                                             *-->
<!-- All Rights Reserved.                                               *-->
<!--                                                                    *-->
<!-- This document is furnished under a license and may be used and     *-->
<!-- copied only in accordance with the terms of such license and with  *-->
<!-- the inclusion of the above copyright notice.  No title to or        *-->
<!-- ownership of the document is hereby transferred.                   *-->
<!--                                                                    *-->
<!-- The information in this document is subject to change without      *-->
<!-- notice and should not be construed as a commitment by Digital      *-->
<!-- Equipment Corporation.                                             *-->
<!--                                                                    *-->
<!-- ********************************************************************-->
<!-- .iX "\*Lpthread_mutexattr_setkind_np(\|)\*O"-->
<IndexTerm Id="DCEADR.MAN183.indx.1">
<Primary>mutex</Primary>
<Secondary>fast</Secondary>
</IndexTerm>
<IndexTerm Id="DCEADR.MAN183.indx.2">
<Primary>mutex</Primary>
<Secondary>recursive</Secondary>
</IndexTerm>
<IndexTerm Id="DCEADR.MAN183.indx.3">
<Primary>fast mutex</Primary>
</IndexTerm>
<IndexTerm Id="DCEADR.MAN183.indx.4">
<Primary>recursive mutex</Primary>
</IndexTerm>
<RefSect1 Remap="ANSI">
<Title>Synopsis</Title>
<FuncSynopsis>
<FuncSynopsisInfo>#include &lt;pthread.h></FuncSynopsisInfo>
<FuncDef><Function><Literal>int </Literal>pthread_mutexattr_setkind_np</Function></FuncDef>
<ParamDef>pthread_mutexattr_t *<Parameter>attr</Parameter></ParamDef>
<ParamDef>int <Parameter>kind</Parameter></ParamDef>
</FuncSynopsis>

</RefSect1>
<RefSect1>
<Title>Parameters</Title>
<VariableList>
<VarListEntry>
<Term><Symbol Role="Variable">attr</Symbol></Term>
<ListItem>
<Para>Mutex attributes object modified.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Symbol Role="Variable">kind</Symbol></Term>
<ListItem>
<Para>New value for the mutex type attribute.  The <Symbol Role="Variable">kind</Symbol> parameter
specifies the type of mutex that is created.  Valid values are
<Literal>MUTEX_FAST_NP</Literal> (default), <Literal>MUTEX_RECURSIVE_NP</Literal>, and
<Literal>MUTEX_NONRECURSIVE_NP</Literal>.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<?sml-break>
<?sml-need 1.5i>
</RefSect1>
<RefSect1>
<Title>Description</Title>
<Para>The <Function>pthread_mutexattr_setkind_np()</Function>
routine sets the mutex type attribute that is used when a mutex is
created.
</Para>
<Para>A fast mutex is locked and unlocked in the fastest manner possible.
A fast mutex can only be locked (obtained) once.
All subsequent calls to <Function>pthread_mutex_lock()</Function> cause the calling
thread to block until the mutex is freed by the thread that owns it.
If the thread that owns the mutex attempts to lock it again, the
thread waits for itself to release the mutex (causing a deadlock).
</Para>
<Para>A recursive mutex can be locked more than once by the same thread
without causing that thread to deadlock.  In other words, a single thread can
make consecutive calls to <Function>pthread_mutex_lock()</Function> without blocking.
The thread must then call <Function>pthread_mutex_unlock()</Function> the same number of
times as it called <Function>pthread_mutex_lock()</Function> before another thread can
lock the mutex.
</Para>
<Para>A nonrecursive mutex is locked only once by a thread, like a
fast mutex.  If the thread tries to lock the mutex again without first
unlocking it, the thread receives an error.  Thus, nonrecursive
mutexes are more informative than fast mutexes because fast mutexes
block in such a case, leaving it up to you to determine why the thread
no longer executes.  Also, if someone other than the owner tries to
unlock a nonrecursive mutex, an error is returned.
</Para>
<Para>Never use a recursive mutex with condition variables because the
implicit unlock performed for a <Function>pthread_cond_wait()</Function> or
<Function>pthread_cond_timedwait()</Function> might not actually release the mutex.  In
that case, no other thread can satisfy the condition of the predicate.
</Para>
<Para>This routine is a new primitive.
<?sml-break><?sml-need 2.2i></Para>
</RefSect1>
<RefSect1>
<Title>Return Values</Title>
<Para>If the function fails, <Literal>errno</Literal> may be set to one of the
following values:
</Para>
<InformalTable Remap="center" Orient="Port">
<TGroup Rowsep="0" Colsep="0" Cols="3">
<ColSpec Colsep="1" Char="." Align="Char" Colwidth="124*" Colname="col1" Colnum="1">
<ColSpec Colsep="1" Align="Left" Colwidth="124*" Colname="col2" Colnum="2">
<ColSpec Align="Left" Colwidth="207*" Colname="col3" Colnum="3">
<TBody>
<Row>
<Entry Rowsep="1" Align="Left"><Literal>Return</Literal></Entry>
<Entry Rowsep="1"><Literal>Error</Literal></Entry>
<Entry Rowsep="1"><Literal>Description</Literal></Entry>
</Row>
<Row>
<Entry>0</Entry>
<Entry></Entry>
<Entry>Successful completion.</Entry>
</Row>
<Row>
<Entry>&minus;1</Entry>
<Entry>[<Literal>EINVAL</Literal>]</Entry>
<Entry>The value specified by <Symbol Role="Variable">attr</Symbol> is invalid.</Entry>
</Row>
<Row>
<Entry>&minus;1</Entry>
<Entry>[<Literal>EPERM</Literal>]</Entry>
<Entry>The caller does not have the appropriate privileges.</Entry>
</Row>
<Row>
<Entry>&minus;1</Entry>
<Entry>[<Literal>ERANGE</Literal>]</Entry>
<Entry>One or more parameters supplied have an invalid value.</Entry>
</Row>
</TBody>
</TGroup>
</InformalTable>
<!-- .cS-->
<!-- .nL-->
<!-- .ne 1.5i-->
<!-- .SH "EXAMPLES"-->
<!-- .PP-->
<!-- .oS-->
<!-- int pthread_mutexattr_setkind_np (pthread_mutexattr_t *attr,-->
<!-- 	int kind);-->
<!-- .oE-->
<!-- .cE-->
<?sml-break>
<?sml-need 1.5i>
</RefSect1>
<RefSect1>
<Title>Related Information</Title>
<Para><!--no-op:  l-->
Functions:  
<Filename MoreInfo="RefEntry">pthread_mutex_init(3thr)</Filename>,
<Filename MoreInfo="RefEntry">pthread_mutexattr_create(3thr)</Filename>,
<Filename MoreInfo="RefEntry">pthread_mutexattr_getkind_np(3thr)</Filename>.
<!--no-op:  b-->
</Para>
</RefSect1>
<!--+ 11/27/96 19:46:25
    | tagMorph:  $Id: pthread_mutexattr_setkind_np.3thr,v 1.1.2.7 1996/12/14 19:05:12 carrig Exp $
    | tagMorph library:  $Id: pthread_mutexattr_setkind_np.3thr,v 1.1.2.7 1996/12/14 19:05:12 carrig Exp $
    | sml-to-docbook:  1.25
    +-->
</RefEntry>

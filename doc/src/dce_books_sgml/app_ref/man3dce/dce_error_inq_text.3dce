<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: dce_error_inq_text.3dce,v $
# Revision 1.1.2.6  1996/12/10  20:53:19  carrig
# 	{enh,R1.2.2}
# 	Synopses, fonts in PgmListing Listing
# 	[1996/12/09  21:16:52  carrig]
#
# Revision 1.1.2.5  1996/12/04  17:13:06  carrig
# 	{enh,R1.2.2}
# 	VarListEntry
# 	[1996/12/04  17:09:29  carrig]
# 
# Revision 1.1.2.4  1996/12/03  21:14:16  wardr
# 	{edit,R1.2.2}
# 	Fixed some Conversion probs
# 	[1996/12/03  20:58:44  wardr]
# 
# Revision 1.1.2.3  1996/12/01  19:13:13  weir
# 	Removed thinsp entities
# 	[1996/12/01  19:10:20  weir]
# 
# Revision 1.1.2.2  1996/11/29  19:22:46  weir
# 	Added fragmentary FPIs
# 	[1996/11/29  19:19:47  weir]
# 
# Revision 1.1.2.1  1996/11/29  16:24:51  weir
# 	Initial submission
# 	[1996/11/29  16:21:41  weir]
# 
# $EndLog$
-->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<RefEntry Id="DCEADR.MAN56.rsml.1">
<RefMeta>
<RefEntryTitle>dce_error_inq_text</RefEntryTitle>
<ManVolNum>3dce</ManVolNum>
</RefMeta>
<RefNameDiv>
<RefName><Literal>dce_error_inq_text</Literal></RefName>
<RefPurpose>Retrieves message text associated with a DCE error code</RefPurpose>
</RefNameDiv>
<!-- COPYRIGHT NOTICE-->
<!-- Copyright (c) 1990, 1991, 1992, 1993, 1994 Open Software Foundation, Inc.-->
<!-- ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE for-->
<!-- the full copyright text.-->
<!-- OLD HISTORY-->
<!-- Revision 1.1.4.1  1996/11/18  16:59:50  wardr-->
<!-- 	{edit,R1.2.2}-->
<!-- 	Init capped heads and added PDG pointer-->
<!-- 	[1996/11/18  16:56:32  wardr]-->
<!---->
<!-- Revision 1.1.2.7  1995/05/31  17:05:26  buckler-->
<!-- 	1.1 edits.-->
<!-- 	PRENTICE HALL reformat.-->
<!-- 	[1995/05/30  22:48:05  buckler]-->
<!-- -->
<!-- Revision 1.1.2.6  1994/10/18  22:43:19  buckler-->
<!-- 	{enh, 8440, R1.1}-->
<!-- 	A few last technical comments.-->
<!-- 	[1994/10/18  22:43:05  buckler]-->
<!-- -->
<!-- Revision 1.1.2.5  1994/10/17  20:11:35  buckler-->
<!-- 	{enh, 8441, R1.1}-->
<!-- 	Incorporated technical review.-->
<!-- 	[1994/10/17  20:10:02  buckler]-->
<!-- -->
<!-- 	{def, 11578, R1.1}-->
<!-- 	Added info about LANG variable.-->
<!-- 	Also added the dce_error_string_t typedef to the SYNOPSIS section.-->
<!-- -->
<!-- 	{enh, 8440, R1.1}-->
<!-- 	Incorporated technical review.-->
<!-- -->
<!-- Revision 1.1.2.3  1994/09/14  14:52:22  weir-->
<!-- 	Updates-->
<!-- 	[1994/09/14  14:51:08  weir]-->
<!-- -->
<!-- Revision 1.1.2.2  1994/09/13  21:30:28  weir-->
<!-- 	Updates-->
<!-- 	[1994/09/13  21:29:02  weir]-->
<!-- -->
<!-- Revision 1.1.2.1  1994/09/08  19:31:30  weir-->
<!-- 	Reorganized reference pages-->
<!-- 	[1994/09/08  19:30:19  weir]-->
<!-- -->
<!-- -->
<!-- -->
<!-- -->
<RefSect1 Remap="ANSI">
<Title>Synopsis</Title>
<!-- - -->
<FuncSynopsis>
<FuncSynopsisInfo>#include &lt;dce/dce_error.h></FuncSynopsisInfo>
<FuncDef><Function><Literal>void </Literal>dce_error_inq_text</Function></FuncDef>
<ParamDef>error_status_t <Parameter>status_to_convert</Parameter></ParamDef>
<ParamDef>dce_error_string_t <Parameter>error_text</Parameter></ParamDef>
<ParamDef>int *<Parameter>status</Parameter></ParamDef>
</FuncSynopsis>
</RefSect1>
<RefSect1>
<Title>Parameters</Title>
<!-- - -->
<RefSect2>
<Title>Input</Title>
<VariableList>
<VarListEntry role="linebreak">
<Term><Symbol Role="Variable">status_to_convert</Symbol></Term>
<ListItem>
<Para>DCE status code for which text message is to be retrieved.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
</RefSect2>
<RefSect2>
<Title>Output</Title>
<VariableList>
<VarListEntry>
<Term><Symbol Role="Variable">error_text</Symbol></Term>
<ListItem>
<Para>The message text associated with the <Symbol Role="Variable">status_to_convert</Symbol>.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Symbol Role="Variable">status</Symbol></Term>
<ListItem>
<Para>Returns the status code from this operation.  The status code is 
set to 0 on success, and to -1 on failure.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
</RefSect2>
</RefSect1>
<RefSect1>
<Title>Description</Title>
<Para>The <Function>dce_error_inq_text()</Function> routine retrieves from the installed DCE
component message catalogs the message text associated with an error status
code returned by a DCE library routine.
<!-- -->
</Para>
<Para>All DCE message texts are assigned a unique 32-bit
message ID.  The special value of all-bits-zero is 
reserved to indicate success.
</Para>
<Para>The <Function>dce_error_inq_text()</Function> routine uses the message ID as a series of
indices into the correct DCE component's message catalog; the text found by
this indexing is the message that explains the status code that was returned
by the DCE or DCE application routine.
</Para>
<Para>All messages for a given component are stored in a single message catalog
generated by the <Literal>sams</Literal> utility when the component is built. (The messages
may also be compiled into the component code, rendering the successful retrieval
of message text independent of whether or not the message 
catalogs were correctly installed.)
</Para>
<Para><?sml-need 4>If the user sets their <Literal>LANG</Literal> variable and has the correct
message catalog files installed, the user can receive translated
messages.  That is, the text string returned by <Function>dce_error_inq_text()</Function>
is dependant on the current locale.
<!-- -->
<!-- -->
<!-- program in the form of a global variable-->
<!-- that contains ID/text pairs.-->
<!-- -->
<!-- The message IDs, table, and message catalog are-->
<!-- normally prepared by the \*Lsams\*O utility.-->
<!-- -->
<!-- -->
<!-- -->
<!-- - -->
</Para>
</RefSect1>
<RefSect1>
<Title>Examples</Title>
<!-- - -->
<!-- -->
<Para>The following code fragment shows how <Function>dce_error_inq_text()</Function> can be
used to retrieve the message text describing the status code returned by a
DCE RPC library routine:
<!-- -->
</Para>
<InformalExample>
<Para><ProgramListing>dce_error_string_t error_string;
error_status_t status;
int print_status;

rpc_server_register_if(<Replaceable>application</Replaceable>_v1_0_s_ifspec, &amp;type_uuid,
    (rpc_mgr_epv_t)&amp;manager_epv, &amp;status);
if (status != rpc_s_ok) {
	dce_error_inq_text(status, error_string, &amp;print_status);
	fprintf(stderr," Server: %s: %s&bsol;n", caller, error_string);

}
</ProgramListing></Para>
</InformalExample>
</RefSect1>
<!--+ 11/27/96 19:46:25
    | tagMorph:  $Id: dce_error_inq_text.3dce,v 1.1.2.6 1996/12/10 20:53:19 carrig Exp $
    | tagMorph library:  $Id: dce_error_inq_text.3dce,v 1.1.2.6 1996/12/10 20:53:19 carrig Exp $
    | sml-to-docbook:  1.25
    +-->
</RefEntry>

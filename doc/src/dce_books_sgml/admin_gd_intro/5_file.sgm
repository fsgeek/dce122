<!--
# COPYRIGHT NOTICE
# Copyright (c) 1990-1996 Open Software Foundation, Inc. 
# ALL RIGHTS RESERVED (DCE). See the file named COPYRIGHT.DCE in the 
# src directory for the full copyright text. 
# 
# 
# HISTORY
# $Log: 5_file.sgm,v $
# Revision 1.1.2.9  1996/12/17  19:27:55  damon
# 	Expanded OSF C O P Y R I G H T   N O T I C E
# 	[1996/12/17  19:21:40  damon]
#
# Revision 1.1.2.8  1996/12/03  18:58:09  carrig
# 	{enh,R1.2.2}
# 	Key conventions
# 	[1996/12/03  18:56:48  carrig]
# 
# Revision 1.1.2.7  1996/11/29  21:09:22  carrig
# 	{enh,R1.2.2}
# 	Put in Willie's comments
# 	[1996/11/29  21:07:32  carrig]
# 
# Revision 1.1.2.6  1996/10/15  17:47:18  carrig
# 	{enh,R1.2.2}
# 	Minor changes for editor
# 	[1996/10/15  17:45:54  carrig]
# 
# Revision 1.1.2.5  1996/10/14  20:04:10  carrig
# 	{enh,R1.2.2}
# 	Ready
# 	[1996/10/14  19:57:01  carrig]
# 
# Revision 1.1.2.4  1996/10/07  20:35:17  weir
# 	Scaled figures, added per-file FPIs, fixed Informal Tables
# 	[1996/10/07  20:34:25  weir]
# 
# Revision 1.1.2.3  1996/10/01  16:17:58  weir
# 	Mistakenly checked out
# 	[1996/10/01  16:15:49  weir]
# 
# Revision 1.1.2.2  1996/09/29  17:34:34  weir
# 	Fixed organization
# 	[1996/09/29  17:33:25  weir]
# 
# Revision 1.1.2.1  1996/09/24  21:08:15  weir
# 	Initial submission
# 	[1996/09/24  21:07:33  weir]
# 
# $EndLog$
# 
-->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
<!-- Below are the string definitions for the DCE documentation titles. -->
<!ENTITY DCEIn "<CiteTitle>Introduction to OSF DCE</CiteTitle>" >
<!ENTITY DCEDg "<CiteTitle>OSF DCE Application Development Guide</CiteTitle>" >
<!ENTITY DCEDi "<CiteTitle>OSF DCE Application Development Guide&mdash;Introduction and Style Guide</CiteTitle>" >
<!ENTITY DCEDk "<CiteTitle>OSF DCE Application Development Guide&mdash;Core Components</CiteTitle>" >
<!ENTITY DCEDd "<CiteTitle>OSF DCE Application Development Guide&mdash;Directory Services</CiteTitle>" >
<!ENTITY DCEDr "<CiteTitle>OSF DCE Application Development Reference</CiteTitle>" >
<!ENTITY DCEAg "<CiteTitle>OSF DCE Administration Guide</CiteTitle>" >
<!ENTITY DCEAi "<CiteTitle>OSF DCE Administration Guide&mdash;Introduction</CiteTitle>" >
<!ENTITY DCEAc "<CiteTitle>OSF DCE Administration Guide&mdash;Core Components</CiteTitle>" >
<!ENTITY DCEAd "<CiteTitle>OSF DCE DFS Administration Guide and Reference</CiteTitle>" >
<!ENTITY DCEAx "<CiteTitle>OSF DCE GDS Administration Guide and Reference</CiteTitle>" >
<!ENTITY DCEAe "<CiteTitle>OSF DCE Administration Guide&mdash;Extended Services</CiteTitle>" >
<!ENTITY DCEAr "<CiteTitle>OSF DCE Command Reference</CiteTitle>" >
<!ENTITY DCEPg "<CiteTitle>OSF DCE Porting and Testing Guide</CiteTitle>" >
<!ENTITY DCETs "<CiteTitle>OSF DCE Technical Supplement</CiteTitle>" >
<!ENTITY DCETg "<CiteTitle>OSF DCE Problem Determination Guide</CiteTitle>" >
<!ENTITY DCEDc "<CiteTitle>Application Environment Specification/Distributed Computing</CiteTitle>" >
<!ENTITY DCERe "<CiteTitle>OSF DCE Release Notes</CiteTitle>" >
<!ENTITY DCETm "<CiteTitle>OSF DCE Testing Guide</CiteTitle>" >
<!ENTITY DCEHa "<CiteTitle>OSF DCE/File-Access Administration Guide and Reference</CiteTitle>" >
<!ENTITY DCEHu "<CiteTitle>OSF DCE/File-Access User's Guide</CiteTitle>" >
<!ENTITY DCEHt "<CiteTitle>OSF DCE/File-Access FVT User's Guide</CiteTitle>" >
<!--                                              -->
]>
-->
<!---->
<!---->
<!-- OLD HISTORY-->
<!-- Revision 1.1.11.1  1996/06/19  18:58:36  wardr-->
<!-- 	{enh,R1.2.2}-->
<!-- 	Update for sgml conversion-->
<!-- 	[1996/06/19  18:23:47  wardr]-->
<!---->
<!-- Revision 1.1.9.2  1996/03/20  20:46:48  wardr-->
<!-- 	{edit R1.2.1}-->
<!-- 	Release Edits-->
<!-- 	[1996/03/20  20:45:13  wardr]-->
<!-- -->
<!-- Revision 1.1.9.1  1996/03/10  20:54:19  weir-->
<!-- 	Checkin to cement files in 1.2 tree-->
<!-- 	[1996/03/10  20:53:31  weir]-->
<!-- -->
<!-- Revision 1.1.6.6  1994/10/19  21:25:36  steto-->
<!-- 	{edt, R1.1, Made final edits.}-->
<!-- 	[1994/10/19  21:24:28  steto]-->
<!-- -->
<!-- Revision 1.1.6.5  1994/09/15  21:00:07  steto-->
<!-- 	{edt, R1.1, Edited for doc conventions.}-->
<!-- 	[1994/09/15  20:59:51  steto]-->
<!-- -->
<!-- Revision 1.1.6.4  1994/04/07  19:56:47  rom-->
<!-- 	{enh, 10306, R1.1}-->
<!-- 	Remove diskless documentation from the DCE doc set.-->
<!-- 	[1994/04/07  16:41:06  rom]-->
<!-- -->
<!-- Revision 1.1.6.3  1993/10/20  20:25:57  tmw-->
<!-- 	Added index entries for second version of master index.-->
<!-- 	[1993/10/20  20:22:00  tmw]-->
<!-- -->
<!-- Revision 1.1.6.2  1993/05/17  14:53:30  buckler-->
<!-- 	{edit, R1.0.2}-->
<!-- 	Prentice-Hall editorial review.-->
<!-- 	[1993/05/13  21:33:29  buckler]-->
<!-- -->
<!-- Revision 1.1.4.6  1993/01/28  20:34:52  dbelch-->
<!-- 	Embedding copyright notice-->
<!-- 	[1993/01/28  20:31:27  dbelch]-->
<!-- -->
<!-- Revision 1.1.4.5  1993/01/26  18:52:47  buckler-->
<!-- 	Fixed cross-refs and figure calls for new book org-->
<!-- 	[1993/01/26  18:49:14  buckler]-->
<!-- -->
<!-- Revision 1.1.4.4  1992/12/09  20:48:34  steiner-->
<!-- 	Revised cross references for new book organization-->
<!-- 	[1992/12/09  20:45:10  steiner]-->
<!-- -->
<!-- Revision 1.1.4.3  1992/11/24  21:19:06  steiner-->
<!-- 	Edits and coding conventions.-->
<!-- 	[1992/11/24  21:15:26  steiner]-->
<!-- -->
<!-- Revision 1.1.4.2  1992/08/26  20:33:05  weir-->
<!-- 	Moved-->
<!-- 	[1992/08/26  20:29:45  weir]-->
<!-- -->
<!-- Revision 1.1.2.2  1992/05/08  20:36:40  gacoin-->
<!-- 	editorial change-->
<!-- 	[1992/05/08  20:36:06  gacoin]-->
<!-- -->
<!-- Revision 1.1  1992/01/29  16:19:27  damon-->
<!-- 	Initial revision-->
<!-- -->
<!---->
<!-- Copyright (c) 1991, International Business Machines Corporation.-->
<!-- ALL RIGHTS RESERVED-->
<!---->
<Chapter Id="OSFAGI.FILE.div.1">
<Title>Location of Installed DCE Files</Title>
<IndexTerm Id="OSFAGI.FILE.indx.1">
<Primary>system files</Primary>
<Secondary>locations</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.FILE.indx.2">
<Primary>dceshared directories</Primary>
<Secondary>creating</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.FILE.indx.3">
<Primary>dcelocal directories</Primary>
<Secondary>creating</Secondary>
</IndexTerm>
<Para>This chapter describes the location of DCE files that are created during the
installation and configuration processes.
The files used by DCE are grouped in
the following locations:
</Para>
<ItemizedList>
<ListItem>
<Para>The <Symbol Role="Variable">dceshared</Symbol> subdirectories
</Para>
</ListItem>
<ListItem>
<Para>The <Symbol Role="Variable">dcelocal</Symbol> subdirectories
</Para>
</ListItem>
<ListItem>
<Para>Conventional UNIX subdirectories
</Para>
</ListItem>
</ItemizedList>
<Para>Some information needs to be kept locally on a machine for reliability
and to ensure that security is maintained.  For example, when you configure
DCE, the file that contains the name of your cell must be
on the machine that is being configured.  This file is stored in the 
<Symbol Role="Variable">dcelocal</Symbol> subtree.  
Other information used in DCE can be and needs to be shared 
among machines in a cell.  For convenience, this
information is stored in the <Symbol Role="Variable">dceshared</Symbol> subtree.
</Para>
<Para>The <Symbol Role="Variable">dceshared</Symbol> subtree is created when you use the <Command>tar</Command>
command to retrieve the archived files from the DCE tape, 
as described in the &DCERe;.
The <Symbol Role="Variable">dcelocal</Symbol>
subtree is created when you install DCE components, as described in Part 2.
</Para>
<Para>The complete set of delivered DCE files, except
those that are created during run time, are stored
under <Symbol Role="Variable">dceshared</Symbol>.  
The <Symbol Role="Variable">dcelocal</Symbol> subtree is a subset of <Symbol Role="Variable">dceshared</Symbol>.
Files that are required in conventional UNIX subdirectories
and executables that are required in <Symbol Role="Variable">dcelocal</Symbol> subdirectories can
be duplicates of files and templates in the original <Symbol Role="Variable">dceshared</Symbol> subtree.
<!--the DCE install script copies the minimum, reasonable subset of files into
the &bsol;*L/usr/bin&bsol;*O and &bsol;*L/sbin&bsol;*O directories.  &bsol;*L/sbin&bsol;*O is the directory that contains the small set of
executables required by the root partition.
You can decide which files you want to be available in
standard locations, such as &bsol;*L/usr/bin&bsol;*O, and whether you want
to copy the files or create them as symbolic links.
If you want to create the files as symbolic links instead of copying them, you
must modify the install script.
-->
In some cases, files are installed into directories such as <Filename>/usr/lib</Filename>,
<Filename>/usr/bin</Filename>, or <Filename>/bin</Filename> for performance reasons.  In other cases,
symbolic links can be used from the conventional UNIX subdirectories to
<Symbol Role="Variable">dcelocal</Symbol>.
</Para>
<Para>The following sections describe the DCE subdirectories.
Appendix B provides the directory layout for <Symbol Role="Variable">dceshared</Symbol>,
<Symbol Role="Variable">dcelocal</Symbol>, and the conventional UNIX subdirectories that are used by DCE.
<!--.P
The file organization is set up in such a way that regular users,
including application programmers, do not need frequent access
to files stored under &bsol;*Vdceshared&bsol;*O and &bsol;*Vdcelocal&bsol;*O subdirectories;
therefore, these users do not need to set these subdirectories
in their &bsol;*LPATH&bsol;*O variable.  Usually, DCE system administrators
require frequent access to these locations.
-->
</Para>
<Sect1 Id="OSFAGI.FILE.div.2">
<Title>The dceshared Subtree</Title>
<Para>The files in the <Symbol Role="Variable">dceshared</Symbol> subtree can be kept on local machines or, preferably, they can be exported to other machines in
the DCE cell by using DFS.  Therefore, sharable files, including binaries
that are addressed by <SystemItem Class="EnvironVar">@sys</SystemItem>, are stored under <Symbol Role="Variable">dceshared</Symbol>.  
The <Symbol Role="Variable">dceshared</Symbol> subtree is read-only.
</Para>
<Para>All files generated by a DCE build, all files delivered to
binary licensees, and if appropriate, all files delivered to source
licensees are initially stored
<!-- , kept, and upgraded-->
in the <Symbol Role="Variable">dceshared</Symbol> subdirectories.
All files in the <Symbol Role="Variable">dceshared</Symbol> subdirectories are
kept unmodified over the lifetime of an installed DCE release.
Configuration and data files are only stored as
templates in <Symbol Role="Variable">dceshared</Symbol>.  The actual working set of data files is
located in the <Symbol Role="Variable">dcelocal</Symbol><Filename>/var</Filename> and <Symbol Role="Variable">dcelocal</Symbol><Filename>/etc</Filename>
subdirectories.
</Para>
<Para>The default pathname prefix for <Symbol Role="Variable">dceshared</Symbol> is
<Filename>/opt/dce</Filename>, which is a symbolic link  to <Literal>/opt/dce1.0</Literal>, or
for DFS, to
<Literal>/:/opt/dce1.0</Literal> (the short form of <Literal>/.:/fs/opt/dce1.0</Literal>).
This entry is always physically located at the local machine.
Therefore, the local system administrator (or the respective software
administrator) must have write permission to modify this link.
You can redirect this link from the fileset on the local machine
to the cell-wide accessible fileset as soon as the local machine is
configured and the cell is available; for example, redirect
<Filename>/opt/dce</Filename> to <Literal>/:/opt/dce1.0</Literal>.
</Para>
<Note>
<Para>Special care must be taken because this link is crucial for protecting the local machine
if it is running as client and for protecting the server machine if
it is acting as
service provider.  This symbolic link
must be created in a protected directory, which is
comparable to <Filename>/etc</Filename>.  Only the local system
administrator needs to have write and modify permissions to this
directory.
</Para>
</Note>
<Para>To avoid having replicas of <Symbol Role="Variable">dceshared</Symbol> files on local machines,
you can use a symbolic link to access the cell-wide versions of these files.
In case DFS users do
not want to
have replicas of these files physically stored on their local machine,
they can remove the <Symbol Role="Variable">dceshared</Symbol> subtree 
that is installed on the local machine and redirect
the default symbolic link to the cell-wide <Symbol Role="Variable">dceshared</Symbol> subtree, if
these particular files are available there.
The subdirectory that <Symbol Role="Variable">dceshared</Symbol> points to has a version number associated with the pathname
that provides the capability of running multiple versions of DCE in one
cell.
This capability is sometimes required in an intermediate phase of upgrading
to a new release.  An additional advantage is a simplified deinstallation
procedure.
</Para>
<Para>If necessary, you can create copies or symbolic links from the other locations
to <Literal>/opt/dce/*</Literal>, such as
<Symbol Role="Variable">dcelocal</Symbol><Filename>/var</Filename>, <Symbol Role="Variable">dcelocal</Symbol><Filename>/etc</Filename>, <Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename>, and <Filename>/usr/bin</Filename>.
These guidelines are based on the assumption
that you want to use the DCE capability of cell-wide file sharing.
The pathname for <Symbol Role="Variable">dceshared</Symbol> is set at compile time
and is not associated with any particular version number.
</Para>
<Para><IndexTerm Id="OSFAGI.FILE.indx.4" SpanEnd="OSFAGI.FILE.indx.2"></Para>
</Sect1>
<Sect1 Id="OSFAGI.FILE.div.3">
<Title>The dcelocal Subtree</Title>
<Para>In order to initially boot a server and configure the cell,
the appropriate files for mandatory servers (CDS and Security)
need to be available on that server machine (in the
<Symbol Role="Variable">dcelocal</Symbol> subtree).
It is strongly recommended that
copies of the minimum set of programs
and data files that were
installed during the default DCE
installation procedure be kept locally on server machines for
standalone operation and emergency maintenance.
</Para>
<Para>The contents of the <Symbol Role="Variable">dcelocal</Symbol> subtree can vary from
machine to machine inside a
DCE cell to accommodate and serve specific configurations.  In addition,
every machine must have local access to certain files so that each machine can
run as a standalone system if the machine is 
disconnected or partitioned from the cell.
The appropriate files on DCE servers that have to be local
to the server machine must be stored under <Symbol Role="Variable">dcelocal</Symbol>.
Client-related data files are stored under <Symbol Role="Variable">dcelocal</Symbol><Filename>/etc</Filename> (static
configuration data) and <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/adm</Filename> (log files and so forth).
All server-specific data files are located in the
<Symbol Role="Variable">dcelocal</Symbol><Filename>/var/</Filename><Symbol Role="Variable">dce-component-name</Symbol> directory.
</Para>
<Para>The default pathname for 
<Symbol Role="Variable">dcelocal</Symbol> is set to <Filename>/opt/dcelocal</Filename> 
during the configuration process.  This is a fixed pathname.
Every machine must have local access to the files that are necessary to
configure it, up to activating DFS access in the cell.
The <Filename>/opt/dcelocal/dce_cf.db</Filename> file is the DCE configuration file containing the name of the
host to be configured and the cell name.
A machine must access this
small set of DCE files, which is kept on the machine's local disk,
to start up the various DCE components and
for local configuration information and log information.
</Para>
<Para>Because DCE configuration takes place after mounting the local file systems,
none of these files has to be available in the root partition.
</Para>
<Para>During DCE configuration,
only the executables in <Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename> are reliably available.
Start-up procedures, such as <Filename>rc</Filename> scripts, need to address executables
through
<Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename> rather than <Filename>/usr/bin</Filename>, even if the same files
are believed to be in both directories.  Commands in <Filename>/usr/bin</Filename> can
be just symbolic links to <Symbol Role="Variable">dcelocal</Symbol>.
</Para>
<Para>The <Symbol Role="Variable">dcelocal</Symbol> subtree is populated and initialized during DCE
configuration.
<IndexTerm Id="OSFAGI.FILE.indx.5" SpanEnd="OSFAGI.FILE.indx.3"></Para>
</Sect1>
<Sect1 Id="OSFAGI.FILE.div.4">
<Title>Conventional UNIX Directories</Title>
<IndexTerm Id="OSFAGI.FILE.indx.6">
<Primary>UNIX directories</Primary>
<Secondary>accessing</Secondary>
</IndexTerm>
<Para>Some files and directories used by DCE are accessible in conventional UNIX
directories.
These DCE files and directories need to be accessible in
conventional locations so
users can conveniently access frequently used utilities and data, such as <Literal>idl</Literal> from
the <Filename>/usr/bin</Filename> directory and <Literal>localtime</Literal> from the <Filename>/etc/zoneinfo</Filename>
directory.
Header files are accessible in <Filename>/usr/include</Filename> or in its subdirectory,
<Filename>/usr/include/dce</Filename>,
and libraries, such as <Filename>libdce.a</Filename>, are kept in <Filename>/usr/lib</Filename>.
</Para>
</Sect1>
<Sect1 Id="OSFAGI.FILE.div.5">
<Title>UNIX Permissions for DCE Subdirectories</Title>
<IndexTerm Id="OSFAGI.FILE.indx.7">
<Primary>permissions</Primary>
<Secondary>DCE subdirectories</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.FILE.indx.8">
<Primary>UNIX permissions</Primary>
<Secondary>DCE subdirectories</Secondary>
</IndexTerm>
<Para>All directories in the file system are created with UNIX permission set to <Literal>rwxr-xr-x</Literal> for user
<Literal>root</Literal> and group <Literal>bin</Literal>.
In subsequent configurations, the DCE Security Service can define roles for
several administrators (principals or groups).  A possible scenario follows:
</Para>
<ItemizedList>
<ListItem>
<Para>A software administrator who owns the installed software packages
and has write and modify permissions for the entire set of files
included in <Symbol Role="Variable">dcelocal</Symbol>.
</Para>
</ListItem>
<ListItem>
<Para>DCE service administrators who are responsible for a particular DCE service
such as Security and have read and write permissions for
the data files for the respective
service.  You can assign a separate DCE Security
Service administrator, while a single cell administrator can have
responsibility for the remaining DCE services.
</Para>
</ListItem>
<ListItem>
<Para>A local DCE system administrator who is responsible for client setups
and has read and write permissions for the respective local files.
</Para>
</ListItem>
</ItemizedList>
<IndexTerm Id="OSFAGI.FILE.indx.9" SpanEnd="OSFAGI.FILE.indx.8">
<IndexTerm Id="OSFAGI.FILE.indx.10" SpanEnd="OSFAGI.FILE.indx.1">
</Sect1>
</Chapter>
<!--+ 09/15/96 22:56:32
    | tagMorph:  $Id: 5_file.sgm,v 1.1.2.9 1996/12/17 19:27:55 damon Exp $
    | tagMorph library:  $Id: 5_file.sgm,v 1.1.2.9 1996/12/17 19:27:55 damon Exp $
    | sml-to-docbook:  1.21
    +-->

<!--
# COPYRIGHT NOTICE
# Copyright (c) 1990-1996 Open Software Foundation, Inc. 
# ALL RIGHTS RESERVED (DCE). See the file named COPYRIGHT.DCE in the 
# src directory for the full copyright text. 
# 
# 
# HISTORY
# $Log: 8_config.sgm,v $
# Revision 1.1.2.13  1996/12/17  19:28:04  damon
# 	Expanded OSF C O P Y R I G H T   N O T I C E
# 	[1996/12/17  19:21:46  damon]
#
# Revision 1.1.2.12  1996/12/14  18:31:06  weir
# 	Removed Adept-indigestible comment strings
# 	[1996/12/14  18:30:57  weir]
# 
# Revision 1.1.2.11  1996/12/14  18:27:26  weir
# 	Removed Adept-indigestible comment strings
# 	[1996/12/14  18:27:00  weir]
# 
# Revision 1.1.2.10  1996/12/03  18:58:17  carrig
# 	{enh,R1.2.2}
# 	Key conventions
# 	[1996/12/03  18:56:59  carrig]
# 
# Revision 1.1.2.9  1996/11/29  21:09:30  carrig
# 	{enh,R1.2.2}
# 	Put in Willie's comments
# 	[1996/11/29  21:07:42  carrig]
# 
# Revision 1.1.2.8  1996/11/23  22:28:10  weir
# 	Fixing correct versions in tree
# 	[1996/11/23  22:27:40  weir]
# 
# Revision 1.1.2.7  1996/11/23  22:06:00  weir
# 	Merged with changes from 1.1.2.6
# 	[1996/11/23  22:05:53  weir]
# 
# 	Added new sections
# 	[1996/11/23  22:01:48  weir]
# 
# Revision 1.1.2.6  1996/10/15  17:47:25  carrig
# 	{enh,R1.2.2}
# 	Minor changes for editor
# 	[1996/10/15  17:46:04  carrig]
# 
# Revision 1.1.2.5  1996/10/14  20:04:16  carrig
# 	{enh,R1.2.2}
# 	Ready
# 	[1996/10/14  19:57:10  carrig]
# 
# Revision 1.1.2.4  1996/10/07  20:35:24  weir
# 	Scaled figures, added per-file FPIs, fixed Informal Tables
# 	[1996/10/07  20:34:33  weir]
# 
# Revision 1.1.2.3  1996/10/01  16:18:12  weir
# 	Mistakenly checked out
# 	[1996/10/01  16:16:01  weir]
# 
# Revision 1.1.2.2  1996/09/29  17:34:40  weir
# 	Fixed organization
# 	[1996/09/29  17:33:32  weir]
# 
# Revision 1.1.2.1  1996/09/24  21:08:23  weir
# 	Initial submission
# 	[1996/09/24  21:07:38  weir]
# 
# $EndLog$
# 
-->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
<!-- Below are the string definitions for the DCE documentation titles. -->
<!ENTITY DCEIn "<CiteTitle>Introduction to OSF DCE</CiteTitle>" >
<!ENTITY DCEDg "<CiteTitle>OSF DCE Application Development Guide</CiteTitle>" >
<!ENTITY DCEDi "<CiteTitle>OSF DCE Application Development Guide&mdash;Introduction and Style Guide</CiteTitle>" >
<!ENTITY DCEDk "<CiteTitle>OSF DCE Application Development Guide&mdash;Core Components</CiteTitle>" >
<!ENTITY DCEDd "<CiteTitle>OSF DCE Application Development Guide&mdash;Directory Services</CiteTitle>" >
<!ENTITY DCEDr "<CiteTitle>OSF DCE Application Development Reference</CiteTitle>" >
<!ENTITY DCEAg "<CiteTitle>OSF DCE Administration Guide</CiteTitle>" >
<!ENTITY DCEAi "<CiteTitle>OSF DCE Administration Guide&mdash;Introduction</CiteTitle>" >
<!ENTITY DCEAc "<CiteTitle>OSF DCE Administration Guide&mdash;Core Components</CiteTitle>" >
<!ENTITY DCEAd "<CiteTitle>OSF DCE DFS Administration Guide and Reference</CiteTitle>" >
<!ENTITY DCEAx "<CiteTitle>OSF DCE GDS Administration Guide and Reference</CiteTitle>" >
<!ENTITY DCEAe "<CiteTitle>OSF DCE Administration Guide&mdash;Extended Services</CiteTitle>" >
<!ENTITY DCEAr "<CiteTitle>OSF DCE Command Reference</CiteTitle>" >
<!ENTITY DCEPg "<CiteTitle>OSF DCE Porting and Testing Guide</CiteTitle>" >
<!ENTITY DCETs "<CiteTitle>OSF DCE Technical Supplement</CiteTitle>" >
<!ENTITY DCETg "<CiteTitle>OSF DCE Problem Determination Guide</CiteTitle>" >
<!ENTITY DCEDc "<CiteTitle>Application Environment Specification/Distributed Computing</CiteTitle>" >
<!ENTITY DCERe "<CiteTitle>OSF DCE Release Notes</CiteTitle>" >
<!ENTITY DCETm "<CiteTitle>OSF DCE Testing Guide</CiteTitle>" >
<!ENTITY DCEHa "<CiteTitle>OSF DCE/File-Access Administration Guide and Reference</CiteTitle>" >
<!ENTITY DCEHu "<CiteTitle>OSF DCE/File-Access User's Guide</CiteTitle>" >
<!ENTITY DCEHt "<CiteTitle>OSF DCE/File-Access FVT User's Guide</CiteTitle>" >
<!--                                              -->
]>
-->
<!-- -->
<!-- OLD HISTORY-->
<!-- Revision 1.1.7.2  1996/07/18  12:25:18  sherman-->
<!-- 	{def,13555,R1.2.2}-->
<!-- 	dcecp command replaces cdscp-->
<!-- 	[1996/07/18  12:24:27  sherman]-->
<!---->
<!-- Revision 1.1.7.1  1996/06/19  18:58:43  wardr-->
<!-- 	{enh,R1.2.2}-->
<!-- 	Update for sgml conversion-->
<!-- 	[1996/06/19  18:23:53  wardr]-->
<!-- -->
<!-- Revision 1.1.5.2  1996/03/20  20:46:55  wardr-->
<!-- 	{edit R1.2.1}-->
<!-- 	Release Edits-->
<!-- 	[1996/03/20  20:45:21  wardr]-->
<!-- -->
<!-- Revision 1.1.5.1  1996/03/10  20:54:28  weir-->
<!-- 	Checkin to cement files in 1.2 tree-->
<!-- 	[1996/03/10  20:53:37  weir]-->
<!-- -->
<!-- Revision 1.1.2.17  1994/11/16  17:24:34  steto-->
<!-- 	{def, CR10420, R1.1PH, Clarified the keyseed description.}-->
<!-- 	[1994/11/16  17:23:11  steto]-->
<!-- -->
<!-- Revision 1.1.2.16  1994/11/02  18:30:04  steto-->
<!-- 	{def, CR10420, R1.1, Updated keyseed info.}-->
<!-- 	[1994/11/02  18:29:24  steto]-->
<!-- -->
<!-- 	{edt, R1.1, Checked out to make PH copy.}-->
<!-- 	[1994/10/26  17:05:38  steto]-->
<!-- -->
<!-- Revision 1.1.2.15  1994/10/20  17:00:47  steto-->
<!-- 	{edt, R1.1, Made final edits.}-->
<!-- 	[1994/10/20  17:00:22  steto]-->
<!-- -->
<!-- Revision 1.1.2.14  1994/10/19  23:21:17  zahn-->
<!-- 	{edt,5284,R1.1}-->
<!-- -->
<!-- 	Added technical review comments.-->
<!-- 	[1994/10/19  23:21:02  zahn]-->
<!-- -->
<!-- Revision 1.1.2.13  1994/10/19  21:55:33  neilson-->
<!-- 	Automatic fix to mistake in .zA-.zZ-->
<!-- 	[1994/10/19  21:54:38  neilson]-->
<!-- -->
<!-- Revision 1.1.2.12  1994/10/19  21:25:46  steto-->
<!-- 	{edt, R1.1, Made final edits.}-->
<!-- 	[1994/10/19  21:24:48  steto]-->
<!-- -->
<!-- Revision 1.1.2.11  1994/10/13  23:07:21  steto-->
<!-- 	{enh, R1.1, Incorporated review comments.}-->
<!-- 	[1994/10/13  23:04:17  steto]-->
<!-- -->
<!-- Revision 1.1.2.10  1994/10/13  17:05:18  norb-->
<!-- 	changes for pwd mgmt-->
<!-- 	[1994/10/13  17:03:31  norb]-->
<!-- -->
<!-- Revision 1.1.2.9  1994/08/23  19:50:24  zahn-->
<!-- 	{enh,9973,R1.1}-->
<!-- 	Made technical corrections to csrc-->
<!-- 	descriptions in this chapter and rewrote-->
<!-- 	to be more specific to cell admin audience-->
<!-- 	(and not to DCE licensees).-->
<!-- 	[1994/08/23  19:50:04  zahn]-->
<!-- -->
<!-- Revision 1.1.2.8  1994/07/12  22:03:13  jshirley-->
<!-- 	{def,10220,R1.1} Remove reference to rpcd and sec_clientd-->
<!-- 	[1994/07/12  22:02:18  jshirley]-->
<!-- -->
<!-- Revision 1.1.2.7  1994/06/13  18:13:15  devobj-->
<!-- 	cr10872 - fix copyright-->
<!-- 	[1994/06/13  18:12:59  devobj]-->
<!-- -->
<!-- Revision 1.1.2.6  1994/05/26  15:28:10  steto-->
<!-- 	{emh, R1.1}-->
<!-- 	Incorporated reviwer's first draft comments.-->
<!-- 	[1994/05/26  15:27:50  steto]-->
<!-- -->
<!-- Revision 1.1.2.5  1994/05/15  01:50:22  steto-->
<!-- 	{enh, ?, edt, R1.1}-->
<!-- 	Updtaed for the R1.1 version of the dce_config script.-->
<!-- 	[1994/05/15  01:49:46  steto]-->
<!-- -->
<!-- Revision 1.1.2.4  1994/05/06  21:38:32  zahn-->
<!-- 	{enh,9973,R1.1}-->
<!-- -->
<!-- 	Added initial code set registry building-->
<!-- 	information for cell admins.-->
<!-- 	[1994/05/06  21:38:03  zahn]-->
<!-- -->
<!-- Revision 1.1.2.3  1993/11/05  21:00:25  millette-->
<!-- 	(enhancement, 8595, R1.0.3)-->
<!-- 	Minor editorial changes-->
<!-- 	[1993/11/04  22:34:45  millette]-->
<!-- -->
<!-- Revision 1.1.2.2  1993/09/24  19:15:55  millette-->
<!-- 	(enhancement, 8595, R1.0.3)-->
<!-- 	dce_config chapters rewritten-->
<!-- 	[1993/09/24  19:14:36  millette]-->
<!-- -->
<Chapter Id="OSFAGI.CNF.div.1">
<Title>Configuring DCE</Title>
<Para>This chapter describes how to use the <Command>dce_config</Command> 
script to configure DCE software once that software has been installed.
</Para>
<Note>
<Para>Because of differences in DCE R1.1 platforms, the output in the sample 
procedures in this chapter may 
differ slightly from the output you see when you run the 
<Command>dce_config</Command> script.
</Para>
</Note>
<Para><IndexTerm Id="OSFAGI.CNF.indx.1">
<Primary>code set registry</Primary>
<Secondary>creating</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.CNF.indx.2">
<Primary>csrc</Primary>
<Secondary>using</Secondary>
</IndexTerm>This chapter also describes how to use the Code Set Registry
Compiler (<Command>csrc</Command>) to build a code set registry once DCE 
software has been configured. This step is only necessary
if you are configuring an internationalized DCE cell,
which is a cell that supports RPC applications that use
a wide variety of languages other than U.S. English.
</Para>
<Sect1 Id="OSFAGI.CNF.div.2">
<Title>Prerequisites</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.3">
<Primary>configuration</Primary>
<Secondary>requirements</Secondary>
</IndexTerm>Before you can configure DCE software, you must have installed 
it on each machine that you are configuring.  See Chapter 7
for instructions on installing the DCE software.
</Para>
<Para>You must run <Command>dce_config</Command> on the machine you 
are configuring.  You cannot configure a machine 
remotely.  Additionally you must be logged into the local 
machine as root.
</Para>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.3">
<Title>Order of Configuration</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.4">
<Primary>configuration</Primary>
<Secondary>order</Secondary>
</IndexTerm>You must configure machines in a cell in the following order:
</Para>
<OrderedList>
<ListItem>
<Para>The master Security server 
</Para>
</ListItem>
<ListItem>
<Para>The initial CDS server
</Para>
</ListItem>
<ListItem>
<Para>A DTS server
</Para>
</ListItem>
<ListItem>
<Para>A single DTS time provider
</Para>
</ListItem>
<ListItem>
<Para>DCE client machines
</Para>
</ListItem>
<ListItem>
<Para>DFS servers, Security and CDS replicas, GDA servers, 
Password Management servers, 
and 
additional time servers
</Para>
</ListItem>
</OrderedList>
<Para>Note also that you must configure a CDS client 
on all Security server (master or replica) machines that are 
not running a CDS server.  You 
must also configure a Time client on all machines that are not running 
a Time server.  Be sure to configure the clients only after you 
have configured all servers.
</Para>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.4">
<Title>Split Server Configurations</Title>
<Para>If you configure the master Security server and the 
CDS initial server on different machines, the cell 
is said to have a split server configuration. 
<IndexTerm Id="OSFAGI.CNF.indx.5">
<Primary>split server configuration</Primary>
</IndexTerm>If you choose a split server configuration,
you must take some extra steps in the initial cell configuration
phase.  This is because every DCE machine must be configured as a DCE client,
including
machines that are also configured as some kind of DCE server machine.
However, a DCE client configuration cannot succeed unless a CDS
server is available.
Therefore, the initial Security server machine cannot immediately
be configured as a DCE client, but must wait until a CDS server
machine is configured.
</Para>
<Para>This is not a problem when the
master Security server and CDS server are configured on one machine.
However, in a split server configuration, you must first configure
the Security server, then configure the CDS server on another machine, and
then come back to the Security server machine and configure it
as a DCE client or as an additional server.  The following steps 
detail these actions:
<!-- -->
</Para>
<OrderedList>
<ListItem>
<Para>Configure Machine 1 as a Security server machine.
</Para>
</ListItem>
<ListItem>
<Para>Go to Machine 2 and configure it as a CDS server machine.
</Para>
</ListItem>
<ListItem>
<Para>Go back to Machine 1 and configure it as a DCE client.
</Para>
</ListItem>
</OrderedList>
<!-- -->
<Para>Note that if you configure the Security server machine as some
other kind of server machine (for example, as a DTS server), then it is configured as a DCE client. So the following
scenario also works:
<!-- -->
</Para>
<OrderedList>
<ListItem>
<Para>Configure Machine 1 as a Security server machine.
The <Command>dce_config</Command> script prompts you with the clock synchronization
question discussed in the following subsection.  When it does this, answer
<Literal>n</Literal>.
</Para>
</ListItem>
<ListItem>
<Para>Go to Machine 2 and configure it as a CDS server machine.
</Para>
</ListItem>
<ListItem>
<Para>Go back to Machine 1 and configure it as a DTS server.
</Para>
</ListItem>
</OrderedList>
<!-- -->
<Para>In this scenario, Step 3 causes Machine 1 to be configured as
a DCE client as well as a DTS server.
</Para>
<Para>Consult the &DCERe; for the current information on timing
and sequence constraints when bringing up split server cells.
</Para>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.5">
<Title>Clock Synchronization</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.6">
<Primary>configuration</Primary>
<Secondary>and clock synchronization</Secondary>
</IndexTerm>All servers and clients 
being configured should have clocks that are at
least loosely synchronized.  Using the <SystemItem Class="EnvironVar">SYNCH_CLOCKS</SystemItem> 
environment variable described in Chapter 10,
you can specify that the clocks be synchronized automatically  
or that the user should be prompted to synchronize the clocks if they 
are out of synch by a specified amount.  For DFS configurations, 
the clocks should be synchronized automatically.
</Para>
<Para>While it is not required, it is recommended that you configure the
Security master server machine with a DTS server.  This allows
Security clients to synchronize clocks with the Security server machine.
</Para>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.6">
<Title>Security and CDS Database Size</Title>
<Para>Both the Security servers (master and replicas) and the CDS servers 
(initial and replicas) maintain databases.
The machine on which a Security server or a CDS server is 
configured must have sufficient disk space 
to accommodate these databases. 
The size required for the Security and CDS databases depends on the platform 
and the operating system.  Choose machines large enough to accommodate 
future growth.
</Para>
<Para>Use the following general requirements for the Security database:
<IndexTerm Id="OSFAGI.CNF.indx.7">
<Primary>Security database</Primary>
<Secondary>size</Secondary>
</IndexTerm></Para>
<ItemizedList>
<ListItem>
<Para>For each principal:  1000 bytes of physical memory and 700 bytes 
of disk space.
</Para>
</ListItem>
<ListItem>
<Para>For each account:  1700 bytes of physical memory and 300 bytes of 
disk space.
</Para>
</ListItem>
</ItemizedList>
<Para>The virtual size of the CDS databases increases substantially as 
new directories and objects are added. When entries are removed, 
the memory associated 
with them may be reused but is not deallocated. Although it can 
vary depending on the platform, each directory can use 
roughly 38.5 Kbytes of virtual space.  Process data size and paging space should 
also be considered. 
<IndexTerm Id="OSFAGI.CNF.indx.8">
<Primary>Cell Directory Service</Primary>
<Secondary>database size</Secondary>
</IndexTerm></Para>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.7">
<Title>Accessing the DCE Configuration Menu</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.9">
<Primary>DCE Configuration Menu</Primary>
</IndexTerm>All configuration functions are chosen from the DCE Configuration 
Menu.  To access the DCE Configuration Menu, at the DCE Main Menu, 
type <Literal>2</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the DCE Configuration Menu. 
</Para>
<InformalExample>
<Para><ProgramListing>DCE Configuration Menu (on host_name)

  1. Initial Cell Configuration
  2. Additional Server Configuration
  3. DCE Client
  4. DFS Client

 98. Return to previous menu
 99. Exit


  selection: 
</ProgramListing></Para>
</InformalExample>
<Para>From the DCE Configuration Menu, you can choose to configure any of the 
following items by typing the number associated 
with your selection at the <ComputerOutput>selection</ComputerOutput> prompt:
</Para>
<ItemizedList>
<ListItem>
<Para>Selection <Literal>1</Literal>, <ComputerOutput>Initial Cell Configuration</ComputerOutput>, lets you 
configure the master Security server, the initial CDS server,
and DTS servers. 
</Para>
</ListItem>
<ListItem>
<Para>Selection <Literal>2</Literal>, <ComputerOutput>Additional Server Configuration</ComputerOutput>, lets you 
configure the following servers:
</Para>
<ItemizedList>
<ListItem>
<Para>Replicas of the master Security server
</Para>
</ListItem>
<ListItem>
<Para>Replicas of the  initial CDS server
</Para>
</ListItem>
<ListItem>
<Para>DTS servers
</Para>
</ListItem>
<ListItem>
<Para>DFS System Control Machine
</Para>
</ListItem>
<ListItem>
<Para>DFS Private File server
</Para>
</ListItem>
<ListItem>
<Para>DFS File server
</Para>
</ListItem>
<ListItem>
<Para>DFS Fileset Location Database server
</Para>
</ListItem>
<ListItem>
<Para>GDA server
</Para>
</ListItem>
<ListItem>
<Para>Password Management Server
</Para>
</ListItem>
</ItemizedList>
</ListItem>
<ListItem>
<Para>Selection <Literal>3</Literal>, <ComputerOutput>DCE Client</ComputerOutput>, lets you configure 
DCE client machines for all components except DFS.
</Para>
</ListItem>
<ListItem>
<Para>Selection <Literal>4</Literal>, <ComputerOutput>DFS Client</ComputerOutput>, lets you configure 
DFS client machines.
</Para>
</ListItem>
</ItemizedList>
<Para>The remainder of this subsection takes you through the steps to perform each 
type of configuration available from the DCE Configuration Menu.  Note that in 
the sample output, the <SystemItem Class="EnvironVar">DCE_DISPLAY_THRESHOLD</SystemItem> environment variable
is set to the default, <SystemItem Class="EnvironVar">SUMMARY</SystemItem>, therefore <Command>dce_config</Command> 
displays only Error, Warning, and Summary messages.  
</Para>
<Para>See Chapter 10 for more information about controlling message logging. 
</Para>
<Sect2 Id="OSFAGI.CNF.div.8">
<Title>The Initial Privileged User</Title>
<Para>When you configure the master Security server, 
you  
create an account for the initial privileged user of the registry database, 
login to that account, and are authenticated as the 
privileged user.  If you exit from the <Command>dce_config</Command> script, 
re-invoke it, and choose <ComputerOutput>Configure</ComputerOutput> from the main menu, you will be prompted to log in as this privileged user.  
Additionally, at other points in the configuration process, 
you may be prompted to reauthenticate as the 
privileged user. 
</Para>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.9">
<Title>Specifying the Removal of Previous Configurations</Title>
<Para>When you configure your cell initially, by selecting items from the Initial Cell Configuration menu, 
or when you configure DCE clients or DFS clients, you may receive the following prompt:
</Para>
<InformalExample>
<Para><ProgramListing>Do you wish to first remove all remnants of
previous DCE configurations for all components (y/n)?
You should do so if you plan on re-configuring
all existing DCE components now. 
</ProgramListing></Para>
</InformalExample>
<Para>This prompt appears once in each <Command>dce_config</Command> session.  This means that 
once you answer it, it will not appear again unless you exit <Command>dce_config</Command> and 
then restart <Command>dce_config</Command>.  
The prompt 
asks whether or not you want to remove the
previous DCE configurations.  
</Para>
<Para>To answer the prompt, you have two choices:
</Para>
<ItemizedList>
<ListItem>
<Para>Type <Literal>n</Literal> and press <Literal>&lt;Return&gt;</Literal> if any of the following are true:
</Para>
<ItemizedList>
<ListItem>
<Para>This the first time you have configured DCE on the machine  
or you removed the previous configuration with the <Literal>REMOVE</Literal> option
</Para>
</ListItem>
<ListItem>
<Para>If you are reconfiguring only some of the components
</Para>
</ListItem>
</ItemizedList>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> and press <Literal>&lt;Return&gt;</Literal> if you are reconfiguring all 
components.  
</Para>
<Para>If you enter <Literal>y</Literal>, <Command>dce_config</Command> stops all DCE daemons and deletes 
any data files associated with the daemons.  It displays messages telling you 
what it is doing while it does it. 
</Para>
</ListItem>
</ItemizedList>
</Sect2>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.10">
<Title>Performing Initial Cell Configuration</Title>
<Para>This section describes the tasks to configure the master Security server, 
the initial CDS server, and DTS time servers and time providers.  
These servers are the basic servers required for any cell.  
You must configure the master Security server and the initial 
CDS server before you can configure client machines, any 
DFS servers, and Security and CDS replicas.  
See ``Configuring Additional Servers'' for information on configuring 
client machines, DFS servers, and Security and CDS replicas.
</Para>
<Para>In the subsections that follow, all procedures start at the 
Initial Cell Configuration menu. 
</Para>
<Sect2 Id="OSFAGI.CNF.div.11">
<Title>Accessing the Initial Cell Configuration menu</Title>
<Para>All initial cell configuration functions are accessed from 
the Initial Cell Configuration menu. 
<IndexTerm Id="OSFAGI.CNF.indx.10">
<Primary>Initial Cell Configuration menu</Primary>
</IndexTerm>To access the Initial Cell Configuration menu, 
at the DCE Configuration Menu, type <Literal>1</Literal> and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring initial cell...
</ProgramListing></Para>
</InformalExample>
<Para>and then the Initial Cell Configuration menu.
</Para>
<InformalExample>
<Para><ProgramListing>Initial Cell Configuration ( on host_name )

  1. Initial Security Server
  2. Initial CDS Server
  3. Initial DTS Server

 98. Return to previous menu
 99. Exit

 selection:
</ProgramListing></Para>
</InformalExample>
<Note>
<Para>You can enter more than one selection at a time from the DCE Configuration
Menu.  Just be sure to separate the selections by spaces.  
For example to configure the master Security server and the 
initial CDS server, you would enter <Literal>1 2</Literal>.  This function can be
especially useful if you have set the environment variables described
in Chapter 10.
</Para>
</Note>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.12">
<Title>Configuring the Master Security Server</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.11">
<Primary>Security server</Primary>
<Secondary>configuring the master</Secondary>
</IndexTerm>You must configure the master Security server before any 
other machine in the cell.  As part of the master Security server 
configuration, <Command>dce_config</Command> creates the cell's initial 
privileged user and the registry database, which will contain 
users and accounts.   
Once the master is in place, you can create Security 
server replicas on other machines.
</Para>
<Para><!--************************************
.H 4 "Results of the Master Security Server Configuration"
.P
When you configure the master security server, &bsol;*Ldce_config&bsol;*O does the following:
.AL
.LI
Creates the following files on the configured machine:
.ML
.LI
&bsol;*L/opt/dcelocal/dce_cf.db&bsol;*O&bsol;(emThe DCE configuration file, 
.iX "dce_cf.db"
.iX "configuration file" "dce_cf.db"
which contains the name of the machine being configured from 
which the host principal name is derived and the 
name of the machine's cell
.LI
&bsol;*L/krb5/krb.conf&bsol;*O&bsol;(emThe Kerberos configuration. 
.iX "krb_conf"
.iX "configuration file" "krb_conf" 
file, which contains the name of the machine being configured 
and the name of the machine's cell
.LE
.LI
Adds the following entry to &bsol;*L/etc/services&bsol;*O:
.iS
kerberos       88/udp		kdc
.iE
The registered Kerberos IP port is 88.
If an existing Kerberos port entry is found with a 
port number other than 88, &bsol;*Ldce_config&bsol;*O asks 
if it should the existing Kerberos port entry to 88.
Unless you have a reason to do otherwise, you should change it to 88.
.LI
Starts the  following daemons:
.LI
&bsol;*Ldced&bsol;*O, which allows the Security server to register its endpoint.
For clients, the Security validation Service of &bsol;*Ldced&bsol;*O
periodically refreshes the ticket-granting ticket for the machine's principal.
The Security Validation Service  also validates the master Security server 
contacted during &bsol;*Ldce_login&bsol;*O command execution.
.LI
*&bsol;Lsecd&bsol;*O, the Security server
.LI
BELOW IS ONLY FOR CLIENTS
.P
.LE
.LI
Executes the &bsol;*Lsec_create_db&bsol;*O
command to create the registry database.
.LI
Assigns the cell administrator to the following groups:
.P
&bsol;*Lacct-admin&bsol;*O
.nL
&bsol;*Lsubsys/dce/sec-admin&bsol;*O
.nL
&bsol;*Lsubsys/dce/cds-admin&bsol;*O
.nL
&bsol;*Lsubsys/dce/dts-admin&bsol;*O
.nL
&bsol;*Lsubsys/dce/dfs-admin&bsol;*O
.nL
&bsol;*Lsubsys/dce/dskl-admin&bsol;*O
.LI
Creates the &bsol;*Lkeytab&bsol;*O entries for the
&bsol;*L/hosts/&bsol;*V&lt;hostname&gt;&bsol;*L/self&bsol;*O principal.
.LE
.H 4 "Configuring the Master Security Server"
**************************
-->
</Para>
<Para>To configure the master Security server:
</Para>
<OrderedList>
<ListItem>
<Para>At the DCE Initial Cell Configuration menu, type <Literal>1</Literal> and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring initial Security Server... 
</ProgramListing></Para>
</InformalExample>
<Para>The <Command>dce_config</Command> script prompts for the name of the cell in 
which the servers are being configured: 
</Para>
<InformalExample>
<Para><ProgramListing>Enter the name of your cell (without /.../): 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the cell and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following message:  
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Starting dced... 
</ProgramListing></Para>
</InformalExample>
<Para>The <Command>dce_config</Command> script displays the following prompt:
</Para>
<InformalExample>
<Para><ProgramListing>Enter keyseed for initial database master key:
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.12">
<Primary>keyseed</Primary>
<Secondary>entering during configuration</Secondary>
</IndexTerm>
<Para>Type in the text string for the keyseed, which is a temporary
DES key that is used to generate the registry's
master key (the key that the registry will use for account key
creation).  Press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The text you enter should not be easily guessed.  Note that it
is not displayed as you type it.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">Enter desired principal name for the Cell Administrator: (cell_admin)
</ProgramListing></Para>
</InformalExample>
<Para><IndexTerm Id="OSFAGI.CNF.indx.13">
<Primary>initial privileged registry user</Primary>
<Secondary>defining during configuration</Secondary>
</IndexTerm>Type the name of the principal who will be the initial privileged user 
of the registry database (known as the registry creator) and 
press <Literal>&lt;Return&gt;</Literal>.  You will use the account created by <Command>dce_config</Command> for 
the principal you name here to log in to the DCE during subsequent component 
configurations.  
</Para>
<Para>The <Command>dce_config</Command> script prompts: 
</Para>
<InformalExample>
<Para><ProgramListing>Enter desired password for the Cell Administrator:
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the password to be assigned to the initial privileged user account 
and press <Literal>&lt;Return&gt;</Literal>. Note that if you use the default password, <Literal>-dce-</Literal> you 
should change it to a more secure password after DCE configuration 
is complete. 
</Para>
<Para>The <Command>dce_config</Command> script prompts for the password again to 
ensure it is correct:
</Para>
<InformalExample>
<Para><ProgramListing>Re-enter desired password: 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the password again and press <Literal>&lt;Return&gt;</Literal>. 
</Para>
<Para>The <Command>dce_config</Command> prompts: 
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">S:****** The current highest UNIX ID for persons on this node is 30124.
        Enter the starting point to be used for UNIX ID's that
        are automatically generated by the Security Service
        when a principal is added using "rgy_edit": (30224)
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.14">
<Primary>principal UNIX IDs</Primary>
<Secondary>defining during configuration</Secondary>
</IndexTerm>
<Para>Type a UNIX ID number that will be used as the principal UNIX ID 
at which the 
Security server will start assigning automatically generated
principal UNIX IDs and press <Literal>&lt;Return&gt;</Literal>.  
The default is the value of the 
highest principal UNIX ID on the 
machine being configured, incremented by the value of the <Literal>UID_GAP</Literal> 
environment variable. Although 
the value you supply is not required to be  
higher than the machine's highest principal UNIX ID, if you supply a 
value that is less than or equal to 
the highest currently used principal UNIX ID, <Command>dce_config</Command> 
issues a warning message and prompts you to reenter the UNIX ID.
</Para>
<Para>The <Command>dce_config</Command> script prompts: 
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">S:****** The current highest UNIX ID for groups is 26.
        Enter the starting point to be used for UNIX ID's that
        are automatically generated by the Security Service
        when a group is added using "rgy_edit": (126)
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.15">
<Primary>group UNIX IDs</Primary>
<Secondary>defining during configuration</Secondary>
</IndexTerm>
<Para>Type a UNIX ID number that will be used as the group UNIX ID at which the 
Security server will start assigning automatically generated
group UNIX IDs and press <Literal>&lt;Return&gt;</Literal>.  
The default is the value of the 
highest group UNIX ID on the 
machine incremented by the value of the <Literal>UID_GAP</Literal> 
environment variable. Although the value you supply is not required to be 
higher than the machine's highest group UNIX ID, if you supply a 
value that is less than or equal to 
the highest currently used group UNIX ID, <Command>dce_config</Command> 
issues a warning message and prompts you to reenter the UNIX ID.
</Para>
<Para>The <Command>dce_config</Command> script starts the <Command>secd</Command> 
server and initializes the registry database.  As it does, 
it displays:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Starting secd...
S:****** Checking for active sec_client service...
S:****** Initializing the registry database... 
</ProgramListing></Para>
</InformalExample>
<Para>When the master Security server configuration is complete, 
<Command>dce_config</Command> returns the Initial Cell Configuration menu.
</Para>
</ListItem>
</OrderedList>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.13">
<Title>Configuring the Initial CDS Server </Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.16">
<Primary>Cell Directory Server server</Primary>
<Secondary>configuration initial</Secondary>
</IndexTerm>The initial CDS server must in place for cell operation and before any 
of the cell's client machines are configured.  Other 
additional CDS servers can configured on client machines. 
</Para>
<Para>To configure the Initial CDS server:
</Para>
<OrderedList>
<ListItem>
<Para>At the Initial Cell Configuration menu, type <Literal>2</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following messages:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring initial CDS Server...
S:****** Checking for active sec_client service... 
</ProgramListing></Para>
</InformalExample>
<Para>Then, the <Command>dce_config</Command> script prompts:
<IndexTerm Id="OSFAGI.CNF.indx.17">
<Primary>multiple LANs</Primary>
<Secondary>defining during configuration</Secondary>
</IndexTerm></Para>
<InformalExample>
<Para><ProgramListing role="page-wide">Create LAN profile so clients and servers can be 
divided into profile groups for higher performance in a multi-LAN cell? (n)
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>At this point you have two choices:
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>y</Literal> to configure the machine with multiple local area 
network (LAN) capabilities and press <Literal>&lt;Return&gt;</Literal>.  You may want to use multiple 
LANs to organize how applications find objects in the namespace.  
When you respond <Literal>y</Literal>, the <Command>dce_config</Command> script creates a LAN profile
that allows the DTS clerks to synchronize with DTS servers on the local LAN.
</Para>
<Para>The <Command>dce_config</Command> script prompts for the name of the LAN:
</Para>
<InformalExample>
<Para><ProgramListing>What is the name of the LAN?
</ProgramListing></Para>
</InformalExample>
<Para>Type the name and press <Literal>&lt;Return&gt;</Literal>.  You can enter 
any arbitrary name.  The name is used by <Command>dce_config</Command> 
to store cell profile information. 
</Para>
</ListItem>
<ListItem>
<Para>Type <Literal>n</Literal> to not configure the machine with multiple LAN 
capabilities and press <Literal>&lt;Return&gt;</Literal>.
</Para>
</ListItem>
</OrderedList>
<Para>The <Command>dce_config</Command> script completes the 
installation, starts the <Command>cdsadv</Command> and <Command>cdsd</Command> servers, 
creates the LAN profile (if necessary), and sets the appropriate ACLs.  
It displays the actions it takes as it takes them.
</Para>
<Para>When the configuration is complete, <Command>dce_config</Command> returns the DCE Initial 
Cell Configuration Menu.
</Para>
</ListItem>
</OrderedList>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.14">
<Title>Configuring a DTS Server</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.18">
<Primary>Distributed Time Service servers</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>A DTS Clerk should be configured on each machine in a 
cell that consists of more than one machine.  
A minimum of three DTS servers is recommended for any cell containing  
three or more machines. 
</Para>
<Para>Note that you can use DTS commands to reconfigure DTS after the 
initial configuration is complete.  See the &DCEAc; for more information.
</Para>
<Para>You can configure two types of DTS machines:
</Para>
<ItemizedList>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.19">
<Primary>Distributed Time Service servers</Primary>
<Secondary>types</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.CNF.indx.20">
<Primary>DTS Clerks</Primary>
</IndexTerm>
<Para><Literal>Clerks</Literal>&mdash;DTS clerks receive time values and adjust the
system clock accordingly.  Most DTS daemons are configured as clerks.
</Para>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.21">
<Primary>DTS Servers</Primary>
</IndexTerm>
<Para><Literal>Servers</Literal>&mdash;DTS servers synchronize times in the cell in addition to 
performing DTS clerk tasks.  You can configure two types of servers: 
global servers for cells with multiple LANs and local servers for cells 
without multiple LANS.
</Para>
</ListItem>
</ItemizedList>
<Para><IndexTerm Id="OSFAGI.CNF.indx.22">
<Primary>DTS</Primary>
<Secondary>time</Secondary>
<Tertiary>providers"</Tertiary>
</IndexTerm>You can optionally configure DTS servers with a time provider. 
A time provider obtains the time either from the system clock on the
machine on which the server is running a null time provider or from an
outside time source, such as radio, telephone, or satellite
(an NTP time provider).  The NTP
time provider interfaces with a host running the NTP time service, which
in turn should access a reliable time source.  
</Para>
<Para>You configure your cell's DTS servers first, then designate one 
of them as the location of a time provider, as well.  Section 8.7.4.3
provides instructions for configuring a null or NTP time provider on a
server machine.
</Para>
<Sect3 Id="OSFAGI.CNF.div.15">
<Title>Accessing the DTS Configuration Menu</Title>
<Para>DTS configuration is performed from the DTS Configuration Menu.  
To access this menu, at the Initial Cell Configuration menu, 
type <Literal>3</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following messages:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring initial DTS services
S:****** Please wait for user authentication and authorization...
</ProgramListing></Para>
</InformalExample>
<Para>and then the DTS Configuration Menu.  
<IndexTerm Id="OSFAGI.CNF.indx.23">
<Primary>DTS Configuration Menu</Primary>
</IndexTerm></Para>
<InformalExample>
<Para><ProgramListing>DTS Configuration Menu

  1. DTS Local Server
  2. DTS Global Server (needed only in multi-LAN cells)
  3. DTS Clerk
  4. DTS Time Provider

  98. Return to previous menu
  99. Exit

  selection:
</ProgramListing></Para>
</InformalExample>
</Sect3>
<Sect3 Id="OSFAGI.CNF.div.16">
<Title>Configuring Local Servers, Global Servers, and Clerks</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.24">
<Primary>Local DTS Server</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>You can configure a single machine either as a server (local or global) or
as a clerk, but not both.  To configure a local server, global server, or
clerk, type the appropriate selection number at the DTS Configuration Menu
and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>If you configured a local server, <Command>dce_config</Command> displays:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring DTS Local Server...
S:****** Waiting for node self-identity to be established...
S:****** Starting dtsd...
S:****** This node is now a DTS local server.
</ProgramListing></Para>
</InformalExample>
<Para>If you configured a global server, <Command>dce_config</Command> displays:
<IndexTerm Id="OSFAGI.CNF.indx.25">
<Primary>Global DTS Server</Primary>
<Secondary>configuring</Secondary>
</IndexTerm></Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring DTS Global Server...
S:****** Waiting for node self-identity to be established...
S:****** Starting dtsd...
S:****** This node is now a DTS global server.
</ProgramListing></Para>
</InformalExample>
<Para>If you configured a Clerk, <Command>dce_config</Command> displays:
<IndexTerm Id="OSFAGI.CNF.indx.26">
<Primary>DTS Clerk</Primary>
<Secondary>configuring</Secondary>
</IndexTerm></Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring DTS Clerk...
S:****** Starting dtsd...
S:****** This node is now a DTS clerk.
</ProgramListing></Para>
</InformalExample>
<Para>When the configuration is complete, <Command>dce_config</Command> returns the DTS 
Configuration Menu.
</Para>
</Sect3>
<Sect3 Id="OSFAGI.CNF.div.17">
<Title>Configuring a Time Provider on a DTS Server</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.27">
<Primary>DTS time provider</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>You should configure one of the DTS servers in the cell with a provider of
the accurate time.  You can configure two types of time providers:
a null time provider and a NTP time provider. 
</Para>
<Para>To configure a DTS server as a time provider, perform the following steps:
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>4</Literal> on the 
DTS Configuration Menu and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays The DTS Time Provider Menu. 
</Para>
<InformalExample>
<Para><ProgramListing>DTS Time Provider Menu

1. Configure a NULL time provider 
2. Configure an NTP time provider
         
98. Return to previous menu 
99. Exit
         
selection: 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Your next action depends on the kind of time provider you are 
configuring.
</Para>
<OrderedList>
<ListItem>
<Para>To configure the server as a null time provider, type <Literal>1</Literal> and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script configures the server and returns DTS
Configuration Menu. 
</Para>
</ListItem>
<ListItem>
<Para>To configure the server as an NTP time provider, type <Literal>2</Literal> and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para><Command>dce_config</Command> prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the hostname where the NTP server is running:
</ProgramListing></Para>
</InformalExample>
<Para>Enter the full pathname to the host and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script configures the time provider and returns the
DTS Configuration Menu.
</Para>
</ListItem>
</OrderedList>
</ListItem>
</OrderedList>
</Sect3>
</Sect2>
</Sect1>
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- FOLLOWING WAS HAND-CONVERTED FROM LATE SML SUBMISSION...         -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- .zA def,13493,R1.2.2,Added dced_acl_patcher ==================== -->
<Sect1 RevisionFlag="Changed"><Title>Modifying ACLs on the Master Security Server</Title>
<!-- -->
<Para>
<IndexTerm>
<Primary>dced_acl_patcher</Primary></IndexTerm>
<!-- -->
<IndexTerm>
<Primary>Security Server</Primary>
<Secondary>changing ACLs</Secondary>
</IndexTerm>
<!-- -->
<IndexTerm>
<Primary>Security Server</Primary>
<Secondary>remote administration</Secondary>
</IndexTerm>
<!-- -->
<IndexTerm>
<Primary>ACL</Primary>
<Secondary>modifying on Security Server</Secondary>
</IndexTerm>
<!-- -->
<IndexTerm>
<Primary>ACL</Primary>
<Secondary>remote administration</Secondary>
</IndexTerm>
<!-- -->
<IndexTerm>
<Primary>ACL</Primary>
<Secondary><Command>dced_acl_patcher</Command></Secondary>
</IndexTerm>
<!-- -->
<IndexTerm>
<Primary>remote administration to Security Service</Primary>
</IndexTerm>
</Para>
<!-- -->
<Para>
Upon initial cell creation, security is strong and little remote access is
allowed &mdash; ACL settings on <Command>dced</Command> objects are tight.
To allow for more flexibility in remote administration,
you may want to modify the ACLs on certain <Command>dced</Command> objects. 
As root, run the <Command>dced_acl_patcher</Command> script on the master 
Security Server. This opens the ACL settings, while still preventing the
<Literal>cell_admin</Literal> from having root access to all machines in the cell 
via <Command>dced</Command>.</Para>
<Para>
To modify the ACLs, follow these steps:</Para>
<!-- -->
<OrderedList>
<ListItem>
<Para>
Log in as root on the master Security Server.</Para>
</ListItem>
<!-- -->
<ListItem>
<Para>
Kill <Command>dced</Command> and patiently wait for it to terminate &mdash;
termination can take up to several minutes.</Para>
<InformalExample>
<Para><ProgramListing>% <UserInput>
kill -s TERM <Symbol Role="Variable">pid</Symbol>
</UserInput></ProgramListing></Para>
</InformalExample>
</ListItem>
<!-- -->
<ListItem>
<Para>
Restart <Command>dced</Command> with the <Option>r</Option> option:</Para>
<InformalExample>
<Para><ProgramListing>% <UserInput>
dced -r</UserInput></ProgramListing></Para>
</InformalExample>
<Para>
Wait 30 seconds for <Command>dced</Command> to start.
</Para>
</ListItem>
<!-- -->
<ListItem>
<Para>
Run the <Command>dced_acl_patcher</Command> script, which does not prompt you
for information:</Para>
<InformalExample>
<Para><ProgramListing>% <UserInput>
dced_acl_patcher</UserInput></ProgramListing></Para>
</InformalExample>
</ListItem>
<!-- -->
</OrderedList>
<!-- -->
<Para>
See Appendix A, for a comparison of the ACLs as they exist before and after
running <Command>dced_acl_patcher</Command>.</Para>
</Sect1>
<!-- .zZ def,13493,R1.2.2,Added dced_acl_patcher ==================== -->
<!-- ================================================================ -->
<!-- ...END OF HAND-CONVERTED MATERIAL.                               -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<Sect1 Id="OSFAGI.CNF.div.18">
<Title>Configuring Additional Servers</Title>
<Para>Using the <Command>dce_config</Command> script, you can configure the following additional 
servers:
</Para>
<ItemizedList>
<ListItem>
<Para>Additional DTS servers
</Para>
</ListItem>
<ListItem>
<Para>DFS servers
</Para>
</ListItem>
<ListItem>
<Para>GDA servers
</Para>
</ListItem>
<ListItem>
<Para>Security server replicas
</Para>
</ListItem>
<ListItem>
<Para>CDS server replicas
</Para>
</ListItem>
<ListItem>
<Para>Password Management server
</Para>
</ListItem>
</ItemizedList>
<Para>Before you configure additional servers ensure that:
</Para>
<ItemizedList>
<ListItem>
<Para>The cell's master Security server and initial CDS server have been 
configured and started.
</Para>
</ListItem>
<ListItem>
<Para>The machine on which you are configuring additional servers has been 
configured as a DCE client.
</Para>
</ListItem>
<ListItem>
<Para>You are able to login as the initial privileged user of the 
Security database.
</Para>
</ListItem>
</ItemizedList>
<Sect2 Id="OSFAGI.CNF.div.19">
<Title>Accessing the Additional Server Configuration menu</Title>
<Para>All procedures to configure additional servers start at the 
Additional Server Configuration menu.  To access this menu, 
at the DCE Configuration Menu, type <Literal>2</Literal> and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following messages:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring additional server...
S:****** Please wait for user authentication and authorization... 
</ProgramListing></Para>
</InformalExample>
<Para>and then the Additional Server Configuration menu.
<IndexTerm Id="OSFAGI.CNF.indx.28">
<Primary>Additional Server Configuration menu</Primary>
</IndexTerm></Para>
<InformalExample>
<Para><ProgramListing>        Additional Server Configuration ( on <Symbol Role="Variable">host_name</Symbol> )


         1.  Additional CDS Server(s)
         2.  DTS
         3.  DFS System Control Machine
         4.  DFS Private File Server
         5.  DFS File Server
         6.  DFS Fileset Location Database Server
         7.  GDA Server
         8.  Replica Security Server
         9.  Auditing
         10. Password Management Server
         11. Unconfigure Password Management Server



        98. Return to previous menu
        99. Exit



        selection:
</ProgramListing></Para>
</InformalExample>
<Para>Note that if you have not been authenticated as the initial privileged 
user of the registry database in the current <Command>dce_config</Command> 
session, <Command>dce_config</Command> prompts you for the privileged user's name and 
password before it displays the Additional Server Configuration menu.
</Para>
<Para>The following subsections describe the steps to configure each type of 
additional server in order as they appear on the Additional Server
Configuration menu.
</Para>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.20">
<Title>Configuring Additional CDS Servers</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.29">
<Primary>clearinghouse</Primary>
<Secondary>configuring replicas</Secondary>
</IndexTerm>When you configure additional CDS servers, you create replicas of the 
clearinghouse database created during the configuration of the initial 
CDS server.  Replicas are useful to ensure the availability of name
information when the machine on which the initial CDS server runs is
unavailable.  A CDS server replica must be created on a different machine
than the one on which the master CDS server resides. 
</Para>
<Para>To configure the additional CDS servers:
<IndexTerm Id="OSFAGI.CNF.indx.30">
<Primary>Cell Directory Service servers</Primary>
<Secondary>configuring additional</Secondary>
</IndexTerm></Para>
<OrderedList>
<ListItem>
<Para>At the Additional Server Configuration menu, type <Literal>1</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Note>
<Para>If you attempt to configure an additional CDS server on the node where the
master CDS server is located, the <Command>dce_config</Command> script returns and error
message, and you must start again.
</Para>
</Note>
<Para>The <Command>dce_config</Command> script displays the following messages:
</Para>
<InformalExample>
<Para><ProgramListing>S:******  Configuring additional CDS server. 
S:******  Waiting for node self-identity to be established... 
</ProgramListing></Para>
</InformalExample>
<Para>Then the <Command>dce_config</Command> script starts the CDS client daemon, and prompts:
</Para>
<InformalExample>
<Para><ProgramListing>What is the name for this clearinghouse? 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name to be assigned to the CDS clearinghouse and press 
<Literal>&lt;Return&gt;</Literal>.  (The name assigned to the initial clearinghouse is 
in the form <Symbol Role="Variable">machine_name</Symbol><Literal>_ch</Literal>.  You may want to continue this 
convention in naming clearinghouse replicas.)
</Para>
<Note>
<Para>Existing documentation and <Command>dcecp</Command> task scripts assume that you will follow
this naming convention.
</Para>
</Note>
<Para>The <Command>dce_config</Command> script displays the following messages:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">S:******  Initializing the name space for additional CDS 
          Server... 
S:******  Setting ACLs for the CDS clearinghouse /.:/host_ch... 
</ProgramListing></Para>
</InformalExample>
<Para>and then prompts:
<IndexTerm Id="OSFAGI.CNF.indx.31">
<Primary>directories</Primary>
<Secondary>specifying replication during configuration</Secondary>
</IndexTerm></Para>
<InformalExample>
<Para><ProgramListing>Should more directories be replicated? (n)
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>At this point, you have two choices:
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>y</Literal> to replicate other directories on the machine and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts for a list 
of the directories to replicated:
</Para>
<InformalExample>
<Para><ProgramListing>Enter a list of directories to be replicated, separated 
by spaces, and terminated by &lt;Return&gt;:
</ProgramListing></Para>
</InformalExample>
<Para>Type in the list of directories separated by spaces.  
Press <Literal>&lt;Return&gt;</Literal> when the list is complete.
</Para>
<Para>The <Command>dce_config</Command> script automatically replicates the root directory.  To 
have <Command>dce_config</Command> replicate other directories, you must specify the full 
pathname (including the <Filename>/.:/</Filename>) of each additional directory you 
want to replicate.  Specifying the root directory of a tree structure does not 
cause the entire tree structure to be replicated.  
(Note that once the configuration is complete, you can use the CDS
control program (<Command>cdscp</Command>) to replicate directories at any time.)
</Para>
</ListItem>
<ListItem>
<Para>Type <Literal>n</Literal> to 
not replicate directories and press <Literal>&lt;Return&gt;</Literal>.
</Para>
</ListItem>
</OrderedList>
<Para>The <Command>dce_config</Command> script completes the configuration and 
returns the Additional Server Configuration menu. 
</Para>
</ListItem>
<ListItem>
<Para>When the additional server configuration is complete, exit <Command>dce_config</Command>  
and log in as the initial privileged user (created during 
the configuration of the master Security server), and 
skulk the root directory using the 
following command:
</Para>
<InformalExample>
<Para><ProgramListing><Command>set directory /.: to skulk</Command> 
</ProgramListing></Para>
</InformalExample>
<Para>This action propagates a copy of the changed root directory 
information to all the CDS servers.  Note that use of several 
CDS servers may expand the time required to complete 
the propagation.
</Para>
</ListItem>
</OrderedList>
<Sect3 Id="OSFAGI.CNF.div.21">
<Title>Possible Configuration Errors</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.32">
<Primary>Cell Directory Service server</Primary>
<Secondary>errors during configuration of</Secondary>
</IndexTerm>An additional CDS server configuration may fail if the <Command>cdsd</Command>
has been successfully launched, but its clearinghouse has not been 
properly created.  Such an event may produce error messages like 
the following:
</Para>
<InformalExample>
<Para><ProgramListing>ERROR:   Error during creation of clearinghouse /.:/<Symbol Role="Variable">nodename</Symbol>_ch. 
           Message from cdscp: 
           Failure in routine: cp_create_clh; code = 282109010 
           Requested operation would result in lost connectivity 
           to root directory (dce / cds)

ERROR:   Error during creation of clearinghouse /.:/<Symbol Role="Variable">nodename</Symbol>_ch. 
           Message from cdscp: 
           Failure in routine: cp_create_clh; code = 282108908 
         Unable to communicate with any CDS server (dce / cds)
</ProgramListing></Para>
</InformalExample>
</Sect3>
<Sect3 Id="OSFAGI.CNF.div.22">
<Title>Handling Configuration Errors</Title>
<Para>If you receive either of these messages, the 
clearinghouse is in an intermediate state and cannot be used or deleted, 
although the rest of the cell namespace and other servers are unaffected.  
To recover:
</Para>
<OrderedList>
<ListItem>
<Para>Skulk the root directory
</Para>
</ListItem>
<ListItem>
<Para>Use the <Command>create clearinghouse /.:/</Command><Symbol Role="Variable">clearinghouse_name</Symbol> command while you are logged 
in as the initial privileged user on the newly configured CDS server machine.  
This command manually completes 
the configuration of the new server and its clearinghouse. 
</Para>
</ListItem>
<ListItem>
<Para>Finally, skulk 
the root directory again.
</Para>
</ListItem>
</OrderedList>
<Para>In rare circumstances, you may see the following error, which you can 
ignore.
</Para>
<InformalExample>
<Para><ProgramListing>ERROR: cdscp error during "define cached server" command. 
       Message from cdscp: 
       Failure in routine: cp_define_cached_server; 
       code = 282111142 
       Cached Server clearinghouse already exists (dce / cds)
</ProgramListing></Para>
</InformalExample>
<Para>The error results from <Command>dce_config</Command> trying to repeat 
an operation it has already performed.  
</Para>
</Sect3>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.23">
<Title>Configuring Additional DTS Servers</Title>
<Para>The steps to configure additional DTS servers (selection 2 from 
the Additional Server Configuration menu) are the same as the 
steps to configure the initial DTS servers.  See Section 8.7.4
for instructions.
</Para>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.24">
<Title>Configuring DFS Servers</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.33">
<Primary>Distributed File System servers</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>You can configure the following types of DFS servers:
<IndexTerm Id="OSFAGI.CNF.indx.34">
<Primary>Distributed File System servers</Primary>
<Secondary>types</Secondary>
</IndexTerm></Para>
<ItemizedList>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.35">
<Primary>System Control machine</Primary>
</IndexTerm>
<Para>A System Control machine, which distributes system configuration information 
that is shared by all DFS server machines in a cell.
</Para>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.36">
<Primary>Fileset Location Database machine</Primary>
</IndexTerm>
<Para>A Fileset Location Database machine, which tracks and records the locations
of all filesets.  At least one is required in each cell.  You can run multiple 
Fileset Location Database servers for to help ensure the server's availability 
at all times.
</Para>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.37">
<Primary>File Server machine</Primary>
</IndexTerm>
<Para>A File Server machine, which exports LFS and non-LFS data to the global
DFS namespace.
</Para>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.38">
<Primary>Private File Server machine</Primary>
</IndexTerm>
<Para>A Private File Server, which also exports file system data to the 
global DFS namespace.  A private File Server machine is controlled by the
owner of the machine, not by the system administrator.  The purpose of a
private File Server machine is to allow individual users to export a small
number of filesets.  A Private File Server does not support replicated 
filesets.
</Para>
</ListItem>
</ItemizedList>
<Note>
<IndexTerm Id="OSFAGI.CNF.indx.39">
<Primary> Binary Distribution machine</Primary>
</IndexTerm>
<Para>System Control machines can also be used as Binary Distribution machine.
</Para>
</Note>
<Para>Although you must configure at least one Fileset Location Database machine,  
all other DFS server machines are optional.  Note that if your are configuring 
a System Control machine, you should configure it first because you are 
prompted to enter its name during the Fileset Location Database machine 
configuration.  Otherwise, you should configure the Fileset Location Database machine 
first.
</Para>
<Sect3 Id="OSFAGI.CNF.div.25">
<Title>Prerequisites</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.40">
<Primary>Distributed File System server</Primary>
<Secondary>configuration prerequisites</Secondary>
</IndexTerm>Before you begin DFS configuration, be sure that you have:
</Para>
<ItemizedList>
<ListItem>
<Para>Made
the planning decisions described in 
<!-- Chapters 52 and 56.-->
<!-- Module 6, titled ``DFS Configuration Issues,'' ``Managing DFS-->
<!-- Domains,'' and ``Making Filesets and Aggregates Available.''-->
the &DCEAd;.
These decisions include the following:
</Para>
<ItemizedList>
<ListItem>
<Para>Choosing the first DFS machine
</Para>
</ListItem>
<ListItem>
<Para>Determining the cache size on DFS client machines
</Para>
</ListItem>
<ListItem>
<Para>Defining DFS domains
</Para>
</ListItem>
<ListItem>
<Para>Setting up your cell's DFS tree structure
</Para>
</ListItem>
<ListItem>
<Para>Determining which file system to use for <Literal>root.dfs</Literal>
</Para>
</ListItem>
</ItemizedList>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.41">
<Primary>root.dfs fileset</Primary>
</IndexTerm>
<Para>Created the file system for the <Literal>root.dfs</Literal> fileset.
This file system can be either a DCE LFS fileset or a non-LFS file
system (non-LFS fileset).  To use a non-LFS file system, 
create the file system manually by using
your operating system's file system commands.
To use a DCE LFS fileset, create a DCE LFS aggregate with the DFS
<Command>newaggr</Command> command.
</Para>
<Para>Before setting up the <Literal>root.dfs</Literal> fileset, refer to 
<!-- Chapters 52 and 56; in particular, Section 52.3.1.-->
the &DCEAd;.
</Para>
<Note>
<Para>The <Command>dce_config</Command> script configures the 
Fileset Location Database Server on the
machine that exports <Literal>root.dfs</Literal>.
</Para>
</Note>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.42">
<Primary>Distributed File System</Primary>
<Secondary>kernel required for HP-UX</Secondary>
</IndexTerm>
<Para>On HP-UX machines, ensured that the kernel is installed on
the machine being configured. This kernel, which is available on 
the installation tree, is named <Filename>hpux.dfs</Filename>.  To install it, 
first rename the existing kernel(named <Filename>/hpux</Filename>) and then copy 
<Filename>hpux.dfs</Filename> to the <Filename>/</Filename> directory, naming it <Filename>hpux</Filename>.
</Para>
<Para>For other platforms you should run the DFS  kernel that is built
during the build process.  
(For OSF/1 machines, the <Literal>fsvmunix</Literal>
kernel includes support for both DFS and DCE LFS. The
<Filename>dfsvmunix</Filename> kernel includes support only for DFS, but
requires less disk and memory resources.)
</Para>
</ListItem>
</ItemizedList>
</Sect3>
<Sect3 Id="OSFAGI.CNF.div.26">
<Title>Configuring a System Control Machine</Title>
<IndexTerm Id="OSFAGI.CNF.indx.43">
<Primary>System Control machine</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>
<Para>To configure a System Control machine, perform the following steps:
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>3</Literal> on the 
DCE Configuration Menu and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring DFS System Control Machine...
</ProgramListing></Para>
</InformalExample>
<Para>and then prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter Cell Administrator's principal name: (cell_admin) 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the principal who was defined to be the initial privileged
user
of the registry database during the configuration of the master
Security server and
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter password:
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the password for the initial privileged user's account and
press <Literal>&lt;Return&gt;</Literal>.  Note that this password is not displayed as you
type it.
</Para>
<Para>The <Command>dce_config</Command> script loads the DFS kernel extensions 
and displays the following messages:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Loading kernel extensions...
rpc_config: installed krpc device at major number 71
</ProgramListing></Para>
</InformalExample>
<Para>Then the <Command>dce_config</Command> script prompts for whether LFS (Episode) 
should be loaded
</Para>
<InformalExample>
<Para><ProgramListing>Should the LFS Kernel Extension be loaded (n)?  
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to configure the machine to use LFS or <Literal>n</Literal> to not and 
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays:       
</Para>
<InformalExample>
<Para><ProgramListing>Should LFS be initialized (n)? 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to initialize LFS or <Literal>n</Literal> to not and 
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The  <Command>dce_config</Command> script displays: 
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">S:****** Modifying the registry database for DFS server operation...
S:****** Starting bosserver...
S:****** Creating BOS admin lists.
S:****** Starting upserver...
</ProgramListing></Para>
</InformalExample>
<Para>When the configuration is complete, <Command>dce_config</Command> displays the 
Additional Server Configuration menu.
</Para>
</ListItem>
</OrderedList>
</Sect3>
<Sect3 Id="OSFAGI.CNF.div.27">
<Title>Configuring a File Server and a Private File Server</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.44">
<Primary>File Server</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.CNF.indx.45">
<Primary>Private File Server</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>The steps to configure a File Server and a Private File Server 
Server are the same.  In the steps that 
follow, a Private File Server is configured to illustrate the 
sequence of prompts and actions.  However, you can use the 
same instructions to configure a File Server.  
</Para>
<Para>To configure a  File Server or Private File Server, 
perform the following steps:
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>4</Literal> (for a Private File Server) or <Literal>5</Literal> 
(for a File Server) on the 
Additional Server Configuration menu and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring DFS Private File Server...
</ProgramListing></Para>
</InformalExample>
<Para>and then prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter Cell Administrator's principal name: (cell_admin) 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the principal who was defined to be the initial privileged
user
of the registry database during the configuration of the master
Security server and
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter password:
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the password for the initial privileged user's account and
press <Literal>&lt;Return&gt;</Literal>.  Note that this password is not displayed as you
type it.
</Para>
<Para>The <Command>dce_config</Command> script loads the DFS kernel extensions 
and displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Loading kernel extensions...
</ProgramListing></Para>
</InformalExample>
<Para>Then the <Command>dce_config</Command> script prompts for whether LFS (Episode) 
should be loaded:
</Para>
<InformalExample>
<Para><ProgramListing>Should the LFS Kernel Extension be loaded (n)?  
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to configure the machine to use LFS or <Literal>n</Literal> to not and 
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays:       
</Para>
<InformalExample>
<Para><ProgramListing>Should LFS be initialized (n)? 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to initialize LFS or <Literal>n</Literal> to not and 
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The  <Command>dce_config</Command> script displays: 
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">S:****** Modifying the registry database for DFS server operation...
S:****** Starting bosserver...
S:****** Starting ftserver...
</ProgramListing></Para>
</InformalExample>
<Para>Then <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the name of the system control machine:  
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the machine configured as the system control machine and 
press <Literal>&lt;Return&gt;</Literal>.  If you cell does not use a system control machine enter the name of 
the local machine. 
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">        Enter the filesystem type for the aggregate to be exported:
        1. Native File System (e.g. UFS, JFS)
        2. Episode File System (LFS)
selection: 
</ProgramListing></Para>
</InformalExample>
<Para>Your next steps depend on whether you want to export the native file system 
or the Episode file system.  If you are exporting the native file system, go 
to the subsection titled ``Exporting the Native File System.''  
If you are exporting the Episode file system, go 
to the subsection titled ``Exporting the Episode File System.''
</Para>
<Para><Literal>Exporting the Native File System</Literal>
</Para>
<Para><IndexTerm Id="OSFAGI.CNF.indx.46">
<Primary>native file system</Primary>
<Secondary>exporting during DFS configuration</Secondary>
</IndexTerm>To export the native file system, perform the following steps.
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>1</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">Enter the device name for the aggregate to be exported (i.e. /dev/lvXX):
</ProgramListing></Para>
</InformalExample>
<Note>
<Para>The information in parentheses in the previous prompt is not the 
default value, but only an example of a value to be entered.
</Para>
</Note>
</ListItem>
<ListItem>
<Para>Type the pathname of the device on which the selected file system is stored 
and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the mount path for the aggregate (e.g. /usr/users):  
</ProgramListing></Para>
</InformalExample>
<Note>
<Para>The information in parentheses in the previous prompt is not the 
default value, but only an example of a value to be entered.
</Para>
</Note>
</ListItem>
<ListItem>
<Para>Type the pathname to the aggregate's mount point and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter a unique aggregate name (e.g. user.jlw):
</ProgramListing></Para>
</InformalExample>
<Note>
<Para>The information in parentheses in the previous prompt is not the 
default value, but only an example of a value to be entered.
</Para>
</Note>
</ListItem>
<ListItem>
<Para>Type a name for the aggregate and press <Literal>&lt;Return&gt;</Literal>.  The aggregate name 
must be unique on the machine being configured.       
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter a unique numerical aggregate ID: 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type a number for the aggregate ID and press <Literal>&lt;Return&gt;</Literal>. The aggregate ID 
must be unique on the machine being configured.
</Para>
</ListItem>
</OrderedList>
<Para><Literal>Exporting the Episode File System</Literal>
</Para>
<Para><IndexTerm Id="OSFAGI.CNF.indx.47">
<Primary>Episode file system</Primary>
<Secondary>exporting during DFS configuration</Secondary>
</IndexTerm>To export the Episode File System, replica the following steps:
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>2</Literal>  and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">Enter the device name for the aggregate to be exported (i.e. /dev/lvXX):
</ProgramListing></Para>
</InformalExample>
<Note>
<Para>The information in parentheses in the previous prompt is not the 
default value, but only an example of a value to be entered.
</Para>
</Note>
</ListItem>
<ListItem>
<Para>Type the pathname of the device on which the selected file system is stored 
and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the LFS fileset name (lfs_set):
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the LFS fileset and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">Do you want to format partition device_name as an Episode aggregate [n]?.
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to initialize the device named in a 
previous prompt as the aggregate to be exported 
as the Episode aggregate and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** <Symbol Role="Variable">device_name</Symbol> successfully initialized.
</ProgramListing></Para>
</InformalExample>
<!-- .P-->
<!-- Note that if you choose to not initialize the device at -->
<!-- this time by answering \*Ln\*O to the prompt, \*Ldce_config\*O -->
<!-- continues with the configuration but you will have to ??-->
<!-- .P-->
<!-- \*LREVIEWERS - WHAT WILL THEY HAVE TO DO?  SHOULDN'T THEY -->
<!-- ALWAYS INITIALIZE IT IF THEY'VE COME THIS FAR?  IF THEY SHOULD -->
<!-- ALWAYS INIT., WHY THIS PROMPT?\*O-->
<Para>and then the following prompt:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the LFS aggregate name (lfs_aggr):
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type a name for the Episode aggregate and press <Literal>&lt;Return&gt;</Literal>.  The aggregate name 
must be unique on the machine being configured.       
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the LFS aggregate id (1): 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type a number for the aggregate ID and press <Literal>&lt;Return&gt;</Literal>. The aggregate ID 
must be unique on the machine being configured.
</Para>
</ListItem>
</OrderedList>
<Para>After you complete the steps listed in ``Exporting the Native File System'' or 
``Exporting the Episode File System,'' the <Command>dce_config</Command> script 
exports the chosen file 
system and displays instructions on where 
to find information about exporting additional file 
systems by displaying:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">S:****** Exporting device_name through DFS...
        If you wish to export additional aggregates, do so after
        completing this script by using the appropriate DFS
        administration commands described in the DFS Admin Guide.
        Press &lt;RETURN&gt; to continue, CTRL-C to exit:
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Starting fxd...
fx: FX server starts listening...
</ProgramListing></Para>
</InformalExample>
<!-- and then prompts:-->
<!-- .oS-->
<!-- Should this node be configured as a DFS client (y/n)? (n)-->
<!-- .oE-->
<!-- .LI-->
<!-- Type \*Ly\*O and press <RETURN> to continue on to configure -->
<!-- DFS clients on the machine.  If you do so, see the instructions for -->
<!-- configuring clients in the section titled "Configuring a DFS Client."-->
<Para><!-- Type \*Ln\*O and press <RETURN> if you do not want to configure -->
<!-- DFS clients at this point.  The \*Ldce_config\*O script -->
and returns the Additional Server Configuration menu.
</Para>
</ListItem>
</OrderedList>
</Sect3>
<Sect3 Id="OSFAGI.CNF.div.28">
<Title>Configuring a DFS Fileset Location Database</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.48">
<Primary>Fileset Location Database machine</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>Each cell that uses DFS requires at least one 
Fileset Location Database (FLDB) Server machine.
Configure this machine immediately after configuring the DFS System
Control machine. 
</Para>
<Para>To configure a Fileset Location Database machine, perform the 
following steps:
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>6</Literal> on the 
Additional Server Configuration menu and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring DFS Fileset Location Database Server...
</ProgramListing></Para>
</InformalExample>
<Para>and then prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter Cell Administrator's principal name: (cell_admin) 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the principal who was defined to be the initial privileged
user
of the registry database during the configuration of the master
Security server and
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter password:
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the password for the initial privileged user's account and
press <Literal>&lt;Return&gt;</Literal>.  Note that this password is not displayed as you
type it.
</Para>
<Para>The <Command>dce_config</Command> script loads the DFS kernel extensions 
and displays the following messages:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Loading kernel extensions...
rpc_config: installed krpc device at major number 71
</ProgramListing></Para>
</InformalExample>
<Para>Then the <Command>dce_config</Command> script prompts for whether LFS (Episode) 
should be loaded
</Para>
<InformalExample>
<Para><ProgramListing>Should the LFS Kernel Extension be loaded (n)?  
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to configure the machine to use LFS or <Literal>n</Literal> to not and 
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays:       
</Para>
<InformalExample>
<Para><ProgramListing>Should LFS be initialized (n)? 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to initialize LFS or <Literal>n</Literal> to not and 
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following messages 
as it adds the appropriate DFS members to groups in the 
Security database.
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">S:****** Modifying the registry database for DFS server operation...

>>> group member added


>>> group member added

Current site is: registry server at /.../test_cell/subsys/dce/sec/master
Domain changed to: group
Current site is: registry server at /.../test_cell/subsys/dce/sec/master
Domain changed to: group
S:****** Starting bosserver...
Checking for a Ubik sync site in  hosts/node_name
Host /.:/hosts node_name/ is now the sync site
</ProgramListing></Para>
</InformalExample>
<Para>Then <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the name of the system control machine:  
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the machine configured as the system control machine and 
press <Literal>&lt;Return&gt;</Literal>.  If you cell does not use a system control machine enter the name of 
the local machine. 
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the fileset name (root.dfs):
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the DFS file set and press <Literal>&lt;Return&gt;</Literal>.  
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>        Enter the filesystem type for root.dfs:
        1. Native File System (e.g. UFS, JFS)
        2. Episode File System (LFS)
selection: 
</ProgramListing></Para>
</InformalExample>
<Para>Your next steps depend on whether you want to export the native file system 
or the Episode file system.  If you are exporting the native file system, go 
to the subsection titled ``Exporting the Native File System.''  
If you are exporting the Episode file system, go 
to the subsection titled ``Exporting the Episode File System.''
</Para>
<Para><Literal>Exporting the Native File System</Literal>
</Para>
<Para><IndexTerm Id="OSFAGI.CNF.indx.49">
<Primary>native file system</Primary>
<Secondary>exporting during DFS configuration</Secondary>
</IndexTerm>To export the native file system, perform the following steps.
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>1</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the aggregate name (/export):
</ProgramListing></Para>
</InformalExample>
<Note>
<Para>The information in parentheses in the previous prompt is not the 
default value, but only an example of a value to be entered.
</Para>
</Note>
</ListItem>
<ListItem>
<Para>Type the aggregate name and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>You must specify the aggregate name as a mounted file 
system name, not as a
physical device name. For example, to use 
the device <Literal>/dev/rz3c</Literal>, which is
mounted as <Filename>/var</Filename>, specify <Filename>/var</Filename> as the aggregate name.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the aggregate ID (1):
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the aggregate ID and press <Literal>&lt;Return&gt;</Literal>.
</Para>
</ListItem>
</OrderedList>
<Para><Literal>Exporting the Episode File System</Literal>
</Para>
<Para><IndexTerm Id="OSFAGI.CNF.indx.50">
<Primary>Episode file system</Primary>
<Secondary>exporting during DFS configuration</Secondary>
</IndexTerm>To export the Episode File System, perform the following steps:
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>2</Literal>  and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">Enter the device name for the aggregate to be exported (i.e. /dev/lvXX):
</ProgramListing></Para>
</InformalExample>
<Note>
<Para>The information in parentheses in the previous prompt is not the 
default value, but only an example of a value to be entered.
</Para>
</Note>
</ListItem>
<ListItem>
<Para>Type the pathname of the device on which the selected file system is stored 
and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the LFS fileset name (lfs_set):
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the LFS fileset and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">Do you want to format partition device_name as an Episode aggregate [n]?.
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to initialize the device named in a 
previous prompt as the aggregate to be exported 
as the Episode aggregate and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** <Symbol Role="Variable">device_name</Symbol> successfully initialized.
</ProgramListing></Para>
</InformalExample>
<Para><!-- Note that if you choose to not initialize the device at -->
<!-- this time by answering \*Ln\*O to the prompt, \*Ldce_config\*O -->
<!-- continues with the configuration but you will have to ??-->
<!-- .P-->
<!-- \*LREVIEWERS - WHAT WILL THEY HAVE TO DO?  SHOULDN'T THEY -->
<!-- ALWAYS INITIALIZE IT IF THEY'VE COME THIS FAR?  IF THEY SHOULD -->
<!-- ALWAYS INIT., WHY THIS PROMPT?\*O-->
<!-- .P-->
and then the following prompt:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the LFS aggregate name (lfs_aggr):
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type a name for the Episode aggregate and press <Literal>&lt;Return&gt;</Literal>.  The aggregate name 
must be unique on the machine being configured.       
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the LFS aggregate id (1): 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type a number for the aggregate ID and press <Literal>&lt;Return&gt;</Literal>. The aggregate ID 
must be unique on the machine being configured.
</Para>
</ListItem>
</OrderedList>
<Para>After you complete the steps listed in ``Exporting the Native File System'' or 
``Exporting the Episode File System,'' the <Command>dce_config</Command> 
displays information about the aggregate and 
about the servers it is starting:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">number of sites: 1
   server           flags     aggr   siteAge principal      owner
host_name.ch.acme.   RW       1       0:00:00                &lt;nil&gt;
FLDB entry created for fileset root.dfs (0,,1) on aggregate 1 of node_name
S:****** Starting dfsbind...
S:****** Starting fxd...
fx: FX server starts listening...
</ProgramListing></Para>
</InformalExample>
<!-- Then, the \*Ldce_config\*O script prompts:-->
<!-- .oS-->
<!-- Should this machine be configured as a DFS client? (n)-->
<!-- .oE-->
<!-- .LI-->
<!-- Type \*Ly\*O and press <RETURN> to continue on to configure -->
<!-- DFS clients on the machine.  If you do so, see the instructions for -->
<!-- configuring clients in the section titled ``Configuring a DFS Client.''-->
<!-- .P-->
<!-- Type \*Ln\*O and press <RETURN> if you do not want to configure -->
<!-- DFS clients at this point.  The \*Ldce_config\*O script -->
<Para>and returns the Additional Server Configuration menu.
</Para>
</ListItem>
</OrderedList>
</Sect3>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.29">
<Title>Configuring GDA Servers</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.51">
<Primary>Global Directory Agent server</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>The DCE Global Directory Agent (GDA) facilitates communication between 
DCE cells.  If your cell will engage in intercell communication, 
the GDA server must be running.  This section describes how to configure GDA servers. 
</Para>
<Para>You can configure a GDA server only on a previously configured client or 
CDS server machine.
</Para>
<Para>You can configure GDA in a cell that uses
either GDS or DNS as the global directory service.
Although <Command>dce_config</Command> can configure GDA in a 
cell that uses GDS, you must use manual procedures to 
configure GDA in a 
cell that uses DNS.  Both types of configuration are 
described in the subsections that follow.
<IndexTerm Id="OSFAGI.CNF.indx.52">
<Primary>configuration</Primary>
<Secondary>GDA</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.CNF.indx.53">
<Primary>GDA</Primary>
<Secondary>configuring</Secondary>
</IndexTerm></Para>
<Sect3 Id="OSFAGI.CNF.div.30">
<Title>Configuring GDA in a GDS Cell</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.54">
<Primary>Global Directory Agent server</Primary>
<Secondary>configuring in a GDS cell</Secondary>
</IndexTerm>To configure a GDA server in a cell that uses GDS for the 
global directory service, type <Literal>7</Literal> on the 
Additional Server Configuration menu and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script 
displays the following messages, configures the 
GDA server and starts the GDA server daemon, <Command>gdad</Command>.
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring GDA Server...
S:****** Checking for active sec_client service...
S:****** Adding GDA principal to registry database...
S:****** Starting gdad...
</ProgramListing></Para>
</InformalExample>
<Para>When the configuration is complete, <Command>dce_config</Command> retuns the 
Additional Server Configuration menu.
</Para>
</Sect3>
<Sect3 Id="OSFAGI.CNF.div.31">
<Title>Configuring GDA in a DNS Cell</Title>
<IndexTerm Id="OSFAGI.CNF.indx.55">
<Primary>Global Directory Agent server</Primary>
<Secondary>configuring in a DNS cell</Secondary>
</IndexTerm>
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- FOLLOWING WAS HAND-CONVERTED FROM LATE SML SUBMISSION...         -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- .zA def,13555,R1.2.2,cdscp show cell replaced by dcecp ========= -->
<Para RevisionFlag="Changed">
To configure GDA in a DNS cell, perform the following steps:</Para>
<!-- -->
<OrderedList RevisionFlag="Changed">
<ListItem RevisionFlag="Changed">
<Para>
Ensure that the machine being configured has access to the 
<Command>named</Command> daemon through <Filename>resolv.conf</Filename>.</Para>
</ListItem>
<!-- -->
<ListItem RevisionFlag="Changed">
<Para>
Obtain the output of the <Command>dcecp directory show/.:</Command> command.</Para>
</ListItem>
<!-- -->
<ListItem RevisionFlag="Changed">
<Para>
Register the cell information enumerated by the
<Command>dcecp directory show/.:</Command> command with the
<Command>named</Command> daemon (which is the server that controls DNS name
resolution).</Para>
</ListItem>
<!-- -->
<ListItem RevisionFlag="Changed">
<Para>
Restart the <Command>named</Command> daemon.</Para>
</ListItem>
<!-- -->
</OrderedList>
<!-- -->
<!-- -->
<Para RevisionFlag="Changed">
In a DNS cell, you can run the <Command>gdad</Command> daemon  
in the following modes:</Para>
<!-- -->
<!-- -->
<VariableList RevisionFlag="Changed">
<!-- -->
<VarListEntry RevisionFlag="Changed">
<Term>DNS</Term>
<ListItem>
<Para><Command>gdad -x</Command></Para></ListItem>
</VarListEntry>
<!-- -->
<VarListEntry RevisionFlag="Changed">
<Term>X.500</Term>
<ListItem>
<Para><Command>gdad -b</Command></Para></ListItem>
</VarListEntry>
<VarListEntry role="linebreak" RevisionFlag="Changed">
<Term>Both DNS and X.500</Term>
<ListItem>
<Para><Command>gdad</Command></Para></ListItem>
</VarListEntry>
<!-- -->
</VariableList>
<!-- -->
<!-- -->
<Para RevisionFlag="Changed">
For information about starting and stopping <Command>gdad</Command>, and
how to use the output of <Command>dcecp directory show/.:</Command>, see
<!-- Chapter 21.                             -->
<!-- Module 3 ``Managing Intercell Naming.'' -->
<!-- the &DCEAx;. -->
</Para>
<!-- .zZ def,13555,R1.2.2,cdscp show cell replaced by dcecp ========= -->
<!-- ================================================================ -->
<!-- ...END OF HAND-CONVERTED MATERIAL.                               -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- Following is replaced by hand-converted material above...        -->
<!-- ================================================================ -->
<!--
        <Para>To configure GDA in a DNS cell, perform the following steps:
        </Para>
        <OrderedList>
        <ListItem>
        <Para>Ensure that the machine being configured has access to the 
        <Command>named</Command> daemon through <Filename>resolv.conf</Filename>. 
        </Para>
        </ListItem>
        <ListItem>
        <Para>Obtain the output of the <Command>dcecp directory show/.:</Command> command.
        </Para>
        </ListItem>
        <ListItem>
        <Para>Register the cell information enumerated by the 
        <Command>dcecp directory show/.:</Command> command with the <Command>named</Command> daemon 
        (which is the server that controls DNS name resolution).
        </Para>
        </ListItem>
        <ListItem>
        <Para>Restart the <Command>named</Command> daemon.
        </Para>
        </ListItem>
        </OrderedList>
        <Para>In a DNS cell, you can run the <Command>gdad</Command> daemon  
        in the following modes:
        </Para>
        <VariableList>
        <VarListEntry>
        <Term>DNS</Term>
        <ListItem>
        <Para><Command>gdad -x</Command>
        </Para>
        </ListItem>
        </VarListEntry>
        <VarListEntry>
        <Term>X.500</Term>
        <ListItem>
        <Para><Command>gdad -b</Command>
        </Para>
        </ListItem>
        </VarListEntry>
        <VarListEntry>
        <Term>Both DNS and X.500</Term>
        <ListItem>
        <Para><Command>gdad</Command>
        </Para>
        </ListItem>
        </VarListEntry>
        </VariableList>
        <Para>For information about starting and stopping <Command>gdad</Command>, and how to
        use the output of <Command>dcecp directory show/.:</Command>, see  -->
        <!-- Chapter 21.-->
        <!-- Module 3 ``Managing Intercell Naming.''--> <!--
        the &DCEAx;.
        </Para>
-->
</Sect3>
</Sect2>
<!-- ================================================================ -->
<!-- ...End of replaced material.                                     -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<!-- ================================================================ -->
<Sect2 Id="OSFAGI.CNF.div.32">
<Title>Configuring Security Replicas</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.56">
<Primary>Security Server</Primary>
<Secondary>configuring replicas</Secondary>
</IndexTerm>Security replicas help provide improved cell performance and reliability.  
To configure a security replica, perform the following steps:
</Para>
<OrderedList>
<ListItem>
<Para>At the Additional Server Configuration menu, type <Literal>8</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">Enter the security replica name (without subsys/dce/sec) : (hostname)
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name to be assigned to the Security replica and press <Literal>&lt;Return&gt;</Literal>.  
Note that the default, <Symbol Role="Variable">hostname</Symbol> in parentheses, is replaced with the 
actual name of the host machine.  The replica is created in the <Filename>subsys/dce/sec</Filename> 
directory.
</Para>
<Para>If this is the first time you have configured a Security replica on the machine, 
the <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>What is the name of this cell (without /.../):
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the machine's cell and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>If the machine has not been configured as a DCE client machine, 
<Command>dce_config</Command> configures it as a DCE client.  If it 
does this it displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring client...
</ProgramListing></Para>
</InformalExample>
<Para>See the steps 1 through 4 in Section 8.9 for instructions on 
how to configure a client.
</Para>
<Para>After you complete client configuration if necessary, 
the <Command>dce_config</Command> script displays the following messages as 
it creates and starts the replica on the local machine:
</Para>
<InformalExample>
<Para><ProgramListing>S******: Configuring Security Replication 
Modifying acls on /.:/sec/replist ... 
Modifying acls on /.:/subsys/dce/sec ... 
Modifying acls on /.:/sec ... 
Modifying acls on /.: ... 
Modifying acls on /.:/cell-profile ... 
</ProgramListing></Para>
</InformalExample>
<Para>Then, <Command>dce_config</Command> prompts for the replica's keyseed:
</Para>
<InformalExample>
<Para><ProgramListing>Enter keyseed for initial database master key: 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.CNF.indx.57">
<Primary>keyseed</Primary>
<Secondary>defining during replica configuration</Secondary>
</IndexTerm>
<Para>Type in the text string for the keyseed, which is a temporary
DES key that is used to generate the replica's master key
(the key that the replica uses for account key creation).  Press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The text you enter should not be easily guessed.  Note that it
is not displayed as you type it.
</Para>
<Para>The <Command>dce_config</Command> script creates and starts the security replica and 
displays:
</Para>
<InformalExample>
<Para><ProgramListing>start slave security server (secd) ...
</ProgramListing></Para>
</InformalExample>
<Para>The <Command>dce_config</Command> returns the Additional Server Configuration menu.
</Para>
</ListItem>
</OrderedList>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.33">
<Title>Configuring and Unconfiguring a Password Management Server</Title>
<IndexTerm Id="OSFAGI.CNF.indx.58">
<Primary>password management server</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.CNF.indx.59">
<Primary>password management server</Primary>
<Secondary>unconfiguring</Secondary>
</IndexTerm>
<Para>Password Management servers enable administrators to exert greater
control over users' selection of passwords than that provided by
DCE standard policy. You can create a password management server
to enforce your cell's password-strength and password-generation 
requirements, or you can enhance the sample password management 
server provided with DCE.
</Para>
<Para>For information on creating your own password management servers,
see the chapter in the &DCEDk;
<!-- OSF DCE Application Development Guide\*O-->
for more information about the administration of password management servers, 
see Chapter 30 in this guide.
</Para>
<Para>To configure a password management server, type <Literal>10</Literal> at the Additional 
Server Configuration menu, and press <Literal>&lt;Return&gt;</Literal>.
The <Command>dce_config</Command> script displays the following messages as 
it configures the password management server:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring Password Management Server...
S:****** Successfully configured Password Management Server.
</ProgramListing></Para>
</InformalExample>
<Para><Command>dce_config</Command> then returns to the Additional Server Configuration menu.
</Para>
<Para>To unconfigure a password management server, type <Literal>11</Literal> at the Additional 
Server Configuration menu, and press <Literal>&lt;Return&gt;</Literal>.
The <Command>dce_config</Command> script displays the following messages as 
it unconfigures the password management server:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Unconfiguring Password Management Server...
S:****** Successfully unconfigured Password Management Server.
</ProgramListing></Para>
</InformalExample>
<Para><Command>dce_config</Command> then returns to the Additional Server Configuration menu.
</Para>
<Sect3 Id="OSFAGI.CNF.div.34">
<Title>Troubleshooting Password Management Configuration Errors</Title>
<Para>If attempts to configure or unconfigure a password management server fail,
check for configuration error messages in the the password management 
server log file located in <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/security/pwd_strengthd.log</Filename>.
</Para>
</Sect3>
</Sect2>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.35">
<Title>Configuring DCE Clients</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.60">
<Primary>clients</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>After you configure your cell's master Security server and initial 
CDS server, you should configure each machine in the cell 
as a DCE client.  Then you can configure additional servers and replicas 
as described in "Configuring Additional Servers."  
</Para>
<Para>When you configure a DCE client you set up the machine as a 
client of the core DCE Services: Security, CDS, and DTS.
</Para>
<Para>To configure a DCE client machine, perform the following steps:
</Para>
<OrderedList>
<ListItem>
<Para>At the DCE Configuration Menu, type <Literal>3</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring client...
</ProgramListing></Para>
</InformalExample>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>What is the name of the Security Server for this cell: 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the machine that was configured as the 
master Security server and press <Literal>&lt;Return&gt;</Literal>.
<!--.P-->
<!--The \*Ldce_config\*O script displays the following messages as  -->
<!--it starts the Security client server (\*Lsec_clientd\*O) and -->
<!--begins the CDS client configuration:  -->
<!--.oS-->
<!--S:****** Starting sec_clientd...-->
<!--S:****** Waiting for node self-identity to be established...-->
<!--S:****** This node is now a security client.-->
<!--S:****** Starting cdsadv...-->
<!--.oE-->
</Para>
<Para>Then <Command>dce_config</Command> prompts for name of the initial CDS 
server machine:
</Para>
<InformalExample>
<Para><ProgramListing>What is the name of the CDS server in this cell
(if there is more than one, enter the name of 
the server to be cached if necessary) ?
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the machine that was configured as the 
initial CDS server and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>cdsadv</Command> daemon finds the 
initial CDS server, and then prompts:
<IndexTerm Id="OSFAGI.CNF.indx.61">
<Primary>multiple LANs</Primary>
<Secondary>defining during configuration</Secondary>
</IndexTerm></Para>
<Para>Then, the <Command>dce_config</Command> script prompts:
<IndexTerm Id="OSFAGI.CNF.indx.62">
<Primary>multiple LANs</Primary>
<Secondary>defining during configuration</Secondary>
</IndexTerm></Para>
<InformalExample role="page-wide">
<Para><ProgramListing>Create LAN profile so clients and servers can be 
divided into profile groups for higher performance in a multi-LAN 
cell? (n)
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>At this point you have two choices:
</Para>
<OrderedList>
<ListItem>
<Para>Type <Literal>y</Literal> to configure the machine with multiple local area 
network (LAN) capabilities and press <Literal>&lt;Return&gt;</Literal>.  You may want to use multiple 
LANs to organize how applications find objects in the namespace.  
When you respond <Literal>y</Literal>, the <Command>dce_config</Command> script creates a LAN profile
that allows the DTS clerks to synchronize with DTS servers on the local LAN.
</Para>
<Para>The <Command>dce_config</Command> script prompts for the name of the LAN:
</Para>
<InformalExample>
<Para><ProgramListing>What is the name of the LAN?
</ProgramListing></Para>
</InformalExample>
<Para>Type the name and press <Literal>&lt;Return&gt;</Literal>.  You can enter 
any arbitrary name.  The name is used by <Command>dce_config</Command> 
to store cell profile information. 
</Para>
</ListItem>
<ListItem>
<Para>Type <Literal>n</Literal> to not configure the machine with multiple LAN 
capabilities and press <Literal>&lt;Return&gt;</Literal>.
</Para>
</ListItem>
</OrderedList>
<Para>The <Command>dce_config</Command> script displays 
the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** This node is now a CDS client
</ProgramListing></Para>
</InformalExample>
<Para>and then the following prompt:
</Para>
<InformalExample>
<Para><ProgramListing>Should this machine be configured as a DTS Clerk, 
DTS Local Server, or DTS Global Server? (Default is DTS Clerk)
(clerk, local, global, none)
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>At this point you can type any of the following entries:
</Para>
<ItemizedList>
<ListItem>
<Para><Literal>clerk</Literal> to configure a DTS Clerk
</Para>
</ListItem>
<ListItem>
<Para><Literal>local</Literal> to configure a DTS Local server
</Para>
</ListItem>
<ListItem>
<Para><Literal>global</Literal> to configure a DTS Local server
</Para>
</ListItem>
<ListItem>
<Para><Literal>none</Literal> to not configure any DTS server on the 
machine
</Para>
</ListItem>
</ItemizedList>
<Para>If you choose to configure a DTS server, <Command>dce_config</Command>
displays messages as it starts the appropriate 
DTS daemons.   
Then, <Command>dce_config</Command> 
completes the configuration and 
returns the DCE Configuration Menu.
</Para>
</ListItem>
</OrderedList>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.36">
<Title>Configuring DFS Clients</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.63">
<Primary>clients</Primary>
<Secondary>configuring DFS</Secondary>
</IndexTerm></Para>
<Para>To configure a DFS client machine, perform the following 
steps:
</Para>
<OrderedList>
<ListItem>
<Para>At the DCE Configuration Menu, type <Literal>4</Literal> and press 
<Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script  prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter Cell Administrator's principal name: (cell_admin) 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the principal who was defined to be the initial privileged
user
of the registry database during the configuration of the master
Security server and
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter password:
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the password for the initial privileged user's account and
press <Literal>&lt;Return&gt;</Literal>.  Note that this password is not displayed as you
type it.
</Para>
<Para>The <Command>dce_config</Command> script loads the DFS kernel extensions if any must be loaded
and displays the following messages:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Loading kernel extensions...
rpc_config: installed krpc device at major number 71
</ProgramListing></Para>
</InformalExample>
<Para>Then the <Command>dce_config</Command> script prompts for whether LFS (Episode) 
should be initialized:   
</Para>
<InformalExample>
<Para><ProgramListing>Should LFS be initialized (n)? 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to initialize LFS or <Literal>n</Literal> to not and 
press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The  <Command>dce_config</Command> script displays: 
</Para>
<InformalExample>
<Para><ProgramListing>        Is the cache :
        1. in memory
        2. on the local disk
selection:
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>1</Literal> if the cache is in memory or <Literal>2</Literal> if 
is is stored on the local disk and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script starts the <Command>dfsbind</Command> daemon:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Starting dfsbind
</ProgramListing></Para>
</InformalExample>
<Para>and  then prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the RAM size of the cache (10000):
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the cache size and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script starts the <Command>dfsd</Command> daemon 
and returns the DCE Configuration Menu.
</Para>
</ListItem>
</OrderedList>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.37">
<Title>Configuring Auditing</Title>
<Para><IndexTerm Id="OSFAGI.CNF.indx.64">
<Primary>auditing</Primary>
<Secondary>configuring</Secondary>
</IndexTerm>If you wish to configure the DCE Auditing facility,
type <Literal>9</Literal> and press <Literal>&lt;Return&gt;</Literal> at the DCE Configuration Menu.
</Para>
<Para>The <Command>dce_config</Command> script displays:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Configuring Audit...
</ProgramListing></Para>
</InformalExample>
<Para>The <Command>dce_config</Command> script adds an entry for Auditing in the
<Filename>/etc/rc.dce</Filename> file and starts the Audit daemon.  It may also use
the <Command>dcecp</Command> program to install default filters for auditing DTS,
the Security Service, and the Auditing Service itself.
</Para>
</Sect1>
<Sect1 Id="OSFAGI.CNF.div.38">
<Title>Building a Code Set Registry</Title>
<Para>A character set is a group of characters, such as the English alphabet,
Japanese Kanji, and the European character set. A code set is a mapping
of the members of a character set to specific numeric code values.
Examples of code sets include ASCII, JIS X0208 (Japanese Kanji), and
ISO 8859-1 (Latin 1).
Different code set encodings exist for different character sets,
but in addition, the same character set can be encoded in
different ways.
</Para>
<Para>A DCE cell automatically supports RPC applications that use
the DCE Portable Character Set (DCE PCS), which is analogous
to the U.S. English character set, and the ASCII and EBCDIC encodings
for that character set. An internationalized DCE cell supports
RPC applications that use non-English character sets and code
sets other than ASCII and EBCDIC. In an internationalized DCE cell,
multiple different character sets and code sets can exist, and also
multiple different code sets for the same character set can exist.
Operating systems generally use string names to refer to the code sets
that the system supports. It is common for different operating systems
to use different string names to refer to the same code set. For example,
one system can use the name ISO8859-1 while another system can use
Latin-1. Both names refer to the same code set.
</Para>
<Para>The DCE code set registry provides a mechanism for uniquely identifying
code sets and the character sets they encode across multiple heterogeneous
operating systems in an internationalized DCE cell.
The code set registry is a per-host file that contains mappings
between the string names that the host's operating system platform
uses for the code sets it supports and the unique identifiers
for those code sets. Assigning a unique identifier to a code set
provides internationalized DCE RPC clients and servers with a
common representation to use when referring to a given code set.
</Para>
<Para>If you are configuring an internationalized DCE cell, you need
to build a code set registry on each machine in the cell.
The next sections describe the steps involved.
</Para>
<Sect2 Id="OSFAGI.CNF.div.39">
<Title>Creating the Code Set Registry Source File</Title>
<Para>The Code Set Registry Compiler <Command>csrc</Command> creates a character
and code set registry from the information supplied in a character
and code set registry source file. Code set registry source files
are created for input to <Command>csrc</Command> in two stages:
</Para>
<ItemizedList>
<ListItem>
<Para>During DCE licensee porting of DCE to one or more operating
system platforms
</Para>
</ListItem>
<ListItem>
<Para>During the creation of an internationalized DCE cell or when
a DCE machine is being configured for use in an internationalized
DCE cell
</Para>
</ListItem>
</ItemizedList>
<Para>In the first stage, DCE licensees create code set registry source
files when they are porting DCE to a specific operating system
platform and plan for their DCE product to support
internationalized DCE applications. DCE licensees receive from OSF
a template character and code set registry source file that contains
the unique identifiers that OSF has assigned to the character sets
and code sets that have been registered with OSF.
(This file exists in <Filename>src/rpc/csrc/csr/code_set_registry.txt</Filename>.)
They modify this
file to contain, for each code set that their platform supports, the local code
set names for those supported code sets. They can also add to this file
any vendor-specific, non-OSF registered code set names and values
that their platform supports.
</Para>
<Para>In the second stage, DCE cell administrators create code set registry
source files when they are configuring machines that are part of an
internationalized DCE cell. Cell administrators of internationalized
DCE cells create their site-specific code set registry source files
from one or more DCE licensee code set registry source files.
Only one code set registry source file exists on each machine.
The number of source files that need to be modified depends upon
the number of DCE platforms that exist in the cell.
</Para>
<Para>A code set registry source file is composed of a series of code
set records. Each record describes, in human-readable form, the
mapping between an OSF-registered, a licensee-defined, or a
a site-specific unique code set value and the character string
that a given operating system uses when referring to that code set.
This character string is called the local code set name.
Each code set record specifies one code set, and has the following form:
</Para>
<Synopsis><Literal>start </Literal>
<?sml-break>  <Symbol Role="Variable">field_list</Symbol>
<?sml-break><Literal>end</Literal>
</Synopsis>
<Para>The <Symbol Role="Variable">field_list</Symbol> consists of the following keyword-value
or keyword-text pairs:
</Para>
<VariableList>
<VarListEntry role="linebreak">
<Term><Literal>description</Literal> <Symbol Role="Variable">text</Symbol></Term>
<ListItem>
<Para>A comment string that briefly describes the code set.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal>loc_name </Literal><Symbol Role="Variable">text</Symbol></Term>
<ListItem>
<Para>A maximum 32-byte string (31 character data bytes plus a
terminating NULL) that contains the operating system-specific
name of a code set or the keyword <Literal>NONE</Literal>.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal>rgy_value </Literal><Symbol Role="Variable">value</Symbol></Term>
<ListItem>
<Para>A 32-bit hexadecimal value that uniquely identifies this code set.
A registry value can be one that OSF has assigned or
one that a DCE licensee or cell administrator has assigned.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal>char_values </Literal><Symbol Role="Variable">value</Symbol>[<Literal>:</Literal><Symbol Role="Variable">value</Symbol>]</Term>
<ListItem>
<Para>One or more 16-bit hexadecimal values that uniquely identify each
character set that this code set encodes. A character value
can be one that OSF has assigned or one that a DCE licensee or
a cell administrator has assigned.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal>max_bytes </Literal><Symbol Role="Variable">value</Symbol></Term>
<ListItem>
<Para>A 16-bit value that specifies the maximum number of bytes this
code set uses to encode one character.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>Here is a sample of a licensee-supplied source file.
</Para>
<InformalExample>
<Para><ProgramListing>start
description ISO 8859-1:1987; Latin Alphabet No. 1
loc_name    iso88591
rgy_value   0x00010001
char_values 0x0011
max_bytes   1
end

start
description ISO 8859-2:1987; Latin Alphabet No. 2
loc_name    iso88592
rgy_value   0x00010002
char_values 0x0012
max_bytes   1
end

start
description ISO 8859-3:1988; Latin Alphabet No. 3
loc_name    iso88593
rgy_value   0x00010003
char_values 0x0013
max_bytes   1
end

start
description ISO 8859-4:1988; Latin Alphabet No. 4
loc_name    NONE
rgy_value   0x00010004
char_values 0x0014
max_bytes   1
end
</ProgramListing></Para>
</InformalExample>
<Para>For each different DCE platform that exists in the cell,
the cell administrator takes that platform's licensee-generated
character and code set registry source file and modifies
the code set records within it to add the local code set
names of any additional code sets that the site supports.
(Note that the DCE licensees will have already modified the code set
records for each code set that their DCE platform supports.)
The cell administrator can also add to each platform-specific
source file any site-specific, non-OSF registered code set names
and values.
</Para>
<Para>The cell administrator modifies the code set records
that correspond to the code sets that the site supports
as follows:
</Para>
<ItemizedList>
<ListItem>
<Para>For each code set that the site supports, replace the <Literal>NONE</Literal> keyword
in the <Literal>loc_name</Literal> field of the code set record
the name that your site uses to refer to the code set and the
operating system code set converters associated with it. 
For example, in a UNIX environment, code set converters
exist in the <Literal>iconv</Literal> directory. In this case, you would
examine this directory to determine the names of the code set converters.
</Para>
</ListItem>
<ListItem>
<Para>Fill in the <Literal>description</Literal> field of the code set record
to provide a detailed description of the code set and
character set(s) that it supports. The text field
can contain multiple lines; use the backslash character (\) to
continue the line. If the site does not support a given code set,
you must leave the <Literal>NONE</Literal> keyword in the code set record.
</Para>
</ListItem>
<ListItem>
<Para>Fill in the <Literal>max_byte</Literal> field of the code set record
with the maximum number of bytes that the code set uses
to encode one character. The count should include
any single-shift control characters, if used.
</Para>
</ListItem>
<ListItem>
<Para>Add new values for any site-specific code set values
or character set values that have not been registered
with OSF to the appropriate <Literal>rgy_value</Literal> and <Literal>char_values
fields</Literal>. These values must be in the range 0xf5000000 through 0xfffffff
so that they do not collide with OSF-registered values.
Use the colon character (:) to separate multiple character set values.
</Para>
</ListItem>
</ItemizedList>
<Para>For additional source file usage information, see the <Function>csrc(8dce)</Function>
reference page in the &DCEAr;.
</Para>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.40">
<Title>Generating the Code Set Registry File</Title>
<Para>Cell administrators of internationalized DCE cells use the <Command>csrc</Command>
utility to create site-specific code set registry files
for each host in the cell. The cell administrator must run
<Command>csrc</Command> once for each host that exists in the cell.
You need to run <Command>csrc</Command> on a per-host basis because
in some cases, the same operating system platform can
be configured differently from host to host. For example,
the same operating system platform can be multi-byte enabled
on one machine, but single-byte enabled on another machine.
</Para>
<Para>In order to run <Command>csrc</Command>, you need write permission
to the <Filename>/usr/lib/nls/csr</Filename> directory, which generally
requires <Literal>root</Literal> privilege.
</Para>
<Para>When invoked without options, <Command>csrc</Command> uses the default source file
<Filename>/usr/lib/nls/csr/code_set_registry.txt</Filename> and creates the
default output file <Filename>/usr/lib/nls/csr/code_set_registry.db</Filename>.
Use the <Option>i</Option> and <Option>o</Option> options to redirect <Command>csrc</Command> to
use a specific source file or generate a specific output file.
When <Command>csrc</Command> runs, it generates a log file named <Filename>CSRC_LOG</Filename>
in the current (working) directory.
</Para>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.41">
<Title>Adding Intermediate Code Sets</Title>
<Para>By default, the DCE RPC features that support internationalized
RPC applications use the Universal code set ISO 10646 as the
default intermediate code set (see the &DCEDk; for an explanation
of intermediate code sets and how they are used in internationalized
RPC applications).
</Para>
<Para>You can override this default by using the <Option>m</Option> option
to <Command>csrc</Command>, which adds a maximum of five intermediate code
set names to the code set registry file's intermediate code set
priority list. Specify the local code set name for the intermediate
code set (not its code set identifier).
</Para>
<Para>The order in which you specify intermediate code sets determines their
order of precedence in the list; that is, the first intermediate code set
you specify on the command line with <Option>m</Option> becomes the first
intermediate code set in the priority list, and thus will be the
first code set used should an intermediate code set be required
for internationalized RPC client-server communication.

</Para>
</Sect2>
<Sect2 Id="OSFAGI.CNF.div.42">
<Title>Example</Title>
<Para>
Here is a sample <Command>csrc</Command> command line:
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">csrc -i /test/i18n_app/code_set_registry.txt -o code_set_registry.db
-m euc -m sjis
</ProgramListing></Para>
</InformalExample>
<Para>In the previous example, the log file <Filename>CSRC_LOG</Filename> is
created in the current directory, which is <Literal>/test/i18n_app</Literal>.
The log file header shows that the EUC and SJIS code sets have
been selected as intermediate code sets, and shows the
priority scheme for using them:
</Para>
<InformalExample>
<Para><ProgramListing>Total CSRC Entry Count = 134
Effective CSRC Entry Count = 7

Intermediate Code Set Count = 2
Intermediate Code Set:
	Priority 1 = 1 Code Set Name = euc
	Priority 2 = 2 Code Set Name = sjis
</ProgramListing></Para>
</InformalExample>
</Sect2>
</Sect1>
</Chapter>
<!--+ 09/15/96 22:56:32
    | tagMorph:  $Id: 8_config.sgm,v 1.1.2.13 1996/12/17 19:28:04 damon Exp $
    | tagMorph library:  $Id: 8_config.sgm,v 1.1.2.13 1996/12/17 19:28:04 damon Exp $
    | sml-to-docbook:  1.21
    +-->

<!--
# COPYRIGHT NOTICE
# Copyright (c) 1990-1996 Open Software Foundation, Inc. 
# ALL RIGHTS RESERVED (DCE). See the file named COPYRIGHT.DCE in the 
# src directory for the full copyright text. 
# 
# 
# HISTORY
# $Log: 8.1_managing.sgm,v $
# Revision 1.1.2.9  1996/12/17  19:27:59  damon
# 	Expanded OSF C O P Y R I G H T   N O T I C E
# 	[1996/12/17  19:21:43  damon]
#
# Revision 1.1.2.8  1996/12/03  18:58:14  carrig
# 	{enh,R1.2.2}
# 	Key conventions
# 	[1996/12/03  18:56:54  carrig]
# 
# Revision 1.1.2.7  1996/11/29  21:09:27  carrig
# 	{enh,R1.2.2}
# 	Put in Willie's comments
# 	[1996/11/29  21:07:37  carrig]
# 
# Revision 1.1.2.6  1996/10/15  17:47:22  carrig
# 	{enh,R1.2.2}
# 	Minor changes for editor
# 	[1996/10/15  17:45:59  carrig]
# 
# Revision 1.1.2.5  1996/10/14  20:03:11  carrig
# 	Merged with changes from 1.1.2.4
# 	[1996/10/14  20:03:06  carrig]
# 
# 	{enh,R1.2.2}
# 	Ready
# 	[1996/10/14  19:57:06  carrig]
# 
# Revision 1.1.2.4  1996/10/07  20:35:21  weir
# 	Scaled figures, added per-file FPIs, fixed Informal Tables
# 	[1996/10/07  20:34:29  weir]
# 
# Revision 1.1.2.3  1996/10/01  16:18:05  weir
# 	Mistakenly checked out
# 	[1996/10/01  16:15:55  weir]
# 
# Revision 1.1.2.2  1996/09/29  17:34:37  weir
# 	Fixed organization
# 	[1996/09/29  17:33:28  weir]
# 
# Revision 1.1.2.1  1996/09/24  21:08:19  weir
# 	Initial submission
# 	[1996/09/24  21:07:36  weir]
# 
# $EndLog$
# 
-->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
<!-- Below are the string definitions for the DCE documentation titles. -->
<!ENTITY DCEIn "<CiteTitle>Introduction to OSF DCE</CiteTitle>" >
<!ENTITY DCEDg "<CiteTitle>OSF DCE Application Development Guide</CiteTitle>" >
<!ENTITY DCEDi "<CiteTitle>OSF DCE Application Development Guide&mdash;Introduction and Style Guide</CiteTitle>" >
<!ENTITY DCEDk "<CiteTitle>OSF DCE Application Development Guide&mdash;Core Components</CiteTitle>" >
<!ENTITY DCEDd "<CiteTitle>OSF DCE Application Development Guide&mdash;Directory Services</CiteTitle>" >
<!ENTITY DCEDr "<CiteTitle>OSF DCE Application Development Reference</CiteTitle>" >
<!ENTITY DCEAg "<CiteTitle>OSF DCE Administration Guide</CiteTitle>" >
<!ENTITY DCEAi "<CiteTitle>OSF DCE Administration Guide&mdash;Introduction</CiteTitle>" >
<!ENTITY DCEAc "<CiteTitle>OSF DCE Administration Guide&mdash;Core Components</CiteTitle>" >
<!ENTITY DCEAd "<CiteTitle>OSF DCE DFS Administration Guide and Reference</CiteTitle>" >
<!ENTITY DCEAx "<CiteTitle>OSF DCE GDS Administration Guide and Reference</CiteTitle>" >
<!ENTITY DCEAe "<CiteTitle>OSF DCE Administration Guide&mdash;Extended Services</CiteTitle>" >
<!ENTITY DCEAr "<CiteTitle>OSF DCE Command Reference</CiteTitle>" >
<!ENTITY DCEPg "<CiteTitle>OSF DCE Porting and Testing Guide</CiteTitle>" >
<!ENTITY DCETs "<CiteTitle>OSF DCE Technical Supplement</CiteTitle>" >
<!ENTITY DCETg "<CiteTitle>OSF DCE Problem Determination Guide</CiteTitle>" >
<!ENTITY DCEDc "<CiteTitle>Application Environment Specification/Distributed Computing</CiteTitle>" >
<!ENTITY DCERe "<CiteTitle>OSF DCE Release Notes</CiteTitle>" >
<!ENTITY DCETm "<CiteTitle>OSF DCE Testing Guide</CiteTitle>" >
<!ENTITY DCEHa "<CiteTitle>OSF DCE/File-Access Administration Guide and Reference</CiteTitle>" >
<!ENTITY DCEHu "<CiteTitle>OSF DCE/File-Access User's Guide</CiteTitle>" >
<!ENTITY DCEHt "<CiteTitle>OSF DCE/File-Access FVT User's Guide</CiteTitle>" >
<!--                                              -->
]>
-->
<!-- -->
<!-- OLD HISTORY-->
<!-- Revision 1.1.5.2  1996/03/20  20:46:52  wardr-->
<!-- 	{edit R1.2.1}-->
<!-- 	Release Edits-->
<!-- 	[1996/03/20  20:45:17  wardr]-->
<!---->
<!-- Revision 1.1.5.1  1996/03/10  20:54:24  weir-->
<!-- 	Checkin to cement files in 1.2 tree-->
<!-- 	[1996/03/10  20:53:35  weir]-->
<!-- -->
<!-- Revision 1.1.2.12  1994/10/20  17:25:16  steto-->
<!-- 	{edt, R1.1, Made edits.}-->
<!-- 	[1994/10/20  17:24:42  steto]-->
<!-- -->
<!-- Revision 1.1.2.11  1994/10/19  21:55:29  neilson-->
<!-- 	Automatic fix to mistake in .zA-.zZ-->
<!-- 	[1994/10/19  21:54:35  neilson]-->
<!-- -->
<!-- Revision 1.1.2.10  1994/10/19  21:25:41  steto-->
<!-- 	{edt, R1.1, Made final edits.}-->
<!-- 	[1994/10/19  21:24:40  steto]-->
<!-- -->
<!-- Revision 1.1.2.9  1994/10/13  23:07:24  steto-->
<!-- 	{enh, R1.1, Incorporated review comments.}-->
<!-- 	[1994/10/13  23:04:54  steto]-->
<!-- -->
<!-- Revision 1.1.2.8  1994/10/11  18:58:59  steto-->
<!-- 	{def, CR11918, R1.1, Checked for refs. to Sec Salvager, none exist.}-->
<!-- 	[1994/10/11  18:58:39  steto]-->
<!-- -->
<!-- Revision 1.1.2.7  1994/10/07  15:44:22  steto-->
<!-- 	{edt, R1.1, Checked some text.}-->
<!-- 	[1994/10/07  15:43:49  steto]-->
<!-- -->
<!-- Revision 1.1.2.6  1994/07/12  22:03:09  jshirley-->
<!-- 	{def,10220,R1.1} Remove reference to rpcd and sec_clientd-->
<!-- 	[1994/07/12  22:02:11  jshirley]-->
<!-- -->
<!-- Revision 1.1.2.5  1994/06/13  18:13:13  devobj-->
<!-- 	cr10872 - fix copyright-->
<!-- 	[1994/06/13  18:12:55  devobj]-->
<!-- -->
<!-- Revision 1.1.2.4  1994/05/26  18:09:30  steto-->
<!-- 	{enh, R1.1}-->
<!-- 	Checked out to see if OK for first review.-->
<!-- 	[1994/05/26  18:09:08  steto]-->
<!-- -->
<!-- Revision 1.1.2.3  1993/11/05  20:59:02  millette-->
<!-- 	(enhancement, 8595, R1.0.3)\-->
<!-- 	Minor edits-->
<!-- 	[1993/11/04  22:34:31  millette]-->
<!-- -->
<!-- Revision 1.1.2.2  1993/09/24  19:20:57  millette-->
<!-- 	(enhancement, 8595, R1.0.3)-->
<!-- 	dce_config chapters rewritten-->
<!-- 	[1993/09/24  19:19:29  millette]-->
<!-- -->
<Chapter Id="OSFAGI.MNG.div.1">
<Title>Managing DCE Configurations</Title>
<Para>This chapter describes how to use those <Command>dce_config</Command> functions that help 
you manage the installation and configuration process.  These functions 
are as follows:
</Para>
<ItemizedList>
<ListItem>
<IndexTerm Id="OSFAGI.MNG.indx.1">
<Primary>start</Primary>
<Secondary>dce_config option</Secondary>
</IndexTerm>
<Para><Literal>START</Literal>&mdash;To re-start DCE daemons
</Para>
</ListItem>
<ListItem>
<IndexTerm Id="OSFAGI.MNG.indx.2">
<Primary>stop</Primary>
<Secondary>dce_config option</Secondary>
</IndexTerm>
<Para><Literal>STOP</Literal>&mdash;To stop DCE daemons
</Para>
</ListItem>
<ListItem>
<Para><Literal>UNCONFIGURE</Literal>&mdash;To remove entries for a configured 
client machine from the CDS namespace and from the Security database, 
essentially removing the client machine from the cell.  Likewise to remove
a CDS server, GDA server, or replica Security server from the cell.
<IndexTerm Id="OSFAGI.MNG.indx.3">
<Primary>unconfigure</Primary>
<Secondary>dce_config option</Secondary>
</IndexTerm></Para>
</ListItem>
<ListItem>
<Para><Literal>REMOVE</Literal>&mdash;To stop DCE daemons and remove any data files 
created by those daemons
<IndexTerm Id="OSFAGI.MNG.indx.4">
<Primary>remove</Primary>
<Secondary>dce_config option</Secondary>
</IndexTerm></Para>
</ListItem>
</ItemizedList>
<Para>The <Literal>STOP</Literal> and <Literal>START</Literal> functions provide convenient ways to 
stop and stop all DCE daemons.  The <Literal>UNCONFIGURE</Literal> and <Literal>REMOVE</Literal> 
functions allow you to return a machine to its state before it was 
configured, in effect reversing the effects of the configuration. 
</Para>
<Para>Note that during an install and during a configuration, you are 
prompted for whether or not to remove the remnants of a 
previous configuration.   If you do, it has the 
same effects as running the <Literal>REMOVE</Literal> 
function described in this chapter.  
</Para>
<Para>The instructions given in this chapter assume that you have installed and
are using the administrative utilities and other tools provided in DCE R1.1.
The use of programs supplied in earlier versions of DCE can cause problems
or prevent you from doing what you want to do.
</Para>
<Para>The remainder of this chapter takes you through the steps to use 
the <Literal>START</Literal>, <Literal>STOP</Literal>, <Literal>UNCONFIGURE</Literal> and 
<Literal>REMOVE</Literal>&ensp;functions.   All the functions are chosen from the 
DCE Main Menu, described in Chapter 6.  With the exception of the 
<Literal>UNCONFIGURE</Literal> function, which can be run on a remote machine, 
all functions described in the chapter must be run on the local 
machine.
</Para>
<Sect1 Id="OSFAGI.MNG.div.2">
<Title>Starting DCE Daemons</Title>
<Para><IndexTerm Id="OSFAGI.MNG.indx.5">
<Primary>daemons</Primary>
<Secondary>starting from dce_config</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.MNG.indx.6">
<Primary>servers</Primary>
<Secondary>starting from dce_config</Secondary>
</IndexTerm>As part of configuring a machine, the <Command>dce_config</Command> script 
starts all configured daemons.  The <Literal>START</Literal> function provides a convenient  
way of restarting all DCE daemons that have been successfully configured.  
</Para>
<Para>The <Literal>START</Literal> function invokes the <Filename>/etc/rc.dce</Filename> component 
script and, if DFS is installed on the machine, the 
<Filename>/etc/rc.dfs</Filename> component script.  
You can invoke these scripts directly.  (The component scripts are 
described in Chapter 10.)    
In addition, you can start any DCE daemon manually using 
standard commands.  
</Para>
<Para>To use the <Literal>START</Literal> function to start all DCE daemons,   
at the DCE main Menu, type <Literal>3</Literal> 
and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script attempts to start all daemons that 
have been configured on the machine.  It displays what it is doing 
as it does it.  When the daemons are started, <Command>dce_config</Command> returns 
the DCE Main Menu.
</Para>
<Para>The following is a sample of the information 
displayed by <Command>dce_config</Command> after you select the <Literal>START</Literal> function on 
a server machine; for a client machine, the display is shorter because fewer 
daemons are started.  
Note that when you run this function, it may start some platform-specific 
daemons not shown in the sample display.
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Attempting to start all configured DCE daemons...
        /opt/dcelocal/bin/dced
        /opt/dcelocal/bin/secd
        /opt/dcelocal/bin/cdsadv
        /opt/dcelocal/bin/cdsd
        /opt/dcelocal/bin/dtsd
        /opt/dcelocal/bin/dts_null_provider -p 60 -i 100
S:****** Successfully started all configured DCE daemons.
</ProgramListing></Para>
</InformalExample>
</Sect1>
<Sect1 Id="OSFAGI.MNG.div.3">
<Title>Stopping DCE Daemons</Title>
<Para><IndexTerm Id="OSFAGI.MNG.indx.7">
<Primary>daemons</Primary>
<Secondary>stopping from dce_config</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.MNG.indx.8">
<Primary>servers</Primary>
<Secondary>stopping from dce_config</Secondary>
</IndexTerm>The <Command>dce_config STOP</Command> function provides a convenient way of 
stopping all DCE daemons running on the 
local machine.  
</Para>
<Para>The <Literal>STOP</Literal> function invokes the <Filename>/etc/dce_shutdown</Filename> component 
script and, if DFS is installed on the machine, the 
<Filename>/etc/dfs.clean</Filename> component script.  
You can invoke these scripts directly.  
(The component scripts are described in Chapter 10.)    
In addition, you can stop any DCE daemon manually using 
standard commands.   
</Para>
<Para>To stop all DCE daemons running on the machine, 
at the DCE main Menu, type <Literal>4</Literal> 
and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script attempts to stop all daemons that 
are running on the machine and displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Attempting to stop all running DCE daemons...
</ProgramListing></Para>
</InformalExample>
<Para>After <Command>dce_config</Command> stops the daemons, it displays the following 
message and returns the DCE Main Menu.
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Successfully stopped all running DCE daemons.
</ProgramListing></Para>
</InformalExample>
</Sect1>
<Sect1 Id="OSFAGI.MNG.div.4">
<Title>Unconfiguring Client and Server Machines</Title>
<Para><IndexTerm Id="OSFAGI.MNG.indx.9">
<Primary>clients</Primary>
<Secondary>unconfiguring</Secondary>
</IndexTerm>
<IndexTerm Id="OSFAGI.MNG.indx.10">
<Primary>servers</Primary>
<Secondary>unconfiguring</Secondary>
</IndexTerm>The <Literal>UNCONFIGURE</Literal> function is used to reverse the effects of configuring
a client or server machine.  This function unconfigures machines by removing
their entries from the cell namespace and Security registry.
</Para>
<Para>The <Literal>UNCONFIGURE</Literal> function only unconfigures CDS servers and Security
replica servers.  It does not unconfigure the Security master server.
</Para>
<Para>To completely unconfigure a machine, you must also run the <Literal>REMOVE</Literal>
function.  The <Literal>REMOVE</Literal> function will delete any files created during
the machine's configuration.
</Para>
<Para>Before you can run the <Literal>UNCONFIGURE</Literal> function, all the DCE daemons on the 
machine must be running.   If you need to restart daemons, run the
<Literal>START</Literal> function. 
</Para>
<Para>If the configuration of a Security and CDS client did not 
complete successfully, you must unconfigure the machine from some other 
machine in the cell. 
</Para>
<Para>The <Literal>UNCONFIGURE</Literal> function invokes the <Filename>/etc/dce.unconfig</Filename> component 
script and, if DFS is installed on the machine, the 
<Filename>/etc/dfs.unconfig</Filename> component script.  
You can invoke these component scripts directly.  
(The component scripts are described in Chapter 10.)    
</Para>
<Para>Unlike other <Command>dce_config</Command> functions, 
you can run the <Literal>UNCONFIGURE</Literal> function remotely.  
</Para>
<Para>The steps to unconfigure either a server or client machine are the following:
</Para>
<OrderedList>
<ListItem>
<Para>At the DCE Main Menu, type <Literal>5</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following message:
</Para>
<InformalExample>
<Para><ProgramListing>S:****** Attempting to unconfigure a node from the 
cell name space...
</ProgramListing></Para>
</InformalExample>
<Para>Then, <Command>dce_config</Command> prompts for the name of the machine to unconfigure:
</Para>
<InformalExample>
<Para><ProgramListing>Enter hostname of node to be unconfigured: (<Symbol Role="Variable">host_name</Symbol>)
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the name of the machine to be unconfigured and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script displays the following prompt:
</Para>
<InformalExample>
<Para><ProgramListing>Unconfiguring a node will remove the node's ability
to operate in the cell.  A reconfiguration of the node
will be required.
Do you wish to continue (y/n)? (n) 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type <Literal>y</Literal> to continue and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>If you continue, <Command>dce_config</Command> prompts:
</Para>
<InformalExample>
<Para><ProgramListing>Enter the Cell Administrator's principal name: (cell_admin)
</ProgramListing></Para>
</InformalExample>
<Para>Type the name of the principal who was defined to be the initial privileged 
user of the registry database during the configuration of the master 
Security server and 
press <Literal>&lt;Return&gt;</Literal>.  
</Para>
<Para>The <Command>dce_config</Command> script prompts: 
</Para>
<InformalExample>
<Para><ProgramListing>Enter password:
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Type the password for the initial privileged user's account and 
press <Literal>&lt;Return&gt;</Literal>.  Note that this password is not displayed as you 
type it.
</Para>
<Para>The <Command>dce_config</Command> script deletes the entries in the registry and 
the CDS namespace for the machine.
</Para>
<Para>When it completes the unconfigure, <Command>dce_config</Command> displays the DCE Main Menu.
</Para>
</ListItem>
</OrderedList>
<Para>Note if you are unconfigure a host on that host, the <Command>dce_config</Command>
script will automatically run the <Command>dce_shutdown</Command> component script to
shutdown all the DCE daemons.
</Para>
</Sect1>
<Sect1 Id="OSFAGI.MNG.div.5">
<Title>Removing the Results of a Configuration</Title>
<Para><IndexTerm Id="OSFAGI.MNG.indx.11">
<Primary>daemons</Primary>
<Secondary>removing configured</Secondary>
</IndexTerm>The <Literal>REMOVE</Literal> function removes the results of a client
or server machine configuration.  Before using <Literal>REMOVE</Literal> function on a
machine, run the <Literal>UNCONFIGURE</Literal> function on that machine.
</Para>
<Para>Remember that each cell requires a master Security server and a 
CDS server.  If you remove these servers in the process of unconfiguring
either a client or server machine, you must reconfigure 
them and all client machines for the cell to operate.
</Para>
<Para>The <Literal>REMOVE</Literal> function invokes 
the <Filename>/etc/dce_shutdown</Filename> component script.  If the 
any DCE daemons are running when you run the <Literal>REMOVE</Literal> function, 
the <Filename>/etc/dce_shutdown</Filename> component, will invoke 
the <Filename>/etc/dce.clean</Filename> component script to stop them.
Similarly, if DFS is installed on the machine, the 
<Literal>REMOVE</Literal> function invokes the <Filename>/etc/dfs.rm</Filename> component script 
and, if necessary, the <Filename>/etc/dfs.clean</Filename> component script.
</Para>
<Para>You can invoke these component scripts directly.  If you do, be sure to 
invoke the <Filename>.shutdown</Filename> and <Filename>.clean</Filename> scripts before the <Filename>.rm</Filename>
scripts.  (The component scripts are described in Chapter 10.) 
</Para>
<Para>To remove the results of a machine configuration, perform the 
following steps.
</Para>
<OrderedList>
<ListItem>
<Para>At the DCE Main Menu, type <Literal>6</Literal> and press <Literal>&lt;Return&gt;</Literal>.
</Para>
<Para>The <Command>dce_config</Command> script prompts to remind you that the 
<Literal>REMOVE</Literal> function removes all effects of the last configuration  
that client machines must be unconfigured before <Literal>REMOVE</Literal> is run.  
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">REMOVE will remove the node's ability to operate in the cell.
A reconfiguration of the node will be required.  If this is not
a server node, then this node should be unconfigured before a
REMOVE is done.  Do you wish to continue (y/n)? (n) 
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Press <Literal>&lt;Return&gt;</Literal> to continue.
</Para>
<Para>The <Command>dce_config</Command> script proceeds to remove all effects of the 
configuration of all DCE components on the machine.  As it does, 
it displays the following messages.
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">S:****** Attempting to stop all running DCE daemons...
S:****** Successfully stopped all running DCE daemons.
S:****** Attempting to remove all remnants of previous DCE configurations...
S:****** Successfully removed all remnants of previous DCE configurations 
         for all components.
</ProgramListing></Para>
</InformalExample>
<Para>When the process is complete, <Command>dce_config</Command> displays the 
DCE Main Menu.
</Para>
</ListItem>
</OrderedList>
<Note>
<Para>The <Literal>REMOVE</Literal> function does not delete the binaries installed 
on the machine during installation.  To do this, invoke the 
<Command>dce.rm</Command> component script with the <Literal>install</Literal> option 
for the core component binaries or the <Command>dfs.rm</Command> component 
script with the <Literal>install</Literal> option for the DFS binaries.
</Para>
</Note>
</Sect1>
</Chapter>
<!--+ 09/15/96 22:56:32
<<<<<<< 1.1.2.4
    | tagMorph:  $Id: 8.1_managing.sgm,v 1.1.2.9 1996/12/17 19:27:59 damon Exp $
    | tagMorph library:  $Id: 8.1_managing.sgm,v 1.1.2.9 1996/12/17 19:27:59 damon Exp $
======
    | tagMorph:  $Id: 8.1_managing.sgm,v 1.1.2.9 1996/12/17 19:27:59 damon Exp $
    | tagMorph library:  $Id: 8.1_managing.sgm,v 1.1.2.9 1996/12/17 19:27:59 damon Exp $
>>>>>>> 1.1.3.2
    | sml-to-docbook:  1.21
    +-->

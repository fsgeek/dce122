<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: fts_release.8dfs,v $
# Revision 1.1.2.5  1996/12/15  22:32:30  wardr
# 	{edit,R1.2.2}
# 	Fixed formatting problems
# 	[1996/12/15  22:32:06  wardr]
#
# Revision 1.1.2.4  1996/11/07  18:55:17  weir
# 	Cleaned up history
# 	[1996/11/07  18:54:53  weir]
# 
# Revision 1.1.2.3  1996/10/28  17:45:33  carrig
# 	{enh,R1.2.2}
# 	Ready for editing
# 	[1996/10/28  17:42:08  carrig]
# 
# Revision 1.1.2.2  1996/10/25  16:46:13  carrig
# 	{enh,R1.2.2}
# 	Fixed VarLists
# 	[1996/10/25  16:45:38  carrig]
# 
# Revision 1.1.2.1  1996/10/22  20:56:59  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 	[1996/10/22  20:51:57  wardr]
# 
# Revision 1.1.1.2  1996/10/22  20:51:57  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 
# $EndLog$
-->
<!---->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<RefEntry Id="DFSAGR.MAN159.rsml.1">
<RefMeta>
<RefEntryTitle>fts release</RefEntryTitle>
<ManVolNum>8dfs</ManVolNum>
</RefMeta>
<RefNameDiv>
<RefName><Command>fts release</Command></RefName>
<RefPurpose>Initiates Release Replication by placing read-only
version of a read/write DCE LFS fileset at the local site
</RefPurpose>
</RefNameDiv>
<!---->
<!--  COPYRIGHT NOTICE-->
<!--  Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.-->
<!--  Copyright (C) 1989, 1991, 1992, 1993 Transarc Corporation-->
<!--  ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the-->
<!--  src directory for the full copyright text.-->
<!---->
<!---->
<!-- HISTORY-->
<!-- Revision 1.1.12.1  1996/05/14  20:26:55  wardr-->
<!-- 	{enh,R1.2.2}-->
<!-- 	Removed changebars-->
<!-- 	[1996/05/14  20:22:13  wardr]-->
<!---->
<!-- Revision 1.1.10.3  1995/10/04  15:41:30  wfl-->
<!-- 	{def, 13140, R1.2.1}-->
<!-- 	Fixed quotes in change markers-->
<!-- 	[1995/10/04  15:41:11  wfl]-->
<!-- -->
<!-- Revision 1.1.10.2  1995/09/18  19:06:51  wfl-->
<!-- 	{enh,13109,R1.2.1}-->
<!-- 	add -wait option-->
<!-- 	[1995/09/18  19:05:56  wfl]-->
<!-- -->
<!-- Revision 1.1.10.1  1995/09/15  19:50:48  wfl-->
<!-- 	{enh, 13096, R1.2.1}-->
<!-- 	Add information detailing that read-only fileset replication is now-->
<!-- 	parallel (not serial).-->
<!-- 	[1995/09/15  19:50:26  wfl]-->
<!-- -->
<!-- Revision 1.1.8.8  1995/07/24  14:14:50  buckler-->
<!-- 	1.1 edits and Prentice Hall reformat-->
<!-- 	[1995/07/24  14:13:01  buckler]-->
<!-- -->
<!-- Revision 1.1.8.7  1995/07/13  23:00:58  buckler-->
<!-- 	no change-->
<!-- 	[1995/07/13  22:58:26  buckler]-->
<!-- -->
<!-- Revision 1.1.8.6  1994/05/27  18:40:13  jeff-->
<!-- 	{defect, 10752, R1.1}-->
<!-- 	Minor technical clarification for replication commands.-->
<!-- 	[1994/05/27  18:38:55  jeff]-->
<!-- -->
<!-- Revision 1.1.8.5  1993/10/08  15:03:27  weir-->
<!-- 	Inserted Transarc copyright-->
<!-- 	[1993/10/08  14:59:35  weir]-->
<!-- -->
<!-- Revision 1.1.8.4  1993/09/23  13:35:53  kdu-->
<!-- 	{def,7715,R1.0.3}-->
<!-- 	Examples of sysname.-->
<!-- -->
<!-- 	{def,8634,R1.0.3}-->
<!-- 	Change anonymous to nobody.-->
<!-- 	[1993/09/23  13:35:26  kdu]-->
<!-- -->
<!-- Revision 1.1.8.3  1993/09/15  21:48:41  kdu-->
<!-- 	{def,8515,R1.0.3}-->
<!-- 	Availability of read-only filesets.-->
<!-- 	[1993/09/15  21:47:41  kdu]-->
<!-- -->
<!-- Revision 1.1.8.2  1993/08/04  18:58:19  tmw-->
<!-- 	Added index entries for second version of master index.-->
<!-- 	[1993/08/04  18:41:11  tmw]-->
<!-- -->
<!-- Revision 1.1.6.5  1993/01/28  02:34:44  dbelch-->
<!-- 	Embedding copyright notice-->
<!-- 	[1993/01/28  00:52:08  dbelch]-->
<!-- -->
<!-- Revision 1.1.6.4  1992/11/12  19:43:40  jeff-->
<!-- 	Fix for defect 5120, correct description of -localauth option.-->
<!-- 	[1992/11/12  18:47:57  jeff]-->
<!-- -->
<!-- Revision 1.1.6.3  1992/11/02  20:21:49  jeff-->
<!-- 	Fix for defect 5879, remove additional local-mounting restrictions.-->
<!-- 	[1992/11/02  20:15:14  jeff]-->
<!-- -->
<!-- Revision 1.1.6.2  1992/09/10  15:40:00  weir-->
<!-- 	Removed change bar macros; moved into 1.0.2doc tree-->
<!-- 	[1992/09/10  14:22:47  weir]-->
<!-- -->
<!-- Revision 1.1.4.2  1992/09/08  19:07:31  casey-->
<!-- 	Prentice Hall production-->
<!-- 	[1992/09/08  16:58:28  casey]-->
<!-- -->
<!-- Revision 1.1.2.7  1992/06/09  21:49:55  jeff-->
<!-- 	Made a very small editorial clarification.-->
<!-- 	[1992/06/09  21:49:27  jeff]-->
<!-- -->
<!-- Revision 1.1.2.6  1992/05/07  15:39:39  jeff-->
<!-- 	Modified parenthetical description of "mounted locally."-->
<!-- 	[1992/05/07  00:37:30  jeff]-->
<!-- -->
<!-- Revision 1.1.2.5  1992/05/01  18:49:34  jeff-->
<!-- 	Edited to clearly reflect the fact that the command works only-->
<!-- 	with DCE LFS filesets.-->
<!-- 	[1992/05/01  16:56:11  jeff]-->
<!-- -->
<!-- Revision 1.1.2.4  1992/04/29  20:36:12  jeff-->
<!-- 	Modified syntax and description of -noauth and -localauth options.-->
<!-- 	Also fixed formatting problems with italicized text and changed-->
<!-- 	lists of commands under Related Information to be inline.-->
<!-- 	[1992/04/28  00:41:21  jeff]-->
<!-- -->
<!-- Revision 1.1.2.3  1992/04/20  21:49:35  jeff-->
<!-- 	Updated to better describe use of local replica with Release-->
<!-- 	Replication.-->
<!-- 	[1992/04/20  16:47:27  jeff]-->
<!-- -->
<!-- Revision 1.1.2.2  1992/04/09  14:55:57  jeff-->
<!-- 	Added a note describing the command's limitation with respect to-->
<!-- 	  locally mounted DCE LFS filesets.-->
<!-- 	[1992/04/08  22:53:05  jeff]-->
<!-- -->
<!-- Revision 1.1  1992/01/29  15:51:48  damon-->
<!-- 	Initial revision-->
<!-- -->
<!---->
<!-- (c) Copyright 1991, Open Software Foundation, Inc.  ALL RIGHTS RESERVED-->
<IndexTerm Id="DFSAGR.MAN159.indx.1">
<Primary><Command>fts</Command> command suite</Primary>
<Secondary><Command>release</Command></Secondary>
</IndexTerm>
<IndexTerm Id="DFSAGR.MAN159.indx.2">
<Primary>replication</Primary>
<Secondary>initiating</Secondary>
</IndexTerm>
<IndexTerm Id="DFSAGR.MAN159.indx.3">
<Primary>Release Replication</Primary>
<Secondary>initiating</Secondary>
</IndexTerm>
<RefSynopsisDiv>
<CmdSynopsis>
<Command>fts release</Command>
<Arg Choice="plain"><Option>fileset</Option></Arg>
<Group Choice="req">
<Arg Choice="plain"><Replaceable>name</Replaceable></Arg>
<Arg Choice="plain"><Replaceable>ID</Replaceable></Arg>
</Group>
<Arg Choice="opt"><Option>wait</Option></Arg>
<Arg Choice="opt"><Option>cell</Option><Replaceable>cellname</Replaceable></Arg>
<Group Choice="opt">
<Group Choice="req">
<Arg Choice="plain"><Option>noauth</Option></Arg>
<Arg Choice="plain"><Option>localauth</Option></Arg>
</Group>
</Group>
<Arg Choice="opt"><Option>verbose</Option></Arg>
<Arg Choice="opt"><Option>help</Option></Arg>
</CmdSynopsis>
</RefSynopsisDiv>
<RefSect1>
<Title>OPTIONS</Title>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>fileset</Option> {<Symbol Role="Variable">name</Symbol> | <Symbol Role="Variable">ID</Symbol>}</Term>
<ListItem>
<Para>Specifies the complete name or fileset ID number of the read/write fileset to
be replicated locally (cloned if the local replication site is defined on the
same aggregate as the read/write fileset).  Once the fileset is replicated
locally, the Replication Servers at the fileset's replication sites copy the
replica to their sites.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>cell </Option><Symbol Role="Variable">cellname</Symbol></Term>
<ListItem>
<Para>Specifies the cell where the command is to be run.  The default is the local
cell of the issuer of the command.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>wait</Option></Term>
<ListItem>
<Para>Directs the command to not terminate (return a prompt) until all
replicas are up to date.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>noauth</Option></Term>
<ListItem>
<Para>Directs <Command>fts</Command> to use the unprivileged identity <Literal>nobody</Literal> as the
identity of the issuer of the command.  If you use this option, do not use
the <Option>localauth</Option> option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>localauth</Option></Term>
<ListItem>
<Para>Directs <Command>fts</Command> to use the DFS server principal name of the machine on which
the command is issued as the identity of the issuer.  Use this option only if
the command is issued from a DFS server machine (a machine that has a DFS
server principal in the local Registry Database).  You must be logged into the
server machine as <Literal>root</Literal> for this option to work.  If you use this option,
do not use the <Option>noauth</Option> option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>verbose</Option></Term>
<ListItem>
<Para>Directs <Command>fts</Command> to provide detailed information about its actions as it
executes the command.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>help</Option></Term>
<ListItem>
<Para>Prints the online help for this command.  All other valid options specified
with this option are ignored.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<?sml-break>
<?sml-need 15>
</RefSect1>
<RefSect1>
<Title>DESCRIPTION</Title>
<Para>The <Command>fts release</Command> command is used to initiate the replication process for
a fileset that uses Release Replication.  The command "releases" a new read-only
copy of the DCE LFS fileset specified with the <Option>fileset</Option> option.  It
places the new read-only copy at the local replication site defined on the
same File Server machine as the read/write fileset.  The Replication Servers
at each of the fileset's replication sites (specified File Server machines
and aggregates) then update the copies of the read-only replica at the sites
on their respective machines.
</Para>
<Para>Note that, as with updating a new version of a fileset that uses Scheduled
Replication, releasing a fileset that uses Release Replication does not ensure
immediate access to data in the new version of the replica.  A Cache Manager
continues to provide data cached from the old version of the replica until
the MaxAge for the fileset expires or until the Cache Manager needs to access
data from the replica that it has not already cached.
</Para>
<Para>To gain immediate access to data in the new version of the replica,
issue the <Command>cm flush</Command> or <Command>cm flushfileset</Command> command to flush the
old data from the cache.  This forces the Cache Manager to replace
data it has cached from the replica. Replication Servers begin
replication in parallel; however, until all replicas have been
updated, you cannot directly force the Cache Manager to access data
from the new version of the replica.
</Para>
<Para>Before the <Command>fts release</Command> command can be used, the <Command>fts
setrepinfo</Command> command must be used to define the replication
parameters for the read/write fileset.  If Release Replication is to
be used, the <Option>release</Option> option must be specified with the <Command>fts
setrepinfo</Command> command.  The <Command>fts addsite</Command> command must also be
used to define the replication sites for the read/write fileset.  For
Release Replication, the replication site on the same File Server
machine as the read/write fileset must be defined first.  The
read/write fileset must have at least one replication site defined
before the <Command>fts release</Command> command can be issued.  The replication
parameters and sites for a read/write fileset are recorded in the
fileset's entry in the Fileset Location Database (FLDB).
</Para>
<Para>The <Command>fts release</Command> command does not alter the replication type and
parameters defined for the specified fileset.  The command can be used only
with a fileset that uses Release Replication; it returns an error if the
specified fileset uses Scheduled Replication.  The <Command>fts update</Command> command
can be used to request an immediate update of the replicas of a fileset that
uses Scheduled Replication.
</Para>
<Para>Use the <Command>fts lsreplicas</Command> command to check the status of replicas.  Use the
<Command>fts statrepserver</Command> command to check the status of the Replication Server
on a File Server machine.
<?sml-break><?sml-need 10></Para>
<RefSect2>
<Title>Privilege Required</Title>
<Para>The issuer must be listed in the <Filename>admin.ft</Filename> file on the machine on which
the source read/write fileset is stored.  The issuer must also be listed in the
<Filename>admin.fl</Filename> files on all Fileset Database machines or own the server entries
for the machine on which the source fileset resides and all machines on which
the read-only replicas are to reside.
</Para>
</RefSect2>
</RefSect1>
<RefSect1>
<Title>EXAMPLES</Title>
<Para>The following command releases (initiates Release Replication for) the fileset
named <Literal>pmax_osf1.bin</Literal>:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput>$ <Literal>fts release pmax_osf1.bin</Literal>
</UserInput></ProgramListing></Para>
</InformalExample>
</RefSect1>
<RefSect1>
<Title>RELATED INFORMATION</Title>
<!--no-op:  l-->
<Para>Commands:
<Literal>cm&ensp;flush(8dfs)</Literal>,
<Literal>cm&ensp;flushfileset(8dfs)</Literal>,
<Literal>fts&ensp;addsite(8dfs)</Literal>,
<Literal>fts&ensp;lsreplicas(8dfs)</Literal>,
<Literal>fts&ensp;setrepinfo(8dfs)</Literal>,
<Literal>fts&ensp;statrepserver(8dfs)</Literal>,
<Literal>fts&ensp;update(8dfs)</Literal>.
<!--no-op:  b-->
<IndexTerm Id="DFSAGR.MAN159.indx.4" SpanEnd="DFSAGR.MAN159.indx.1"><IndexTerm Id="DFSAGR.MAN159.indx.5" SpanEnd="DFSAGR.MAN159.indx.2"><IndexTerm Id="DFSAGR.MAN159.indx.6" SpanEnd="DFSAGR.MAN159.indx.3"></Para>
</RefSect1>
<!--+ 10/19/96 18:43:16
    | tagMorph:  $Id: fts_release.8dfs,v 1.1.2.5 1996/12/15 22:32:30 wardr Exp $
    | tagMorph library:  $Id: fts_release.8dfs,v 1.1.2.5 1996/12/15 22:32:30 wardr Exp $
    | sml-to-docbook:  1.23
    +-->
</RefEntry>

<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: fts_delfldbentry.8dfs,v $
# Revision 1.1.2.4  1996/11/07  18:53:31  weir
# 	Cleaned up history
# 	[1996/11/07  18:53:07  weir]
#
# Revision 1.1.2.3  1996/10/28  17:45:16  carrig
# 	{enh,R1.2.2}
# 	Ready for editing
# 	[1996/10/28  17:41:43  carrig]
# 
# Revision 1.1.2.2  1996/10/25  16:43:51  carrig
# 	{enh,R1.2.2}
# 	Fixed VarLists
# 	[1996/10/25  16:43:21  carrig]
# 
# Revision 1.1.2.1  1996/10/22  20:56:33  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 	[1996/10/22  20:51:43  wardr]
# 
# Revision 1.1.1.2  1996/10/22  20:51:43  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 
# $EndLog$
-->
<!---->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<RefEntry Id="DFSAGR.MAN143.rsml.1">
<RefMeta>
<RefEntryTitle>fts delfldbentry</RefEntryTitle>
<ManVolNum>8dfs</ManVolNum>
</RefMeta>
<RefNameDiv>
<RefName><Command>fts delfldbentry</Command></RefName>
<RefPurpose><Command>fts delfldbentry</Command> &minus; Removes a specified entry from the FLDB
</RefPurpose>
</RefNameDiv>
<!---->
<!--  COPYRIGHT NOTICE-->
<!--  Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.-->
<!--  Copyright (C) 1989, 1991, 1992, 1993 Transarc Corporation-->
<!--  ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the-->
<!--  src directory for the full copyright text.-->
<!---->
<!---->
<!-- HISTORY-->
<!-- Revision 1.1.8.8  1995/07/24  14:14:36  buckler-->
<!-- 	1.1 edits and Prentice Hall reformat-->
<!-- 	[1995/07/24  14:12:41  buckler]-->
<!---->
<!-- Revision 1.1.8.7  1995/07/13  23:00:41  buckler-->
<!-- 	no change-->
<!-- 	[1995/07/13  22:58:05  buckler]-->
<!-- -->
<!-- Revision 1.1.8.6  1994/05/06  13:55:25  jeff-->
<!-- 	{defect, 10552, R1.1}-->
<!-- 	Fix index entry inconsistencies.-->
<!-- 	[1994/05/06  13:53:35  jeff]-->
<!-- -->
<!-- Revision 1.1.8.5  1993/10/08  15:03:01  weir-->
<!-- 	Inserted Transarc copyright-->
<!-- 	[1993/10/08  14:59:21  weir]-->
<!-- -->
<!-- Revision 1.1.8.4  1993/09/23  14:39:22  kdu-->
<!-- 	{def,8634,R1.0.3}-->
<!-- 	Change anonymous to nobody.-->
<!-- 	[1993/09/23  14:38:55  kdu]-->
<!-- -->
<!-- Revision 1.1.8.3  1993/09/16  12:42:38  kdu-->
<!-- 	{def,5778,R1.0.3}-->
<!-- 	Short forms of machine names.-->
<!-- 	[1993/09/16  12:42:17  kdu]-->
<!-- -->
<!-- Revision 1.1.8.2  1993/08/04  18:56:23  tmw-->
<!-- 	Added index entries for second version of master index.-->
<!-- 	[1993/08/04  18:39:26  tmw]-->
<!-- -->
<!-- Revision 1.1.6.4  1993/01/28  02:15:23  dbelch-->
<!-- 	Embedding copyright notice-->
<!-- 	[1993/01/28  00:51:18  dbelch]-->
<!-- -->
<!-- Revision 1.1.6.3  1992/11/12  19:14:09  jeff-->
<!-- 	Fix for defect 5120, correct description of -localauth option.-->
<!-- 	[1992/11/12  18:45:05  jeff]-->
<!-- -->
<!-- Revision 1.1.6.2  1992/09/10  15:34:45  weir-->
<!-- 	Removed change bar macros; moved into 1.0.2doc tree-->
<!-- 	[1992/09/10  14:20:16  weir]-->
<!-- -->
<!-- Revision 1.1.4.2  1992/09/08  19:05:22  casey-->
<!-- 	Prentice Hall production-->
<!-- 	[1992/09/08  16:56:47  casey]-->
<!-- -->
<!-- Revision 1.1.2.5  1992/05/08  18:20:15  jeff-->
<!-- 	Edited and clarified the effect of the command on the-->
<!-- 	number of fileset entries recorded in the server entry-->
<!-- 	for the affected File Server machine.-->
<!-- 	[1992/05/08  18:08:53  jeff]-->
<!-- -->
<!-- Revision 1.1.2.4  1992/05/07  15:22:07  jeff-->
<!-- 	Clarified and corrected descriptions of the use of the command's-->
<!-- 	primary options (-fileset, -prefix, -server, and -aggregate).  The-->
<!-- 	reference page was both unclear and incorrect (a deadly duo) in previous-->
<!-- 	incarnations.-->
<!-- 	[1992/05/06  00:43:03  jeff]-->
<!-- -->
<!-- Revision 1.1.2.3  1992/04/30  14:50:05  jeff-->
<!-- 	*** empty log message ***-->
<!-- -->
<!-- Revision 1.1.2.2  1992/04/29  19:34:05  jeff-->
<!-- 	Modified syntax and description of -noauth and -localauth options.-->
<!-- 	Also fixed formatting problems with italicized text and changed-->
<!-- 	lists of commands under Related Information to be inline.-->
<!-- 	[1992/04/28  00:18:46  jeff]-->
<!-- -->
<!-- Revision 1.1  1992/01/29  15:51:07  damon-->
<!-- 	Initial revision-->
<!-- -->
<!---->
<!-- (c) Copyright 1991, Open Software Foundation, Inc.  ALL RIGHTS RESERVED-->
<!--DOCUMENTSTYLE [12pt]{book}-->
<IndexTerm Id="DFSAGR.MAN143.indx.1">
<Primary><Command>fts</Command> command suite</Primary>
<Secondary><Command>delfldbentry</Command></Secondary>
</IndexTerm>
<IndexTerm Id="DFSAGR.MAN143.indx.2">
<Primary>Fileset Location Database</Primary>
<Secondary>deleting fileset entries</Secondary>
</IndexTerm>
<RefSynopsisDiv>
<CmdSynopsis>
<Command>fts delfldbentry</Command>
<Group Choice="req">
<Arg Choice="plain"><Option>fileset</Option></Arg>
<Group Choice="req">
<Arg Choice="plain"><Replaceable>name</Replaceable></Arg>
<Arg Choice="plain"><Replaceable>ID</Replaceable></Arg>
</Group>
<Arg Choice="plain"><Option>prefix</Option><Replaceable>string</Replaceable></Arg>
</Group>
<Arg Choice="opt"><Option>server</Option><Replaceable>machine</Replaceable></Arg>
<Arg Choice="opt"><Option>aggregate</Option><Replaceable>name</Replaceable></Arg>
<Arg Choice="opt"><Option>cell</Option><Replaceable>cellname</Replaceable></Arg>
<Group Choice="opt">
<Group Choice="req">
<Arg Choice="plain"><Option>noauth</Option></Arg>
<Arg Choice="plain"><Option>localauth</Option></Arg>
</Group>
</Group>
<Arg Choice="opt"><Option>verbose</Option></Arg>
<Arg Choice="opt"><Option>help</Option></Arg>
</CmdSynopsis>
</RefSynopsisDiv>
<RefSect1>
<Title>OPTIONS</Title>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>fileset</Option> {<Symbol Role="Variable">name</Symbol> | <Symbol Role="Variable">ID</Symbol>}</Term>
<ListItem>
<Para>Specifies the complete name or fileset ID number of a fileset.  The entire
entry for the fileset is removed from the Fileset Location Database (FLDB),
regardless of whether the read/write, read-only, or backup version of the
fileset is specified.  Provide this option or use the <Option>prefix</Option> option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>prefix </Option><Symbol Role="Variable">string</Symbol></Term>
<ListItem>
<Para>Specifies a character string of any length.  Every FLDB entry that lists a
fileset whose name begins with this exact string is removed (unless
more restrictive constraints are specified with the <Option>server</Option> and
optionally <Option>aggregate</Option> options).  Include field separators such as
dots if appropriate.  Provide this option (optionally with <Option>server</Option>
and <Option>aggregate</Option>) or use the <Option>fileset</Option> option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>server </Option><Symbol Role="Variable">machine</Symbol></Term>
<ListItem>
<Para>Names a File Server machine.  If a fileset's name matches the specified
<Option>prefix</Option> and it is listed as residing on the specified File Server
machine, its entry is removed from the FLDB. Specify the File Server machine 
using the machine's DCE pathname, the machine's host name, or the machine's 
IP address.  If this option is used, <Option>prefix</Option> must be used; 
<Option>aggregate</Option> can also be used.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>aggregate </Option><Symbol Role="Variable">name</Symbol></Term>
<ListItem>
<Para>Specifies the device name, aggregate name, or aggregate ID of an aggregate
or partition on <Option>server</Option>.  These identifiers are specified in the first,
second, and fourth fields of the entry for the aggregate or partition in the
<Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/dfstab</Filename> file.  If a fileset's name matches the
specified <Option>prefix</Option> and it resides on the specified aggregate on
<Option>server</Option>, its entry is removed from the FLDB. If this option is used,
<Option>prefix</Option> and <Option>server</Option> must be used.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>cell </Option><Symbol Role="Variable">cellname</Symbol></Term>
<ListItem>
<Para>Specifies the cell where the command is to be run.  The default is the local
cell of the issuer of the command.
<?sml-break><?sml-need 10></Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>noauth</Option></Term>
<ListItem>
<Para>Directs <Command>fts</Command> to use the unprivileged identity <Literal>nobody</Literal> as the
identity of the issuer of the command.  If you use this option, do not use the
<Option>localauth</Option> option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>localauth</Option></Term>
<ListItem>
<Para>Directs <Command>fts</Command> to use the DFS server principal name of the machine on which
the command is issued as the identity of the issuer.  Use this option only if
the command is issued from a DFS server machine (a machine that has a DFS
server principal in the local Registry Database).  You must be logged into the
server machine as <Literal>root</Literal> for this option to work.  If you use this option,
do not use the <Option>noauth</Option> option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>verbose</Option></Term>
<ListItem>
<Para>Directs <Command>fts</Command> to provide detailed information about its actions as it
executes the command.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>help</Option></Term>
<ListItem>
<Para>Prints the online help for this command.  All other valid options specified
with this option are ignored.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
</RefSect1>
<RefSect1>
<Title>DESCRIPTION</Title>
<IndexTerm Id="DFSAGR.MAN143.indx.3">
<Primary>filesets</Primary>
<Secondary>removing varying numbers</Secondary>
</IndexTerm>
<Para>The <Command>fts delfldbentry</Command> command removes the entries for all indicated
filesets from the FLDB. Regardless of the version of a fileset (read/write,
read-only, or backup) specified with the command, the fileset's entire entry is
removed.  The command has no effect on actual filesets on File Server machines,
only on their FLDB entries.
</Para>
<Para>The command also decrements the number of fileset entries recorded in server
entries, as appropriate.  For each version of a fileset whose entry is removed
from the FLDB, the number of fileset entries recorded in the server entry for
the File Server machine it resides on is reduced by one.
</Para>
<Para>By using the <Option>fileset</Option> option alone or combining the <Option>prefix</Option>,
<Option>server</Option>, and <Option>aggregate</Option> options in increasingly specific ways,
FLDB entries can be removed for varying numbers of filesets.  To remove the
FLDB entry for
<!--no-op:  l-->
</Para>
<ItemizedList>
<ListItem>
<Para>A single fileset, specify <Option>fileset</Option>.
</Para>
</ListItem>
<ListItem>
<Para>Every fileset whose name begins with a certain character string (for example,
<Literal>sys.</Literal> or <Literal>user.</Literal>), regardless of site, specify <Option>prefix</Option>.
</Para>
</ListItem>
<ListItem>
<Para>Every fileset whose name begins with a certain character string and that is
stored on a specific File Server machine, specify <Option>prefix</Option> and
<Option>server</Option>.
</Para>
</ListItem>
<ListItem>
<Para>Every fileset whose name begins with a certain character string and that is
stored on a specific aggregate of a specific File Server machine, specify
<Option>prefix</Option>, <Option>server</Option>, and <Option>aggregate</Option>.
</Para>
</ListItem>
</ItemizedList>
<!--no-op:  b-->
<Para><?sml-need 10>This command can be used if the issuer is certain that a fileset removal is
not recorded in the FLDB and does not want to take the time to synchronize
an entire File Server machine.  It can also be used to remove the FLDB entry
for a non-LFS fileset to be removed from the global namespace. (Use the
<Command>fts rmsite</Command> command to remove an incorrect entry for a read-only site
from the FLDB.)
</Para>
<RefSect2>
<Title>Privilege Required</Title>
<Para>The issuer must be listed in the <Filename>admin.fl</Filename> files on all Fileset Database
machines or own the server entry for each machine that houses a version of any
fileset whose FLDB entry is to be removed.
</Para>
</RefSect2>
</RefSect1>
<RefSect1>
<Title>CAUTIONS</Title>
<Para>Do not use this command as the standard way to remove a fileset entry from the
FLDB. It can make the FLDB inconsistent with the filesets on server machines.
Use the <Command>fts delete</Command> command to remove the fileset entry from the FLDB at
the same time that the fileset is deleted.  Also, because it can be used to
remove multiple FLDB entries simultaneously, use this command carefully.
</Para>
</RefSect1>
<RefSect1>
<Title>EXAMPLES</Title>
<Para>The following command removes the FLDB entry for the fileset <Literal>user.temp</Literal>:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput>$ <Literal>fts delfldbentry user.temp</Literal>
</UserInput></ProgramListing></Para>
</InformalExample>
<Para>The following command removes all FLDB entries for filesets whose names begin
with <Literal>test</Literal> and that are stored on the File Server machine named <Literal>fs3</Literal>:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput>$ <Literal>fts delfldbentry -prefix test -server /.../abc.com/hosts/fs3</Literal>
</UserInput></ProgramListing></Para>
</InformalExample>
</RefSect1>
<RefSect1>
<Title>RELATED INFORMATION</Title>
<!--no-op:  l-->
<Para>Commands:
<Literal>fts&ensp;clone(8dfs)</Literal>,
<Literal>fts&ensp;delete(8dfs)</Literal>,
<Literal>fts&ensp;rmsite(8dfs)</Literal>,
<Literal>fts&ensp;syncfldb(8dfs)</Literal>,
<Literal>fts&ensp;syncserv(8dfs)</Literal>,
<Literal>fts&ensp;zap(8dfs)</Literal>.
<!--no-op:  b-->
</Para>
<Para>Files:
<Literal>dfstab(4dfs)</Literal>.
<IndexTerm Id="DFSAGR.MAN143.indx.4" SpanEnd="DFSAGR.MAN143.indx.1"><IndexTerm Id="DFSAGR.MAN143.indx.5" SpanEnd="DFSAGR.MAN143.indx.2"></Para>
</RefSect1>
<!--+ 10/19/96 18:43:16
    | tagMorph:  $Id: fts_delfldbentry.8dfs,v 1.1.2.4 1996/11/07 18:53:31 weir Exp $
    | tagMorph library:  $Id: fts_delfldbentry.8dfs,v 1.1.2.4 1996/11/07 18:53:31 weir Exp $
    | sml-to-docbook:  1.23
    +-->
</RefEntry>

<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: bos_uninstall.8dfs,v $
# Revision 1.1.2.4  1996/11/07  18:45:47  weir
# 	Cleaned up history
# 	[1996/11/07  18:45:32  weir]
#
# Revision 1.1.2.3  1996/10/28  17:44:17  carrig
# 	{enh,R1.2.2}
# 	Ready for editing
# 	[1996/10/28  17:40:20  carrig]
# 
# Revision 1.1.2.2  1996/10/24  20:01:11  carrig
# 	{enh,R1.2.2}
# 	Fixed VarLists
# 	[1996/10/24  20:00:46  carrig]
# 
# Revision 1.1.2.1  1996/10/22  20:55:06  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 	[1996/10/22  20:50:48  wardr]
# 
# Revision 1.1.1.2  1996/10/22  20:50:48  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 
# $EndLog$
-->
<!---->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<RefEntry Id="DFSAGR.MAN83.rsml.1">
<RefMeta>
<RefEntryTitle>bos uninstall</RefEntryTitle>
<ManVolNum>8dfs</ManVolNum>
</RefMeta>
<RefNameDiv>
<RefName><Command>bos uninstall</Command></RefName>
<RefPurpose><Command>bos uninstall</Command> &minus; Installs the former versions of binary files
</RefPurpose>
</RefNameDiv>
<!---->
<!--  COPYRIGHT NOTICE-->
<!--  Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.-->
<!--  Copyright (C) 1989, 1991, 1992, 1993 Transarc Corporation-->
<!--  ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the-->
<!--  src directory for the full copyright text.-->
<!---->
<!---->
<!-- HISTORY-->
<!-- Revision 1.1.8.7  1995/07/13  22:47:32  buckler-->
<!-- 	1.1 edits and Prentice Hall reformat-->
<!-- 	[1995/07/13  22:46:22  buckler]-->
<!---->
<!-- Revision 1.1.8.6  1994/07/17  19:06:13  jeff-->
<!-- 	Editorial improvements.-->
<!-- 	[1994/07/17  19:05:55  jeff]-->
<!-- -->
<!-- Revision 1.1.8.5  1993/10/08  15:01:57  weir-->
<!-- 	Inserted Transarc copyright-->
<!-- 	[1993/10/08  14:58:48  weir]-->
<!-- -->
<!-- Revision 1.1.8.4  1993/09/23  14:29:53  kdu-->
<!-- 	{def,8634,R1.0.3}-->
<!-- 	Change anonymous to nobody.-->
<!-- 	[1993/09/23  14:29:26  kdu]-->
<!-- -->
<!-- Revision 1.1.8.3  1993/09/16  12:30:42  kdu-->
<!-- 	{def,5778,R1.0.3}-->
<!-- 	Short forms of machine names.-->
<!-- 	[1993/09/16  12:30:08  kdu]-->
<!-- -->
<!-- Revision 1.1.8.2  1993/08/04  03:19:16  tmw-->
<!-- 	Added index entries for second version of master index.-->
<!-- 	[1993/08/04  03:08:20  tmw]-->
<!-- -->
<!-- Revision 1.1.6.9  1993/02/21  02:20:59  jeff-->
<!-- 	Fix for defect 7219, review comments.-->
<!-- 	[1993/02/21  02:20:22  jeff]-->
<!-- -->
<!-- Revision 1.1.6.8  1993/01/28  02:13:56  dbelch-->
<!-- 	Embedding copyright notice-->
<!-- 	[1993/01/28  00:49:19  dbelch]-->
<!-- -->
<!-- Revision 1.1.6.7  1992/11/14  16:35:22  jeff-->
<!-- 	Fix for defect 6021, changes to -file and -dir options.-->
<!-- 	[1992/11/14  16:33:38  jeff]-->
<!-- -->
<!-- Revision 1.1.6.6  1992/11/12  12:34:17  jeff-->
<!-- 	Fix for defect 5120, correct description of -localauth option.-->
<!-- 	[1992/11/12  00:29:28  jeff]-->
<!-- -->
<!-- Revision 1.1.6.5  1992/11/11  00:11:41  jeff-->
<!-- 	Repairing mistakes from ODE; again including edits for defect 5782.-->
<!-- 	[1992/11/11  00:11:16  jeff]-->
<!-- -->
<!-- Revision 1.1.6.4  1992/11/10  23:11:50  jeff-->
<!-- 	No changes; circumventing ODE (which basically sucks)....-->
<!-- 	[1992/11/10  22:47:03  jeff]-->
<!-- -->
<!-- 	Fix for defect 5782, document bos uninstall -all option and-->
<!-- 	clarify functionality.-->
<!-- 	[1992/11/10  22:33:43  jeff]-->
<!-- -->
<!-- Revision 1.1.6.3  1992/10/30  21:43:13  jeff-->
<!-- 	Fix for defect 4782, Update Server clarification for bos-->
<!-- 	  install/uninstall.-->
<!-- 	[1992/10/30  21:41:53  jeff]-->
<!-- -->
<!-- Revision 1.1.6.2  1992/09/10  15:22:34  weir-->
<!-- 	Removed change bar macros; moved into 1.0.2doc tree-->
<!-- 	[1992/09/10  14:15:52  weir]-->
<!-- -->
<!-- Revision 1.1.4.2  1992/09/08  19:00:09  casey-->
<!-- 	Prentice Hall production-->
<!-- 	[1992/09/08  16:52:38  casey]-->
<!-- -->
<!-- Revision 1.1.2.2  1992/04/29  19:27:01  jeff-->
<!-- 	Modified syntax and description of -noauth and -localauth options.-->
<!-- 	Also fixed formatting problems with italicized text and changed-->
<!-- 	lists of commands under Related Information to be inline.-->
<!-- 	[1992/04/24  23:41:37  jeff]-->
<!-- -->
<!-- Revision 1.1  1992/01/29  15:49:35  damon-->
<!-- 	Initial revision-->
<!-- -->
<!---->
<!-- (c) Copyright 1991, Open Software Foundation, Inc.  ALL RIGHTS RESERVED-->
<!--DOCUMENTSTYLE [12pt]{book}-->
<IndexTerm Id="DFSAGR.MAN83.indx.1">
<Primary><Command>bos</Command> command suite</Primary>
<Secondary><Literal>uninstall</Literal></Secondary>
</IndexTerm>
<IndexTerm Id="DFSAGR.MAN83.indx.2">
<Primary>binary files</Primary>
<Secondary>replacing</Secondary>
</IndexTerm>
<RefSynopsisDiv>
<CmdSynopsis>
<Command>bos uninstall</Command>
<Arg Choice="plain"><Option>server</Option><Replaceable>machine</Replaceable></Arg>
<Arg Choice="plain" Rep="repeat"><Option>file</Option><Replaceable>binary_file</Replaceable></Arg>
<Arg Choice="opt"><Option>dir</Option><Replaceable>alternate_dest</Replaceable></Arg>
<Arg Choice="opt"><Option>all</Option></Arg>
<Group Choice="opt">
<Group Choice="req">
<Arg Choice="plain"><Option>noauth</Option></Arg>
<Arg Choice="plain"><Option>localauth</Option></Arg>
</Group>
</Group>
<Arg Choice="opt"><Option>help</Option></Arg>
</CmdSynopsis>
</RefSynopsisDiv>
<RefSect1>
<Title>OPTIONS</Title>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>server </Option><Symbol Role="Variable">machine</Symbol></Term>
<ListItem>
<Para>Names the server machine on which the former versions of specified binary files
are to be used.  The BOS Server on this machine executes the command.  To run
this command using a privileged identity, specify the full DCE pathname of the
machine.  To run this command using the unprivileged identity <Literal>nobody</Literal> (the
equivalent of running the command with the <Option>noauth</Option> option), specify the
machine's host name or IP address.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>file </Option><Symbol Role="Variable">binary_file</Symbol></Term>
<ListItem>
<Para>Names each binary file to be replaced with its next-oldest version (<Literal>.BAK</Literal>,
if it exists; otherwise, <Literal>.OLD</Literal>).  All specified files must reside in the
same directory (<Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename>, by default, or an alternate directory
specified with the <Option>dir</Option> option).  Specify only filenames; if a pathname
is provided for a file, the command ignores all but the final element.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>dir </Option><Symbol Role="Variable">alternate_dest</Symbol></Term>
<ListItem>
<Para>Provides the pathname of the directory in which all specified files reside.
Omit this option if the files reside in the default directory,
<Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename>; otherwise, provide a full or relative pathname.  Relative
pathnames (pathnames that do not begin with a slash) are interpreted relative
to the <Symbol Role="Variable">dcelocal</Symbol> directory on the machine specified by <Option>server</Option>.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>all</Option></Term>
<ListItem>
<Para>Directs the BOS Server on the indicated machine to remove all versions
(current, <Literal>.BAK</Literal>, and <Literal>.OLD</Literal>) of the specified files.  Only versions of
the files that reside in the <Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename> directory (or an alternate
directory specified with the <Option>dir</Option> option) are removed.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>noauth</Option></Term>
<ListItem>
<Para>Directs <Command>bos</Command> to use the unprivileged identity <Literal>nobody</Literal> as the
identity of the issuer of the command.  The command fails if you use this
option and DFS authorization checking is not disabled on the machine specified
by <Option>server</Option>.  If you use this option, do not use the <Option>localauth</Option>
option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>localauth</Option></Term>
<ListItem>
<Para>Directs <Command>bos</Command> to use the DFS server principal name of the machine on which
the command is issued as the identity of the issuer.  Use this option only if
the command is issued from a DFS server machine (a machine that has a DFS
server principal in the local Registry Database).  You must be logged into the
server machine as <Literal>root</Literal> for this option to work.  If you use this option,
do not use the <Option>noauth</Option> option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>help</Option></Term>
<ListItem>
<Para>Prints the online help for this command.  All other valid options specified
with this option are ignored.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
</RefSect1>
<RefSect1>
<Title>DESCRIPTION</Title>
<Para>The <Command>bos uninstall</Command> command replaces each binary file specified with the
<Option>file</Option> option with its next-oldest version.  Use the <Option>server</Option> option
to specify the name of the server machine that houses the files to be
manipulated.  All specified files must reside in the same directory.  By default,
the command looks for the files in the <Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename> directory; use
the <Option>dir</Option> option to name a different directory.  Versions of the files in
other directories on the specified machine are not affected.
</Para>
<Para>The command applies the following algorithm to the removal of each binary file:
<!--no-op:  l-->
</Para>
<ItemizedList>
<ListItem>
<Para>If current, <Literal>.BAK</Literal>, and <Literal>.OLD</Literal> versions of the file exist, the command
makes the <Literal>.BAK</Literal> version the current version and it makes the <Literal>.OLD</Literal>
version the <Literal>.BAK</Literal> version.
</Para>
</ListItem>
<ListItem>
<Para>If any version of the file does not exist, the command omits it from the
algorithm.  For example, if no <Literal>.BAK</Literal> version exists, the command makes the
<Literal>.OLD</Literal> version the current version.
</Para>
</ListItem>
<ListItem>
<Para>If the <Option>all</Option> option is included with the command, the command removes all
versions (current, <Literal>.BAK</Literal>, and <Literal>.OLD</Literal>) of the file that exist.
</Para>
</ListItem>
<ListItem>
<Para>The command displays the following message if no version of the file exists, or
if only the current version exists and the <Option>all</Option> option is omitted:
<?sml-break><?sml-point-size 11>
<!--no-op:  12-->
</Para>
<InformalExample>
<Para><ProgramListing>bos: failed to uninstall <Symbol Role="Variable">filename</Symbol> (there is no earlier 
version present to reinstall)
</ProgramListing></Para>
</InformalExample>
<?sml-point-size 12>
<!--no-op:  14-->
<Para>where <Symbol Role="Variable">filename</Symbol> is the name of the file that cannot be replaced or
removed.
</Para>
</ListItem>
</ItemizedList>
<!--no-op:  b-->
<Para><?sml-need 15>The machine specified with the <Option>server</Option> option should be the Binary
Distribution machine for its CPU/operating system type.  If it is not, the
binary files are overwritten the next time the <Command>upclient</Command> process on the
specified machine copies new (or different) versions of binary files via the
<Command>upserver</Command> process on the Binary Distribution machine of its CPU/operating
system type.  (Note that the 
Update Server propagates binary files from Binary Distribution
machines, but the BOS Server manipulates files when the <Command>bos uninstall</Command>
command is issued; by default, it takes the Update Server 5 minutes to
propagate binary files from a Binary Distribution machine.)
</Para>
<Para>To make the machine specified by <Option>server</Option> start using the reinstalled
binary files immediately, issue the <Command>bos restart</Command> command.  Otherwise, the
binaries are not used until the BOS Server restarts the affected process at
the new binary restart time specified in the
<Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/BosConfig</Filename> file.  Use the <Command>bos getrestart</Command> and
<Command>bos setrestart</Command> commands to inspect and set the new binary restart time.
(The information in this paragraph applies <Replaceable>only</Replaceable> to affected processes
already under the control of the BOS Server.)
</Para>
<Para>Use the <Command>bos install</Command> command to install new versions of binary files on
a server machine.  Use the <Command>bos prune</Command> command to remove <Literal>.BAK</Literal> and
<Literal>.OLD</Literal> files from the <Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename> directory.  (This command can also
be used to remove core files from the <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/adm</Filename> directory.)
Use the <Command>bos getdates</Command> command to check the time stamps on binary files.
</Para>
<RefSect2>
<Title>Privilege Required</Title>
<Para>The issuer must be listed in the <Filename>admin.bos</Filename> file on the machine specified
by <Option>server</Option>.
</Para>
</RefSect2>
</RefSect1>
<RefSect1>
<Title>RELATED INFORMATION</Title>
<!--no-op:  l-->
<Para>Commands:
<Literal>bos&ensp;getdates(8dfs)</Literal>,
<Literal>bos&ensp;getrestart(8dfs)</Literal>,
<Literal>bos&ensp;install(8dfs)</Literal>,
<Literal>bos&ensp;prune(8dfs)</Literal>,
<Literal>bos&ensp;restart(8dfs)</Literal>,
<Literal>bos&ensp;setrestart(8dfs)</Literal>,
<Literal>upclient(8dfs)</Literal>,
<Literal>upserver(8dfs)</Literal>.
<!--no-op:  b-->
</Para>
<Para>Files:
<Literal>BosConfig(4dfs)</Literal>.
<IndexTerm Id="DFSAGR.MAN83.indx.3" SpanEnd="DFSAGR.MAN83.indx.1"><IndexTerm Id="DFSAGR.MAN83.indx.4" SpanEnd="DFSAGR.MAN83.indx.2"></Para>
</RefSect1>
<!--+ 10/19/96 18:43:16
    | tagMorph:  $Id: bos_uninstall.8dfs,v 1.1.2.4 1996/11/07 18:45:47 weir Exp $
    | tagMorph library:  $Id: bos_uninstall.8dfs,v 1.1.2.4 1996/11/07 18:45:47 weir Exp $
    | sml-to-docbook:  1.23
    +-->
</RefEntry>

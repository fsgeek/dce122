<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: bos_setrestart.8dfs,v $
# Revision 1.1.2.4  1996/11/07  18:45:41  weir
# 	Cleaned up history
# 	[1996/11/07  18:45:26  weir]
#
# Revision 1.1.2.3  1996/10/28  17:44:11  carrig
# 	{enh,R1.2.2}
# 	Ready for editing
# 	[1996/10/28  17:40:12  carrig]
# 
# Revision 1.1.2.2  1996/10/24  20:01:06  carrig
# 	{enh,R1.2.2}
# 	Fixed VarLists
# 	[1996/10/24  20:00:38  carrig]
# 
# Revision 1.1.2.1  1996/10/22  20:54:58  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 	[1996/10/22  20:50:43  wardr]
# 
# Revision 1.1.1.2  1996/10/22  20:50:43  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 
# $EndLog$
-->
<!---->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<RefEntry Id="DFSAGR.MAN77.rsml.1">
<RefMeta>
<RefEntryTitle>bos setrestart</RefEntryTitle>
<ManVolNum>8dfs</ManVolNum>
</RefMeta>
<RefNameDiv>
<RefName><Command>bos setrestart</Command></RefName>
<RefPurpose><Command>bos setrestart</Command> &minus; Sets the date and time at which the BOS Server restarts
all processes or only those with new binaries
</RefPurpose>
</RefNameDiv>
<!---->
<!--  COPYRIGHT NOTICE-->
<!--  Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.-->
<!--  Copyright (C) 1989, 1991, 1992, 1993 Transarc Corporation-->
<!--  ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the-->
<!--  src directory for the full copyright text.-->
<!---->
<!---->
<!-- HISTORY-->
<!-- Revision 1.1.8.10  1995/07/13  22:47:26  buckler-->
<!-- 	1.1 edits and Prentice Hall reformat-->
<!-- 	[1995/07/13  22:46:15  buckler]-->
<!---->
<!-- Revision 1.1.8.9  1994/08/03  21:14:53  jeff-->
<!-- 	More editorial stuff.-->
<!-- 	[1994/08/03  21:14:40  jeff]-->
<!-- -->
<!-- Revision 1.1.8.8  1994/08/03  13:59:26  jeff-->
<!-- 	Editorial changes.-->
<!-- 	[1994/08/03  13:59:11  jeff]-->
<!-- -->
<!-- Revision 1.1.8.7  1994/07/17  19:31:07  jeff-->
<!-- 	Editorial improvements.-->
<!-- 	[1994/07/17  19:30:23  jeff]-->
<!-- -->
<!-- Revision 1.1.8.6  1994/05/19  20:40:24  jeff-->
<!-- 	{defect, 8118, R1.1}-->
<!-- 	Correct use of double quotes.-->
<!-- 	[1994/05/19  20:39:45  jeff]-->
<!-- -->
<!-- Revision 1.1.8.5  1993/10/08  15:01:51  weir-->
<!-- 	Inserted Transarc copyright-->
<!-- 	[1993/10/08  14:58:42  weir]-->
<!-- -->
<!-- Revision 1.1.8.4  1993/09/23  14:21:30  kdu-->
<!-- 	{def,8634,R1.0.3}-->
<!-- 	Change anonymous to nobody.-->
<!-- 	[1993/09/23  14:21:07  kdu]-->
<!-- -->
<!-- Revision 1.1.8.3  1993/09/16  12:18:50  kdu-->
<!-- 	{def,5778,R1.0.3}-->
<!-- 	Short forms of machine names.-->
<!-- 	[1993/09/16  12:18:18  kdu]-->
<!-- -->
<!-- Revision 1.1.8.2  1993/08/04  16:44:22  tmw-->
<!-- 	Added index entries for second version of master index.-->
<!-- 	[1993/08/04  03:05:47  tmw]-->
<!-- -->
<!-- Revision 1.1.6.6  1993/02/21  15:16:36  jeff-->
<!-- 	Fix for defect 7219, review comments.-->
<!-- 	[1993/02/21  15:16:22  jeff]-->
<!-- -->
<!-- Revision 1.1.6.5  1993/02/20  04:37:13  jeff-->
<!-- 	Fix for defect 7219, review comments.-->
<!-- 	[1993/02/20  04:36:16  jeff]-->
<!-- -->
<!-- Revision 1.1.6.4  1993/01/28  02:13:42  dbelch-->
<!-- 	Embedding copyright notice-->
<!-- 	[1993/01/28  00:48:46  dbelch]-->
<!-- -->
<!-- Revision 1.1.6.3  1992/11/12  12:43:36  jeff-->
<!-- 	Fix for defect 5120, correct description of -localauth option.-->
<!-- 	[1992/11/12  00:30:07  jeff]-->
<!-- -->
<!-- Revision 1.1.6.2  1992/09/10  15:21:59  weir-->
<!-- 	Removed change bar macros; moved into 1.0.2doc tree-->
<!-- 	[1992/09/10  14:14:04  weir]-->
<!-- -->
<!-- Revision 1.1.4.2  1992/09/08  18:59:16  casey-->
<!-- 	Prentice Hall production-->
<!-- 	[1992/09/08  16:51:57  casey]-->
<!-- -->
<!-- Revision 1.1.2.2  1992/04/29  19:23:33  jeff-->
<!-- 	Modified syntax and description of -noauth and -localauth options.-->
<!-- 	Also fixed formatting problems with italicized text and changed-->
<!-- 	lists of commands under Related Information to be inline.-->
<!-- 	[1992/04/24  23:40:32  jeff]-->
<!-- -->
<!-- Revision 1.1  1992/01/29  15:49:17  damon-->
<!-- 	Initial revision-->
<!-- -->
<!---->
<!-- (c) Copyright 1991, Open Software Foundation, Inc.  ALL RIGHTS RESERVED-->
<!--DOCUMENTSTYLE [12pt]{book}-->
<IndexTerm Id="DFSAGR.MAN77.indx.1">
<Primary><Command>bos</Command> command suite</Primary>
<Secondary><Command>setrestart</Command></Secondary>
</IndexTerm>
<IndexTerm Id="DFSAGR.MAN77.indx.2">
<Primary>DFS servers</Primary>
<Secondary>setting restart times</Secondary>
</IndexTerm>
<IndexTerm Id="DFSAGR.MAN77.indx.3">
<Primary>BOS Server</Primary>
<Secondary>setting restart times</Secondary>
</IndexTerm>
<RefSynopsisDiv>
<CmdSynopsis>
<Command>bos setrestart</Command>
<Arg Choice="plain"><Option>server</Option><Replaceable>machine</Replaceable></Arg>
<Group Choice="req">
<Arg Choice="plain"><Option>general</Option><Replaceable>time</Replaceable></Arg>
<Arg Choice="plain"><Option>newbinary</Option><Replaceable>time</Replaceable></Arg>
</Group>
<Group Choice="opt">
<Group Choice="req">
<Arg Choice="plain"><Option>noauth</Option></Arg>
<Arg Choice="plain"><Option>localauth</Option></Arg>
</Group>
</Group>
<Arg Choice="opt"><Option>help</Option></Arg>
</CmdSynopsis>
</RefSynopsisDiv>
<RefSect1>
<Title>OPTIONS</Title>
<IndexTerm Id="DFSAGR.MAN77.indx.4">
<Primary>processes</Primary>
<Secondary>restarting date and time</Secondary>
</IndexTerm>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>server </Option><Symbol Role="Variable">machine</Symbol></Term>
<ListItem>
<Para>Specifies the server machine for which restart times are to be set.  The BOS
Server on this machine executes the command.  To run this command using a
privileged identity, specify the full DCE pathname of the machine.  To run this
command using the unprivileged identity <Literal>nobody</Literal> (the equivalent of running
the command with the <Option>noauth</Option> option), specify the machine's host name or
IP address.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>general </Option><Symbol Role="Variable">time</Symbol></Term>
<ListItem>
<Para>Sets the time at which the BOS Server restarts first itself and then each
server process that has an entry in the <Filename>BosConfig</Filename> file with a status flag
of <Literal>Run</Literal>.  Specify a day and time to perform the restart weekly at that
time; specify a time to perform the restart daily at that time.  Day and time
specifications have the following format:
</Para>
<Synopsis>[<Symbol Role="Variable">day</Symbol>] <Symbol Role="Variable">hh</Symbol>:<Symbol Role="Variable">mm</Symbol>
</Synopsis>
<Para>Enter the name of the day in all lowercase letters, giving either the whole
name or the first three letters as an abbreviation (for example, <Literal>sunday</Literal>
or <Literal>sun</Literal>).  Specify the time of day by separating the hours from the minutes
with a <Literal>:</Literal> (colon).  Use 24-hour time (for example, <Literal>14:30</Literal>), or use
1:00 through 12:00 with <Literal>am</Literal> or <Literal>pm</Literal> (for example, <Literal>"2:30 pm"</Literal>).
As shown in the example, enclose the entry in <Literal>"&thinsp;"</Literal> (double quotes) if it
contains a space.
</Para>
<Para>You can use either of two additional specifications instead of a time or a day
and time:
</Para>
<VariableList>
<VarListEntry>
<Term><Literal>never</Literal></Term>
<ListItem>
<Para>Directs the BOS Server never to perform the indicated type of restart
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>now</Literal></Term>
<ListItem>
<Para>Directs the BOS Server to use the day and time at which the command is issued
(for example, Sunday at 2:00 a.m.) as the day and time for the indicated type
of restart
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>If this option is never used to set the general restart time, the default
general restart time is Sunday at 4:00 a.m.  If you change the general restart
time, the recommended frequency for this type of restart is once per week.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>newbinary </Option><Symbol Role="Variable">time</Symbol></Term>
<ListItem>
<Para>Sets the time at which the BOS Server restarts any server process whose binary
file was installed in <Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename> after the current instance of the
process started running.  The recommended frequency for this type of restart
is once per day, so it is standard to specify only a time of day.  Use the
conventions described for the <Option>general</Option> option to express the time of
day.  The remarks for the <Option>general</Option> option concerning <Literal>never</Literal> and
<Literal>now</Literal> also apply to this option.
</Para>
<Para>If this option is never used to set the binary checking time, the default
binary checking time is 5:00 a.m.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>noauth</Option></Term>
<ListItem>
<Para>Directs <Command>bos</Command> to use the unprivileged identity <Literal>nobody</Literal> as the
identity of the issuer of the command.  The command fails if you use this
option and DFS authorization checking is not disabled on the machine specified
by <Option>server</Option>.  If you use this option, do not use the <Option>localauth</Option>
option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>localauth</Option></Term>
<ListItem>
<Para>Directs <Command>bos</Command> to use the DFS server principal name of the machine on which
the command is issued as the identity of the issuer.  Use this option only if
the command is issued from a DFS server machine (a machine that has a DFS
server principal in the local Registry Database).  You must be logged into the
server machine as <Literal>root</Literal> for this option to work.  If you use this option,
do not use the <Option>noauth</Option> option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>help</Option></Term>
<ListItem>
<Para>Prints the online help for this command.  All other valid options specified
with this option are ignored.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
</RefSect1>
<RefSect1>
<Title>DESCRIPTION</Title>
<Para>The <Command>bos setrestart</Command> command sets the times at which the BOS Server running
on the server machine specified by the <Option>server</Option> option is to perform one
of two types of restarts.  The command records the time settings in the
<Filename>BosConfig</Filename> file.  The two types of restart times are
<!--no-op:  l-->
</Para>
<ItemizedList>
<ListItem>
<Para>The time each week when the BOS Server restarts itself and any processes marked
with the status flag <Literal>Run</Literal> in the <Filename>BosConfig</Filename> file.  This is equivalent
to executing <Command>bos restart</Command> with the <Option>bosserver</Option> option.  The default
setting is 4:00 a.m. each Sunday morning.
</Para>
</ListItem>
<ListItem>
<Para>The time each day when the BOS Server restarts any process currently running
for which the binary file in <Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename> was modified since the
process was last started (or restarted).  The default setting is 5:00 a.m. each
day.
</Para>
</ListItem>
</ItemizedList>
<!--no-op:  b-->
<Para>To change both times, you must issue the command twice.
</Para>
<RefSect2>
<Title>Privilege Required</Title>
<Para>The issuer must be listed in the <Filename>admin.bos</Filename> file on the machine specified
by the <Option>server</Option> option.
</Para>
</RefSect2>
</RefSect1>
<RefSect1>
<Title>CAUTIONS</Title>
<Para>Restarting processes makes them unavailable for a period of time.  It is
advisable to set the restarts for times of typically low usage to inconvenience
as few users as possible.
</Para>
<Para>If the specified time is within one hour of the current time, the BOS Server
does not restart the processes until that time on the next day.
</Para>
</RefSect1>
<RefSect1>
<Title>EXAMPLES</Title>
<Para>The following command defines a general restart time in the <Filename>BosConfig</Filename>
file on <Literal>fs4</Literal> that causes all processes on that machine to stop and restart
each Saturday morning at 3:30 a.m.:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput>$ <Literal>bos setr -s /.../abc.com/hosts/fs4 -gen "sat 3:30"</Literal>
</UserInput></ProgramListing></Para>
</InformalExample>
<Para>The following command defines a new binary restart time in the <Filename>BosConfig</Filename>
file on <Literal>fs6</Literal>, instructing the BOS Server on that machine to check for new
binary files each evening at 11:45 p.m. and restart any processes for which it
finds a new file at that time:
</Para>
<InformalExample>
<Para><ProgramListing><UserInput>$ <Literal>bos setr -s /.../abc.com/hosts/fs6 -new 23:45</Literal>
</UserInput></ProgramListing></Para>
</InformalExample>
</RefSect1>
<RefSect1>
<Title>RELATED INFORMATION</Title>
<!--no-op:  l-->
<Para>Commands:
<Literal>bos&ensp;getrestart(8dfs)</Literal>,
<Literal>bos&ensp;restart(8dfs)</Literal>.
<!--no-op:  b-->
</Para>
<Para>Files:
<Literal>BosConfig(4dfs)</Literal>.
<IndexTerm Id="DFSAGR.MAN77.indx.5" SpanEnd="DFSAGR.MAN77.indx.1"><IndexTerm Id="DFSAGR.MAN77.indx.6" SpanEnd="DFSAGR.MAN77.indx.2"><IndexTerm Id="DFSAGR.MAN77.indx.7" SpanEnd="DFSAGR.MAN77.indx.3"></Para>
</RefSect1>
<!--+ 10/19/96 18:43:16
    | tagMorph:  $Id: bos_setrestart.8dfs,v 1.1.2.4 1996/11/07 18:45:41 weir Exp $
    | tagMorph library:  $Id: bos_setrestart.8dfs,v 1.1.2.4 1996/11/07 18:45:41 weir Exp $
    | sml-to-docbook:  1.23
    +-->
</RefEntry>

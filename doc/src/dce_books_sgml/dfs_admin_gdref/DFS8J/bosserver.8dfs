<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: bosserver.8dfs,v $
# Revision 1.1.2.4  1996/11/07  18:46:17  weir
# 	Cleaned up history
# 	[1996/11/07  18:46:09  weir]
#
# Revision 1.1.2.3  1996/10/28  17:44:18  carrig
# 	{enh,R1.2.2}
# 	Ready for editing
# 	[1996/10/28  17:40:21  carrig]
# 
# Revision 1.1.2.2  1996/10/24  20:01:59  carrig
# 	{enh,R1.2.2}
# 	Fixed VarLists
# 	[1996/10/24  20:01:42  carrig]
# 
# Revision 1.1.2.1  1996/10/22  20:55:07  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 	[1996/10/22  20:50:49  wardr]
# 
# Revision 1.1.1.2  1996/10/22  20:50:49  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 
# $EndLog$
-->
<!---->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<RefEntry Id="DFSAGR.MAN84.rsml.1">
<RefMeta>
<RefEntryTitle>bosserver</RefEntryTitle>
<ManVolNum>8dfs</ManVolNum>
</RefMeta>
<RefNameDiv>
<RefName><Command>bosserver</Command></RefName>
<RefPurpose>Initializes the Basic OverSeer (BOS) Server process
</RefPurpose>
</RefNameDiv>
<!---->
<!--  COPYRIGHT NOTICE-->
<!--  Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.-->
<!--  Copyright (C) 1989, 1991, 1992, 1993 Transarc Corporation-->
<!--  ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the-->
<!--  src directory for the full copyright text.-->
<!---->
<!---->
<!-- HISTORY-->
<!-- Revision 1.1.8.8  1995/07/13  22:47:34  buckler-->
<!-- 	1.1 edits and Prentice Hall reformat-->
<!-- 	[1995/07/13  22:46:23  buckler]-->
<!---->
<!-- Revision 1.1.8.7  1994/05/31  21:44:57  jeff-->
<!-- 	More editorial work.-->
<!-- 	[1994/05/31  21:44:46  jeff]-->
<!-- -->
<!-- Revision 1.1.8.6  1994/05/31  21:01:06  jeff-->
<!-- 	Small editorial improvements.-->
<!-- 	[1994/05/31  21:00:42  jeff]-->
<!-- -->
<!-- Revision 1.1.8.5  1993/10/30  22:56:58  jeff-->
<!-- 	Small editorial changes; no defect.-->
<!-- 	[1993/10/30  22:54:20  jeff]-->
<!-- -->
<!-- Revision 1.1.8.4  1993/10/15  14:59:05  jeff-->
<!-- 	{def,9132,R1.0.3}-->
<!-- 	The protections set and checked by the bosserver are only defaults.-->
<!-- 	[1993/10/15  14:57:19  jeff]-->
<!-- -->
<!-- Revision 1.1.8.3  1993/10/08  15:01:58  weir-->
<!-- 	Inserted Transarc copyright-->
<!-- 	[1993/10/08  14:58:49  weir]-->
<!-- -->
<!-- Revision 1.1.8.2  1993/08/04  03:20:33  tmw-->
<!-- 	Added index entries for second version of master index.-->
<!-- 	[1993/08/04  03:09:06  tmw]-->
<!-- -->
<!-- Revision 1.1.6.8  1993/02/14  22:36:01  jeff-->
<!-- 	Fix for defect 7219, bosserver puts itself in background.-->
<!-- 	[1993/02/14  22:35:48  jeff]-->
<!-- -->
<!-- Revision 1.1.6.7  1993/02/14  19:07:14  jeff-->
<!-- 	Fix for defect 7219, small change to bos status output.-->
<!-- 	[1993/02/14  19:06:25  jeff]-->
<!-- -->
<!-- Revision 1.1.6.6  1993/02/05  19:57:12  jeff-->
<!-- 	Fix for defect 7135, change key file to keytab file.-->
<!-- 	[1993/02/05  19:56:55  jeff]-->
<!-- -->
<!-- Revision 1.1.6.5  1993/01/28  02:13:59  dbelch-->
<!-- 	Embedding copyright notice-->
<!-- 	[1993/01/28  00:49:23  dbelch]-->
<!-- -->
<!-- Revision 1.1.6.4  1992/11/25  19:09:32  jeff-->
<!-- 	Fix for defect 6019, correct -noauth option with bos and fts-->
<!-- 	commands.-->
<!-- 	[1992/11/25  19:08:57  jeff]-->
<!-- -->
<!-- Revision 1.1.6.3  1992/10/31  01:18:24  jeff-->
<!-- 	Fix for defect 5791, bos status command displays NoAuth message.-->
<!-- 	[1992/10/31  01:14:30  jeff]-->
<!-- -->
<!-- Revision 1.1.6.2  1992/09/10  15:22:40  weir-->
<!-- 	Removed change bar macros; moved into 1.0.2doc tree-->
<!-- 	[1992/09/10  14:15:57  weir]-->
<!-- -->
<!-- Revision 1.1.4.2  1992/09/08  19:00:19  casey-->
<!-- 	Prentice Hall production-->
<!-- 	[1992/09/08  16:52:46  casey]-->
<!-- -->
<!-- Revision 1.1.2.3  1992/06/09  21:18:30  jeff-->
<!-- 	Included IBM 1.0.1 review comments.-->
<!-- 	[1992/06/09  13:44:22  jeff]-->
<!-- -->
<!-- 	Included IBM 1.0.1 review comments.-->
<!-- 	[1992/06/09  05:06:45  jeff]-->
<!-- -->
<!-- Revision 1.1.2.2  1992/05/10  17:48:18  jeff-->
<!-- 	Verified and/or modified italics and other editorial-->
<!-- 	aspects of the file.-->
<!-- 	[1992/05/10  17:09:55  jeff]-->
<!-- -->
<!-- Revision 1.1  1992/01/29  15:49:38  damon-->
<!-- 	Initial revision-->
<!-- -->
<!---->
<!-- (c) Copyright 1991, Open Software Foundation, Inc.  ALL RIGHTS RESERVED-->
<!--DOCUMENTSTYLE [12pt]{book}-->
<IndexTerm Id="DFSAGR.MAN84.indx.1">
<Primary><Command>bosserver</Command> command</Primary>
</IndexTerm>
<IndexTerm Id="DFSAGR.MAN84.indx.2">
<Primary>BOS Server</Primary>
<Secondary>initializing</Secondary>
</IndexTerm>
<RefSynopsisDiv>
<CmdSynopsis>
<Command>bosserver</Command>
<Arg Choice="opt"><Option>adminlist</Option><Replaceable>filename</Replaceable></Arg>
<Arg Choice="opt"><Option>noauth</Option></Arg>
<Arg Choice="opt"><Option>help</Option></Arg>
</CmdSynopsis>
</RefSynopsisDiv>
<RefSect1>
<Title>OPTIONS</Title>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>adminlist</Option> <Symbol Role="Variable">filename</Symbol></Term>
<ListItem>
<Para>Specifies the file that contains principals and groups authorized to execute
<Command>bosserver</Command> RPCs (usually using <Command>bos</Command> commands).  If this option is
omitted, the <Command>bosserver</Command> obtains the list of authorized users from the
default administrative list file, <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/admin.bos</Filename>.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>noauth</Option></Term>
<ListItem>
<Para>Invokes the <Command>bosserver</Command> process
with DFS authorization checking turned off.  In this
mode, DFS processes, including the <Command>bosserver</Command> process, do not check to see
whether issuers have the necessary privilege to enter administrative commands.
</Para>
<Para>This option is intended for use when the BOS Server is initially installed on
a server machine.  Because it starts the <Command>bosserver</Command> process with DFS authorization
checking turned off, it allows the issuer to add members to the <Filename>admin.bos</Filename>
administrative list and to add a key to the keytab file on the server machine.
</Para>
<Para>Use this mode sparingly, as it presents a security risk.  Using this option
forces all DFS server processes on the machine to run without DFS authorization
checking.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>help</Option></Term>
<ListItem>
<Para>Prints the online help for this command.  All other valid options specified
with this option are ignored.
</Para>
<Para>The <Command>help</Command> and <Literal>apropos</Literal> commands available with all command suites
are also available with the <Command>bosserver</Command> command.  See the <Command>bos help</Command>
and <Command>bos apropos</Command> pages for examples of using these commands.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
</RefSect1>
<RefSect1>
<Title>DESCRIPTION</Title>
<Para>The Basic OverSeer Server (BOS Server) monitors other DFS server
processes, such as the <Command>flserver</Command> and <Command>ftserver</Command> processes, running on
the machine and restarts failed processes automatically (without the
intervention of a system administrator).  The BOS Server, or <Command>bosserver</Command>
process, monitors each server process that has a process entry in the local
<Filename>BosConfig</Filename> file.  The <Command>bosserver</Command> process must be run on all DFS server
machines.  The <Command>bosserver</Command> command, which resides in
<Symbol Role="Variable">dcelocal</Symbol><Filename>/bin/bosserver</Filename>, is usually added to the proper system
start-up file (<Filename>/etc/rc</Filename> or its equivalent); the process places itself
in the background after it starts.
</Para>
<Para>When it is started, the <Command>bosserver</Command> creates the
<Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/adm/BosLog</Filename> event log file if the file does not
already exist.  It then appends messages to the file.  If the <Filename>BosLog</Filename>
file exists when the <Command>bosserver</Command> process is started, the process moves it to
the <Filename>BosLog.old</Filename> file in the same directory (overwriting the current
<Filename>BosLog.old</Filename> file if it exists) before creating a new version to which
to append messages.
</Para>
<Para>The principals and groups in the <Filename>admin.bos</Filename> administrative list are
authorized to issue BOS commands to stop, start, create, and modify server
processes on that machine.  For simplified administration, the same
<Filename>admin.bos</Filename> administrative list can be used by all <Command>bosserver</Command>
processes in the administrative domain.
</Para>
<Para>The first time the <Command>bosserver</Command> process is initialized, it creates several
directories (such as the <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/adm</Filename> directory and any
nonexistent directories along this path), sets the owners to the appropriate
identities, and sets the mode bits to provide appropriate access.  The
<Command>bosserver</Command> process also creates the <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/admin.bos</Filename>
administrative list file and the <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/BosConfig</Filename>
configuration file if either file does not already exist.  On subsequent
restarts, the process writes the following message to the <Filename>BosLog</Filename> file
if the owners and mode bits of these objects are not set appropriately:
</Para>
<InformalExample>
<Para><ProgramListing>Bosserver reports inappropriate access on server directories.
</ProgramListing></Para>
</InformalExample>
<Para>See the reference page for the <Command>bos status</Command> command for information about
the protections the BOS Server wants to see enforced.
</Para>
<Note>
<Para>Your vendor can modify the owner of directories created by the BOS Server and
the permissions those directories are created with.  Refer to your vendor's
documentation to determine the protections that apply for your version of DFS.
</Para>
</Note>
<Para>When initially installing the BOS Server on a server machine, use the
<Option>noauth</Option> option to initialize the <Command>bosserver</Command> process with DFS
authorization checking disabled.  This creates the <Filename>NoAuth</Filename> file in the
<Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs</Filename> directory on the local disk; when the file is
present, DFS authorization checking is disabled on the machine.
</Para>
<Para>With DFS authorization checking disabled, add members to the <Filename>admin.bos</Filename>
list and add a key to the keytab file on the server machine.  When these steps
are complete, use the <Command>bos setauth</Command> command to enable DFS authorization
checking.  Because running with DFS authorization checking disabled is a serious
security risk, enable DFS authorization checking as soon as the previous steps
are complete.  The <Command>bos status</Command> command can be used to determine whether
DFS authorization checking is enabled or disabled on a machine; it displays
the following message if DFS authorization checking is disabled on a machine
(it does not display the message if DFS authorization checking is enabled):
</Para>
<InformalExample>
<Para><ProgramListing>Bosserver reports machine is not checking authorization.
</ProgramListing></Para>
</InformalExample>
<RefSect2>
<Title>Privilege Required</Title>
<Para>The issuer must be logged in as <Literal>root</Literal> on the local machine.
</Para>
</RefSect2>
</RefSect1>
<RefSect1>
<Title>OUTPUT</Title>
<Para>If problems are encountered during initialization, the <Command>bosserver</Command> process
displays error messages on standard error output.  The <Command>bosserver</Command> process
keeps an event log in the file <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/adm/BosLog</Filename>.
</Para>
</RefSect1>
<RefSect1>
<Title>RELATED INFORMATION</Title>
<!--no-op:  l-->
<Para>Commands:
<Literal>bos&ensp;setauth(8dfs)</Literal>,
<Literal>bos&ensp;status(8dfs)</Literal>.
<!--no-op:  b-->
</Para>
<Para><!--no-op:  l-->
Files:
<Literal>admin.bos(4dfs)</Literal>,
<Literal>BosConfig(4dfs)</Literal>,
<Literal>BosLog(4dfs)</Literal>,
<Literal>NoAuth(4dfs)</Literal>.
<!--no-op:  b-->
<IndexTerm Id="DFSAGR.MAN84.indx.3" SpanEnd="DFSAGR.MAN84.indx.1"><IndexTerm Id="DFSAGR.MAN84.indx.4" SpanEnd="DFSAGR.MAN84.indx.2"></Para>
</RefSect1>
<!--+ 10/19/96 18:43:16
    | tagMorph:  $Id: bosserver.8dfs,v 1.1.2.4 1996/11/07 18:46:17 weir Exp $
    | tagMorph library:  $Id: bosserver.8dfs,v 1.1.2.4 1996/11/07 18:46:17 weir Exp $
    | sml-to-docbook:  1.23
    +-->
</RefEntry>

<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: bos_install.8dfs,v $
# Revision 1.1.2.4  1996/11/07  18:44:56  weir
# 	Cleaned up history
# 	[1996/11/07  18:44:37  weir]
#
# Revision 1.1.2.3  1996/10/28  17:44:01  carrig
# 	{enh,R1.2.2}
# 	Ready for editing
# 	[1996/10/28  17:40:00  carrig]
# 
# Revision 1.1.2.2  1996/10/24  19:59:45  carrig
# 	{enh,R1.2.2}
# 	Fixed VarLists
# 	[1996/10/24  19:59:00  carrig]
# 
# Revision 1.1.2.1  1996/10/22  20:54:40  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 	[1996/10/22  20:50:35  wardr]
# 
# Revision 1.1.1.2  1996/10/22  20:50:35  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 
# $EndLog$
-->
<!---->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<RefEntry Id="DFSAGR.MAN68.rsml.1">
<RefMeta>
<RefEntryTitle>bos install</RefEntryTitle>
<ManVolNum>8dfs</ManVolNum>
</RefMeta>
<RefNameDiv>
<RefName><Command>bos install</Command></RefName>
<RefPurpose><Command>bos install</Command> &minus; Installs new versions of binary files
</RefPurpose>
</RefNameDiv>
<!---->
<!--  COPYRIGHT NOTICE-->
<!--  Copyright (c) 1990, 1991, 1992, 1993 Open Software Foundation, Inc.-->
<!--  Copyright (C) 1989, 1991, 1992, 1993 Transarc Corporation-->
<!--  ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE in the-->
<!--  src directory for the full copyright text.-->
<!---->
<!---->
<!-- HISTORY-->
<!-- Revision 1.1.8.7  1995/07/13  22:47:17  buckler-->
<!-- 	1.1 edits and Prentice Hall reformat-->
<!-- 	[1995/07/13  22:46:04  buckler]-->
<!---->
<!-- Revision 1.1.8.6  1994/07/17  19:17:10  jeff-->
<!-- 	Editorial improvements.-->
<!-- 	[1994/07/17  19:16:17  jeff]-->
<!-- -->
<!-- Revision 1.1.8.5  1993/10/08  15:01:44  weir-->
<!-- 	Inserted Transarc copyright-->
<!-- 	[1993/10/08  14:58:34  weir]-->
<!-- -->
<!-- Revision 1.1.8.4  1993/09/23  14:06:48  kdu-->
<!-- 	{def,8634,R1.0.3}-->
<!-- 	Change anonymous to nobody.-->
<!-- 	[1993/09/23  14:06:18  kdu]-->
<!-- -->
<!-- Revision 1.1.8.3  1993/09/16  11:56:10  kdu-->
<!-- 	{def,5778,R1.0.3}-->
<!-- 	Short forms of machine names.-->
<!-- 	[1993/09/16  11:55:50  kdu]-->
<!-- -->
<!-- Revision 1.1.8.2  1993/08/04  03:10:53  tmw-->
<!-- 	Added index entries for second version of master index.-->
<!-- 	[1993/08/04  02:57:20  tmw]-->
<!-- -->
<!-- Revision 1.1.6.11  1993/02/21  02:23:32  jeff-->
<!-- 	Fix for defect 7219, review comments.-->
<!-- 	[1993/02/21  02:19:58  jeff]-->
<!-- -->
<!-- Revision 1.1.6.10  1993/01/28  02:13:19  dbelch-->
<!-- 	Embedding copyright notice-->
<!-- 	[1993/01/28  00:48:11  dbelch]-->
<!-- -->
<!-- Revision 1.1.6.9  1992/11/14  16:34:44  jeff-->
<!-- 	Fix for defect 6021, changes to -file and -dir options.-->
<!-- 	[1992/11/14  16:33:17  jeff]-->
<!-- -->
<!-- Revision 1.1.6.8  1992/11/12  12:31:08  jeff-->
<!-- 	Fix for defect 5120, correct description of -localauth option.-->
<!-- 	[1992/11/12  00:24:52  jeff]-->
<!-- -->
<!-- Revision 1.1.6.7  1992/11/10  23:13:45  jeff-->
<!-- 	Getting around ODE...-->
<!-- 	[1992/11/10  23:13:24  jeff]-->
<!-- -->
<!-- Revision 1.1.6.6  1992/11/10  22:37:32  jeff-->
<!-- 	Fix for defect 5782, document bos uninstall -all option and-->
<!-- 	clarify functionality.-->
<!-- 	[1992/11/10  22:32:57  jeff]-->
<!-- -->
<!-- Revision 1.1.6.5  1992/11/09  23:53:49  jeff-->
<!-- 	Small enhancements for readability and clarity.-->
<!-- 	[1992/11/09  23:53:23  jeff]-->
<!-- -->
<!-- Revision 1.1.6.4  1992/11/09  14:19:48  jeff-->
<!-- 	Fix for defect 5783, provide bos install details.-->
<!-- 	[1992/11/09  14:18:26  jeff]-->
<!-- -->
<!-- Revision 1.1.6.3  1992/10/30  21:42:16  jeff-->
<!-- 	Fix for defect 4782, Update Server clarification for bos-->
<!-- 	  install/uninstall.-->
<!-- 	[1992/10/30  21:41:06  jeff]-->
<!-- -->
<!-- Revision 1.1.6.2  1992/09/10  15:21:12  weir-->
<!-- 	Removed change bar macros; moved into 1.0.2doc tree-->
<!-- 	[1992/09/10  14:13:17  weir]-->
<!-- -->
<!-- Revision 1.1.4.2  1992/09/08  18:58:08  casey-->
<!-- 	Prentice Hall production-->
<!-- 	[1992/09/08  16:51:03  casey]-->
<!-- -->
<!-- Revision 1.1.2.2  1992/04/29  19:18:39  jeff-->
<!-- 	Modified syntax and description of -noauth and -localauth options.-->
<!-- 	Also fixed formatting problems with italicized text and changed-->
<!-- 	lists of commands under Related Information to be inline.-->
<!-- 	[1992/04/24  23:31:07  jeff]-->
<!-- -->
<!-- Revision 1.1  1992/01/29  15:48:53  damon-->
<!-- 	Initial revision-->
<!-- -->
<!---->
<!-- (c) Copyright 1991, Open Software Foundation, Inc.  ALL RIGHTS RESERVED-->
<!--DOCUMENTSTYLE [12pt]{book}-->
<IndexTerm Id="DFSAGR.MAN68.indx.1">
<Primary><Command>bos</Command> command suite</Primary>
<Secondary><Literal>install</Literal></Secondary>
</IndexTerm>
<IndexTerm Id="DFSAGR.MAN68.indx.2">
<Primary>binary files</Primary>
<Secondary>installing</Secondary>
</IndexTerm>
<IndexTerm Id="DFSAGR.MAN68.indx.3">
<Primary>installation</Primary>
<Secondary>DFS binary files</Secondary>
</IndexTerm>
<RefSynopsisDiv>
<CmdSynopsis>
<Command>bos install</Command>
<Arg Choice="plain"><Option>server</Option><Replaceable>machine</Replaceable></Arg>
<Arg Choice="plain" Rep="repeat"><Option>file</Option><Replaceable>binary_file</Replaceable></Arg>
<Arg Choice="opt"><Option>dir</Option><Replaceable>alternate_dest</Replaceable></Arg>
<Group Choice="opt">
<Group Choice="req">
<Arg Choice="plain"><Option>noauth</Option></Arg>
<Arg Choice="plain"><Option>localauth</Option></Arg>
</Group>
</Group>
<Arg Choice="opt"><Option>help</Option></Arg>
</CmdSynopsis>
</RefSynopsisDiv>
<RefSect1>
<Title>OPTIONS</Title>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>server </Option><Symbol Role="Variable">machine</Symbol></Term>
<ListItem>
<Para>Names the server machine on which the new binary files are to be installed.
The BOS Server on this machine executes the command.  To run this command using
a privileged identity, specify the full DCE pathname of the machine.  To run
this command using the unprivileged identity <Literal>nobody</Literal> (the equivalent of
running the command with the <Option>noauth</Option> option), specify the machine's
host name or IP address.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>file </Option><Symbol Role="Variable">binary_file</Symbol></Term>
<ListItem>
<Para>Specifies the pathname of each binary file to be installed on the machine
specified by the <Option>server</Option> option.  For each file, specify either the full
pathname or a relative pathname (one that does not begin with a slash);
relative pathnames are interpreted relative to the current working directory.
The name of each file remains the same when it is installed on the specified
machine; the command automatically preserves an existing file of the same name
as a file that is installed.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term> <Option>dir </Option><Symbol Role="Variable">alternate_dest</Symbol></Term>
<ListItem>
<Para>Provides the pathname of the directory on the machine specified by the
<Option>server</Option> option in which all specified files are to be installed.  Omit
this option to install the files in the default directory,
<Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename>; otherwise, provide a full or relative pathname.
Relative pathnames are interpreted relative to the <Symbol Role="Variable">dcelocal</Symbol> directory
on the machine specified by <Option>server</Option>.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>noauth</Option></Term>
<ListItem>
<Para>Directs <Command>bos</Command> to use the unprivileged identity <Literal>nobody</Literal> as the
identity of the issuer of the command.  The command fails if you use this
option and DFS authorization checking is not disabled on the machine specified
by <Option>server</Option>.  If you use this option, do not use the <Option>localauth</Option>
option.
<?sml-break><?sml-need 10></Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>localauth</Option></Term>
<ListItem>
<Para>Directs <Command>bos</Command> to use the DFS server principal name of the machine on which
the command is issued as the identity of the issuer.  Use this option only if
the command is issued from a DFS server machine (a machine that has a DFS
server principal in the local Registry Database).  You must be logged into the
server machine as <Literal>root</Literal> for this option to work.  If you use this option,
do not use the <Option>noauth</Option> option.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>help</Option></Term>
<ListItem>
<Para>Prints the online help for this command.  All other valid options specified
with this option are ignored.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
</RefSect1>
<RefSect1>
<Title>DESCRIPTION</Title>
<Para>The <Command>bos install</Command> command installs each binary file specified with the
<Option>file</Option> option on the server machine specified with the <Option>server</Option>
option.  The <Option>file</Option> option provides the pathname of each file to be
installed on the specified machine.  By default, the command installs the
files in the <Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename> directory on the specified machine; use
the <Option>dir</Option> option to indicate a different installation directory on the
specified machine.
</Para>
<Para>The command does not change the names of files when it installs them.  To
preserve the current version of a binary file that has the same name as a
file being installed, the command adds a <Literal>.BAK</Literal> extension to the name of
the existing file.  If there is a <Literal>.BAK</Literal> version at least 7 days old, the
command adds a <Literal>.OLD</Literal> extension to its name and it replaces the current
<Literal>.OLD</Literal> version (if one exists).  If there is a <Literal>.BAK</Literal> version less than
7 days old, it is overwritten when the current version receives a <Literal>.BAK</Literal>
extension.  If there is no <Literal>.OLD</Literal> version, the current <Literal>.BAK</Literal> version
becomes the <Literal>.OLD</Literal> version automatically, regardless of its age.
</Para>
<Para>The command is typically used to install new versions of binary files on
Binary Distribution machines.  The machine specified with the <Option>server</Option>
option should be the Binary Distribution machine for its CPU/operating system
type.  If it is not, newly installed binary files are overwritten the next time
the <Command>upclient</Command> process on the specified machine copies new (or different)
versions of binary files via the <Command>upserver</Command> process on the Binary
Distribution machine of its CPU/operating system type. (Note that the Update Server
propagates binary files from Binary Distribution machines, but the BOS Server
installs files when the <Command>bos install</Command> command is issued; by default, it
takes the Update Server 5 minutes to propagate binary files from a Binary
Distribution machine.)
</Para>
<Para><?sml-need 15>To make the machine specified by <Option>server</Option> immediately start using new
binary files for server processes controlled by the BOS Server, issue the
<Command>bos restart</Command> command.  Otherwise, new binaries are not used until the
BOS Server restarts the affected processes at the new binary restart time
specified in the <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/BosConfig</Filename> file.  Use the <Command>bos
getrestart</Command> and <Command>bos setrestart</Command> commands to inspect and set the new
binary restart time. (The information in this paragraph applies <Replaceable>only</Replaceable>
to affected processes already under the control of the BOS Server.)
</Para>
<Para>The <Command>bos install</Command> command installs all files with the UNIX mode bits set
to <Literal>755</Literal> (<Literal>rwxr&minus;xr&minus;x</Literal>), regardless of the mode bits associated with
a version of the file that currently exists in the destination directory.
These permissions are subject to the <Command>umask</Command> associated with the BOS
Server on the machine on which the files are installed (because the BOS Server
on the specified machine actually executes the command).  The mode bits
associated with the current version of the file are preserved when it becomes
the <Literal>.BAK</Literal> version, as are those of the <Literal>.BAK</Literal> version when it becomes
the <Literal>.OLD</Literal> version. (The command does not preserve the access control list,
or ACL, permissions of a file installed from a DCE LFS fileset, nor does it
directly manipulate the ACL permissions of a file installed into a DCE LFS
fileset.)
</Para>
<Para>Use the <Command>bos uninstall</Command> command to replace the current version of a binary
file with the next-oldest version of the file: the <Literal>.BAK</Literal> version, if it
exists; otherwise, the <Literal>.OLD</Literal> version.  If both the <Literal>.BAK</Literal> and
<Literal>.OLD</Literal> versions exist, the <Literal>.OLD</Literal> version replaces the <Literal>.BAK</Literal>
version when the latter becomes the current version.  Use the <Option>all</Option> option
with the <Command>bos uninstall</Command> command to remove all versions of a file; use
the <Command>bos prune</Command> command to remove <Literal>.BAK</Literal> and <Literal>.OLD</Literal> files from
the <Symbol Role="Variable">dcelocal</Symbol><Filename>/bin</Filename> directory.  (This command can also be used to remove
core files from the <Symbol Role="Variable">dcelocal</Symbol><Filename>/var/dfs/adm</Filename> directory.)  Use the <Command>bos
getdates</Command> command to check the time stamps on binary files.
</Para>
<RefSect2>
<Title>Privilege Required</Title>
<Para>You must be listed in the <Filename>admin.bos</Filename> file on the machine specified by
<Option>server</Option>.
</Para>
</RefSect2>
</RefSect1>
<RefSect1>
<Title>RELATED INFORMATION</Title>
<!--no-op:  l-->
<Para>Commands:
<Literal>bos&ensp;create(8dfs)</Literal>,
<Literal>bos&ensp;getdates(8dfs)</Literal>,
<Literal>bos&ensp;getrestart(8dfs)</Literal>,
<Literal>bos&ensp;prune(8dfs)</Literal>,
<Literal>bos&ensp;restart(8dfs)</Literal>,
<Literal>bos&ensp;setrestart(8dfs)</Literal>,
<Literal>bos&ensp;uninstall(8dfs)</Literal>,
<Literal>upclient(8dfs)</Literal>,
<Literal>upserver(8dfs)</Literal>.
<!--no-op:  b-->
</Para>
<Para>Files:
<Literal>BosConfig(4dfs)</Literal>.
<IndexTerm Id="DFSAGR.MAN68.indx.4" SpanEnd="DFSAGR.MAN68.indx.1"><IndexTerm Id="DFSAGR.MAN68.indx.5" SpanEnd="DFSAGR.MAN68.indx.2"><IndexTerm Id="DFSAGR.MAN68.indx.6" SpanEnd="DFSAGR.MAN68.indx.3"></Para>
</RefSect1>
<!--+ 10/19/96 18:43:16
    | tagMorph:  $Id: bos_install.8dfs,v 1.1.2.4 1996/11/07 18:44:56 weir Exp $
    | tagMorph library:  $Id: bos_install.8dfs,v 1.1.2.4 1996/11/07 18:44:56 weir Exp $
    | sml-to-docbook:  1.23
    +-->
</RefEntry>

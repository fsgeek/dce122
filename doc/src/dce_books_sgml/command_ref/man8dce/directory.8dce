<!--
# @OSF_COPYRIGHT@
# 
# 
# HISTORY
# $Log: directory.8dce,v $
# Revision 1.1.2.9  1996/12/14  17:29:28  carrig
# 	{enh,R1.2.2}
# 	Final edits
# 	[1996/12/14  17:27:16  carrig]
#
# Revision 1.1.2.8  1996/12/13  18:18:39  carrig
# 	{enh,R1.2.2}
# 	Corrections to Synopses
# 	[1996/12/13  18:16:59  carrig]
# 
# Revision 1.1.2.7  1996/12/11  21:42:02  carrig
# 	{enh,R1.2.2}
# 	Commands
# 	[1996/12/11  21:40:24  carrig]
# 
# Revision 1.1.2.6  1996/12/01  20:02:36  carrig
# 	{enh,R1.2.2}
# 	Ward's comments
# 	[1996/12/01  20:01:04  carrig]
# 
# Revision 1.1.2.5  1996/11/22  21:17:16  carrig
# 	{enh,R1.2.2}
# 	Ready for editor
# 	[1996/11/22  21:15:42  carrig]
# 
# Revision 1.1.2.4  1996/11/22  15:16:47  wardr
# 	{edit,R1.2.2}
# 	Init capped heads
# 	[1996/11/22  15:15:01  wardr]
# 
# Revision 1.1.2.3  1996/11/21  20:33:32  carrig
# 	{enh,R1.2.2}
# 	VarListEntry
# 	[1996/11/21  20:31:46  carrig]
# 
# Revision 1.1.2.2  1996/11/20  20:12:33  carrig
# 	{enh,R1.2.2}
# 	No changes
# 	[1996/11/20  20:10:43  carrig]
# 
# Revision 1.1.2.1  1996/11/11  23:21:24  wardr
# 	{edit,R1.2.2}
# 	Initial checkin after sgml conversion
# 	[1996/11/11  23:16:28  wardr]
# 
# $EndLog$
-->
<!---->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<RefEntry Id="DCECR.MAN22.rsml.1">
<RefMeta>
<RefEntryTitle>directory</RefEntryTitle>
<ManVolNum>8dce</ManVolNum>
</RefMeta>
<RefNameDiv>
<RefName><Command>directory</Command></RefName>
<RefPurpose>A dcecp object that manages a name service directory 
</RefPurpose>
</RefNameDiv>
<!-- COPYRIGHT NOTICE-->
<!-- Copyright (c) 1990, 1991, 1992, 1993, 1994 Open Software Foundation, Inc.-->
<!-- ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE for-->
<!-- the full copyright text.-->
<!-- -->
<!-- -->
<!-- HISTORY-->
<!-- Revision 1.1.6.5  1996/10/28  14:56:17  wardr-->
<!-- 	{def,13588,R1.2.2}-->
<!-- 	Add Pointer to Problem Determination Guide-->
<!-- 	[1996/10/28  14:54:35  wardr]-->
<!---->
<!-- Revision 1.1.6.4  1996/06/28  19:23:35  millett-->
<!-- 	 {edt,R1.2.2}-->
<!-- 	 OSF edits-->
<!-- 	{def,13543,R1.2.2}-->
<!-- 	 Add server principal name to permissions-->
<!-- 	[1996/06/28  19:23:06  millett]-->
<!-- -->
<!-- Revision 1.1.6.3  1996/06/07  19:30:32  millett-->
<!-- 	{def,CR13377,R1.2.2}-->
<!-- 	HP review edits-->
<!-- 	[1996/06/07  19:30:13  millett]-->
<!-- -->
<!-- Revision 1.1.6.2  1996/06/03  19:25:37  millett-->
<!-- 	{def,CR13377,R1.2.2}-->
<!-- 	HP review edits-->
<!-- 	[1996/06/03  19:25:15  millett]-->
<!-- -->
<!-- Revision 1.1.6.1  1996/05/13  15:48:17  wardr-->
<!-- 	{enh,R1.2.2}-->
<!-- 	Removed changebars-->
<!-- 	[1996/05/13  15:46:45  wardr]-->
<!-- -->
<!-- Revision 1.1.4.7  1996/03/27  19:03:40  weir-->
<!-- 	Updated change markers-->
<!-- 	[1996/03/27  19:02:17  weir]-->
<!-- -->
<!-- Revision 1.1.4.6  1996/03/20  19:28:12  wardr-->
<!-- 	{edit R1.2.1}-->
<!-- 	Release Edits-->
<!-- 	[1996/03/20  19:23:07  wardr]-->
<!-- -->
<!-- Revision 1.1.4.5  1996/02/02  19:58:11  weir-->
<!-- 	checking in for HP-->
<!-- 	[1996/02/02  19:56:05  weir]-->
<!-- -->
<!-- Revision 1.1.4.4  1995/12/29  19:39:00  weir-->
<!-- 	Temporarily checked back in for HP-->
<!-- 	[1995/12/29  19:37:23  weir]-->
<!-- -->
<!-- Revision 1.1.4.3  1995/12/14  17:52:47  weir-->
<!-- 	1.2.1 additions/changes added-->
<!-- 	[1995/12/14  17:51:28  weir]-->
<!-- -->
<!-- Revision 1.1.4.2  1995/12/14  15:06:14  weir-->
<!-- 	Initial check-in to secure dcecp manpages in 1.2. tree-->
<!-- 	[1995/12/14  15:04:32  weir]-->
<!-- -->
<!-- Revision 1.1.4.1  1995/12/12  01:02:07  wardr-->
<!-- 	{edit R1.2.1}-->
<!-- 	checked out and in to the 1.2.1 tree-->
<!-- 	[1995/12/12  01:01:44  wardr]-->
<!-- -->
<!-- Revision 1.1.2.13  1995/12/11  18:53:22  rcb-->
<!-- 	1.1, 1.2 tech changes by weir; editorial backfill by rcb; ready for 1.2 checkout-->
<!-- 	[1995/12/11  18:52:35  rcb]-->
<!-- -->
<!-- Revision 1.1.2.12  1995/10/06  20:46:32  rcb-->
<!-- 	1.1PH: editorial pass including outstanding 1.1 edits-->
<!-- 	[1995/10/06  20:38:10  rcb]-->
<!-- -->
<!-- Revision 1.1.2.11  1995/09/22  18:38:26  rcb-->
<!-- 	preliminary editing (including outstanding 1.1 edits) for 1.1PH, 1.2-->
<!-- 	[1995/09/22  18:26:35  rcb]-->
<!-- -->
<!-- Revision 1.1.2.10  1994/11/03  23:56:48  neilson-->
<!-- 	Substituted macros for book names in cross refs.-->
<!-- 	[1994/11/03  02:42:36  neilson]-->
<!-- -->
<!-- Revision 1.1.2.9  1994/10/20  00:59:32  hileman-->
<!-- 	Removed comment text containing TBDs.-->
<!-- 	[1994/10/20  00:59:12  hileman]-->
<!-- -->
<!-- Revision 1.1.2.8  1994/10/19  23:16:25  hileman-->
<!-- 	Incorporated review corrections.-->
<!-- 	[1994/10/19  23:16:08  hileman]-->
<!-- -->
<!-- Revision 1.1.2.7  1994/07/15  20:59:08  wardr-->
<!-- 	{enh, CR10014, R1.1}dcecp changes-->
<!-- 	[1994/07/15  20:56:38  wardr]-->
<!-- -->
<!-- 	{enh, CR10014, R1.1}dcecp changes-->
<!-- -->
<!-- Revision 1.1.2.6  1994/06/13  18:39:53  devobj-->
<!-- 	cr10872 - fix copyright-->
<!-- 	[1994/06/13  18:38:11  devobj]-->
<!-- -->
<!-- Revision 1.1.2.5  1994/05/06  19:00:55  wardr-->
<!-- 	{enh, CR10014, R1.1}-->
<!-- 	updating reference pages-->
<!-- 	[1994/05/06  18:58:43  wardr]-->
<!-- -->
<!-- Revision 1.1.2.4  1994/03/15  21:01:08  wardr-->
<!-- 	{enh, CR10014, R1.1}-->
<!-- 	initial DCECP ref page work-->
<!-- 	[1994/03/15  20:59:16  wardr]-->
<!-- -->
<!-- Revision 1.1.2.3  1994/03/11  20:34:43  wardr-->
<!-- 	{enh, CR10014, R1.1}-->
<!-- 	fixed beoken lists-->
<!-- 	[1994/03/11  17:39:53  wardr]-->
<!-- -->
<!-- Revision 1.1.2.2  1994/03/10  23:27:28  wardr-->
<!-- 	{enh, CR10014, R1.1}-->
<!-- 	DCECP reference page work-->
<!-- 	[1994/03/10  23:16:40  wardr]-->
<!-- -->
<!-- Revision 1.1.2.1  1994/03/09  19:58:23  wardr-->
<!-- 	{enh, CR10014, R1.1}-->
<!-- 	Creating new dcecp reference page-->
<!-- 	[1994/03/09  19:47:43  wardr]-->
<!-- -->
<IndexTerm Id="DCECR.MAN22.indx.1">
<Primary><Command>dcecp</Command> commands</Primary>
<Secondary><Command>directory</Command></Secondary>
</IndexTerm>
<IndexTerm Id="DCECR.MAN22.indx.2">
<Primary>directory</Primary>
<Secondary>administering</Secondary>
</IndexTerm>
<RefSynopsisDiv>
<CmdSynopsis>
<Command>directory add</Command>
<Arg Choice="plain"><Replaceable>directory_name_list</Replaceable></Arg>
<Arg Choice="plain"><Option>member</Option> <Replaceable>child_pointer_list</Replaceable></Arg>
<Arg Choice="plain"><Option>clearinghouse</Option> <Replaceable>clearinghouse_name</Replaceable></Arg>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory create</Command>
<Arg Choice="plain"><Replaceable>directory_name_list</Replaceable></Arg>
<?Pub _newline>
<Arg Choice="opt"><Arg Choice="plain"><Option>attribute</Option> <Replaceable>attribute_list</Replaceable></Arg><Arg Choice="opt"><Option>single</Option></Arg></Arg>
<Arg Choice="opt"><Arg Choice="opt"><Option>replica</Option></Arg><Arg Choice="plain"><Option>clearinghouse</Option> <Replaceable>clearinghouse_name</Replaceable></Arg></Arg>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory delete</Command>
<Arg Choice="plain"><Replaceable>directory_name_list</Replaceable></Arg>
<Group>
<Arg Choice="opt"><Option>tree</Option></Arg>
<Arg Choice="opt"><Option>force</Option></Arg>
<Arg Choice="plain"><Option>replica</Option></Arg>
<Arg Choice="plain"><Option>clearinghouse</Option> <Replaceable>clearinghouse_name</Replaceable></Arg>
</Group>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory help</Command>
<Group>
<Arg Choice="plain"><Replaceable>operation</Replaceable></Arg>
<Arg Choice="plain"><Option>verbose</Option></Arg>
</Group>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory list</Command>
<Arg Choice="plain"><Replaceable>directory_name_list</Replaceable></Arg>
<Arg Choice="opt"><Option>directories</Option></Arg>
<Arg Choice="opt"><Option>objects</Option></Arg>
<Arg Choice="opt"><Option>links</Option></Arg>
<Group>
<Arg Choice="plain"><Option>simplename</Option></Arg>
<Arg Choice="plain"><Option>fullname</Option></Arg>
</Group>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory merge</Command>
<Arg Choice="plain"><Replaceable>source_directory_name</Replaceable></Arg>
<Arg Choice="plain"><Option>into</Option> <Replaceable>destination_directory_name</Replaceable></Arg>
<Arg Choice="opt"><Option>clearinghouse</Option> <Replaceable>clearinghouse_name</Replaceable></Arg>
<Arg Choice="opt"><Option>tree</Option></Arg>
<Arg Choice="opt"><Option>nocheck</Option></Arg>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory modify</Command>
<Arg Choice="plain"><Replaceable>directory_name_list</Replaceable></Arg>
<Group Choice="req">
<Arg Choice="plain"><Option>add</Option> <Replaceable>attribute_list</Replaceable></Arg>
<Arg Choice="opt"><Option>single</Option></Arg>
<Arg Choice="plain"><Option>remove</Option> <Replaceable>attribute_list</Replaceable></Arg>
<Arg Choice="opt"><Option>types</Option></Arg>
<Arg Choice="plain"><Option>change</Option> <Replaceable>attribute_list</Replaceable></Arg>
<Arg Choice="plain"><Option>master</Option> <Replaceable>clearinghouse_name</Replaceable></Arg>
<Arg Choice="opt"><Option>readonly</Option> <Replaceable>clearinghouse_name_list</Replaceable></Arg>
<Arg Choice="opt"><Option>exclude</Option> <Replaceable>clearinghouse_name_list</Replaceable></Arg>
</Group>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory operations</Command>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory remove</Command>
<Arg Choice="plain"><Replaceable>directory_name_list</Replaceable></Arg>
<Arg Choice="plain"><Option>member</Option><Replaceable>child_pointer_list</Replaceable></Arg>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory show</Command>
<Arg Choice="plain"><Replaceable>directory_name_list</Replaceable></Arg>
<Arg Choice="opt"><Option>schema</Option></Arg>
<Group>
<Arg Choice="plain"><Option>member</Option> <Replaceable>child_pointer_list</Replaceable></Arg>
<Arg Choice="opt"><Option>replica</Option></Arg>
<Arg Choice="plain"><Option>clearinghouse</Option> <Replaceable>clearinghouse_name</Replaceable></Arg>
</Group>
</CmdSynopsis>
<CmdSynopsis>
<Command>directory synchronize</Command>
<Arg Choice="plain"><Replaceable>directory_name_list</Replaceable></Arg>
</CmdSynopsis>

</RefSynopsisDiv>
<RefSect1>
<Title>Arguments</Title>
<VariableList>
<VarListEntry role="linebreak">
<Term><Symbol Role="Variable">directory_name_list</Symbol></Term>
<ListItem>
<Para>A list of one or more directory names to be operated on.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Symbol Role="Variable">operation</Symbol></Term>
<ListItem>
<Para>The name of the <Command>directory</Command> operation for which to display  
help information.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Symbol Role="Variable">source_directory_name</Symbol></Term>
<ListItem>
<Para>The name of a single directory whose contents are to be copied 
into a destination directory using the <Command>merge</Command> operation.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
</RefSect1>
<RefSect1>
<Title>Description</Title>
<Para>The <Command>directory</Command> object represents Cell Directory Service (CDS)  
directories.  CDS directories  
are containers for other objects, links, and other directories (as well as  
clearinghouses).  Any of these items that reside in a directory are  
called <FirstTerm>children</FirstTerm> of that directory.  Directories also contain  
attributes that may be viewed or modified.  
</Para>
<Para>This object also represents CDS replicas.  Replicas are  
read-only copies of directories stored in other clearinghouses.  Several of  
the supported operations take options to indicate that the command is to  
operate on a specific replica.  
</Para>
<Para>If the <Literal>_s(cds)</Literal> convenience variable is set, it is treated as the  
name of a clearinghouse to contact for this operation.  This is the only  
clearinghouse that will be contacted in an attempt to complete the  
operation.  These commands do <Symbol Role="Variable">not</Symbol> set the value of this variable  
after completion.  If a <Literal>&minus;clearinghouse</Literal> option is used (as  
described in some commands below), it overrides the value of  
<Literal>_s(cds)</Literal>, but the command does not change the setting of <Literal>_s(cds)</Literal>.  
</Para>
</RefSect1>
<RefSect1>
<Title>Attributes</Title>
<Para RevisionFlag="Changed"><?og-ChangeStart def,13377,R1.2.2,enchanced descriptions of all attrs" >The following are the CDS-defined attributes for CDS <Command>directory</Command> objects: 
</Para>
<VariableList>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_AllUpTo</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Indicates the date and time of the last successful skulk on the directory.  
All replicas of the directory are guaranteed to receive all updates whose  
timestamps are less than the value of this attribute.  The value of this  
attribute is a read-only DTS-style timestamp that is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_Convergence</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Specifies the degree of consistency among replicas.  This attribute's value  
is defined as one of the following:  
</Para>
<VariableList>
<VarListEntry>
<Term><Literal RevisionFlag="Changed">low</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">CDS does not immediately propagate an update.  The next skulk distributes  
all updates that occurred since the previous skulk.  Skulks occur at least  
once every 24 hours.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal RevisionFlag="Changed">medium</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">CDS attempts to immediately propagate an update to all replicas.  If the  
attempt fails, the next scheduled skulk makes the replicas consistent.  
Skulks occur at least once every 12 hours.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal RevisionFlag="Changed">high</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">CDS attempts to immediately propagate an update to all replicas.  If the  
attempt fails (for example, if one of the replicas is unavailable), a skulk  
is scheduled for within one hour.  Skulks usually occur at least once every  
12 hours.  Use this setting temporarily and briefly, because it uses  
extensive system resources.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para RevisionFlag="Changed">By default, every directory inherits the convergence setting of its parent  
at creation time.  The default setting on the root directory is  
<Literal>medium</Literal>.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal RevisionFlag="Changed">CDS_CTS</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Specifies the creation timestamp (CTS) of the directory.  
The value of this attribute is a read-only DTS-style timestamp that is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_DirectoryVersion</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Specifies the current version of the directory.  The version is derived from the  
<Literal>CDS_DirectoryVersion</Literal> attribute of the clearinghouse in which the  
directory was created.  Multiple directory versions are supported in a  
cell.  This read-only attribute is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal RevisionFlag="Changed">CDS_Epoch</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">A Universal Unique Identifier  
(UUID) that identifies a particular instance of the directory.    
This read-only attribute is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_GDAPointers</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">A set-valued attribute that is present only in the root directory of a  
cell.  This attribute contains location information about registered Global  
Directory Agents (GDAs)  
for that cell, similar to the <Literal>CDS_Replicas</Literal> attribute.  It  
is created and only used by a GDA.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_InCHName</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Indicates whether a directory or any of its descendants can store  
clearinghouse names.  If this value is <Literal>true</Literal>, the directory can  
store clearinghouse names.  If it is <Literal>false</Literal>, the directory cannot  
store clearinghouse names.  This read-only attribute is set by the system.   
As of DCE Release 1.1 and later, CDS creates this attribute on the cell root  
directory and gives it a value of <Literal>true</Literal>.  The attribute  
will not appear in any other directory.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_LastSkulk</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Records the timestamp of the last skulk performed on this directory.  
This read-only attribute is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_LastUpdate</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Records the timestamp of the most recent change to any attribute of a  
directory replica, or any change to an entry in the replica.  
This read-only attribute is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_ObjectUUID</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Specifies the unique identifier of the directory.   
This read-only attribute is set by the system when the directory is created. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_ParentPointer</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Contains a pointer to this directory's parent in the namespace.  
This read-only attribute is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_Replicas</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Specifies the address, UUID, and name of every clearinghouse in which a copy  
of this directory is located.  This attribute also specifies whether the  
replica in a particular clearinghouse is a master or read-only replica.  
This read-only attribute is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_ReplicaState</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Specifies whether a directory replica can be accessed.   
The state <Literal>on</Literal> indicates that the directory replica can be accessed.   
This read-only attribute is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_ReplicaType</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Indicates whether a directory replica is a master or read-only replica.   
Possible values are <Literal>Master</Literal> and <Literal>ReadOnly</Literal>.   
This read-only attribute is set by the system.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_ReplicaVersion</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Specifies the version of a replica of the directory.  The default is <Literal>3.0</Literal>.   
This read-only attribute is set by the system. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_RingPointer</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Specifies the UUID of a clearinghouse containing another replica of this  
directory.  The <Literal>CDS_RingPointer</Literal> attribute appears on older directories, but not  
on DCE Release 1.1 and later directories.  This read-only attribute is set by the system.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Literal RevisionFlag="Changed">CDS_UpgradeTo</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">A single-valued attribute used to control the upgrading of a directory from  
one version of CDS to another.  By modifying this attribute, the process of  
upgrading a directory to a newer version of CDS may be initiated.   
After this attribute is set,  
the background process in CDS notices it and tries to contact each replica.  
If CDA can contact the replica, the <Literal>CDS_DirectoryVersion</Literal> attribute is  
changed to the value of this attribute. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal RevisionFlag="Changed">CDS_UTS</Literal></Term>
<ListItem>
<Para RevisionFlag="Changed">Specifies the timestamp of the most recent update to an attribute of the  
directory. The value of this attribute is a read-only DTS-style timestamp  
that is set by the system.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para RevisionFlag="Changed"><!-- See the \*VOSF DCE Administration Guide\*O for more information about directory attributes.-->
See the &DCEAg; for more information about directory attributes.
<?og-ChangeEnd def,13377,R1.2.2,enchanced descriptions of all attrs" ></Para>
</RefSect1>
<RefSect1>
<Title>Errors</Title>
<Para>A representative list of errors that might be returned is not shown
here.  Refer to the &DCETg; for complete descriptions of all error
messages.
</Para>
</RefSect1>
<RefSect1>
<Title>Operations</Title>
<!--   -->
<RefSect2>
<Title>directory add</Title>
<Para>Creates a child pointer in the parent directory.  The  
syntax is as follows:  
</Para>
<Synopsis><Command>directory add </Command><Symbol Role="Variable">directory_name_list</Symbol> <Option>member</Option> <Symbol Role="Variable">child_pointer_list  
<?sml-break></Symbol><Option>clearinghouse</Option> <Symbol Role="Variable">clearinghouse_name</Symbol><Literal>  
</Literal></Synopsis>
<Para><Literal>Options</Literal>  
</Para>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>member</Option> <Symbol Role="Variable">child_pointer_list</Symbol></Term>
<ListItem>
<Para>This required option names the child pointers to be added to parent  
directories in the clearinghouse named by the required <Option>clearinghouse</Option>   
option.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>clearinghouse</Option> <Symbol Role="Variable">clearinghouse_name</Symbol></Term>
<ListItem>
<Para>This required option names the clearinghouse to which the child pointers  
are to be added.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>The <Literal>add</Literal> operation  
creates a child pointer in the parent directory.   
The <Symbol Role="Variable">directory_name_list</Symbol> argument is a list of one or more names of  
parent directories to have child pointers added to them.  The value of  
the required <Option>member</Option> option is a list of names of child pointers  
to be added to each directory listed in the argument.  Each  
child pointer name entered should contain only the last relative  
distinguished name (RDN) of the  
name.  The child object must exist or the command returns an error.  
The full name of a clearinghouse that holds a replica of the  
child directory is given as the value to the required  
<Option>clearinghouse</Option> option.  This option may only have one value and  
is used for each value of the <Option>member</Option> option.  This  
operation returns  
an empty string on success.  If a child pointer of the same name  
already exists, an error is returned.  
</Para>
<Para>This command is needed only to recreate a child pointer that was accidentally  
deleted, such as in a troubleshooting situation.  Normally child pointers are  
created internally by CDS when creating directories with the <Command>directory  
create</Command> command.  
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para>You must have <Literal>i</Literal> (<Literal>insert</Literal>) permission to the parent directory.  
</Para>
<Para><Literal>Examples</Literal>  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp><Literal> directory add /.: -member foo -clearinghouse /.:/oddball_ch</Literal> 
dcecp>
</ProgramListing></Para>
</InformalExample>
</RefSect2>
<RefSect2>
<Title>directory create</Title>
<Para>Creates a new directory of the specified name.  The syntax is as follows:  
</Para>
<Synopsis RevisionFlag="Changed"><?og-ChangeStart def,13377,R1.2.2,Clarify syntax"  ><Command>directory create </Command><Symbol Role="Variable">directory_name_list</Symbol> [<Option>attribute</Option> <Symbol Role="Variable">attribute_list</Symbol> [<Option>single</Option>]]  
<?sml-break>[[<Option>replica</Option>]  <Option>clearinghouse</Option> <Symbol Role="Variable">clearinghouse_name</Symbol>]]  
<?og-ChangeEnd def,13377,R1.2.2,Clarify syntax"  ></Synopsis>
<Para><Literal>Options</Literal>  
</Para>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>attribute</Option> <Symbol Role="Variable">attribute_list</Symbol></Term>
<ListItem>
<Para>Allows you to specify the <Literal>CDS_Convergence</Literal> attribute or the  
<Literal>CDS_UpgradeTo</Literal> attribute in an attribute list.  The format is as follows:  
</Para>
<InformalExample>
<Para><ProgramListing><UserInput>{{<Symbol Role="Variable">attribute value</Symbol><Literal>}... {</Literal><Symbol Role="Variable">attribute value</Symbol><Literal>}}  
</Literal></UserInput></ProgramListing></Para>
</InformalExample>
<Para>See <Literal>Attributes</Literal> for  
descriptions of <Literal>CDS_Convergence</Literal> and  
<Literal>CDS_UpgradeTo</Literal>.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>single</Option></Term>
<ListItem>
<Para>Valid only with the <Option>attribute</Option> option, this option specifies that  
attribute values are single-valued.  Otherwise, attributes are multivalued.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>replica</Option></Term>
<ListItem>
<Para>This option specifies that the directory created is a replica of an  
existing directory.  If you use the <Option>replica</Option> option, you must  
specify a clearinghouse by using the -clearinghouse option.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>clearinghouse</Option> <Symbol Role="Variable">clearinghouse_name</Symbol></Term>
<ListItem>
<Para>Required with the <Option>replica</Option> option; optional when the 
<Option>replica</Option> option is not present. The <Option>clearinghouse</Option> option  
names the clearinghouse to which the child pointers are to be added.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>The <Command>create</Command> operation  
creates a new directory of the specified name.    
The <Symbol Role="Variable">directory_name_list</Symbol> argument is a list of names of directories to  
be created.    
</Para>
<Para>An optional <Option>attribute</Option> option specifies a list of attributes to  
be included in each created directory.  The attribute values are multivalued  
unless the <Option>single</Option> option is specified, in which case all  
attributes are single-valued.  The <Option>single</Option> option is valid only   
if the <Option>attribute</Option> option is specified.    
</Para>
<Para>The <Option>clearinghouse</Option> option   
specifies one clearinghouse to create all the directories in.  If this option  
is not specified, the new directories are created in the master  
clearinghouse as the parent directory.  The <Command>directory create</Command>  
command also takes a <Option>replica</Option> option, which indicates that a  
directory replica is created; when this option is used, the  
<Option>clearinghouse</Option> option is required.  This operation   
returns an empty string on success.  
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para>You must have the following permissions to create a directory:  
<Literal>r</Literal> (<Literal>read</Literal>) and <Literal>i</Literal> (<Literal>insert</Literal>)  
permission to the parent directory, and  
<Literal>w</Literal> (<Literal>write</Literal>) permission to the clearinghouse in which the master   
replica of the new directory is to be stored.  
</Para>
<Para RevisionFlag="Changed"><?og-ChangeStart def13543,R1.2.2,add server name" >In addition, the server principal (<Literal>hosts/</Literal><Symbol Role="Variable">hostname</Symbol><Filename>/cds-server</Filename>) 
must have <Literal>r</Literal> (<Literal>read</Literal>) and   
<Literal>i</Literal> (<Literal>insert</Literal>) permission to the parent directory.  
<?og-ChangeEnd def13543,R1.2.2,add server name" ></Para>
<Para><Literal>Examples</Literal>  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp><Literal> directory create /.:/sales</Literal>
dcecp>  
</ProgramListing></Para>
</InformalExample>
</RefSect2>
<RefSect2>
<Title>directory delete</Title>
<Para>Deletes a directory.  The syntax is as follows:  
</Para>
<Synopsis RevisionFlag="Changed"><Command>directory delete </Command><Symbol Role="Variable">directory_name_list</Symbol> [[<Option>tree</Option>] [<Option>force</Option>] | 
<Literal>-replica -clearinghouse </Literal><Symbol Role="Variable">clearinghouse_name</Symbol>]  
<?og-ChangeEnd def,13377,R1.2.2,Clarify syntax"  ></Synopsis>
<Para><Literal>Options</Literal>  
</Para>
<VariableList>
<VarListEntry>
<Term><Option>tree</Option></Term>
<ListItem>
<Para>Removes the directory and everything (all  
directories, objects, links, and clearinghouses) beneath it.    
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>replica</Option></Term>
<ListItem>
<Para>Specifies that the directory to delete is a replica of an  
existing directory. The <Option>clearinghouse</Option> option is required  
if you use this option.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>force</Option></Term>
<ListItem>
<Para>Allows the delete operation to proceed by deleting existing replicas.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>clearinghouse</Option><Symbol Role="Variable"> clearinghouse_name</Symbol></Term>
<ListItem>
<Para>Required with the <Option>replica</Option> option, the <Option>clearinghouse</Option>  
option names the single clearinghouse from which  
the replica is to be deleted.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>The <Command>delete</Command> operation deletes a directory from the CDS  
name service.  The <Symbol Role="Variable">directory_name_list</Symbol> argument is a list of names of  
directories to be deleted.  If the directory is not empty, the command  
returns an error unless the <Option>tree</Option> option is used.  The  
<Option>tree</Option> option, which takes no value, removes the directory  
and everything (all directories, objects, links, and clearinghouses)  
beneath it. 
The <Option>force</Option> option also deletes replicas.   
</Para>
<Para>Used together, the <Option>replica</Option> and <Option>clearinghouse</Option> options 
let you delete a replica instead of a directory.  The  
<Option>clearinghouse</Option> option specifies the clearinghouse that contains the   
replica; only one value can be specified, not a  
list.  This operation  
returns an empty string on success.  If a specified directory  
does not exist, an error is generated.  
</Para>
<Para>The <Option>replica</Option> and <Option>clearinghouse</Option> options cannot be used with   
the <Option>tree</Option> option.   
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para RevisionFlag="Changed"><?og-ChangeStart def,13543,R1.2.2,add server name" >You must have <Literal>d</Literal> (<Command>delete</Command>) permission to the directory and <Literal>w</Literal>   
(<Literal>write</Literal>) permission to the   
clearinghouse that stores the master replica of the directory.  The server   
principal (<Literal>hosts/</Literal><Symbol Role="Variable">hostname</Symbol><Filename>/cds-server</Filename>) needs 
<Literal>A</Literal> (<Literal>Admin</Literal>) permission to the parent directory   
or <Literal>d</Literal> (<Command>delete</Command>) permission to the child pointer that points   
to the directory you intend to delete. 
<?og-ChangeEnd def,13543,R1.2.2,add server name"  ></Para>
<Para><Literal>Examples</Literal>  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp><Literal> directory delete /.:/eng </Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
<Para>The following command tries to delete a nonempty directory  
<Literal>/.:/depts/phrenology</Literal> and gets an error.  The second attempt uses  
the <Option>tree</Option> option to delete the directory and all the directories  
and objects beneath it.  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>dir delete /.:/depts/phrenology</Literal> 
Error: Directory must be empty to be deleted 
dcecp> 
 
dcecp> <Literal>dir delete /.:/depts/phrenology -tree</Literal> 
dcecp>  
</ProgramListing></Para>
</InformalExample>
</RefSect2>
<RefSect2>
<Title>directory help</Title>
<Para>Returns help information about the <Command>directory</Command> object and its operations.  
The syntax is as follows:  
</Para>
<Synopsis><Command>directory help </Command>[<Symbol Role="Variable">operation</Symbol> | <Option>verbose</Option>]  
</Synopsis>
<Para><Literal>Options</Literal>  
</Para>
<VariableList>
<VarListEntry>
<Term><Option>verbose</Option></Term>
<ListItem>
<Para>Displays information about the <Command>directory</Command> object.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>Used without an argument or option, the  
<Command>directory  
help</Command> command returns brief information   
about each  
<Command>directory</Command> operation. 
The optional <Symbol Role="Variable">operation</Symbol> argument is  
the name of an operation about which you want detailed information.  Alternatively,  
you can use the <Option>verbose</Option> option to display detailed information   
about the  
<Command>directory</Command>  
object itself.  
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para>No special privileges are needed to use the <Command>directory help</Command>  
command.  
</Para>
<Para><Literal>Examples</Literal>  
</Para>
<InformalExample>
<Para><ProgramListing role="page-wide">dcecp> <Literal>directory help</Literal>    
add                 Creates a child pointer in the specified directory.  
create              Creates the named directory.  
delete              Deletes the named directory.  
list                Lists the descendants of a directory.  
merge               Merges the contents of one directory into another.  
modify              Adds, removes or changes attributes in the named directory.  
remove              Removes a child pointer in the specified directory.  
show                Returns the attributes of a directory.  
synchronize         Skulks the named directory.  
help                Prints a summary of command-line options.  
operations          Returns a list of the valid operations for this command. 
dcecp> 
</ProgramListing></Para>
</InformalExample>
</RefSect2>
<RefSect2>
<Title>directory list</Title>
<Para>Returns a list of the names of all the descendants of a directory.  The  
syntax is as follows:  
</Para>
<Synopsis><Command>directory list </Command><Symbol Role="Variable">directory_name_list</Symbol> [<Option>directories</Option>] [<Option>objects</Option>] [<Option>links</Option>] 
[<Option>simplename</Option> | <Option>fullname</Option>]  
</Synopsis>
<Para><Literal>Options</Literal>  
</Para>
<VariableList>
<VarListEntry>
<Term><Option>directories</Option></Term>
<ListItem>
<Para>Lists the names of  
all descendent directories.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>objects</Option></Term>
<ListItem>
<Para>Lists the names of  
all descendent objects.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>links</Option></Term>
<ListItem>
<Para>Lists the names of  
all descendent softlinks.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>simplename</Option></Term>
<ListItem>
<Para>Returns just the RDN of the name.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>fullname</Option></Term>
<ListItem>
<Para>Returns the entire name.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>The <Command>list</Command> operation   
returns a list of the names of all  
the descendents of a directory.  Descendants can include all  
directories, objects, links, and clearinghouses.    
The <Symbol Role="Variable">directory_name_list</Symbol> argument is a list of names of directories  
to be operated on.  This command returns only the names of  
descendents, so there is no way to tell the class of each name unless by  
convention (for instance, most clearinghouses end with <Literal>_ch</Literal>).  
Use the following options to specify the types of descendents to  
return:  <Option>directories</Option>, <Option>objects</Option>, <Option>links</Option>.  The  
options take no values and can be used in combination.  By default or   
if the <Option>fullname</Option> option is specified,  
fullnames are returned.  Use the   
<Option>simplename</Option> option to  
return merely the last RDN of the name.  
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para>You must have <Literal>r</Literal> (<Literal>read</Literal>)  
permission to the directory named in the argument.  
</Para>
<Para><Literal>Examples</Literal>  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>dir list /.:/depts/administration -links</Literal>  
/.../ward_cell.osf.org/depts/administration/bump_server1 
dcecp> 
</ProgramListing></Para>
</InformalExample>
</RefSect2>
<RefSect2>
<Title>directory merge</Title>
<Para>Copies the contents of one directory into another directory.  
The syntax is as follows:  
</Para>
<Synopsis><Command>directory merge </Command><Symbol Role="Variable">source_directory_name</Symbol> <Option>into</Option> <Symbol Role="Variable">destination_directory_name</Symbol> 
<?sml-break>[<Option>clearinghouse</Option> <Symbol Role="Variable">clearinghouse_name</Symbol>] [<Option>tree</Option>] [<Option>nocheck</Option>]  
</Synopsis>
<Para><Literal>Options</Literal>  
</Para>
<VariableList>
<VarListEntry>
<Term><Option>tree</Option></Term>
<ListItem>
<Para>Copies the contents of  
child directories (as well as the child directories themselves) into  
the destination directory.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>into</Option> <Symbol Role="Variable">destination_directory_name</Symbol></Term>
<ListItem>
<Para>The argument to this required option specifies the name of the  
destination directory.  The destination directory must exist.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>clearinghouse</Option> <Symbol Role="Variable">clearinghouse_name</Symbol></Term>
<ListItem>
<Para>Places the new objects (the resulting merged directory) in  
a clearinghouse other than that of the newly created destination directory.    
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>nocheck</Option></Term>
<ListItem>
<Para>Lets the <Command>merge</Command> operation proceed without first checking  
for object name collisions or access control list (ACL)  
problems.  Use this option to save time when you are sure problems   
do not exist.   
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>The <Command>merge</Command> operation   
copies the contents of one directory into another.  The  
argument is the name of the source directory.  This command takes a  
required <Option>into</Option> option to specify the destination directory, which  
must exist.  For example, if <Literal>/.:/a</Literal> has two child objects  
<Literal>/.:/a/b</Literal> and <Literal>/.:/a/c</Literal>, then <Literal>directory merge /.:/a  
-into /.:/x</Literal> would result (assuming no errors) in the creation of the following  
objects: <Literal>/.:/x/b</Literal> and <Literal>/.:/x/c</Literal>.  
</Para>
<Para>Normally only the immediate contents of the directory are merged.  These contents 
include all objects, links, and directories, but not the contents  
of child directories.  To merge these as well, use the <Option>tree</Option>  
option.   
</Para>
<Para>By default, the new objects are placed in the destination directory's  
master clearinghouse, and all children (no matter how many levels down) are placed  
in the same clearinghouse.  To place any newly created descendent directories in another  
clearinghouse, use the <Option>clearinghouse</Option> option with a value.  
Only one clearinghouse can be specified for all directories involved in the  
merge operation.  To specify more than one, use the <Option>clearinghouse</Option>  
option after the merge has happened, or use separate commands.  
</Para>
<Para>This command first checks for any collisions or ACL problems before  
beginning to merge any objects.  If problems are encountered, an  
error is generated after all objects are checked, and the names  
of all problem objects, links, or directories are returned in a list.  The  
administrator should then address these problems and rerun the merge  
command.  If the <Option>nocheck</Option> option is specified, the check is not  
performed.  This way time can be saved when trying a known nonproblematic  
merge.  This is not an atomic operation and other changes to the  
involved objects can cause problems.  This command should be issued when  
others are not modifying the involved directories.   
ACLs can be changed to ensure that no other 
principal has the modify permissions to the directories.  
If an error occurs during the actual  
merging process, it is generated and the operation aborts immediately.  
</Para>
<Para>The merge command actually re-creates the objects with the same writable  
attributes of the source objects.  As a result, some read-only attributes  
will change between the source and destination.  For example, the creation  
timestamp attribute (<Literal>CDS_CTS</Literal>) changes.  
</Para>
<Para>The resulting merged directory inherits its ACLs from the destination  
directory's Initial Container or Initial Object ACLs.  Consequently,  
the ACLs of the destination objects are likely to differ from the  
ACLs of the source objects.  This operation returns an empty string on success. 
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para>You must have <Literal>r</Literal> (<Literal>read</Literal>) to the source and 
destination directories and <Literal>i</Literal> (<Literal>insert</Literal>) permission to the  
destination directory.  
</Para>
<Para><Literal>Examples</Literal>  
</Para>
<Para>The following command merges the directories but not the contents of  
the <Literal>/.:/depts/phrenology</Literal> directory into the  
<Literal>/.:/depts/radiology</Literal> directory:  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>dir list /.:/depts/phrenology -simple</Literal>  
applications services staff users 
dcecp> 

dcecp> <Literal>directory merge /.:/depts/phrenology -into /.:/depts/radiology</Literal> 
dcecp> 

dcecp> <Literal>dir list /.:/depts/radiology -simple </Literal>  
applications services staff users  
dcecp>
</ProgramListing></Para>
</InformalExample>
</RefSect2>
<RefSect2>
<Title>directory modify</Title>
<Para>Adds, removes, or changes a directory's attributes and their values.  
The syntax is as follows:  
</Para>
<Synopsis RevisionFlag="Changed"><Command>directory modify </Command><Symbol Role="Variable">directory_name_list</Symbol> 
{<Option>add</Option> <Symbol Role="Variable">attribute_list</Symbol> [<Option>single</Option>] |  <Option>remove</Option> <Symbol Role="Variable">attribute_list</Symbol> [<Option>types</Option>] |   
<Option>change</Option> <Symbol Role="Variable">attribute_list</Symbol> | <Option>master</Option> <Symbol Role="Variable">clearinghouse_name</Symbol> 
[<Option>readonly</Option> <Symbol Role="Variable">clearinghouse_name_list</Symbol>] [<Option>exclude</Option> <Symbol Role="Variable">clearinghouse_name_list</Symbol>]}  
<?og-ChangeEnd def,13377,R1.2.2,Clarify syntax"  ></Synopsis>
<Para><Literal>Options</Literal>  
</Para>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>add</Option> <Symbol Role="Variable">attribute_list</Symbol></Term>
<ListItem>
<Para>This option adds a value to a  
modifiable, set-valued attribute (including application-defined  
attributes) of a directory.  If you enter a byte data type, you  
must enter an even number of digits.  You can only enter  
pairs of hexadecimal values for user-defined attributes.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>single</Option></Term>
<ListItem>
<Para>Used with the <Option>add</Option> option, this option specifies that the attributes to  
be added are to be single-valued.  Normally, all user defined attributes  
are defined to be multivalued, even if only one value is specified.  
This option is not legal without the <Option>add</Option> option.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>remove</Option> <Symbol Role="Variable">attribute_list</Symbol></Term>
<ListItem>
<Para>This option removes a value from a multivalued or single-valued  
attribute (including application-defined attributes) of a directory.  If  
you do not specify a value, the command removes the entire attribute.  
This command can delete attributes created with the <Option>add</Option> and  
<Option>change</Option> options.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>types</Option></Term>
<ListItem>
<Para>Used with the <Option>remove</Option> option, this option specifies that the value of  
the <Option>remove</Option> option is a list of attribute types.  Use this option 
to remove the entire attribute, not just a value.  This option  
is not legal without the <Option>remove</Option> option.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>change</Option> <Symbol Role="Variable">attribute_list</Symbol></Term>
<ListItem>
<Para>This option changes the value  
of a modifiable, single-valued attribute of a directory.  You can  
specify an application-defined attribute or the following  
attribute, which specifies the degree of consistency among  
replicas:  
</Para>
<InformalExample>
<Para><ProgramListing><UserInput>{CDS_Convergence <Symbol Role="Variable">value</Symbol><Literal>}  
</Literal></UserInput></ProgramListing></Para>
</InformalExample>
<Para>See <Literal>Attributes</Literal> for  
the format of <Literal>CDS_Convergence</Literal>. 
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>master</Option> <Symbol Role="Variable">clearinghouse_name</Symbol></Term>
<ListItem>
<Para>When changing the epoch of a directory, use the <Option>master</Option> option to   
specify a new master clearinghouse for the directory.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>readonly</Option> <Symbol Role="Variable">clearinghouse_name_list</Symbol></Term>
<ListItem>
<Para>When changing the epoch of a directory, this option specifies which clearinghouses   
will hold a replica of the directory.    
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>exclude</Option> <Symbol Role="Variable">clearinghouse_name_list</Symbol></Term>
<ListItem>
<Para>When changing the epoch of a directory, the option specifies which clearinghouses   
will no longer be used as replicas for the directory.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>The <Literal>modify</Literal> operation   
adds, removes, or changes a directory's attributes and their values.  
The argument is a list of one or more names of directories to  
be operated on.  Attribute options are not supported; use one or more  
of the <Option>add</Option>, <Option>remove</Option>, or <Option>change</Option> options, each of  
which takes an attribute list as an argument.    
</Para>
<Para>Use the <Option>remove</Option> option to remove a value from an  
attribute.  You can use the <Option>types</Option> option along with the  
<Option>remove</Option> option to remove an entire attribute or list of  
attributes.   
</Para>
<Para>Some attributes in CDS are multivalued.  For instance, the  
<Literal>CDS_Replicas</Literal> attribute can specify the locations and names  
of several clearinghouses that maintain copies of a directory.  The  
<Option>add</Option> operation requires and indication of whether  
it will operate on single-valued or multivalued attributes.  
Multivalued attributes are the default case and are indicated by  
using no qualifying options.  However, you can indicate the use of  
single-valued attributes by using the <Option>single</Option> option.  
</Para>
<Para>To change the epoch of a directory, you must specify each clearinghouse that  
has a master or replica copy of the directory as either the new master   
(with the <Option>master</Option> option), a readonly copy (with the  <Option>readonly</Option>  
option), or an excluded copy (with the  <Option>exclude</Option> option).  Additional  
extra clearinghouses can also be specified.  
</Para>
<Para>Most attributes are usually managed by  
the client application.  
See the &DCEAg; for more information about attributes.  
All modifications are made to  
each directory listed in the argument.  An error in any one causes the  
command to abort immediately and generate an error.    
This operation returns an empty  
string on success.  
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para>You must have <Literal>w</Literal> (<Literal>write</Literal>)   
permission to the directory to add, remove, or change attributes.  
</Para>
<Para><Literal>Examples</Literal>  
</Para>
<Para>The following command sets the <Literal>CDS_Convergence</Literal> attribute on the  
<Literal>/.:/depts/radiology</Literal> directory to a value of low:  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>directory modify /.:/depts/radiology -change {CDS_Convergence low}</Literal>
dcecp>  
</ProgramListing></Para>
</InformalExample>
<Para>To add the value <Literal>ontario</Literal> to the attribute <Literal>myname</Literal> of a   
directory named <Literal>/.:/sales</Literal>, read the   
<Command>cds_attributes</Command> file to verify that the attribute shown in the   
following display exists:   
</Para>
<InformalExample>
<Para><ProgramListing>    OID         LABEL           SYNTAX  
1.3.22.1.3.91   myname          char  
</ProgramListing></Para>
</InformalExample>
<Para>Enter the following command to assign the value <Literal>ontario</Literal> to the   
attribute <Literal>myname</Literal>:  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>directory modify /.:/sales -add {myname ontario}</Literal>
dcecp>  
</ProgramListing></Para>
</InformalExample>
<Para>To remove the value <Literal>1</Literal> from the user-defined, set-valued attribute   
<Literal>dirregion</Literal> of a directory named  <Literal>/.:/sales</Literal>, follow these steps:  
</Para>
<OrderedList>
<ListItem>
<Para>Read the <Command>cds_attributes</Command> file to verify that the attribute   
<Literal>dirregion</Literal> is listed, as shown in the following display:  
</Para>
<InformalExample>
<Para><ProgramListing>    OID           LABEL         SYNTAX  
1.3.22.1.3.66   dirregion       small  
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>Enter the following command to remove the value <Literal>1</Literal> from the   
attribute <Literal>dirregion</Literal>:   
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>directory modify /.:/sales -remove {dirregion 1}</Literal>
dcecp>  
</ProgramListing></Para>
</InformalExample>
</ListItem>
<ListItem>
<Para>To change the epoch of a directory with one master and two replicas, 
enter the following command:  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp><Literal> directory modify /.:/oddball -master /.:/gumby_ch \ </Literal> 
> <Literal>-readonly /.:/pokey_ch -exclude /.:/goober_ch </Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
</ListItem>
</OrderedList>
</RefSect2>
<RefSect2>
<Title>directory operations</Title>
<Para>Returns a list of the operations supported by the  
<Command>directory</Command>  
object. 
The syntax is as follows: 
</Para>
<Synopsis><Command>directory operations</Command> 
</Synopsis>
<Para>The list of available operations is in alphabetical order   
except for <Command>help</Command> and <Literal>operations</Literal>, which are listed last. 
</Para>
<Para><Literal>Privileges Required</Literal> 
</Para>
<Para>No special privileges are needed to use the  
<Command>directory  
operations</Command> 
command. 
</Para>
<Para><Literal>Examples</Literal> 
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>directory operations</Literal>  
add create delete list merge modify remove show 
synchronize help operations 
dcecp> 
</ProgramListing></Para>
</InformalExample>
</RefSect2>
<RefSect2>
<Title>directory remove</Title>
<Para>Deletes a child pointer from the directories specified.  
The syntax is as follows:  
</Para>
<Synopsis><Command>directory remove </Command><Symbol Role="Variable">directory_name_list</Symbol> <Option>member</Option> <Symbol Role="Variable">child_pointer_list</Symbol>   
</Synopsis>
<Para><Literal>Options</Literal>  
</Para>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>member</Option> <Symbol Role="Variable">child_pointer_list</Symbol></Term>
<ListItem>
<Para>This required option names the child pointers to be removed from each  
directory in the operation argument.   
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>The <Literal>remove</Literal> operation   
deletes a child pointer from the directories specified.   
The <Symbol Role="Variable">directory_name_list</Symbol> argument is a list of names of  
one or more directories to be operated on.  The required <Option>member</Option> option  
allows you to list the child pointers to be removed from each  
specified directory.   
</Para>
<Para>The <Symbol Role="Variable">child_pointer_list</Symbol> argument value of  
the required <Option>member</Option> option is a list of one or more child pointers  
(specified as only one RDN each) to be removed from each directory in the  
argument.    
</Para>
<Para>This command is needed only to delete a child pointer that   
remains after the child directory is deleted.  Normally child pointers are  
removed internally by CDS when deleting directories with the <Command>directory  
delete</Command> command. This operation returns an empty string on success.  
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para>You must have <Literal>d</Literal> (<Command>delete</Command>)  
permission to the child pointer or <Literal>A</Literal> (<Literal>Admin</Literal>)  
permission to the parent directory.  
</Para>
<Para><Literal>Examples</Literal>  
</Para>
<Para>The following command deletes the child pointer that accidentally remains   
after the <Literal>/.:/sales/east</Literal> directory is deleted:  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp><Literal> directory remove /.:/sales -member east</Literal>
dcecp> 
</ProgramListing></Para>
</InformalExample>
</RefSect2>
<RefSect2>
<Title>directory show</Title>
<Para>Returns a list of attributes for the specified directories and,  
optionally, their specified contents.  The syntax is as follows:  
</Para>
<Synopsis RevisionFlag="Changed"><?og-ChangeStart def,13377,R1.2.2,Clarify syntax"  ><Command>directory show </Command><Symbol Role="Variable">directory_name_list</Symbol> [<Option>schema</Option>]  
<?sml-break>[<Option>member</Option> <Symbol Role="Variable">child_pointer_list</Symbol> | [<Option>replica</Option>]  <Option>clearinghouse</Option> <Symbol Role="Variable">clearinghouse_name</Symbol>]  
<?og-ChangeEnd def,13377,R1.2.2,Clarify syntax"  ></Synopsis>
<Para><Literal>Options</Literal>  
</Para>
<VariableList>
<VarListEntry role="linebreak">
<Term><Option>member</Option> <Symbol Role="Variable">child_pointer_list</Symbol></Term>
<ListItem>
<Para>The optional <Option>member</Option> option takes one required value  
which is the last RDN of the child pointer in the directory specified by  
the optional argument.  The  
returned list describes the child pointer information for the specified  
member stored in the specified directories.  This option cannot be  
combined with the <Option>replica</Option> or <Option>clearinghouse</Option> option.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>replica</Option> <Symbol Role="Variable">clearinghouse_name</Symbol></Term>
<ListItem>
<Para>Specifies that the directory shown is a replica of an  
existing directory.  If you use the <Option>replica</Option> option, you must  
specify a clearinghouse with the <Option>clearinghouse</Option> option.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry role="linebreak">
<Term><Option>clearinghouse</Option> <Symbol Role="Variable">clearinghouse_name</Symbol></Term>
<ListItem>
<Para>Required with the <Option>replica</Option> option, the <Option>clearinghouse</Option> option  
names the clearinghouse in which the named replica exists.  
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Option>schema</Option></Term>
<ListItem>
<Para>This option returns whether an attribute  
is single or multivalued.  This attribute is specific to a directory,  
meaning that the same attribute can be single-valued on one directory  
and multivalued on another.  This option may not be  
used with other options.   
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>The <Command>show</Command> operation   
returns a list of attributes for the specified directories and,  
optionally, their specified contents.  The <Symbol Role="Variable">directory_name_list</Symbol>  
argument is a list of names of directories to be operated  
on.  When used without any options, this command returns the  
attributes associated with the named directories.  If more than one  
directory is specified, then all the arguments are grouped together in  
one list.  The order of the returned arguments  
is the lexical order of the object identifiers (OIDs)  
of each attribute for each directory.  
</Para>
<Para>You can request attributes of specific replicas in specific  
clearinghouses by using the <Option>replica</Option> and <Option>clearinghouse</Option>  
options.  Alternatively, you can request attributes of child pointers  
by using the <Option>member</Option> option.  
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para>You must have <Literal>r</Literal> (<Literal>read</Literal>)  
permission to the directories named in the argument list.  
</Para>
<Para><Literal>Examples</Literal>  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>directory show /.:/depts/radiology</Literal>                                   
{RPC_ClassVersion  
 {01 00}}  
{CDS_CTS 1994-07-08-17:01:03.115+00:00I0.000/00-00-c0-8a-df-56}  
{CDS_UTS 1994-07-08-19:36:31.719+00:00I0.000/00-00-c0-8a-df-56}  
{CDS_ObjectUUID 2df03af4-9a76-11cd-8f2b-0000c08adf56}  
{CDS_Replicas  
 {{CH_UUID b32648c6-928d-11cd-b4b5-0000c08adf56}  
  {CH_Name /.../ward_cell.osf.org/pmin17_ch}  
  {Replica_Type Master}    
  {Tower ncacn_ip_tcp:130.105.1.227[]}  
  {Tower ncadg_ip_udp:130.105.1.227[]}}}  
{CDS_AllUpTo 1994-07-08-17:01:05.945+00:00I0.000/00-00-c0-8a-df-56}  
{CDS_Convergence medium}  
{CDS_ParentPointer  
 {{Parent_UUID 8eeb369a-9a4b-11cd-8f2b-0000c08adf56}  
  {Timeout  
   {expiration 1994-07-09-17:13:31.959}  
   {extension +1-00:00:00.000I0.000}}  
  {myname /.../ward_cell.osf.org/depts/radiology}}}  
{CDS_DirectoryVersion 3.0}  
{CDS_ReplicaState on}  
{CDS_ReplicaType Master}  
{CDS_LastSkulk 1994-07-08-17:01:05.945+00:00I0.000/00-00-c0-8a-df-56}  
{CDS_LastUpdate 1994-07-08-19:36:31.719+00:00I0.000/00-00-c0-8a-df-56}  
{CDS_RingPointer b32648c6-928d-11cd-b4b5-0000c08adf56}  
{CDS_Epoch 2f617aa6-9a76-11cd-8f2b-0000c08adf56}  
{CDS_ReplicaVersion 3.0}  
dcecp>
</ProgramListing></Para>
</InformalExample>
<InformalExample>
<Para><ProgramListing>dcecp> <Literal>directory show /.:/depts/radiology -schema</Literal>  
{RPC_ClassVersion multi}  
{CDS_CTS single}  
{CDS_UTS single}  
{CDS_ObjectUUID single}  
{CDS_Replicas multi}  
{CDS_AllUpTo single}  
{CDS_Convergence single}  
{CDS_ParentPointer multi}  
{CDS_DirectoryVersion single}  
{CDS_ReplicaState single}  
{CDS_ReplicaType single}  
{CDS_LastSkulk single}  
{CDS_LastUpdate single}  
{CDS_RingPointer single}  
{CDS_Epoch single}  
{CDS_ReplicaVersion single}
dcecp>  
</ProgramListing></Para>
</InformalExample>
</RefSect2>
<RefSect2>
<Title>directory synchronize</Title>
<Para>Initiates an immediate skulk of the directories specified.  
The syntax is as follows:  
</Para>
<Synopsis><Command>directory synchronize </Command><Symbol Role="Variable">directory_name_list</Symbol>  
</Synopsis>
<Para>The <Command>synchronize</Command> operation   
initiates an immediate skulk of the directories specified.  The  
<Symbol Role="Variable">directory_name_list</Symbol> argument is a list of names of one or more  
directories to be operated on.  Skulks begin immediately in sequence.  
The command does not return until all skulks complete.    
This operation returns an  
empty string on success.  
</Para>
<Para><Literal>Privileges Required</Literal>  
</Para>
<Para RevisionFlag="Changed"><?og-ChangeStart def,13543,R1.2.2,add server name" >You must have  
<Literal>A</Literal> (<Literal>Admin</Literal>), <Literal>w</Literal> (<Literal>write</Literal>), <Literal>i</Literal> (<Literal>insert</Literal>), and  
<Literal>d</Literal> (<Command>delete</Command>) permission to the directory.    
The server principal (<Literal>hosts/</Literal><Symbol Role="Variable">hostname</Symbol><Filename>/cds-server</Filename>) needs   
<Literal>A</Literal> (<Literal>Admin</Literal>), <Literal>r</Literal> (<Literal>read</Literal>), and <Literal>w</Literal> (<Literal>write</Literal>)  
permission to the directory. 
<?og-ChangeEnd def,13543,R1.2.2,add server name"  ></Para>
<Para><Literal>Examples</Literal>  
</Para>
<Para>The following command begins a skulk on the <Literal>/.:/admin</Literal> directory:  
</Para>
<InformalExample>
<Para><ProgramListing>dcecp><Literal> directory synchronize /.:/admin</Literal>
dcecp>  
</ProgramListing></Para>
</InformalExample>
</RefSect2>
</RefSect1>
<RefSect1>
<Title>Related Information</Title>
<Para>Commands:  
<!--no-op:  l-->
<!-- \*Ldcecp(8dce)\*O,-->
<!-- \*Ldcecp_clearinghouse(8dce)\*O,  -->
<!-- \*Ldcecp_link(8dce)\*O,  -->
<!-- \*Ldcecp_object(8dce)\*O.  -->
<Filename MoreInfo="RefEntry">clearinghouse(8dce)</Filename>,  
<Filename MoreInfo="RefEntry">dcecp(8dce)</Filename>,  
<Filename MoreInfo="RefEntry">link(8dce)</Filename>,  
<Filename MoreInfo="RefEntry">object(8dce)</Filename>.  
<!--no-op:  b-->
<?og-ChangeEnd def,13377,R1.2.2,literary edit">  
 
</Para>
</RefSect1>
<!--+ 11/07/96 22:10:27
    | tagMorph:  $Id: directory.8dce,v 1.1.2.9 1996/12/14 17:29:28 carrig Exp $
    | tagMorph library:  $Id: directory.8dce,v 1.1.2.9 1996/12/14 17:29:28 carrig Exp $
    | sml-to-docbook:  1.24
    +-->
</RefEntry>

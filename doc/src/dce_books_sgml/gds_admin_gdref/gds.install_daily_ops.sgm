<!--
# COPYRIGHT NOTICE
# Copyright (c) 1990-1996 Open Software Foundation, Inc. 
# ALL RIGHTS RESERVED (DCE). See the file named COPYRIGHT.DCE in the 
# src directory for the full copyright text. 
# 
# 
# HISTORY
# $Log: gds.install_daily_ops.sgm,v $
# Revision 1.1.2.7  1996/12/17  19:30:29  damon
# 	Expanded OSF C O P Y R I G H T   N O T I C E
# 	[1996/12/17  19:23:48  damon]
#
# Revision 1.1.2.6  1996/12/16  22:18:16  carrig
# 	{enh,R1.2.2}
# 	JC's Final edits
# 	[1996/12/16  22:15:23  carrig]
# 
# Revision 1.1.2.5  1996/12/15  22:57:15  carrig
# 	{enh,R1.2.2}
# 	Many, many changes
# 	[1996/12/15  22:55:30  carrig]
# 
# Revision 1.1.2.4  1996/10/08  15:30:02  carrig
# 	{enh,R1.2.2}
# 	Verified changes
# 	[1996/10/08  15:29:46  carrig]
# 
# Revision 1.1.2.3  1996/10/04  18:25:27  carrig
# 	{enh,R1.2.2}
# 	Fixed Variable Lists
# 	[1996/10/04  18:24:11  carrig]
# 
# 	{enh,R1.2.2}
# 	Fixed Variable Lists
# 	[1996/10/03  17:58:18  carrig]
# 
# Revision 1.1.2.2  1996/09/28  16:00:56  weir
# 	Cleaned up history
# 	[1996/09/28  15:59:47  weir]
# 
# Revision 1.1.2.1  1996/09/24  20:21:38  weir
# 	Initial submission
# 	[1996/09/24  20:20:04  weir]
# 
# $EndLog$
# 
-->
<!---->
<!-- Fragment document type declaration subset:
ArborText, Inc., 1988-1993, v.4001
<!DOCTYPE Book PUBLIC "-//Davenport//DTD DocBook V2.4//EN" [
]>
-->
<!-- OLD HISTORY-->
<!-- Revision 1.1.4.1  1996/06/18  14:52:10  wardr-->
<!-- 	{enh,R1.2.2}-->
<!-- 	Update for sgml conversion-->
<!-- 	[1996/06/18  14:48:05  wardr]-->
<!---->
<!-- Revision 1.1.2.4  1995/08/07  16:33:09  weir-->
<!-- 	Prentice-Hall edits-->
<!-- 	[1995/08/07  16:32:30  weir]-->
<!-- -->
<!-- Revision 1.1.2.3  1994/11/04  00:01:41  neilson-->
<!-- 	Substituted macros for book names in cross refs.-->
<!-- 	[1994/11/03  12:22:45  neilson]-->
<!-- -->
<!-- Revision 1.1.2.2  1994/09/01  17:00:57  rnollman-->
<!-- 	[rnollman] - checkin with edit OSF editorial comments-->
<!-- 	[1994/09/01  16:54:45  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.1  1994/08/04  21:03:45  hal-->
<!-- 	Create DCE GDS Admin Gd & Ref from GDS parts of Adm Gd & Cmd Ref; fix log leaders if needed-->
<!-- 	[1994/08/04  20:10:54  hal]-->
<!-- -->
<!-- 	Creating GDS Admin Gd & Ref from Admin book.extended, Cmd Ref-->
<!-- -->
<!-- Revision 1.1.4.13  1994/08/02  20:17:56  rnollman-->
<!-- 	checkin for restructure-->
<!-- 	[1994/08/02  20:07:59  rnollman]-->
<!-- -->
<!-- Revision 1.1.4.12  1994/07/12  18:56:31  jshirley-->
<!-- 	{def,10220,R1.1} Remove reference to rpcd and sec_clientd-->
<!-- 	[1994/07/12  18:55:50  jshirley]-->
<!-- -->
<!-- Revision 1.1.4.11  1994/05/14  14:38:36  rnollman-->
<!-- 	final final beta submittal-->
<!-- 	[1994/05/14  14:24:48  rnollman]-->
<!-- -->
<!-- Revision 1.1.4.10  1994/05/10  18:40:30  rnollman-->
<!-- 	updated from Munich trip-->
<!-- 	[1994/05/10  18:40:14  rnollman]-->
<!-- -->
<!-- Revision 1.1.4.9  1994/04/07  15:29:02  rnollman-->
<!-- 	changed log files names for Rev 1.1-->
<!-- 	[1994/04/07  15:28:46  rnollman]-->
<!-- -->
<!-- Revision 1.1.4.8  1993/11/11  19:58:43  rnollman-->
<!-- 	update SNI copyright-->
<!-- 	[1993/11/11  19:58:29  rnollman]-->
<!-- -->
<!-- Revision 1.1.4.7  1993/11/08  19:58:40  rnollman-->
<!-- 	fixed table format in table 5-2-->
<!-- 	[1993/11/08  19:58:16  rnollman]-->
<!-- -->
<!-- Revision 1.1.4.6  1993/10/27  16:53:27  tmw-->
<!-- 	Index corrections.-->
<!-- 	[1993/10/27  16:52:25  tmw]-->
<!-- -->
<!-- Revision 1.1.4.5  1993/10/11  17:50:48  rnollman-->
<!-- 	no new changes-->
<!-- 	[1993/10/11  17:50:24  rnollman]-->
<!-- -->
<!-- Revision 1.1.4.4  1993/09/08  21:42:53  tmw-->
<!-- 	Added index entries for second version of master index.-->
<!-- 	[1993/09/08  21:39:12  tmw]-->
<!-- -->
<!-- Revision 1.1.4.3  1993/08/12  17:24:41  buckler-->
<!-- 	{edit, R1.0.2}-->
<!-- 	Prentice-Hall editorial changes.-->
<!-- 	[1993/08/12  16:25:37  buckler]-->
<!-- -->
<!-- Revision 1.1.4.2  1993/06/07  21:40:45  rnollman-->
<!-- 	submitted first pass editorial changes-->
<!-- 	[1993/06/07  21:40:07  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.20  1993/02/26  20:05:37  rnollman-->
<!-- 	last change for final draft-->
<!-- 	[1993/02/26  20:05:06  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.19  1993/02/21  18:05:51  rnollman-->
<!-- 	fixed for final draft-->
<!-- 	[1993/02/21  18:05:22  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.18  1993/02/05  16:29:17  rnollman-->
<!-- 	inc changes for final draft-->
<!-- 	[1993/02/05  16:28:32  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.17  1993/01/28  22:31:41  steiner-->
<!-- 	Moved a change bar that was generating an extra page.-->
<!-- 	Fixed a reference to "Book 1" of Admin Gd.-->
<!-- 	[1993/01/28  22:31:13  steiner]-->
<!-- -->
<!-- Revision 1.1.2.16  1993/01/28  20:06:26  dbelch-->
<!-- 	Embedding copyright notice-->
<!-- 	[1993/01/28  18:39:23  dbelch]-->
<!-- -->
<!-- Revision 1.1.2.15  1993/01/27  22:45:31  buckler-->
<!-- 	Fixed cross-refs and figure calls for new book org-->
<!-- 	[1993/01/27  22:42:33  buckler]-->
<!-- -->
<!-- Revision 1.1.2.14  1993/01/10  21:00:37  rnollman-->
<!-- 	fixes after Dublin edit-->
<!-- 	[1993/01/10  21:00:18  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.13  1993/01/08  23:09:56  rom-->
<!-- 	Fix comment leaders.-->
<!-- 	[1993/01/08  23:04:30  rom]-->
<!-- -->
<!-- 	Restore leading gds/ to filename arguments to .so.-->
<!-- 	[1993/01/08  22:43:22  rom]-->
<!-- -->
<!-- Revision 1.1.2.12  1993/01/08  14:21:05  marrek-->
<!-- 	Changes from SSE Dublin.-->
<!-- 	[1993/01/08  14:20:26  marrek]-->
<!-- -->
<!-- Revision 1.1.2.11  1992/12/03  22:56:15  rnollman-->
<!-- 	update munich-->
<!-- 	[1992/12/03  22:55:22  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.10  1992/12/02  19:29:06  rnollman-->
<!-- 	updated files from Munich review-->
<!-- 	[1992/12/02  19:16:55  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.9  1992/12/02  18:38:03  rnollman-->
<!-- 	updated file from Munich review-->
<!-- 	[1992/12/02  18:36:46  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.8  1992/11/25  20:16:49  rnollman-->
<!-- 	informal draft submittal-->
<!-- 	[1992/11/25  20:15:56  rnollman]-->
<!-- -->
<!-- 	made some editorial changes-->
<!-- 	[1992/11/23  23:33:13  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.7  1992/10/30  18:46:28  rnollman-->
<!-- 	fixed screen.mac problem-->
<!-- 	[1992/10/30  18:45:40  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.6  1992/10/29  22:27:34  rnollman-->
<!-- 	fixed gds/screen.mac problem-->
<!-- 	[1992/10/29  22:26:59  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.5  1992/10/23  21:53:06  rnollman-->
<!-- 	work in progress-->
<!-- 	[1992/10/23  21:52:32  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.4  1992/10/13  20:16:59  rnollman-->
<!-- 	first draft version-->
<!-- 	[1992/10/13  20:16:21  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.3  1992/10/08  21:49:33  rnollman-->
<!-- 	work in progress-->
<!-- 	[1992/10/08  21:49:08  rnollman]-->
<!-- -->
<!-- Revision 1.1.2.2  1992/10/08  15:15:42  rnollman-->
<!-- 	copied file from Rich Nollman's private directory-->
<!-- 	[1992/10/08  15:14:54  rnollman]-->
<!-- -->
<!-- /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<!-- * COPYRIGHT   (C)  SIEMENS NIXDORF INFORMATIONSSYSTEME AG 1994   *-->
<!-- *                  ALL RIGHTS RESERVED                           *-->
<!-- *                                                                *-->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */-->
<Chapter Id="OSFGDS.GDSIDO.div.1">
<Title>Installation and Day-to-Day Operation of GDS</Title>
<!--.so gd/screen.mac-->
<!--.am HX
.nh
-->
<Para>This chapter describes how to install, start, stop, and monitor GDS.
</Para>
<Sect1 Id="OSFGDS.GDSIDO.div.2">
<Title>Installation and Configuration Prerequisites</Title>
<IndexTerm Id="OSFGDS.GDSIDO.indx.1">
<Primary>disk space</Primary>
<Secondary>GDS</Secondary>
</IndexTerm>
<Para>A minimum of 20 megabytes of memory is required for initial installation
as well as additional disk space for the DIB.
The administrator needs to define a globally unique cell name
for each cell that accesses the directory service and
to configure a Global Directory Agent (GDA) in each cell.
</Para>
<Para>Each cell must meet the following requirements:
</Para>
<ItemizedList>
<ListItem>
<Para>Each cell must be configured as a CDS and security client.
</Para>
</ListItem>
<ListItem>
<Para>The <Literal>dced</Literal> daemon must be running.
</Para>
</ListItem>
<ListItem>
<Para>The <Filename>/opt/dcelocal/dce_cf.db</Filename> file must be available on the machine and 
contain entries for the name of the cell and the name of the local host.
</Para>
</ListItem>
<ListItem>
<Para>Principal and account entries must be contained in the registry database
for <Filename>hosts/</Filename><Replaceable>hostname</Replaceable><Literal>/gda</Literal>, and a <Literal>ktab</Literal> entry must
be available for this principal.
</Para>
</ListItem>
<ListItem>
<Para>Each machine that runs as a server must have the following
services and related processes (in parentheses) running:
</Para>
<ItemizedList>
<ListItem>
<Para>RPC (<Literal>dced</Literal>)
</Para>
</ListItem>
<ListItem>
<Para>Security (<Literal>secd</Literal>)
</Para>
</ListItem>
<ListItem>
<Para>CDS (<Command>cdsd</Command>, <Command>cdsadv</Command>, <Command>cdsclerk</Command>)
</Para>
</ListItem>
<ListItem>
<Para>DTS (<Command>dtsd</Command>, <Literal>dts_</Literal><Replaceable>device_name</Replaceable><Literal>_provider</Literal>)
</Para>
</ListItem>
<ListItem>
<Para>GDA (<Command>gdad</Command>, <Literal>gda_child</Literal>)
</Para>
</ListItem>
</ItemizedList>
</ListItem>
</ItemizedList>
</Sect1>
<Sect1 Id="OSFGDS.GDSIDO.div.3">
<Title>Installing GDS</Title>
<IndexTerm Id="OSFGDS.GDSIDO.indx.2">
<Primary>Global Directory Service (GDS)</Primary>
<Secondary>installing</Secondary>
</IndexTerm>
<Para>The procedure for installing GDS is described in detail in
the &DCEAi;.
The procedure is summarized as follows:
</Para>
<ItemizedList>
<ListItem>
<Para>Choose the <Literal>INSTALL</Literal> option from the DCE Main Menu.
</Para>
</ListItem>
<ListItem>
<Para>Choose the <Literal>GDS Server</Literal> option from the DCE Installation Menu.  A
list of GDS-related binary files that are being installed on the
system is displayed.
</Para>
</ListItem>
<ListItem>
<Para>Choose the <Literal>Exit</Literal> option from the DCE Installation Menu.
</Para>
</ListItem>
</ItemizedList>
</Sect1>
<Sect1 Id="OSFGDS.GDSIDO.div.4">
<Title>Starting GDS</Title>
<IndexTerm Id="OSFGDS.GDSIDO.indx.3">
<Primary>Global Directory Service (GDS)</Primary>
<Secondary>starting</Secondary>
</IndexTerm>
<IndexTerm Id="OSFGDS.GDSIDO.indx.4">
<Primary><Command>gdssysadm</Command> process</Primary>
<Secondary>about</Secondary>
</IndexTerm>
<IndexTerm Id="OSFGDS.GDSIDO.indx.5">
<Primary>Global Directory Service commands</Primary>
<Secondary><Command>gdssysadm</Command></Secondary>
</IndexTerm>
<Para>An administrator calls the <Command>gdssysadm</Command> process to administer
the directory system.  The menu mask shown in Figure 5-1 is
then displayed.
<!--.so gd/screen.mac-->
</Para>
<?sml-need 18>
<Figure>
<Title>Menu Mask (Part 1)</Title>
<Screen Remap="sS-sE"><GUILabel Role="lcorner">(diradm)</GUILabel><GUILabel Role="rcorner"></GUILabel>
   a - Administration of the directory information tree

   c - Configuration of a directory system

   b - Activation of a directory system installation

   d - Deactivation of a directory system installation

   s - Saving of local data to diskette/tape/file

   r - Restoring of saved data from diskette/tape/file

   f - Further functions

</Screen>
</Figure>
<?sml-indent 0>
<?sml-indent>
<InformalExample>
<Para><ProgramListing>Your selection ! >
</ProgramListing></Para>
</InformalExample>
<Para>The GDS background processes are started by using
the administration function <Literal>b</Literal>, which activates a directory
installation.
</Para>
</Sect1>
<Sect1 Id="OSFGDS.GDSIDO.div.5">
<Title>Stopping GDS</Title>
<IndexTerm Id="OSFGDS.GDSIDO.indx.6">
<Primary>Global Directory Service (GDS)</Primary>
<Secondary>stopping</Secondary>
</IndexTerm>
<Para>The directory system is stopped with the administration function
<Literal>d</Literal>, which deactivates a directory installation.
</Para>
<Para>Before finishing, the background processes complete any activities that are
currently running.
</Para>
</Sect1>
<Sect1 Id="OSFGDS.GDSIDO.div.6">
<Title>Monitoring GDS</Title>
<IndexTerm Id="OSFGDS.GDSIDO.indx.7">
<Primary>Global Directory Service (GDS)</Primary>
<Secondary>monitoring</Secondary>
</IndexTerm>
<IndexTerm Id="OSFGDS.GDSIDO.indx.8">
<Primary>log files</Primary>
<Secondary>GDS</Secondary>
</IndexTerm>
<Para>In order to monitor most GDS processes, the trace system must be activated
through the <Literal>l</Literal> option of the 
Menu Mask (Part 2) (see Figure 4-3).  The trace 
system creates a set of log files for different processes.  
To switch on logging for 
the <Command>gdssysadm</Command> process, enter <Literal>X</Literal> in the Menu Mask (Part 1).
</Para>
<Para>The trace system for other processes uses the OSF serviceability.
Each GDS daemon process and each XDS application may generate
log files containing messages with the following severity levels:
</Para>
<ItemizedList>
<ListItem>
<Para>FATAL
</Para>
</ListItem>
<ListItem>
<Para>ERROR
</Para>
</ListItem>
<ListItem>
<Para>WARNING
</Para>
</ListItem>
<ListItem>
<Para>NOTICE
</Para>
</ListItem>
<ListItem>
<Para>NOTICE VERBOSE
</Para>
</ListItem>
</ItemizedList>
<Para>This type of logging is called <Symbol Role="Variable">Logging for Exception Handling</Symbol>.  All of
these log files contain human-readable messages.  The routing of the
Logging for Exception Handling describes  which severity levels should
be logged, and where the messages should be written to.  The logging
may be specified in detail by the use of <Literal>dcecp</Literal>.  The meanings of
these messages and actions, which may be performed by an administrator
on occurrence of these messages, are described in the &DCETg;.
</Para>
<Para>Another log file can be generated by each GDS daemon and each XDS application,
which contains just traces in a binary format.  It can be evaluated by the
GDS trace evaluation program <Command>gdsstep</Command>.  Refer to the <Command>gdsstep</Command> reference page
for detailed information on how to use <Command>gdsstep</Command>.
</Para>
<Para>The routing of the logging for traces describes which subcomponents should
log, the debug level for each such subcomponent, and where the messages
should be written to.  The logging can be specified in detail by the use of
<Literal>dcecp</Literal>.  The messages are self-explanatory and describe the activities
of the programs.  The GDS daemons and applications contain the following
subcomponents:
</Para>
<VariableList>
<VarListEntry>
<Term><Literal>general</Literal></Term>
<ListItem>
<Para>General GDS logging
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>ipc</Literal></Term>
<ListItem>
<Para>Interprocess communication
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>apdu</Literal></Term>
<ListItem>
<Para>Application program data units
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>asn1</Literal></Term>
<ListItem>
<Para>Abstract Syntax Notation 1
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>ros</Literal></Term>
<ListItem>
<Para>Remote operation service
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>cmx</Literal></Term>
<ListItem>
<Para>Communication Method SINIX
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>pfm</Literal></Term>
<ListItem>
<Para>Performance logging
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>The routing of any application (including <Command>gdscacheadm</Command> and
<Command>gdsditadm</Command> when called from the command line) follows the
specification of the shell variables <Literal>SVC_</Literal><Symbol Role="Variable">severity</Symbol> and
<SystemItem Class="EnvironVar">SVC_GDS_DBG</SystemItem>, which are described in the <Filename MoreInfo="RefEntry">svcenv(1)</Filename>
reference page.  Note, that <SystemItem Class="EnvironVar">SVC_GDS_DBG</SystemItem> may specify only a
<Literal>BINFILE</Literal> logging.
</Para>
<Para>When the trace system is activated by the directory system administration,
the Logging for Exception Handling for each severity level as well as the
logging for traces is enabled with default routes.
</Para>
<Para>The logging for exception handling is routed into TEXTFILEs. The messages
of all severity levels are written into one file.  Each file contains at most
100 log entries.
</Para>
<Para>The logging for tracing is routed into BINFILEs. Each file contains at most
2000 entries.
</Para>
<Para>When the first log file is full, a second log file is generated with
another suffix.  When the second log file is full, the first log file is
overwritten.
</Para>
<Para>Table 5-1 describes where these log files are located.
</Para>
<?sml-need 4i>
<Table Frame="all" Remap="center" Orient="Port">
<Title>Log File Subdirectories</Title>
<TGroup Cols="2">
<ColSpec Rowsep="1" Colsep="1" Align="Left" Colwidth="1.1*" Colname="col1" Colnum="1">
<ColSpec Rowsep="1" Align="Left" Colwidth="2.7*" Colname="col2" Colnum="2">
<THead>
<Row>
<Entry Rowsep="1"><Literal>Process</Literal></Entry>
<Entry Rowsep="1"><Literal>Subdirectory</Literal></Entry>
</Row>
</THead>
<TBody>
<Row>
<Entry>
<Command>gdsditadm</Command>
</Entry>
<Entry>
<Symbol Role="Variable">dcelocal</Symbol><Filename>/var/adm/directory/gds/dna
</Filename></Entry>
</Row>
<Row>
<Entry>Cache</Entry>
<Entry><Symbol Role="Variable">dce_local</Symbol><Filename>/var/adm/directory/gds/cache</Filename></Entry>
</Row>
<Row>
<Entry>C-stub</Entry>
<Entry><Symbol Role="Variable">dce_local</Symbol><Filename>/var/adm/directory/gds/cstub</Filename></Entry>
</Row>
<Row>
<Entry>S-stub</Entry>
<Entry><Symbol Role="Variable">dce_local</Symbol><Filename>/var/directory/gds/adm/sstub</Filename></Entry>
</Row>
<Row>
<Entry>DSA</Entry>
<Entry>
<Symbol Role="Variable">dce_local</Symbol><Filename>/var/directory/gds/adm/dsa/dir</Filename><Symbol Role="Variable">x</Symbol>
where <Symbol Role="Variable">x</Symbol> represents the directory ID
</Entry>
</Row>
<Row>
<Entry><Command>gdssysadm</Command></Entry>
<Entry><Symbol Role="Variable">dce_local</Symbol><Filename>/var/adm/directory/gds/adm</Filename></Entry>
</Row>
<Row>
<Entry>Monitoring</Entry>
<Entry><Symbol Role="Variable">dce_local</Symbol><Filename>/var/adm/directory/gds/adm</Filename></Entry>
</Row>
</TBody>
</TGroup>
</Table>
<?sml-space .5>
<Para>The log files remain in the subdirectories after the processes end. If GDS is
reactivated, the old log files are deleted and new log files are created. 
</Para>
<Para>The name of the logfile for exception handling is: <Literal>EXC</Literal><Symbol Role="Variable">pid.suffix</Symbol>
</Para>
<Para>The name of the log file for traces is: <Literal>LOG</Literal><Symbol Role="Variable">pid.suffix</Symbol>, where
<Symbol Role="Variable">pid</Symbol> represents the process ID and <Symbol Role="Variable">suffix</Symbol> is 1 or 2.
</Para>
<Para>The following sections describe the meaning of the debug levels in serviceability
calls of the various subcomponents.
</Para>
<Sect2 Id="OSFGDS.GDSIDO.div.7">
<Title>general</Title>
<Para>For <Literal>general</Literal>, the default debug levels for various processes are the following:
</Para>
<VariableList>
<VarListEntry>
<Term>Debug&ensp;level&ensp;1</Term>
<ListItem>
<Para><Command>gdsditadm</Command>, <Command>gdscache</Command>, <Literal>stubs</Literal>, <Command>gdsipcchk</Command>, and <Literal>gdsdaemon</Literal>
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term>Debug&ensp;level&ensp;2</Term>
<ListItem>
<Para><Literal>gdsdsa</Literal>, <Command>gdsmkiss</Command>, <Literal>gdsgendb</Literal>, <Command>gdstransfer</Command>, and <Command>gdsmkupd</Command>
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>Debug level 1 contains the following:
</Para>
<ItemizedList>
<ListItem>
<Para>All messages that are issued in case of failing system calls or C-ISAM calls.
</Para>
</ListItem>
<ListItem>
<Para>All messages that are issued in case of error events (such as illegal operation ID
received, illegal distributed command, and so on).
<?sml-break><?sml-need 20></Para>
</ListItem>
<ListItem>
<Para>In <Literal>gdsdsa</Literal>, <Command>gdsmkiss</Command>, <Literal>gdsgendb</Literal>, <Command>gdstransfer</Command>, <Command>gdsmkupd</Command>,
and <Literal>gdsdaemon</Literal>, all messages for exception handling are written into the log
file with debug level 1, all messages from a booting or restarting DSA, and all
messages that indicate entry or exit of an operation.
</Para>
</ListItem>
<ListItem>
<Para>In <Command>gdscache</Command>, activation and deactivation of a directory-ID specific DUA cache,
DUA cache configuration information, and DN verification problems.
</Para>
</ListItem>
<ListItem>
<Para>In <Literal>gdscstub</Literal> and <Literal>gdssstub</Literal>, internal stub activities.
</Para>
</ListItem>
<ListItem>
<Para>In <Command>gdsipcchk</Command>, internal IPC-verification activities.
</Para>
</ListItem>
</ItemizedList>
<Para>Debug level 2 contains the following:
</Para>
<ItemizedList>
<ListItem>
<Para>In <Literal>gdsdsa</Literal>, all messages that describe process handling and central points in
the processing of requests, such as
</Para>
<ItemizedList>
<ListItem>
<Para>Result of local name resolution
</Para>
</ListItem>
<ListItem>
<Para>Searching objects in database
</Para>
</ListItem>
<ListItem>
<Para>Searching of references
</Para>
</ListItem>
<ListItem>
<Para>Alias dereferencing
</Para>
</ListItem>
<ListItem>
<Para>Chaining
</Para>
</ListItem>
<ListItem>
<Para>Code points of performance logging
</Para>
</ListItem>
<ListItem>
<Para>Shadow update logging
</Para>
</ListItem>
</ItemizedList>
</ListItem>
<ListItem>
<Para>In <Literal>gdsgendb</Literal>, all messages that describe central points in the processing of requests, such as:
</Para>
<ItemizedList>
<ListItem>
<Para>Reading of configuration data
</Para>
</ListItem>
<ListItem>
<Para>Reading of components of the schema object
</Para>
</ListItem>
<ListItem>
<Para>Processing of each table of the schema
</Para>
</ListItem>
<ListItem>
<Para>Creation of each C-ISAM file and scheme file
</Para>
</ListItem>
</ItemizedList>
</ListItem>
<ListItem>
<Para>In <Command>gdstransfer</Command>, all messages that describe central points in the processing of requests, such as
</Para>
<ItemizedList>
<ListItem>
<Para>Result from comparing the schemes
</Para>
</ListItem>
<ListItem>
<Para>Finding an object record
</Para>
</ListItem>
<ListItem>
<Para>Successful transfer of an object record
</Para>
</ListItem>
</ItemizedList>
</ListItem>
<ListItem>
<Para>In <Command>gdsmkupd</Command>, all other messages.
</Para>
</ListItem>
<ListItem>
<Para>In <Command>gdscache</Command>, internal DUA-cache activities.
</Para>
</ListItem>
<ListItem>
<Para>In <Literal>gdscstub</Literal> and <Literal>gdssstub</Literal>, DUA cache update activities.
</Para>
</ListItem>
</ItemizedList>
<Para>Debug level 3 contains the following:
</Para>
<ItemizedList>
<ListItem>
<Para>In <Literal>gdsdsa</Literal>:
</Para>
<ItemizedList>
<ListItem>
<Para>Function entry and exit logging for internal functions
</Para>
</ListItem>
<ListItem>
<Para>Logging of each found entry
</Para>
</ListItem>
<ListItem>
<Para>Logging of each dereferenced alias
</Para>
</ListItem>
<ListItem>
<Para>Logging of each found access point
</Para>
</ListItem>
<ListItem>
<Para>Logging of each used C-ISAM index
</Para>
</ListItem>
<ListItem>
<Para>Detection of user errors that result in an error message
</Para>
</ListItem>
</ItemizedList>
</ListItem>
<ListItem>
<Para>In <Literal>gdsgendb</Literal>, reading of each table entry of the SRT, OCT, and AT.
</Para>
</ListItem>
<ListItem>
<Para>In <Command>gdstransfer</Command>, function entry and exit logging for internal functions and logging of the occurred errors in transforming a record.
</Para>
</ListItem>
<ListItem>
<Para>In <Literal>gdscstub</Literal> and <Literal>gdssstub</Literal>, TP-routines activities.
</Para>
</ListItem>
<ListItem>
<Para>In <Literal>gdsdaemon</Literal>, function entry and exit logging for internal functions and all messages that describe central points in the processing of the shadowing job to be performed.
</Para>
</ListItem>
</ItemizedList>
<Para>Debug level 4 contains IPC-/network-event management activities in
<Literal>gdscstub</Literal> and <Literal>gdssstub</Literal>.
</Para>
<Para>Debug level 6 contains the following:
</Para>
<ItemizedList>
<ListItem>
<Para>In <Command>gdscache</Command>, additional internal DUA cache activities.
</Para>
</ListItem>
<ListItem>
<Para>In <Command>gdsipcchk</Command>, named FIFO handling.
</Para>
</ListItem>
</ItemizedList>
</Sect2>
<Sect2 Id="OSFGDS.GDSIDO.div.8">
<Title>apdu</Title>
<Para>For <Literal>apdu</Literal>, the default debug level for <Command>gdsditadm</Command>, <Literal>gdsdaemon</Literal> and <Literal>gdsdsa</Literal> is 1.  The default debug level is inactive in all other processes.
</Para>
</Sect2>
<Sect2 Id="OSFGDS.GDSIDO.div.9">
<Title>pfm</Title>
<Para>For <Literal>pfm</Literal>, this logging is available in the DSA to a limited extent.  It is inactive on default.
</Para>
</Sect2>
<Sect2 Id="OSFGDS.GDSIDO.div.10">
<Title>ipc</Title>
<Para>For <Literal>ipc</Literal>, the default level is 2 for all processes.
</Para>
<Para>Debug level 1 contains function entry and exit logging of all
IPC-interface function calls including parameters.
</Para>
<Para>Debug level 2 contains all IPC-messages sent and received by IPC
through message queue (without message data) and all attention data
sent and received through named FIFOS.
</Para>
<Para>Debug level 3 contains additional named FIFO handling.
</Para>
<Para>Debug level 4 contains function entry and exit logging of internal
IPC-function calls.
</Para>
<Para>Debug level 6 contains all IPC-message data sent and received through
shared memory.
</Para>
</Sect2>
<Sect2 Id="OSFGDS.GDSIDO.div.11">
<Title>ros</Title>
<Para>For <Literal>ros</Literal>, the default debug level is 1 for the Stubs process and inactive for all other processes.
</Para>
<Para>Debug level 1 contains function entry and exit logging of all
ROS interface function calls.
</Para>
<Para>Debug level 2 contains function entry and exit logging of all
transport interface function calls.
</Para>
<Para>Debug level 3 contains internal logging of protocol machine activities.
</Para>
<Para>The default debug level is 1 for the Stubs process and inactive for
all other processes.
</Para>
<Para>Debug level 1 contains function entry and exit logging of all
transport interface function calls and internal transport provider
(socket/XTI) interface activities.
Debug level 3 contains function entry and exit logging of NDS
interface calls.
</Para>
<Para>Debug level 6 contains internal NDS activities.
</Para>
</Sect2>
<Sect2 Id="OSFGDS.GDSIDO.div.12">
<Title>asn1</Title>
<Para>For <Literal>asn1</Literal>, the default debug level is 2 for the <Literal>gdsdsa</Literal> and <Literal>gdscstub</Literal> processes.  It is inactive for all other processes.
</Para>
<Para>Logging is switched on immediately for the GDS system administration
process (<Command>gdssysadm</Command>) when <Literal>X</Literal> is entered in the
Menu Mask (Part 1) or Menu Mask (Part 2).  When <Literal>X</Literal> is entered in 
either of these masks, logging for this process is switched off.
</Para>
<Para>For all other processes, 
logging is switched on using the administration function
<Literal>l</Literal> in the Menu Mask (Part 2), which activates
the trace system, and is switched off again with the administration
function <Literal>t</Literal>, which deactivates the trace system.
Logging can be switched on and off when the system is both active and inactive.
</Para>
<Para>If logging is to be switched on and off for any application
process, the <Command>gdsditadm</Command>,
or the <Command>gdscacheadm</Command> process, the shell variable
<Literal>D2_LOG</Literal> must be set to <Literal>on</Literal> or <Literal>off</Literal>
in the environment where the application is running.
</Para>
</Sect2>
<Sect2 Id="OSFGDS.GDSIDO.div.13">
<Title>Displaying Status By Using gdsdirinfo</Title>
<IndexTerm Id="OSFGDS.GDSIDO.indx.9">
<Primary>Global Directory Service (GDS)</Primary>
<Secondary>checking status</Secondary>
</IndexTerm>
<IndexTerm Id="OSFGDS.GDSIDO.indx.10">
<Primary>Global Directory Service commands</Primary>
<Secondary><Command>gdsdirinfo</Command></Secondary>
</IndexTerm>
<Para>The <Command>gdsdirinfo</Command> command can be used to obtain useful information
on all daemon processes running for GDS and on all current processes
using GDS.  The <Command>gdsdirinfo</Command> command reads all of the information from the
GDS-specific shared memory area and writes to <Literal>stdout</Literal>.
A 2-line header is printed first, followed by the information specific to
the different processes (one line per process). 
</Para>
<Para>The following is an example of <Command>gdsdirinfo</Command> output:
</Para>
<InformalExample>
<Para><ProgramListing>#  PROCTYPE      PID       DIRID      IPCID     STATE 
#
   Monitor       4105        -          5          -
   DUA-Cache     4106        -          1          -
   C-Stub        4108        -          2          -
   S-Stub        4118        1          11         -
   S-Stub        4123        2          12        W1
   DSA           4130        1          31         -
   DSA           4125        2          32         -
   Dir-User      4300        -          31        R10
</ProgramListing></Para>
</InformalExample>
<Para>The following information is displayed:
</Para>
<VariableList>
<VarListEntry role="linebreak">
<Term><Literal>PROCTYPE</Literal></Term>
<ListItem>
<Para>The process type.  The following types can occur:
<Literal>Monitor</Literal>, <Literal>DUA-Cache</Literal>, <Literal>C-Stub</Literal>, <Literal>S-Stub</Literal>, <Literal>DSA</Literal>, and <Literal>Dir-User</Literal>.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>PID</Literal></Term>
<ListItem>
<Para>The process identifier.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>DIRID</Literal></Term>
<ListItem>
<Para>The directory identifier (1 - 20) with which the
process is associated.  If a process cannot be associated
with a specific directory identifier (for example,
the <Literal>DUA Cache</Literal> process), a dash is printed instead
of a directory identifier number.
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>IPCID</Literal></Term>
<ListItem>
<Para>The IPC server ID with which the process is
associated.  This ID is used internally by GDS to establish an
IPC association between an IPC client and an IPC server for
sending distributed commands (for example, when activating and deactivating
the trace system).  The processes are assigned IPC server IDs as shown 
in Table 5-2.
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<?sml-break>
<?sml-need 30>
<!-- Table 16-4.-->
<Table Frame="all" Remap="center" Orient="Port">
<Title>IPC server IDs</Title>
<TGroup Cols="2">
<ColSpec Rowsep="1" Colsep="1" Align="Left" Colwidth="1*" Colname="col1" Colnum="1">
<ColSpec Rowsep="1" Align="Left" Colwidth="1*" Colname="col2" Colnum="2">
<THead>
<Row>
<Entry Rowsep="1"><Literal>ID Number</Literal></Entry>
<Entry Rowsep="1"><Literal>Process</Literal></Entry>
</Row>
</THead>
<TBody>
<Row>
<Entry>1</Entry>
<Entry><Literal>DUA Cache</Literal></Entry>
</Row>
<Row>
<Entry>2</Entry>
<Entry><Literal>C-stub</Literal></Entry>
</Row>
<Row>
<Entry>5</Entry>
<Entry><Literal>IPC-monitoring</Literal></Entry>
</Row>
<Row>
<Entry>11&ndash;30</Entry>
<Entry><Literal>S-stub</Literal></Entry>
</Row>
<Row>
<Entry>31&ndash;50</Entry>
<Entry><Literal>DSA</Literal> processes</Entry>
</Row>
</TBody>
</TGroup>
</Table>
<?sml-space .5>
<VariableList>
<VarListEntry>
<Term>&ensp;&ensp;</Term>
<ListItem>
<Para>If the process type is <Literal>Dir-User</Literal>, the
IPC server ID displayed refers to the GDS (IPC) server
(for example, <Literal>DUA-cache</Literal>, <Literal>C-stub</Literal>, <Literal>DSA</Literal>) with which this
GDS client is associated.  The relationship between IPCID and DIRID is 
important, because it is easy to find the correct 
DSA or S-Stub if the directory ID is known. 
(The relationship for <Literal>S-Stub</Literal> processes is <Literal>Dir ID = IPCID &minus; 10</Literal>; 
the relationship for DSA processes is <Literal>Dir ID = IPCID &minus; 30</Literal>).
</Para>
</ListItem>
</VarListEntry>
<VarListEntry>
<Term><Literal>STATE</Literal></Term>
<ListItem>
<Para>Describes the state of
a GDS process during the startup phase or of a GDS client. 
<!-- Table 16-5 -->
Table 5-3 shows the valid states and their meanings.
</Para>
<Para>If none of the specific states shown in 
<!-- Table 16-4 -->
Table 5-3 is associated with the process, a dash is printed.  
</Para>
</ListItem>
</VarListEntry>
</VariableList>
<Para>Table 5-3 shows how a GDS process during the startup phase is designated by
a state value of W<Symbol Role="Variable">n</Symbol>.  GDS clients refer to any application.
They are represented by <Literal>Dir-User</Literal> in <Command>gdsdirinfo</Command> output.
</Para>
<?sml-need 4i>
<Table Frame="all" Remap="center" Orient="Port">
<Title>GDS Process States</Title>
<TGroup Cols="3">
<ColSpec Rowsep="1" Colsep="1" Align="Left" Colwidth="128*" Colname="col1" Colnum="1">
<ColSpec Rowsep="1" Colsep="1" Align="Left" Colwidth="128*" Colname="col2" Colnum="2">
<ColSpec Rowsep="1" Align="Left" Colwidth="198*" Colname="col3" Colnum="3">
<THead>
<Row>
<Entry Rowsep="1"><Literal>State Value</Literal></Entry>
<Entry Rowsep="1"><Literal>Process Type</Literal></Entry>
<Entry Rowsep="1"><Literal>Meaning</Literal></Entry>
</Row>
</THead>
<TBody>
<Row>
<Entry>W1</Entry>
<Entry>C-Stub/S-Stub</Entry>
<Entry>
C-Stub tries to read its own PSAP address from DUA cache
</Entry>
</Row>
<!-- _-->
<Row>
<Entry>W3</Entry>
<Entry>DSA</Entry>
<Entry>
DSA tries to read its own DSA name from the file
</Entry>
</Row>
<!-- _-->
<Row>
<Entry>W4</Entry>
<Entry>DSA</Entry>
<Entry>
DSA tries to read the internal schema
</Entry>
</Row>
<!-- _-->
<Row>
<Entry>W5</Entry>
<Entry>DSA</Entry>
<Entry>
DSA changes the schema object in the database
</Entry>
</Row>
<!-- _-->
<Row>
<Entry>R1</Entry>
<Entry>GDS client</Entry>
<Entry>
IPC association exists between GDS client and GDS server
</Entry>
</Row>
<!-- _-->
<Row>
<Entry>R10</Entry>
<Entry>GDS client</Entry>
<Entry>
DAP/DSP association exists between GDS client and GDS server
</Entry>
</Row>
</TBody>
</TGroup>
</Table>
<?sml-space .5>
<Note>
<Para>A DSA process is also listed as a <Literal>Dir-User</Literal> process type if it chains a
request through <Literal>S-Stub</Literal> to a remote DSA. <Literal>C-Stub</Literal> and
<Literal>S-Stub</Literal> are also listed as <Literal>Dir-User</Literal> in the startup
phase if they are trying to read the PSAP address from the DUA cache.
</Para>
</Note>
<Para>If the <Command>gdsdirinfo</Command> command is called when the GDS is
inactive, the following message is written to <Literal>stderr</Literal>:
</Para>
<InformalExample>
<Para><ProgramListing>A shmget system call has failed (key = 1148635637,\
access mode = 666, errno = 2).
</ProgramListing></Para>
</InformalExample>
<Para>If the command executes successfully, the exit value 0 (zero) is returned;
otherwise, the value is 1 or 2.
</Para>
<Para>For a detailed description, see
the <Command>gdsdirinfo</Command> reference page.
<IndexTerm Id="OSFGDS.GDSIDO.indx.11" SpanEnd="OSFGDS.GDSIDO.indx.10"></Para>
</Sect2>
<Sect2 Id="OSFGDS.GDSIDO.div.14">
<Title>Interpreting Log Files By Using gdsstep</Title>
<IndexTerm Id="OSFGDS.GDSIDO.indx.12">
<Primary>Global Directory Service commands</Primary>
<Secondary><Command>gdsstep</Command></Secondary>
</IndexTerm>
<Para>Logging files that are generated by GDS applications can be subsequently
evaluated and displayed with the <Command>gdsstep</Command> program.  The
logging records can be used by application programmers to debug their
applications, and by users to determine network problems or protocol
problems with remote systems.
</Para>
<Para>For a detailed description, see the <Command>gdsstep</Command> reference page.
<IndexTerm Id="OSFGDS.GDSIDO.indx.13" SpanEnd="OSFGDS.GDSIDO.indx.7"><IndexTerm Id="OSFGDS.GDSIDO.indx.14" SpanEnd="OSFGDS.GDSIDO.indx.9"><IndexTerm Id="OSFGDS.GDSIDO.indx.15" SpanEnd="OSFGDS.GDSIDO.indx.8"></Para>
</Sect2>
</Sect1>
</Chapter>
<!--+ 09/15/96 22:27:15
    | tagMorph:  $Id: gds.install_daily_ops.sgm,v 1.1.2.7 1996/12/17 19:30:29 damon Exp $
    | tagMorph library:  $Id: gds.install_daily_ops.sgm,v 1.1.2.7 1996/12/17 19:30:29 damon Exp $
    | sml-to-docbook:  1.21
    +-->
